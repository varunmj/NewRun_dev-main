var XA=Object.defineProperty;var ZA=(t,e,n)=>e in t?XA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Tr=(t,e,n)=>ZA(t,typeof e!="symbol"?e+"":e,n);function QA(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(s,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Ty(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function JA(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var i=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:function(){return t[s]}})}),n}var u3={exports:{}},Vf={},h3={exports:{}},Xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var au=Symbol.for("react.element"),e8=Symbol.for("react.portal"),t8=Symbol.for("react.fragment"),n8=Symbol.for("react.strict_mode"),s8=Symbol.for("react.profiler"),r8=Symbol.for("react.provider"),i8=Symbol.for("react.context"),a8=Symbol.for("react.forward_ref"),o8=Symbol.for("react.suspense"),l8=Symbol.for("react.memo"),c8=Symbol.for("react.lazy"),Bw=Symbol.iterator;function d8(t){return t===null||typeof t!="object"?null:(t=Bw&&t[Bw]||t["@@iterator"],typeof t=="function"?t:null)}var p3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f3=Object.assign,m3={};function Ml(t,e,n){this.props=t,this.context=e,this.refs=m3,this.updater=n||p3}Ml.prototype.isReactComponent={};Ml.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ml.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function g3(){}g3.prototype=Ml.prototype;function Ly(t,e,n){this.props=t,this.context=e,this.refs=m3,this.updater=n||p3}var Ay=Ly.prototype=new g3;Ay.constructor=Ly;f3(Ay,Ml.prototype);Ay.isPureReactComponent=!0;var Uw=Array.isArray,x3=Object.prototype.hasOwnProperty,Iy={current:null},v3={key:!0,ref:!0,__self:!0,__source:!0};function y3(t,e,n){var s,i={},a=null,o=null;if(e!=null)for(s in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)x3.call(e,s)&&!v3.hasOwnProperty(s)&&(i[s]=e[s]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(s in l=t.defaultProps,l)i[s]===void 0&&(i[s]=l[s]);return{$$typeof:au,type:t,key:a,ref:o,props:i,_owner:Iy.current}}function u8(t,e){return{$$typeof:au,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Oy(t){return typeof t=="object"&&t!==null&&t.$$typeof===au}function h8(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Vw=/\/+/g;function $m(t,e){return typeof t=="object"&&t!==null&&t.key!=null?h8(""+t.key):e.toString(36)}function Th(t,e,n,s,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case au:case e8:o=!0}}if(o)return o=t,i=i(o),t=s===""?"."+$m(o,0):s,Uw(i)?(n="",t!=null&&(n=t.replace(Vw,"$&/")+"/"),Th(i,e,n,"",function(u){return u})):i!=null&&(Oy(i)&&(i=u8(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Vw,"$&/")+"/")+t)),e.push(i)),1;if(o=0,s=s===""?".":s+":",Uw(t))for(var l=0;l<t.length;l++){a=t[l];var c=s+$m(a,l);o+=Th(a,e,n,c,i)}else if(c=d8(t),typeof c=="function")for(t=c.call(t),l=0;!(a=t.next()).done;)a=a.value,c=s+$m(a,l++),o+=Th(a,e,n,c,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Pu(t,e,n){if(t==null)return t;var s=[],i=0;return Th(t,s,"","",function(a){return e.call(n,a,i++)}),s}function p8(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Dn={current:null},Lh={transition:null},f8={ReactCurrentDispatcher:Dn,ReactCurrentBatchConfig:Lh,ReactCurrentOwner:Iy};function b3(){throw Error("act(...) is not supported in production builds of React.")}Xe.Children={map:Pu,forEach:function(t,e,n){Pu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Pu(t,function(){e++}),e},toArray:function(t){return Pu(t,function(e){return e})||[]},only:function(t){if(!Oy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Xe.Component=Ml;Xe.Fragment=t8;Xe.Profiler=s8;Xe.PureComponent=Ly;Xe.StrictMode=n8;Xe.Suspense=o8;Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=f8;Xe.act=b3;Xe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=f3({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=Iy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)x3.call(e,c)&&!v3.hasOwnProperty(c)&&(s[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:au,type:t.type,key:i,ref:a,props:s,_owner:o}};Xe.createContext=function(t){return t={$$typeof:i8,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:r8,_context:t},t.Consumer=t};Xe.createElement=y3;Xe.createFactory=function(t){var e=y3.bind(null,t);return e.type=t,e};Xe.createRef=function(){return{current:null}};Xe.forwardRef=function(t){return{$$typeof:a8,render:t}};Xe.isValidElement=Oy;Xe.lazy=function(t){return{$$typeof:c8,_payload:{_status:-1,_result:t},_init:p8}};Xe.memo=function(t,e){return{$$typeof:l8,type:t,compare:e===void 0?null:e}};Xe.startTransition=function(t){var e=Lh.transition;Lh.transition={};try{t()}finally{Lh.transition=e}};Xe.unstable_act=b3;Xe.useCallback=function(t,e){return Dn.current.useCallback(t,e)};Xe.useContext=function(t){return Dn.current.useContext(t)};Xe.useDebugValue=function(){};Xe.useDeferredValue=function(t){return Dn.current.useDeferredValue(t)};Xe.useEffect=function(t,e){return Dn.current.useEffect(t,e)};Xe.useId=function(){return Dn.current.useId()};Xe.useImperativeHandle=function(t,e,n){return Dn.current.useImperativeHandle(t,e,n)};Xe.useInsertionEffect=function(t,e){return Dn.current.useInsertionEffect(t,e)};Xe.useLayoutEffect=function(t,e){return Dn.current.useLayoutEffect(t,e)};Xe.useMemo=function(t,e){return Dn.current.useMemo(t,e)};Xe.useReducer=function(t,e,n){return Dn.current.useReducer(t,e,n)};Xe.useRef=function(t){return Dn.current.useRef(t)};Xe.useState=function(t){return Dn.current.useState(t)};Xe.useSyncExternalStore=function(t,e,n){return Dn.current.useSyncExternalStore(t,e,n)};Xe.useTransition=function(){return Dn.current.useTransition()};Xe.version="18.3.1";h3.exports=Xe;var f=h3.exports;const _e=Ty(f),m8=QA({__proto__:null,default:_e},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g8=f,x8=Symbol.for("react.element"),v8=Symbol.for("react.fragment"),y8=Object.prototype.hasOwnProperty,b8=g8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,w8={key:!0,ref:!0,__self:!0,__source:!0};function w3(t,e,n){var s,i={},a=null,o=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(s in e)y8.call(e,s)&&!w8.hasOwnProperty(s)&&(i[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)i[s]===void 0&&(i[s]=e[s]);return{$$typeof:x8,type:t,key:a,ref:o,props:i,_owner:b8.current}}Vf.Fragment=v8;Vf.jsx=w3;Vf.jsxs=w3;u3.exports=Vf;var r=u3.exports,B0={},j3={exports:{}},fs={},N3={exports:{}},k3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(T,D){var R=T.length;T.push(D);e:for(;0<R;){var z=R-1>>>1,q=T[z];if(0<i(q,D))T[z]=D,T[R]=q,R=z;else break e}}function n(T){return T.length===0?null:T[0]}function s(T){if(T.length===0)return null;var D=T[0],R=T.pop();if(R!==D){T[0]=R;e:for(var z=0,q=T.length,H=q>>>1;z<H;){var U=2*(z+1)-1,B=T[U],V=U+1,G=T[V];if(0>i(B,R))V<q&&0>i(G,B)?(T[z]=G,T[V]=R,z=V):(T[z]=B,T[U]=R,z=U);else if(V<q&&0>i(G,R))T[z]=G,T[V]=R,z=V;else break e}}return D}function i(T,D){var R=T.sortIndex-D.sortIndex;return R!==0?R:T.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,p=3,m=!1,g=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(T){for(var D=n(u);D!==null;){if(D.callback===null)s(u);else if(D.startTime<=T)s(u),D.sortIndex=D.expirationTime,e(c,D);else break;D=n(u)}}function k(T){if(x=!1,w(T),!g)if(n(c)!==null)g=!0,P(N);else{var D=n(u);D!==null&&E(k,D.startTime-T)}}function N(T,D){g=!1,x&&(x=!1,v(j),j=-1),m=!0;var R=p;try{for(w(D),h=n(c);h!==null&&(!(h.expirationTime>D)||T&&!O());){var z=h.callback;if(typeof z=="function"){h.callback=null,p=h.priorityLevel;var q=z(h.expirationTime<=D);D=t.unstable_now(),typeof q=="function"?h.callback=q:h===n(c)&&s(c),w(D)}else s(c);h=n(c)}if(h!==null)var H=!0;else{var U=n(u);U!==null&&E(k,U.startTime-D),H=!1}return H}finally{h=null,p=R,m=!1}}var S=!1,M=null,j=-1,C=5,L=-1;function O(){return!(t.unstable_now()-L<C)}function F(){if(M!==null){var T=t.unstable_now();L=T;var D=!0;try{D=M(!0,T)}finally{D?$():(S=!1,M=null)}}else S=!1}var $;if(typeof y=="function")$=function(){y(F)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,_=I.port2;I.port1.onmessage=F,$=function(){_.postMessage(null)}}else $=function(){b(F,0)};function P(T){M=T,S||(S=!0,$())}function E(T,D){j=b(function(){T(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,P(N))},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(T){switch(p){case 1:case 2:case 3:var D=3;break;default:D=p}var R=p;p=D;try{return T()}finally{p=R}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(T,D){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var R=p;p=T;try{return D()}finally{p=R}},t.unstable_scheduleCallback=function(T,D,R){var z=t.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?z+R:z):R=z,T){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=R+q,T={id:d++,callback:D,priorityLevel:T,startTime:R,expirationTime:q,sortIndex:-1},R>z?(T.sortIndex=R,e(u,T),n(c)===null&&T===n(u)&&(x?(v(j),j=-1):x=!0,E(k,R-z))):(T.sortIndex=q,e(c,T),g||m||(g=!0,P(N))),T},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(T){var D=p;return function(){var R=p;p=D;try{return T.apply(this,arguments)}finally{p=R}}}})(k3);N3.exports=k3;var j8=N3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N8=f,ds=j8;function ke(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var S3=new Set,pd={};function eo(t,e){cl(t,e),cl(t+"Capture",e)}function cl(t,e){for(pd[t]=e,t=0;t<e.length;t++)S3.add(e[t])}var Wr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),U0=Object.prototype.hasOwnProperty,k8=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ww={},Hw={};function S8(t){return U0.call(Hw,t)?!0:U0.call(Ww,t)?!1:k8.test(t)?Hw[t]=!0:(Ww[t]=!0,!1)}function C8(t,e,n,s){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function E8(t,e,n,s){if(e===null||typeof e>"u"||C8(t,e,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function $n(t,e,n,s,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var fn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){fn[t]=new $n(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];fn[e]=new $n(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){fn[t]=new $n(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){fn[t]=new $n(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){fn[t]=new $n(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){fn[t]=new $n(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){fn[t]=new $n(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){fn[t]=new $n(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){fn[t]=new $n(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ry=/[\-:]([a-z])/g;function Dy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ry,Dy);fn[e]=new $n(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ry,Dy);fn[e]=new $n(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ry,Dy);fn[e]=new $n(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){fn[t]=new $n(t,1,!1,t.toLowerCase(),null,!1,!1)});fn.xlinkHref=new $n("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){fn[t]=new $n(t,1,!1,t.toLowerCase(),null,!0,!0)});function $y(t,e,n,s){var i=fn.hasOwnProperty(e)?fn[e]:null;(i!==null?i.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(E8(e,n,i,s)&&(n=null),s||i===null?S8(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,s=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,s?t.setAttributeNS(s,e,n):t.setAttribute(e,n))))}var Qr=N8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_u=Symbol.for("react.element"),wo=Symbol.for("react.portal"),jo=Symbol.for("react.fragment"),Fy=Symbol.for("react.strict_mode"),V0=Symbol.for("react.profiler"),C3=Symbol.for("react.provider"),E3=Symbol.for("react.context"),zy=Symbol.for("react.forward_ref"),W0=Symbol.for("react.suspense"),H0=Symbol.for("react.suspense_list"),By=Symbol.for("react.memo"),di=Symbol.for("react.lazy"),P3=Symbol.for("react.offscreen"),qw=Symbol.iterator;function Yl(t){return t===null||typeof t!="object"?null:(t=qw&&t[qw]||t["@@iterator"],typeof t=="function"?t:null)}var At=Object.assign,Fm;function jc(t){if(Fm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Fm=e&&e[1]||""}return`
`+Fm+t}var zm=!1;function Bm(t,e){if(!t||zm)return"";zm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var s=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){s=u}t.call(e.prototype)}else{try{throw Error()}catch(u){s=u}t()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=s.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{zm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?jc(t):""}function P8(t){switch(t.tag){case 5:return jc(t.type);case 16:return jc("Lazy");case 13:return jc("Suspense");case 19:return jc("SuspenseList");case 0:case 2:case 15:return t=Bm(t.type,!1),t;case 11:return t=Bm(t.type.render,!1),t;case 1:return t=Bm(t.type,!0),t;default:return""}}function q0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case jo:return"Fragment";case wo:return"Portal";case V0:return"Profiler";case Fy:return"StrictMode";case W0:return"Suspense";case H0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case E3:return(t.displayName||"Context")+".Consumer";case C3:return(t._context.displayName||"Context")+".Provider";case zy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case By:return e=t.displayName||null,e!==null?e:q0(t.type)||"Memo";case di:e=t._payload,t=t._init;try{return q0(t(e))}catch{}}return null}function _8(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q0(e);case 8:return e===Fy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function zi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _3(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function M8(t){var e=_3(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){s=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Mu(t){t._valueTracker||(t._valueTracker=M8(t))}function M3(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=_3(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function gp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function K0(t,e){var n=e.checked;return At({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Kw(t,e){var n=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;n=zi(e.value!=null?e.value:n),t._wrapperState={initialChecked:s,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function T3(t,e){e=e.checked,e!=null&&$y(t,"checked",e,!1)}function G0(t,e){T3(t,e);var n=zi(e.value),s=e.type;if(n!=null)s==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Y0(t,e.type,n):e.hasOwnProperty("defaultValue")&&Y0(t,e.type,zi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Gw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Y0(t,e,n){(e!=="number"||gp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Nc=Array.isArray;function Zo(t,e,n,s){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&s&&(t[n].defaultSelected=!0)}else{for(n=""+zi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,s&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function X0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ke(91));return At({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Yw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ke(92));if(Nc(n)){if(1<n.length)throw Error(ke(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:zi(n)}}function L3(t,e){var n=zi(e.value),s=zi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),s!=null&&(t.defaultValue=""+s)}function Xw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function A3(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Z0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?A3(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Tu,I3=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,s,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,s,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Tu=Tu||document.createElement("div"),Tu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Tu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function fd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var $c={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},T8=["Webkit","ms","Moz","O"];Object.keys($c).forEach(function(t){T8.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),$c[e]=$c[t]})});function O3(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||$c.hasOwnProperty(t)&&$c[t]?(""+e).trim():e+"px"}function R3(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var s=n.indexOf("--")===0,i=O3(n,e[n],s);n==="float"&&(n="cssFloat"),s?t.setProperty(n,i):t[n]=i}}var L8=At({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Q0(t,e){if(e){if(L8[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ke(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ke(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ke(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ke(62))}}function J0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ex=null;function Uy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var tx=null,Qo=null,Jo=null;function Zw(t){if(t=cu(t)){if(typeof tx!="function")throw Error(ke(280));var e=t.stateNode;e&&(e=Gf(e),tx(t.stateNode,t.type,e))}}function D3(t){Qo?Jo?Jo.push(t):Jo=[t]:Qo=t}function $3(){if(Qo){var t=Qo,e=Jo;if(Jo=Qo=null,Zw(t),e)for(t=0;t<e.length;t++)Zw(e[t])}}function F3(t,e){return t(e)}function z3(){}var Um=!1;function B3(t,e,n){if(Um)return t(e,n);Um=!0;try{return F3(t,e,n)}finally{Um=!1,(Qo!==null||Jo!==null)&&(z3(),$3())}}function md(t,e){var n=t.stateNode;if(n===null)return null;var s=Gf(n);if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ke(231,e,typeof n));return n}var nx=!1;if(Wr)try{var Xl={};Object.defineProperty(Xl,"passive",{get:function(){nx=!0}}),window.addEventListener("test",Xl,Xl),window.removeEventListener("test",Xl,Xl)}catch{nx=!1}function A8(t,e,n,s,i,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Fc=!1,xp=null,vp=!1,sx=null,I8={onError:function(t){Fc=!0,xp=t}};function O8(t,e,n,s,i,a,o,l,c){Fc=!1,xp=null,A8.apply(I8,arguments)}function R8(t,e,n,s,i,a,o,l,c){if(O8.apply(this,arguments),Fc){if(Fc){var u=xp;Fc=!1,xp=null}else throw Error(ke(198));vp||(vp=!0,sx=u)}}function to(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function U3(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Qw(t){if(to(t)!==t)throw Error(ke(188))}function D8(t){var e=t.alternate;if(!e){if(e=to(t),e===null)throw Error(ke(188));return e!==t?null:t}for(var n=t,s=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(s=i.return,s!==null){n=s;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Qw(i),t;if(a===s)return Qw(i),e;a=a.sibling}throw Error(ke(188))}if(n.return!==s.return)n=i,s=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,s=a;break}if(l===s){o=!0,s=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,s=i;break}if(l===s){o=!0,s=a,n=i;break}l=l.sibling}if(!o)throw Error(ke(189))}}if(n.alternate!==s)throw Error(ke(190))}if(n.tag!==3)throw Error(ke(188));return n.stateNode.current===n?t:e}function V3(t){return t=D8(t),t!==null?W3(t):null}function W3(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=W3(t);if(e!==null)return e;t=t.sibling}return null}var H3=ds.unstable_scheduleCallback,Jw=ds.unstable_cancelCallback,$8=ds.unstable_shouldYield,F8=ds.unstable_requestPaint,Wt=ds.unstable_now,z8=ds.unstable_getCurrentPriorityLevel,Vy=ds.unstable_ImmediatePriority,q3=ds.unstable_UserBlockingPriority,yp=ds.unstable_NormalPriority,B8=ds.unstable_LowPriority,K3=ds.unstable_IdlePriority,Wf=null,yr=null;function U8(t){if(yr&&typeof yr.onCommitFiberRoot=="function")try{yr.onCommitFiberRoot(Wf,t,void 0,(t.current.flags&128)===128)}catch{}}var Xs=Math.clz32?Math.clz32:H8,V8=Math.log,W8=Math.LN2;function H8(t){return t>>>=0,t===0?32:31-(V8(t)/W8|0)|0}var Lu=64,Au=4194304;function kc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function bp(t,e){var n=t.pendingLanes;if(n===0)return 0;var s=0,i=t.suspendedLanes,a=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?s=kc(l):(a&=o,a!==0&&(s=kc(a)))}else o=n&~i,o!==0?s=kc(o):a!==0&&(s=kc(a));if(s===0)return 0;if(e!==0&&e!==s&&!(e&i)&&(i=s&-s,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(s&4&&(s|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=s;0<e;)n=31-Xs(e),i=1<<n,s|=t[n],e&=~i;return s}function q8(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function K8(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-Xs(a),l=1<<o,c=i[o];c===-1?(!(l&n)||l&s)&&(i[o]=q8(l,e)):c<=e&&(t.expiredLanes|=l),a&=~l}}function rx(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function G3(){var t=Lu;return Lu<<=1,!(Lu&4194240)&&(Lu=64),t}function Vm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ou(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Xs(e),t[e]=n}function G8(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Xs(n),a=1<<i;e[i]=0,s[i]=-1,t[i]=-1,n&=~a}}function Wy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-Xs(n),i=1<<s;i&e|t[s]&e&&(t[s]|=e),n&=~i}}var at=0;function Y3(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var X3,Hy,Z3,Q3,J3,ix=!1,Iu=[],Pi=null,_i=null,Mi=null,gd=new Map,xd=new Map,mi=[],Y8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function e2(t,e){switch(t){case"focusin":case"focusout":Pi=null;break;case"dragenter":case"dragleave":_i=null;break;case"mouseover":case"mouseout":Mi=null;break;case"pointerover":case"pointerout":gd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":xd.delete(e.pointerId)}}function Zl(t,e,n,s,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:a,targetContainers:[i]},e!==null&&(e=cu(e),e!==null&&Hy(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function X8(t,e,n,s,i){switch(e){case"focusin":return Pi=Zl(Pi,t,e,n,s,i),!0;case"dragenter":return _i=Zl(_i,t,e,n,s,i),!0;case"mouseover":return Mi=Zl(Mi,t,e,n,s,i),!0;case"pointerover":var a=i.pointerId;return gd.set(a,Zl(gd.get(a)||null,t,e,n,s,i)),!0;case"gotpointercapture":return a=i.pointerId,xd.set(a,Zl(xd.get(a)||null,t,e,n,s,i)),!0}return!1}function eC(t){var e=ya(t.target);if(e!==null){var n=to(e);if(n!==null){if(e=n.tag,e===13){if(e=U3(n),e!==null){t.blockedOn=e,J3(t.priority,function(){Z3(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ah(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ax(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);ex=s,n.target.dispatchEvent(s),ex=null}else return e=cu(n),e!==null&&Hy(e),t.blockedOn=n,!1;e.shift()}return!0}function t2(t,e,n){Ah(t)&&n.delete(e)}function Z8(){ix=!1,Pi!==null&&Ah(Pi)&&(Pi=null),_i!==null&&Ah(_i)&&(_i=null),Mi!==null&&Ah(Mi)&&(Mi=null),gd.forEach(t2),xd.forEach(t2)}function Ql(t,e){t.blockedOn===e&&(t.blockedOn=null,ix||(ix=!0,ds.unstable_scheduleCallback(ds.unstable_NormalPriority,Z8)))}function vd(t){function e(i){return Ql(i,t)}if(0<Iu.length){Ql(Iu[0],t);for(var n=1;n<Iu.length;n++){var s=Iu[n];s.blockedOn===t&&(s.blockedOn=null)}}for(Pi!==null&&Ql(Pi,t),_i!==null&&Ql(_i,t),Mi!==null&&Ql(Mi,t),gd.forEach(e),xd.forEach(e),n=0;n<mi.length;n++)s=mi[n],s.blockedOn===t&&(s.blockedOn=null);for(;0<mi.length&&(n=mi[0],n.blockedOn===null);)eC(n),n.blockedOn===null&&mi.shift()}var el=Qr.ReactCurrentBatchConfig,wp=!0;function Q8(t,e,n,s){var i=at,a=el.transition;el.transition=null;try{at=1,qy(t,e,n,s)}finally{at=i,el.transition=a}}function J8(t,e,n,s){var i=at,a=el.transition;el.transition=null;try{at=4,qy(t,e,n,s)}finally{at=i,el.transition=a}}function qy(t,e,n,s){if(wp){var i=ax(t,e,n,s);if(i===null)Jm(t,e,s,jp,n),e2(t,s);else if(X8(i,t,e,n,s))s.stopPropagation();else if(e2(t,s),e&4&&-1<Y8.indexOf(t)){for(;i!==null;){var a=cu(i);if(a!==null&&X3(a),a=ax(t,e,n,s),a===null&&Jm(t,e,s,jp,n),a===i)break;i=a}i!==null&&s.stopPropagation()}else Jm(t,e,s,null,n)}}var jp=null;function ax(t,e,n,s){if(jp=null,t=Uy(s),t=ya(t),t!==null)if(e=to(t),e===null)t=null;else if(n=e.tag,n===13){if(t=U3(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return jp=t,null}function tC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(z8()){case Vy:return 1;case q3:return 4;case yp:case B8:return 16;case K3:return 536870912;default:return 16}default:return 16}}var vi=null,Ky=null,Ih=null;function nC(){if(Ih)return Ih;var t,e=Ky,n=e.length,s,i="value"in vi?vi.value:vi.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(s=1;s<=o&&e[n-s]===i[a-s];s++);return Ih=i.slice(t,1<s?1-s:void 0)}function Oh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ou(){return!0}function n2(){return!1}function ms(t){function e(n,s,i,a,o){this._reactName=n,this._targetInst=i,this.type=s,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Ou:n2,this.isPropagationStopped=n2,this}return At(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ou)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ou)},persist:function(){},isPersistent:Ou}),e}var Tl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gy=ms(Tl),lu=At({},Tl,{view:0,detail:0}),eI=ms(lu),Wm,Hm,Jl,Hf=At({},lu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Jl&&(Jl&&t.type==="mousemove"?(Wm=t.screenX-Jl.screenX,Hm=t.screenY-Jl.screenY):Hm=Wm=0,Jl=t),Wm)},movementY:function(t){return"movementY"in t?t.movementY:Hm}}),s2=ms(Hf),tI=At({},Hf,{dataTransfer:0}),nI=ms(tI),sI=At({},lu,{relatedTarget:0}),qm=ms(sI),rI=At({},Tl,{animationName:0,elapsedTime:0,pseudoElement:0}),iI=ms(rI),aI=At({},Tl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),oI=ms(aI),lI=At({},Tl,{data:0}),r2=ms(lI),cI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=uI[t])?!!e[t]:!1}function Yy(){return hI}var pI=At({},lu,{key:function(t){if(t.key){var e=cI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Oh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?dI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yy,charCode:function(t){return t.type==="keypress"?Oh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Oh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),fI=ms(pI),mI=At({},Hf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),i2=ms(mI),gI=At({},lu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yy}),xI=ms(gI),vI=At({},Tl,{propertyName:0,elapsedTime:0,pseudoElement:0}),yI=ms(vI),bI=At({},Hf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),wI=ms(bI),jI=[9,13,27,32],Xy=Wr&&"CompositionEvent"in window,zc=null;Wr&&"documentMode"in document&&(zc=document.documentMode);var NI=Wr&&"TextEvent"in window&&!zc,sC=Wr&&(!Xy||zc&&8<zc&&11>=zc),a2=" ",o2=!1;function rC(t,e){switch(t){case"keyup":return jI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var No=!1;function kI(t,e){switch(t){case"compositionend":return iC(e);case"keypress":return e.which!==32?null:(o2=!0,a2);case"textInput":return t=e.data,t===a2&&o2?null:t;default:return null}}function SI(t,e){if(No)return t==="compositionend"||!Xy&&rC(t,e)?(t=nC(),Ih=Ky=vi=null,No=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return sC&&e.locale!=="ko"?null:e.data;default:return null}}var CI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function l2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!CI[t.type]:e==="textarea"}function aC(t,e,n,s){D3(s),e=Np(e,"onChange"),0<e.length&&(n=new Gy("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var Bc=null,yd=null;function EI(t){xC(t,0)}function qf(t){var e=Co(t);if(M3(e))return t}function PI(t,e){if(t==="change")return e}var oC=!1;if(Wr){var Km;if(Wr){var Gm="oninput"in document;if(!Gm){var c2=document.createElement("div");c2.setAttribute("oninput","return;"),Gm=typeof c2.oninput=="function"}Km=Gm}else Km=!1;oC=Km&&(!document.documentMode||9<document.documentMode)}function d2(){Bc&&(Bc.detachEvent("onpropertychange",lC),yd=Bc=null)}function lC(t){if(t.propertyName==="value"&&qf(yd)){var e=[];aC(e,yd,t,Uy(t)),B3(EI,e)}}function _I(t,e,n){t==="focusin"?(d2(),Bc=e,yd=n,Bc.attachEvent("onpropertychange",lC)):t==="focusout"&&d2()}function MI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return qf(yd)}function TI(t,e){if(t==="click")return qf(e)}function LI(t,e){if(t==="input"||t==="change")return qf(e)}function AI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Js=typeof Object.is=="function"?Object.is:AI;function bd(t,e){if(Js(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var i=n[s];if(!U0.call(e,i)||!Js(t[i],e[i]))return!1}return!0}function u2(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function h2(t,e){var n=u2(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=u2(n)}}function cC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?cC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function dC(){for(var t=window,e=gp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=gp(t.document)}return e}function Zy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function II(t){var e=dC(),n=t.focusedElem,s=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&cC(n.ownerDocument.documentElement,n)){if(s!==null&&Zy(n)){if(e=s.start,t=s.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(s.start,i);s=s.end===void 0?a:Math.min(s.end,i),!t.extend&&a>s&&(i=s,s=a,a=i),i=h2(n,a);var o=h2(n,s);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>s?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var OI=Wr&&"documentMode"in document&&11>=document.documentMode,ko=null,ox=null,Uc=null,lx=!1;function p2(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;lx||ko==null||ko!==gp(s)||(s=ko,"selectionStart"in s&&Zy(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Uc&&bd(Uc,s)||(Uc=s,s=Np(ox,"onSelect"),0<s.length&&(e=new Gy("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=ko)))}function Ru(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var So={animationend:Ru("Animation","AnimationEnd"),animationiteration:Ru("Animation","AnimationIteration"),animationstart:Ru("Animation","AnimationStart"),transitionend:Ru("Transition","TransitionEnd")},Ym={},uC={};Wr&&(uC=document.createElement("div").style,"AnimationEvent"in window||(delete So.animationend.animation,delete So.animationiteration.animation,delete So.animationstart.animation),"TransitionEvent"in window||delete So.transitionend.transition);function Kf(t){if(Ym[t])return Ym[t];if(!So[t])return t;var e=So[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in uC)return Ym[t]=e[n];return t}var hC=Kf("animationend"),pC=Kf("animationiteration"),fC=Kf("animationstart"),mC=Kf("transitionend"),gC=new Map,f2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ki(t,e){gC.set(t,e),eo(e,[t])}for(var Xm=0;Xm<f2.length;Xm++){var Zm=f2[Xm],RI=Zm.toLowerCase(),DI=Zm[0].toUpperCase()+Zm.slice(1);Ki(RI,"on"+DI)}Ki(hC,"onAnimationEnd");Ki(pC,"onAnimationIteration");Ki(fC,"onAnimationStart");Ki("dblclick","onDoubleClick");Ki("focusin","onFocus");Ki("focusout","onBlur");Ki(mC,"onTransitionEnd");cl("onMouseEnter",["mouseout","mouseover"]);cl("onMouseLeave",["mouseout","mouseover"]);cl("onPointerEnter",["pointerout","pointerover"]);cl("onPointerLeave",["pointerout","pointerover"]);eo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));eo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));eo("onBeforeInput",["compositionend","keypress","textInput","paste"]);eo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));eo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));eo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$I=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sc));function m2(t,e,n){var s=t.type||"unknown-event";t.currentTarget=n,R8(s,e,void 0,t),t.currentTarget=null}function xC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],i=s.event;s=s.listeners;e:{var a=void 0;if(e)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;m2(i,l,u),a=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;m2(i,l,u),a=c}}}if(vp)throw t=sx,vp=!1,sx=null,t}function vt(t,e){var n=e[px];n===void 0&&(n=e[px]=new Set);var s=t+"__bubble";n.has(s)||(vC(e,t,2,!1),n.add(s))}function Qm(t,e,n){var s=0;e&&(s|=4),vC(n,t,s,e)}var Du="_reactListening"+Math.random().toString(36).slice(2);function wd(t){if(!t[Du]){t[Du]=!0,S3.forEach(function(n){n!=="selectionchange"&&($I.has(n)||Qm(n,!1,t),Qm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Du]||(e[Du]=!0,Qm("selectionchange",!1,e))}}function vC(t,e,n,s){switch(tC(e)){case 1:var i=Q8;break;case 4:i=J8;break;default:i=qy}n=i.bind(null,e,n,t),i=void 0,!nx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),s?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Jm(t,e,n,s,i){var a=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=ya(l),o===null)return;if(c=o.tag,c===5||c===6){s=a=o;continue e}l=l.parentNode}}s=s.return}B3(function(){var u=a,d=Uy(n),h=[];e:{var p=gC.get(t);if(p!==void 0){var m=Gy,g=t;switch(t){case"keypress":if(Oh(n)===0)break e;case"keydown":case"keyup":m=fI;break;case"focusin":g="focus",m=qm;break;case"focusout":g="blur",m=qm;break;case"beforeblur":case"afterblur":m=qm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=s2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=nI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=xI;break;case hC:case pC:case fC:m=iI;break;case mC:m=yI;break;case"scroll":m=eI;break;case"wheel":m=wI;break;case"copy":case"cut":case"paste":m=oI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=i2}var x=(e&4)!==0,b=!x&&t==="scroll",v=x?p!==null?p+"Capture":null:p;x=[];for(var y=u,w;y!==null;){w=y;var k=w.stateNode;if(w.tag===5&&k!==null&&(w=k,v!==null&&(k=md(y,v),k!=null&&x.push(jd(y,k,w)))),b)break;y=y.return}0<x.length&&(p=new m(p,g,null,n,d),h.push({event:p,listeners:x}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==ex&&(g=n.relatedTarget||n.fromElement)&&(ya(g)||g[Hr]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=u,g=g?ya(g):null,g!==null&&(b=to(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(x=s2,k="onMouseLeave",v="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(x=i2,k="onPointerLeave",v="onPointerEnter",y="pointer"),b=m==null?p:Co(m),w=g==null?p:Co(g),p=new x(k,y+"leave",m,n,d),p.target=b,p.relatedTarget=w,k=null,ya(d)===u&&(x=new x(v,y+"enter",g,n,d),x.target=w,x.relatedTarget=b,k=x),b=k,m&&g)t:{for(x=m,v=g,y=0,w=x;w;w=lo(w))y++;for(w=0,k=v;k;k=lo(k))w++;for(;0<y-w;)x=lo(x),y--;for(;0<w-y;)v=lo(v),w--;for(;y--;){if(x===v||v!==null&&x===v.alternate)break t;x=lo(x),v=lo(v)}x=null}else x=null;m!==null&&g2(h,p,m,x,!1),g!==null&&b!==null&&g2(h,b,g,x,!0)}}e:{if(p=u?Co(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var N=PI;else if(l2(p))if(oC)N=LI;else{N=MI;var S=_I}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(N=TI);if(N&&(N=N(t,u))){aC(h,N,n,d);break e}S&&S(t,p,u),t==="focusout"&&(S=p._wrapperState)&&S.controlled&&p.type==="number"&&Y0(p,"number",p.value)}switch(S=u?Co(u):window,t){case"focusin":(l2(S)||S.contentEditable==="true")&&(ko=S,ox=u,Uc=null);break;case"focusout":Uc=ox=ko=null;break;case"mousedown":lx=!0;break;case"contextmenu":case"mouseup":case"dragend":lx=!1,p2(h,n,d);break;case"selectionchange":if(OI)break;case"keydown":case"keyup":p2(h,n,d)}var M;if(Xy)e:{switch(t){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else No?rC(t,n)&&(j="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(sC&&n.locale!=="ko"&&(No||j!=="onCompositionStart"?j==="onCompositionEnd"&&No&&(M=nC()):(vi=d,Ky="value"in vi?vi.value:vi.textContent,No=!0)),S=Np(u,j),0<S.length&&(j=new r2(j,t,null,n,d),h.push({event:j,listeners:S}),M?j.data=M:(M=iC(n),M!==null&&(j.data=M)))),(M=NI?kI(t,n):SI(t,n))&&(u=Np(u,"onBeforeInput"),0<u.length&&(d=new r2("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=M))}xC(h,e)})}function jd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Np(t,e){for(var n=e+"Capture",s=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=md(t,n),a!=null&&s.unshift(jd(t,a,i)),a=md(t,e),a!=null&&s.push(jd(t,a,i))),t=t.return}return s}function lo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function g2(t,e,n,s,i){for(var a=e._reactName,o=[];n!==null&&n!==s;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&u!==null&&(l=u,i?(c=md(n,a),c!=null&&o.unshift(jd(n,c,l))):i||(c=md(n,a),c!=null&&o.push(jd(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var FI=/\r\n?/g,zI=/\u0000|\uFFFD/g;function x2(t){return(typeof t=="string"?t:""+t).replace(FI,`
`).replace(zI,"")}function $u(t,e,n){if(e=x2(e),x2(t)!==e&&n)throw Error(ke(425))}function kp(){}var cx=null,dx=null;function ux(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var hx=typeof setTimeout=="function"?setTimeout:void 0,BI=typeof clearTimeout=="function"?clearTimeout:void 0,v2=typeof Promise=="function"?Promise:void 0,UI=typeof queueMicrotask=="function"?queueMicrotask:typeof v2<"u"?function(t){return v2.resolve(null).then(t).catch(VI)}:hx;function VI(t){setTimeout(function(){throw t})}function eg(t,e){var n=e,s=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(s===0){t.removeChild(i),vd(e);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=i}while(n);vd(e)}function Ti(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function y2(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ll=Math.random().toString(36).slice(2),mr="__reactFiber$"+Ll,Nd="__reactProps$"+Ll,Hr="__reactContainer$"+Ll,px="__reactEvents$"+Ll,WI="__reactListeners$"+Ll,HI="__reactHandles$"+Ll;function ya(t){var e=t[mr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Hr]||n[mr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=y2(t);t!==null;){if(n=t[mr])return n;t=y2(t)}return e}t=n,n=t.parentNode}return null}function cu(t){return t=t[mr]||t[Hr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Co(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ke(33))}function Gf(t){return t[Nd]||null}var fx=[],Eo=-1;function Gi(t){return{current:t}}function yt(t){0>Eo||(t.current=fx[Eo],fx[Eo]=null,Eo--)}function gt(t,e){Eo++,fx[Eo]=t.current,t.current=e}var Bi={},Pn=Gi(Bi),Hn=Gi(!1),Wa=Bi;function dl(t,e){var n=t.type.contextTypes;if(!n)return Bi;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function qn(t){return t=t.childContextTypes,t!=null}function Sp(){yt(Hn),yt(Pn)}function b2(t,e,n){if(Pn.current!==Bi)throw Error(ke(168));gt(Pn,e),gt(Hn,n)}function yC(t,e,n){var s=t.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var i in s)if(!(i in e))throw Error(ke(108,_8(t)||"Unknown",i));return At({},n,s)}function Cp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Bi,Wa=Pn.current,gt(Pn,t),gt(Hn,Hn.current),!0}function w2(t,e,n){var s=t.stateNode;if(!s)throw Error(ke(169));n?(t=yC(t,e,Wa),s.__reactInternalMemoizedMergedChildContext=t,yt(Hn),yt(Pn),gt(Pn,t)):yt(Hn),gt(Hn,n)}var Dr=null,Yf=!1,tg=!1;function bC(t){Dr===null?Dr=[t]:Dr.push(t)}function qI(t){Yf=!0,bC(t)}function Yi(){if(!tg&&Dr!==null){tg=!0;var t=0,e=at;try{var n=Dr;for(at=1;t<n.length;t++){var s=n[t];do s=s(!0);while(s!==null)}Dr=null,Yf=!1}catch(i){throw Dr!==null&&(Dr=Dr.slice(t+1)),H3(Vy,Yi),i}finally{at=e,tg=!1}}return null}var Po=[],_o=0,Ep=null,Pp=0,ks=[],Ss=0,Ha=null,Fr=1,zr="";function ca(t,e){Po[_o++]=Pp,Po[_o++]=Ep,Ep=t,Pp=e}function wC(t,e,n){ks[Ss++]=Fr,ks[Ss++]=zr,ks[Ss++]=Ha,Ha=t;var s=Fr;t=zr;var i=32-Xs(s)-1;s&=~(1<<i),n+=1;var a=32-Xs(e)+i;if(30<a){var o=i-i%5;a=(s&(1<<o)-1).toString(32),s>>=o,i-=o,Fr=1<<32-Xs(e)+i|n<<i|s,zr=a+t}else Fr=1<<a|n<<i|s,zr=t}function Qy(t){t.return!==null&&(ca(t,1),wC(t,1,0))}function Jy(t){for(;t===Ep;)Ep=Po[--_o],Po[_o]=null,Pp=Po[--_o],Po[_o]=null;for(;t===Ha;)Ha=ks[--Ss],ks[Ss]=null,zr=ks[--Ss],ks[Ss]=null,Fr=ks[--Ss],ks[Ss]=null}var ls=null,as=null,Nt=!1,Ys=null;function jC(t,e){var n=Es(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function j2(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ls=t,as=Ti(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ls=t,as=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ha!==null?{id:Fr,overflow:zr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Es(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ls=t,as=null,!0):!1;default:return!1}}function mx(t){return(t.mode&1)!==0&&(t.flags&128)===0}function gx(t){if(Nt){var e=as;if(e){var n=e;if(!j2(t,e)){if(mx(t))throw Error(ke(418));e=Ti(n.nextSibling);var s=ls;e&&j2(t,e)?jC(s,n):(t.flags=t.flags&-4097|2,Nt=!1,ls=t)}}else{if(mx(t))throw Error(ke(418));t.flags=t.flags&-4097|2,Nt=!1,ls=t}}}function N2(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ls=t}function Fu(t){if(t!==ls)return!1;if(!Nt)return N2(t),Nt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ux(t.type,t.memoizedProps)),e&&(e=as)){if(mx(t))throw NC(),Error(ke(418));for(;e;)jC(t,e),e=Ti(e.nextSibling)}if(N2(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ke(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){as=Ti(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}as=null}}else as=ls?Ti(t.stateNode.nextSibling):null;return!0}function NC(){for(var t=as;t;)t=Ti(t.nextSibling)}function ul(){as=ls=null,Nt=!1}function e1(t){Ys===null?Ys=[t]:Ys.push(t)}var KI=Qr.ReactCurrentBatchConfig;function ec(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ke(309));var s=n.stateNode}if(!s)throw Error(ke(147,t));var i=s,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(ke(284));if(!n._owner)throw Error(ke(290,t))}return t}function zu(t,e){throw t=Object.prototype.toString.call(e),Error(ke(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function k2(t){var e=t._init;return e(t._payload)}function kC(t){function e(v,y){if(t){var w=v.deletions;w===null?(v.deletions=[y],v.flags|=16):w.push(y)}}function n(v,y){if(!t)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function s(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function i(v,y){return v=Oi(v,y),v.index=0,v.sibling=null,v}function a(v,y,w){return v.index=w,t?(w=v.alternate,w!==null?(w=w.index,w<y?(v.flags|=2,y):w):(v.flags|=2,y)):(v.flags|=1048576,y)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function l(v,y,w,k){return y===null||y.tag!==6?(y=lg(w,v.mode,k),y.return=v,y):(y=i(y,w),y.return=v,y)}function c(v,y,w,k){var N=w.type;return N===jo?d(v,y,w.props.children,k,w.key):y!==null&&(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===di&&k2(N)===y.type)?(k=i(y,w.props),k.ref=ec(v,y,w),k.return=v,k):(k=Uh(w.type,w.key,w.props,null,v.mode,k),k.ref=ec(v,y,w),k.return=v,k)}function u(v,y,w,k){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=cg(w,v.mode,k),y.return=v,y):(y=i(y,w.children||[]),y.return=v,y)}function d(v,y,w,k,N){return y===null||y.tag!==7?(y=Ma(w,v.mode,k,N),y.return=v,y):(y=i(y,w),y.return=v,y)}function h(v,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=lg(""+y,v.mode,w),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case _u:return w=Uh(y.type,y.key,y.props,null,v.mode,w),w.ref=ec(v,null,y),w.return=v,w;case wo:return y=cg(y,v.mode,w),y.return=v,y;case di:var k=y._init;return h(v,k(y._payload),w)}if(Nc(y)||Yl(y))return y=Ma(y,v.mode,w,null),y.return=v,y;zu(v,y)}return null}function p(v,y,w,k){var N=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return N!==null?null:l(v,y,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case _u:return w.key===N?c(v,y,w,k):null;case wo:return w.key===N?u(v,y,w,k):null;case di:return N=w._init,p(v,y,N(w._payload),k)}if(Nc(w)||Yl(w))return N!==null?null:d(v,y,w,k,null);zu(v,w)}return null}function m(v,y,w,k,N){if(typeof k=="string"&&k!==""||typeof k=="number")return v=v.get(w)||null,l(y,v,""+k,N);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case _u:return v=v.get(k.key===null?w:k.key)||null,c(y,v,k,N);case wo:return v=v.get(k.key===null?w:k.key)||null,u(y,v,k,N);case di:var S=k._init;return m(v,y,w,S(k._payload),N)}if(Nc(k)||Yl(k))return v=v.get(w)||null,d(y,v,k,N,null);zu(y,k)}return null}function g(v,y,w,k){for(var N=null,S=null,M=y,j=y=0,C=null;M!==null&&j<w.length;j++){M.index>j?(C=M,M=null):C=M.sibling;var L=p(v,M,w[j],k);if(L===null){M===null&&(M=C);break}t&&M&&L.alternate===null&&e(v,M),y=a(L,y,j),S===null?N=L:S.sibling=L,S=L,M=C}if(j===w.length)return n(v,M),Nt&&ca(v,j),N;if(M===null){for(;j<w.length;j++)M=h(v,w[j],k),M!==null&&(y=a(M,y,j),S===null?N=M:S.sibling=M,S=M);return Nt&&ca(v,j),N}for(M=s(v,M);j<w.length;j++)C=m(M,v,j,w[j],k),C!==null&&(t&&C.alternate!==null&&M.delete(C.key===null?j:C.key),y=a(C,y,j),S===null?N=C:S.sibling=C,S=C);return t&&M.forEach(function(O){return e(v,O)}),Nt&&ca(v,j),N}function x(v,y,w,k){var N=Yl(w);if(typeof N!="function")throw Error(ke(150));if(w=N.call(w),w==null)throw Error(ke(151));for(var S=N=null,M=y,j=y=0,C=null,L=w.next();M!==null&&!L.done;j++,L=w.next()){M.index>j?(C=M,M=null):C=M.sibling;var O=p(v,M,L.value,k);if(O===null){M===null&&(M=C);break}t&&M&&O.alternate===null&&e(v,M),y=a(O,y,j),S===null?N=O:S.sibling=O,S=O,M=C}if(L.done)return n(v,M),Nt&&ca(v,j),N;if(M===null){for(;!L.done;j++,L=w.next())L=h(v,L.value,k),L!==null&&(y=a(L,y,j),S===null?N=L:S.sibling=L,S=L);return Nt&&ca(v,j),N}for(M=s(v,M);!L.done;j++,L=w.next())L=m(M,v,j,L.value,k),L!==null&&(t&&L.alternate!==null&&M.delete(L.key===null?j:L.key),y=a(L,y,j),S===null?N=L:S.sibling=L,S=L);return t&&M.forEach(function(F){return e(v,F)}),Nt&&ca(v,j),N}function b(v,y,w,k){if(typeof w=="object"&&w!==null&&w.type===jo&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case _u:e:{for(var N=w.key,S=y;S!==null;){if(S.key===N){if(N=w.type,N===jo){if(S.tag===7){n(v,S.sibling),y=i(S,w.props.children),y.return=v,v=y;break e}}else if(S.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===di&&k2(N)===S.type){n(v,S.sibling),y=i(S,w.props),y.ref=ec(v,S,w),y.return=v,v=y;break e}n(v,S);break}else e(v,S);S=S.sibling}w.type===jo?(y=Ma(w.props.children,v.mode,k,w.key),y.return=v,v=y):(k=Uh(w.type,w.key,w.props,null,v.mode,k),k.ref=ec(v,y,w),k.return=v,v=k)}return o(v);case wo:e:{for(S=w.key;y!==null;){if(y.key===S)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){n(v,y.sibling),y=i(y,w.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else e(v,y);y=y.sibling}y=cg(w,v.mode,k),y.return=v,v=y}return o(v);case di:return S=w._init,b(v,y,S(w._payload),k)}if(Nc(w))return g(v,y,w,k);if(Yl(w))return x(v,y,w,k);zu(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(n(v,y.sibling),y=i(y,w),y.return=v,v=y):(n(v,y),y=lg(w,v.mode,k),y.return=v,v=y),o(v)):n(v,y)}return b}var hl=kC(!0),SC=kC(!1),_p=Gi(null),Mp=null,Mo=null,t1=null;function n1(){t1=Mo=Mp=null}function s1(t){var e=_p.current;yt(_p),t._currentValue=e}function xx(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function tl(t,e){Mp=t,t1=Mo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Vn=!0),t.firstContext=null)}function Os(t){var e=t._currentValue;if(t1!==t)if(t={context:t,memoizedValue:e,next:null},Mo===null){if(Mp===null)throw Error(ke(308));Mo=t,Mp.dependencies={lanes:0,firstContext:t}}else Mo=Mo.next=t;return e}var ba=null;function r1(t){ba===null?ba=[t]:ba.push(t)}function CC(t,e,n,s){var i=e.interleaved;return i===null?(n.next=n,r1(e)):(n.next=i.next,i.next=n),e.interleaved=n,qr(t,s)}function qr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ui=!1;function i1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function EC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Br(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Li(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,tt&2){var i=s.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),s.pending=e,qr(t,n)}return i=s.interleaved,i===null?(e.next=e,r1(s)):(e.next=i.next,i.next=e),s.interleaved=e,qr(t,n)}function Rh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,Wy(t,n)}}function S2(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:s.shared,effects:s.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Tp(t,e,n,s){var i=t.updateQueue;ui=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var h=i.baseState;o=0,d=u=c=null,l=a;do{var p=l.lane,m=l.eventTime;if((s&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=t,x=l;switch(p=e,m=n,x.tag){case 1:if(g=x.payload,typeof g=="function"){h=g.call(m,h,p);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=x.payload,p=typeof g=="function"?g.call(m,h,p):g,p==null)break e;h=At({},h,p);break e;case 2:ui=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[l]:p.push(l))}else m={eventTime:m,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=h):d=d.next=m,o|=p;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;p=l,l=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(d===null&&(c=h),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Ka|=o,t.lanes=o,t.memoizedState=h}}function C2(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var s=t[e],i=s.callback;if(i!==null){if(s.callback=null,s=n,typeof i!="function")throw Error(ke(191,i));i.call(s)}}}var du={},br=Gi(du),kd=Gi(du),Sd=Gi(du);function wa(t){if(t===du)throw Error(ke(174));return t}function a1(t,e){switch(gt(Sd,e),gt(kd,t),gt(br,du),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Z0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Z0(e,t)}yt(br),gt(br,e)}function pl(){yt(br),yt(kd),yt(Sd)}function PC(t){wa(Sd.current);var e=wa(br.current),n=Z0(e,t.type);e!==n&&(gt(kd,t),gt(br,n))}function o1(t){kd.current===t&&(yt(br),yt(kd))}var Et=Gi(0);function Lp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ng=[];function l1(){for(var t=0;t<ng.length;t++)ng[t]._workInProgressVersionPrimary=null;ng.length=0}var Dh=Qr.ReactCurrentDispatcher,sg=Qr.ReactCurrentBatchConfig,qa=0,Lt=null,Jt=null,rn=null,Ap=!1,Vc=!1,Cd=0,GI=0;function gn(){throw Error(ke(321))}function c1(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Js(t[n],e[n]))return!1;return!0}function d1(t,e,n,s,i,a){if(qa=a,Lt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Dh.current=t===null||t.memoizedState===null?QI:JI,t=n(s,i),Vc){a=0;do{if(Vc=!1,Cd=0,25<=a)throw Error(ke(301));a+=1,rn=Jt=null,e.updateQueue=null,Dh.current=eO,t=n(s,i)}while(Vc)}if(Dh.current=Ip,e=Jt!==null&&Jt.next!==null,qa=0,rn=Jt=Lt=null,Ap=!1,e)throw Error(ke(300));return t}function u1(){var t=Cd!==0;return Cd=0,t}function ur(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?Lt.memoizedState=rn=t:rn=rn.next=t,rn}function Rs(){if(Jt===null){var t=Lt.alternate;t=t!==null?t.memoizedState:null}else t=Jt.next;var e=rn===null?Lt.memoizedState:rn.next;if(e!==null)rn=e,Jt=t;else{if(t===null)throw Error(ke(310));Jt=t,t={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},rn===null?Lt.memoizedState=rn=t:rn=rn.next=t}return rn}function Ed(t,e){return typeof e=="function"?e(t):e}function rg(t){var e=Rs(),n=e.queue;if(n===null)throw Error(ke(311));n.lastRenderedReducer=t;var s=Jt,i=s.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}s.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,s=s.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((qa&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:t(s,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=s):c=c.next=h,Lt.lanes|=d,Ka|=d}u=u.next}while(u!==null&&u!==a);c===null?o=s:c.next=l,Js(s,e.memoizedState)||(Vn=!0),e.memoizedState=s,e.baseState=o,e.baseQueue=c,n.lastRenderedState=s}if(t=n.interleaved,t!==null){i=t;do a=i.lane,Lt.lanes|=a,Ka|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ig(t){var e=Rs(),n=e.queue;if(n===null)throw Error(ke(311));n.lastRenderedReducer=t;var s=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);Js(a,e.memoizedState)||(Vn=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,s]}function _C(){}function MC(t,e){var n=Lt,s=Rs(),i=e(),a=!Js(s.memoizedState,i);if(a&&(s.memoizedState=i,Vn=!0),s=s.queue,h1(AC.bind(null,n,s,t),[t]),s.getSnapshot!==e||a||rn!==null&&rn.memoizedState.tag&1){if(n.flags|=2048,Pd(9,LC.bind(null,n,s,i,e),void 0,null),an===null)throw Error(ke(349));qa&30||TC(n,e,i)}return i}function TC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Lt.updateQueue,e===null?(e={lastEffect:null,stores:null},Lt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function LC(t,e,n,s){e.value=n,e.getSnapshot=s,IC(e)&&OC(t)}function AC(t,e,n){return n(function(){IC(e)&&OC(t)})}function IC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Js(t,n)}catch{return!0}}function OC(t){var e=qr(t,1);e!==null&&Zs(e,t,1,-1)}function E2(t){var e=ur();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ed,lastRenderedState:t},e.queue=t,t=t.dispatch=ZI.bind(null,Lt,t),[e.memoizedState,t]}function Pd(t,e,n,s){return t={tag:t,create:e,destroy:n,deps:s,next:null},e=Lt.updateQueue,e===null?(e={lastEffect:null,stores:null},Lt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t)),t}function RC(){return Rs().memoizedState}function $h(t,e,n,s){var i=ur();Lt.flags|=t,i.memoizedState=Pd(1|e,n,void 0,s===void 0?null:s)}function Xf(t,e,n,s){var i=Rs();s=s===void 0?null:s;var a=void 0;if(Jt!==null){var o=Jt.memoizedState;if(a=o.destroy,s!==null&&c1(s,o.deps)){i.memoizedState=Pd(e,n,a,s);return}}Lt.flags|=t,i.memoizedState=Pd(1|e,n,a,s)}function P2(t,e){return $h(8390656,8,t,e)}function h1(t,e){return Xf(2048,8,t,e)}function DC(t,e){return Xf(4,2,t,e)}function $C(t,e){return Xf(4,4,t,e)}function FC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function zC(t,e,n){return n=n!=null?n.concat([t]):null,Xf(4,4,FC.bind(null,e,t),n)}function p1(){}function BC(t,e){var n=Rs();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&c1(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function UC(t,e){var n=Rs();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&c1(e,s[1])?s[0]:(t=t(),n.memoizedState=[t,e],t)}function VC(t,e,n){return qa&21?(Js(n,e)||(n=G3(),Lt.lanes|=n,Ka|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Vn=!0),t.memoizedState=n)}function YI(t,e){var n=at;at=n!==0&&4>n?n:4,t(!0);var s=sg.transition;sg.transition={};try{t(!1),e()}finally{at=n,sg.transition=s}}function WC(){return Rs().memoizedState}function XI(t,e,n){var s=Ii(t);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},HC(t))qC(e,n);else if(n=CC(t,e,n,s),n!==null){var i=On();Zs(n,t,s,i),KC(n,e,s)}}function ZI(t,e,n){var s=Ii(t),i={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(HC(t))qC(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,l=a(o,n);if(i.hasEagerState=!0,i.eagerState=l,Js(l,o)){var c=e.interleaved;c===null?(i.next=i,r1(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=CC(t,e,i,s),n!==null&&(i=On(),Zs(n,t,s,i),KC(n,e,s))}}function HC(t){var e=t.alternate;return t===Lt||e!==null&&e===Lt}function qC(t,e){Vc=Ap=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function KC(t,e,n){if(n&4194240){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,Wy(t,n)}}var Ip={readContext:Os,useCallback:gn,useContext:gn,useEffect:gn,useImperativeHandle:gn,useInsertionEffect:gn,useLayoutEffect:gn,useMemo:gn,useReducer:gn,useRef:gn,useState:gn,useDebugValue:gn,useDeferredValue:gn,useTransition:gn,useMutableSource:gn,useSyncExternalStore:gn,useId:gn,unstable_isNewReconciler:!1},QI={readContext:Os,useCallback:function(t,e){return ur().memoizedState=[t,e===void 0?null:e],t},useContext:Os,useEffect:P2,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,$h(4194308,4,FC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return $h(4194308,4,t,e)},useInsertionEffect:function(t,e){return $h(4,2,t,e)},useMemo:function(t,e){var n=ur();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var s=ur();return e=n!==void 0?n(e):e,s.memoizedState=s.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},s.queue=t,t=t.dispatch=XI.bind(null,Lt,t),[s.memoizedState,t]},useRef:function(t){var e=ur();return t={current:t},e.memoizedState=t},useState:E2,useDebugValue:p1,useDeferredValue:function(t){return ur().memoizedState=t},useTransition:function(){var t=E2(!1),e=t[0];return t=YI.bind(null,t[1]),ur().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var s=Lt,i=ur();if(Nt){if(n===void 0)throw Error(ke(407));n=n()}else{if(n=e(),an===null)throw Error(ke(349));qa&30||TC(s,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,P2(AC.bind(null,s,a,t),[t]),s.flags|=2048,Pd(9,LC.bind(null,s,a,n,e),void 0,null),n},useId:function(){var t=ur(),e=an.identifierPrefix;if(Nt){var n=zr,s=Fr;n=(s&~(1<<32-Xs(s)-1)).toString(32)+n,e=":"+e+"R"+n,n=Cd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=GI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},JI={readContext:Os,useCallback:BC,useContext:Os,useEffect:h1,useImperativeHandle:zC,useInsertionEffect:DC,useLayoutEffect:$C,useMemo:UC,useReducer:rg,useRef:RC,useState:function(){return rg(Ed)},useDebugValue:p1,useDeferredValue:function(t){var e=Rs();return VC(e,Jt.memoizedState,t)},useTransition:function(){var t=rg(Ed)[0],e=Rs().memoizedState;return[t,e]},useMutableSource:_C,useSyncExternalStore:MC,useId:WC,unstable_isNewReconciler:!1},eO={readContext:Os,useCallback:BC,useContext:Os,useEffect:h1,useImperativeHandle:zC,useInsertionEffect:DC,useLayoutEffect:$C,useMemo:UC,useReducer:ig,useRef:RC,useState:function(){return ig(Ed)},useDebugValue:p1,useDeferredValue:function(t){var e=Rs();return Jt===null?e.memoizedState=t:VC(e,Jt.memoizedState,t)},useTransition:function(){var t=ig(Ed)[0],e=Rs().memoizedState;return[t,e]},useMutableSource:_C,useSyncExternalStore:MC,useId:WC,unstable_isNewReconciler:!1};function Hs(t,e){if(t&&t.defaultProps){e=At({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function vx(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:At({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Zf={isMounted:function(t){return(t=t._reactInternals)?to(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var s=On(),i=Ii(t),a=Br(s,i);a.payload=e,n!=null&&(a.callback=n),e=Li(t,a,i),e!==null&&(Zs(e,t,i,s),Rh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=On(),i=Ii(t),a=Br(s,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=Li(t,a,i),e!==null&&(Zs(e,t,i,s),Rh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=On(),s=Ii(t),i=Br(n,s);i.tag=2,e!=null&&(i.callback=e),e=Li(t,i,s),e!==null&&(Zs(e,t,s,n),Rh(e,t,s))}};function _2(t,e,n,s,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,a,o):e.prototype&&e.prototype.isPureReactComponent?!bd(n,s)||!bd(i,a):!0}function GC(t,e,n){var s=!1,i=Bi,a=e.contextType;return typeof a=="object"&&a!==null?a=Os(a):(i=qn(e)?Wa:Pn.current,s=e.contextTypes,a=(s=s!=null)?dl(t,i):Bi),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Zf,t.stateNode=e,e._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function M2(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&Zf.enqueueReplaceState(e,e.state,null)}function yx(t,e,n,s){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},i1(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Os(a):(a=qn(e)?Wa:Pn.current,i.context=dl(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(vx(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Zf.enqueueReplaceState(i,i.state,null),Tp(t,n,i,s),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function fl(t,e){try{var n="",s=e;do n+=P8(s),s=s.return;while(s);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function ag(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function bx(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var tO=typeof WeakMap=="function"?WeakMap:Map;function YC(t,e,n){n=Br(-1,n),n.tag=3,n.payload={element:null};var s=e.value;return n.callback=function(){Rp||(Rp=!0,Mx=s),bx(t,e)},n}function XC(t,e,n){n=Br(-1,n),n.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var i=e.value;n.payload=function(){return s(i)},n.callback=function(){bx(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){bx(t,e),typeof s!="function"&&(Ai===null?Ai=new Set([this]):Ai.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function T2(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new tO;var i=new Set;s.set(e,i)}else i=s.get(e),i===void 0&&(i=new Set,s.set(e,i));i.has(n)||(i.add(n),t=mO.bind(null,t,e,n),e.then(t,t))}function L2(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function A2(t,e,n,s,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Br(-1,1),e.tag=2,Li(n,e,1))),n.lanes|=1),t)}var nO=Qr.ReactCurrentOwner,Vn=!1;function Ln(t,e,n,s){e.child=t===null?SC(e,null,n,s):hl(e,t.child,n,s)}function I2(t,e,n,s,i){n=n.render;var a=e.ref;return tl(e,i),s=d1(t,e,n,s,a,i),n=u1(),t!==null&&!Vn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Kr(t,e,i)):(Nt&&n&&Qy(e),e.flags|=1,Ln(t,e,s,i),e.child)}function O2(t,e,n,s,i){if(t===null){var a=n.type;return typeof a=="function"&&!w1(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,ZC(t,e,a,s,i)):(t=Uh(n.type,null,s,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:bd,n(o,s)&&t.ref===e.ref)return Kr(t,e,i)}return e.flags|=1,t=Oi(a,s),t.ref=e.ref,t.return=e,e.child=t}function ZC(t,e,n,s,i){if(t!==null){var a=t.memoizedProps;if(bd(a,s)&&t.ref===e.ref)if(Vn=!1,e.pendingProps=s=a,(t.lanes&i)!==0)t.flags&131072&&(Vn=!0);else return e.lanes=t.lanes,Kr(t,e,i)}return wx(t,e,n,s,i)}function QC(t,e,n){var s=e.pendingProps,i=s.children,a=t!==null?t.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},gt(Lo,ns),ns|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,gt(Lo,ns),ns|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=a!==null?a.baseLanes:n,gt(Lo,ns),ns|=s}else a!==null?(s=a.baseLanes|n,e.memoizedState=null):s=n,gt(Lo,ns),ns|=s;return Ln(t,e,i,n),e.child}function JC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function wx(t,e,n,s,i){var a=qn(n)?Wa:Pn.current;return a=dl(e,a),tl(e,i),n=d1(t,e,n,s,a,i),s=u1(),t!==null&&!Vn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Kr(t,e,i)):(Nt&&s&&Qy(e),e.flags|=1,Ln(t,e,n,i),e.child)}function R2(t,e,n,s,i){if(qn(n)){var a=!0;Cp(e)}else a=!1;if(tl(e,i),e.stateNode===null)Fh(t,e),GC(e,n,s),yx(e,n,s,i),s=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Os(u):(u=qn(n)?Wa:Pn.current,u=dl(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==u)&&M2(e,o,s,u),ui=!1;var p=e.memoizedState;o.state=p,Tp(e,s,o,i),c=e.memoizedState,l!==s||p!==c||Hn.current||ui?(typeof d=="function"&&(vx(e,n,d,s),c=e.memoizedState),(l=ui||_2(e,n,l,s,p,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=c),o.props=s,o.state=c,o.context=u,s=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{o=e.stateNode,EC(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Hs(e.type,l),o.props=u,h=e.pendingProps,p=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Os(c):(c=qn(n)?Wa:Pn.current,c=dl(e,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||p!==c)&&M2(e,o,s,c),ui=!1,p=e.memoizedState,o.state=p,Tp(e,s,o,i);var g=e.memoizedState;l!==h||p!==g||Hn.current||ui?(typeof m=="function"&&(vx(e,n,m,s),g=e.memoizedState),(u=ui||_2(e,n,u,s,p,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,g,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=g),o.props=s,o.state=g,o.context=c,s=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),s=!1)}return jx(t,e,n,s,a,i)}function jx(t,e,n,s,i,a){JC(t,e);var o=(e.flags&128)!==0;if(!s&&!o)return i&&w2(e,n,!1),Kr(t,e,a);s=e.stateNode,nO.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,t!==null&&o?(e.child=hl(e,t.child,null,a),e.child=hl(e,null,l,a)):Ln(t,e,l,a),e.memoizedState=s.state,i&&w2(e,n,!0),e.child}function eE(t){var e=t.stateNode;e.pendingContext?b2(t,e.pendingContext,e.pendingContext!==e.context):e.context&&b2(t,e.context,!1),a1(t,e.containerInfo)}function D2(t,e,n,s,i){return ul(),e1(i),e.flags|=256,Ln(t,e,n,s),e.child}var Nx={dehydrated:null,treeContext:null,retryLane:0};function kx(t){return{baseLanes:t,cachePool:null,transitions:null}}function tE(t,e,n){var s=e.pendingProps,i=Et.current,a=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),gt(Et,i&1),t===null)return gx(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=s.children,t=s.fallback,a?(s=e.mode,a=e.child,o={mode:"hidden",children:o},!(s&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=em(o,s,0,null),t=Ma(t,s,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=kx(n),e.memoizedState=Nx,t):f1(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return sO(t,e,o,s,l,i,n);if(a){a=s.fallback,o=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&e.child!==i?(s=e.child,s.childLanes=0,s.pendingProps=c,e.deletions=null):(s=Oi(i,c),s.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=Oi(l,a):(a=Ma(a,o,n,null),a.flags|=2),a.return=e,s.return=e,s.sibling=a,e.child=s,s=a,a=e.child,o=t.child.memoizedState,o=o===null?kx(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~n,e.memoizedState=Nx,s}return a=t.child,t=a.sibling,s=Oi(a,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=n),s.return=e,s.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=s,e.memoizedState=null,s}function f1(t,e){return e=em({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Bu(t,e,n,s){return s!==null&&e1(s),hl(e,t.child,null,n),t=f1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function sO(t,e,n,s,i,a,o){if(n)return e.flags&256?(e.flags&=-257,s=ag(Error(ke(422))),Bu(t,e,o,s)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=s.fallback,i=e.mode,s=em({mode:"visible",children:s.children},i,0,null),a=Ma(a,i,o,null),a.flags|=2,s.return=e,a.return=e,s.sibling=a,e.child=s,e.mode&1&&hl(e,t.child,null,o),e.child.memoizedState=kx(o),e.memoizedState=Nx,a);if(!(e.mode&1))return Bu(t,e,o,null);if(i.data==="$!"){if(s=i.nextSibling&&i.nextSibling.dataset,s)var l=s.dgst;return s=l,a=Error(ke(419)),s=ag(a,s,void 0),Bu(t,e,o,s)}if(l=(o&t.childLanes)!==0,Vn||l){if(s=an,s!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(s.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,qr(t,i),Zs(s,t,i,-1))}return b1(),s=ag(Error(ke(421))),Bu(t,e,o,s)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=gO.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,as=Ti(i.nextSibling),ls=e,Nt=!0,Ys=null,t!==null&&(ks[Ss++]=Fr,ks[Ss++]=zr,ks[Ss++]=Ha,Fr=t.id,zr=t.overflow,Ha=e),e=f1(e,s.children),e.flags|=4096,e)}function $2(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),xx(t.return,e,n)}function og(t,e,n,s,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=n,a.tailMode=i)}function nE(t,e,n){var s=e.pendingProps,i=s.revealOrder,a=s.tail;if(Ln(t,e,s.children,n),s=Et.current,s&2)s=s&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$2(t,n,e);else if(t.tag===19)$2(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(gt(Et,s),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Lp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),og(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Lp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}og(e,!0,n,null,a);break;case"together":og(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Fh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Kr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ka|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ke(153));if(e.child!==null){for(t=e.child,n=Oi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Oi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function rO(t,e,n){switch(e.tag){case 3:eE(e),ul();break;case 5:PC(e);break;case 1:qn(e.type)&&Cp(e);break;case 4:a1(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,i=e.memoizedProps.value;gt(_p,s._currentValue),s._currentValue=i;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(gt(Et,Et.current&1),e.flags|=128,null):n&e.child.childLanes?tE(t,e,n):(gt(Et,Et.current&1),t=Kr(t,e,n),t!==null?t.sibling:null);gt(Et,Et.current&1);break;case 19:if(s=(n&e.childLanes)!==0,t.flags&128){if(s)return nE(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),gt(Et,Et.current),s)break;return null;case 22:case 23:return e.lanes=0,QC(t,e,n)}return Kr(t,e,n)}var sE,Sx,rE,iE;sE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Sx=function(){};rE=function(t,e,n,s){var i=t.memoizedProps;if(i!==s){t=e.stateNode,wa(br.current);var a=null;switch(n){case"input":i=K0(t,i),s=K0(t,s),a=[];break;case"select":i=At({},i,{value:void 0}),s=At({},s,{value:void 0}),a=[];break;case"textarea":i=X0(t,i),s=X0(t,s),a=[];break;default:typeof i.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=kp)}Q0(n,s);var o;n=null;for(u in i)if(!s.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(pd.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in s){var c=s[u];if(l=i!=null?i[u]:void 0,s.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(pd.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&vt("scroll",t),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};iE=function(t,e,n,s){n!==s&&(e.flags|=4)};function tc(t,e){if(!Nt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function xn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags&14680064,s|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function iO(t,e,n){var s=e.pendingProps;switch(Jy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xn(e),null;case 1:return qn(e.type)&&Sp(),xn(e),null;case 3:return s=e.stateNode,pl(),yt(Hn),yt(Pn),l1(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Fu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ys!==null&&(Ax(Ys),Ys=null))),Sx(t,e),xn(e),null;case 5:o1(e);var i=wa(Sd.current);if(n=e.type,t!==null&&e.stateNode!=null)rE(t,e,n,s,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(ke(166));return xn(e),null}if(t=wa(br.current),Fu(e)){s=e.stateNode,n=e.type;var a=e.memoizedProps;switch(s[mr]=e,s[Nd]=a,t=(e.mode&1)!==0,n){case"dialog":vt("cancel",s),vt("close",s);break;case"iframe":case"object":case"embed":vt("load",s);break;case"video":case"audio":for(i=0;i<Sc.length;i++)vt(Sc[i],s);break;case"source":vt("error",s);break;case"img":case"image":case"link":vt("error",s),vt("load",s);break;case"details":vt("toggle",s);break;case"input":Kw(s,a),vt("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},vt("invalid",s);break;case"textarea":Yw(s,a),vt("invalid",s)}Q0(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?s.textContent!==l&&(a.suppressHydrationWarning!==!0&&$u(s.textContent,l,t),i=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&$u(s.textContent,l,t),i=["children",""+l]):pd.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&vt("scroll",s)}switch(n){case"input":Mu(s),Gw(s,a,!0);break;case"textarea":Mu(s),Xw(s);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(s.onclick=kp)}s=i,e.updateQueue=s,s!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=A3(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=o.createElement(n,{is:s.is}):(t=o.createElement(n),n==="select"&&(o=t,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):t=o.createElementNS(t,n),t[mr]=e,t[Nd]=s,sE(t,e,!1,!1),e.stateNode=t;e:{switch(o=J0(n,s),n){case"dialog":vt("cancel",t),vt("close",t),i=s;break;case"iframe":case"object":case"embed":vt("load",t),i=s;break;case"video":case"audio":for(i=0;i<Sc.length;i++)vt(Sc[i],t);i=s;break;case"source":vt("error",t),i=s;break;case"img":case"image":case"link":vt("error",t),vt("load",t),i=s;break;case"details":vt("toggle",t),i=s;break;case"input":Kw(t,s),i=K0(t,s),vt("invalid",t);break;case"option":i=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},i=At({},s,{value:void 0}),vt("invalid",t);break;case"textarea":Yw(t,s),i=X0(t,s),vt("invalid",t);break;default:i=s}Q0(n,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?R3(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&I3(t,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&fd(t,c):typeof c=="number"&&fd(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(pd.hasOwnProperty(a)?c!=null&&a==="onScroll"&&vt("scroll",t):c!=null&&$y(t,a,c,o))}switch(n){case"input":Mu(t),Gw(t,s,!1);break;case"textarea":Mu(t),Xw(t);break;case"option":s.value!=null&&t.setAttribute("value",""+zi(s.value));break;case"select":t.multiple=!!s.multiple,a=s.value,a!=null?Zo(t,!!s.multiple,a,!1):s.defaultValue!=null&&Zo(t,!!s.multiple,s.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=kp)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return xn(e),null;case 6:if(t&&e.stateNode!=null)iE(t,e,t.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(ke(166));if(n=wa(Sd.current),wa(br.current),Fu(e)){if(s=e.stateNode,n=e.memoizedProps,s[mr]=e,(a=s.nodeValue!==n)&&(t=ls,t!==null))switch(t.tag){case 3:$u(s.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&$u(s.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[mr]=e,e.stateNode=s}return xn(e),null;case 13:if(yt(Et),s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Nt&&as!==null&&e.mode&1&&!(e.flags&128))NC(),ul(),e.flags|=98560,a=!1;else if(a=Fu(e),s!==null&&s.dehydrated!==null){if(t===null){if(!a)throw Error(ke(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ke(317));a[mr]=e}else ul(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;xn(e),a=!1}else Ys!==null&&(Ax(Ys),Ys=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(s=s!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(t===null||Et.current&1?en===0&&(en=3):b1())),e.updateQueue!==null&&(e.flags|=4),xn(e),null);case 4:return pl(),Sx(t,e),t===null&&wd(e.stateNode.containerInfo),xn(e),null;case 10:return s1(e.type._context),xn(e),null;case 17:return qn(e.type)&&Sp(),xn(e),null;case 19:if(yt(Et),a=e.memoizedState,a===null)return xn(e),null;if(s=(e.flags&128)!==0,o=a.rendering,o===null)if(s)tc(a,!1);else{if(en!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Lp(t),o!==null){for(e.flags|=128,tc(a,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=n,n=e.child;n!==null;)a=n,t=s,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return gt(Et,Et.current&1|2),e.child}t=t.sibling}a.tail!==null&&Wt()>ml&&(e.flags|=128,s=!0,tc(a,!1),e.lanes=4194304)}else{if(!s)if(t=Lp(o),t!==null){if(e.flags|=128,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),tc(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Nt)return xn(e),null}else 2*Wt()-a.renderingStartTime>ml&&n!==1073741824&&(e.flags|=128,s=!0,tc(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(n=a.last,n!==null?n.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Wt(),e.sibling=null,n=Et.current,gt(Et,s?n&1|2:n&1),e):(xn(e),null);case 22:case 23:return y1(),s=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?ns&1073741824&&(xn(e),e.subtreeFlags&6&&(e.flags|=8192)):xn(e),null;case 24:return null;case 25:return null}throw Error(ke(156,e.tag))}function aO(t,e){switch(Jy(e),e.tag){case 1:return qn(e.type)&&Sp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return pl(),yt(Hn),yt(Pn),l1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return o1(e),null;case 13:if(yt(Et),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ke(340));ul()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return yt(Et),null;case 4:return pl(),null;case 10:return s1(e.type._context),null;case 22:case 23:return y1(),null;case 24:return null;default:return null}}var Uu=!1,wn=!1,oO=typeof WeakSet=="function"?WeakSet:Set,Te=null;function To(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){Ft(t,e,s)}else n.current=null}function Cx(t,e,n){try{n()}catch(s){Ft(t,e,s)}}var F2=!1;function lO(t,e){if(cx=wp,t=dC(),Zy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var i=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=t,p=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(l=o+i),h!==a||s!==0&&h.nodeType!==3||(c=o+s),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===t)break t;if(p===n&&++u===i&&(l=o),p===a&&++d===s&&(c=o),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(dx={focusedElem:t,selectionRange:n},wp=!1,Te=e;Te!==null;)if(e=Te,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Te=t;else for(;Te!==null;){e=Te;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var x=g.memoizedProps,b=g.memoizedState,v=e.stateNode,y=v.getSnapshotBeforeUpdate(e.elementType===e.type?x:Hs(e.type,x),b);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ke(163))}}catch(k){Ft(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,Te=t;break}Te=e.return}return g=F2,F2=!1,g}function Wc(t,e,n){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&Cx(e,n,a)}i=i.next}while(i!==s)}}function Qf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var s=n.create;n.destroy=s()}n=n.next}while(n!==e)}}function Ex(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function aE(t){var e=t.alternate;e!==null&&(t.alternate=null,aE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[mr],delete e[Nd],delete e[px],delete e[WI],delete e[HI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function oE(t){return t.tag===5||t.tag===3||t.tag===4}function z2(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||oE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Px(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=kp));else if(s!==4&&(t=t.child,t!==null))for(Px(t,e,n),t=t.sibling;t!==null;)Px(t,e,n),t=t.sibling}function _x(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(_x(t,e,n),t=t.sibling;t!==null;)_x(t,e,n),t=t.sibling}var dn=null,Ks=!1;function ei(t,e,n){for(n=n.child;n!==null;)lE(t,e,n),n=n.sibling}function lE(t,e,n){if(yr&&typeof yr.onCommitFiberUnmount=="function")try{yr.onCommitFiberUnmount(Wf,n)}catch{}switch(n.tag){case 5:wn||To(n,e);case 6:var s=dn,i=Ks;dn=null,ei(t,e,n),dn=s,Ks=i,dn!==null&&(Ks?(t=dn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):dn.removeChild(n.stateNode));break;case 18:dn!==null&&(Ks?(t=dn,n=n.stateNode,t.nodeType===8?eg(t.parentNode,n):t.nodeType===1&&eg(t,n),vd(t)):eg(dn,n.stateNode));break;case 4:s=dn,i=Ks,dn=n.stateNode.containerInfo,Ks=!0,ei(t,e,n),dn=s,Ks=i;break;case 0:case 11:case 14:case 15:if(!wn&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){i=s=s.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Cx(n,e,o),i=i.next}while(i!==s)}ei(t,e,n);break;case 1:if(!wn&&(To(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(l){Ft(n,e,l)}ei(t,e,n);break;case 21:ei(t,e,n);break;case 22:n.mode&1?(wn=(s=wn)||n.memoizedState!==null,ei(t,e,n),wn=s):ei(t,e,n);break;default:ei(t,e,n)}}function B2(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new oO),e.forEach(function(s){var i=xO.bind(null,t,s);n.has(s)||(n.add(s),s.then(i,i))})}}function Fs(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var i=n[s];try{var a=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:dn=l.stateNode,Ks=!1;break e;case 3:dn=l.stateNode.containerInfo,Ks=!0;break e;case 4:dn=l.stateNode.containerInfo,Ks=!0;break e}l=l.return}if(dn===null)throw Error(ke(160));lE(a,o,i),dn=null,Ks=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Ft(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)cE(e,t),e=e.sibling}function cE(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Fs(e,t),ar(t),s&4){try{Wc(3,t,t.return),Qf(3,t)}catch(x){Ft(t,t.return,x)}try{Wc(5,t,t.return)}catch(x){Ft(t,t.return,x)}}break;case 1:Fs(e,t),ar(t),s&512&&n!==null&&To(n,n.return);break;case 5:if(Fs(e,t),ar(t),s&512&&n!==null&&To(n,n.return),t.flags&32){var i=t.stateNode;try{fd(i,"")}catch(x){Ft(t,t.return,x)}}if(s&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=n!==null?n.memoizedProps:a,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&T3(i,a),J0(l,o);var u=J0(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?R3(i,h):d==="dangerouslySetInnerHTML"?I3(i,h):d==="children"?fd(i,h):$y(i,d,h,u)}switch(l){case"input":G0(i,a);break;case"textarea":L3(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?Zo(i,!!a.multiple,m,!1):p!==!!a.multiple&&(a.defaultValue!=null?Zo(i,!!a.multiple,a.defaultValue,!0):Zo(i,!!a.multiple,a.multiple?[]:"",!1))}i[Nd]=a}catch(x){Ft(t,t.return,x)}}break;case 6:if(Fs(e,t),ar(t),s&4){if(t.stateNode===null)throw Error(ke(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(x){Ft(t,t.return,x)}}break;case 3:if(Fs(e,t),ar(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{vd(e.containerInfo)}catch(x){Ft(t,t.return,x)}break;case 4:Fs(e,t),ar(t);break;case 13:Fs(e,t),ar(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(x1=Wt())),s&4&&B2(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(wn=(u=wn)||d,Fs(e,t),wn=u):Fs(e,t),ar(t),s&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Te=t,d=t.child;d!==null;){for(h=Te=d;Te!==null;){switch(p=Te,m=p.child,p.tag){case 0:case 11:case 14:case 15:Wc(4,p,p.return);break;case 1:To(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){s=p,n=p.return;try{e=s,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(x){Ft(s,n,x)}}break;case 5:To(p,p.return);break;case 22:if(p.memoizedState!==null){V2(h);continue}}m!==null?(m.return=p,Te=m):V2(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=O3("display",o))}catch(x){Ft(t,t.return,x)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(x){Ft(t,t.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Fs(e,t),ar(t),s&4&&B2(t);break;case 21:break;default:Fs(e,t),ar(t)}}function ar(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(oE(n)){var s=n;break e}n=n.return}throw Error(ke(160))}switch(s.tag){case 5:var i=s.stateNode;s.flags&32&&(fd(i,""),s.flags&=-33);var a=z2(t);_x(t,a,i);break;case 3:case 4:var o=s.stateNode.containerInfo,l=z2(t);Px(t,l,o);break;default:throw Error(ke(161))}}catch(c){Ft(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function cO(t,e,n){Te=t,dE(t)}function dE(t,e,n){for(var s=(t.mode&1)!==0;Te!==null;){var i=Te,a=i.child;if(i.tag===22&&s){var o=i.memoizedState!==null||Uu;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||wn;l=Uu;var u=wn;if(Uu=o,(wn=c)&&!u)for(Te=i;Te!==null;)o=Te,c=o.child,o.tag===22&&o.memoizedState!==null?W2(i):c!==null?(c.return=o,Te=c):W2(i);for(;a!==null;)Te=a,dE(a),a=a.sibling;Te=i,Uu=l,wn=u}U2(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Te=a):U2(t)}}function U2(t){for(;Te!==null;){var e=Te;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:wn||Qf(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!wn)if(n===null)s.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Hs(e.type,n.memoizedProps);s.componentDidUpdate(i,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&C2(e,a,s);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}C2(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&vd(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ke(163))}wn||e.flags&512&&Ex(e)}catch(p){Ft(e,e.return,p)}}if(e===t){Te=null;break}if(n=e.sibling,n!==null){n.return=e.return,Te=n;break}Te=e.return}}function V2(t){for(;Te!==null;){var e=Te;if(e===t){Te=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Te=n;break}Te=e.return}}function W2(t){for(;Te!==null;){var e=Te;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Qf(4,e)}catch(c){Ft(e,n,c)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var i=e.return;try{s.componentDidMount()}catch(c){Ft(e,i,c)}}var a=e.return;try{Ex(e)}catch(c){Ft(e,a,c)}break;case 5:var o=e.return;try{Ex(e)}catch(c){Ft(e,o,c)}}}catch(c){Ft(e,e.return,c)}if(e===t){Te=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Te=l;break}Te=e.return}}var dO=Math.ceil,Op=Qr.ReactCurrentDispatcher,m1=Qr.ReactCurrentOwner,As=Qr.ReactCurrentBatchConfig,tt=0,an=null,Yt=null,hn=0,ns=0,Lo=Gi(0),en=0,_d=null,Ka=0,Jf=0,g1=0,Hc=null,Bn=null,x1=0,ml=1/0,Ir=null,Rp=!1,Mx=null,Ai=null,Vu=!1,yi=null,Dp=0,qc=0,Tx=null,zh=-1,Bh=0;function On(){return tt&6?Wt():zh!==-1?zh:zh=Wt()}function Ii(t){return t.mode&1?tt&2&&hn!==0?hn&-hn:KI.transition!==null?(Bh===0&&(Bh=G3()),Bh):(t=at,t!==0||(t=window.event,t=t===void 0?16:tC(t.type)),t):1}function Zs(t,e,n,s){if(50<qc)throw qc=0,Tx=null,Error(ke(185));ou(t,n,s),(!(tt&2)||t!==an)&&(t===an&&(!(tt&2)&&(Jf|=n),en===4&&gi(t,hn)),Kn(t,s),n===1&&tt===0&&!(e.mode&1)&&(ml=Wt()+500,Yf&&Yi()))}function Kn(t,e){var n=t.callbackNode;K8(t,e);var s=bp(t,t===an?hn:0);if(s===0)n!==null&&Jw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=s&-s,t.callbackPriority!==e){if(n!=null&&Jw(n),e===1)t.tag===0?qI(H2.bind(null,t)):bC(H2.bind(null,t)),UI(function(){!(tt&6)&&Yi()}),n=null;else{switch(Y3(s)){case 1:n=Vy;break;case 4:n=q3;break;case 16:n=yp;break;case 536870912:n=K3;break;default:n=yp}n=vE(n,uE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function uE(t,e){if(zh=-1,Bh=0,tt&6)throw Error(ke(327));var n=t.callbackNode;if(nl()&&t.callbackNode!==n)return null;var s=bp(t,t===an?hn:0);if(s===0)return null;if(s&30||s&t.expiredLanes||e)e=$p(t,s);else{e=s;var i=tt;tt|=2;var a=pE();(an!==t||hn!==e)&&(Ir=null,ml=Wt()+500,_a(t,e));do try{pO();break}catch(l){hE(t,l)}while(!0);n1(),Op.current=a,tt=i,Yt!==null?e=0:(an=null,hn=0,e=en)}if(e!==0){if(e===2&&(i=rx(t),i!==0&&(s=i,e=Lx(t,i))),e===1)throw n=_d,_a(t,0),gi(t,s),Kn(t,Wt()),n;if(e===6)gi(t,s);else{if(i=t.current.alternate,!(s&30)&&!uO(i)&&(e=$p(t,s),e===2&&(a=rx(t),a!==0&&(s=a,e=Lx(t,a))),e===1))throw n=_d,_a(t,0),gi(t,s),Kn(t,Wt()),n;switch(t.finishedWork=i,t.finishedLanes=s,e){case 0:case 1:throw Error(ke(345));case 2:da(t,Bn,Ir);break;case 3:if(gi(t,s),(s&130023424)===s&&(e=x1+500-Wt(),10<e)){if(bp(t,0)!==0)break;if(i=t.suspendedLanes,(i&s)!==s){On(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=hx(da.bind(null,t,Bn,Ir),e);break}da(t,Bn,Ir);break;case 4:if(gi(t,s),(s&4194240)===s)break;for(e=t.eventTimes,i=-1;0<s;){var o=31-Xs(s);a=1<<o,o=e[o],o>i&&(i=o),s&=~a}if(s=i,s=Wt()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*dO(s/1960))-s,10<s){t.timeoutHandle=hx(da.bind(null,t,Bn,Ir),s);break}da(t,Bn,Ir);break;case 5:da(t,Bn,Ir);break;default:throw Error(ke(329))}}}return Kn(t,Wt()),t.callbackNode===n?uE.bind(null,t):null}function Lx(t,e){var n=Hc;return t.current.memoizedState.isDehydrated&&(_a(t,e).flags|=256),t=$p(t,e),t!==2&&(e=Bn,Bn=n,e!==null&&Ax(e)),t}function Ax(t){Bn===null?Bn=t:Bn.push.apply(Bn,t)}function uO(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var i=n[s],a=i.getSnapshot;i=i.value;try{if(!Js(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function gi(t,e){for(e&=~g1,e&=~Jf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Xs(e),s=1<<n;t[n]=-1,e&=~s}}function H2(t){if(tt&6)throw Error(ke(327));nl();var e=bp(t,0);if(!(e&1))return Kn(t,Wt()),null;var n=$p(t,e);if(t.tag!==0&&n===2){var s=rx(t);s!==0&&(e=s,n=Lx(t,s))}if(n===1)throw n=_d,_a(t,0),gi(t,e),Kn(t,Wt()),n;if(n===6)throw Error(ke(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,da(t,Bn,Ir),Kn(t,Wt()),null}function v1(t,e){var n=tt;tt|=1;try{return t(e)}finally{tt=n,tt===0&&(ml=Wt()+500,Yf&&Yi())}}function Ga(t){yi!==null&&yi.tag===0&&!(tt&6)&&nl();var e=tt;tt|=1;var n=As.transition,s=at;try{if(As.transition=null,at=1,t)return t()}finally{at=s,As.transition=n,tt=e,!(tt&6)&&Yi()}}function y1(){ns=Lo.current,yt(Lo)}function _a(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,BI(n)),Yt!==null)for(n=Yt.return;n!==null;){var s=n;switch(Jy(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Sp();break;case 3:pl(),yt(Hn),yt(Pn),l1();break;case 5:o1(s);break;case 4:pl();break;case 13:yt(Et);break;case 19:yt(Et);break;case 10:s1(s.type._context);break;case 22:case 23:y1()}n=n.return}if(an=t,Yt=t=Oi(t.current,null),hn=ns=e,en=0,_d=null,g1=Jf=Ka=0,Bn=Hc=null,ba!==null){for(e=0;e<ba.length;e++)if(n=ba[e],s=n.interleaved,s!==null){n.interleaved=null;var i=s.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,s.next=o}n.pending=s}ba=null}return t}function hE(t,e){do{var n=Yt;try{if(n1(),Dh.current=Ip,Ap){for(var s=Lt.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}Ap=!1}if(qa=0,rn=Jt=Lt=null,Vc=!1,Cd=0,m1.current=null,n===null||n.return===null){en=1,_d=e,Yt=null;break}e:{var a=t,o=n.return,l=n,c=e;if(e=hn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=L2(o);if(m!==null){m.flags&=-257,A2(m,o,l,a,e),m.mode&1&&T2(a,u,e),e=m,c=u;var g=e.updateQueue;if(g===null){var x=new Set;x.add(c),e.updateQueue=x}else g.add(c);break e}else{if(!(e&1)){T2(a,u,e),b1();break e}c=Error(ke(426))}}else if(Nt&&l.mode&1){var b=L2(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),A2(b,o,l,a,e),e1(fl(c,l));break e}}a=c=fl(c,l),en!==4&&(en=2),Hc===null?Hc=[a]:Hc.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var v=YC(a,c,e);S2(a,v);break e;case 1:l=c;var y=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ai===null||!Ai.has(w)))){a.flags|=65536,e&=-e,a.lanes|=e;var k=XC(a,l,e);S2(a,k);break e}}a=a.return}while(a!==null)}mE(n)}catch(N){e=N,Yt===n&&n!==null&&(Yt=n=n.return);continue}break}while(!0)}function pE(){var t=Op.current;return Op.current=Ip,t===null?Ip:t}function b1(){(en===0||en===3||en===2)&&(en=4),an===null||!(Ka&268435455)&&!(Jf&268435455)||gi(an,hn)}function $p(t,e){var n=tt;tt|=2;var s=pE();(an!==t||hn!==e)&&(Ir=null,_a(t,e));do try{hO();break}catch(i){hE(t,i)}while(!0);if(n1(),tt=n,Op.current=s,Yt!==null)throw Error(ke(261));return an=null,hn=0,en}function hO(){for(;Yt!==null;)fE(Yt)}function pO(){for(;Yt!==null&&!$8();)fE(Yt)}function fE(t){var e=xE(t.alternate,t,ns);t.memoizedProps=t.pendingProps,e===null?mE(t):Yt=e,m1.current=null}function mE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=aO(n,e),n!==null){n.flags&=32767,Yt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{en=6,Yt=null;return}}else if(n=iO(n,e,ns),n!==null){Yt=n;return}if(e=e.sibling,e!==null){Yt=e;return}Yt=e=t}while(e!==null);en===0&&(en=5)}function da(t,e,n){var s=at,i=As.transition;try{As.transition=null,at=1,fO(t,e,n,s)}finally{As.transition=i,at=s}return null}function fO(t,e,n,s){do nl();while(yi!==null);if(tt&6)throw Error(ke(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ke(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(G8(t,a),t===an&&(Yt=an=null,hn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Vu||(Vu=!0,vE(yp,function(){return nl(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=As.transition,As.transition=null;var o=at;at=1;var l=tt;tt|=4,m1.current=null,lO(t,n),cE(n,t),II(dx),wp=!!cx,dx=cx=null,t.current=n,cO(n),F8(),tt=l,at=o,As.transition=a}else t.current=n;if(Vu&&(Vu=!1,yi=t,Dp=i),a=t.pendingLanes,a===0&&(Ai=null),U8(n.stateNode),Kn(t,Wt()),e!==null)for(s=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],s(i.value,{componentStack:i.stack,digest:i.digest});if(Rp)throw Rp=!1,t=Mx,Mx=null,t;return Dp&1&&t.tag!==0&&nl(),a=t.pendingLanes,a&1?t===Tx?qc++:(qc=0,Tx=t):qc=0,Yi(),null}function nl(){if(yi!==null){var t=Y3(Dp),e=As.transition,n=at;try{if(As.transition=null,at=16>t?16:t,yi===null)var s=!1;else{if(t=yi,yi=null,Dp=0,tt&6)throw Error(ke(331));var i=tt;for(tt|=4,Te=t.current;Te!==null;){var a=Te,o=a.child;if(Te.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Te=u;Te!==null;){var d=Te;switch(d.tag){case 0:case 11:case 15:Wc(8,d,a)}var h=d.child;if(h!==null)h.return=d,Te=h;else for(;Te!==null;){d=Te;var p=d.sibling,m=d.return;if(aE(d),d===u){Te=null;break}if(p!==null){p.return=m,Te=p;break}Te=m}}}var g=a.alternate;if(g!==null){var x=g.child;if(x!==null){g.child=null;do{var b=x.sibling;x.sibling=null,x=b}while(x!==null)}}Te=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Te=o;else e:for(;Te!==null;){if(a=Te,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Wc(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,Te=v;break e}Te=a.return}}var y=t.current;for(Te=y;Te!==null;){o=Te;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Te=w;else e:for(o=y;Te!==null;){if(l=Te,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Qf(9,l)}}catch(N){Ft(l,l.return,N)}if(l===o){Te=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,Te=k;break e}Te=l.return}}if(tt=i,Yi(),yr&&typeof yr.onPostCommitFiberRoot=="function")try{yr.onPostCommitFiberRoot(Wf,t)}catch{}s=!0}return s}finally{at=n,As.transition=e}}return!1}function q2(t,e,n){e=fl(n,e),e=YC(t,e,1),t=Li(t,e,1),e=On(),t!==null&&(ou(t,1,e),Kn(t,e))}function Ft(t,e,n){if(t.tag===3)q2(t,t,n);else for(;e!==null;){if(e.tag===3){q2(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ai===null||!Ai.has(s))){t=fl(n,t),t=XC(e,t,1),e=Li(e,t,1),t=On(),e!==null&&(ou(e,1,t),Kn(e,t));break}}e=e.return}}function mO(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),e=On(),t.pingedLanes|=t.suspendedLanes&n,an===t&&(hn&n)===n&&(en===4||en===3&&(hn&130023424)===hn&&500>Wt()-x1?_a(t,0):g1|=n),Kn(t,e)}function gE(t,e){e===0&&(t.mode&1?(e=Au,Au<<=1,!(Au&130023424)&&(Au=4194304)):e=1);var n=On();t=qr(t,e),t!==null&&(ou(t,e,n),Kn(t,n))}function gO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),gE(t,n)}function xO(t,e){var n=0;switch(t.tag){case 13:var s=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(ke(314))}s!==null&&s.delete(e),gE(t,n)}var xE;xE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Hn.current)Vn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Vn=!1,rO(t,e,n);Vn=!!(t.flags&131072)}else Vn=!1,Nt&&e.flags&1048576&&wC(e,Pp,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;Fh(t,e),t=e.pendingProps;var i=dl(e,Pn.current);tl(e,n),i=d1(null,e,s,t,i,n);var a=u1();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,qn(s)?(a=!0,Cp(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i1(e),i.updater=Zf,e.stateNode=i,i._reactInternals=e,yx(e,s,t,n),e=jx(null,e,s,!0,a,n)):(e.tag=0,Nt&&a&&Qy(e),Ln(null,e,i,n),e=e.child),e;case 16:s=e.elementType;e:{switch(Fh(t,e),t=e.pendingProps,i=s._init,s=i(s._payload),e.type=s,i=e.tag=yO(s),t=Hs(s,t),i){case 0:e=wx(null,e,s,t,n);break e;case 1:e=R2(null,e,s,t,n);break e;case 11:e=I2(null,e,s,t,n);break e;case 14:e=O2(null,e,s,Hs(s.type,t),n);break e}throw Error(ke(306,s,""))}return e;case 0:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:Hs(s,i),wx(t,e,s,i,n);case 1:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:Hs(s,i),R2(t,e,s,i,n);case 3:e:{if(eE(e),t===null)throw Error(ke(387));s=e.pendingProps,a=e.memoizedState,i=a.element,EC(t,e),Tp(e,s,null,n);var o=e.memoizedState;if(s=o.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=fl(Error(ke(423)),e),e=D2(t,e,s,n,i);break e}else if(s!==i){i=fl(Error(ke(424)),e),e=D2(t,e,s,n,i);break e}else for(as=Ti(e.stateNode.containerInfo.firstChild),ls=e,Nt=!0,Ys=null,n=SC(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ul(),s===i){e=Kr(t,e,n);break e}Ln(t,e,s,n)}e=e.child}return e;case 5:return PC(e),t===null&&gx(e),s=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,ux(s,i)?o=null:a!==null&&ux(s,a)&&(e.flags|=32),JC(t,e),Ln(t,e,o,n),e.child;case 6:return t===null&&gx(e),null;case 13:return tE(t,e,n);case 4:return a1(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=hl(e,null,s,n):Ln(t,e,s,n),e.child;case 11:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:Hs(s,i),I2(t,e,s,i,n);case 7:return Ln(t,e,e.pendingProps,n),e.child;case 8:return Ln(t,e,e.pendingProps.children,n),e.child;case 12:return Ln(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(s=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,gt(_p,s._currentValue),s._currentValue=o,a!==null)if(Js(a.value,o)){if(a.children===i.children&&!Hn.current){e=Kr(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(a.tag===1){c=Br(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),xx(a.return,n,e),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(ke(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),xx(o,n,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Ln(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,s=e.pendingProps.children,tl(e,n),i=Os(i),s=s(i),e.flags|=1,Ln(t,e,s,n),e.child;case 14:return s=e.type,i=Hs(s,e.pendingProps),i=Hs(s.type,i),O2(t,e,s,i,n);case 15:return ZC(t,e,e.type,e.pendingProps,n);case 17:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:Hs(s,i),Fh(t,e),e.tag=1,qn(s)?(t=!0,Cp(e)):t=!1,tl(e,n),GC(e,s,i),yx(e,s,i,n),jx(null,e,s,!0,t,n);case 19:return nE(t,e,n);case 22:return QC(t,e,n)}throw Error(ke(156,e.tag))};function vE(t,e){return H3(t,e)}function vO(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Es(t,e,n,s){return new vO(t,e,n,s)}function w1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yO(t){if(typeof t=="function")return w1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===zy)return 11;if(t===By)return 14}return 2}function Oi(t,e){var n=t.alternate;return n===null?(n=Es(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Uh(t,e,n,s,i,a){var o=2;if(s=t,typeof t=="function")w1(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case jo:return Ma(n.children,i,a,e);case Fy:o=8,i|=8;break;case V0:return t=Es(12,n,e,i|2),t.elementType=V0,t.lanes=a,t;case W0:return t=Es(13,n,e,i),t.elementType=W0,t.lanes=a,t;case H0:return t=Es(19,n,e,i),t.elementType=H0,t.lanes=a,t;case P3:return em(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case C3:o=10;break e;case E3:o=9;break e;case zy:o=11;break e;case By:o=14;break e;case di:o=16,s=null;break e}throw Error(ke(130,t==null?t:typeof t,""))}return e=Es(o,n,e,i),e.elementType=t,e.type=s,e.lanes=a,e}function Ma(t,e,n,s){return t=Es(7,t,s,e),t.lanes=n,t}function em(t,e,n,s){return t=Es(22,t,s,e),t.elementType=P3,t.lanes=n,t.stateNode={isHidden:!1},t}function lg(t,e,n){return t=Es(6,t,null,e),t.lanes=n,t}function cg(t,e,n){return e=Es(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function bO(t,e,n,s,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vm(0),this.expirationTimes=Vm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vm(0),this.identifierPrefix=s,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function j1(t,e,n,s,i,a,o,l,c){return t=new bO(t,e,n,l,c),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Es(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},i1(a),t}function wO(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wo,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}function yE(t){if(!t)return Bi;t=t._reactInternals;e:{if(to(t)!==t||t.tag!==1)throw Error(ke(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(qn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ke(171))}if(t.tag===1){var n=t.type;if(qn(n))return yC(t,n,e)}return e}function bE(t,e,n,s,i,a,o,l,c){return t=j1(n,s,!0,t,i,a,o,l,c),t.context=yE(null),n=t.current,s=On(),i=Ii(n),a=Br(s,i),a.callback=e??null,Li(n,a,i),t.current.lanes=i,ou(t,i,s),Kn(t,s),t}function tm(t,e,n,s){var i=e.current,a=On(),o=Ii(i);return n=yE(n),e.context===null?e.context=n:e.pendingContext=n,e=Br(a,o),e.payload={element:t},s=s===void 0?null:s,s!==null&&(e.callback=s),t=Li(i,e,o),t!==null&&(Zs(t,i,o,a),Rh(t,i,o)),o}function Fp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function K2(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function N1(t,e){K2(t,e),(t=t.alternate)&&K2(t,e)}function jO(){return null}var wE=typeof reportError=="function"?reportError:function(t){console.error(t)};function k1(t){this._internalRoot=t}nm.prototype.render=k1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ke(409));tm(t,e,null,null)};nm.prototype.unmount=k1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ga(function(){tm(null,t,null,null)}),e[Hr]=null}};function nm(t){this._internalRoot=t}nm.prototype.unstable_scheduleHydration=function(t){if(t){var e=Q3();t={blockedOn:null,target:t,priority:e};for(var n=0;n<mi.length&&e!==0&&e<mi[n].priority;n++);mi.splice(n,0,t),n===0&&eC(t)}};function S1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function sm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function G2(){}function NO(t,e,n,s,i){if(i){if(typeof s=="function"){var a=s;s=function(){var u=Fp(o);a.call(u)}}var o=bE(e,s,t,0,null,!1,!1,"",G2);return t._reactRootContainer=o,t[Hr]=o.current,wd(t.nodeType===8?t.parentNode:t),Ga(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof s=="function"){var l=s;s=function(){var u=Fp(c);l.call(u)}}var c=j1(t,0,!1,null,null,!1,!1,"",G2);return t._reactRootContainer=c,t[Hr]=c.current,wd(t.nodeType===8?t.parentNode:t),Ga(function(){tm(e,c,n,s)}),c}function rm(t,e,n,s,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=Fp(o);l.call(c)}}tm(e,o,t,i)}else o=NO(n,e,t,i,s);return Fp(o)}X3=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=kc(e.pendingLanes);n!==0&&(Wy(e,n|1),Kn(e,Wt()),!(tt&6)&&(ml=Wt()+500,Yi()))}break;case 13:Ga(function(){var s=qr(t,1);if(s!==null){var i=On();Zs(s,t,1,i)}}),N1(t,1)}};Hy=function(t){if(t.tag===13){var e=qr(t,134217728);if(e!==null){var n=On();Zs(e,t,134217728,n)}N1(t,134217728)}};Z3=function(t){if(t.tag===13){var e=Ii(t),n=qr(t,e);if(n!==null){var s=On();Zs(n,t,e,s)}N1(t,e)}};Q3=function(){return at};J3=function(t,e){var n=at;try{return at=t,e()}finally{at=n}};tx=function(t,e,n){switch(e){case"input":if(G0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var i=Gf(s);if(!i)throw Error(ke(90));M3(s),G0(s,i)}}}break;case"textarea":L3(t,n);break;case"select":e=n.value,e!=null&&Zo(t,!!n.multiple,e,!1)}};F3=v1;z3=Ga;var kO={usingClientEntryPoint:!1,Events:[cu,Co,Gf,D3,$3,v1]},nc={findFiberByHostInstance:ya,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},SO={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=V3(t),t===null?null:t.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||jO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wu.isDisabled&&Wu.supportsFiber)try{Wf=Wu.inject(SO),yr=Wu}catch{}}fs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kO;fs.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!S1(e))throw Error(ke(200));return wO(t,e,null,n)};fs.createRoot=function(t,e){if(!S1(t))throw Error(ke(299));var n=!1,s="",i=wE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=j1(t,1,!1,null,null,n,!1,s,i),t[Hr]=e.current,wd(t.nodeType===8?t.parentNode:t),new k1(e)};fs.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ke(188)):(t=Object.keys(t).join(","),Error(ke(268,t)));return t=V3(e),t=t===null?null:t.stateNode,t};fs.flushSync=function(t){return Ga(t)};fs.hydrate=function(t,e,n){if(!sm(e))throw Error(ke(200));return rm(null,t,e,!0,n)};fs.hydrateRoot=function(t,e,n){if(!S1(t))throw Error(ke(405));var s=n!=null&&n.hydratedSources||null,i=!1,a="",o=wE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=bE(e,null,t,1,n??null,i,!1,a,o),t[Hr]=e.current,wd(t),s)for(t=0;t<s.length;t++)n=s[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new nm(e)};fs.render=function(t,e,n){if(!sm(e))throw Error(ke(200));return rm(null,t,e,!1,n)};fs.unmountComponentAtNode=function(t){if(!sm(t))throw Error(ke(40));return t._reactRootContainer?(Ga(function(){rm(null,null,t,!1,function(){t._reactRootContainer=null,t[Hr]=null})}),!0):!1};fs.unstable_batchedUpdates=v1;fs.unstable_renderSubtreeIntoContainer=function(t,e,n,s){if(!sm(n))throw Error(ke(200));if(t==null||t._reactInternals===void 0)throw Error(ke(38));return rm(t,e,n,!1,s)};fs.version="18.3.1-next-f1338f8080-20240426";function jE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jE)}catch(t){console.error(t)}}jE(),j3.exports=fs;var Xi=j3.exports,Y2=Xi;B0.createRoot=Y2.createRoot,B0.hydrateRoot=Y2.hydrateRoot;function CO(t={}){const{strict:e=!0,errorMessage:n="useContext: `context` is undefined. Seems you forgot to wrap component within the Provider",name:s}=t,i=f.createContext(void 0);i.displayName=s;function a(){var o;const l=f.useContext(i);if(!l&&e){const c=new Error(n);throw c.name="ContextError",(o=Error.captureStackTrace)==null||o.call(Error,c,a),c}return l}return[i.Provider,a,i]}var[EO,Hae]=CO({name:"ProviderContext",strict:!1});const PO=new Set(["Arab","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),_O=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]);function NE(t){if(Intl.Locale){let n=new Intl.Locale(t).maximize(),s=typeof n.getTextInfo=="function"?n.getTextInfo():n.textInfo;if(s)return s.direction==="rtl";if(n.script)return PO.has(n.script)}let e=t.split("-")[0];return _O.has(e)}const kE={prefix:String(Math.round(Math.random()*1e10)),current:0},SE=_e.createContext(kE),MO=_e.createContext(!1);let dg=new WeakMap;function TO(t=!1){let e=f.useContext(SE),n=f.useRef(null);if(n.current===null&&!t){var s,i;let a=(i=_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||i===void 0||(s=i.ReactCurrentOwner)===null||s===void 0?void 0:s.current;if(a){let o=dg.get(a);o==null?dg.set(a,{id:e.current,state:a.memoizedState}):a.memoizedState!==o.state&&(e.current=o.id,dg.delete(a))}n.current=++e.current}return n.current}function LO(t){let e=f.useContext(SE),n=TO(!!t),s=`react-aria${e.prefix}`;return t||`${s}-${n}`}function AO(t){let e=_e.useId(),[n]=f.useState(CE()),s=n?"react-aria":`react-aria${kE.prefix}`;return t||`${s}-${e}`}_e.useId;function IO(){return!1}function OO(){return!0}function RO(t){return()=>{}}function CE(){return typeof _e.useSyncExternalStore=="function"?_e.useSyncExternalStore(RO,IO,OO):f.useContext(MO)}const DO=Symbol.for("react-aria.i18n.locale");function EE(){let t=typeof window<"u"&&window[DO]||typeof navigator<"u"&&(navigator.language||navigator.userLanguage)||"en-US";try{Intl.DateTimeFormat.supportedLocalesOf([t])}catch{t="en-US"}return{locale:t,direction:NE(t)?"rtl":"ltr"}}let Ix=EE(),Cc=new Set;function X2(){Ix=EE();for(let t of Cc)t(Ix)}function $O(){let t=CE(),[e,n]=f.useState(Ix);return f.useEffect(()=>(Cc.size===0&&window.addEventListener("languagechange",X2),Cc.add(n),()=>{Cc.delete(n),Cc.size===0&&window.removeEventListener("languagechange",X2)}),[]),t?{locale:"en-US",direction:"ltr"}:e}const FO=_e.createContext(null);function zO(t){let{locale:e,children:n}=t,s=$O(),i=_e.useMemo(()=>e?{locale:e,direction:NE(e)?"rtl":"ltr"}:s,[s,e]);return _e.createElement(FO.Provider,{value:i},n)}function no(t,e,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(h){o(h)}}function c(d){try{u(s.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(t,e||[])).next())})}function BO(t){if(UO())t.focus({preventScroll:!0});else{let e=VO(t);t.focus(),WO(e)}}let Hu=null;function UO(){if(Hu==null){Hu=!1;try{document.createElement("div").focus({get preventScroll(){return Hu=!0,!0}})}catch{}}return Hu}function VO(t){let e=t.parentNode,n=[],s=document.scrollingElement||document.documentElement;for(;e instanceof HTMLElement&&e!==s;)(e.offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)&&n.push({element:e,scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}),e=e.parentNode;return s instanceof HTMLElement&&n.push({element:s,scrollTop:s.scrollTop,scrollLeft:s.scrollLeft}),n}function WO(t){for(let{element:e,scrollTop:n,scrollLeft:s}of t)e.scrollTop=n,e.scrollLeft=s}function C1(t){var e;if(typeof window>"u"||window.navigator==null)return!1;let n=(e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands;return Array.isArray(n)&&n.some(s=>t.test(s.brand))||t.test(window.navigator.userAgent)}function PE(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function uu(t){let e=null;return()=>(e==null&&(e=t()),e)}const Ox=uu(function(){return PE(/^Mac/i)}),HO=uu(function(){return PE(/^iPad/i)||Ox()&&navigator.maxTouchPoints>1}),qO=uu(function(){return C1(/AppleWebKit/i)&&!KO()}),KO=uu(function(){return C1(/Chrome/i)}),GO=uu(function(){return C1(/Firefox/i)}),YO=f.createContext({isNative:!0,open:QO,useHref:t=>t});function XO(t){let{children:e,navigate:n,useHref:s}=t,i=f.useMemo(()=>({isNative:!1,open:(a,o,l,c)=>{_E(a,u=>{ZO(u,o)?n(l,c):Md(u,o)})},useHref:s||(a=>a)}),[n,s]);return _e.createElement(YO.Provider,{value:i},e)}function ZO(t,e){let n=t.getAttribute("target");return(!n||n==="_self")&&t.origin===location.origin&&!t.hasAttribute("download")&&!e.metaKey&&!e.ctrlKey&&!e.altKey&&!e.shiftKey}function Md(t,e,n=!0){var s,i;let{metaKey:a,ctrlKey:o,altKey:l,shiftKey:c}=e;GO()&&(!((i=window.event)===null||i===void 0||(s=i.type)===null||s===void 0)&&s.startsWith("key"))&&t.target==="_blank"&&(Ox()?a=!0:o=!0);let u=qO()&&Ox()&&!HO()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:a,ctrlKey:o,altKey:l,shiftKey:c}):new MouseEvent("click",{metaKey:a,ctrlKey:o,altKey:l,shiftKey:c,bubbles:!0,cancelable:!0});Md.isOpening=n,BO(t),t.dispatchEvent(u),Md.isOpening=!1}Md.isOpening=!1;function _E(t,e){if(t instanceof HTMLAnchorElement)e(t);else if(t.hasAttribute("data-href")){let n=document.createElement("a");n.href=t.getAttribute("data-href"),t.hasAttribute("data-target")&&(n.target=t.getAttribute("data-target")),t.hasAttribute("data-rel")&&(n.rel=t.getAttribute("data-rel")),t.hasAttribute("data-download")&&(n.download=t.getAttribute("data-download")),t.hasAttribute("data-ping")&&(n.ping=t.getAttribute("data-ping")),t.hasAttribute("data-referrer-policy")&&(n.referrerPolicy=t.getAttribute("data-referrer-policy")),t.appendChild(n),e(n),t.removeChild(n)}}function QO(t,e){_E(t,n=>Md(n,e))}const E1=f.createContext({});function so(t){const e=f.useRef(null);return e.current===null&&(e.current=t()),e.current}const im=f.createContext(null),gl=f.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class JO extends f.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function eR({children:t,isPresent:e}){const n=f.useId(),s=f.useRef(null),i=f.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=f.useContext(gl);return f.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:u}=i.current;if(e||!s.current||!o||!l)return;s.current.dataset.motionPopId=n;const d=document.createElement("style");return a&&(d.nonce=a),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),r.jsx(JO,{isPresent:e,childRef:s,sizeRef:i,children:f.cloneElement(t,{ref:s})})}const tR=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:i,presenceAffectsLayout:a,mode:o})=>{const l=so(nR),c=f.useId(),u=f.useCallback(h=>{l.set(h,!0);for(const p of l.values())if(!p)return;s&&s()},[l,s]),d=f.useMemo(()=>({id:c,initial:e,isPresent:n,custom:i,onExitComplete:u,register:h=>(l.set(h,!1),()=>l.delete(h))}),a?[Math.random(),u]:[n,u]);return f.useMemo(()=>{l.forEach((h,p)=>l.set(p,!1))},[n]),f.useEffect(()=>{!n&&!l.size&&s&&s()},[n]),o==="popLayout"&&(t=r.jsx(eR,{isPresent:n,children:t})),r.jsx(im.Provider,{value:d,children:t})};function nR(){return new Map}function ME(t=!0){const e=f.useContext(im);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:i}=e,a=f.useId();f.useEffect(()=>{t&&i(a)},[t]);const o=f.useCallback(()=>t&&s&&s(a),[a,s,t]);return!n&&s?[!1,o]:[!0]}const qu=t=>t.key||"";function Z2(t){const e=[];return f.Children.forEach(t,n=>{f.isValidElement(n)&&e.push(n)}),e}const P1=typeof window<"u",am=P1?f.useLayoutEffect:f.useEffect,_1=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:a="sync",propagate:o=!1})=>{const[l,c]=ME(o),u=f.useMemo(()=>Z2(t),[t]),d=o&&!l?[]:u.map(qu),h=f.useRef(!0),p=f.useRef(u),m=so(()=>new Map),[g,x]=f.useState(u),[b,v]=f.useState(u);am(()=>{h.current=!1,p.current=u;for(let k=0;k<b.length;k++){const N=qu(b[k]);d.includes(N)?m.delete(N):m.get(N)!==!0&&m.set(N,!1)}},[b,d.length,d.join("-")]);const y=[];if(u!==g){let k=[...u];for(let N=0;N<b.length;N++){const S=b[N],M=qu(S);d.includes(M)||(k.splice(N,0,S),y.push(S))}a==="wait"&&y.length&&(k=y),v(Z2(k)),x(u);return}const{forceRender:w}=f.useContext(E1);return r.jsx(r.Fragment,{children:b.map(k=>{const N=qu(k),S=o&&!l?!1:u===b||d.includes(N),M=()=>{if(m.has(N))m.set(N,!0);else return;let j=!0;m.forEach(C=>{C||(j=!1)}),j&&(w==null||w(),v(p.current),o&&(c==null||c()),s&&s())};return r.jsx(tR,{isPresent:S,initial:!h.current||n?void 0:!1,custom:S?void 0:e,presenceAffectsLayout:i,mode:a,onExitComplete:S?void 0:M,children:k},N)})})},Rn=t=>t;let sR=Rn,TE=Rn;function M1(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ya=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s},Ur=t=>t*1e3,Vr=t=>t/1e3,T1={skipAnimations:!1,useManualTiming:!1};function rR(t){let e=new Set,n=new Set,s=!1,i=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(u){a.has(u)&&(c.schedule(u),t()),u(o)}const c={schedule:(u,d=!1,h=!1)=>{const m=h&&s?e:n;return d&&a.add(u),m.has(u)||m.add(u),u},cancel:u=>{n.delete(u),a.delete(u)},process:u=>{if(o=u,s){i=!0;return}s=!0,[e,n]=[n,e],e.forEach(l),e.clear(),s=!1,i&&(i=!1,c.process(u))}};return c}const Ku=["read","resolveKeyframes","update","preRender","render","postRender"],iR=40;function LE(t,e){let n=!1,s=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=Ku.reduce((v,y)=>(v[y]=rR(a),v),{}),{read:l,resolveKeyframes:c,update:u,preRender:d,render:h,postRender:p}=o,m=()=>{const v=performance.now();n=!1,i.delta=s?1e3/60:Math.max(Math.min(v-i.timestamp,iR),1),i.timestamp=v,i.isProcessing=!0,l.process(i),c.process(i),u.process(i),d.process(i),h.process(i),p.process(i),i.isProcessing=!1,n&&e&&(s=!1,t(m))},g=()=>{n=!0,s=!0,i.isProcessing||t(m)};return{schedule:Ku.reduce((v,y)=>{const w=o[y];return v[y]=(k,N=!1,S=!1)=>(n||g(),w.schedule(k,N,S)),v},{}),cancel:v=>{for(let y=0;y<Ku.length;y++)o[Ku[y]].cancel(v)},state:i,steps:o}}const{schedule:st,cancel:er,state:sn,steps:ug}=LE(typeof requestAnimationFrame<"u"?requestAnimationFrame:Rn,!0),AE=f.createContext({strict:!1}),Q2={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},xl={};for(const t in Q2)xl[t]={isEnabled:e=>Q2[t].some(n=>!!e[n])};function aR(t){for(const e in t)xl[e]={...xl[e],...t[e]}}const oR=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function zp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||oR.has(t)}let IE=t=>!zp(t);function OE(t){t&&(IE=e=>e.startsWith("on")?!zp(e):t(e))}try{OE(require("@emotion/is-prop-valid").default)}catch{}function lR(t,e,n){const s={};for(const i in t)i==="values"&&typeof t.values=="object"||(IE(i)||n===!0&&zp(i)||!e&&!zp(i)||t.draggable&&i.startsWith("onDrag"))&&(s[i]=t[i]);return s}function cR({children:t,isValidProp:e,...n}){e&&OE(e),n={...f.useContext(gl),...n},n.isStatic=so(()=>n.isStatic);const s=f.useMemo(()=>n,[JSON.stringify(n.transition),n.transformPagePoint,n.reducedMotion]);return r.jsx(gl.Provider,{value:s,children:t})}function dR(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...s)=>t(...s);return new Proxy(n,{get:(s,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const om=f.createContext({});function Td(t){return typeof t=="string"||Array.isArray(t)}function lm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const L1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],A1=["initial",...L1];function cm(t){return lm(t.animate)||A1.some(e=>Td(t[e]))}function RE(t){return!!(cm(t)||t.variants)}function uR(t,e){if(cm(t)){const{initial:n,animate:s}=t;return{initial:n===!1||Td(n)?n:void 0,animate:Td(s)?s:void 0}}return t.inherit!==!1?e:{}}function hR(t){const{initial:e,animate:n}=uR(t,f.useContext(om));return f.useMemo(()=>({initial:e,animate:n}),[J2(e),J2(n)])}function J2(t){return Array.isArray(t)?t.join(" "):t}const pR=Symbol.for("motionComponentSymbol");function Ao(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function fR(t,e,n){return f.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):Ao(n)&&(n.current=s))},[e])}const I1=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),mR="framerAppearId",DE="data-"+I1(mR),{schedule:O1}=LE(queueMicrotask,!1),$E=f.createContext({});function gR(t,e,n,s,i){var a,o;const{visualElement:l}=f.useContext(om),c=f.useContext(AE),u=f.useContext(im),d=f.useContext(gl).reducedMotion,h=f.useRef(null);s=s||c.renderer,!h.current&&s&&(h.current=s(t,{visualState:e,parent:l,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const p=h.current,m=f.useContext($E);p&&!p.projection&&i&&(p.type==="html"||p.type==="svg")&&xR(h.current,n,i,m);const g=f.useRef(!1);f.useInsertionEffect(()=>{p&&g.current&&p.update(n,u)});const x=n[DE],b=f.useRef(!!x&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,x))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,x)));return am(()=>{p&&(g.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),O1.render(p.render),b.current&&p.animationState&&p.animationState.animateChanges())}),f.useEffect(()=>{p&&(!b.current&&p.animationState&&p.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)===null||v===void 0||v.call(window,x)}),b.current=!1))}),p}function xR(t,e,n,s){const{layoutId:i,layout:a,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:FE(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||l&&Ao(l),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:s,layoutScroll:c,layoutRoot:u})}function FE(t){if(t)return t.options.allowProjection!==!1?t.projection:FE(t.parent)}function vR({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:s,Component:i}){var a,o;t&&aR(t);function l(u,d){let h;const p={...f.useContext(gl),...u,layoutId:yR(u)},{isStatic:m}=p,g=hR(u),x=s(u,m);if(!m&&P1){bR();const b=wR(p);h=b.MeasureLayout,g.visualElement=gR(i,x,p,e,b.ProjectionNode)}return r.jsxs(om.Provider,{value:g,children:[h&&g.visualElement?r.jsx(h,{visualElement:g.visualElement,...p}):null,n(i,u,fR(x,g.visualElement,d),x,m,g.visualElement)]})}l.displayName=`motion.${typeof i=="string"?i:`create(${(o=(a=i.displayName)!==null&&a!==void 0?a:i.name)!==null&&o!==void 0?o:""})`}`;const c=f.forwardRef(l);return c[pR]=i,c}function yR({layoutId:t}){const e=f.useContext(E1).id;return e&&t!==void 0?e+"-"+t:t}function bR(t,e){f.useContext(AE).strict}function wR(t){const{drag:e,layout:n}=xl;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const jR=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function R1(t){return typeof t!="string"||t.includes("-")?!1:!!(jR.indexOf(t)>-1||/[A-Z]/u.test(t))}function ej(t){const e=[{},{}];return t==null||t.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function D1(t,e,n,s){if(typeof e=="function"){const[i,a]=ej(s);e=e(n!==void 0?n:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=ej(s);e=e(n!==void 0?n:t.custom,i,a)}return e}const Rx=t=>Array.isArray(t),NR=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),kR=t=>Rx(t)?t[t.length-1]||0:t,Sn=t=>!!(t&&t.getVelocity);function Vh(t){const e=Sn(t)?t.get():t;return NR(e)?e.toValue():e}function SR({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},s,i,a){const o={latestValues:CR(s,i,a,t),renderState:e()};return n&&(o.onMount=l=>n({props:s,current:l,...o}),o.onUpdate=l=>n(l)),o}const zE=t=>(e,n)=>{const s=f.useContext(om),i=f.useContext(im),a=()=>SR(t,e,s,i);return n?a():so(a)};function CR(t,e,n,s){const i={},a=s(t,{});for(const p in a)i[p]=Vh(a[p]);let{initial:o,animate:l}=t;const c=cm(t),u=RE(t);e&&u&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?l:o;if(h&&typeof h!="boolean"&&!lm(h)){const p=Array.isArray(h)?h:[h];for(let m=0;m<p.length;m++){const g=D1(t,p[m]);if(g){const{transitionEnd:x,transition:b,...v}=g;for(const y in v){let w=v[y];if(Array.isArray(w)){const k=d?w.length-1:0;w=w[k]}w!==null&&(i[y]=w)}for(const y in x)i[y]=x[y]}}}return i}const Al=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ro=new Set(Al),BE=t=>e=>typeof e=="string"&&e.startsWith(t),UE=BE("--"),ER=BE("var(--"),$1=t=>ER(t)?PR.test(t.split("/*")[0].trim()):!1,PR=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,VE=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Er=(t,e,n)=>n>e?e:n<t?t:n,Il={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ld={...Il,transform:t=>Er(0,1,t)},Gu={...Il,default:1},hu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),si=hu("deg"),wr=hu("%"),$e=hu("px"),_R=hu("vh"),MR=hu("vw"),tj={...wr,parse:t=>wr.parse(t)/100,transform:t=>wr.transform(t*100)},TR={borderWidth:$e,borderTopWidth:$e,borderRightWidth:$e,borderBottomWidth:$e,borderLeftWidth:$e,borderRadius:$e,radius:$e,borderTopLeftRadius:$e,borderTopRightRadius:$e,borderBottomRightRadius:$e,borderBottomLeftRadius:$e,width:$e,maxWidth:$e,height:$e,maxHeight:$e,top:$e,right:$e,bottom:$e,left:$e,padding:$e,paddingTop:$e,paddingRight:$e,paddingBottom:$e,paddingLeft:$e,margin:$e,marginTop:$e,marginRight:$e,marginBottom:$e,marginLeft:$e,backgroundPositionX:$e,backgroundPositionY:$e},LR={rotate:si,rotateX:si,rotateY:si,rotateZ:si,scale:Gu,scaleX:Gu,scaleY:Gu,scaleZ:Gu,skew:si,skewX:si,skewY:si,distance:$e,translateX:$e,translateY:$e,translateZ:$e,x:$e,y:$e,z:$e,perspective:$e,transformPerspective:$e,opacity:Ld,originX:tj,originY:tj,originZ:$e},nj={...Il,transform:Math.round},F1={...TR,...LR,zIndex:nj,size:$e,fillOpacity:Ld,strokeOpacity:Ld,numOctaves:nj},AR={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},IR=Al.length;function OR(t,e,n){let s="",i=!0;for(let a=0;a<IR;a++){const o=Al[a],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=VE(l,F1[o]);if(!c){i=!1;const d=AR[o]||o;s+=`${d}(${u}) `}n&&(e[o]=u)}}return s=s.trim(),n?s=n(e,i?"":s):i&&(s="none"),s}function z1(t,e,n){const{style:s,vars:i,transformOrigin:a}=t;let o=!1,l=!1;for(const c in e){const u=e[c];if(ro.has(c)){o=!0;continue}else if(UE(c)){i[c]=u;continue}else{const d=VE(u,F1[c]);c.startsWith("origin")?(l=!0,a[c]=d):s[c]=d}}if(e.transform||(o||n?s.transform=OR(e,t.transform,n):s.transform&&(s.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=a;s.transformOrigin=`${c} ${u} ${d}`}}const RR={offset:"stroke-dashoffset",array:"stroke-dasharray"},DR={offset:"strokeDashoffset",array:"strokeDasharray"};function $R(t,e,n=1,s=0,i=!0){t.pathLength=1;const a=i?RR:DR;t[a.offset]=$e.transform(-s);const o=$e.transform(e),l=$e.transform(n);t[a.array]=`${o} ${l}`}function sj(t,e,n){return typeof t=="string"?t:$e.transform(e+n*t)}function FR(t,e,n){const s=sj(e,t.x,t.width),i=sj(n,t.y,t.height);return`${s} ${i}`}function B1(t,{attrX:e,attrY:n,attrScale:s,originX:i,originY:a,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},d,h){if(z1(t,u,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:m,dimensions:g}=t;p.transform&&(g&&(m.transform=p.transform),delete p.transform),g&&(i!==void 0||a!==void 0||m.transform)&&(m.transformOrigin=FR(g,i!==void 0?i:.5,a!==void 0?a:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),s!==void 0&&(p.scale=s),o!==void 0&&$R(p,o,l,c,!1)}const U1=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),WE=()=>({...U1(),attrs:{}}),V1=t=>typeof t=="string"&&t.toLowerCase()==="svg";function HE(t,{style:e,vars:n},s,i){Object.assign(t.style,e,i&&i.getProjectionStyles(s));for(const a in n)t.style.setProperty(a,n[a])}const qE=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function KE(t,e,n,s){HE(t,e,void 0,s);for(const i in e.attrs)t.setAttribute(qE.has(i)?i:I1(i),e.attrs[i])}const Bp={};function zR(t){Object.assign(Bp,t)}function GE(t,{layout:e,layoutId:n}){return ro.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Bp[t]||t==="opacity")}function W1(t,e,n){var s;const{style:i}=t,a={};for(const o in i)(Sn(i[o])||e.style&&Sn(e.style[o])||GE(o,t)||((s=n==null?void 0:n.getValue(o))===null||s===void 0?void 0:s.liveStyle)!==void 0)&&(a[o]=i[o]);return a}function YE(t,e,n){const s=W1(t,e,n);for(const i in t)if(Sn(t[i])||Sn(e[i])){const a=Al.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;s[a]=t[i]}return s}function BR(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const rj=["x","y","width","height","cx","cy","r"],UR={useVisualState:zE({scrapeMotionValuesFromProps:YE,createRenderState:WE,onUpdate:({props:t,prevProps:e,current:n,renderState:s,latestValues:i})=>{if(!n)return;let a=!!t.drag;if(!a){for(const l in i)if(ro.has(l)){a=!0;break}}if(!a)return;let o=!e;if(e)for(let l=0;l<rj.length;l++){const c=rj[l];t[c]!==e[c]&&(o=!0)}o&&st.read(()=>{BR(n,s),st.render(()=>{B1(s,i,V1(n.tagName),t.transformTemplate),KE(n,s)})})}})},VR={useVisualState:zE({scrapeMotionValuesFromProps:W1,createRenderState:U1})};function XE(t,e,n){for(const s in e)!Sn(e[s])&&!GE(s,n)&&(t[s]=e[s])}function WR({transformTemplate:t},e){return f.useMemo(()=>{const n=U1();return z1(n,e,t),Object.assign({},n.vars,n.style)},[e])}function HR(t,e){const n=t.style||{},s={};return XE(s,n,t),Object.assign(s,WR(t,e)),s}function qR(t,e){const n={},s=HR(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}function KR(t,e,n,s){const i=f.useMemo(()=>{const a=WE();return B1(a,e,V1(s),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};XE(a,t.style,t),i.style={...a,...i.style}}return i}function GR(t=!1){return(n,s,i,{latestValues:a},o)=>{const c=(R1(n)?KR:qR)(s,a,o,n),u=lR(s,typeof n=="string",t),d=n!==f.Fragment?{...u,...c,ref:i}:{},{children:h}=s,p=f.useMemo(()=>Sn(h)?h.get():h,[h]);return f.createElement(n,{...d,children:p})}}function YR(t,e){return function(s,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...R1(s)?UR:VR,preloadedFeatures:t,useRender:GR(i),createVisualElement:e,Component:s};return vR(o)}}function ZE(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}function dm(t,e,n){const s=t.getProps();return D1(s,e,n!==void 0?n:s.custom,t)}const QE=M1(()=>window.ScrollTimeline!==void 0);class XR{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let s=0;s<this.animations.length;s++)this.animations[s][e]=n}attachTimeline(e,n){const s=this.animations.map(i=>{if(QE()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{s.forEach((i,a)=>{i&&i(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class ZR extends XR{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function H1(t,e){return t?t[e]||t.default||t:void 0}const Dx=2e4;function JE(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<Dx;)e+=n,s=t.next(e);return e>=Dx?1/0:e}function q1(t){return typeof t=="function"}function ij(t,e){t.timeline=e,t.onfinish=null}const K1=t=>Array.isArray(t)&&typeof t[0]=="number",QR={linearEasing:void 0};function JR(t,e){const n=M1(t);return()=>{var s;return(s=QR[e])!==null&&s!==void 0?s:n()}}const Up=JR(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),e6=(t,e,n=10)=>{let s="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)s+=t(Ya(0,i-1,a))+", ";return`linear(${s.substring(0,s.length-2)})`};function t6(t){return!!(typeof t=="function"&&Up()||!t||typeof t=="string"&&(t in $x||Up())||K1(t)||Array.isArray(t)&&t.every(t6))}const Ec=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,$x={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ec([0,.65,.55,1]),circOut:Ec([.55,0,1,.45]),backIn:Ec([.31,.01,.66,-.59]),backOut:Ec([.33,1.53,.69,.99])};function n6(t,e){if(t)return typeof t=="function"&&Up()?e6(t,e):K1(t)?Ec(t):Array.isArray(t)?t.map(n=>n6(n,e)||$x.easeOut):$x[t]}const Vs={x:!1,y:!1};function s6(){return Vs.x||Vs.y}function r6(t,e,n){var s;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const a=(s=void 0)!==null&&s!==void 0?s:i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}function i6(t,e){const n=r6(t),s=new AbortController,i={passive:!0,...e,signal:s.signal};return[n,i,()=>s.abort()]}function aj(t){return e=>{e.pointerType==="touch"||s6()||t(e)}}function e7(t,e,n={}){const[s,i,a]=i6(t,n),o=aj(l=>{const{target:c}=l,u=e(l);if(typeof u!="function"||!c)return;const d=aj(h=>{u(h),c.removeEventListener("pointerleave",d)});c.addEventListener("pointerleave",d,i)});return s.forEach(l=>{l.addEventListener("pointerenter",o,i)}),a}const a6=(t,e)=>e?t===e?!0:a6(t,e.parentElement):!1,G1=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,t7=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function n7(t){return t7.has(t.tagName)||t.tabIndex!==-1}const Pc=new WeakSet;function oj(t){return e=>{e.key==="Enter"&&t(e)}}function hg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const s7=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=oj(()=>{if(Pc.has(n))return;hg(n,"down");const i=oj(()=>{hg(n,"up")}),a=()=>hg(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function lj(t){return G1(t)&&!s6()}function r7(t,e,n={}){const[s,i,a]=i6(t,n),o=l=>{const c=l.currentTarget;if(!lj(l)||Pc.has(c))return;Pc.add(c);const u=e(l),d=(m,g)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",p),!(!lj(m)||!Pc.has(c))&&(Pc.delete(c),typeof u=="function"&&u(m,{success:g}))},h=m=>{d(m,n.useGlobalTarget||a6(c,m.target))},p=m=>{d(m,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",p,i)};return s.forEach(l=>{!n7(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,i),l.addEventListener("focus",u=>s7(u,i),i)}),a}function i7(t){return t==="x"||t==="y"?Vs[t]?null:(Vs[t]=!0,()=>{Vs[t]=!1}):Vs.x||Vs.y?null:(Vs.x=Vs.y=!0,()=>{Vs.x=Vs.y=!1})}const o6=new Set(["width","height","top","left","right","bottom",...Al]);let Wh;function a7(){Wh=void 0}const jr={now:()=>(Wh===void 0&&jr.set(sn.isProcessing||T1.useManualTiming?sn.timestamp:performance.now()),Wh),set:t=>{Wh=t,queueMicrotask(a7)}};function Y1(t,e){t.indexOf(e)===-1&&t.push(e)}function X1(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let Z1=class{constructor(){this.subscriptions=[]}add(e){return Y1(this.subscriptions,e),()=>X1(this.subscriptions,e)}notify(e,n,s){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,s);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}};function Q1(t,e){return e?t*(1e3/e):0}const cj=30,o7=t=>!isNaN(parseFloat(t)),Kc={current:void 0};let l7=class{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,i=!0)=>{const a=jr.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=jr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=o7(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Z1);const s=this.events[e].add(n);return e==="change"?()=>{s(),st.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Kc.current&&Kc.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=jr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>cj)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,cj);return Q1(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}};function xr(t,e){return new l7(t,e)}function c7(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,xr(n))}function d7(t,e){const n=dm(t,e);let{transitionEnd:s={},transition:i={},...a}=n||{};a={...a,...s};for(const o in a){const l=kR(a[o]);c7(t,o,l)}}function u7(t){return!!(Sn(t)&&t.add)}function Fx(t,e){const n=t.getValue("willChange");if(u7(n))return n.add(e)}function l6(t){return t.props[DE]}const c6=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,h7=1e-7,p7=12;function f7(t,e,n,s,i){let a,o,l=0;do o=e+(n-e)/2,a=c6(o,s,i)-t,a>0?n=o:e=o;while(Math.abs(a)>h7&&++l<p7);return o}function pu(t,e,n,s){if(t===e&&n===s)return Rn;const i=a=>f7(a,0,1,t,n);return a=>a===0||a===1?a:c6(i(a),e,s)}const d6=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,u6=t=>e=>1-t(1-e),h6=pu(.33,1.53,.69,.99),J1=u6(h6),p6=d6(J1),f6=t=>(t*=2)<1?.5*J1(t):.5*(2-Math.pow(2,-10*(t-1))),eb=t=>1-Math.sin(Math.acos(t)),m6=u6(eb),g6=d6(eb),x6=t=>/^0[^.\s]+$/u.test(t);function m7(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||x6(t):!0}const Gc=t=>Math.round(t*1e5)/1e5,tb=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function g7(t){return t==null}const x7=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,nb=(t,e)=>n=>!!(typeof n=="string"&&x7.test(n)&&n.startsWith(t)||e&&!g7(n)&&Object.prototype.hasOwnProperty.call(n,e)),v6=(t,e,n)=>s=>{if(typeof s!="string")return s;const[i,a,o,l]=s.match(tb);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},v7=t=>Er(0,255,t),pg={...Il,transform:t=>Math.round(v7(t))},ja={test:nb("rgb","red"),parse:v6("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+pg.transform(t)+", "+pg.transform(e)+", "+pg.transform(n)+", "+Gc(Ld.transform(s))+")"};function y7(t){let e="",n="",s="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,s+=s,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:i?parseInt(i,16)/255:1}}const zx={test:nb("#"),parse:y7,transform:ja.transform},Io={test:nb("hsl","hue"),parse:v6("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+wr.transform(Gc(e))+", "+wr.transform(Gc(n))+", "+Gc(Ld.transform(s))+")"},bn={test:t=>ja.test(t)||zx.test(t)||Io.test(t),parse:t=>ja.test(t)?ja.parse(t):Io.test(t)?Io.parse(t):zx.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ja.transform(t):Io.transform(t)},b7=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function w7(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(tb))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(b7))===null||n===void 0?void 0:n.length)||0)>0}const y6="number",b6="color",j7="var",N7="var(",dj="${}",k7=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ad(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},i=[];let a=0;const l=e.replace(k7,c=>(bn.test(c)?(s.color.push(a),i.push(b6),n.push(bn.parse(c))):c.startsWith(N7)?(s.var.push(a),i.push(j7),n.push(c)):(s.number.push(a),i.push(y6),n.push(parseFloat(c))),++a,dj)).split(dj);return{values:n,split:l,indexes:s,types:i}}function w6(t){return Ad(t).values}function j6(t){const{split:e,types:n}=Ad(t),s=e.length;return i=>{let a="";for(let o=0;o<s;o++)if(a+=e[o],i[o]!==void 0){const l=n[o];l===y6?a+=Gc(i[o]):l===b6?a+=bn.transform(i[o]):a+=i[o]}return a}}const S7=t=>typeof t=="number"?0:t;function C7(t){const e=w6(t);return j6(t)(e.map(S7))}const Ui={test:w7,parse:w6,createTransformer:j6,getAnimatableNone:C7},E7=new Set(["brightness","contrast","saturate","opacity"]);function P7(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(tb)||[];if(!s)return t;const i=n.replace(s,"");let a=E7.has(e)?1:0;return s!==n&&(a*=100),e+"("+a+i+")"}const _7=/\b([a-z-]*)\(.*?\)/gu,Bx={...Ui,getAnimatableNone:t=>{const e=t.match(_7);return e?e.map(P7).join(" "):t}},M7={...F1,color:bn,backgroundColor:bn,outlineColor:bn,fill:bn,stroke:bn,borderColor:bn,borderTopColor:bn,borderRightColor:bn,borderBottomColor:bn,borderLeftColor:bn,filter:Bx,WebkitFilter:Bx},sb=t=>M7[t];function N6(t,e){let n=sb(t);return n!==Bx&&(n=Ui),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const T7=new Set(["auto","none","0"]);function L7(t,e,n){let s=0,i;for(;s<t.length&&!i;){const a=t[s];typeof a=="string"&&!T7.has(a)&&Ad(a).values.length&&(i=t[s]),s++}if(i&&n)for(const a of e)t[a]=N6(n,i)}const uj=t=>t===Il||t===$e,hj=(t,e)=>parseFloat(t.split(", ")[e]),pj=(t,e)=>(n,{transform:s})=>{if(s==="none"||!s)return 0;const i=s.match(/^matrix3d\((.+)\)$/u);if(i)return hj(i[1],e);{const a=s.match(/^matrix\((.+)\)$/u);return a?hj(a[1],t):0}},A7=new Set(["x","y","z"]),I7=Al.filter(t=>!A7.has(t));function O7(t){const e=[];return I7.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const vl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:pj(4,13),y:pj(5,14)};vl.translateX=vl.x;vl.translateY=vl.y;const Ta=new Set;let Ux=!1,Vx=!1;function k6(){if(Vx){const t=Array.from(Ta).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const i=O7(s);i.length&&(n.set(s,i),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const i=n.get(s);i&&i.forEach(([a,o])=>{var l;(l=s.getValue(a))===null||l===void 0||l.set(o)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Vx=!1,Ux=!1,Ta.forEach(t=>t.complete()),Ta.clear()}function S6(){Ta.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Vx=!0)})}function R7(){S6(),k6()}let rb=class{constructor(e,n,s,i,a,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ta.add(this),Ux||(Ux=!0,st.read(S6),st.resolveKeyframes(k6))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:i}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const o=i==null?void 0:i.get(),l=e[e.length-1];if(o!==void 0)e[0]=o;else if(s&&n){const c=s.readValue(n,l);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=l),i&&o===void 0&&i.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ta.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ta.delete(this))}resume(){this.isComplete||this.scheduleResolve()}};const C6=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),D7=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function $7(t){const e=D7.exec(t);if(!e)return[,];const[,n,s,i]=e;return[`--${n??s}`,i]}function E6(t,e,n=1){const[s,i]=$7(t);if(!s)return;const a=window.getComputedStyle(e).getPropertyValue(s);if(a){const o=a.trim();return C6(o)?parseFloat(o):o}return $1(i)?E6(i,e,n+1):i}const P6=t=>e=>e.test(t),F7={test:t=>t==="auto",parse:t=>t},_6=[Il,$e,wr,si,MR,_R,F7],fj=t=>_6.find(P6(t));let M6=class extends rb{constructor(e,n,s,i,a){super(e,n,s,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="string"&&(u=u.trim(),$1(u))){const d=E6(u,n.current);d!==void 0&&(e[c]=d),c===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!o6.has(s)||e.length!==2)return;const[i,a]=e,o=fj(i),l=fj(a);if(o!==l)if(uj(o)&&uj(l))for(let c=0;c<e.length;c++){const u=e[c];typeof u=="string"&&(e[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let i=0;i<e.length;i++)m7(e[i])&&s.push(i);s.length&&L7(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=vl[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(s,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:s,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const a=n.getValue(s);a&&a.jump(this.measuredOrigin,!1);const o=i.length-1,l=i[o];i[o]=vl[s](n.measureViewportBox(),window.getComputedStyle(n.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([c,u])=>{n.getValue(c).set(u)}),this.resolveNoneKeyframes()}};const mj=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ui.test(t)||t==="0")&&!t.startsWith("url("));function z7(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function B7(t,e,n,s){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],o=mj(i,e),l=mj(a,e);return!o||!l?!1:z7(t)||(n==="spring"||q1(n))&&s}const U7=t=>t!==null;function um(t,{repeat:e,repeatType:n="loop"},s){const i=t.filter(U7),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||s===void 0?i[a]:s}const V7=40;class T6{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=jr.now(),this.options={autoplay:e,delay:n,type:s,repeat:i,repeatDelay:a,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>V7?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&R7(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=jr.now(),this.hasAttemptedResolve=!0;const{name:s,type:i,velocity:a,delay:o,onComplete:l,onUpdate:c,isGenerator:u}=this.options;if(!u&&!B7(e,s,i,a))if(o)this.options.duration=0;else{c&&c(um(e,this.options,n)),l&&l(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const _t=(t,e,n)=>t+(e-t)*n;function fg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function W7({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let i=0,a=0,o=0;if(!e)i=a=o=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;i=fg(c,l,t+1/3),a=fg(c,l,t),o=fg(c,l,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:s}}function Vp(t,e){return n=>n>0?e:t}const mg=(t,e,n)=>{const s=t*t,i=n*(e*e-s)+s;return i<0?0:Math.sqrt(i)},H7=[zx,ja,Io],q7=t=>H7.find(e=>e.test(t));function gj(t){const e=q7(t);if(!e)return!1;let n=e.parse(t);return e===Io&&(n=W7(n)),n}const xj=(t,e)=>{const n=gj(t),s=gj(e);if(!n||!s)return Vp(t,e);const i={...n};return a=>(i.red=mg(n.red,s.red,a),i.green=mg(n.green,s.green,a),i.blue=mg(n.blue,s.blue,a),i.alpha=_t(n.alpha,s.alpha,a),ja.transform(i))},K7=(t,e)=>n=>e(t(n)),fu=(...t)=>t.reduce(K7),Wx=new Set(["none","hidden"]);function G7(t,e){return Wx.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Y7(t,e){return n=>_t(t,e,n)}function ib(t){return typeof t=="number"?Y7:typeof t=="string"?$1(t)?Vp:bn.test(t)?xj:Q7:Array.isArray(t)?L6:typeof t=="object"?bn.test(t)?xj:X7:Vp}function L6(t,e){const n=[...t],s=n.length,i=t.map((a,o)=>ib(a)(a,e[o]));return a=>{for(let o=0;o<s;o++)n[o]=i[o](a);return n}}function X7(t,e){const n={...t,...e},s={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(s[i]=ib(t[i])(t[i],e[i]));return i=>{for(const a in s)n[a]=s[a](i);return n}}function Z7(t,e){var n;const s=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const o=e.types[a],l=t.indexes[o][i[o]],c=(n=t.values[l])!==null&&n!==void 0?n:0;s[a]=c,i[o]++}return s}const Q7=(t,e)=>{const n=Ui.createTransformer(e),s=Ad(t),i=Ad(e);return s.indexes.var.length===i.indexes.var.length&&s.indexes.color.length===i.indexes.color.length&&s.indexes.number.length>=i.indexes.number.length?Wx.has(t)&&!i.values.length||Wx.has(e)&&!s.values.length?G7(t,e):fu(L6(Z7(s,i),i.values),n):Vp(t,e)};function A6(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?_t(t,e,n):ib(t)(t,e)}const J7=5;function I6(t,e,n){const s=Math.max(e-J7,0);return Q1(n-t(s),e-s)}const Dt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},gg=.001;function eD({duration:t=Dt.duration,bounce:e=Dt.bounce,velocity:n=Dt.velocity,mass:s=Dt.mass}){let i,a,o=1-e;o=Er(Dt.minDamping,Dt.maxDamping,o),t=Er(Dt.minDuration,Dt.maxDuration,Vr(t)),o<1?(i=u=>{const d=u*o,h=d*t,p=d-n,m=Hx(u,o),g=Math.exp(-h);return gg-p/m*g},a=u=>{const h=u*o*t,p=h*n+n,m=Math.pow(o,2)*Math.pow(u,2)*t,g=Math.exp(-h),x=Hx(Math.pow(u,2),o);return(-i(u)+gg>0?-1:1)*((p-m)*g)/x}):(i=u=>{const d=Math.exp(-u*t),h=(u-n)*t+1;return-gg+d*h},a=u=>{const d=Math.exp(-u*t),h=(n-u)*(t*t);return d*h});const l=5/t,c=nD(i,a,l);if(t=Ur(t),isNaN(c))return{stiffness:Dt.stiffness,damping:Dt.damping,duration:t};{const u=Math.pow(c,2)*s;return{stiffness:u,damping:o*2*Math.sqrt(s*u),duration:t}}}const tD=12;function nD(t,e,n){let s=n;for(let i=1;i<tD;i++)s=s-t(s)/e(s);return s}function Hx(t,e){return t*Math.sqrt(1-e*e)}const sD=["duration","bounce"],rD=["stiffness","damping","mass"];function vj(t,e){return e.some(n=>t[n]!==void 0)}function iD(t){let e={velocity:Dt.velocity,stiffness:Dt.stiffness,damping:Dt.damping,mass:Dt.mass,isResolvedFromDuration:!1,...t};if(!vj(t,rD)&&vj(t,sD))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),i=s*s,a=2*Er(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Dt.mass,stiffness:i,damping:a}}else{const n=eD(t);e={...e,...n,mass:Dt.mass},e.isResolvedFromDuration=!0}return e}function O6(t=Dt.visualDuration,e=Dt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:i}=n;const a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:u,mass:d,duration:h,velocity:p,isResolvedFromDuration:m}=iD({...n,velocity:-Vr(n.velocity||0)}),g=p||0,x=u/(2*Math.sqrt(c*d)),b=o-a,v=Vr(Math.sqrt(c/d)),y=Math.abs(b)<5;s||(s=y?Dt.restSpeed.granular:Dt.restSpeed.default),i||(i=y?Dt.restDelta.granular:Dt.restDelta.default);let w;if(x<1){const N=Hx(v,x);w=S=>{const M=Math.exp(-x*v*S);return o-M*((g+x*v*b)/N*Math.sin(N*S)+b*Math.cos(N*S))}}else if(x===1)w=N=>o-Math.exp(-v*N)*(b+(g+v*b)*N);else{const N=v*Math.sqrt(x*x-1);w=S=>{const M=Math.exp(-x*v*S),j=Math.min(N*S,300);return o-M*((g+x*v*b)*Math.sinh(j)+N*b*Math.cosh(j))/N}}const k={calculatedDuration:m&&h||null,next:N=>{const S=w(N);if(m)l.done=N>=h;else{let M=0;x<1&&(M=N===0?Ur(g):I6(w,N,S));const j=Math.abs(M)<=s,C=Math.abs(o-S)<=i;l.done=j&&C}return l.value=l.done?o:S,l},toString:()=>{const N=Math.min(JE(k),Dx),S=e6(M=>k.next(N*M).value,N,30);return N+"ms "+S}};return k}function yj({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=t[0],p={done:!1,value:h},m=j=>l!==void 0&&j<l||c!==void 0&&j>c,g=j=>l===void 0?c:c===void 0||Math.abs(l-j)<Math.abs(c-j)?l:c;let x=n*e;const b=h+x,v=o===void 0?b:o(b);v!==b&&(x=v-h);const y=j=>-x*Math.exp(-j/s),w=j=>v+y(j),k=j=>{const C=y(j),L=w(j);p.done=Math.abs(C)<=u,p.value=p.done?v:L};let N,S;const M=j=>{m(p.value)&&(N=j,S=O6({keyframes:[p.value,g(p.value)],velocity:I6(w,j,p.value),damping:i,stiffness:a,restDelta:u,restSpeed:d}))};return M(0),{calculatedDuration:null,next:j=>{let C=!1;return!S&&N===void 0&&(C=!0,k(j),M(j)),N!==void 0&&j>=N?S.next(j-N):(!C&&k(j),p)}}}const aD=pu(.42,0,1,1),oD=pu(0,0,.58,1),R6=pu(.42,0,.58,1),lD=t=>Array.isArray(t)&&typeof t[0]!="number",cD={linear:Rn,easeIn:aD,easeInOut:R6,easeOut:oD,circIn:eb,circInOut:g6,circOut:m6,backIn:J1,backInOut:p6,backOut:h6,anticipate:f6},bj=t=>{if(K1(t)){TE(t.length===4);const[e,n,s,i]=t;return pu(e,n,s,i)}else if(typeof t=="string")return cD[t];return t};function dD(t,e,n){const s=[],i=n||A6,a=t.length-1;for(let o=0;o<a;o++){let l=i(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||Rn:e;l=fu(c,l)}s.push(l)}return s}function ab(t,e,{clamp:n=!0,ease:s,mixer:i}={}){const a=t.length;if(TE(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=dD(e,s,i),c=l.length,u=d=>{if(o&&d<t[0])return e[0];let h=0;if(c>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const p=Ya(t[h],t[h+1],d);return l[h](p)};return n?d=>u(Er(t[0],t[a-1],d)):u}function uD(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const i=Ya(0,e,s);t.push(_t(n,1,i))}}function D6(t){const e=[0];return uD(e,t.length-1),e}function hD(t,e){return t.map(n=>n*e)}function pD(t,e){return t.map(()=>e||R6).splice(0,t.length-1)}function Wp({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const i=lD(s)?s.map(bj):bj(s),a={done:!1,value:e[0]},o=hD(n&&n.length===e.length?n:D6(e),t),l=ab(o,e,{ease:Array.isArray(i)?i:pD(e,i)});return{calculatedDuration:t,next:c=>(a.value=l(c),a.done=c>=t,a)}}const fD=t=>{const e=({timestamp:n})=>t(n);return{start:()=>st.update(e,!0),stop:()=>er(e),now:()=>sn.isProcessing?sn.timestamp:jr.now()}},mD={decay:yj,inertia:yj,tween:Wp,keyframes:Wp,spring:O6},gD=t=>t/100;class ob extends T6{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:s,element:i,keyframes:a}=this.options,o=(i==null?void 0:i.KeyframeResolver)||rb,l=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new o(a,l,n,s,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=this.options,l=q1(n)?n:mD[n]||Wp;let c,u;l!==Wp&&typeof e[0]!="number"&&(c=fu(gD,A6(e[0],e[1])),e=[0,100]);const d=l({...this.options,keyframes:e});a==="mirror"&&(u=l({...this.options,keyframes:[...e].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=JE(d));const{calculatedDuration:h}=d,p=h+i,m=p*(s+1)-i;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:h,resolvedDuration:p,totalDuration:m}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:s}=this;if(!s){const{keyframes:j}=this.options;return{done:!0,value:j[j.length-1]}}const{finalKeyframe:i,generator:a,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:h}=s;if(this.startTime===null)return a.next(0);const{delay:p,repeat:m,repeatType:g,repeatDelay:x,onUpdate:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const v=this.currentTime-p*(this.speed>=0?1:-1),y=this.speed>=0?v<0:v>d;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let w=this.currentTime,k=a;if(m){const j=Math.min(this.currentTime,d)/h;let C=Math.floor(j),L=j%1;!L&&j>=1&&(L=1),L===1&&C--,C=Math.min(C,m+1),!!(C%2)&&(g==="reverse"?(L=1-L,x&&(L-=x/h)):g==="mirror"&&(k=o)),w=Er(0,1,L)*h}const N=y?{done:!1,value:c[0]}:k.next(w);l&&(N.value=l(N.value));let{done:S}=N;!y&&u!==null&&(S=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return M&&i!==void 0&&(N.value=um(c,this.options,i)),b&&b(N.value),M&&this.finish(),N}get duration(){const{resolved:e}=this;return e?Vr(e.calculatedDuration):0}get time(){return Vr(this.currentTime)}set time(e){e=Ur(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Vr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=fD,onPlay:n,startTime:s}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=s??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const xD=new Set(["opacity","clipPath","filter","transform"]);function vD(t,e,n,{delay:s=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const u={[e]:n};c&&(u.offset=c);const d=n6(l,i);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:s,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}const yD=M1(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Hp=10,bD=2e4;function wD(t){return q1(t.type)||t.type==="spring"||!t6(t.ease)}function jD(t,e){const n=new ob({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let s={done:!1,value:t[0]};const i=[];let a=0;for(;!s.done&&a<bD;)s=n.sample(a),i.push(s.value),a+=Hp;return{times:void 0,keyframes:i,duration:a-Hp,ease:"linear"}}const $6={anticipate:f6,backInOut:p6,circInOut:g6};function ND(t){return t in $6}class wj extends T6{constructor(e){super(e);const{name:n,motionValue:s,element:i,keyframes:a}=this.options;this.resolver=new M6(a,(o,l)=>this.onKeyframesResolved(o,l),n,s,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:s=300,times:i,ease:a,type:o,motionValue:l,name:c,startTime:u}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof a=="string"&&Up()&&ND(a)&&(a=$6[a]),wD(this.options)){const{onComplete:h,onUpdate:p,motionValue:m,element:g,...x}=this.options,b=jD(e,x);e=b.keyframes,e.length===1&&(e[1]=e[0]),s=b.duration,i=b.times,a=b.ease,o="keyframes"}const d=vD(l.owner.current,c,e,{...this.options,duration:s,times:i,ease:a});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(ij(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;l.set(um(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:s,times:i,type:o,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Vr(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Vr(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.currentTime=Ur(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Rn;const{animation:s}=n;ij(s,e)}return Rn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:s,duration:i,type:a,ease:o,times:l}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:h,element:p,...m}=this.options,g=new ob({...m,keyframes:s,duration:i,type:a,ease:o,times:l,isGenerator:!0}),x=Ur(this.time);u.setWithVelocity(g.sample(x-Hp).value,g.sample(x).value,Hp)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:s,repeatDelay:i,repeatType:a,damping:o,type:l}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=n.owner.getProps();return yD()&&s&&xD.has(s)&&!c&&!u&&!i&&a!=="mirror"&&o!==0&&l!=="inertia"}}const kD={type:"spring",stiffness:500,damping:25,restSpeed:10},SD=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),CD={type:"keyframes",duration:.8},ED={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},PD=(t,{keyframes:e})=>e.length>2?CD:ro.has(t)?t.startsWith("scale")?SD(e[1]):kD:ED;function _D({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const lb=(t,e,n,s={},i,a)=>o=>{const l=H1(s,t)||{},c=l.delay||s.delay||0;let{elapsed:u=0}=s;u=u-Ur(c);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-u,onUpdate:p=>{e.set(p),l.onUpdate&&l.onUpdate(p)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:a?void 0:i};_D(l)||(d={...d,...PD(t,d)}),d.duration&&(d.duration=Ur(d.duration)),d.repeatDelay&&(d.repeatDelay=Ur(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),T1.skipAnimations&&(h=!0,d.duration=0,d.delay=0),h&&!a&&e.get()!==void 0){const p=um(d.keyframes,l);if(p!==void 0)return st.update(()=>{d.onUpdate(p),d.onComplete()}),new ZR([])}return!a&&wj.supports(d)?new wj(d):new ob(d)};function MD({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function F6(t,e,{delay:n=0,transitionOverride:s,type:i}={}){var a;let{transition:o=t.getDefaultTransition(),transitionEnd:l,...c}=e;s&&(o=s);const u=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const h in c){const p=t.getValue(h,(a=t.latestValues[h])!==null&&a!==void 0?a:null),m=c[h];if(m===void 0||d&&MD(d,h))continue;const g={delay:n,...H1(o||{},h)};let x=!1;if(window.MotionHandoffAnimation){const v=l6(t);if(v){const y=window.MotionHandoffAnimation(v,h,st);y!==null&&(g.startTime=y,x=!0)}}Fx(t,h),p.start(lb(h,p,m,t.shouldReduceMotion&&o6.has(h)?{type:!1}:g,t,x));const b=p.animation;b&&u.push(b)}return l&&Promise.all(u).then(()=>{st.update(()=>{l&&d7(t,l)})}),u}function qx(t,e,n={}){var s;const i=dm(t,e,n.type==="exit"?(s=t.presenceContext)===null||s===void 0?void 0:s.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const o=i?()=>Promise.all(F6(t,i,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:p}=a;return TD(t,e,d+u,h,p,n)}:()=>Promise.resolve(),{when:c}=a;if(c){const[u,d]=c==="beforeChildren"?[o,l]:[l,o];return u().then(()=>d())}else return Promise.all([o(),l(n.delay)])}function TD(t,e,n=0,s=0,i=1,a){const o=[],l=(t.variantChildren.size-1)*s,c=i===1?(u=0)=>u*s:(u=0)=>l-u*s;return Array.from(t.variantChildren).sort(LD).forEach((u,d)=>{u.notify("AnimationStart",e),o.push(qx(u,e,{...a,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function LD(t,e){return t.sortNodePosition(e)}function AD(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const i=e.map(a=>qx(t,a,n));s=Promise.all(i)}else if(typeof e=="string")s=qx(t,e,n);else{const i=typeof e=="function"?dm(t,e,n.custom):e;s=Promise.all(F6(t,i,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}const ID=A1.length;function z6(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?z6(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<ID;n++){const s=A1[n],i=t.props[s];(Td(i)||i===!1)&&(e[s]=i)}return e}const OD=[...L1].reverse(),RD=L1.length;function DD(t){return e=>Promise.all(e.map(({animation:n,options:s})=>AD(t,n,s)))}function $D(t){let e=DD(t),n=jj(),s=!0;const i=c=>(u,d)=>{var h;const p=dm(t,d,c==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(p){const{transition:m,transitionEnd:g,...x}=p;u={...u,...x,...g}}return u};function a(c){e=c(t)}function o(c){const{props:u}=t,d=z6(t.parent)||{},h=[],p=new Set;let m={},g=1/0;for(let b=0;b<RD;b++){const v=OD[b],y=n[v],w=u[v]!==void 0?u[v]:d[v],k=Td(w),N=v===c?y.isActive:null;N===!1&&(g=b);let S=w===d[v]&&w!==u[v]&&k;if(S&&s&&t.manuallyAnimateOnMount&&(S=!1),y.protectedKeys={...m},!y.isActive&&N===null||!w&&!y.prevProp||lm(w)||typeof w=="boolean")continue;const M=FD(y.prevProp,w);let j=M||v===c&&y.isActive&&!S&&k||b>g&&k,C=!1;const L=Array.isArray(w)?w:[w];let O=L.reduce(i(v),{});N===!1&&(O={});const{prevResolvedValues:F={}}=y,$={...F,...O},I=E=>{j=!0,p.has(E)&&(C=!0,p.delete(E)),y.needsAnimating[E]=!0;const T=t.getValue(E);T&&(T.liveStyle=!1)};for(const E in $){const T=O[E],D=F[E];if(m.hasOwnProperty(E))continue;let R=!1;Rx(T)&&Rx(D)?R=!ZE(T,D):R=T!==D,R?T!=null?I(E):p.add(E):T!==void 0&&p.has(E)?I(E):y.protectedKeys[E]=!0}y.prevProp=w,y.prevResolvedValues=O,y.isActive&&(m={...m,...O}),s&&t.blockInitialAnimation&&(j=!1),j&&(!(S&&M)||C)&&h.push(...L.map(E=>({animation:E,options:{type:v}})))}if(p.size){const b={};p.forEach(v=>{const y=t.getBaseTarget(v),w=t.getValue(v);w&&(w.liveStyle=!0),b[v]=y??null}),h.push({animation:b})}let x=!!h.length;return s&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(x=!1),s=!1,x?e(h):Promise.resolve()}function l(c,u){var d;if(n[c].isActive===u)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(p=>{var m;return(m=p.animationState)===null||m===void 0?void 0:m.setActive(c,u)}),n[c].isActive=u;const h=o(c);for(const p in n)n[p].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>n,reset:()=>{n=jj(),s=!0}}}function FD(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!ZE(e,t):!1}function sa(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function jj(){return{animate:sa(!0),whileInView:sa(),whileHover:sa(),whileTap:sa(),whileDrag:sa(),whileFocus:sa(),exit:sa()}}let Zi=class{constructor(e){this.isMounted=!1,this.node=e}update(){}},zD=class extends Zi{constructor(e){super(e),e.animationState||(e.animationState=$D(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();lm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}},BD=0,UD=class extends Zi{constructor(){super(...arguments),this.id=BD++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}};const VD={animation:{Feature:zD},exit:{Feature:UD}};function Id(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function mu(t){return{point:{x:t.pageX,y:t.pageY}}}const WD=t=>e=>G1(e)&&t(e,mu(e));function Yc(t,e,n,s){return Id(t,e,WD(n),s)}const Nj=(t,e)=>Math.abs(t-e);function HD(t,e){const n=Nj(t.x,e.x),s=Nj(t.y,e.y);return Math.sqrt(n**2+s**2)}let B6=class{constructor(e,n,{transformPagePoint:s,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=vg(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=HD(h.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:g}=h,{timestamp:x}=sn;this.history.push({...g,timestamp:x});const{onStart:b,onMove:v}=this.handlers;p||(b&&b(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=xg(p,this.transformPagePoint),st.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:m,onSessionEnd:g,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=vg(h.type==="pointercancel"?this.lastMoveEventInfo:xg(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,b),g&&g(h,b)},!G1(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=s,this.contextWindow=i||window;const o=mu(e),l=xg(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=sn;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,vg(l,this.history)),this.removeListeners=fu(Yc(this.contextWindow,"pointermove",this.handlePointerMove),Yc(this.contextWindow,"pointerup",this.handlePointerUp),Yc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),er(this.updatePoint)}};function xg(t,e){return e?{point:e(t.point)}:t}function kj(t,e){return{x:t.x-e.x,y:t.y-e.y}}function vg({point:t},e){return{point:t,delta:kj(t,U6(e)),offset:kj(t,qD(e)),velocity:KD(e,.1)}}function qD(t){return t[0]}function U6(t){return t[t.length-1]}function KD(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const i=U6(t);for(;n>=0&&(s=t[n],!(i.timestamp-s.timestamp>Ur(e)));)n--;if(!s)return{x:0,y:0};const a=Vr(i.timestamp-s.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-s.x)/a,y:(i.y-s.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const V6=1e-4,GD=1-V6,YD=1+V6,W6=.01,XD=0-W6,ZD=0+W6;function us(t){return t.max-t.min}function QD(t,e,n){return Math.abs(t-e)<=n}function Sj(t,e,n,s=.5){t.origin=s,t.originPoint=_t(e.min,e.max,t.origin),t.scale=us(n)/us(e),t.translate=_t(n.min,n.max,t.origin)-t.originPoint,(t.scale>=GD&&t.scale<=YD||isNaN(t.scale))&&(t.scale=1),(t.translate>=XD&&t.translate<=ZD||isNaN(t.translate))&&(t.translate=0)}function Xc(t,e,n,s){Sj(t.x,e.x,n.x,s?s.originX:void 0),Sj(t.y,e.y,n.y,s?s.originY:void 0)}function Cj(t,e,n){t.min=n.min+e.min,t.max=t.min+us(e)}function JD(t,e,n){Cj(t.x,e.x,n.x),Cj(t.y,e.y,n.y)}function Ej(t,e,n){t.min=e.min-n.min,t.max=t.min+us(e)}function Zc(t,e,n){Ej(t.x,e.x,n.x),Ej(t.y,e.y,n.y)}function e9(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?_t(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?_t(n,t,s.max):Math.min(t,n)),t}function Pj(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function t9(t,{top:e,left:n,bottom:s,right:i}){return{x:Pj(t.x,n,i),y:Pj(t.y,e,s)}}function _j(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function n9(t,e){return{x:_j(t.x,e.x),y:_j(t.y,e.y)}}function s9(t,e){let n=.5;const s=us(t),i=us(e);return i>s?n=Ya(e.min,e.max-s,t.min):s>i&&(n=Ya(t.min,t.max-i,e.min)),Er(0,1,n)}function r9(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Kx=.35;function i9(t=Kx){return t===!1?t=0:t===!0&&(t=Kx),{x:Mj(t,"left","right"),y:Mj(t,"top","bottom")}}function Mj(t,e,n){return{min:Tj(t,e),max:Tj(t,n)}}function Tj(t,e){return typeof t=="number"?t:t[e]||0}const Lj=()=>({translate:0,scale:1,origin:0,originPoint:0}),Oo=()=>({x:Lj(),y:Lj()}),Aj=()=>({min:0,max:0}),Bt=()=>({x:Aj(),y:Aj()});function ys(t){return[t("x"),t("y")]}function H6({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function a9({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function o9(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function yg(t){return t===void 0||t===1}function Gx({scale:t,scaleX:e,scaleY:n}){return!yg(t)||!yg(e)||!yg(n)}function ua(t){return Gx(t)||q6(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function q6(t){return Ij(t.x)||Ij(t.y)}function Ij(t){return t&&t!=="0%"}function qp(t,e,n){const s=t-n,i=e*s;return n+i}function Oj(t,e,n,s,i){return i!==void 0&&(t=qp(t,i,s)),qp(t,n,s)+e}function Yx(t,e=0,n=1,s,i){t.min=Oj(t.min,e,n,s,i),t.max=Oj(t.max,e,n,s,i)}function K6(t,{x:e,y:n}){Yx(t.x,e.translate,e.scale,e.originPoint),Yx(t.y,n.translate,n.scale,n.originPoint)}const Rj=.999999999999,Dj=1.0000000000001;function l9(t,e,n,s=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,o;for(let l=0;l<i;l++){a=n[l],o=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Do(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,K6(t,o)),s&&ua(a.latestValues)&&Do(t,a.latestValues))}e.x<Dj&&e.x>Rj&&(e.x=1),e.y<Dj&&e.y>Rj&&(e.y=1)}function Ro(t,e){t.min=t.min+e,t.max=t.max+e}function $j(t,e,n,s,i=.5){const a=_t(t.min,t.max,i);Yx(t,e,n,a,s)}function Do(t,e){$j(t.x,e.x,e.scaleX,e.scale,e.originX),$j(t.y,e.y,e.scaleY,e.scale,e.originY)}function G6(t,e){return H6(o9(t.getBoundingClientRect(),e))}function c9(t,e,n){const s=G6(t,n),{scroll:i}=e;return i&&(Ro(s.x,i.offset.x),Ro(s.y,i.offset.y)),s}const Y6=({current:t})=>t?t.ownerDocument.defaultView:null,d9=new WeakMap;let u9=class{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Bt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(mu(d).point)},a=(d,h)=>{const{drag:p,dragPropagation:m,onDragStart:g}=this.getProps();if(p&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=i7(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ys(b=>{let v=this.getAxisMotionValue(b).get()||0;if(wr.test(v)){const{projection:y}=this.visualElement;if(y&&y.layout){const w=y.layout.layoutBox[b];w&&(v=us(w)*(parseFloat(v)/100))}}this.originPoint[b]=v}),g&&st.postRender(()=>g(d,h)),Fx(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:g,onDrag:x}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:b}=h;if(m&&this.currentDirection===null){this.currentDirection=h9(b),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",h.point,b),this.updateAxis("y",h.point,b),this.visualElement.render(),x&&x(d,h)},l=(d,h)=>this.stop(d,h),c=()=>ys(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new B6(e,{onSessionStart:i,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:Y6(this.visualElement)})}stop(e,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&st.postRender(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:i}=this.getProps();if(!s||!Yu(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let o=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(o=e9(o,this.constraints[e],this.elastic[e])),a.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:s}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&Ao(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=t9(i.layoutBox,n):this.constraints=!1,this.elastic=i9(s),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ys(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=r9(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ao(e))return!1;const s=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=c9(s,i.root,this.visualElement.getTransformPagePoint());let o=n9(i.layout.layoutBox,a);if(n){const l=n(a9(o));this.hasMutatedConstraints=!!l,l&&(o=H6(l))}return o}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=ys(d=>{if(!Yu(d,n,this.currentDirection))return;let h=c&&c[d]||{};o&&(h={min:0,max:0});const p=i?200:1e6,m=i?40:1e7,g={type:"inertia",velocity:s?e[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(d,g)});return Promise.all(u).then(l)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return Fx(this.visualElement,e),s.start(lb(e,s,0,n,this.visualElement,!1))}stopAnimation(){ys(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ys(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),i=s[n];return i||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){ys(n=>{const{drag:s}=this.getProps();if(!Yu(n,s,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[n];a.set(e[n]-_t(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Ao(n)||!s||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ys(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();i[o]=s9({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),ys(o=>{if(!Yu(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(_t(c,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;d9.set(this.visualElement,this);const e=this.visualElement.current,n=Yc(e,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();Ao(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",s);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),st.read(s);const o=Id(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(ys(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),n(),a(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=Kx,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:l}}};function Yu(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function h9(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}let p9=class extends Zi{constructor(e){super(e),this.removeGroupControls=Rn,this.removeListeners=Rn,this.controls=new u9(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Rn}unmount(){this.removeGroupControls(),this.removeListeners()}};const Fj=t=>(e,n)=>{t&&st.postRender(()=>t(e,n))};let f9=class extends Zi{constructor(){super(...arguments),this.removePointerDownListener=Rn}onPointerDown(e){this.session=new B6(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Y6(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:Fj(e),onStart:Fj(n),onMove:s,onEnd:(a,o)=>{delete this.session,i&&st.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=Yc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}};const Hh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function zj(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const sc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if($e.test(t))t=parseFloat(t);else return t;const n=zj(t,e.target.x),s=zj(t,e.target.y);return`${n}% ${s}%`}},m9={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,i=Ui.parse(t);if(i.length>5)return s;const a=Ui.createTransformer(t),o=typeof i[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;i[0+o]/=l,i[1+o]/=c;const u=_t(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),a(i)}};let g9=class extends f.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:i}=this.props,{projection:a}=e;zR(x9),a&&(n.group&&n.group.add(a),s&&s.register&&i&&s.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Hh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:i,isPresent:a}=this.props,o=s.projection;return o&&(o.isPresent=a,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?o.promote():o.relegate()||st.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),O1.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}};function X6(t){const[e,n]=ME(),s=f.useContext(E1);return r.jsx(g9,{...t,layoutGroup:s,switchLayoutGroup:f.useContext($E),isPresent:e,safeToRemove:n})}const x9={borderRadius:{...sc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:sc,borderTopRightRadius:sc,borderBottomLeftRadius:sc,borderBottomRightRadius:sc,boxShadow:m9};function v9(t,e,n){const s=Sn(t)?t:xr(t);return s.start(lb("",s,e,n)),s.animation}function y9(t){return t instanceof SVGElement&&t.tagName!=="svg"}const b9=(t,e)=>t.depth-e.depth;let w9=class{constructor(){this.children=[],this.isDirty=!1}add(e){Y1(this.children,e),this.isDirty=!0}remove(e){X1(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(b9),this.isDirty=!1,this.children.forEach(e)}};function j9(t,e){const n=jr.now(),s=({timestamp:i})=>{const a=i-n;a>=e&&(er(s),t(a-e))};return st.read(s,!0),()=>er(s)}const Z6=["TopLeft","TopRight","BottomLeft","BottomRight"],N9=Z6.length,Bj=t=>typeof t=="string"?parseFloat(t):t,Uj=t=>typeof t=="number"||$e.test(t);function k9(t,e,n,s,i,a){i?(t.opacity=_t(0,n.opacity!==void 0?n.opacity:1,S9(s)),t.opacityExit=_t(e.opacity!==void 0?e.opacity:1,0,C9(s))):a&&(t.opacity=_t(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,s));for(let o=0;o<N9;o++){const l=`border${Z6[o]}Radius`;let c=Vj(e,l),u=Vj(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Uj(c)===Uj(u)?(t[l]=Math.max(_t(Bj(c),Bj(u),s),0),(wr.test(u)||wr.test(c))&&(t[l]+="%")):t[l]=u}(e.rotate||n.rotate)&&(t.rotate=_t(e.rotate||0,n.rotate||0,s))}function Vj(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const S9=Q6(0,.5,m6),C9=Q6(.5,.95,Rn);function Q6(t,e,n){return s=>s<t?0:s>e?1:n(Ya(t,e,s))}function Wj(t,e){t.min=e.min,t.max=e.max}function xs(t,e){Wj(t.x,e.x),Wj(t.y,e.y)}function Hj(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function qj(t,e,n,s,i){return t-=e,t=qp(t,1/n,s),i!==void 0&&(t=qp(t,1/i,s)),t}function E9(t,e=0,n=1,s=.5,i,a=t,o=t){if(wr.test(e)&&(e=parseFloat(e),e=_t(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=_t(a.min,a.max,s);t===a&&(l-=e),t.min=qj(t.min,e,n,l,i),t.max=qj(t.max,e,n,l,i)}function Kj(t,e,[n,s,i],a,o){E9(t,e[n],e[s],e[i],e.scale,a,o)}const P9=["x","scaleX","originX"],_9=["y","scaleY","originY"];function Gj(t,e,n,s){Kj(t.x,e,P9,n?n.x:void 0,s?s.x:void 0),Kj(t.y,e,_9,n?n.y:void 0,s?s.y:void 0)}function Yj(t){return t.translate===0&&t.scale===1}function J6(t){return Yj(t.x)&&Yj(t.y)}function Xj(t,e){return t.min===e.min&&t.max===e.max}function M9(t,e){return Xj(t.x,e.x)&&Xj(t.y,e.y)}function Zj(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function eP(t,e){return Zj(t.x,e.x)&&Zj(t.y,e.y)}function Qj(t){return us(t.x)/us(t.y)}function Jj(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}let T9=class{constructor(){this.members=[]}add(e){Y1(this.members,e),e.scheduleRender()}remove(e){if(X1(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let s;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){s=a;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}};function L9(t,e,n){let s="";const i=t.x.translate/e.x,a=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||a||o)&&(s=`translate3d(${i}px, ${a}px, ${o}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:p,skewX:m,skewY:g}=n;u&&(s=`perspective(${u}px) ${s}`),d&&(s+=`rotate(${d}deg) `),h&&(s+=`rotateX(${h}deg) `),p&&(s+=`rotateY(${p}deg) `),m&&(s+=`skewX(${m}deg) `),g&&(s+=`skewY(${g}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(s+=`scale(${l}, ${c})`),s||"none"}const ha={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},_c=typeof window<"u"&&window.MotionDebug!==void 0,bg=["","X","Y","Z"],A9={visibility:"hidden"},eN=1e3;let I9=0;function wg(t,e,n,s){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),s&&(s[t]=0))}function tP(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=l6(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",st,!(i||a))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&tP(s)}function nP({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(o={},l=e==null?void 0:e()){this.id=I9++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,_c&&(ha.totalNodes=ha.resolvedTargetDeltas=ha.recalculatedProjection=0),this.nodes.forEach(D9),this.nodes.forEach(U9),this.nodes.forEach(V9),this.nodes.forEach($9),_c&&window.MotionDebug.record(ha)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new w9)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Z1),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=y9(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),t){let h;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=j9(p,250),Hh.hasAnimatedSinceResize&&(Hh.hasAnimatedSinceResize=!1,this.nodes.forEach(nN))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||G9,{onLayoutAnimationStart:b,onLayoutAnimationComplete:v}=d.getProps(),y=!this.targetLayout||!eP(this.targetLayout,g)||m,w=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||p&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,w);const k={...H1(x,"layout"),onPlay:b,onComplete:v};(d.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k)}else p||nN(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,er(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(W9),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&tP(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(tN);return}this.isUpdating||this.nodes.forEach(z9),this.isUpdating=!1,this.nodes.forEach(B9),this.nodes.forEach(O9),this.nodes.forEach(R9),this.clearAllSnapshots();const l=jr.now();sn.delta=Er(0,1e3/60,l-sn.timestamp),sn.timestamp=l,sn.isProcessing=!0,ug.update.process(sn),ug.preRender.process(sn),ug.render.process(sn),sn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,O1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(F9),this.sharedNodes.forEach(H9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,st.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){st.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Bt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!J6(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(l||ua(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),Y9(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return Bt();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(X9))){const{scroll:d}=this.root;d&&(Ro(c.x,d.offset.x),Ro(c.y,d.offset.y))}return c}removeElementScroll(o){var l;const c=Bt();if(xs(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:p}=d;d!==this.root&&h&&p.layoutScroll&&(h.wasRoot&&xs(c,o),Ro(c.x,h.offset.x),Ro(c.y,h.offset.y))}return c}applyTransform(o,l=!1){const c=Bt();xs(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Do(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),ua(d.latestValues)&&Do(c,d.latestValues)}return ua(this.latestValues)&&Do(c,this.latestValues),c}removeTransform(o){const l=Bt();xs(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!ua(u.latestValues))continue;Gx(u.latestValues)&&u.updateSnapshot();const d=Bt(),h=u.measurePageBox();xs(d,h),Gj(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return ua(this.latestValues)&&Gj(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==sn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=sn.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Bt(),this.relativeTargetOrigin=Bt(),Zc(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),xs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Bt(),this.targetWithTransforms=Bt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),JD(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):xs(this.target,this.layout.layoutBox),K6(this.target,this.targetDelta)):xs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Bt(),this.relativeTargetOrigin=Bt(),Zc(this.relativeTargetOrigin,this.target,m.target),xs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}_c&&ha.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Gx(this.parent.latestValues)||q6(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===sn.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;xs(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;l9(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Bt());const{target:g}=l;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Hj(this.prevProjectionDelta.x,this.projectionDelta.x),Hj(this.prevProjectionDelta.y,this.projectionDelta.y)),Xc(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==m||!Jj(this.projectionDelta.x,this.prevProjectionDelta.x)||!Jj(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),_c&&ha.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Oo(),this.projectionDelta=Oo(),this.projectionDeltaWithTransform=Oo()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=Oo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=Bt(),m=c?c.source:void 0,g=this.layout?this.layout.source:void 0,x=m!==g,b=this.getStack(),v=!b||b.members.length<=1,y=!!(x&&!v&&this.options.crossfade===!0&&!this.path.some(K9));this.animationProgress=0;let w;this.mixTargetDelta=k=>{const N=k/1e3;sN(h.x,o.x,N),sN(h.y,o.y,N),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Zc(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),q9(this.relativeTarget,this.relativeTargetOrigin,p,N),w&&M9(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Bt()),xs(w,this.relativeTarget)),x&&(this.animationValues=d,k9(d,u,this.latestValues,N,y,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(er(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=st.update(()=>{Hh.hasAnimatedSinceResize=!0,this.currentAnimation=v9(0,eN,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(eN),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&sP(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Bt();const h=us(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const p=us(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+p}xs(l,c),Do(l,d),Xc(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new T9),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&wg("z",o,u,this.animationValues);for(let d=0;d<bg.length;d++)wg(`rotate${bg[d]}`,o,u,this.animationValues),wg(`skew${bg[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return A9;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Vh(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=Vh(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ua(this.latestValues)&&(x.transform=d?d({},""):"none",this.hasProjected=!1),x}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=L9(this.projectionDeltaWithTransform,this.treeScale,p),d&&(u.transform=d(p,u.transform));const{x:m,y:g}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${g.origin*100}% 0`,h.animationValues?u.opacity=h===this?(c=(l=p.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const x in Bp){if(p[x]===void 0)continue;const{correct:b,applyTo:v}=Bp[x],y=u.transform==="none"?p[x]:b(p[x],h);if(v){const w=v.length;for(let k=0;k<w;k++)u[v[k]]=y}else u[x]=y}return this.options.layoutId&&(u.pointerEvents=h===this?Vh(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(tN),this.root.sharedNodes.clear()}}}function O9(t){t.updateLayout()}function R9(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:i}=t.layout,{animationType:a}=t.options,o=n.source!==t.layout.source;a==="size"?ys(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],m=us(p);p.min=s[h].min,p.max=p.min+m}):sP(a,n.layoutBox,s)&&ys(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],m=us(s[h]);p.max=p.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const l=Oo();Xc(l,s,n.layoutBox);const c=Oo();o?Xc(c,t.applyTransform(i,!0),n.measuredBox):Xc(c,s,n.layoutBox);const u=!J6(l);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:m}=h;if(p&&m){const g=Bt();Zc(g,n.layoutBox,p.layoutBox);const x=Bt();Zc(x,s,m.layoutBox),eP(g,x)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=g,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function D9(t){_c&&ha.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function $9(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function F9(t){t.clearSnapshot()}function tN(t){t.clearMeasurements()}function z9(t){t.isLayoutDirty=!1}function B9(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function nN(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function U9(t){t.resolveTargetDelta()}function V9(t){t.calcProjection()}function W9(t){t.resetSkewAndRotation()}function H9(t){t.removeLeadSnapshot()}function sN(t,e,n){t.translate=_t(e.translate,0,n),t.scale=_t(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function rN(t,e,n,s){t.min=_t(e.min,n.min,s),t.max=_t(e.max,n.max,s)}function q9(t,e,n,s){rN(t.x,e.x,n.x,s),rN(t.y,e.y,n.y,s)}function K9(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const G9={duration:.45,ease:[.4,0,.1,1]},iN=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),aN=iN("applewebkit/")&&!iN("chrome/")?Math.round:Rn;function oN(t){t.min=aN(t.min),t.max=aN(t.max)}function Y9(t){oN(t.x),oN(t.y)}function sP(t,e,n){return t==="position"||t==="preserve-aspect"&&!QD(Qj(e),Qj(n),.2)}function X9(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const Z9=nP({attachResizeListener:(t,e)=>Id(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),jg={current:void 0},rP=nP({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!jg.current){const t=new Z9({});t.mount(window),t.setOptions({layoutScroll:!0}),jg.current=t}return jg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Q9={pan:{Feature:f9},drag:{Feature:p9,ProjectionNode:rP,MeasureLayout:X6}};function lN(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=s[i];a&&st.postRender(()=>a(e,mu(e)))}let J9=class extends Zi{mount(){const{current:e}=this.node;e&&(this.unmount=e7(e,n=>(lN(this.node,n,"Start"),s=>lN(this.node,s,"End"))))}unmount(){}},e$=class extends Zi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=fu(Id(this.node.current,"focus",()=>this.onFocus()),Id(this.node.current,"blur",()=>this.onBlur()))}unmount(){}};function cN(t,e,n){const{props:s}=t;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=s[i];a&&st.postRender(()=>a(e,mu(e)))}let t$=class extends Zi{mount(){const{current:e}=this.node;e&&(this.unmount=r7(e,n=>(cN(this.node,n,"Start"),(s,{success:i})=>cN(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}};const Xx=new WeakMap,Ng=new WeakMap,n$=t=>{const e=Xx.get(t.target);e&&e(t)},s$=t=>{t.forEach(n$)};function r$({root:t,...e}){const n=t||document;Ng.has(n)||Ng.set(n,{});const s=Ng.get(n),i=JSON.stringify(e);return s[i]||(s[i]=new IntersectionObserver(s$,{root:t,...e})),s[i]}function i$(t,e,n){const s=r$(e);return Xx.set(t,n),s.observe(t),()=>{Xx.delete(t),s.unobserve(t)}}const a$={some:0,all:1};let o$=class extends Zi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:i="some",once:a}=e,o={root:n?n.current:void 0,rootMargin:s,threshold:typeof i=="number"?i:a$[i]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),p=u?d:h;p&&p(c)};return i$(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(l$(e,n))&&this.startObserver()}unmount(){}};function l$({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const c$={inView:{Feature:o$},tap:{Feature:t$},focus:{Feature:e$},hover:{Feature:J9}},d$={layout:{ProjectionNode:rP,MeasureLayout:X6}},Zx={current:null},iP={current:!1};function u$(){if(iP.current=!0,!!P1)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Zx.current=t.matches;t.addListener(e),e()}else Zx.current=!1}const h$=[..._6,bn,Ui],p$=t=>h$.find(P6(t)),dN=new WeakMap;function f$(t,e,n){for(const s in e){const i=e[s],a=n[s];if(Sn(i))t.addValue(s,i);else if(Sn(a))t.addValue(s,xr(i,{owner:t}));else if(a!==i)if(t.hasValue(s)){const o=t.getValue(s);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(s);t.addValue(s,xr(o!==void 0?o:i,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const uN=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let m$=class{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:i,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=rb,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=jr.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,st.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:d}=o;this.onUpdate=d,this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=cm(n),this.isVariantNode=RE(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in p){const g=p[m];c[m]!==void 0&&Sn(g)&&g.set(c[m],!1)}}mount(e){this.current=e,dN.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),iP.current||u$(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Zx.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){dN.delete(this.current),this.projection&&this.projection.unmount(),er(this.notifyUpdate),er(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=ro.has(e),i=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&st.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in xl){const n=xl[e];if(!n)continue;const{isEnabled:s,Feature:i}=n;if(!this.features[e]&&i&&s(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Bt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<uN.length;s++){const i=uN[s];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=e[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=f$(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=xr(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){var s;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(s=this.getBaseTargetFromProps(this.props,e))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(C6(i)||x6(i))?i=parseFloat(i):!p$(i)&&Ui.test(n)&&(i=N6(e,n)),this.setBaseTarget(e,Sn(i)?i.get():i)),Sn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:s}=this.props;let i;if(typeof s=="string"||typeof s=="object"){const o=D1(this.props,s,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(s&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Sn(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Z1),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}},aP=class extends m${constructor(){super(...arguments),this.KeyframeResolver=M6}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Sn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}};function g$(t){return window.getComputedStyle(t)}let x$=class extends aP{constructor(){super(...arguments),this.type="html",this.renderInstance=HE}readValueFromInstance(e,n){if(ro.has(n)){const s=sb(n);return s&&s.default||0}else{const s=g$(e),i=(UE(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return G6(e,n)}build(e,n,s){z1(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return W1(e,n,s)}},v$=class extends aP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Bt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ro.has(n)){const s=sb(n);return s&&s.default||0}return n=qE.has(n)?n:I1(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return YE(e,n,s)}build(e,n,s){B1(e,n,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,s,i){KE(e,n,s,i)}mount(e){this.isSVGTag=V1(e.tagName),super.mount(e)}};const y$=(t,e)=>R1(t)?new v$(e):new x$(e,{allowProjection:t!==f.Fragment}),b$=YR({...VD,...c$,...Q9,...d$},y$),we=dR(b$);function oP(t,e){let n;const s=()=>{const{currentTime:i}=e,o=(i===null?0:i.value)/100;n!==o&&t(o),n=o};return st.update(s,!0),()=>er(s)}const qh=new WeakMap;let ri;function w$(t,e){if(e){const{inlineSize:n,blockSize:s}=e[0];return{width:n,height:s}}else return t instanceof SVGElement&&"getBBox"in t?t.getBBox():{width:t.offsetWidth,height:t.offsetHeight}}function j$({target:t,contentRect:e,borderBoxSize:n}){var s;(s=qh.get(t))===null||s===void 0||s.forEach(i=>{i({target:t,contentSize:e,get size(){return w$(t,n)}})})}function N$(t){t.forEach(j$)}function k$(){typeof ResizeObserver>"u"||(ri=new ResizeObserver(N$))}function S$(t,e){ri||k$();const n=r6(t);return n.forEach(s=>{let i=qh.get(s);i||(i=new Set,qh.set(s,i)),i.add(e),ri==null||ri.observe(s)}),()=>{n.forEach(s=>{const i=qh.get(s);i==null||i.delete(e),i!=null&&i.size||ri==null||ri.unobserve(s)})}}const Kh=new Set;let Qc;function C$(){Qc=()=>{const t={width:window.innerWidth,height:window.innerHeight},e={target:window,size:t,contentSize:t};Kh.forEach(n=>n(e))},window.addEventListener("resize",Qc)}function E$(t){return Kh.add(t),Qc||C$(),()=>{Kh.delete(t),!Kh.size&&Qc&&(Qc=void 0)}}function P$(t,e){return typeof t=="function"?E$(t):S$(t,e)}const _$=50,hN=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),M$=()=>({time:0,x:hN(),y:hN()}),T$={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function pN(t,e,n,s){const i=n[e],{length:a,position:o}=T$[e],l=i.current,c=n.time;i.current=t[`scroll${o}`],i.scrollLength=t[`scroll${a}`]-t[`client${a}`],i.offset.length=0,i.offset[0]=0,i.offset[1]=i.scrollLength,i.progress=Ya(0,i.scrollLength,i.current);const u=s-c;i.velocity=u>_$?0:Q1(i.current-l,u)}function L$(t,e,n){pN(t,"x",e,n),pN(t,"y",e,n),e.time=n}function A$(t,e){const n={x:0,y:0};let s=t;for(;s&&s!==e;)if(s instanceof HTMLElement)n.x+=s.offsetLeft,n.y+=s.offsetTop,s=s.offsetParent;else if(s.tagName==="svg"){const i=s.getBoundingClientRect();s=s.parentElement;const a=s.getBoundingClientRect();n.x+=i.left-a.left,n.y+=i.top-a.top}else if(s instanceof SVGGraphicsElement){const{x:i,y:a}=s.getBBox();n.x+=i,n.y+=a;let o=null,l=s.parentNode;for(;!o;)l.tagName==="svg"&&(o=l),l=s.parentNode;s=o}else break;return n}const Qx={start:0,center:.5,end:1};function fN(t,e,n=0){let s=0;if(t in Qx&&(t=Qx[t]),typeof t=="string"){const i=parseFloat(t);t.endsWith("px")?s=i:t.endsWith("%")?t=i/100:t.endsWith("vw")?s=i/100*document.documentElement.clientWidth:t.endsWith("vh")?s=i/100*document.documentElement.clientHeight:t=i}return typeof t=="number"&&(s=e*t),n+s}const I$=[0,0];function O$(t,e,n,s){let i=Array.isArray(t)?t:I$,a=0,o=0;return typeof t=="number"?i=[t,t]:typeof t=="string"&&(t=t.trim(),t.includes(" ")?i=t.split(" "):i=[t,Qx[t]?t:"0"]),a=fN(i[0],n,s),o=fN(i[1],e),a-o}const R$={All:[[0,0],[1,1]]},D$={x:0,y:0};function $$(t){return"getBBox"in t&&t.tagName!=="svg"?t.getBBox():{width:t.clientWidth,height:t.clientHeight}}function F$(t,e,n){const{offset:s=R$.All}=n,{target:i=t,axis:a="y"}=n,o=a==="y"?"height":"width",l=i!==t?A$(i,t):D$,c=i===t?{width:t.scrollWidth,height:t.scrollHeight}:$$(i),u={width:t.clientWidth,height:t.clientHeight};e[a].offset.length=0;let d=!e[a].interpolate;const h=s.length;for(let p=0;p<h;p++){const m=O$(s[p],u[o],c[o],l[a]);!d&&m!==e[a].interpolatorOffsets[p]&&(d=!0),e[a].offset[p]=m}d&&(e[a].interpolate=ab(e[a].offset,D6(s),{clamp:!1}),e[a].interpolatorOffsets=[...e[a].offset]),e[a].progress=Er(0,1,e[a].interpolate(e[a].current))}function z$(t,e=t,n){if(n.x.targetOffset=0,n.y.targetOffset=0,e!==t){let s=e;for(;s&&s!==t;)n.x.targetOffset+=s.offsetLeft,n.y.targetOffset+=s.offsetTop,s=s.offsetParent}n.x.targetLength=e===t?e.scrollWidth:e.clientWidth,n.y.targetLength=e===t?e.scrollHeight:e.clientHeight,n.x.containerLength=t.clientWidth,n.y.containerLength=t.clientHeight}function B$(t,e,n,s={}){return{measure:()=>z$(t,s.target,n),update:i=>{L$(t,n,i),(s.offset||s.target)&&F$(t,n,s)},notify:()=>e(n)}}const rc=new WeakMap,mN=new WeakMap,kg=new WeakMap,gN=t=>t===document.documentElement?window:t;function cb(t,{container:e=document.documentElement,...n}={}){let s=kg.get(e);s||(s=new Set,kg.set(e,s));const i=M$(),a=B$(e,t,i,n);if(s.add(a),!rc.has(e)){const l=()=>{for(const p of s)p.measure()},c=()=>{for(const p of s)p.update(sn.timestamp)},u=()=>{for(const p of s)p.notify()},d=()=>{st.read(l,!1,!0),st.read(c,!1,!0),st.update(u,!1,!0)};rc.set(e,d);const h=gN(e);window.addEventListener("resize",d,{passive:!0}),e!==document.documentElement&&mN.set(e,P$(e,d)),h.addEventListener("scroll",d,{passive:!0})}const o=rc.get(e);return st.read(o,!1,!0),()=>{var l;er(o);const c=kg.get(e);if(!c||(c.delete(a),c.size))return;const u=rc.get(e);rc.delete(e),u&&(gN(e).removeEventListener("scroll",u),(l=mN.get(e))===null||l===void 0||l(),window.removeEventListener("resize",u))}}function U$({source:t,container:e,axis:n="y"}){t&&(e=t);const s={value:0},i=cb(a=>{s.value=a[n].progress*100},{container:e,axis:n});return{currentTime:s,cancel:i}}const Sg=new Map;function lP({source:t,container:e=document.documentElement,axis:n="y"}={}){t&&(e=t),Sg.has(e)||Sg.set(e,{});const s=Sg.get(e);return s[n]||(s[n]=QE()?new ScrollTimeline({source:e,axis:n}):U$({source:e,axis:n})),s[n]}function V$(t){return t.length===2}function cP(t){return t&&(t.target||t.offset)}function W$(t,e){return V$(t)||cP(e)?cb(n=>{t(n[e.axis].progress,n)},e):oP(t,lP(e))}function H$(t,e){if(t.flatten(),cP(e))return t.pause(),cb(n=>{t.time=t.duration*n[e.axis].progress},e);{const n=lP(e);return t.attachTimeline?t.attachTimeline(n,s=>(s.pause(),oP(i=>{s.time=s.duration*i},n))):Rn}}function q$(t,{axis:e="y",...n}={}){const s={axis:e,...n};return typeof t=="function"?W$(t,s):H$(t,s)}function xN(t,e){sR(!!(!e||e.current))}const K$=()=>({scrollX:xr(0),scrollY:xr(0),scrollXProgress:xr(0),scrollYProgress:xr(0)});function G$({container:t,target:e,layoutEffect:n=!0,...s}={}){const i=so(K$);return(n?am:f.useEffect)(()=>(xN("target",e),xN("container",t),q$((o,{x:l,y:c})=>{i.scrollX.set(l.current),i.scrollXProgress.set(l.progress),i.scrollY.set(c.current),i.scrollYProgress.set(c.progress)},{...s,container:(t==null?void 0:t.current)||void 0,target:(e==null?void 0:e.current)||void 0})),[t,e,JSON.stringify(s.offset)]),i}function Y$(t){const e=so(()=>xr(t)),{isStatic:n}=f.useContext(gl);if(n){const[,s]=f.useState(t);f.useEffect(()=>e.on("change",s),[])}return e}function dP(t,e){const n=Y$(e()),s=()=>n.set(e());return s(),am(()=>{const i=()=>st.preRender(s,!1,!0),a=t.map(o=>o.on("change",i));return()=>{a.forEach(o=>o()),er(s)}}),n}const X$=t=>t&&typeof t=="object"&&t.mix,Z$=t=>X$(t)?t.mix:void 0;function Q$(...t){const e=!Array.isArray(t[0]),n=e?0:-1,s=t[0+n],i=t[1+n],a=t[2+n],o=t[3+n],l=ab(i,a,{mixer:Z$(a[0]),...o});return e?l(s):l}function J$(t){Kc.current=[],t();const e=dP(Kc.current,t);return Kc.current=void 0,e}function vN(t,e,n,s){if(typeof t=="function")return J$(t);const i=typeof e=="function"?e:Q$(e,n,s);return Array.isArray(t)?yN(t,i):yN([t],([a])=>i(a))}function yN(t,e){const n=so(()=>[]);return dP(t,()=>{n.length=0;const s=t.length;for(let i=0;i<s;i++)n[i]=t[i].get();return e(n)})}const Jx=_e.createContext(null);function eF(t){let{children:e}=t,n=f.useContext(Jx),[s,i]=f.useState(0),a=f.useMemo(()=>({parent:n,modalCount:s,addModal(){i(o=>o+1),n&&n.addModal()},removeModal(){i(o=>o-1),n&&n.removeModal()}}),[n,s]);return _e.createElement(Jx.Provider,{value:a},e)}function tF(){let t=f.useContext(Jx);return{modalProviderProps:{"aria-hidden":t&&t.modalCount>0?!0:void 0}}}function nF(t){let{modalProviderProps:e}=tF();return _e.createElement("div",{"data-overlay-container":!0,...t,...e})}function sF(t){return _e.createElement(eF,null,_e.createElement(nF,t))}var uP=({children:t,navigate:e,disableAnimation:n,useHref:s,disableRipple:i=!1,skipFramerMotionAnimations:a=n,reducedMotion:o="never",validationBehavior:l,locale:c="en-US",labelPlacement:u,defaultDates:d,createCalendar:h,spinnerVariant:p,...m})=>{let g=t;e&&(g=r.jsx(XO,{navigate:e,useHref:s,children:g}));const x=f.useMemo(()=>(n&&a&&(T1.skipAnimations=!0),{createCalendar:h,defaultDates:d,disableAnimation:n,disableRipple:i,validationBehavior:l,labelPlacement:u,spinnerVariant:p}),[h,d==null?void 0:d.maxDate,d==null?void 0:d.minDate,n,i,l,u,p]);return r.jsx(EO,{value:x,children:r.jsx(zO,{locale:c,children:r.jsx(cR,{reducedMotion:o,children:r.jsx(sF,{...m,children:g})})})})},rF={".spinner-bar-animation":{"animation-delay":"calc(-1.2s + (0.1s * var(--bar-index)))",transform:"rotate(calc(30deg * var(--bar-index)))translate(140%)"},".spinner-dot-animation":{"animation-delay":"calc(250ms * var(--dot-index))"},".spinner-dot-blink-animation":{"animation-delay":"calc(200ms * var(--dot-index))"}},iF={".leading-inherit":{"line-height":"inherit"},".bg-img-inherit":{"background-image":"inherit"},".bg-clip-inherit":{"background-clip":"inherit"},".text-fill-inherit":{"-webkit-text-fill-color":"inherit"},".tap-highlight-transparent":{"-webkit-tap-highlight-color":"transparent"},".input-search-cancel-button-none":{"&::-webkit-search-cancel-button":{"-webkit-appearance":"none"}}},aF={".scrollbar-hide":{"-ms-overflow-style":"none","scrollbar-width":"none","&::-webkit-scrollbar":{display:"none"}},".scrollbar-default":{"-ms-overflow-style":"auto","scrollbar-width":"auto","&::-webkit-scrollbar":{display:"block"}}},oF={".text-tiny":{"font-size":"var(--heroui-font-size-tiny)","line-height":"var(--heroui-line-height-tiny)"},".text-small":{"font-size":"var(--heroui-font-size-small)","line-height":"var(--heroui-line-height-small)"},".text-medium":{"font-size":"var(--heroui-font-size-medium)","line-height":"var(--heroui-line-height-medium)"},".text-large":{"font-size":"var(--heroui-font-size-large)","line-height":"var(--heroui-line-height-large)"}},or="250ms",lF={".transition-background":{"transition-property":"background","transition-timing-function":"ease","transition-duration":or},".transition-colors-opacity":{"transition-property":"color, background-color, border-color, text-decoration-color, fill, stroke, opacity","transition-timing-function":"ease","transition-duration":or},".transition-width":{"transition-property":"width","transition-timing-function":"ease","transition-duration":or},".transition-height":{"transition-property":"height","transition-timing-function":"ease","transition-duration":or},".transition-size":{"transition-property":"width, height","transition-timing-function":"ease","transition-duration":or},".transition-left":{"transition-property":"left","transition-timing-function":"ease","transition-duration":or},".transition-transform-opacity":{"transition-property":"transform, scale, opacity rotate","transition-timing-function":"ease","transition-duration":or},".transition-transform-background":{"transition-property":"transform, scale, background","transition-timing-function":"ease","transition-duration":or},".transition-transform-colors":{"transition-property":"transform, scale, color, background, background-color, border-color, text-decoration-color, fill, stroke","transition-timing-function":"ease","transition-duration":or},".transition-transform-colors-opacity":{"transition-property":"transform, scale, color, background, background-color, border-color, text-decoration-color, fill, stroke, opacity","transition-timing-function":"ease","transition-duration":or}},cF={...iF,...lF,...aF,...oF,...rF},Xu=["small","medium","large"],dF={theme:{spacing:["divider"],radius:Xu},classGroups:{shadow:[{shadow:Xu}],opacity:[{opacity:["disabled"]}],"font-size":[{text:["tiny",...Xu]}],"border-w":[{border:Xu}],"bg-image":["bg-stripe-gradient-default","bg-stripe-gradient-primary","bg-stripe-gradient-secondary","bg-stripe-gradient-success","bg-stripe-gradient-warning","bg-stripe-gradient-danger"],transition:Object.keys(cF).filter(t=>t.includes(".transition")).map(t=>t.replace(".",""))}};const db="-",uF=t=>{const e=pF(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:o=>{const l=o.split(db);return l[0]===""&&l.length!==1&&l.shift(),hP(l,e)||hF(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&s[o]?[...c,...s[o]]:c}}},hP=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],s=e.nextPart.get(n),i=s?hP(t.slice(1),s):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(db);return(o=e.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},bN=/^\[(.+)\]$/,hF=t=>{if(bN.test(t)){const e=bN.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},pF=t=>{const{theme:e,classGroups:n}=t,s={nextPart:new Map,validators:[]};for(const i in n)ev(n[i],s,i,e);return s},ev=(t,e,n,s)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:wN(e,i);a.classGroupId=n;return}if(typeof i=="function"){if(fF(i)){ev(i(s),e,n,s);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,o])=>{ev(o,wN(e,a),n,s)})})},wN=(t,e)=>{let n=t;return e.split(db).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},fF=t=>t.isThemeGetter,mF=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,s=new Map;const i=(a,o)=>{n.set(a,o),e++,e>t&&(e=0,s=n,n=new Map)};return{get(a){let o=n.get(a);if(o!==void 0)return o;if((o=s.get(a))!==void 0)return i(a,o),o},set(a,o){n.has(a)?n.set(a,o):i(a,o)}}},tv="!",nv=":",gF=nv.length,xF=t=>{const{prefix:e,experimentalParseClassName:n}=t;let s=i=>{const a=[];let o=0,l=0,c=0,u;for(let g=0;g<i.length;g++){let x=i[g];if(o===0&&l===0){if(x===nv){a.push(i.slice(c,g)),c=g+gF;continue}if(x==="/"){u=g;continue}}x==="["?o++:x==="]"?o--:x==="("?l++:x===")"&&l--}const d=a.length===0?i:i.substring(c),h=vF(d),p=h!==d,m=u&&u>c?u-c:void 0;return{modifiers:a,hasImportantModifier:p,baseClassName:h,maybePostfixModifierPosition:m}};if(e){const i=e+nv,a=s;s=o=>o.startsWith(i)?a(o.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const i=s;s=a=>n({className:a,parseClassName:i})}return s},vF=t=>t.endsWith(tv)?t.substring(0,t.length-1):t.startsWith(tv)?t.substring(1):t,yF=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const i=[];let a=[];return s.forEach(o=>{o[0]==="["||e[o]?(i.push(...a.sort(),o),a=[]):a.push(o)}),i.push(...a.sort()),i}},bF=t=>({cache:mF(t.cacheSize),parseClassName:xF(t),sortModifiers:yF(t),...uF(t)}),wF=/\s+/,jF=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:i,sortModifiers:a}=e,o=[],l=t.trim().split(wF);let c="";for(let u=l.length-1;u>=0;u-=1){const d=l[u],{isExternal:h,modifiers:p,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:x}=n(d);if(h){c=d+(c.length>0?" "+c:c);continue}let b=!!x,v=s(b?g.substring(0,x):g);if(!v){if(!b){c=d+(c.length>0?" "+c:c);continue}if(v=s(g),!v){c=d+(c.length>0?" "+c:c);continue}b=!1}const y=a(p).join(":"),w=m?y+tv:y,k=w+v;if(o.includes(k))continue;o.push(k);const N=i(v,b);for(let S=0;S<N.length;++S){const M=N[S];o.push(w+M)}c=d+(c.length>0?" "+c:c)}return c};function NF(){let t=0,e,n,s="";for(;t<arguments.length;)(e=arguments[t++])&&(n=pP(e))&&(s&&(s+=" "),s+=n);return s}const pP=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=pP(t[s]))&&(n&&(n+=" "),n+=e);return n};function jN(t,...e){let n,s,i,a=o;function o(c){const u=e.reduce((d,h)=>h(d),t());return n=bF(u),s=n.cache.get,i=n.cache.set,a=l,l(c)}function l(c){const u=s(c);if(u)return u;const d=jF(c,n);return i(c,d),d}return function(){return a(NF.apply(null,arguments))}}const Qt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},fP=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,mP=/^\((?:(\w[\w-]*):)?(.+)\)$/i,kF=/^\d+\/\d+$/,SF=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,CF=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,EF=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,PF=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,_F=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,co=t=>kF.test(t),He=t=>!!t&&!Number.isNaN(Number(t)),ti=t=>!!t&&Number.isInteger(Number(t)),Cg=t=>t.endsWith("%")&&He(t.slice(0,-1)),Lr=t=>SF.test(t),MF=()=>!0,TF=t=>CF.test(t)&&!EF.test(t),gP=()=>!1,LF=t=>PF.test(t),AF=t=>_F.test(t),IF=t=>!Le(t)&&!Ae(t),OF=t=>Ol(t,yP,gP),Le=t=>fP.test(t),ra=t=>Ol(t,bP,TF),Eg=t=>Ol(t,zF,He),NN=t=>Ol(t,xP,gP),RF=t=>Ol(t,vP,AF),Zu=t=>Ol(t,wP,LF),Ae=t=>mP.test(t),ic=t=>Rl(t,bP),DF=t=>Rl(t,BF),kN=t=>Rl(t,xP),$F=t=>Rl(t,yP),FF=t=>Rl(t,vP),Qu=t=>Rl(t,wP,!0),Ol=(t,e,n)=>{const s=fP.exec(t);return s?s[1]?e(s[1]):n(s[2]):!1},Rl=(t,e,n=!1)=>{const s=mP.exec(t);return s?s[1]?e(s[1]):n:!1},xP=t=>t==="position"||t==="percentage",vP=t=>t==="image"||t==="url",yP=t=>t==="length"||t==="size"||t==="bg-size",bP=t=>t==="length",zF=t=>t==="number",BF=t=>t==="family-name",wP=t=>t==="shadow",SN=()=>{const t=Qt("color"),e=Qt("font"),n=Qt("text"),s=Qt("font-weight"),i=Qt("tracking"),a=Qt("leading"),o=Qt("breakpoint"),l=Qt("container"),c=Qt("spacing"),u=Qt("radius"),d=Qt("shadow"),h=Qt("inset-shadow"),p=Qt("text-shadow"),m=Qt("drop-shadow"),g=Qt("blur"),x=Qt("perspective"),b=Qt("aspect"),v=Qt("ease"),y=Qt("animate"),w=()=>["auto","avoid","all","avoid-page","page","left","right","column"],k=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],N=()=>[...k(),Ae,Le],S=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto","contain","none"],j=()=>[Ae,Le,c],C=()=>[co,"full","auto",...j()],L=()=>[ti,"none","subgrid",Ae,Le],O=()=>["auto",{span:["full",ti,Ae,Le]},ti,Ae,Le],F=()=>[ti,"auto",Ae,Le],$=()=>["auto","min","max","fr",Ae,Le],I=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],_=()=>["start","end","center","stretch","center-safe","end-safe"],P=()=>["auto",...j()],E=()=>[co,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...j()],T=()=>[t,Ae,Le],D=()=>[...k(),kN,NN,{position:[Ae,Le]}],R=()=>["no-repeat",{repeat:["","x","y","space","round"]}],z=()=>["auto","cover","contain",$F,OF,{size:[Ae,Le]}],q=()=>[Cg,ic,ra],H=()=>["","none","full",u,Ae,Le],U=()=>["",He,ic,ra],B=()=>["solid","dashed","dotted","double"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],G=()=>[He,Cg,kN,NN],Q=()=>["","none",g,Ae,Le],se=()=>["none",He,Ae,Le],te=()=>["none",He,Ae,Le],K=()=>[He,Ae,Le],J=()=>[co,"full",...j()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Lr],breakpoint:[Lr],color:[MF],container:[Lr],"drop-shadow":[Lr],ease:["in","out","in-out"],font:[IF],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Lr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Lr],shadow:[Lr],spacing:["px",He],text:[Lr],"text-shadow":[Lr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",co,Le,Ae,b]}],container:["container"],columns:[{columns:[He,Le,Ae,l]}],"break-after":[{"break-after":w()}],"break-before":[{"break-before":w()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:N()}],overflow:[{overflow:S()}],"overflow-x":[{"overflow-x":S()}],"overflow-y":[{"overflow-y":S()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:C()}],"inset-x":[{"inset-x":C()}],"inset-y":[{"inset-y":C()}],start:[{start:C()}],end:[{end:C()}],top:[{top:C()}],right:[{right:C()}],bottom:[{bottom:C()}],left:[{left:C()}],visibility:["visible","invisible","collapse"],z:[{z:[ti,"auto",Ae,Le]}],basis:[{basis:[co,"full","auto",l,...j()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[He,co,"auto","initial","none",Le]}],grow:[{grow:["",He,Ae,Le]}],shrink:[{shrink:["",He,Ae,Le]}],order:[{order:[ti,"first","last","none",Ae,Le]}],"grid-cols":[{"grid-cols":L()}],"col-start-end":[{col:O()}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":L()}],"row-start-end":[{row:O()}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":$()}],"auto-rows":[{"auto-rows":$()}],gap:[{gap:j()}],"gap-x":[{"gap-x":j()}],"gap-y":[{"gap-y":j()}],"justify-content":[{justify:[...I(),"normal"]}],"justify-items":[{"justify-items":[..._(),"normal"]}],"justify-self":[{"justify-self":["auto",..._()]}],"align-content":[{content:["normal",...I()]}],"align-items":[{items:[..._(),{baseline:["","last"]}]}],"align-self":[{self:["auto",..._(),{baseline:["","last"]}]}],"place-content":[{"place-content":I()}],"place-items":[{"place-items":[..._(),"baseline"]}],"place-self":[{"place-self":["auto",..._()]}],p:[{p:j()}],px:[{px:j()}],py:[{py:j()}],ps:[{ps:j()}],pe:[{pe:j()}],pt:[{pt:j()}],pr:[{pr:j()}],pb:[{pb:j()}],pl:[{pl:j()}],m:[{m:P()}],mx:[{mx:P()}],my:[{my:P()}],ms:[{ms:P()}],me:[{me:P()}],mt:[{mt:P()}],mr:[{mr:P()}],mb:[{mb:P()}],ml:[{ml:P()}],"space-x":[{"space-x":j()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":j()}],"space-y-reverse":["space-y-reverse"],size:[{size:E()}],w:[{w:[l,"screen",...E()]}],"min-w":[{"min-w":[l,"screen","none",...E()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...E()]}],h:[{h:["screen","lh",...E()]}],"min-h":[{"min-h":["screen","lh","none",...E()]}],"max-h":[{"max-h":["screen","lh",...E()]}],"font-size":[{text:["base",n,ic,ra]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,Ae,Eg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Cg,Le]}],"font-family":[{font:[DF,Le,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Ae,Le]}],"line-clamp":[{"line-clamp":[He,"none",Ae,Eg]}],leading:[{leading:[a,...j()]}],"list-image":[{"list-image":["none",Ae,Le]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ae,Le]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:T()}],"text-color":[{text:T()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:[He,"from-font","auto",Ae,ra]}],"text-decoration-color":[{decoration:T()}],"underline-offset":[{"underline-offset":[He,"auto",Ae,Le]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ae,Le]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ae,Le]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:D()}],"bg-repeat":[{bg:R()}],"bg-size":[{bg:z()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ti,Ae,Le],radial:["",Ae,Le],conic:[ti,Ae,Le]},FF,RF]}],"bg-color":[{bg:T()}],"gradient-from-pos":[{from:q()}],"gradient-via-pos":[{via:q()}],"gradient-to-pos":[{to:q()}],"gradient-from":[{from:T()}],"gradient-via":[{via:T()}],"gradient-to":[{to:T()}],rounded:[{rounded:H()}],"rounded-s":[{"rounded-s":H()}],"rounded-e":[{"rounded-e":H()}],"rounded-t":[{"rounded-t":H()}],"rounded-r":[{"rounded-r":H()}],"rounded-b":[{"rounded-b":H()}],"rounded-l":[{"rounded-l":H()}],"rounded-ss":[{"rounded-ss":H()}],"rounded-se":[{"rounded-se":H()}],"rounded-ee":[{"rounded-ee":H()}],"rounded-es":[{"rounded-es":H()}],"rounded-tl":[{"rounded-tl":H()}],"rounded-tr":[{"rounded-tr":H()}],"rounded-br":[{"rounded-br":H()}],"rounded-bl":[{"rounded-bl":H()}],"border-w":[{border:U()}],"border-w-x":[{"border-x":U()}],"border-w-y":[{"border-y":U()}],"border-w-s":[{"border-s":U()}],"border-w-e":[{"border-e":U()}],"border-w-t":[{"border-t":U()}],"border-w-r":[{"border-r":U()}],"border-w-b":[{"border-b":U()}],"border-w-l":[{"border-l":U()}],"divide-x":[{"divide-x":U()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":U()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...B(),"hidden","none"]}],"divide-style":[{divide:[...B(),"hidden","none"]}],"border-color":[{border:T()}],"border-color-x":[{"border-x":T()}],"border-color-y":[{"border-y":T()}],"border-color-s":[{"border-s":T()}],"border-color-e":[{"border-e":T()}],"border-color-t":[{"border-t":T()}],"border-color-r":[{"border-r":T()}],"border-color-b":[{"border-b":T()}],"border-color-l":[{"border-l":T()}],"divide-color":[{divide:T()}],"outline-style":[{outline:[...B(),"none","hidden"]}],"outline-offset":[{"outline-offset":[He,Ae,Le]}],"outline-w":[{outline:["",He,ic,ra]}],"outline-color":[{outline:T()}],shadow:[{shadow:["","none",d,Qu,Zu]}],"shadow-color":[{shadow:T()}],"inset-shadow":[{"inset-shadow":["none",h,Qu,Zu]}],"inset-shadow-color":[{"inset-shadow":T()}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:T()}],"ring-offset-w":[{"ring-offset":[He,ra]}],"ring-offset-color":[{"ring-offset":T()}],"inset-ring-w":[{"inset-ring":U()}],"inset-ring-color":[{"inset-ring":T()}],"text-shadow":[{"text-shadow":["none",p,Qu,Zu]}],"text-shadow-color":[{"text-shadow":T()}],opacity:[{opacity:[He,Ae,Le]}],"mix-blend":[{"mix-blend":[...V(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":V()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[He]}],"mask-image-linear-from-pos":[{"mask-linear-from":G()}],"mask-image-linear-to-pos":[{"mask-linear-to":G()}],"mask-image-linear-from-color":[{"mask-linear-from":T()}],"mask-image-linear-to-color":[{"mask-linear-to":T()}],"mask-image-t-from-pos":[{"mask-t-from":G()}],"mask-image-t-to-pos":[{"mask-t-to":G()}],"mask-image-t-from-color":[{"mask-t-from":T()}],"mask-image-t-to-color":[{"mask-t-to":T()}],"mask-image-r-from-pos":[{"mask-r-from":G()}],"mask-image-r-to-pos":[{"mask-r-to":G()}],"mask-image-r-from-color":[{"mask-r-from":T()}],"mask-image-r-to-color":[{"mask-r-to":T()}],"mask-image-b-from-pos":[{"mask-b-from":G()}],"mask-image-b-to-pos":[{"mask-b-to":G()}],"mask-image-b-from-color":[{"mask-b-from":T()}],"mask-image-b-to-color":[{"mask-b-to":T()}],"mask-image-l-from-pos":[{"mask-l-from":G()}],"mask-image-l-to-pos":[{"mask-l-to":G()}],"mask-image-l-from-color":[{"mask-l-from":T()}],"mask-image-l-to-color":[{"mask-l-to":T()}],"mask-image-x-from-pos":[{"mask-x-from":G()}],"mask-image-x-to-pos":[{"mask-x-to":G()}],"mask-image-x-from-color":[{"mask-x-from":T()}],"mask-image-x-to-color":[{"mask-x-to":T()}],"mask-image-y-from-pos":[{"mask-y-from":G()}],"mask-image-y-to-pos":[{"mask-y-to":G()}],"mask-image-y-from-color":[{"mask-y-from":T()}],"mask-image-y-to-color":[{"mask-y-to":T()}],"mask-image-radial":[{"mask-radial":[Ae,Le]}],"mask-image-radial-from-pos":[{"mask-radial-from":G()}],"mask-image-radial-to-pos":[{"mask-radial-to":G()}],"mask-image-radial-from-color":[{"mask-radial-from":T()}],"mask-image-radial-to-color":[{"mask-radial-to":T()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":k()}],"mask-image-conic-pos":[{"mask-conic":[He]}],"mask-image-conic-from-pos":[{"mask-conic-from":G()}],"mask-image-conic-to-pos":[{"mask-conic-to":G()}],"mask-image-conic-from-color":[{"mask-conic-from":T()}],"mask-image-conic-to-color":[{"mask-conic-to":T()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:D()}],"mask-repeat":[{mask:R()}],"mask-size":[{mask:z()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ae,Le]}],filter:[{filter:["","none",Ae,Le]}],blur:[{blur:Q()}],brightness:[{brightness:[He,Ae,Le]}],contrast:[{contrast:[He,Ae,Le]}],"drop-shadow":[{"drop-shadow":["","none",m,Qu,Zu]}],"drop-shadow-color":[{"drop-shadow":T()}],grayscale:[{grayscale:["",He,Ae,Le]}],"hue-rotate":[{"hue-rotate":[He,Ae,Le]}],invert:[{invert:["",He,Ae,Le]}],saturate:[{saturate:[He,Ae,Le]}],sepia:[{sepia:["",He,Ae,Le]}],"backdrop-filter":[{"backdrop-filter":["","none",Ae,Le]}],"backdrop-blur":[{"backdrop-blur":Q()}],"backdrop-brightness":[{"backdrop-brightness":[He,Ae,Le]}],"backdrop-contrast":[{"backdrop-contrast":[He,Ae,Le]}],"backdrop-grayscale":[{"backdrop-grayscale":["",He,Ae,Le]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[He,Ae,Le]}],"backdrop-invert":[{"backdrop-invert":["",He,Ae,Le]}],"backdrop-opacity":[{"backdrop-opacity":[He,Ae,Le]}],"backdrop-saturate":[{"backdrop-saturate":[He,Ae,Le]}],"backdrop-sepia":[{"backdrop-sepia":["",He,Ae,Le]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":j()}],"border-spacing-x":[{"border-spacing-x":j()}],"border-spacing-y":[{"border-spacing-y":j()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ae,Le]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[He,"initial",Ae,Le]}],ease:[{ease:["linear","initial",v,Ae,Le]}],delay:[{delay:[He,Ae,Le]}],animate:[{animate:["none",y,Ae,Le]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[x,Ae,Le]}],"perspective-origin":[{"perspective-origin":N()}],rotate:[{rotate:se()}],"rotate-x":[{"rotate-x":se()}],"rotate-y":[{"rotate-y":se()}],"rotate-z":[{"rotate-z":se()}],scale:[{scale:te()}],"scale-x":[{"scale-x":te()}],"scale-y":[{"scale-y":te()}],"scale-z":[{"scale-z":te()}],"scale-3d":["scale-3d"],skew:[{skew:K()}],"skew-x":[{"skew-x":K()}],"skew-y":[{"skew-y":K()}],transform:[{transform:[Ae,Le,"","none","gpu","cpu"]}],"transform-origin":[{origin:N()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:J()}],"translate-x":[{"translate-x":J()}],"translate-y":[{"translate-y":J()}],"translate-z":[{"translate-z":J()}],"translate-none":["translate-none"],accent:[{accent:T()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:T()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ae,Le]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ae,Le]}],fill:[{fill:["none",...T()]}],"stroke-w":[{stroke:[He,ic,ra,Eg]}],stroke:[{stroke:["none",...T()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},UF=(t,{cacheSize:e,prefix:n,experimentalParseClassName:s,extend:i={},override:a={}})=>(Mc(t,"cacheSize",e),Mc(t,"prefix",n),Mc(t,"experimentalParseClassName",s),Ju(t.theme,a.theme),Ju(t.classGroups,a.classGroups),Ju(t.conflictingClassGroups,a.conflictingClassGroups),Ju(t.conflictingClassGroupModifiers,a.conflictingClassGroupModifiers),Mc(t,"orderSensitiveModifiers",a.orderSensitiveModifiers),eh(t.theme,i.theme),eh(t.classGroups,i.classGroups),eh(t.conflictingClassGroups,i.conflictingClassGroups),eh(t.conflictingClassGroupModifiers,i.conflictingClassGroupModifiers),jP(t,i,"orderSensitiveModifiers"),t),Mc=(t,e,n)=>{n!==void 0&&(t[e]=n)},Ju=(t,e)=>{if(e)for(const n in e)Mc(t,n,e[n])},eh=(t,e)=>{if(e)for(const n in e)jP(t,e,n)},jP=(t,e,n)=>{const s=e[n];s!==void 0&&(t[n]=t[n]?t[n].concat(s):s)},VF=(t,...e)=>typeof t=="function"?jN(SN,t,...e):jN(()=>UF(SN(),t),...e);function NP(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=NP(t[e]))&&(s&&(s+=" "),s+=n);else for(e in t)t[e]&&(s&&(s+=" "),s+=e);return s}function WF(){for(var t,e,n=0,s="";n<arguments.length;)(t=arguments[n++])&&(e=NP(t))&&(s&&(s+=" "),s+=e);return s}var HF=VF({extend:dF});function qF(...t){return HF(WF(t))}const KF="modulepreload",GF=function(t){return"/"+t},CN={},hm=function(e,n,s){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=GF(c),c in CN)return;CN[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":KF,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((p,m)=>{h.addEventListener("load",p),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return e().catch(a)})};/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Od(){return Od=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Od.apply(this,arguments)}var bi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(bi||(bi={}));const EN="popstate";function YF(t){t===void 0&&(t={});function e(s,i){let{pathname:a,search:o,hash:l}=s.location;return sv("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){return typeof i=="string"?i:Kp(i)}return ZF(e,n,null,t)}function Ht(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function kP(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function XF(){return Math.random().toString(36).substr(2,8)}function PN(t,e){return{usr:t.state,key:t.key,idx:e}}function sv(t,e,n,s){return n===void 0&&(n=null),Od({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Dl(e):e,{state:n,key:e&&e.key||s||XF()})}function Kp(t){let{pathname:e="/",search:n="",hash:s=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Dl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}function ZF(t,e,n,s){s===void 0&&(s={});let{window:i=document.defaultView,v5Compat:a=!1}=s,o=i.history,l=bi.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Od({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=bi.Pop;let b=d(),v=b==null?null:b-u;u=b,c&&c({action:l,location:x.location,delta:v})}function p(b,v){l=bi.Push;let y=sv(x.location,b,v);u=d()+1;let w=PN(y,u),k=x.createHref(y);try{o.pushState(w,"",k)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(k)}a&&c&&c({action:l,location:x.location,delta:1})}function m(b,v){l=bi.Replace;let y=sv(x.location,b,v);u=d();let w=PN(y,u),k=x.createHref(y);o.replaceState(w,"",k),a&&c&&c({action:l,location:x.location,delta:0})}function g(b){let v=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof b=="string"?b:Kp(b);return y=y.replace(/ $/,"%20"),Ht(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let x={get action(){return l},get location(){return t(i,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(EN,h),c=b,()=>{i.removeEventListener(EN,h),c=null}},createHref(b){return e(i,b)},createURL:g,encodeLocation(b){let v=g(b);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:p,replace:m,go(b){return o.go(b)}};return x}var _N;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(_N||(_N={}));function QF(t,e,n){return n===void 0&&(n="/"),JF(t,e,n)}function JF(t,e,n,s){let i=typeof e=="string"?Dl(e):e,a=ub(i.pathname||"/",n);if(a==null)return null;let o=SP(t);ez(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=hz(a);l=cz(o[c],u)}return l}function SP(t,e,n,s){e===void 0&&(e=[]),n===void 0&&(n=[]),s===void 0&&(s="");let i=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(Ht(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let u=Ri([s,c.relativePath]),d=n.concat(c);a.children&&a.children.length>0&&(Ht(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),SP(a.children,e,d,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:oz(u,a.index),routesMeta:d})};return t.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let c of CP(a.path))i(a,o,c)}),e}function CP(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(s.length===0)return i?[a,""]:[a];let o=CP(s.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function ez(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:lz(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const tz=/^:[\w-]+$/,nz=3,sz=2,rz=1,iz=10,az=-2,MN=t=>t==="*";function oz(t,e){let n=t.split("/"),s=n.length;return n.some(MN)&&(s+=az),e&&(s+=sz),n.filter(i=>!MN(i)).reduce((i,a)=>i+(tz.test(a)?nz:a===""?rz:iz),s)}function lz(t,e){return t.length===e.length&&t.slice(0,-1).every((s,i)=>s===e[i])?t[t.length-1]-e[e.length-1]:0}function cz(t,e,n){let{routesMeta:s}=t,i={},a="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],u=l===s.length-1,d=a==="/"?e:e.slice(a.length)||"/",h=dz({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),p=c.route;if(!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Ri([a,h.pathname]),pathnameBase:gz(Ri([a,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(a=Ri([a,h.pathnameBase]))}return o}function dz(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=uz(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:s.reduce((u,d,h)=>{let{paramName:p,isOptional:m}=d;if(p==="*"){let x=l[h]||"";o=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const g=l[h];return m&&!g?u[p]=void 0:u[p]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:t}}function uz(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),kP(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),s]}function hz(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return kP(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ub(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function pz(t,e){e===void 0&&(e="/");let{pathname:n,search:s="",hash:i=""}=typeof t=="string"?Dl(t):t;return{pathname:n?n.startsWith("/")?n:fz(n,e):e,search:xz(s),hash:vz(i)}}function fz(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Pg(t,e,n,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function mz(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function hb(t,e){let n=mz(t);return e?n.map((s,i)=>i===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function pb(t,e,n,s){s===void 0&&(s=!1);let i;typeof t=="string"?i=Dl(t):(i=Od({},t),Ht(!i.pathname||!i.pathname.includes("?"),Pg("?","pathname","search",i)),Ht(!i.pathname||!i.pathname.includes("#"),Pg("#","pathname","hash",i)),Ht(!i.search||!i.search.includes("#"),Pg("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=n;else{let h=e.length-1;if(!s&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}l=h>=0?e[h]:"/"}let c=pz(i,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Ri=t=>t.join("/").replace(/\/\/+/g,"/"),gz=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),xz=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,vz=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function yz(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const EP=["post","put","patch","delete"];new Set(EP);const bz=["get",...EP];new Set(bz);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rd(){return Rd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Rd.apply(this,arguments)}const fb=f.createContext(null),wz=f.createContext(null),Qi=f.createContext(null),pm=f.createContext(null),Jr=f.createContext({outlet:null,matches:[],isDataRoute:!1}),PP=f.createContext(null);function jz(t,e){let{relative:n}=e===void 0?{}:e;$l()||Ht(!1);let{basename:s,navigator:i}=f.useContext(Qi),{hash:a,pathname:o,search:l}=MP(t,{relative:n}),c=o;return s!=="/"&&(c=o==="/"?s:Ri([s,o])),i.createHref({pathname:c,search:l,hash:a})}function $l(){return f.useContext(pm)!=null}function tr(){return $l()||Ht(!1),f.useContext(pm).location}function _P(t){f.useContext(Qi).static||f.useLayoutEffect(t)}function pt(){let{isDataRoute:t}=f.useContext(Jr);return t?Oz():Nz()}function Nz(){$l()||Ht(!1);let t=f.useContext(fb),{basename:e,future:n,navigator:s}=f.useContext(Qi),{matches:i}=f.useContext(Jr),{pathname:a}=tr(),o=JSON.stringify(hb(i,n.v7_relativeSplatPath)),l=f.useRef(!1);return _P(()=>{l.current=!0}),f.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){s.go(u);return}let h=pb(u,JSON.parse(o),a,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ri([e,h.pathname])),(d.replace?s.replace:s.push)(h,d.state,d)},[e,s,o,a,t])}function mb(){let{matches:t}=f.useContext(Jr),e=t[t.length-1];return e?e.params:{}}function MP(t,e){let{relative:n}=e===void 0?{}:e,{future:s}=f.useContext(Qi),{matches:i}=f.useContext(Jr),{pathname:a}=tr(),o=JSON.stringify(hb(i,s.v7_relativeSplatPath));return f.useMemo(()=>pb(t,JSON.parse(o),a,n==="path"),[t,o,a,n])}function kz(t,e){return Sz(t,e)}function Sz(t,e,n,s){$l()||Ht(!1);let{navigator:i}=f.useContext(Qi),{matches:a}=f.useContext(Jr),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=tr(),d;if(e){var h;let b=typeof e=="string"?Dl(e):e;c==="/"||(h=b.pathname)!=null&&h.startsWith(c)||Ht(!1),d=b}else d=u;let p=d.pathname||"/",m=p;if(c!=="/"){let b=c.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(b.length).join("/")}let g=QF(t,{pathname:m}),x=Mz(g&&g.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:Ri([c,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Ri([c,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),a,n,s);return e&&x?f.createElement(pm.Provider,{value:{location:Rd({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:bi.Pop}},x):x}function Cz(){let t=Iz(),e=yz(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},e),n?f.createElement("pre",{style:i},n):null,null)}const Ez=f.createElement(Cz,null);class Pz extends f.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?f.createElement(Jr.Provider,{value:this.props.routeContext},f.createElement(PP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _z(t){let{routeContext:e,match:n,children:s}=t,i=f.useContext(fb);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),f.createElement(Jr.Provider,{value:e},s)}function Mz(t,e,n,s){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),s===void 0&&(s=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=s)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||Ht(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&s&&s.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:p,errors:m}=n,g=h.route.loader&&p[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,p)=>{let m,g=!1,x=null,b=null;n&&(m=l&&h.route.id?l[h.route.id]:void 0,x=h.route.errorElement||Ez,c&&(u<0&&p===0?(Rz("route-fallback"),g=!0,b=null):u===p&&(g=!0,b=h.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,p+1)),y=()=>{let w;return m?w=x:g?w=b:h.route.Component?w=f.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=d,f.createElement(_z,{match:h,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:w})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?f.createElement(Pz,{location:n.location,revalidation:n.revalidation,component:x,error:m,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var TP=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(TP||{}),LP=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(LP||{});function Tz(t){let e=f.useContext(fb);return e||Ht(!1),e}function Lz(t){let e=f.useContext(wz);return e||Ht(!1),e}function Az(t){let e=f.useContext(Jr);return e||Ht(!1),e}function AP(t){let e=Az(),n=e.matches[e.matches.length-1];return n.route.id||Ht(!1),n.route.id}function Iz(){var t;let e=f.useContext(PP),n=Lz(),s=AP();return e!==void 0?e:(t=n.errors)==null?void 0:t[s]}function Oz(){let{router:t}=Tz(TP.UseNavigateStable),e=AP(LP.UseNavigateStable),n=f.useRef(!1);return _P(()=>{n.current=!0}),f.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Rd({fromRouteId:e},a)))},[t,e])}const TN={};function Rz(t,e,n){TN[t]||(TN[t]=!0)}function Dz(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function $z(t){let{to:e,replace:n,state:s,relative:i}=t;$l()||Ht(!1);let{future:a,static:o}=f.useContext(Qi),{matches:l}=f.useContext(Jr),{pathname:c}=tr(),u=pt(),d=pb(e,hb(l,a.v7_relativeSplatPath),c,i==="path"),h=JSON.stringify(d);return f.useEffect(()=>u(JSON.parse(h),{replace:n,state:s,relative:i}),[u,h,i,n,s]),null}function Je(t){Ht(!1)}function Fz(t){let{basename:e="/",children:n=null,location:s,navigationType:i=bi.Pop,navigator:a,static:o=!1,future:l}=t;$l()&&Ht(!1);let c=e.replace(/^\/*/,"/"),u=f.useMemo(()=>({basename:c,navigator:a,static:o,future:Rd({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof s=="string"&&(s=Dl(s));let{pathname:d="/",search:h="",hash:p="",state:m=null,key:g="default"}=s,x=f.useMemo(()=>{let b=ub(d,c);return b==null?null:{location:{pathname:b,search:h,hash:p,state:m,key:g},navigationType:i}},[c,d,h,p,m,g,i]);return x==null?null:f.createElement(Qi.Provider,{value:u},f.createElement(pm.Provider,{children:n,value:x}))}function zz(t){let{children:e,location:n}=t;return kz(rv(e),n)}new Promise(()=>{});function rv(t,e){e===void 0&&(e=[]);let n=[];return f.Children.forEach(t,(s,i)=>{if(!f.isValidElement(s))return;let a=[...e,i];if(s.type===f.Fragment){n.push.apply(n,rv(s.props.children,a));return}s.type!==Je&&Ht(!1),!s.props.index||!s.props.children||Ht(!1);let o={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=rv(s.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function iv(){return iv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},iv.apply(this,arguments)}function Bz(t,e){if(t==null)return{};var n={},s=Object.keys(t),i,a;for(a=0;a<s.length;a++)i=s[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Uz(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Vz(t,e){return t.button===0&&(!e||e==="_self")&&!Uz(t)}function av(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let s=t[n];return e.concat(Array.isArray(s)?s.map(i=>[n,i]):[[n,s]])},[]))}function Wz(t,e){let n=av(t);return e&&e.forEach((s,i)=>{n.has(i)||e.getAll(i).forEach(a=>{n.append(i,a)})}),n}const Hz=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],qz="6";try{window.__reactRouterVersion=qz}catch{}const Kz="startTransition",LN=m8[Kz];function Gz(t){let{basename:e,children:n,future:s,window:i}=t,a=f.useRef();a.current==null&&(a.current=YF({window:i,v5Compat:!0}));let o=a.current,[l,c]=f.useState({action:o.action,location:o.location}),{v7_startTransition:u}=s||{},d=f.useCallback(h=>{u&&LN?LN(()=>c(h)):c(h)},[c,u]);return f.useLayoutEffect(()=>o.listen(d),[o,d]),f.useEffect(()=>Dz(s),[s]),f.createElement(Fz,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:s})}const Yz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Xz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ie=f.forwardRef(function(e,n){let{onClick:s,relative:i,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=e,p=Bz(e,Hz),{basename:m}=f.useContext(Qi),g,x=!1;if(typeof u=="string"&&Xz.test(u)&&(g=u,Yz))try{let w=new URL(window.location.href),k=u.startsWith("//")?new URL(w.protocol+u):new URL(u),N=ub(k.pathname,m);k.origin===w.origin&&N!=null?u=N+k.search+k.hash:x=!0}catch{}let b=jz(u,{relative:i}),v=Zz(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:h});function y(w){s&&s(w),w.defaultPrevented||v(w)}return f.createElement("a",iv({},p,{href:g||b,onClick:x||a?s:y,ref:n,target:c}))});var AN;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(AN||(AN={}));var IN;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(IN||(IN={}));function Zz(t,e){let{target:n,replace:s,state:i,preventScrollReset:a,relative:o,viewTransition:l}=e===void 0?{}:e,c=pt(),u=tr(),d=MP(t,{relative:o});return f.useCallback(h=>{if(Vz(h,n)){h.preventDefault();let p=s!==void 0?s:Kp(u)===Kp(d);c(t,{replace:p,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,s,i,n,t,a,o,l])}function IP(t){let e=f.useRef(av(t)),n=f.useRef(!1),s=tr(),i=f.useMemo(()=>Wz(s.search,n.current?null:e.current),[s.search]),a=pt(),o=f.useCallback((l,c)=>{const u=av(typeof l=="function"?l(i):l);n.current=!0,a("?"+u,c)},[a,i]);return[i,o]}function OP(t,e){return function(){return t.apply(e,arguments)}}const{toString:Qz}=Object.prototype,{getPrototypeOf:gb}=Object,{iterator:fm,toStringTag:RP}=Symbol,mm=(t=>e=>{const n=Qz.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),nr=t=>(t=t.toLowerCase(),e=>mm(e)===t),gm=t=>e=>typeof e===t,{isArray:Fl}=Array,Dd=gm("undefined");function gu(t){return t!==null&&!Dd(t)&&t.constructor!==null&&!Dd(t.constructor)&&Gn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const DP=nr("ArrayBuffer");function Jz(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&DP(t.buffer),e}const eB=gm("string"),Gn=gm("function"),$P=gm("number"),xu=t=>t!==null&&typeof t=="object",tB=t=>t===!0||t===!1,Gh=t=>{if(mm(t)!=="object")return!1;const e=gb(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(RP in t)&&!(fm in t)},nB=t=>{if(!xu(t)||gu(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},sB=nr("Date"),rB=nr("File"),iB=nr("Blob"),aB=nr("FileList"),oB=t=>xu(t)&&Gn(t.pipe),lB=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Gn(t.append)&&((e=mm(t))==="formdata"||e==="object"&&Gn(t.toString)&&t.toString()==="[object FormData]"))},cB=nr("URLSearchParams"),[dB,uB,hB,pB]=["ReadableStream","Request","Response","Headers"].map(nr),fB=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function vu(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let s,i;if(typeof t!="object"&&(t=[t]),Fl(t))for(s=0,i=t.length;s<i;s++)e.call(null,t[s],s,t);else{if(gu(t))return;const a=n?Object.getOwnPropertyNames(t):Object.keys(t),o=a.length;let l;for(s=0;s<o;s++)l=a[s],e.call(null,t[l],l,t)}}function FP(t,e){if(gu(t))return null;e=e.toLowerCase();const n=Object.keys(t);let s=n.length,i;for(;s-- >0;)if(i=n[s],e===i.toLowerCase())return i;return null}const Na=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,zP=t=>!Dd(t)&&t!==Na;function ov(){const{caseless:t}=zP(this)&&this||{},e={},n=(s,i)=>{const a=t&&FP(e,i)||i;Gh(e[a])&&Gh(s)?e[a]=ov(e[a],s):Gh(s)?e[a]=ov({},s):Fl(s)?e[a]=s.slice():e[a]=s};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&vu(arguments[s],n);return e}const mB=(t,e,n,{allOwnKeys:s}={})=>(vu(e,(i,a)=>{n&&Gn(i)?t[a]=OP(i,n):t[a]=i},{allOwnKeys:s}),t),gB=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),xB=(t,e,n,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},vB=(t,e,n,s)=>{let i,a,o;const l={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),a=i.length;a-- >0;)o=i[a],(!s||s(o,t,e))&&!l[o]&&(e[o]=t[o],l[o]=!0);t=n!==!1&&gb(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},yB=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const s=t.indexOf(e,n);return s!==-1&&s===n},bB=t=>{if(!t)return null;if(Fl(t))return t;let e=t.length;if(!$P(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},wB=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&gb(Uint8Array)),jB=(t,e)=>{const s=(t&&t[fm]).call(t);let i;for(;(i=s.next())&&!i.done;){const a=i.value;e.call(t,a[0],a[1])}},NB=(t,e)=>{let n;const s=[];for(;(n=t.exec(e))!==null;)s.push(n);return s},kB=nr("HTMLFormElement"),SB=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,i){return s.toUpperCase()+i}),ON=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),CB=nr("RegExp"),BP=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),s={};vu(n,(i,a)=>{let o;(o=e(i,a,t))!==!1&&(s[a]=o||i)}),Object.defineProperties(t,s)},EB=t=>{BP(t,(e,n)=>{if(Gn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=t[n];if(Gn(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},PB=(t,e)=>{const n={},s=i=>{i.forEach(a=>{n[a]=!0})};return Fl(t)?s(t):s(String(t).split(e)),n},_B=()=>{},MB=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function TB(t){return!!(t&&Gn(t.append)&&t[RP]==="FormData"&&t[fm])}const LB=t=>{const e=new Array(10),n=(s,i)=>{if(xu(s)){if(e.indexOf(s)>=0)return;if(gu(s))return s;if(!("toJSON"in s)){e[i]=s;const a=Fl(s)?[]:{};return vu(s,(o,l)=>{const c=n(o,i+1);!Dd(c)&&(a[l]=c)}),e[i]=void 0,a}}return s};return n(t,0)},AB=nr("AsyncFunction"),IB=t=>t&&(xu(t)||Gn(t))&&Gn(t.then)&&Gn(t.catch),UP=((t,e)=>t?setImmediate:e?((n,s)=>(Na.addEventListener("message",({source:i,data:a})=>{i===Na&&a===n&&s.length&&s.shift()()},!1),i=>{s.push(i),Na.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Gn(Na.postMessage)),OB=typeof queueMicrotask<"u"?queueMicrotask.bind(Na):typeof process<"u"&&process.nextTick||UP,RB=t=>t!=null&&Gn(t[fm]),pe={isArray:Fl,isArrayBuffer:DP,isBuffer:gu,isFormData:lB,isArrayBufferView:Jz,isString:eB,isNumber:$P,isBoolean:tB,isObject:xu,isPlainObject:Gh,isEmptyObject:nB,isReadableStream:dB,isRequest:uB,isResponse:hB,isHeaders:pB,isUndefined:Dd,isDate:sB,isFile:rB,isBlob:iB,isRegExp:CB,isFunction:Gn,isStream:oB,isURLSearchParams:cB,isTypedArray:wB,isFileList:aB,forEach:vu,merge:ov,extend:mB,trim:fB,stripBOM:gB,inherits:xB,toFlatObject:vB,kindOf:mm,kindOfTest:nr,endsWith:yB,toArray:bB,forEachEntry:jB,matchAll:NB,isHTMLForm:kB,hasOwnProperty:ON,hasOwnProp:ON,reduceDescriptors:BP,freezeMethods:EB,toObjectSet:PB,toCamelCase:SB,noop:_B,toFiniteNumber:MB,findKey:FP,global:Na,isContextDefined:zP,isSpecCompliantForm:TB,toJSONObject:LB,isAsyncFn:AB,isThenable:IB,setImmediate:UP,asap:OB,isIterable:RB};function Ue(t,e,n,s,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),s&&(this.request=s),i&&(this.response=i,this.status=i.status?i.status:null)}pe.inherits(Ue,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:pe.toJSONObject(this.config),code:this.code,status:this.status}}});const VP=Ue.prototype,WP={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{WP[t]={value:t}});Object.defineProperties(Ue,WP);Object.defineProperty(VP,"isAxiosError",{value:!0});Ue.from=(t,e,n,s,i,a)=>{const o=Object.create(VP);return pe.toFlatObject(t,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),Ue.call(o,t.message,e,n,s,i),o.cause=t,o.name=t.name,a&&Object.assign(o,a),o};const DB=null;function lv(t){return pe.isPlainObject(t)||pe.isArray(t)}function HP(t){return pe.endsWith(t,"[]")?t.slice(0,-2):t}function RN(t,e,n){return t?t.concat(e).map(function(i,a){return i=HP(i),!n&&a?"["+i+"]":i}).join(n?".":""):e}function $B(t){return pe.isArray(t)&&!t.some(lv)}const FB=pe.toFlatObject(pe,{},null,function(e){return/^is[A-Z]/.test(e)});function xm(t,e,n){if(!pe.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=pe.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,b){return!pe.isUndefined(b[x])});const s=n.metaTokens,i=n.visitor||d,a=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&pe.isSpecCompliantForm(e);if(!pe.isFunction(i))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(pe.isDate(g))return g.toISOString();if(pe.isBoolean(g))return g.toString();if(!c&&pe.isBlob(g))throw new Ue("Blob is not supported. Use a Buffer instead.");return pe.isArrayBuffer(g)||pe.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,x,b){let v=g;if(g&&!b&&typeof g=="object"){if(pe.endsWith(x,"{}"))x=s?x:x.slice(0,-2),g=JSON.stringify(g);else if(pe.isArray(g)&&$B(g)||(pe.isFileList(g)||pe.endsWith(x,"[]"))&&(v=pe.toArray(g)))return x=HP(x),v.forEach(function(w,k){!(pe.isUndefined(w)||w===null)&&e.append(o===!0?RN([x],k,a):o===null?x:x+"[]",u(w))}),!1}return lv(g)?!0:(e.append(RN(b,x,a),u(g)),!1)}const h=[],p=Object.assign(FB,{defaultVisitor:d,convertValue:u,isVisitable:lv});function m(g,x){if(!pe.isUndefined(g)){if(h.indexOf(g)!==-1)throw Error("Circular reference detected in "+x.join("."));h.push(g),pe.forEach(g,function(v,y){(!(pe.isUndefined(v)||v===null)&&i.call(e,v,pe.isString(y)?y.trim():y,x,p))===!0&&m(v,x?x.concat(y):[y])}),h.pop()}}if(!pe.isObject(t))throw new TypeError("data must be an object");return m(t),e}function DN(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function xb(t,e){this._pairs=[],t&&xm(t,this,e)}const qP=xb.prototype;qP.append=function(e,n){this._pairs.push([e,n])};qP.toString=function(e){const n=e?function(s){return e.call(this,s,DN)}:DN;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function zB(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function KP(t,e,n){if(!e)return t;const s=n&&n.encode||zB;pe.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let a;if(i?a=i(e,n):a=pe.isURLSearchParams(e)?e.toString():new xb(e,n).toString(s),a){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class $N{constructor(){this.handlers=[]}use(e,n,s){return this.handlers.push({fulfilled:e,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){pe.forEach(this.handlers,function(s){s!==null&&e(s)})}}const GP={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},BB=typeof URLSearchParams<"u"?URLSearchParams:xb,UB=typeof FormData<"u"?FormData:null,VB=typeof Blob<"u"?Blob:null,WB={isBrowser:!0,classes:{URLSearchParams:BB,FormData:UB,Blob:VB},protocols:["http","https","file","blob","url","data"]},vb=typeof window<"u"&&typeof document<"u",cv=typeof navigator=="object"&&navigator||void 0,HB=vb&&(!cv||["ReactNative","NativeScript","NS"].indexOf(cv.product)<0),qB=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",KB=vb&&window.location.href||"http://localhost",GB=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:vb,hasStandardBrowserEnv:HB,hasStandardBrowserWebWorkerEnv:qB,navigator:cv,origin:KB},Symbol.toStringTag,{value:"Module"})),Nn={...GB,...WB};function YB(t,e){return xm(t,new Nn.classes.URLSearchParams,{visitor:function(n,s,i,a){return Nn.isNode&&pe.isBuffer(n)?(this.append(s,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...e})}function XB(t){return pe.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function ZB(t){const e={},n=Object.keys(t);let s;const i=n.length;let a;for(s=0;s<i;s++)a=n[s],e[a]=t[a];return e}function YP(t){function e(n,s,i,a){let o=n[a++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=a>=n.length;return o=!o&&pe.isArray(i)?i.length:o,c?(pe.hasOwnProp(i,o)?i[o]=[i[o],s]:i[o]=s,!l):((!i[o]||!pe.isObject(i[o]))&&(i[o]=[]),e(n,s,i[o],a)&&pe.isArray(i[o])&&(i[o]=ZB(i[o])),!l)}if(pe.isFormData(t)&&pe.isFunction(t.entries)){const n={};return pe.forEachEntry(t,(s,i)=>{e(XB(s),i,n,0)}),n}return null}function QB(t,e,n){if(pe.isString(t))try{return(e||JSON.parse)(t),pe.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(t)}const yu={transitional:GP,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const s=n.getContentType()||"",i=s.indexOf("application/json")>-1,a=pe.isObject(e);if(a&&pe.isHTMLForm(e)&&(e=new FormData(e)),pe.isFormData(e))return i?JSON.stringify(YP(e)):e;if(pe.isArrayBuffer(e)||pe.isBuffer(e)||pe.isStream(e)||pe.isFile(e)||pe.isBlob(e)||pe.isReadableStream(e))return e;if(pe.isArrayBufferView(e))return e.buffer;if(pe.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(a){if(s.indexOf("application/x-www-form-urlencoded")>-1)return YB(e,this.formSerializer).toString();if((l=pe.isFileList(e))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return xm(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return a||i?(n.setContentType("application/json",!1),QB(e)):e}],transformResponse:[function(e){const n=this.transitional||yu.transitional,s=n&&n.forcedJSONParsing,i=this.responseType==="json";if(pe.isResponse(e)||pe.isReadableStream(e))return e;if(e&&pe.isString(e)&&(s&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?Ue.from(l,Ue.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Nn.classes.FormData,Blob:Nn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};pe.forEach(["delete","get","head","post","put","patch"],t=>{yu.headers[t]={}});const JB=pe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),eU=t=>{const e={};let n,s,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),s=o.substring(i+1).trim(),!(!n||e[n]&&JB[n])&&(n==="set-cookie"?e[n]?e[n].push(s):e[n]=[s]:e[n]=e[n]?e[n]+", "+s:s)}),e},FN=Symbol("internals");function ac(t){return t&&String(t).trim().toLowerCase()}function Yh(t){return t===!1||t==null?t:pe.isArray(t)?t.map(Yh):String(t)}function tU(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(t);)e[s[1]]=s[2];return e}const nU=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function _g(t,e,n,s,i){if(pe.isFunction(s))return s.call(this,e,n);if(i&&(e=n),!!pe.isString(e)){if(pe.isString(s))return e.indexOf(s)!==-1;if(pe.isRegExp(s))return s.test(e)}}function sU(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,s)=>n.toUpperCase()+s)}function rU(t,e){const n=pe.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+n,{value:function(i,a,o){return this[s].call(this,e,i,a,o)},configurable:!0})})}let Yn=class{constructor(e){e&&this.set(e)}set(e,n,s){const i=this;function a(l,c,u){const d=ac(c);if(!d)throw new Error("header name must be a non-empty string");const h=pe.findKey(i,d);(!h||i[h]===void 0||u===!0||u===void 0&&i[h]!==!1)&&(i[h||c]=Yh(l))}const o=(l,c)=>pe.forEach(l,(u,d)=>a(u,d,c));if(pe.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(pe.isString(e)&&(e=e.trim())&&!nU(e))o(eU(e),n);else if(pe.isObject(e)&&pe.isIterable(e)){let l={},c,u;for(const d of e){if(!pe.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?pe.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(l,n)}else e!=null&&a(n,e,s);return this}get(e,n){if(e=ac(e),e){const s=pe.findKey(this,e);if(s){const i=this[s];if(!n)return i;if(n===!0)return tU(i);if(pe.isFunction(n))return n.call(this,i,s);if(pe.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=ac(e),e){const s=pe.findKey(this,e);return!!(s&&this[s]!==void 0&&(!n||_g(this,this[s],s,n)))}return!1}delete(e,n){const s=this;let i=!1;function a(o){if(o=ac(o),o){const l=pe.findKey(s,o);l&&(!n||_g(s,s[l],l,n))&&(delete s[l],i=!0)}}return pe.isArray(e)?e.forEach(a):a(e),i}clear(e){const n=Object.keys(this);let s=n.length,i=!1;for(;s--;){const a=n[s];(!e||_g(this,this[a],a,e,!0))&&(delete this[a],i=!0)}return i}normalize(e){const n=this,s={};return pe.forEach(this,(i,a)=>{const o=pe.findKey(s,a);if(o){n[o]=Yh(i),delete n[a];return}const l=e?sU(a):String(a).trim();l!==a&&delete n[a],n[l]=Yh(i),s[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return pe.forEach(this,(s,i)=>{s!=null&&s!==!1&&(n[i]=e&&pe.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const s=new this(e);return n.forEach(i=>s.set(i)),s}static accessor(e){const s=(this[FN]=this[FN]={accessors:{}}).accessors,i=this.prototype;function a(o){const l=ac(o);s[l]||(rU(i,o),s[l]=!0)}return pe.isArray(e)?e.forEach(a):a(e),this}};Yn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);pe.reduceDescriptors(Yn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[n]=s}}});pe.freezeMethods(Yn);function Mg(t,e){const n=this||yu,s=e||n,i=Yn.from(s.headers);let a=s.data;return pe.forEach(t,function(l){a=l.call(n,a,i.normalize(),e?e.status:void 0)}),i.normalize(),a}function XP(t){return!!(t&&t.__CANCEL__)}function zl(t,e,n){Ue.call(this,t??"canceled",Ue.ERR_CANCELED,e,n),this.name="CanceledError"}pe.inherits(zl,Ue,{__CANCEL__:!0});function ZP(t,e,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?t(n):e(new Ue("Request failed with status code "+n.status,[Ue.ERR_BAD_REQUEST,Ue.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function iU(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function aU(t,e){t=t||10;const n=new Array(t),s=new Array(t);let i=0,a=0,o;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),d=s[a];o||(o=u),n[i]=c,s[i]=u;let h=a,p=0;for(;h!==i;)p+=n[h++],h=h%t;if(i=(i+1)%t,i===a&&(a=(a+1)%t),u-o<e)return;const m=d&&u-d;return m?Math.round(p*1e3/m):void 0}}function oU(t,e){let n=0,s=1e3/e,i,a;const o=(u,d=Date.now())=>{n=d,i=null,a&&(clearTimeout(a),a=null),t(...u)};return[(...u)=>{const d=Date.now(),h=d-n;h>=s?o(u,d):(i=u,a||(a=setTimeout(()=>{a=null,o(i)},s-h)))},()=>i&&o(i)]}const Gp=(t,e,n=3)=>{let s=0;const i=aU(50,250);return oU(a=>{const o=a.loaded,l=a.lengthComputable?a.total:void 0,c=o-s,u=i(c),d=o<=l;s=o;const h={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-o)/u:void 0,event:a,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(h)},n)},zN=(t,e)=>{const n=t!=null;return[s=>e[0]({lengthComputable:n,total:t,loaded:s}),e[1]]},BN=t=>(...e)=>pe.asap(()=>t(...e)),lU=Nn.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Nn.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Nn.origin),Nn.navigator&&/(msie|trident)/i.test(Nn.navigator.userAgent)):()=>!0,cU=Nn.hasStandardBrowserEnv?{write(t,e,n,s,i,a){const o=[t+"="+encodeURIComponent(e)];pe.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),pe.isString(s)&&o.push("path="+s),pe.isString(i)&&o.push("domain="+i),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function dU(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function uU(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function QP(t,e,n){let s=!dU(e);return t&&(s||n==!1)?uU(t,e):e}const UN=t=>t instanceof Yn?{...t}:t;function Xa(t,e){e=e||{};const n={};function s(u,d,h,p){return pe.isPlainObject(u)&&pe.isPlainObject(d)?pe.merge.call({caseless:p},u,d):pe.isPlainObject(d)?pe.merge({},d):pe.isArray(d)?d.slice():d}function i(u,d,h,p){if(pe.isUndefined(d)){if(!pe.isUndefined(u))return s(void 0,u,h,p)}else return s(u,d,h,p)}function a(u,d){if(!pe.isUndefined(d))return s(void 0,d)}function o(u,d){if(pe.isUndefined(d)){if(!pe.isUndefined(u))return s(void 0,u)}else return s(void 0,d)}function l(u,d,h){if(h in e)return s(u,d);if(h in t)return s(void 0,u)}const c={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d,h)=>i(UN(u),UN(d),h,!0)};return pe.forEach(Object.keys({...t,...e}),function(d){const h=c[d]||i,p=h(t[d],e[d],d);pe.isUndefined(p)&&h!==l||(n[d]=p)}),n}const JP=t=>{const e=Xa({},t);let{data:n,withXSRFToken:s,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:l}=e;e.headers=o=Yn.from(o),e.url=KP(QP(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(pe.isFormData(n)){if(Nn.hasStandardBrowserEnv||Nn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[u,...d]=c?c.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...d].join("; "))}}if(Nn.hasStandardBrowserEnv&&(s&&pe.isFunction(s)&&(s=s(e)),s||s!==!1&&lU(e.url))){const u=i&&a&&cU.read(a);u&&o.set(i,u)}return e},hU=typeof XMLHttpRequest<"u",pU=hU&&function(t){return new Promise(function(n,s){const i=JP(t);let a=i.data;const o=Yn.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=i,d,h,p,m,g;function x(){m&&m(),g&&g(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let b=new XMLHttpRequest;b.open(i.method.toUpperCase(),i.url,!0),b.timeout=i.timeout;function v(){if(!b)return;const w=Yn.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),N={data:!l||l==="text"||l==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:w,config:t,request:b};ZP(function(M){n(M),x()},function(M){s(M),x()},N),b=null}"onloadend"in b?b.onloadend=v:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(v)},b.onabort=function(){b&&(s(new Ue("Request aborted",Ue.ECONNABORTED,t,b)),b=null)},b.onerror=function(){s(new Ue("Network Error",Ue.ERR_NETWORK,t,b)),b=null},b.ontimeout=function(){let k=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const N=i.transitional||GP;i.timeoutErrorMessage&&(k=i.timeoutErrorMessage),s(new Ue(k,N.clarifyTimeoutError?Ue.ETIMEDOUT:Ue.ECONNABORTED,t,b)),b=null},a===void 0&&o.setContentType(null),"setRequestHeader"in b&&pe.forEach(o.toJSON(),function(k,N){b.setRequestHeader(N,k)}),pe.isUndefined(i.withCredentials)||(b.withCredentials=!!i.withCredentials),l&&l!=="json"&&(b.responseType=i.responseType),u&&([p,g]=Gp(u,!0),b.addEventListener("progress",p)),c&&b.upload&&([h,m]=Gp(c),b.upload.addEventListener("progress",h),b.upload.addEventListener("loadend",m)),(i.cancelToken||i.signal)&&(d=w=>{b&&(s(!w||w.type?new zl(null,t,b):w),b.abort(),b=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const y=iU(i.url);if(y&&Nn.protocols.indexOf(y)===-1){s(new Ue("Unsupported protocol "+y+":",Ue.ERR_BAD_REQUEST,t));return}b.send(a||null)})},fU=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let s=new AbortController,i;const a=function(u){if(!i){i=!0,l();const d=u instanceof Error?u:this.reason;s.abort(d instanceof Ue?d:new zl(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{o=null,a(new Ue(`timeout ${e} of ms exceeded`,Ue.ETIMEDOUT))},e);const l=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(a):u.removeEventListener("abort",a)}),t=null)};t.forEach(u=>u.addEventListener("abort",a));const{signal:c}=s;return c.unsubscribe=()=>pe.asap(l),c}},mU=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let s=0,i;for(;s<n;)i=s+e,yield t.slice(s,i),s=i},gU=async function*(t,e){for await(const n of xU(t))yield*mU(n,e)},xU=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:s}=await e.read();if(n)break;yield s}}finally{await e.cancel()}},VN=(t,e,n,s)=>{const i=gU(t,e);let a=0,o,l=c=>{o||(o=!0,s&&s(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await i.next();if(u){l(),c.close();return}let h=d.byteLength;if(n){let p=a+=h;n(p)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},vm=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",e_=vm&&typeof ReadableStream=="function",vU=vm&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),t_=(t,...e)=>{try{return!!t(...e)}catch{return!1}},yU=e_&&t_(()=>{let t=!1;const e=new Request(Nn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),WN=64*1024,dv=e_&&t_(()=>pe.isReadableStream(new Response("").body)),Yp={stream:dv&&(t=>t.body)};vm&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Yp[e]&&(Yp[e]=pe.isFunction(t[e])?n=>n[e]():(n,s)=>{throw new Ue(`Response type '${e}' is not supported`,Ue.ERR_NOT_SUPPORT,s)})})})(new Response);const bU=async t=>{if(t==null)return 0;if(pe.isBlob(t))return t.size;if(pe.isSpecCompliantForm(t))return(await new Request(Nn.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(pe.isArrayBufferView(t)||pe.isArrayBuffer(t))return t.byteLength;if(pe.isURLSearchParams(t)&&(t=t+""),pe.isString(t))return(await vU(t)).byteLength},wU=async(t,e)=>{const n=pe.toFiniteNumber(t.getContentLength());return n??bU(e)},jU=vm&&(async t=>{let{url:e,method:n,data:s,signal:i,cancelToken:a,timeout:o,onDownloadProgress:l,onUploadProgress:c,responseType:u,headers:d,withCredentials:h="same-origin",fetchOptions:p}=JP(t);u=u?(u+"").toLowerCase():"text";let m=fU([i,a&&a.toAbortSignal()],o),g;const x=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let b;try{if(c&&yU&&n!=="get"&&n!=="head"&&(b=await wU(d,s))!==0){let N=new Request(e,{method:"POST",body:s,duplex:"half"}),S;if(pe.isFormData(s)&&(S=N.headers.get("content-type"))&&d.setContentType(S),N.body){const[M,j]=zN(b,Gp(BN(c)));s=VN(N.body,WN,M,j)}}pe.isString(h)||(h=h?"include":"omit");const v="credentials"in Request.prototype;g=new Request(e,{...p,signal:m,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:s,duplex:"half",credentials:v?h:void 0});let y=await fetch(g,p);const w=dv&&(u==="stream"||u==="response");if(dv&&(l||w&&x)){const N={};["status","statusText","headers"].forEach(C=>{N[C]=y[C]});const S=pe.toFiniteNumber(y.headers.get("content-length")),[M,j]=l&&zN(S,Gp(BN(l),!0))||[];y=new Response(VN(y.body,WN,M,()=>{j&&j(),x&&x()}),N)}u=u||"text";let k=await Yp[pe.findKey(Yp,u)||"text"](y,t);return!w&&x&&x(),await new Promise((N,S)=>{ZP(N,S,{data:k,headers:Yn.from(y.headers),status:y.status,statusText:y.statusText,config:t,request:g})})}catch(v){throw x&&x(),v&&v.name==="TypeError"&&/Load failed|fetch/i.test(v.message)?Object.assign(new Ue("Network Error",Ue.ERR_NETWORK,t,g),{cause:v.cause||v}):Ue.from(v,v&&v.code,t,g)}}),uv={http:DB,xhr:pU,fetch:jU};pe.forEach(uv,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const HN=t=>`- ${t}`,NU=t=>pe.isFunction(t)||t===null||t===!1,n_={getAdapter:t=>{t=pe.isArray(t)?t:[t];const{length:e}=t;let n,s;const i={};for(let a=0;a<e;a++){n=t[a];let o;if(s=n,!NU(n)&&(s=uv[(o=String(n)).toLowerCase()],s===void 0))throw new Ue(`Unknown adapter '${o}'`);if(s)break;i[o||"#"+a]=s}if(!s){const a=Object.entries(i).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?a.length>1?`since :
`+a.map(HN).join(`
`):" "+HN(a[0]):"as no adapter specified";throw new Ue("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s},adapters:uv};function Tg(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new zl(null,t)}function qN(t){return Tg(t),t.headers=Yn.from(t.headers),t.data=Mg.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),n_.getAdapter(t.adapter||yu.adapter)(t).then(function(s){return Tg(t),s.data=Mg.call(t,t.transformResponse,s),s.headers=Yn.from(s.headers),s},function(s){return XP(s)||(Tg(t),s&&s.response&&(s.response.data=Mg.call(t,t.transformResponse,s.response),s.response.headers=Yn.from(s.response.headers))),Promise.reject(s)})}const s_="1.11.0",ym={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{ym[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});const KN={};ym.transitional=function(e,n,s){function i(a,o){return"[Axios v"+s_+"] Transitional option '"+a+"'"+o+(s?". "+s:"")}return(a,o,l)=>{if(e===!1)throw new Ue(i(o," has been removed"+(n?" in "+n:"")),Ue.ERR_DEPRECATED);return n&&!KN[o]&&(KN[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(a,o,l):!0}};ym.spelling=function(e){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function kU(t,e,n){if(typeof t!="object")throw new Ue("options must be an object",Ue.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let i=s.length;for(;i-- >0;){const a=s[i],o=e[a];if(o){const l=t[a],c=l===void 0||o(l,a,t);if(c!==!0)throw new Ue("option "+a+" must be "+c,Ue.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ue("Unknown option "+a,Ue.ERR_BAD_OPTION)}}const Xh={assertOptions:kU,validators:ym},lr=Xh.validators;let La=class{constructor(e){this.defaults=e||{},this.interceptors={request:new $N,response:new $N}}async request(e,n){try{return await this._request(e,n)}catch(s){if(s instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{s.stack?a&&!String(s.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+a):s.stack=a}catch{}}throw s}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Xa(this.defaults,n);const{transitional:s,paramsSerializer:i,headers:a}=n;s!==void 0&&Xh.assertOptions(s,{silentJSONParsing:lr.transitional(lr.boolean),forcedJSONParsing:lr.transitional(lr.boolean),clarifyTimeoutError:lr.transitional(lr.boolean)},!1),i!=null&&(pe.isFunction(i)?n.paramsSerializer={serialize:i}:Xh.assertOptions(i,{encode:lr.function,serialize:lr.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Xh.assertOptions(n,{baseUrl:lr.spelling("baseURL"),withXsrfToken:lr.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=a&&pe.merge(a.common,a[n.method]);a&&pe.forEach(["delete","get","head","post","put","patch","common"],g=>{delete a[g]}),n.headers=Yn.concat(o,a);const l=[];let c=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(n)===!1||(c=c&&x.synchronous,l.unshift(x.fulfilled,x.rejected))});const u=[];this.interceptors.response.forEach(function(x){u.push(x.fulfilled,x.rejected)});let d,h=0,p;if(!c){const g=[qN.bind(this),void 0];for(g.unshift(...l),g.push(...u),p=g.length,d=Promise.resolve(n);h<p;)d=d.then(g[h++],g[h++]);return d}p=l.length;let m=n;for(h=0;h<p;){const g=l[h++],x=l[h++];try{m=g(m)}catch(b){x.call(this,b);break}}try{d=qN.call(this,m)}catch(g){return Promise.reject(g)}for(h=0,p=u.length;h<p;)d=d.then(u[h++],u[h++]);return d}getUri(e){e=Xa(this.defaults,e);const n=QP(e.baseURL,e.url,e.allowAbsoluteUrls);return KP(n,e.params,e.paramsSerializer)}};pe.forEach(["delete","get","head","options"],function(e){La.prototype[e]=function(n,s){return this.request(Xa(s||{},{method:e,url:n,data:(s||{}).data}))}});pe.forEach(["post","put","patch"],function(e){function n(s){return function(a,o,l){return this.request(Xa(l||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}La.prototype[e]=n(),La.prototype[e+"Form"]=n(!0)});let SU=class r_{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const s=this;this.promise.then(i=>{if(!s._listeners)return;let a=s._listeners.length;for(;a-- >0;)s._listeners[a](i);s._listeners=null}),this.promise.then=i=>{let a;const o=new Promise(l=>{s.subscribe(l),a=l}).then(i);return o.cancel=function(){s.unsubscribe(a)},o},e(function(a,o,l){s.reason||(s.reason=new zl(a,o,l),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=s=>{e.abort(s)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new r_(function(i){e=i}),cancel:e}}};function CU(t){return function(n){return t.apply(null,n)}}function EU(t){return pe.isObject(t)&&t.isAxiosError===!0}const hv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(hv).forEach(([t,e])=>{hv[e]=t});function i_(t){const e=new La(t),n=OP(La.prototype.request,e);return pe.extend(n,La.prototype,e,{allOwnKeys:!0}),pe.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return i_(Xa(t,i))},n}const It=i_(yu);It.Axios=La;It.CanceledError=zl;It.CancelToken=SU;It.isCancel=XP;It.VERSION=s_;It.toFormData=xm;It.AxiosError=Ue;It.Cancel=It.CanceledError;It.all=function(e){return Promise.all(e)};It.spread=CU;It.isAxiosError=EU;It.mergeConfig=Xa;It.AxiosHeaders=Yn;It.formToJSON=t=>YP(pe.isHTMLForm(t)?new FormData(t):t);It.getAdapter=n_.getAdapter;It.HttpStatusCode=hv;It.default=It;const{Axios:xoe,AxiosError:voe,CanceledError:yoe,isCancel:boe,CancelToken:woe,VERSION:joe,all:Noe,Cancel:koe,isAxiosError:Soe,spread:Coe,toFormData:Eoe,AxiosHeaders:Poe,HttpStatusCode:_oe,formToJSON:Moe,getAdapter:Toe,mergeConfig:Loe}=It;function PU(t){window.location.assign(t)}const _U={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"https://api.newrun.club",VITE_GOOGLE_MAPS_API_KEY:"AIzaSyCmNIb_QRLF9sdOA5MsB3AQbsE-QYI70PE"};var Lg={};const MU=typeof import.meta<"u"&&_U&&"https://api.newrun.club",TU=typeof process<"u"&&Lg&&(Lg.REACT_APP_API_BASE_URL||Lg.API_BASE_URL),LU=MU||TU||typeof window<"u"&&window.__API_BASE_URL__||"http://localhost:8000";function pv(){return localStorage.getItem("accessToken")||localStorage.getItem("token")||localStorage.getItem("userToken")||""}const ge=It.create({baseURL:LU.replace(/\/+$/,""),withCredentials:!1});ge.interceptors.request.use(t=>{const e=pv();return e&&(t.headers.Authorization=`Bearer ${e}`),t});let Ag=!1,th=null;ge.interceptors.response.use(t=>t,t=>{var s,i,a,o,l;const e=(s=t==null?void 0:t.response)==null?void 0:s.status,n=((a=(i=t==null?void 0:t.response)==null?void 0:i.data)==null?void 0:a.message)||t.message||"An error occurred";return e===401&&!Ag&&(Ag=!0,console.warn("401 Unauthorized - clearing tokens and redirecting to login"),localStorage.removeItem("accessToken"),localStorage.removeItem("token"),localStorage.removeItem("userToken"),th&&clearTimeout(th),th=setTimeout(()=>{try{PU("/login?error=session_expired")}finally{Ag=!1,th=null}},100)),e===403&&console.warn("403 Forbidden - insufficient permissions"),e>=500&&console.error("Server error:",n),console.error("API Error:",{status:e,message:n,url:(o=t.config)==null?void 0:o.url,method:(l=t.config)==null?void 0:l.method}),Promise.reject(t)});const a_=f.createContext(),AU=({children:t})=>{const[e,n]=f.useState(!1),[s,i]=f.useState(null),[a,o]=f.useState(!0),[l,c]=f.useState(null);f.useEffect(()=>{(async()=>{try{const g=localStorage.getItem("accessToken")||localStorage.getItem("token");if(g){c(g),n(!0);try{const x=await ge.get("/get-user");if(x.data&&x.data.user)i(x.data.user);else throw new Error("Invalid user data")}catch(x){console.error("Error fetching user data:",x),localStorage.removeItem("accessToken"),localStorage.removeItem("token"),localStorage.removeItem("userToken"),c(null),i(null),n(!1)}}else c(null),i(null),n(!1)}catch(g){console.error("Error checking auth status:",g),localStorage.removeItem("accessToken"),localStorage.removeItem("token"),localStorage.removeItem("userToken"),c(null),i(null),n(!1)}finally{o(!1)}})()},[]),f.useEffect(()=>{const m=g=>{(g.key==="accessToken"||g.key==="token")&&(g.newValue||(c(null),i(null),n(!1)))};return window.addEventListener("storage",m),()=>window.removeEventListener("storage",m)},[]);const p={isAuthenticated:e,user:s,token:l,loading:a,login:async(m,g)=>{try{return localStorage.setItem("accessToken",g),localStorage.removeItem("token"),localStorage.removeItem("userToken"),c(g),i(m),n(!0),window.dispatchEvent(new CustomEvent("authStateChange",{detail:{type:"login",user:m,token:g}})),{success:!0}}catch(x){return console.error("Login error:",x),{success:!1,error:x.message}}},logout:()=>{try{return localStorage.removeItem("accessToken"),localStorage.removeItem("token"),localStorage.removeItem("userToken"),c(null),i(null),n(!1),sessionStorage.clear(),window.dispatchEvent(new CustomEvent("authStateChange",{detail:{type:"logout"}})),{success:!0}}catch(m){return console.error("Logout error:",m),{success:!1,error:m.message}}},updateUser:m=>{i(m)},setIsAuthenticated:n,setUser:i};return r.jsx(a_.Provider,{value:p,children:t})},Ji=()=>{const t=f.useContext(a_);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},cr="nr-ai-",nh=50,IU=5*60*1e3,GN=24*60*60*1e3;class OU{constructor(){this.cleanupInterval=setInterval(this.cleanup.bind(this),IU),this.invalidationTriggers=new Set,this.cacheVersion=Date.now()}generateUserDataHash(e){var i,a,o;if(!e)return"no-data";const n=JSON.stringify({university:e==null?void 0:e.university,major:e==null?void 0:e.major,onboardingData:e==null?void 0:e.onboardingData,dashboardData:e==null?void 0:e.dashboardData,userInfo:{id:(i=e==null?void 0:e.userInfo)==null?void 0:i.id,university:(a=e==null?void 0:e.userInfo)==null?void 0:a.university,major:(o=e==null?void 0:e.userInfo)==null?void 0:o.major}});let s=0;for(let l=0;l<n.length;l++){const c=n.charCodeAt(l);s=(s<<5)-s+c,s=s&s}return Math.abs(s).toString(36)}generateSmartCacheKey(e,n,s){const i=this.generateUserDataHash(s);return`${e}-${n}-${i}`}read(e,{maxAgeMs:n=24*60*60*1e3,obVer:s,cacheVersion:i}={}){var a,o,l;try{const c=localStorage.getItem(cr+e);if(!c)return null;const u=JSON.parse(c),d=Date.now()-(((a=u._meta)==null?void 0:a.ts)||0)<n,h=!s||((o=u._meta)==null?void 0:o.obVer)===s,p=!i||((l=u._meta)==null?void 0:l.cacheVersion)===i;if(d&&h&&p)return u._meta.lastAccess=Date.now(),localStorage.setItem(cr+e,JSON.stringify(u)),u.payload;(!d||!p)&&localStorage.removeItem(cr+e)}catch(c){console.warn("Cache read error:",c),localStorage.removeItem(cr+e)}return null}write(e,n,{obVer:s,ver:i="v1",cacheVersion:a}={}){try{const o={payload:n,_meta:{ts:Date.now(),lastAccess:Date.now(),obVer:s,ver:i,cacheVersion:a||this.cacheVersion}};localStorage.setItem(cr+e,JSON.stringify(o))}catch(o){console.warn("Cache write error:",o),this.cleanup();try{localStorage.setItem(cr+e,JSON.stringify(obj))}catch(l){console.error("Cache write failed after cleanup:",l)}}}cleanup(){try{const e=Object.keys(localStorage).filter(i=>i.startsWith(cr));if(e.length<=nh)return;const n=e.map(i=>{var a,o;try{const l=localStorage.getItem(i),c=JSON.parse(l);return{key:i,lastAccess:((a=c._meta)==null?void 0:a.lastAccess)||((o=c._meta)==null?void 0:o.ts)||0,size:l.length}}catch{return{key:i,lastAccess:0,size:0}}});n.sort((i,a)=>i.lastAccess-a.lastAccess);const s=n.slice(0,n.length-nh);s.forEach(i=>{localStorage.removeItem(i.key)}),console.log(`Cache cleanup: removed ${s.length} entries`)}catch(e){console.warn("Cache cleanup error:",e)}}clear(){try{Object.keys(localStorage).filter(n=>n.startsWith(cr)).forEach(n=>localStorage.removeItem(n)),this.cacheVersion=Date.now(),console.log(" AI cache cleared")}catch(e){console.warn("Cache clear error:",e)}}invalidate(e="manual"){console.log(` Cache invalidation: ${e}`),this.clear(),this.cacheVersion=Date.now(),this.invalidationTriggers.forEach(n=>{try{n(e)}catch(s){console.error("Cache invalidation callback error:",s)}})}onInvalidation(e){return this.invalidationTriggers.add(e),()=>this.invalidationTriggers.delete(e)}getVersion(){return this.cacheVersion}getCachedInsights(e,n){try{const s=this.generateSmartCacheKey("insights",e,n),i=this.read(s,{maxAgeMs:GN});return i?(console.log(" Cache HIT: Using cached AI insights"),i):(console.log(" Cache MISS: No valid insights cache found"),null)}catch(s){return console.error("Insights cache get error:",s),null}}setCachedInsights(e,n,s){try{const i=this.generateSmartCacheKey("insights",e,n);return this.write(i,s,{ver:"insights-v2",cacheVersion:this.cacheVersion}),console.log(" Cache SET: Stored AI insights"),!0}catch(i){return console.error("Insights cache set error:",i),!1}}getCachedActions(e,n){try{const s=this.generateSmartCacheKey("actions",e,n),i=this.read(s,{maxAgeMs:GN});return i?(console.log(" Cache HIT: Using cached AI actions"),i):(console.log(" Cache MISS: No valid actions cache found"),null)}catch(s){return console.error("Actions cache get error:",s),null}}setCachedActions(e,n,s){try{const i=this.generateSmartCacheKey("actions",e,n);return this.write(i,s,{ver:"actions-v2",cacheVersion:this.cacheVersion}),console.log(" Cache SET: Stored AI actions"),!0}catch(i){return console.error("Actions cache set error:",i),!1}}invalidateUserCache(e){try{const n=Object.keys(localStorage).filter(s=>s.startsWith(cr)&&s.includes(`-${e}-`));return n.forEach(s=>{localStorage.removeItem(s)}),console.log(` Cache INVALIDATED: Removed ${n.length} entries for user ${e}`),n.length}catch(n){return console.error("User cache invalidation error:",n),0}}getStats(){try{const e=Object.keys(localStorage).filter(s=>s.startsWith(cr)),n=e.reduce((s,i)=>{var a;try{return s+(((a=localStorage.getItem(i))==null?void 0:a.length)||0)}catch{return s}},0);return{entries:e.length,totalSize:n,maxEntries:nh}}catch{return{entries:0,totalSize:0,maxEntries:nh}}}}const io=new OU,RU=(t,e)=>io.read(t,e),DU=(t,e,n)=>io.write(t,e,n),$U=()=>io.clear(),o_=(t,e)=>io.getCachedInsights(t,e),l_=(t,e,n)=>io.setCachedInsights(t,e,n),c_=(t,e)=>io.getCachedActions(t,e),d_=(t,e,n)=>io.setCachedActions(t,e,n);class FU{constructor(){this.axios=ge}async _get(e){var n,s,i;try{const a=await this.axios.get(e);return{ok:!0,data:a.data,status:a.status}}catch(a){const o=(n=a==null?void 0:a.response)==null?void 0:n.status,l=((i=(s=a==null?void 0:a.response)==null?void 0:s.data)==null?void 0:i.message)||a.message||"Unknown error";if(o===401)throw console.warn(`[AI] 401 on ${e}  bubbling to interceptor`),a;const c=o===429||o>=500||!o;return console.warn(`[AI] GET ${e} failed`,{status:o,msg:l,recoverable:c}),{ok:!1,status:o,message:l,recoverable:c}}}async _post(e,n){var s,i,a;try{const o=await this.axios.post(e,n);return{ok:!0,data:o.data,status:o.status}}catch(o){const l=(s=o==null?void 0:o.response)==null?void 0:s.status,c=((a=(i=o==null?void 0:o.response)==null?void 0:i.data)==null?void 0:a.message)||o.message||"Unknown error";if(l===401)throw console.warn(`[AI] 401 on ${e}  bubbling to interceptor`),o;const u=l===429||l>=500||!l;return console.warn(`[AI] POST ${e} failed`,{status:l,msg:c,recoverable:u}),{ok:!1,status:l,message:c,recoverable:u}}}_validateArray(e,n){return e&&Array.isArray(e[n])?e[n]:null}_transformRealDataInsights(e,n){try{const s=e.insights||"",i=e.confidence||.85,a=e.dataSource||"Real NewRun Database",o=[{id:"real-data-insight-1",title:"AI-Powered Insights from Your Real Data",description:s,type:"insight",priority:"high",confidence:i,dataSource:a,timestamp:new Date().toISOString(),category:"ai-analysis",icon:"MdInsights",actionable:!0,personalized:!0}];if(e.realData){const l=e.realData;o.push({id:"real-data-stats-1",title:"Your Platform Statistics",description:`Your platform has ${l.totalUsers} users, ${l.totalProperties} properties, and ${l.totalMarketplaceItems} marketplace items.`,type:"statistics",priority:"medium",confidence:1,dataSource:"Real Database",timestamp:new Date().toISOString(),category:"platform-stats",icon:"MdAnalytics",actionable:!1,personalized:!1,stats:l})}return console.log(" Transformed real data insights:",o),o}catch(s){return console.error(" Error transforming real data insights:",s),this.getFallbackInsights(n,{})}}_validateString(e,n){return e&&typeof e[n]=="string"?e[n]:null}async generatePersonalizedInsights(e,n){var i;console.debug(" NewRunAI: generatePersonalizedInsights()");const s=await this._post("/api/ai/insights",{dashboardData:n});if(s.ok){const a=this._validateArray(s.data,"insights");return((i=s.data)==null?void 0:i.success)===!0&&a?a:(console.warn("[AI] Invalid response format from /api/ai/insights",s.data),this.getFallbackInsights(e,n))}return s.recoverable?this.getFallbackInsights(e,n):this.getFallbackInsights(e,n)}async generatePersonalizedActions(e){var i;console.debug(" NewRunAI: generatePersonalizedActions()");const n=(e==null?void 0:e.dashboardData)||(e==null?void 0:e.dashboardStats)||{};console.debug(" NewRunAI: Sending dashboardData:",n);const s=await this._post("/api/ai/actions",{dashboardData:n});if(s.ok){const a=this._validateArray(s.data,"actions");return((i=s.data)==null?void 0:i.success)===!0&&a?a:(console.warn("[AI] Invalid response format from /api/ai/actions",s.data),this.getFallbackActions())}return s.recoverable?this.getFallbackActions():this.getFallbackActions()}async generateConversationalResponse(e,n,s){var i,a,o;try{const l=await this._post("/api/ai/chat",{message:e,context:s});if(l.ok){const c=((i=l.data)==null?void 0:i.success)===!0,u=this._validateString(l.data,"response");return c&&u?u:(console.warn("[AI] Invalid response format from /api/ai/chat",l.data),"I'm having trouble processing that. Please try again in a moment.")}if(l.status===401)throw new Error("Unauthorized");return"I'm having trouble processing that. Please try again in a moment."}catch(l){if(((a=l==null?void 0:l.response)==null?void 0:a.status)===401)throw l;return console.error("NewRun AI Conversation Error:",(o=l==null?void 0:l.response)==null?void 0:o.status,l==null?void 0:l.message),"I'm having trouble processing that. Please try again in a moment."}}async explainInsight(e,n){var i,a,o,l,c;console.debug(" NewRunAI: explainInsight()",{id:e==null?void 0:e.id,title:e==null?void 0:e.title});const s=await this._post("/api/ai/explain-insight",{insight:e,dashboardData:n});if(s.ok){const u=((i=s.data)==null?void 0:i.success)===!0,d=this._validateString(s.data,"explanation");return u&&d?{explanation:d,insight:((a=s.data)==null?void 0:a.insight)??e,aiGenerated:!!((o=s.data)!=null&&o.aiGenerated),fallback:!!((l=s.data)!=null&&l.fallback),structured:((c=s.data)==null?void 0:c.structured)??null}:(console.warn("[AI] Invalid response format from /api/ai/explain-insight",s.data),this._fallbackExplanation(e))}if(s.status===401){const u=new Error("Unauthorized");throw u.response={status:401},u}return this._fallbackExplanation(e)}async generateArrivalTimeline(e){var n;try{const s=(n=e==null?void 0:e.onboardingData)==null?void 0:n.arrivalDate;if(!s)return null;const i=Math.ceil((new Date(s)-new Date)/(1e3*60*60*24));return{timeline:`Arriving in ${i} days`,criticalTasks:["Secure housing","Set up banking","Get essentials"],recommendations:["Start housing search immediately","Contact university for resources"],urgency:i<=7?"urgent":"important"}}catch(s){return console.error("NewRun AI Timeline Error:",s),null}}async generateMarketAnalysis(){try{return{budgetAnalysis:"Budget analysis unavailable",trends:"Market trends loading...",opportunities:"Analyzing opportunities...",recommendations:"Generating recommendations...",marketScore:"good"}}catch(e){return console.error("NewRun AI Market Analysis Error:",e),null}}async generateSuccessPredictions(){try{return{overallScore:"good",predictions:"AI analysis in progress...",risks:"Evaluating potential risks...",recommendations:"Generating personalized recommendations...",successFactors:"Analyzing success factors..."}}catch(e){return console.error("NewRun AI Predictions Error:",e),null}}getFallbackInsights(e,n){var o,l,c,u;const s=[];if((o=e==null?void 0:e.onboardingData)!=null&&o.arrivalDate){const d=Math.ceil((new Date(e.onboardingData.arrivalDate)-new Date)/864e5);Number.isFinite(d)&&d<=30&&s.push({id:"fallback-arrival",type:"urgent",title:"Arrival Approaching!",message:`${d} days until you arrive in ${e.onboardingData.city||"your city"}`,priority:"high",icon:"schedule",cta:{label:"Complete housing search",route:"/properties"}})}const i=(l=n==null?void 0:n.propertiesStats)==null?void 0:l.averagePrice,a=(u=(c=e==null?void 0:e.onboardingData)==null?void 0:c.budgetRange)==null?void 0:u.max;return typeof i=="number"&&typeof a=="number"&&i>a&&s.push({id:"fallback-budget",type:"warning",title:"Budget Alert",message:`Average property price ($${i}) exceeds your budget ($${a})`,priority:"high",icon:"money",cta:{label:"Expand search",route:"/properties"}}),s.length===0&&s.push({id:"fallback-service",type:"info",title:"AI Service Unavailable",message:"AI insights are temporarily unavailable. Please try again later.",cta:{label:"Refresh",route:"/dashboard"},priority:"low",icon:"info"}),s}getFallbackActions(){return[{label:"List Property",description:"Add a new property listing",path:"/dashboard",icon:"home",color:"blue",priority:"high"},{label:"Browse Properties",description:"Find your perfect place",path:"/all-properties",icon:"search",color:"green",priority:"high"},{label:"Find Roommate",description:"Connect with potential roommates",path:"/Synapse",icon:"people",color:"purple",priority:"medium"},{label:"Browse Marketplace",description:"Shop for essentials",path:"/marketplace",icon:"shopping",color:"orange",priority:"medium"}]}_fallbackExplanation(e){return{explanation:`This recommendation is important for your success. ${(e==null?void 0:e.title)||"This item"} is a ${(e==null?void 0:e.priority)||"key"} priority that will help you stay on track with your goals.`,insight:e,aiGenerated:!1,fallback:!0}}}const Or=new FU,u_=f.createContext(),zU=({children:t})=>{console.log("UnifiedStateProvider: Initializing...");const[e,n]=f.useState({userInfo:null,onboardingData:null,dashboardData:null,conversations:[],synapseProfile:null,aiInsights:[],aiActions:[],aiTimeline:null,aiMarketAnalysis:null,aiPredictions:null,loading:{user:!1,dashboard:!1,ai:!1,onboarding:!1,conversations:!1,synapse:!1},errors:{user:null,dashboard:null,ai:null,onboarding:null,conversations:null,synapse:null},initialized:{user:!1,dashboard:!1,ai:!1,onboarding:!1,conversations:!1,synapse:!1},cacheVersion:Date.now(),activeRequests:new Set}),s=f.useRef(new Map),i=f.useRef(new Set),a=f.useMemo(()=>e.initialized.user&&e.initialized.dashboard&&e.initialized.onboarding,[e.initialized]),o=f.useMemo(()=>Object.values(e.errors).some(_=>_!==null),[e.errors]),l=f.useMemo(()=>Object.values(e.loading).some(_=>_),[e.loading]),c=f.useCallback(_=>{try{n(P=>{const E={...P};return Object.keys(_).forEach(T=>{typeof _[T]=="object"&&_[T]!==null&&!Array.isArray(_[T])?E[T]={...P[T],..._[T]}:E[T]=_[T]}),E})}catch(P){console.error("Error updating state:",P),n(E=>({...E,..._}))}},[]),u=f.useCallback((_="data_change")=>{console.log(` Cache invalidation triggered: ${_}`),$U(),c({cacheVersion:Date.now(),initialized:{...e.initialized,ai:!1}}),i.current.forEach(P=>{try{P(_)}catch(E){console.error("Cache invalidation callback error:",E)}})},[e.initialized,c]),d=f.useCallback(async(_,P)=>{if(s.current.has(_))return console.log(` Request already in progress: ${_}`),s.current.get(_);const E=(async()=>{try{return await P()}finally{s.current.delete(_)}})();return s.current.set(_,E),E},[]),h=f.useCallback(async()=>d("fetchUserData",async()=>{var E;if(!(localStorage.getItem("accessToken")||localStorage.getItem("token")||localStorage.getItem("userToken")))return console.log("No token found, skipping user data fetch"),c({userInfo:null,initialized:{...e.initialized,user:!0},loading:{...e.loading,user:!1},errors:{...e.errors,user:null}}),null;c({loading:{...e.loading,user:!0}});try{const T=await ge.get("/get-user"),D=((E=T==null?void 0:T.data)==null?void 0:E.user)||null;return c({userInfo:D,initialized:{...e.initialized,user:!0},loading:{...e.loading,user:!1},errors:{...e.errors,user:null}}),D&&u("user_data_change"),D}catch(T){throw console.error("User data fetch error:",T),c({loading:{...e.loading,user:!1},errors:{...e.errors,user:T.message}}),T}}),[e.loading,e.initialized,e.errors,c,u,d]),p=f.useCallback(async()=>d("fetchOnboardingData",async()=>{if(!(localStorage.getItem("accessToken")||localStorage.getItem("token")||localStorage.getItem("userToken")))return console.log("No token found, skipping onboarding data fetch"),c({onboardingData:null,initialized:{...e.initialized,onboarding:!0},loading:{...e.loading,onboarding:!1},errors:{...e.errors,onboarding:null}}),null;c({loading:{...e.loading,onboarding:!0}});try{const E=await ge.get("/onboarding-data"),T=E.data.error?null:E.data.onboardingData;return c({onboardingData:T,initialized:{...e.initialized,onboarding:!0},loading:{...e.loading,onboarding:!1},errors:{...e.errors,onboarding:null}}),T&&u("onboarding_data_change"),T}catch(E){throw console.error("Onboarding data fetch error:",E),c({loading:{...e.loading,onboarding:!1},errors:{...e.errors,onboarding:E.message}}),E}}),[e.loading,e.initialized,e.errors,c,u,d]),m=f.useCallback(async()=>d("fetchDashboardData",async()=>{if(!(localStorage.getItem("accessToken")||localStorage.getItem("token")||localStorage.getItem("userToken")))return console.log("No token found, skipping dashboard data fetch"),c({dashboardData:null,initialized:{...e.initialized,dashboard:!0},loading:{...e.loading,dashboard:!1},errors:{...e.errors,dashboard:null}}),null;c({loading:{...e.loading,dashboard:!0}});try{const T=(await ge.get("/dashboard/overview")).data;return c({dashboardData:T,initialized:{...e.initialized,dashboard:!0},loading:{...e.loading,dashboard:!1},errors:{...e.errors,dashboard:null}}),T&&u("dashboard_data_change"),T}catch(E){throw console.error("Dashboard data fetch error:",E),c({loading:{...e.loading,dashboard:!1},errors:{...e.errors,dashboard:E.message}}),E}}),[e.loading,e.initialized,e.errors,c,u,d]),g=f.useCallback(async()=>d("fetchConversations",async()=>{if(!(localStorage.getItem("accessToken")||localStorage.getItem("token")||localStorage.getItem("userToken")))return console.log("No token found, skipping conversations fetch"),c({conversations:[],initialized:{...e.initialized,conversations:!0},loading:{...e.loading,conversations:!1},errors:{...e.errors,conversations:null}}),[];c({loading:{...e.loading,conversations:!0}});try{const E=await ge.get("/conversations"),T=E.data.success?E.data.data:[];return c({conversations:T,initialized:{...e.initialized,conversations:!0},loading:{...e.loading,conversations:!1},errors:{...e.errors,conversations:null}}),T}catch(E){throw console.error("Conversations fetch error:",E),c({loading:{...e.loading,conversations:!1},errors:{...e.errors,conversations:E.message}}),E}}),[e.loading,e.initialized,e.errors,c,d]),x=f.useCallback(async()=>d("fetchSynapseProfile",async()=>{if(!(localStorage.getItem("accessToken")||localStorage.getItem("token")||localStorage.getItem("userToken")))return console.log("No token found, skipping synapse profile fetch"),c({synapseProfile:null,initialized:{...e.initialized,synapse:!0},loading:{...e.loading,synapse:!1},errors:{...e.errors,synapse:null}}),null;c({loading:{...e.loading,synapse:!0}});try{const T=(await ge.get("/synapse/preferences")).data.preferences||{};return c({synapseProfile:T,initialized:{...e.initialized,synapse:!0},loading:{...e.loading,synapse:!1},errors:{...e.errors,synapse:null}}),T}catch(E){throw console.error("Synapse profile fetch error:",E),c({loading:{...e.loading,synapse:!1},errors:{...e.errors,synapse:E.message}}),E}}),[e.loading,e.initialized,e.errors,c,d]),b=f.useCallback(_=>{if(!_||typeof _!="object")return 0;const P=[{weight:25,fields:["culture.primaryLanguage","culture.home.country","culture.home.region","culture.home.city"]},{weight:20,fields:["logistics.moveInMonth","logistics.budgetMax","logistics.commuteMode"]},{weight:25,fields:["lifestyle.sleepPattern","lifestyle.cleanliness","lifestyle.quietAfter","lifestyle.quietUntil"]},{weight:20,fields:["habits.diet","habits.cookingFreq","habits.smoking","habits.drinking","habits.partying"]},{weight:10,fields:["pets.hasPets","pets.okWithPets"]}];let E=0;return P.forEach(T=>{let D=0,R=0;T.fields.forEach(z=>{const q=z.split(".").reduce((H,U)=>H==null?void 0:H[U],_);q!=null&&q!==""&&!(Array.isArray(q)&&q.length===0)&&R++}),D=R/T.fields.length*T.weight,E+=D}),Math.round(E)},[]),v=f.useCallback(async _=>{var P,E;try{const T=await ge.post("/synapse/preferences",_);if((P=T.data)!=null&&P.ok)return c({synapseProfile:T.data.preferences,...T.data.completion&&{synapseCompletion:T.data.completion}}),T.data;throw new Error(((E=T.data)==null?void 0:E.message)||"Failed to update profile")}catch(T){throw console.error("Error updating Synapse profile:",T),T}},[c]),y=f.useCallback(()=>{if(!e.synapseProfile)return{percentage:0,completed:!1};const _=b(e.synapseProfile);return{percentage:_,completed:_>=80,sections:{culture:w(e.synapseProfile,"culture"),logistics:w(e.synapseProfile,"logistics"),lifestyle:w(e.synapseProfile,"lifestyle"),habits:w(e.synapseProfile,"habits"),pets:w(e.synapseProfile,"pets")}}},[e.synapseProfile,b]),w=f.useCallback((_,P)=>{if(!(_!=null&&_[P]))return 0;const E=_[P],T=Object.keys(E),D=T.filter(R=>{const z=E[R];return z!=null&&z!==""&&!(Array.isArray(z)&&z.length===0)});return Math.round(D.length/T.length*100)},[]),k=f.useCallback(async()=>{const _=`fetchAIData_${e.cacheVersion}`;return d(_,async()=>{var E,T,D,R,z,q,H,U,B,V,G,Q,se,te,K,J,fe;if(!(localStorage.getItem("accessToken")||localStorage.getItem("token")||localStorage.getItem("userToken")))return console.log("No token found, skipping AI data fetch"),c({aiInsights:[],aiActions:[],aiTimeline:null,aiMarketAnalysis:null,aiPredictions:null,initialized:{...e.initialized,ai:!0},loading:{...e.loading,ai:!1},errors:{...e.errors,ai:null}}),null;if(!e.userInfo||!e.dashboardData||!e.onboardingData)return console.log(" AI data fetch skipped: missing required data"),null;c({loading:{...e.loading,ai:!0}});try{const le=`ai-data-${e.userInfo.id||"anon"}`,ce=((E=e.onboardingData)==null?void 0:E.updatedAt)||JSON.stringify(e.onboardingData||{}),ne=RU(le,{maxAgeMs:6*60*60*1e3,obVer:ce});if(ne)return console.log(" Using cached AI data"),c({...ne,initialized:{...e.initialized,ai:!0},loading:{...e.loading,ai:!1},errors:{...e.errors,ai:null}}),ne;const ie={...e.userInfo,onboardingData:e.onboardingData,dashboardStats:{propertiesCount:((T=e.dashboardData)==null?void 0:T.propertiesCount)||0,marketplaceCount:((D=e.dashboardData)==null?void 0:D.marketplaceCount)||0,averagePropertyPrice:((z=(R=e.dashboardData)==null?void 0:R.propertiesStats)==null?void 0:z.averagePrice)||0,totalViews:((H=(q=e.dashboardData)==null?void 0:q.propertiesStats)==null?void 0:H.totalViews)||0,availableProperties:((B=(U=e.dashboardData)==null?void 0:U.propertiesStats)==null?void 0:B.availableProperties)||0,marketplaceItems:((G=(V=e.dashboardData)==null?void 0:V.marketplaceStats)==null?void 0:G.totalItems)||0,marketplaceViews:((se=(Q=e.dashboardData)==null?void 0:Q.marketplaceStats)==null?void 0:se.totalViews)||0},userProperties:((K=(te=e.dashboardData)==null?void 0:te.myProperties)==null?void 0:K.items)||[],userMarketplaceItems:((fe=(J=e.dashboardData)==null?void 0:J.myMarketplace)==null?void 0:fe.items)||[]},[de,ee]=await Promise.allSettled([Or.generatePersonalizedInsights(ie,e.dashboardData),Or.generatePersonalizedActions(ie)]),ye=de.status==="fulfilled"?de.value||[]:[],xe=ee.status==="fulfilled"?ee.value||[]:[],Ce={aiInsights:ye,aiActions:xe,aiTimeline:null,aiMarketAnalysis:null,aiPredictions:null,initialized:{...e.initialized,ai:!0},loading:{...e.loading,ai:!1},errors:{...e.errors,ai:null}};return c(Ce),DU(le,{aiInsights:ye,aiActions:xe},{obVer:ce,ver:"unified-v1"}),Ce}catch(le){throw console.error("AI data fetch error:",le),c({loading:{...e.loading,ai:!1},errors:{...e.errors,ai:le.message}}),le}})},[e.userInfo,e.dashboardData,e.onboardingData,e.cacheVersion,e.loading,e.initialized,e.errors,c,d]),N=f.useCallback(async()=>{console.log(" Starting coordinated initialization...");try{const[_,P]=await Promise.allSettled([h(),p()]),[E,T,D]=await Promise.allSettled([m(),g(),x()]);_.status==="fulfilled"&&P.status==="fulfilled"&&E.status==="fulfilled"&&await k(),console.log(" Coordinated initialization complete")}catch(_){console.error(" Initialization error:",_)}},[h,p,m,g,k]),S=f.useCallback(async()=>{console.log(" Refreshing all data..."),u("manual_refresh"),await N()},[u,N]),M=f.useCallback(async()=>{u("user_refresh"),await h()},[u,h]),j=f.useCallback(async()=>{u("dashboard_refresh"),await m()},[u,m]),C=f.useCallback(async()=>{u("ai_refresh"),await k()},[u,k]),L=f.useCallback(async()=>{u("conversations_refresh"),await g()},[u,g]),O=f.useCallback(async()=>{u("synapse_refresh"),await x()},[u,x]),F=f.useCallback(_=>(i.current.add(_),()=>i.current.delete(_)),[]),$=f.useRef(!1);f.useEffect(()=>{$.current||($.current=!0,N())},[]),f.useEffect(()=>{const _=P=>{var E,T;((E=P.detail)==null?void 0:E.type)==="login"?(console.log(" Login event detected, triggering re-initialization..."),$.current=!1,setTimeout(()=>{$.current=!0,N()},100)):((T=P.detail)==null?void 0:T.type)==="logout"&&(console.log(" Logout event detected, clearing state..."),$.current=!1,c({userInfo:null,onboardingData:null,dashboardData:null,conversations:[],synapseProfile:null,aiInsights:[],aiActions:[],aiTimeline:null,aiMarketAnalysis:null,aiPredictions:null,initialized:{user:!1,dashboard:!1,ai:!1,onboarding:!1,conversations:!1,synapse:!1},loading:{user:!1,dashboard:!1,ai:!1,onboarding:!1,conversations:!1,synapse:!1},errors:{user:null,dashboard:null,ai:null,onboarding:null,conversations:null,synapse:null}}))};return window.addEventListener("authStateChange",_),()=>window.removeEventListener("authStateChange",_)},[c,N]),f.useEffect(()=>{const _=P=>{(P.key==="accessToken"||P.key==="token"||P.key==="userToken")&&(P.newValue?P.newValue&&!$.current&&(console.log(" Token detected, triggering re-initialization..."),$.current=!0,N()):($.current=!1,c({userInfo:null,onboardingData:null,dashboardData:null,conversations:[],synapseProfile:null,aiInsights:[],aiActions:[],aiTimeline:null,aiMarketAnalysis:null,aiPredictions:null,initialized:{user:!1,dashboard:!1,ai:!1,onboarding:!1,conversations:!1,synapse:!1},loading:{user:!1,dashboard:!1,ai:!1,onboarding:!1,conversations:!1,synapse:!1},errors:{user:null,dashboard:null,ai:null,onboarding:null,conversations:null,synapse:null}})))};return window.addEventListener("storage",_),()=>window.removeEventListener("storage",_)},[c,N]),f.useEffect(()=>{if(a){const _=setInterval(()=>{s.current.size===0&&j()},3e4);return()=>clearInterval(_)}},[a,j]);const I={state:e,isFullyInitialized:a,hasAnyErrors:o,isLoading:l,userInfo:e.userInfo,onboardingData:e.onboardingData,dashboardData:e.dashboardData,conversations:e.conversations,synapseProfile:e.synapseProfile,aiInsights:e.aiInsights,aiActions:e.aiActions,aiTimeline:e.aiTimeline,aiMarketAnalysis:e.aiMarketAnalysis,aiPredictions:e.aiPredictions,loading:e.loading,errors:e.errors,initialized:e.initialized,fetchUserData:h,fetchOnboardingData:p,fetchDashboardData:m,fetchConversations:g,fetchSynapseProfile:x,fetchAIData:k,initializeAll:N,refreshAll:S,refreshUserData:M,refreshDashboardData:j,refreshConversations:L,refreshSynapseProfile:O,refreshAIData:C,invalidateCache:u,subscribeToCacheInvalidation:F,updateState:c,calculateProfileCompletion:b,updateSynapseProfile:v,getSynapseCompletion:y,calculateSectionCompletion:w};return r.jsx(u_.Provider,{value:I,children:t})},BU=()=>{const t=f.useContext(u_);if(!t)throw new Error("useUnifiedState must be used within a UnifiedStateProvider");return t},UU=f.createContext(),VU=({children:t})=>{const[e,n]=f.useState(!1),[s,i]=f.useState(""),m={isLoading:e,error:s,sendOTP:async(g,x="login")=>{var b,v;n(!0),i("");try{const y=await ge.post("/send-otp",{email:g,purpose:x});if(y.data.error)throw new Error(y.data.message||"Failed to send OTP");return{success:!0,data:y.data}}catch(y){const w=((v=(b=y==null?void 0:y.response)==null?void 0:b.data)==null?void 0:v.message)||y.message||"Failed to send OTP";return i(w),{success:!1,error:w}}finally{n(!1)}},verifyOTP:async(g,x,b="login")=>{var v,y;n(!0),i("");try{const w=await ge.post("/verify-otp",{email:g,otp:x,purpose:b});if(w.data.error)throw new Error(w.data.message||"Invalid OTP");return{success:!0,data:w.data}}catch(w){const k=((y=(v=w==null?void 0:w.response)==null?void 0:v.data)==null?void 0:y.message)||w.message||"Invalid OTP";return i(k),{success:!1,error:k}}finally{n(!1)}},sendEmailVerification:async()=>{var g,x;n(!0),i("");try{const b=await ge.post("/send-email-verification");if(b.data.error)throw new Error(b.data.message||"Failed to send verification email");return{success:!0,data:b.data}}catch(b){const v=((x=(g=b==null?void 0:b.response)==null?void 0:g.data)==null?void 0:x.message)||b.message||"Failed to send verification email";return i(v),{success:!1,error:v}}finally{n(!1)}},verifyEmail:async g=>{var x,b;n(!0),i("");try{const v=await ge.post("/verify-email",{token:g});if(v.data.error)throw new Error(v.data.message||"Invalid verification token");return{success:!0,data:v.data}}catch(v){const y=((b=(x=v==null?void 0:v.response)==null?void 0:x.data)==null?void 0:b.message)||v.message||"Invalid verification token";return i(y),{success:!1,error:y}}finally{n(!1)}},forgotPassword:async g=>{var x,b;n(!0),i("");try{const v=await ge.post("/forgot-password",{email:g});if(v.data.error)throw new Error(v.data.message||"Failed to send password reset email");return{success:!0,data:v.data}}catch(v){const y=((b=(x=v==null?void 0:v.response)==null?void 0:x.data)==null?void 0:b.message)||v.message||"Failed to send password reset email";return i(y),{success:!1,error:y}}finally{n(!1)}},resetPassword:async(g,x,b)=>{var v,y;n(!0),i("");try{const w=await ge.post("/reset-password",{email:g,otp:x,newPassword:b});if(w.data.error)throw new Error(w.data.message||"Failed to reset password");return{success:!0,data:w.data}}catch(w){const k=((y=(v=w==null?void 0:w.response)==null?void 0:v.data)==null?void 0:y.message)||w.message||"Failed to reset password";return i(k),{success:!1,error:k}}finally{n(!1)}},sendWelcomeEmail:async(g,x)=>{var b,v;n(!0),i("");try{const y=await ge.post("/send-welcome-email",{userEmail:g,userName:x});if(y.data.error)throw new Error(y.data.message||"Failed to send welcome email");return{success:!0,data:y.data}}catch(y){const w=((v=(b=y==null?void 0:y.response)==null?void 0:b.data)==null?void 0:v.message)||y.message||"Failed to send welcome email";return i(w),{success:!1,error:w}}finally{n(!1)}},clearError:()=>{i("")}};return r.jsx(UU.Provider,{value:m,children:t})};function h_(t,e,n){return Math.max(t,Math.min(e,n))}class WU{advance(e){var l;if(!this.isRunning)return;let n=!1;if(this.lerp)this.value=(s=this.value,i=this.to,a=60*this.lerp,o=e,function(c,u,d){return(1-d)*c+d*u}(s,i,1-Math.exp(-a*o))),Math.round(this.value)===this.to&&(this.value=this.to,n=!0);else{this.currentTime+=e;const c=h_(0,this.currentTime/this.duration,1);n=c>=1;const u=n?1:this.easing(c);this.value=this.from+(this.to-this.from)*u}var s,i,a,o;(l=this.onUpdate)==null||l.call(this,this.value,n),n&&this.stop()}stop(){this.isRunning=!1}fromTo(e,n,{lerp:s=.1,duration:i=1,easing:a=c=>c,onStart:o,onUpdate:l}){this.from=this.value=e,this.to=n,this.lerp=s,this.duration=i,this.easing=a,this.currentTime=0,this.isRunning=!0,o==null||o(),this.onUpdate=l}}class HU{constructor({wrapper:e,content:n,autoResize:s=!0,debounce:i=250}={}){Tr(this,"resize",()=>{this.onWrapperResize(),this.onContentResize()});Tr(this,"onWrapperResize",()=>{this.wrapper===window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)});Tr(this,"onContentResize",()=>{this.wrapper===window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)});this.wrapper=e,this.content=n,s&&(this.debouncedResize=function(a,o){let l;return function(){let c=arguments,u=this;clearTimeout(l),l=setTimeout(function(){a.apply(u,c)},o)}}(this.resize,i),this.wrapper===window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}destroy(){var e,n;(e=this.wrapperResizeObserver)==null||e.disconnect(),(n=this.contentResizeObserver)==null||n.disconnect(),window.removeEventListener("resize",this.debouncedResize,!1)}get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}}let p_=class{constructor(){this.events={}}emit(e,...n){let s=this.events[e]||[];for(let i=0,a=s.length;i<a;i++)s[i](...n)}on(e,n){var s;return(s=this.events[e])!=null&&s.push(n)||(this.events[e]=[n]),()=>{var i;this.events[e]=(i=this.events[e])==null?void 0:i.filter(a=>n!==a)}}off(e,n){var s;this.events[e]=(s=this.events[e])==null?void 0:s.filter(i=>n!==i)}destroy(){this.events={}}};const YN=100/6;class qU{constructor(e,{wheelMultiplier:n=1,touchMultiplier:s=1}){Tr(this,"onTouchStart",e=>{const{clientX:n,clientY:s}=e.targetTouches?e.targetTouches[0]:e;this.touchStart.x=n,this.touchStart.y=s,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:e})});Tr(this,"onTouchMove",e=>{const{clientX:n,clientY:s}=e.targetTouches?e.targetTouches[0]:e,i=-(n-this.touchStart.x)*this.touchMultiplier,a=-(s-this.touchStart.y)*this.touchMultiplier;this.touchStart.x=n,this.touchStart.y=s,this.lastDelta={x:i,y:a},this.emitter.emit("scroll",{deltaX:i,deltaY:a,event:e})});Tr(this,"onTouchEnd",e=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:e})});Tr(this,"onWheel",e=>{let{deltaX:n,deltaY:s,deltaMode:i}=e;n*=i===1?YN:i===2?this.windowWidth:1,s*=i===1?YN:i===2?this.windowHeight:1,n*=this.wheelMultiplier,s*=this.wheelMultiplier,this.emitter.emit("scroll",{deltaX:n,deltaY:s,event:e})});Tr(this,"onWindowResize",()=>{this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight});this.element=e,this.wheelMultiplier=n,this.touchMultiplier=s,this.touchStart={x:null,y:null},this.emitter=new p_,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,{passive:!1}),this.element.addEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.addEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.addEventListener("touchend",this.onTouchEnd,{passive:!1})}on(e,n){return this.emitter.on(e,n)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel,{passive:!1}),this.element.removeEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.removeEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.removeEventListener("touchend",this.onTouchEnd,{passive:!1})}}class KU{constructor({wrapper:e=window,content:n=document.documentElement,wheelEventsTarget:s=e,eventsTarget:i=s,smoothWheel:a=!0,syncTouch:o=!1,syncTouchLerp:l=.075,touchInertiaMultiplier:c=35,duration:u,easing:d=w=>Math.min(1,1.001-Math.pow(2,-10*w)),lerp:h=!u&&.1,infinite:p=!1,orientation:m="vertical",gestureOrientation:g="vertical",touchMultiplier:x=1,wheelMultiplier:b=1,autoResize:v=!0,__experimental__naiveDimensions:y=!1}={}){this.__isSmooth=!1,this.__isScrolling=!1,this.__isStopped=!1,this.__isLocked=!1,this.onVirtualScroll=({deltaX:w,deltaY:k,event:N})=>{if(N.ctrlKey)return;const S=N.type.includes("touch"),M=N.type.includes("wheel");if(this.options.syncTouch&&S&&N.type==="touchstart"&&!this.isStopped&&!this.isLocked)return void this.reset();const j=w===0&&k===0,C=this.options.gestureOrientation==="vertical"&&k===0||this.options.gestureOrientation==="horizontal"&&w===0;if(j||C)return;let L=N.composedPath();if(L=L.slice(0,L.indexOf(this.rootElement)),L.find(I=>{var _,P,E,T,D;return((_=I.hasAttribute)===null||_===void 0?void 0:_.call(I,"data-lenis-prevent"))||S&&((P=I.hasAttribute)===null||P===void 0?void 0:P.call(I,"data-lenis-prevent-touch"))||M&&((E=I.hasAttribute)===null||E===void 0?void 0:E.call(I,"data-lenis-prevent-wheel"))||((T=I.classList)===null||T===void 0?void 0:T.contains("lenis"))&&!(!((D=I.classList)===null||D===void 0)&&D.contains("lenis-stopped"))}))return;if(this.isStopped||this.isLocked)return void N.preventDefault();if(this.isSmooth=this.options.syncTouch&&S||this.options.smoothWheel&&M,!this.isSmooth)return this.isScrolling=!1,void this.animate.stop();N.preventDefault();let O=k;this.options.gestureOrientation==="both"?O=Math.abs(k)>Math.abs(w)?k:w:this.options.gestureOrientation==="horizontal"&&(O=w);const F=S&&this.options.syncTouch,$=S&&N.type==="touchend"&&Math.abs(O)>5;$&&(O=this.velocity*this.options.touchInertiaMultiplier),this.scrollTo(this.targetScroll+O,Object.assign({programmatic:!1},F?{lerp:$?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}))},this.onNativeScroll=()=>{if(!this.__preventNextScrollEvent&&!this.isScrolling){const w=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.velocity=0,this.direction=Math.sign(this.animatedScroll-w),this.emit()}},window.lenisVersion="1.0.42",e!==document.documentElement&&e!==document.body||(e=window),this.options={wrapper:e,content:n,wheelEventsTarget:s,eventsTarget:i,smoothWheel:a,syncTouch:o,syncTouchLerp:l,touchInertiaMultiplier:c,duration:u,easing:d,lerp:h,infinite:p,gestureOrientation:g,orientation:m,touchMultiplier:x,wheelMultiplier:b,autoResize:v,__experimental__naiveDimensions:y},this.animate=new WU,this.emitter=new p_,this.dimensions=new HU({wrapper:e,content:n,autoResize:v}),this.toggleClassName("lenis",!0),this.velocity=0,this.isLocked=!1,this.isStopped=!1,this.isSmooth=o||a,this.isScrolling=!1,this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.virtualScroll=new qU(i,{touchMultiplier:x,wheelMultiplier:b}),this.virtualScroll.on("scroll",this.onVirtualScroll)}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.toggleClassName("lenis",!1),this.toggleClassName("lenis-smooth",!1),this.toggleClassName("lenis-scrolling",!1),this.toggleClassName("lenis-stopped",!1),this.toggleClassName("lenis-locked",!1)}on(e,n){return this.emitter.on(e,n)}off(e,n){return this.emitter.off(e,n)}setScroll(e){this.isHorizontal?this.rootElement.scrollLeft=e:this.rootElement.scrollTop=e}resize(){this.dimensions.resize()}emit(){this.emitter.emit("scroll",this)}reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.velocity=0,this.animate.stop()}start(){this.isStopped&&(this.isStopped=!1,this.reset())}stop(){this.isStopped||(this.isStopped=!0,this.animate.stop(),this.reset())}raf(e){const n=e-(this.time||e);this.time=e,this.animate.advance(.001*n)}scrollTo(e,{offset:n=0,immediate:s=!1,lock:i=!1,duration:a=this.options.duration,easing:o=this.options.easing,lerp:l=!a&&this.options.lerp,onComplete:c,force:u=!1,programmatic:d=!0}={}){if(!this.isStopped&&!this.isLocked||u){if(["top","left","start"].includes(e))e=0;else if(["bottom","right","end"].includes(e))e=this.limit;else{let h;if(typeof e=="string"?h=document.querySelector(e):e!=null&&e.nodeType&&(h=e),h){if(this.options.wrapper!==window){const m=this.options.wrapper.getBoundingClientRect();n-=this.isHorizontal?m.left:m.top}const p=h.getBoundingClientRect();e=(this.isHorizontal?p.left:p.top)+this.animatedScroll}}if(typeof e=="number"){if(e+=n,e=Math.round(e),this.options.infinite?d&&(this.targetScroll=this.animatedScroll=this.scroll):e=h_(0,e,this.limit),s)return this.animatedScroll=this.targetScroll=e,this.setScroll(this.scroll),this.reset(),void(c==null||c(this));if(!d){if(e===this.targetScroll)return;this.targetScroll=e}this.animate.fromTo(this.animatedScroll,e,{duration:a,easing:o,lerp:l,onStart:()=>{i&&(this.isLocked=!0),this.isScrolling=!0},onUpdate:(h,p)=>{this.isScrolling=!0,this.velocity=h-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=h,this.setScroll(this.scroll),d&&(this.targetScroll=h),p||this.emit(),p&&(this.reset(),this.emit(),c==null||c(this),this.__preventNextScrollEvent=!0,requestAnimationFrame(()=>{delete this.__preventNextScrollEvent}))}})}}}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.__experimental__naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return this.options.orientation==="horizontal"}get actualScroll(){return this.isHorizontal?this.rootElement.scrollLeft:this.rootElement.scrollTop}get scroll(){return this.options.infinite?(e=this.animatedScroll,n=this.limit,(e%n+n)%n):this.animatedScroll;var e,n}get progress(){return this.limit===0?1:this.scroll/this.limit}get isSmooth(){return this.__isSmooth}set isSmooth(e){this.__isSmooth!==e&&(this.__isSmooth=e,this.toggleClassName("lenis-smooth",e))}get isScrolling(){return this.__isScrolling}set isScrolling(e){this.__isScrolling!==e&&(this.__isScrolling=e,this.toggleClassName("lenis-scrolling",e))}get isStopped(){return this.__isStopped}set isStopped(e){this.__isStopped!==e&&(this.__isStopped=e,this.toggleClassName("lenis-stopped",e))}get isLocked(){return this.__isLocked}set isLocked(e){this.__isLocked!==e&&(this.__isLocked=e,this.toggleClassName("lenis-locked",e))}get className(){let e="lenis";return this.isStopped&&(e+=" lenis-stopped"),this.isLocked&&(e+=" lenis-locked"),this.isScrolling&&(e+=" lenis-scrolling"),this.isSmooth&&(e+=" lenis-smooth"),e}toggleClassName(e,n){this.rootElement.classList.toggle(e,n),this.emitter.emit("className change",this)}}function GU(t,e){f.useEffect(()=>{const n=s=>{t.current&&(t.current.contains(s.target)||e==null||e())};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),()=>{document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}},[t,e])}function YU({label:t="Products",items:e=[]}){const[n,s]=f.useState(!1),i=f.useRef(null);GU(i,()=>s(!1));const a=()=>setTimeout(()=>s(!0),60),o=()=>setTimeout(()=>s(!1),120);return r.jsxs("div",{ref:i,className:"relative",onMouseEnter:a,onMouseLeave:o,children:[r.jsxs("button",{onClick:()=>s(l=>!l),className:"group inline-flex items-center gap-1 rounded-lg px-3 py-1.5 text-sm font-medium text-white/80 hover:text-white","aria-expanded":n,"aria-haspopup":"menu",children:[t,r.jsx("svg",{className:"transition group-aria-expanded:rotate-180",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:r.jsx("path",{d:"M6 9l6 6 6-6",stroke:"currentColor",strokeWidth:"1.7",strokeLinecap:"round"})})]}),r.jsx(_1,{children:n&&r.jsxs(r.Fragment,{children:[r.jsx(we.div,{className:"fixed inset-0 z-[-1]",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>s(!1)}),r.jsx(we.div,{role:"menu",initial:{opacity:0,y:6,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:6,scale:.98},transition:{duration:.16},className:`absolute left-0 top-full z-50 mt-2 w-[720px] max-w-[min(92vw,720px)]
                         rounded-2xl border border-white/10 bg-[#0F1115]/95 backdrop-blur-md
                         shadow-2xl ring-1 ring-black/5`,children:r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 p-4",children:e.map(l=>r.jsxs(Ie,{to:l.to||"#",className:"group flex gap-3 rounded-xl p-3 transition hover:bg-white/5",onClick:()=>s(!1),children:[r.jsx("div",{className:`mt-1 flex h-10 w-10 shrink-0 items-center justify-center rounded-xl
                                    bg-white/5 ring-1 ring-white/10`,children:typeof l.icon=="function"?r.jsx(l.icon,{size:18}):l.icon}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-white",children:l.title}),r.jsx("div",{className:"text-sm text-white/60",children:l.desc})]})]},l.title))})})]})})]})}const f_=({size:t=24,color:e="currentColor",...n})=>f.createElement("svg",{viewBox:"0 0 24 24",width:t,height:t,stroke:e,strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",...n},f.createElement("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3m.08 4h.01M22 12c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10Z"}));f_.displayName="HelpCircle";const m_=({size:t=24,color:e="currentColor",...n})=>f.createElement("svg",{viewBox:"0 0 24 24",width:t,height:t,stroke:e,strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",...n},f.createElement("path",{d:"M12.982 2.764c-.351-.273-.527-.41-.72-.462a1 1 0 0 0-.523 0c-.194.052-.37.189-.721.462L4.235 8.039c-.453.353-.68.53-.843.75a2 2 0 0 0-.318.65C3 9.704 3 9.991 3 10.565V17.8c0 1.12 0 1.68.218 2.108a2 2 0 0 0 .874.874C4.52 21 5.08 21 6.2 21h2c.28 0 .42 0 .527-.055a.5.5 0 0 0 .218-.218C9 20.62 9 20.48 9 20.2v-6.6c0-.56 0-.84.109-1.054a1 1 0 0 1 .437-.437C9.76 12 10.04 12 10.6 12h2.8c.56 0 .84 0 1.054.109a1 1 0 0 1 .437.437C15 12.76 15 13.04 15 13.6v6.6c0 .28 0 .42.055.527a.5.5 0 0 0 .218.218c.107.055.247.055.527.055h2c1.12 0 1.68 0 2.108-.218a2 2 0 0 0 .874-.874C21 19.48 21 18.92 21 17.8v-7.235c0-.574 0-.861-.074-1.126a2.002 2.002 0 0 0-.318-.65c-.163-.22-.39-.397-.843-.75l-6.783-5.275Z"}));m_.displayName="Home05";const g_=({size:t=24,color:e="currentColor",...n})=>f.createElement("svg",{viewBox:"0 0 24 24",width:t,height:t,stroke:e,strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",...n},f.createElement("path",{d:"m2 14.5 9.642 4.821c.131.066.197.099.266.111.06.012.123.012.184 0 .069-.012.135-.045.266-.11L22 14.5m-20-5 9.642-4.821c.131-.066.197-.098.266-.111a.5.5 0 0 1 .184 0c.069.013.135.045.266.111L22 9.5l-9.642 4.821a1.028 1.028 0 0 1-.266.111.501.501 0 0 1-.184 0c-.069-.012-.135-.045-.266-.11L2 9.5Z"}));g_.displayName="LayersTwo01";const x_=({size:t=24,color:e="currentColor",...n})=>f.createElement("svg",{viewBox:"0 0 24 24",width:t,height:t,stroke:e,strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",...n},f.createElement("path",{d:"m16 17 5-5m0 0-5-5m5 5H9m0-9H7.8c-1.68 0-2.52 0-3.162.327a3 3 0 0 0-1.311 1.311C3 5.28 3 6.12 3 7.8v8.4c0 1.68 0 2.52.327 3.162a3 3 0 0 0 1.311 1.311C5.28 21 6.12 21 7.8 21H9"}));x_.displayName="LogOut01";const v_=({size:t=24,color:e="currentColor",...n})=>f.createElement("svg",{viewBox:"0 0 24 24",width:t,height:t,stroke:e,strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",...n},f.createElement("path",{d:"M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"}),f.createElement("path",{d:"M18.727 14.727a1.5 1.5 0 0 0 .3 1.655l.055.054a1.816 1.816 0 0 1 0 2.573 1.818 1.818 0 0 1-2.573 0l-.055-.055a1.5 1.5 0 0 0-1.654-.3 1.5 1.5 0 0 0-.91 1.373v.155a1.818 1.818 0 1 1-3.636 0V20.1a1.5 1.5 0 0 0-.981-1.373 1.5 1.5 0 0 0-1.655.3l-.054.055a1.818 1.818 0 0 1-3.106-1.287 1.818 1.818 0 0 1 .533-1.286l.054-.055a1.5 1.5 0 0 0 .3-1.654 1.5 1.5 0 0 0-1.372-.91h-.155a1.818 1.818 0 1 1 0-3.636H3.9a1.5 1.5 0 0 0 1.373-.981 1.5 1.5 0 0 0-.3-1.655l-.055-.054A1.818 1.818 0 1 1 7.491 4.99l.054.054a1.5 1.5 0 0 0 1.655.3h.073a1.5 1.5 0 0 0 .909-1.372v-.155a1.818 1.818 0 0 1 3.636 0V3.9a1.499 1.499 0 0 0 .91 1.373 1.5 1.5 0 0 0 1.654-.3l.054-.055a1.817 1.817 0 0 1 2.573 0 1.819 1.819 0 0 1 0 2.573l-.055.054a1.5 1.5 0 0 0-.3 1.655v.073a1.5 1.5 0 0 0 1.373.909h.155a1.818 1.818 0 0 1 0 3.636H20.1a1.499 1.499 0 0 0-1.373.91Z"}));v_.displayName="Settings01";const y_=({size:t=24,color:e="currentColor",...n})=>f.createElement("svg",{viewBox:"0 0 24 24",width:t,height:t,stroke:e,strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",...n},f.createElement("path",{d:"M20 21c0-1.396 0-2.093-.172-2.661a4 4 0 0 0-2.667-2.667c-.568-.172-1.265-.172-2.661-.172h-5c-1.396 0-2.093 0-2.661.172a4 4 0 0 0-2.667 2.667C4 18.907 4 19.604 4 21M16.5 7.5a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0Z"}));y_.displayName="User01";const b_=t=>!t||typeof t!="string"?"?":t.trim().split(" ").filter(e=>e.length>0).map(e=>e.charAt(0)).join("").toUpperCase().slice(0,2),w_=t=>{if(!t||typeof t!="string")return"bg-gray-500";const e=["bg-red-500","bg-blue-500","bg-green-500","bg-yellow-500","bg-purple-500","bg-pink-500","bg-indigo-500","bg-teal-500","bg-orange-500","bg-cyan-500","bg-emerald-500","bg-violet-500"],n=t.split("").reduce((s,i)=>s+i.charCodeAt(0),0);return e[n%e.length]},XU=()=>{const t=pt(),{logout:e}=Ji(),[n,s]=f.useState(null),[i,a]=f.useState(!0),[o,l]=f.useState(!1),c=f.useRef(null);f.useEffect(()=>{(async()=>{var b,v,y,w;try{const k=await ge.get("/get-user");console.log("User response:",k.data),console.log("User avatar:",(v=(b=k.data)==null?void 0:b.user)==null?void 0:v.avatar),console.log("User email:",(w=(y=k.data)==null?void 0:y.user)==null?void 0:w.email),k.data&&!k.data.error&&s(k.data.user)}catch(k){console.error("Error fetching user:",k)}finally{a(!1)}})()},[]),f.useEffect(()=>{const x=b=>{c.current&&!c.current.contains(b.target)&&l(!1)};return document.addEventListener("mousedown",x),()=>{document.removeEventListener("mousedown",x)}},[]);const u=()=>{e(),t("/")},d=x=>{t(x),l(!1)},h=n?b_(`${n.firstName||""} ${n.lastName||""}`):"U",p=n?w_(`${n.firstName||""} ${n.lastName||""}`):"bg-blue-500",m=n&&`${n.firstName||""} ${n.lastName||""}`.trim()||"User",g=(n==null?void 0:n.email)||"user@newrun.com";return console.log("Computed values:",{userInitials:h,fullName:m,userEmail:g,userAvatar:n==null?void 0:n.avatar}),i?r.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-full bg-gray-500 animate-pulse",children:r.jsx("span",{className:"text-xs font-semibold text-white",children:"..."})}):(console.log("UserDropdown rendering with user:",n),r.jsxs("div",{className:"relative",ref:c,children:[r.jsxs("button",{onClick:()=>l(!o),className:"flex h-10 w-10 items-center justify-center rounded-full ring-1 ring-white/10 hover:bg-white/15 focus:outline-none focus:ring-2 focus:ring-blue-500 overflow-hidden",children:[n!=null&&n.avatar?r.jsx("img",{src:n.avatar,alt:h,className:"w-full h-full object-cover",onError:x=>{console.log("Avatar image failed to load:",n.avatar),x.target.style.display="none",x.target.nextSibling.style.display="flex"}}):null,r.jsx("div",{className:`w-full h-full flex items-center justify-center text-xs font-semibold text-white ${n!=null&&n.avatar?"hidden":"flex"} ${p}`,children:h})]}),o&&r.jsxs("div",{className:"absolute right-0 mt-2 w-64 rounded-2xl border border-white/10 bg-[#0F1115]/95 backdrop-blur-md shadow-2xl ring-1 ring-black/5 z-50",children:[r.jsx("div",{className:"flex gap-3 border-b border-white/20 p-3",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"relative",children:[r.jsxs("div",{className:"flex h-10 w-10 items-center justify-center rounded-full ring-2 ring-blue-500 overflow-hidden",children:[n!=null&&n.avatar?r.jsx("img",{src:n.avatar,alt:h,className:"w-full h-full object-cover",onError:x=>{console.log("Avatar image failed to load in dropdown:",n.avatar),x.target.style.display="none",x.target.nextSibling.style.display="flex"}}):null,r.jsx("div",{className:`w-full h-full flex items-center justify-center text-sm font-semibold text-white ${n!=null&&n.avatar?"hidden":"flex"} ${p}`,children:h})]}),r.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-green-400 rounded-full border-2 border-white"})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("div",{className:"text-sm font-semibold text-white",children:m}),r.jsx("div",{className:"text-xs text-white/60",children:g})]})]})}),r.jsxs("div",{className:"py-1",children:[r.jsxs("div",{className:"px-1",children:[r.jsxs("button",{onClick:()=>d("/profile"),className:"flex w-full items-center justify-between rounded-md px-2.5 py-2 text-left text-sm font-semibold text-white hover:bg-white/5 transition-all duration-200",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(y_,{className:"text-white/60 w-4 h-4"}),r.jsx("span",{children:"View profile"})]}),r.jsx("span",{className:"text-xs font-medium text-white/60 bg-white/5 rounded px-1.5 py-0.5 border border-white/10",children:" K  P"})]}),r.jsxs("button",{onClick:()=>d("/dashboard"),className:"flex w-full items-center justify-between rounded-md px-2.5 py-2 text-left text-sm font-semibold text-white hover:bg-white/5 transition-all duration-200",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(m_,{className:"text-white/60 w-4 h-4"}),r.jsx("span",{children:"Dashboard"})]}),r.jsx("span",{className:"text-xs font-medium text-white/60 bg-white/5 rounded px-1.5 py-0.5 border border-white/10",children:" D"})]}),r.jsxs("button",{onClick:()=>d("/settings"),className:"flex w-full items-center justify-between rounded-md px-2.5 py-2 text-left text-sm font-semibold text-white hover:bg-white/5 transition-all duration-200",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(v_,{className:"text-white/60 w-4 h-4"}),r.jsx("span",{children:"Settings"})]}),r.jsx("span",{className:"text-xs font-medium text-white/60 bg-white/5 rounded px-1.5 py-0.5 border border-white/10",children:" S"})]})]}),r.jsx("div",{className:"my-1 h-px bg-gradient-to-r from-transparent via-white/20 to-transparent"}),r.jsxs("div",{className:"px-1",children:[r.jsxs("button",{onClick:()=>d("/activities"),className:"flex w-full items-center gap-3 rounded-md px-2.5 py-2 text-left text-sm font-semibold text-white hover:bg-white/5 transition-all duration-200",children:[r.jsx(g_,{className:"text-white/60 w-4 h-4"}),r.jsx("span",{children:"Activities"})]}),r.jsxs("button",{onClick:()=>d("/support"),className:"flex w-full items-center gap-3 rounded-md px-2.5 py-2 text-left text-sm font-semibold text-white hover:bg-white/5 transition-all duration-200",children:[r.jsx(f_,{className:"text-white/60 w-4 h-4"}),r.jsx("span",{children:"Support Center"})]})]}),r.jsx("div",{className:"my-1 h-px bg-gradient-to-r from-transparent via-white/20 to-transparent"}),r.jsx("div",{className:"px-1",children:r.jsxs("button",{onClick:u,className:"flex w-full items-center justify-between rounded-md px-2.5 py-2 text-left text-sm font-semibold text-red-300 hover:bg-red-500/20 transition-all duration-200",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(x_,{className:"text-red-300 w-4 h-4"}),r.jsx("span",{children:"Log out"})]}),r.jsx("span",{className:"text-xs font-medium text-white/60 bg-white/5 rounded px-1.5 py-0.5 border border-white/10",children:"  Q"})]})})]})]})]}))},ZU=()=>{window.history.pushState(null,"",window.location.href);const t=e=>{["/help","/terms","/privacy","/cookies","/cookies/settings"].some(s=>window.location.pathname.startsWith(s))||(console.log(" BACK BUTTON BLOCKED: Redirecting to login"),localStorage.clear(),sessionStorage.clear(),window.location.href="/login")};return window.addEventListener("popstate",t),()=>{window.removeEventListener("popstate",t)}};var j_={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},XN=_e.createContext&&_e.createContext(j_),QU=["attr","size","title"];function JU(t,e){if(t==null)return{};var n=eV(t,e),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)s=a[i],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function eV(t,e){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;n[s]=t[s]}return n}function Xp(){return Xp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Xp.apply(this,arguments)}function ZN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function Zp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZN(Object(n),!0).forEach(function(s){tV(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZN(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function tV(t,e,n){return e=nV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nV(t){var e=sV(t,"string");return typeof e=="symbol"?e:e+""}function sV(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function N_(t){return t&&t.map((e,n)=>_e.createElement(e.tag,Zp({key:n},e.attr),N_(e.child)))}function Se(t){return e=>_e.createElement(rV,Xp({attr:Zp({},t.attr)},e),N_(t.child))}function rV(t){var e=n=>{var{attr:s,size:i,title:a}=t,o=JU(t,QU),l=i||n.size||"1em",c;return n.className&&(c=n.className),t.className&&(c=(c?c+" ":"")+t.className),_e.createElement("svg",Xp({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,o,{className:c,style:Zp(Zp({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&_e.createElement("title",null,a),t.children)};return XN!==void 0?_e.createElement(XN.Consumer,null,n=>e(n)):e(j_)}function sh(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-5h2v5zm4 0h-2v-3h2v3zm0-5h-2v-2h2v2zm4 5h-2V7h2v10z"},child:[]}]})(t)}function QN(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 4h5v8l-2.5-1.5L6 12V4z"},child:[]}]})(t)}function iV(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 18H4V8h16v13z"},child:[]}]})(t)}function Aa(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"},child:[]}]})(t)}function aV(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(t)}function Qp(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(t)}function JN(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"},child:[]}]})(t)}function yb(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"},child:[]}]})(t)}function bm(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"},child:[]}]})(t)}function xi(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"},child:[]}]})(t)}function oV(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M11 7h2v2h-2V7zm0 4h2v6h-2v-6zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"},child:[]}]})(t)}function e5(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"},child:[]}]})(t)}function oc(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M9 21c0 .5.4 1 1 1h4c.6 0 1-.5 1-1v-1H9v1zm3-19C8.1 2 5 5.1 5 9c0 2.4 1.2 4.5 3 5.7V17c0 .5.4 1 1 1h6c.6 0 1-.5 1-1v-2.3c1.8-1.3 3-3.4 3-5.7 0-3.9-3.1-7-7-7z"},child:[]}]})(t)}function lV(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"circle",attr:{cx:"4.5",cy:"9.5",r:"2.5"},child:[]},{tag:"circle",attr:{cx:"9",cy:"5.5",r:"2.5"},child:[]},{tag:"circle",attr:{cx:"15",cy:"5.5",r:"2.5"},child:[]},{tag:"circle",attr:{cx:"19.5",cy:"9.5",r:"2.5"},child:[]},{tag:"path",attr:{d:"M17.34 14.86c-.87-1.02-1.6-1.89-2.48-2.91-.46-.54-1.05-1.08-1.75-1.32-.11-.04-.22-.07-.33-.09-.25-.04-.52-.04-.78-.04s-.53 0-.79.05c-.11.02-.22.05-.33.09-.7.24-1.28.78-1.75 1.32-.87 1.02-1.6 1.89-2.48 2.91-1.31 1.31-2.92 2.76-2.62 4.79.29 1.02 1.02 2.03 2.33 2.32.73.15 3.06-.44 5.54-.44h.18c2.48 0 4.81.58 5.54.44 1.31-.29 2.04-1.31 2.33-2.32.31-2.04-1.3-3.49-2.61-4.8z"},child:[]}]})(t)}function Zh(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2.5s4.5 2.04 4.5 10.5c0 2.49-1.04 5.57-1.6 7H9.1c-.56-1.43-1.6-4.51-1.6-7C7.5 4.54 12 2.5 12 2.5zm2 8.5c0-1.1-.9-2-2-2s-2 .9-2 2 .9 2 2 2 2-.9 2-2zm-6.31 9.52c-.48-1.23-1.52-4.17-1.67-6.87l-1.13.75c-.56.38-.89 1-.89 1.67V22l3.69-1.48zM20 22v-5.93c0-.67-.33-1.29-.89-1.66l-1.13-.75c-.15 2.69-1.2 5.64-1.67 6.87L20 22z"},child:[]}]})(t)}function $o(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"},child:[]},{tag:"path",attr:{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},child:[]}]})(t)}function Jp(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"},child:[]}]})(t)}function k_(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 0 0 .12-.61l-1.92-3.32a.488.488 0 0 0-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 0 0-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58a.49.49 0 0 0-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"},child:[]}]})(t)}function Ia(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 6h-2c0-2.21-1.79-4-4-4S8 3.79 8 6H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-8 4c0 .55-.45 1-1 1s-1-.45-1-1V8h2v2zm2-6c1.1 0 2 .9 2 2h-4c0-1.1.9-2 2-2zm4 6c0 .55-.45 1-1 1s-1-.45-1-1V8h2v2z"},child:[]}]})(t)}function cV(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M23 8c0 1.1-.9 2-2 2a1.7 1.7 0 0 1-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56A1.7 1.7 0 0 1 19 8c0-1.1.9-2 2-2s2 .9 2 2z"},child:[]}]})(t)}function dV(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"},child:[]}]})(t)}function fv(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m23 12-2.44-2.79.34-3.69-3.61-.82-1.89-3.2L12 2.96 8.6 1.5 6.71 4.69 3.1 5.5l.34 3.7L1 12l2.44 2.79-.34 3.7 3.61.82L8.6 22.5l3.4-1.47 3.4 1.46 1.89-3.19 3.61-.82-.34-3.69L23 12zm-12.91 4.72-3.8-3.81 1.48-1.48 2.32 2.33 5.85-5.87 1.48 1.48-7.33 7.35z"},child:[]}]})(t)}function uV(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0zm0 0h24v24H0zm0 0h24v24H0zm0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46A11.804 11.804 0 0 0 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"},child:[]}]})(t)}function t5(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"},child:[]}]})(t)}function n5(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{fillRule:"evenodd",d:"M14 6V4h-4v2h4zM4 8v11h16V8H4zm16-2c1.11 0 2 .89 2 2v11c0 1.11-.89 2-2 2H4c-1.11 0-2-.89-2-2l.01-11c0-1.11.88-2 1.99-2h4V4c0-1.11.89-2 2-2h4c1.11 0 2 .89 2 2v2h4z"},child:[]}]})(t)}function hV(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"},child:[]},{tag:"path",attr:{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"},child:[]}]})(t)}function pV(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"},child:[]}]})(t)}function Jc(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"},child:[]}]})(t)}function fV(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm-1.2-9.1c0-.66.54-1.2 1.2-1.2.66 0 1.2.54 1.2 1.2l-.01 6.2c0 .66-.53 1.2-1.19 1.2-.66 0-1.2-.54-1.2-1.2V4.9zm6.5 6.1c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"},child:[]}]})(t)}function mV(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-5 14H4v-4h11v4zm0-5H4V9h11v4zm5 5h-4V9h4v9z"},child:[]}]})(t)}function Fo(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 9h12v2H6V9zm8 5H6v-2h8v2zm4-6H6V6h12v2z"},child:[]}]})(t)}function s5(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"},child:[]}]})(t)}function ef(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5a2.5 2.5 0 0 1 0-5 2.5 2.5 0 0 1 0 5z"},child:[]}]})(t)}function r5(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"},child:[]}]})(t)}function S_(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"},child:[]}]})(t)}function rh(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M21 8c-1.45 0-2.26 1.44-1.93 2.51l-3.55 3.56c-.3-.09-.74-.09-1.04 0l-2.55-2.55C12.27 10.45 11.46 9 10 9c-1.45 0-2.27 1.44-1.93 2.52l-4.56 4.55C2.44 15.74 1 16.55 1 18c0 1.1.9 2 2 2 1.45 0 2.26-1.44 1.93-2.51l4.55-4.56c.3.09.74.09 1.04 0l2.55 2.55C12.73 16.55 13.54 18 15 18c1.45 0 2.27-1.44 1.93-2.52l3.56-3.55c1.07.33 2.51-.48 2.51-1.93 0-1.1-.9-2-2-2z"},child:[]},{tag:"path",attr:{d:"m15 9 .94-2.07L18 6l-2.06-.93L15 3l-.92 2.07L12 6l2.08.93zM3.5 11 4 9l2-.5L4 8l-.5-2L3 8l-2 .5L3 9z"},child:[]}]})(t)}function gV(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m17.66 17.66-1.06 1.06-.71-.71 1.06-1.06-1.94-1.94-1.06 1.06-.71-.71 1.06-1.06-1.94-1.94-1.06 1.06-.71-.71 1.06-1.06L9.7 9.7l-1.06 1.06-.71-.71 1.06-1.06-1.94-1.94-1.06 1.06-.71-.71 1.06-1.06L4 4v14c0 1.1.9 2 2 2h14l-2.34-2.34zM7 17v-5.76L12.76 17H7z"},child:[]}]})(t)}function xV(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"},child:[]}]})(t)}function vV(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11 7H2v2h9V7zm0 8H2v2h9v-2zm5.34-4L12.8 7.46l1.41-1.41 2.12 2.12 4.24-4.24L22 5.34 16.34 11zm0 8-3.54-3.54 1.41-1.41 2.12 2.12 4.24-4.24L22 13.34 16.34 19z"},child:[]}]})(t)}function yV(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M22 7h-9v2h9V7zm0 8h-9v2h9v-2zM5.54 11 2 7.46l1.41-1.41 2.12 2.12 4.24-4.24 1.41 1.41L5.54 11zm0 8L2 15.46l1.41-1.41 2.12 2.12 4.24-4.24 1.41 1.41L5.54 19z"},child:[]}]})(t)}function C_(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M5 20h14v-2H5v2zm0-10h4v6h6v-6h4l-7-7-7 7z"},child:[]}]})(t)}function i5(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m19 9 1.25-2.75L23 5l-2.75-1.25L19 1l-1.25 2.75L15 5l2.75 1.25L19 9zm-7.5.5L9 4 6.5 9.5 1 12l5.5 2.5L9 20l2.5-5.5L17 12l-5.5-2.5zM19 15l-1.25 2.75L15 19l2.75 1.25L19 23l1.25-2.75L23 19l-2.75-1.25L19 15z"},child:[]}]})(t)}function bV(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3.2"},child:[]},{tag:"path",attr:{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"},child:[]}]})(t)}function mv(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a.996.996 0 0 0 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"},child:[]}]})(t)}function wV(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M7.11 8.53 5.7 7.11C4.8 8.27 4.24 9.61 4.07 11h2.02c.14-.87.49-1.72 1.02-2.47zM6.09 13H4.07c.17 1.39.72 2.73 1.62 3.89l1.41-1.42c-.52-.75-.87-1.59-1.01-2.47zm1.01 5.32c1.16.9 2.51 1.44 3.9 1.61V17.9c-.87-.15-1.71-.49-2.46-1.03L7.1 18.32zM13 4.07V1L8.45 5.55 13 10V6.09c2.84.48 5 2.94 5 5.91s-2.16 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93s-3.05-7.44-7-7.93z"},child:[]}]})(t)}function jV(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M15.55 5.55 11 1v3.07C7.06 4.56 4 7.92 4 12s3.05 7.44 7 7.93v-2.02c-2.84-.48-5-2.94-5-5.91s2.16-5.43 5-5.91V10l4.55-4.45zM19.93 11a7.906 7.906 0 0 0-1.62-3.89l-1.42 1.42c.54.75.88 1.6 1.02 2.47h2.02zM13 17.9v2.02c1.39-.17 2.74-.71 3.9-1.61l-1.44-1.44c-.75.54-1.59.89-2.46 1.03zm3.89-2.42 1.42 1.41c.9-1.16 1.45-2.5 1.62-3.89h-2.02c-.14.87-.48 1.72-1.02 2.48z"},child:[]}]})(t)}function NV(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z"},child:[]}]})(t)}function ih(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m16.24 11.51 1.57-1.57-3.75-3.75-1.57 1.57-4.14-4.13c-.78-.78-2.05-.78-2.83 0l-1.9 1.9c-.78.78-.78 2.05 0 2.83l4.13 4.13L3 17.25V21h3.75l4.76-4.76 4.13 4.13c.95.95 2.23.6 2.83 0l1.9-1.9c.78-.78.78-2.05 0-2.83l-4.13-4.13zm-7.06-.44L5.04 6.94l1.89-1.9L8.2 6.31 7.02 7.5l1.41 1.41 1.19-1.19 1.45 1.45-1.89 1.9zm7.88 7.89-4.13-4.13 1.9-1.9 1.45 1.45-1.19 1.19 1.41 1.41 1.19-1.19 1.27 1.27-1.9 1.9zM20.71 7.04a.996.996 0 0 0 0-1.41l-2.34-2.34c-.47-.47-1.12-.29-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"},child:[]}]})(t)}function kV(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M9.17 16.83a4.008 4.008 0 0 0 5.66 0 4.008 4.008 0 0 0 0-5.66l-5.66 5.66zM18 2.01 6 2c-1.11 0-2 .89-2 2v16c0 1.11.89 2 2 2h12c1.11 0 2-.89 2-2V4c0-1.11-.89-1.99-2-1.99zM10 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM7 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm5 16c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6z"},child:[]}]})(t)}function SV(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M13 3H6v18h4v-6h3c3.31 0 6-2.69 6-6s-2.69-6-6-6zm.2 8H10V7h3.2c1.1 0 2 .9 2 2s-.9 2-2 2z"},child:[]}]})(t)}function a5(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M5 8h2v8H5zm7 0H9c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V9c0-.55-.45-1-1-1zm-1 6h-1v-4h1v4zm7-6h-3c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V9c0-.55-.45-1-1-1zm-1 6h-1v-4h1v4z"},child:[]},{tag:"path",attr:{fill:"none",d:"M4 6h16v12H4z"},child:[]},{tag:"path",attr:{d:"M2 4v16h20V4H2zm2 14V6h16v12H4z"},child:[]}]})(t)}function gv(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5a2.5 2.5 0 0 1 0-5 2.5 2.5 0 0 1 0 5z"},child:[]}]})(t)}function E_(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"},child:[]}]})(t)}function Ig(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m7 10 5 5 5-5z"},child:[]}]})(t)}function bb(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"},child:[]}]})(t)}function CV(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"},child:[]}]})(t)}function EV(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"},child:[]}]})(t)}function PV(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"},child:[]}]})(t)}function wb(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"},child:[]}]})(t)}function Nr(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"},child:[]}]})(t)}function _V(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M1 11v10h5v-6h4v6h5V11L8 6z"},child:[]},{tag:"path",attr:{d:"M10 3v1.97l7 5V11h2v2h-2v2h2v2h-2v4h6V3H10zm9 6h-2V7h2v2z"},child:[]}]})(t)}function jb(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"circle",attr:{cx:"7",cy:"7",r:"2"},child:[]},{tag:"path",attr:{d:"M20 13V4.83C20 3.27 18.73 2 17.17 2c-.75 0-1.47.3-2 .83l-1.25 1.25c-.16-.05-.33-.08-.51-.08-.4 0-.77.12-1.08.32l2.76 2.76c.2-.31.32-.68.32-1.08 0-.18-.03-.34-.07-.51l1.25-1.25a.828.828 0 0 1 1.41.59V13h-6.85c-.3-.21-.57-.45-.82-.72l-1.4-1.55c-.19-.21-.43-.38-.69-.5A2.251 2.251 0 0 0 5 12.25V13H2v6c0 1.1.9 2 2 2 0 .55.45 1 1 1h14c.55 0 1-.45 1-1 1.1 0 2-.9 2-2v-6h-2z"},child:[]}]})(t)}function MV(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM9 18c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm0-3c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm3 3c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm0-3c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm3 3c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm0-3c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm2-3H7v-1c0-2.76 2.24-5 5-5s5 2.24 5 5v1z"},child:[]}]})(t)}function P_(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M21 10.78V8c0-1.65-1.35-3-3-3h-4c-.77 0-1.47.3-2 .78-.53-.48-1.23-.78-2-.78H6C4.35 5 3 6.35 3 8v2.78c-.61.55-1 1.34-1 2.22v6h2v-2h16v2h2v-6c0-.88-.39-1.67-1-2.22zM14 7h4c.55 0 1 .45 1 1v2h-6V8c0-.55.45-1 1-1zM5 8c0-.55.45-1 1-1h4c.55 0 1 .45 1 1v2H5V8z"},child:[]}]})(t)}function TV(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6.32 13.01c.96.02 1.85.5 2.45 1.34A3.961 3.961 0 0 0 12 16c1.29 0 2.5-.62 3.23-1.66.6-.84 1.49-1.32 2.45-1.34-.72-1.22-3.6-2-5.68-2-2.07 0-4.96.78-5.68 2.01zM4 13c1.66 0 3-1.34 3-3S5.66 7 4 7s-3 1.34-3 3 1.34 3 3 3zM20 13c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3zM12 10c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3z"},child:[]},{tag:"path",attr:{d:"M21 14h-3.27c-.77 0-1.35.45-1.68.92-.04.06-1.36 2.08-4.05 2.08-1.43 0-3.03-.64-4.05-2.08-.39-.55-1-.92-1.68-.92H3c-1.1 0-2 .9-2 2v4h7v-2.26c1.15.8 2.54 1.26 4 1.26s2.85-.46 4-1.26V20h7v-4c0-1.1-.9-2-2-2z"},child:[]}]})(t)}function LV(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"},child:[]}]})(t)}function xv(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 12.75c1.63 0 3.07.39 4.24.9 1.08.48 1.76 1.56 1.76 2.73V18H6v-1.61c0-1.18.68-2.26 1.76-2.73 1.17-.52 2.61-.91 4.24-.91zM4 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm1.13 1.1c-.37-.06-.74-.1-1.13-.1-.99 0-1.93.21-2.78.58A2.01 2.01 0 0 0 0 16.43V18h4.5v-1.61c0-.83.23-1.61.63-2.29zM20 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm4 3.43c0-.81-.48-1.53-1.22-1.85A6.95 6.95 0 0 0 20 14c-.39 0-.76.04-1.13.1.4.68.63 1.46.63 2.29V18H24v-1.57zM12 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3z"},child:[]}]})(t)}function __(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{fill:"none",d:"M6 7h5v3H6zM13 7h5v3h-5z"},child:[]},{tag:"path",attr:{d:"M20 10V7c0-1.1-.9-2-2-2H6c-1.1 0-2 .9-2 2v3c-1.1 0-2 .9-2 2v5h1.33L4 19h1l.67-2h12.67l.66 2h1l.67-2H22v-5c0-1.1-.9-2-2-2zm-9 0H6V7h5v3zm7 0h-5V7h5v3z"},child:[]}]})(t)}function AV(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"},child:[]}]})(t)}function IV(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 22c1.1 0 2-.9 2-2h-4a2 2 0 0 0 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"},child:[]}]})(t)}function ka(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"},child:[]}]})(t)}function wi(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"},child:[]}]})(t)}function Og(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M5 13.18v4L12 21l7-3.82v-4L12 17l-7-3.82zM12 3 1 9l11 6 9-4.91V17h2V9L12 3z"},child:[]}]})(t)}function OV(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"},child:[]}]})(t)}function Qh(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"},child:[]}]})(t)}function ah(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-2.5-3.5 7-4.5-7-4.5v9z"},child:[]}]})(t)}function RV(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11 21h-1l1-7H7.5c-.88 0-.33-.75-.31-.78C8.48 10.94 10.42 7.54 13.01 3h1l-1 7h3.51c.4 0 .62.19.4.66C12.97 17.55 11 21 11 21z"},child:[]}]})(t)}function o5(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6zm-2 0-8 4.99L4 6h16zm0 12H4V8l8 5 8-5v10z"},child:[]}]})(t)}function Rg(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"},child:[]}]})(t)}const DV=t=>{try{const e=Math.max(0,Date.now()-new Date(t).getTime()),n=Math.floor(e/6e4);if(n<1)return"now";if(n<60)return`${n}m`;const s=Math.floor(n/60);return s<24?`${s}h`:`${Math.floor(s/24)}d`}catch{return""}},$V=t=>[t==null?void 0:t.firstName,t==null?void 0:t.lastName].filter(Boolean).join(" ").trim()||(t==null?void 0:t.email)||"Someone",FV=t=>{const e=[t==null?void 0:t.firstName,t==null?void 0:t.lastName].filter(Boolean).join(" ").trim();return e?e.split(/\s+/).map(n=>{var s;return(s=n[0])==null?void 0:s.toUpperCase()}).slice(0,2).join(""):((t==null?void 0:t.email)||"?").slice(0,1).toUpperCase()};function zV(){const[t,e]=f.useState(!1),[n,s]=f.useState(0),[i,a]=f.useState([]),o=f.useRef(null),l=f.useRef(null),c=async()=>{var m;try{const g=await ge.get("/contact-access/inbox?status=pending"),x=((m=g==null?void 0:g.data)==null?void 0:m.items)||[];a(x),s(x.length)}catch{a([]),s(0)}};f.useEffect(()=>{let m;(async()=>{var b,v;await c();try{const{io:y}=await hm(async()=>{const{io:k}=await Promise.resolve().then(()=>Ow);return{io:k}},void 0);m=y("http://localhost:8000",{transports:["websocket"],withCredentials:!0});try{const k=await ge.get("/get-user"),N=(v=(b=k==null?void 0:k.data)==null?void 0:b.user)==null?void 0:v._id;N&&m.emit("registerUser",N)}catch{}m.on("contact_request:new",c),m.on("contact_request:updated",c)}catch{}})();const g=b=>{o.current&&!o.current.contains(b.target)&&l.current&&!l.current.contains(b.target)&&e(!1)},x=b=>b.key==="Escape"&&e(!1);return document.addEventListener("mousedown",g),document.addEventListener("keydown",x),()=>{document.removeEventListener("mousedown",g),document.removeEventListener("keydown",x)}},[]);const u=async m=>{await ge.post("/contact-access/approve",{requestId:m})},d=async m=>{await ge.post("/contact-access/deny",{requestId:m})},h=async m=>{var g;a(x=>x.map(b=>b._id===m?{...b,_busy:!0,_err:""}:b));try{await u(m),a(x=>x.filter(b=>b._id!==m)),s(x=>Math.max(0,x-1))}catch(x){const b=(g=x==null?void 0:x.response)==null?void 0:g.status,v=b===401?"Session expired. Please sign in.":b===404?"Request not found.":"Approve failed. Try again.";a(y=>y.map(w=>w._id===m?{...w,_busy:!1,_err:v}:w))}},p=async m=>{var g;a(x=>x.map(b=>b._id===m?{...b,_busy:!0,_err:""}:b));try{await d(m),a(x=>x.filter(b=>b._id!==m)),s(x=>Math.max(0,x-1))}catch(x){const b=(g=x==null?void 0:x.response)==null?void 0:g.status,v=b===401?"Session expired. Please sign in.":b===404?"Request not found.":"Deny failed. Try again.";a(y=>y.map(w=>w._id===m?{...w,_busy:!1,_err:v}:w))}};return r.jsxs("div",{className:"relative",children:[r.jsxs("button",{ref:l,onClick:()=>e(m=>!m),className:"relative grid h-9 w-9 place-items-center rounded-full bg-white/5 backdrop-blur-md text-white/85 ring-1 ring-white/20 hover:bg-white/10 hover:ring-white/30 transition-all duration-200","aria-label":"Notifications",children:[r.jsx(AV,{className:"text-xl"}),n>0&&r.jsx("span",{className:"absolute -right-0.5 -top-0.5 grid h-4 min-w-4 place-items-center rounded-full bg-gradient-to-r from-rose-500 to-pink-500 px-1 text-[10px] font-semibold text-white shadow-lg",children:n>9?"9+":n})]}),t&&r.jsxs("div",{ref:o,className:"absolute right-0 top-11 z-50 w-[360px] max-h-[70vh] overflow-auto rounded-2xl border border-white/20 bg-[#0b0c0f]/80 backdrop-blur-xl shadow-2xl ring-1 ring-white/10",children:[r.jsxs("div",{className:"sticky top-0 z-10 flex items-center justify-between border-b border-white/10 bg-[#0b0c0f] px-3 py-2",children:[r.jsx("div",{className:"text-sm font-semibold text-white",children:"Requests"}),r.jsx("button",{onClick:()=>e(!1),className:"rounded-full p-1 text-white/60 hover:bg-white/10",children:r.jsx(Nr,{})})]}),i.length===0?r.jsx("div",{className:"px-4 py-10 text-center text-sm text-white/60",children:"Youre all caught up "}):r.jsx("ul",{className:"divide-y divide-white/10",children:i.map(m=>{var x;const g=m.requesterId||{};return r.jsxs("li",{className:"flex gap-3 px-3 py-3",children:[r.jsx("div",{className:"mt-0.5 flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-white/10 text-sm font-semibold text-white/90",children:FV(g)}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsxs("div",{className:"flex items-baseline gap-2",children:[r.jsx("span",{className:"truncate text-sm font-semibold text-white",children:$V(g)}),m.createdAt&&r.jsx("span",{className:"text-xs text-white/45",children:DV(m.createdAt)})]}),r.jsxs("div",{className:"text-sm text-white/75 whitespace-normal break-words leading-5",children:[r.jsx("span",{className:"block",children:"wants to view your contact info"}),((x=m.propertyId)==null?void 0:x.title)&&r.jsxs("span",{className:"block",children:["for ",r.jsx("span",{className:"font-medium",children:m.propertyId.title}),"."]})]}),m._err&&r.jsx("div",{className:"mt-1 text-xs text-rose-400",children:m._err}),r.jsxs("div",{className:"mt-2 flex gap-2",children:[r.jsx("button",{onClick:()=>h(m._id),disabled:m._busy,className:"rounded-md bg-sky-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-sky-700 disabled:opacity-60",children:m._busy?"Working":"Approve"}),r.jsx("button",{onClick:()=>p(m._id),disabled:m._busy,className:"rounded-md border border-white/15 bg-white/5 px-3 py-1.5 text-sm text-white/85 hover:bg-white/10 disabled:opacity-60",children:"Deny"})]})]})]},m._id)})})]})]})}function ht(){const t=tr(),{logout:e}=Ji(),n=[{title:"Solve Threads",desc:"AI-powered campus life solutions.",to:"/solve-threads",icon:i5,featured:!0},{title:"Housing",desc:"Verified listings near campus.",to:"/all-properties",icon:_V},{title:"Roommate matcher",desc:"2-minute quiz for a great fit.",to:"/Synapse",icon:ka},{title:"Essentials pack",desc:"Day-1 kit: buy or rent.",to:"/marketplace",icon:Ia},{title:"Arrival checklist",desc:"7-day plan + airport transit.",to:"/dashboard",icon:vV},{title:"Community",desc:"Clubs, events, and groups.",to:"/community",icon:TV},{title:"Build my plan",desc:"Let AI craft everything for me.",to:"/onboarding",icon:i5}];return r.jsx("header",{className:"sticky top-0 z-40 w-full",children:r.jsxs("div",{className:"mx-auto mt-3 flex max-w-7xl items-center justify-between rounded-2xl bg-[#0b0c0f]/90 px-4 py-2.5 backdrop-blur border border-white/5",children:[r.jsx(Ie,{to:"/",className:"inline-flex items-center",children:r.jsx("span",{className:"brand-script text-3xl leading-none bg-gradient-to-r from-blue-600 to-teal-500 bg-clip-text text-transparent drop-shadow-[0_1px_0_rgba(255,255,255,0.06)]",children:"NewRun"})}),r.jsxs("nav",{className:"hidden items-center gap-8 md:flex",children:[r.jsx(YU,{label:"Products",items:n}),r.jsx(Ie,{to:"/solve-threads",className:`text-sm font-semibold ${t.pathname.startsWith("/solve-threads")?"text-orange-400":"text-orange-400/80 hover:text-orange-400"}`,children:"Solve Threads"}),r.jsx(Ie,{to:"/community",className:`text-sm ${t.pathname.startsWith("/community")?"text-white":"text-white/80 hover:text-white"}`,children:"Get Help"}),r.jsx(Ie,{to:"/blogs",className:`text-sm ${t.pathname.startsWith("/blogs")?"text-white":"text-white/80 hover:text-white"}`,children:"Blogs"}),r.jsx(Ie,{to:"/community",className:`text-sm ${t.pathname.startsWith("/community")?"text-white":"text-white/80 hover:text-white"}`,children:"Community"}),r.jsx(Ie,{to:"/marketplace",className:`text-sm ${t.pathname.startsWith("/marketplace")?"text-white":"text-white/80 hover:text-white"}`,children:"Marketplace"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(zV,{}),r.jsx(XU,{})]})]})})}function Oa(){return r.jsxs("footer",{className:"relative mt-24 text-white",role:"contentinfo",children:[r.jsx("div",{"aria-hidden":"true",className:"pointer-events-none absolute inset-x-0 -top-28 h-64 w-full",style:{background:"radial-gradient(60% 80% at 50% 0%, rgba(47,100,255,0.20) 0%, rgba(0,0,0,0) 70%), radial-gradient(60% 80% at 50% 0%, rgba(0,212,255,0.12) 0%, rgba(0,0,0,0) 80%)"}}),r.jsxs("div",{className:"mx-auto max-w-7xl px-6",children:[r.jsx("div",{className:"rounded-2xl border border-white/10 bg-transparent p-6 backdrop-blur-xl",children:r.jsxs("div",{className:"grid gap-6 md:grid-cols-3 md:items-center",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("h3",{className:"text-xl font-semibold bg-gradient-to-r from-[#2F64FF] to-[#00D4FF] bg-clip-text text-transparent",children:"Join our newsletter"}),r.jsx("p",{className:"mt-1 text-white/70",children:"Get exclusive content and become a part of the NewRun community."})]}),r.jsx(BV,{})]})}),r.jsxs("div",{className:"mt-14 grid gap-10 md:grid-cols-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"brand-script text-5xl leading-none bg-gradient-to-r from-[#2F64FF] to-[#00D4FF] bg-clip-text text-transparent",children:"NewRun"}),r.jsx("p",{className:"mt-3 max-w-sm text-white/70",children:"Housing, essentials, and community  curated by your university."})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-semibold uppercase tracking-wider text-white/70",children:"Product"}),r.jsxs("ul",{className:"mt-4 space-y-3 text-white/85",children:[r.jsx("li",{children:r.jsx(Ie,{to:"/marketplace",className:"hover:text-white",children:"Marketplace"})}),r.jsx("li",{children:r.jsx(Ie,{to:"/properties",className:"hover:text-white",children:"Housing"})}),r.jsx("li",{children:r.jsx(Ie,{to:"/messaging",className:"hover:text-white",children:"Messaging"})}),r.jsx("li",{children:r.jsx(Ie,{to:"/Synapse",className:"hover:text-white",children:"Roommate Match"})})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-semibold uppercase tracking-wider text-white/70",children:"Company"}),r.jsxs("ul",{className:"mt-4 space-y-3 text-white/85",children:[r.jsx("li",{children:r.jsx(Ie,{to:"/blogs",className:"hover:text-white",children:"Blog"})}),r.jsx("li",{children:r.jsx(Ie,{to:"/about",className:"hover:text-white",children:"About"})}),r.jsx("li",{children:r.jsx(Ie,{to:"/contact",className:"hover:text-white",children:"Contact"})}),r.jsx("li",{children:r.jsx(Ie,{to:"/signin",className:"hover:text-white",children:"Sign in"})}),r.jsx("li",{children:r.jsx(Ie,{to:"/signup",className:"hover:text-white",children:"Sign up"})})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-semibold uppercase tracking-wider text-white/70",children:"Legal"}),r.jsxs("ul",{className:"mt-4 space-y-3 text-white/85",children:[r.jsx("li",{children:r.jsx(Ie,{to:"/privacy",className:"hover:text-white",children:"Privacy Policy"})}),r.jsx("li",{children:r.jsx(Ie,{to:"/terms",className:"hover:text-white",children:"Terms of Service"})}),r.jsx("li",{children:r.jsx(Ie,{to:"/cookies",className:"hover:text-white",children:"Cookies Policy"})}),r.jsx("li",{children:r.jsx(Ie,{to:"/cookies/settings",className:"hover:text-white",children:"Cookie Settings"})}),r.jsx("li",{children:r.jsx(Ie,{to:"/help",className:"hover:text-white",children:"Help Center"})})]})]})]}),r.jsxs("div",{className:"mt-12 flex flex-col items-center justify-between gap-6 border-t border-white/10 py-6 text-sm text-white/60 md:flex-row",children:[r.jsxs("div",{children:[" ",new Date().getFullYear()," NewRun. All rights reserved."]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("a",{href:"https://instagram.com","aria-label":"Instagram",className:"group inline-flex h-9 w-9 items-center justify-center rounded-full border border-white/15 bg-white/5 backdrop-blur hover:bg-white/10",target:"_blank",rel:"noreferrer",children:r.jsx("svg",{viewBox:"0 0 24 24",className:"h-4 w-4 fill-white/80 group-hover:fill-white",children:r.jsx("path",{d:"M12 2.2c3.2 0 3.6 0 4.8.1 1.2.1 1.9.2 2.3.4.6.3 1 .6 1.5 1 .4.4.8.9 1 1.5.2.4.3 1.1.4 2.3.1 1.2.1 1.6.1 4.8s0 3.6-.1 4.8c-.1 1.2-.2 1.9-.4 2.3a3.9 3.9 0 0 1-1 1.5 3.9 3.9 0 0 1-1.5 1c-.4.2-1.1.3-2.3.4-1.2.1-1.6.1-4.8.1s-3.6 0-4.8-.1c-1.2-.1-1.9-.2-2.3-.4a3.9 3.9 0 0 1-1.5-1 3.9 3.9 0 0 1-1-1.5c-.2-.4-.3-1.1-.4-2.3C2.2 15.6 2.2 15.2 2.2 12s0-3.6.1-4.8c.1-1.2.2-1.9.4-2.3.3-.6.6-1 1-1.5.4-.4.9-.8 1.5-1 .4-.2 1.1-.3 2.3-.4C8.4 2.2 8.8 2.2 12 2.2Zm0 1.8c-3.1 0-3.5 0-4.7.1-1 .1-1.6.2-1.9.3-.5.2-.9.4-1.2.8-.4.4-.6.7-.8 1.2-.1.3-.2.9-.2 1.9-.1 1.2-.1 1.6-.1 4.7s0 3.5.1 4.7c.1 1 .2 1.6.3 1.9.2.5.5.9.8 1.2.3.2.9.4 1.9.5 1.2.1 1.6.1 4.7.1s3.5 0 4.7-.1c1-.1 1.6-.2 1.9-.5.5-.2.9-.5 1.2-.8.2-.3.4-.9.5-1.9.1-1.2.1-1.6.1-4.7s0-3.5-.1-4.7c-.1-1-.2-1.6-.5-1.9a3 3 0 0 0-.8-1.2c-.3-.3-.9-.5-1.9-.6-1.2 0-1.6-.1-4.7-.1Zm0 3.2a4.8 4.8 0 1 1 0 9.6 4.8 4.8 0 0 1 0-9.6Zm0 1.8a3 3 0 1 0 0 6 3 3 0 0 0 0-6Zm5.2-2.6a1.1 1.1 0 1 1 0 2.2 1.1 1.1 0 0 1 0-2.2Z"})})}),r.jsx("a",{href:"https://x.com","aria-label":"Twitter / X",className:"group inline-flex h-9 w-9 items-center justify-center rounded-full border border-white/15 bg-white/5 backdrop-blur hover:bg-white/10",target:"_blank",rel:"noreferrer",children:r.jsx("svg",{viewBox:"0 0 24 24",className:"h-4 w-4 fill-white/80 group-hover:fill-white",children:r.jsx("path",{d:"M18.2 2H21l-6.3 7.2L22 22h-5.9l-4.6-6-5.3 6H2.4l6.8-7.6L2 2.1h6l4.2 5.6L18.2 2Zm-1 17.5h1.6L8.9 4.3H7.2l10 15.2Z"})})}),r.jsx("a",{href:"https://linkedin.com","aria-label":"LinkedIn",className:"group inline-flex h-9 w-9 items-center justify-center rounded-full border border-white/15 bg-white/5 backdrop-blur hover:bg-white/10",target:"_blank",rel:"noreferrer",children:r.jsx("svg",{viewBox:"0 0 24 24",className:"h-4 w-4 fill-white/80 group-hover:fill-white",children:r.jsx("path",{d:"M4.98 3.5C4.98 4.88 3.86 6 2.5 6S0 4.88 0 3.5 1.12 1 2.5 1s2.48 1.12 2.48 2.5zM0 8h5v15H0V8zm7.5 0h4.8v2.1h.1c.7-1.2 2.5-2.5 5-2.5 5.3 0 6.3 3.5 6.3 8.1V23H18V16c0-1.7 0-3.9-2.4-3.9-2.4 0-2.7 1.8-2.7 3.8V23H7.5V8z"})})})]})]})]})]})}function BV(){const[t,e]=_e.useState("idle"),[n,s]=_e.useState(""),[i,a]=_e.useState("");async function o(l){if(l.preventDefault(),!i)try{e("loading"),await ge.post("/newsletter",{email:n,source:"footer"}),e("success"),s("")}catch{e("error")}}return r.jsxs("form",{onSubmit:o,className:"flex w-full flex-col gap-3 md:flex-row md:items-center","aria-live":"polite",children:[r.jsx("input",{type:"text",value:i,onChange:l=>a(l.target.value),className:"hidden",tabIndex:-1,"aria-hidden":"true"}),r.jsx("input",{type:"email",required:!0,placeholder:"Email address",value:n,onChange:l=>s(l.target.value),className:"w-full rounded-xl border border-white/15 bg-black/30 px-4 py-3 text-white placeholder-white/50 outline-none focus:border-[#00D4FF]","aria-label":"Email address"}),r.jsx("button",{type:"submit",className:"whitespace-nowrap rounded-xl bg-gradient-to-r from-[#2F64FF] to-[#00D4FF] px-5 py-3 font-semibold text-white shadow-[0_0_18px_rgba(47,100,255,0.35)] transition hover:scale-[1.02] active:scale-[0.99]",disabled:t==="loading",children:t==="loading"?"Subscribing":"Subscribe"}),t==="success"&&r.jsx("span",{className:"text-sm text-emerald-400",children:"Thanks! Youre on the list."}),t==="error"&&r.jsx("span",{className:"text-sm text-red-400",children:"Something went wrong. Please try again."})]})}const UV="/assets/memoji-vm-DisM4q8L.png",VV="/assets/memoji-sj-B_PlOjSS.png",jn={House:t=>r.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",...t,children:[r.jsx("path",{d:"M3 11.5 12 4l9 7.5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"}),r.jsx("path",{d:"M5 10.5v8.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-8.5",stroke:"currentColor",strokeWidth:"1.6"}),r.jsx("path",{d:"M9.5 20v-4.5h5V20",stroke:"currentColor",strokeWidth:"1.6"})]}),Users:t=>r.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",...t,children:[r.jsx("circle",{cx:"9",cy:"8",r:"3.2",stroke:"currentColor",strokeWidth:"1.6"}),r.jsx("path",{d:"M14.5 9a3 3 0 1 0 0-6",stroke:"currentColor",strokeWidth:"1.6"}),r.jsx("path",{d:"M3.5 19a5.5 5.5 0 0 1 11 0",stroke:"currentColor",strokeWidth:"1.6"}),r.jsx("path",{d:"M15 16.5a4 4 0 0 1 5.5 3.5",stroke:"currentColor",strokeWidth:"1.6"})]}),Cart:t=>r.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",...t,children:[r.jsx("path",{d:"M3 4h2l2.2 11.5a1 1 0 0 0 1 .8h7.8a1 1 0 0 0 1-.7l2-7.1H7.8",stroke:"currentColor",strokeWidth:"1.6"}),r.jsx("circle",{cx:"10",cy:"20",r:"1.6",fill:"currentColor"}),r.jsx("circle",{cx:"17",cy:"20",r:"1.6",fill:"currentColor"})]}),Calendar:t=>r.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",...t,children:[r.jsx("rect",{x:"3",y:"5",width:"18",height:"16",rx:"2",stroke:"currentColor",strokeWidth:"1.6"}),r.jsx("path",{d:"M8 3v4M16 3v4M3 9.5h18",stroke:"currentColor",strokeWidth:"1.6"}),r.jsx("rect",{x:"7",y:"12",width:"4",height:"3",rx:"0.6",fill:"currentColor"}),r.jsx("rect",{x:"13",y:"12",width:"4",height:"3",rx:"0.6",fill:"currentColor",opacity:".65"})]}),Shield:t=>r.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",...t,children:[r.jsx("path",{d:"M12 3 5 5.5v6.2c0 4.2 3.1 7.7 7 8.8 3.9-1.1 7-4.6 7-8.8V5.5L12 3Z",stroke:"currentColor",strokeWidth:"1.6"}),r.jsx("path",{d:"M8.5 12l2.2 2.2L15.5 9",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]}),Plane:t=>r.jsx("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",...t,children:r.jsx("path",{d:"M2 12l19.5-6-6.4 8.4L9 14l-2.5 4-1.5-.5L7 13l-5-.8z",stroke:"currentColor",strokeWidth:"1.6"})}),Link:t=>r.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",...t,children:[r.jsx("path",{d:"M10 14a3 3 0 0 0 4.2 0l3.6-3.6a3 3 0 1 0-4.2-4.2L12 7.6",stroke:"currentColor",strokeWidth:"1.6"}),r.jsx("path",{d:"M14 10a3 3 0 0 0-4.2 0L6.2 13.6a3 3 0 1 0 4.2 4.2L12 16.4",stroke:"currentColor",strokeWidth:"1.6"})]}),Check:t=>r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",...t,children:r.jsx("path",{d:"M5 12.5l4 4L19 7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})},uo=({title:t,desc:e,icon:n,children:s})=>r.jsxs("div",{className:"rounded-2xl border border-white/10 bg-[#0F1115]/90 p-5 backdrop-blur-md shadow-lg",children:[r.jsxs("div",{className:"mb-3 flex items-center gap-3",children:[r.jsx("div",{className:"grid h-10 w-10 place-items-center rounded-xl bg-white/5 ring-1 ring-white/10 text-white/90",children:n}),r.jsxs("div",{children:[r.jsx("div",{className:"text-white font-semibold",children:t}),r.jsx("div",{className:"text-xs text-white/60",children:e})]})]}),s]}),WV=({children:t,delay:e=0})=>r.jsx(we.div,{initial:{y:6,opacity:0},animate:{y:0,opacity:1},transition:{delay:e,duration:.4,ease:"easeOut"},className:"rounded-full bg-white/8 text-white/80 border border-white/10 px-2.5 py-1 text-xs",children:t}),HV=()=>r.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/[0.03] p-4",children:[r.jsxs("div",{className:"mb-3 flex items-center gap-2 text-sky-300/90",children:[r.jsx(jn.House,{}),r.jsx("div",{className:"text-sm text-white/85",children:"Verified housing only"})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:["1.2 mi","$1095","2 Bed"].map((t,e)=>r.jsx(WV,{delay:.12*e,children:t},t))}),r.jsx(we.div,{className:"mt-4 h-2 w-full overflow-hidden rounded-full bg-white/10",animate:{backgroundPositionX:["0%","200%"]},transition:{repeat:1/0,duration:2.2,ease:"linear"},style:{backgroundImage:"linear-gradient(90deg, rgba(255,255,255,.08) 0%, rgba(255,255,255,.35) 50%, rgba(255,255,255,.08) 100%)",backgroundSize:"200% 100%"}})]}),qV=()=>r.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/[0.03] p-4",children:[r.jsxs("div",{className:"mb-3 flex items-center gap-2 text-emerald-300/90",children:[r.jsx(jn.Users,{}),r.jsx("div",{className:"text-sm text-white/85",children:"AI roommate matching"})]}),r.jsxs("div",{className:"relative flex items-center justify-between px-2",children:[r.jsx(we.img,{src:UV,alt:"Roommate candidate VM",className:"h-14 w-14 rounded-full object-cover ring-1 ring-white/10 shadow-[0_0_0_2px_rgba(255,255,255,0.05)]",animate:{y:[-2,2,-2],rotate:[-1,1,-1]},transition:{repeat:1/0,duration:2.4,ease:"easeInOut"},onError:t=>{t.currentTarget.replaceWith(Object.assign(document.createElement("div"),{className:"grid h-14 w-14 place-items-center rounded-full bg-gradient-to-br from-[#1b2a4a] to-[#1b4a3a] text-white/90 ring-1 ring-white/10 text-sm font-medium",innerText:"VM"}))}}),r.jsxs("div",{className:"relative mx-2 flex h-5 w-28 items-center justify-center",children:[r.jsx("div",{className:"h-0.5 w-full rounded-full bg-gradient-to-r from-emerald-400/40 via-emerald-300/50 to-sky-400/40"}),r.jsx(we.span,{className:"absolute h-2 w-2 rounded-full bg-emerald-300 shadow-[0_0_12px_3px_rgba(16,185,129,0.6)]",animate:{x:["-56px","56px","-56px"],opacity:[.4,1,.4]},transition:{repeat:1/0,duration:1.8,ease:"easeInOut"}})]}),r.jsx(we.img,{src:VV,alt:"Roommate candidate SJ",className:"h-14 w-14 rounded-full object-cover ring-1 ring-white/10 shadow-[0_0_0_2px_rgba(255,255,255,0.05)]",animate:{y:[2,-2,2],rotate:[1,-1,1]},transition:{repeat:1/0,duration:2.4,ease:"easeInOut"},onError:t=>{t.currentTarget.replaceWith(Object.assign(document.createElement("div"),{className:"grid h-14 w-14 place-items-center rounded-full bg-gradient-to-br from-[#2b2a4a] to-[#1b3a6a] text-white/90 ring-1 ring-white/10 text-sm font-medium",innerText:"SJ"}))}})]}),r.jsxs("div",{className:"mt-4 flex items-center gap-2 text-white/80",children:[r.jsx(jn.Link,{}),r.jsx("div",{className:"text-xs",children:"Shared quiet hours  Similar budget"})]})]}),KV=()=>{const t=[{label:"SIM",icon:""},{label:"Bank",icon:""},{label:"Transit",icon:""}],e=.35,n=1.15,s=2700,i=1800;return r.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/[0.03] p-4",children:[r.jsxs("div",{className:"mb-3 flex items-center gap-2 text-indigo-300/90",children:[r.jsx(jn.Cart,{}),r.jsx("div",{className:"text-sm text-white/85",children:"Essentials pack(Day-1 ready)"})]}),r.jsxs("div",{className:"relative h-24 w-full rounded-lg border border-white/10 bg-white/[0.02] p-3",children:[r.jsx("div",{className:"absolute left-8 right-24 top-1/2 h-px -translate-y-1/2 bg-white/15"}),t.map((a,o)=>r.jsx(we.div,{initial:{x:0,y:0,opacity:0,scale:1},animate:{x:[0,120,210,240],y:[0,0,0,8],opacity:[0,1,1,0],scale:[1,1,1,.92]},transition:{duration:s/1e3,ease:[.22,1,.36,1],delay:e+o*n,repeat:1/0,repeatDelay:i/1e3+(t.length-1-o)*n,times:[0,.75,.92,1]},className:"absolute left-8 top-1/2 -translate-y-1/2 overflow-hidden rounded-lg border border-white/15 bg-white/[0.05] px-3 py-2 backdrop-blur-sm",children:r.jsxs("div",{className:"flex items-center gap-2 text-white/85",children:[r.jsx("span",{className:"text-base leading-none",children:a.icon}),r.jsx("span",{className:"text-sm",children:a.label})]})},a.label+o)),r.jsx(we.div,{className:"absolute right-4 top-1/2 grid h-16 w-20 -translate-y-1/2 place-items-center rounded-lg border border-white/15 bg-white/[0.05]",animate:{boxShadow:["0 0 0 0 rgba(99,102,241,0)","0 0 24px 10px rgba(99,102,241,.18)","0 0 0 0 rgba(99,102,241,0)"]},transition:{duration:s/1e3,ease:"easeOut",delay:e+(t.length-1)*n,repeat:1/0,repeatDelay:i/1e3},children:r.jsx(jn.Cart,{className:"scale-[1.25]"})})]}),r.jsxs("div",{className:"mt-4 flex items-center gap-2 text-white/70",children:[r.jsx("span",{className:"relative inline-flex h-2 w-2 items-center justify-center",children:r.jsx("span",{className:"absolute inline-flex h-2 w-2 rounded-full bg-indigo-400/70"})}),r.jsx("span",{className:"text-sm",children:"Packing your Day-1 kit"}),r.jsxs("div",{className:"ml-auto flex gap-3",children:[r.jsx("div",{className:"h-3 w-10 rounded-full bg-white/12"}),r.jsx("div",{className:"h-3 w-10 rounded-full bg-white/12"}),r.jsx("div",{className:"h-3 w-10 rounded-full bg-indigo-400/30"})]})]})]})},GV=()=>r.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/[0.03] p-4",children:[r.jsxs("div",{className:"mb-3 flex items-center gap-2 text-fuchsia-300/90",children:[r.jsx(jn.Calendar,{}),r.jsx("div",{className:"text-sm text-white/85",children:"Community & events"})]}),r.jsxs("div",{className:"relative mt-1 h-20 rounded-lg bg-white/5 ring-1 ring-white/10",children:[[0,1,2,3].map(t=>r.jsx(we.span,{initial:{scale:0,opacity:0},animate:{scale:[0,1,1,0],opacity:[0,1,1,0]},transition:{delay:t*.4,duration:2.2,repeat:1/0},className:"absolute h-2.5 w-2.5 rounded-full bg-fuchsia-300",style:{top:12+t*12,left:14+t%2*40}},t)),r.jsx(we.div,{initial:{y:8,opacity:0},animate:{y:[8,0,0,8],opacity:[0,1,1,0]},transition:{duration:2.4,repeat:1/0,repeatDelay:.4},className:"absolute bottom-2 right-2 rounded-full border border-white/10 bg-white/8 px-2.5 py-1 text-xs text-white/80",children:"RSVP sent"})]})]}),YV=()=>r.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/[0.03] p-4",children:[r.jsxs("div",{className:"mb-3 flex items-center gap-2 text-emerald-300/90",children:[r.jsx(jn.Shield,{}),r.jsx("div",{className:"text-sm text-white/85",children:"Verified students  Safe trades"})]}),r.jsx(we.div,{animate:{scale:[1,1.06,1]},transition:{duration:1.8,repeat:1/0},className:"grid h-20 w-full place-items-center rounded-lg bg-white/6 ring-1 ring-white/10",children:r.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-emerald-400/20 bg-emerald-400/10 px-3 py-1.5 text-emerald-300",children:[r.jsx(jn.Check,{}),"Verified only"]})}),r.jsxs("div",{className:"mt-3 flex items-center justify-between rounded-lg border border-white/10 bg-white/6 px-3 py-2",children:[r.jsx("div",{className:"text-xs text-white/75",children:"Marketplace protections"}),r.jsx(we.div,{initial:{x:0,backgroundColor:"#2a2f38"},animate:{x:[0,24,0],backgroundColor:["#2a2f38","#22d3ee","#2a2f38"]},transition:{duration:2.4,repeat:1/0,ease:"easeInOut"},className:"relative h-6 w-12 rounded-full",children:r.jsx("span",{className:"absolute top-0.5 left-0.5 h-5 w-5 rounded-full bg-white shadow"})})]})]}),XV=()=>r.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/[0.03] p-4",children:[r.jsxs("div",{className:"mb-3 flex items-center gap-2 text-sky-300/90",children:[r.jsx(jn.Plane,{}),r.jsx("div",{className:"text-sm text-white/85",children:"Arrival checklist (pre-flight  day-7)"})]}),r.jsx("div",{className:"relative h-10 overflow-hidden rounded-lg bg-white/6 ring-1 ring-white/10",children:r.jsx(we.div,{className:"absolute left-2 top-1.5 text-sky-300",animate:{x:["0%","88%","0%"]},transition:{duration:3.4,repeat:1/0,ease:"easeInOut"},children:r.jsx(jn.Plane,{})})}),r.jsx("div",{className:"mt-3 space-y-2",children:["Airport pickup","SIM & banking","Campus ID"].map((t,e)=>r.jsxs(we.div,{initial:{opacity:.4},animate:{opacity:[.4,1,.4]},transition:{delay:e*.35,duration:2.2,repeat:1/0},className:"flex items-center gap-2 text-sm text-white/80",children:[r.jsx("span",{className:"h-2 w-2 rounded-full bg-sky-300/80"}),t]},t))})]});function ZV(){return r.jsxs("section",{className:"mx-auto max-w-7xl px-6 py-20",children:[r.jsxs("div",{className:"mx-auto max-w-4xl text-center mb-12",children:[r.jsx("span",{className:"inline-flex items-center rounded-full border border-white/10 bg-white/5 px-3 py-1 text-sm text-white/70",children:"How NewRun helps"}),r.jsx("h2",{className:"mt-4 text-4xl font-extrabold tracking-tight text-white md:text-5xl",children:"Start strong. Settle fast."}),r.jsx("p",{className:"mt-3 text-[17px] leading-relaxed text-white/70",children:"AI-guided onboarding to secure verified housing, find a compatible roommate, grab your essentials, and plug into your campus community  all in one flow."})]}),r.jsxs("div",{className:"grid gap-5 md:grid-cols-3",children:[r.jsx(uo,{title:"Housing",desc:"Verified near-campus listings",icon:r.jsx(jn.House,{}),children:r.jsx(HV,{})}),r.jsx(uo,{title:"Roommates",desc:"Match by lifestyle & budget",icon:r.jsx(jn.Users,{}),children:r.jsx(qV,{})}),r.jsx(uo,{title:"Essentials",desc:"Prebuilt packs for day-1",icon:r.jsx(jn.Cart,{}),children:r.jsx(KV,{})}),r.jsx(uo,{title:"Community",desc:"Events and clubs youll like",icon:r.jsx(jn.Calendar,{}),children:r.jsx(GV,{})}),r.jsx(uo,{title:"Safety",desc:"Student-only, protected trades",icon:r.jsx(jn.Shield,{}),children:r.jsx(YV,{})}),r.jsx(uo,{title:"Arrival",desc:"Simple, guided checklist",icon:r.jsx(jn.Plane,{}),children:r.jsx(XV,{})})]})]})}const M_=f.createContext({});function QV(t){const e=f.useRef(null);return e.current===null&&(e.current=t()),e.current}const Nb=typeof window<"u",JV=Nb?f.useLayoutEffect:f.useEffect,kb=f.createContext(null);function Sb(t,e){t.indexOf(e)===-1&&t.push(e)}function Cb(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Gr=(t,e,n)=>n>e?e:n<t?t:n;let Eb=()=>{};const Yr={},T_=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function L_(t){return typeof t=="object"&&t!==null}const A_=t=>/^0[^.\s]+$/u.test(t);function Pb(t){let e;return()=>(e===void 0&&(e=t()),e)}const Is=t=>t,eW=(t,e)=>n=>e(t(n)),bu=(...t)=>t.reduce(eW),$d=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class _b{constructor(){this.subscriptions=[]}add(e){return Sb(this.subscriptions,e),()=>Cb(this.subscriptions,e)}notify(e,n,s){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,s);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const kr=t=>t*1e3,Ps=t=>t/1e3;function I_(t,e){return e?t*(1e3/e):0}const O_=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,tW=1e-7,nW=12;function sW(t,e,n,s,i){let a,o,l=0;do o=e+(n-e)/2,a=O_(o,s,i)-t,a>0?n=o:e=o;while(Math.abs(a)>tW&&++l<nW);return o}function wu(t,e,n,s){if(t===e&&n===s)return Is;const i=a=>sW(a,0,1,t,n);return a=>a===0||a===1?a:O_(i(a),e,s)}const R_=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,D_=t=>e=>1-t(1-e),$_=wu(.33,1.53,.69,.99),Mb=D_($_),F_=R_(Mb),z_=t=>(t*=2)<1?.5*Mb(t):.5*(2-Math.pow(2,-10*(t-1))),Tb=t=>1-Math.sin(Math.acos(t)),B_=D_(Tb),U_=R_(Tb),rW=wu(.42,0,1,1),iW=wu(0,0,.58,1),V_=wu(.42,0,.58,1),aW=t=>Array.isArray(t)&&typeof t[0]!="number",W_=t=>Array.isArray(t)&&typeof t[0]=="number",oW={linear:Is,easeIn:rW,easeInOut:V_,easeOut:iW,circIn:Tb,circInOut:U_,circOut:B_,backIn:Mb,backInOut:F_,backOut:$_,anticipate:z_},lW=t=>typeof t=="string",l5=t=>{if(W_(t)){Eb(t.length===4);const[e,n,s,i]=t;return wu(e,n,s,i)}else if(lW(t))return oW[t];return t},oh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function cW(t,e){let n=new Set,s=new Set,i=!1,a=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(d){o.has(d)&&(u.schedule(d),t()),d(l)}const u={schedule:(d,h=!1,p=!1)=>{const g=p&&i?n:s;return h&&o.add(d),g.has(d)||g.add(d),d},cancel:d=>{s.delete(d),o.delete(d)},process:d=>{if(l=d,i){a=!0;return}i=!0,[n,s]=[s,n],n.forEach(c),n.clear(),i=!1,a&&(a=!1,u.process(d))}};return u}const dW=40;function H_(t,e){let n=!1,s=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=oh.reduce((w,k)=>(w[k]=cW(a),w),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:h,preRender:p,render:m,postRender:g}=o,x=()=>{const w=Yr.useManualTiming?i.timestamp:performance.now();n=!1,Yr.useManualTiming||(i.delta=s?1e3/60:Math.max(Math.min(w-i.timestamp,dW),1)),i.timestamp=w,i.isProcessing=!0,l.process(i),c.process(i),u.process(i),d.process(i),h.process(i),p.process(i),m.process(i),g.process(i),i.isProcessing=!1,n&&e&&(s=!1,t(x))},b=()=>{n=!0,s=!0,i.isProcessing||t(x)};return{schedule:oh.reduce((w,k)=>{const N=o[k];return w[k]=(S,M=!1,j=!1)=>(n||b(),N.schedule(S,M,j)),w},{}),cancel:w=>{for(let k=0;k<oh.length;k++)o[oh[k]].cancel(w)},state:i,steps:o}}const{schedule:St,cancel:Vi,state:un,steps:Dg}=H_(typeof requestAnimationFrame<"u"?requestAnimationFrame:Is,!0);let Jh;function uW(){Jh=void 0}const Wn={now:()=>(Jh===void 0&&Wn.set(un.isProcessing||Yr.useManualTiming?un.timestamp:performance.now()),Jh),set:t=>{Jh=t,queueMicrotask(uW)}},q_=t=>e=>typeof e=="string"&&e.startsWith(t),Lb=q_("--"),hW=q_("var(--"),Ab=t=>hW(t)?pW.test(t.split("/*")[0].trim()):!1,pW=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Bl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Fd={...Bl,transform:t=>Gr(0,1,t)},lh={...Bl,default:1},ed=t=>Math.round(t*1e5)/1e5,Ib=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function fW(t){return t==null}const mW=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ob=(t,e)=>n=>!!(typeof n=="string"&&mW.test(n)&&n.startsWith(t)||e&&!fW(n)&&Object.prototype.hasOwnProperty.call(n,e)),K_=(t,e,n)=>s=>{if(typeof s!="string")return s;const[i,a,o,l]=s.match(Ib);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},gW=t=>Gr(0,255,t),$g={...Bl,transform:t=>Math.round(gW(t))},Sa={test:Ob("rgb","red"),parse:K_("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+$g.transform(t)+", "+$g.transform(e)+", "+$g.transform(n)+", "+ed(Fd.transform(s))+")"};function xW(t){let e="",n="",s="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,s+=s,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:i?parseInt(i,16)/255:1}}const vv={test:Ob("#"),parse:xW,transform:Sa.transform},ju=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ii=ju("deg"),Sr=ju("%"),ze=ju("px"),vW=ju("vh"),yW=ju("vw"),c5={...Sr,parse:t=>Sr.parse(t)/100,transform:t=>Sr.transform(t*100)},zo={test:Ob("hsl","hue"),parse:K_("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Sr.transform(ed(e))+", "+Sr.transform(ed(n))+", "+ed(Fd.transform(s))+")"},qt={test:t=>Sa.test(t)||vv.test(t)||zo.test(t),parse:t=>Sa.test(t)?Sa.parse(t):zo.test(t)?zo.parse(t):vv.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Sa.transform(t):zo.transform(t),getAnimatableNone:t=>{const e=qt.parse(t);return e.alpha=0,qt.transform(e)}},bW=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function wW(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Ib))==null?void 0:e.length)||0)+(((n=t.match(bW))==null?void 0:n.length)||0)>0}const G_="number",Y_="color",jW="var",NW="var(",d5="${}",kW=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function zd(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},i=[];let a=0;const l=e.replace(kW,c=>(qt.test(c)?(s.color.push(a),i.push(Y_),n.push(qt.parse(c))):c.startsWith(NW)?(s.var.push(a),i.push(jW),n.push(c)):(s.number.push(a),i.push(G_),n.push(parseFloat(c))),++a,d5)).split(d5);return{values:n,split:l,indexes:s,types:i}}function X_(t){return zd(t).values}function Z_(t){const{split:e,types:n}=zd(t),s=e.length;return i=>{let a="";for(let o=0;o<s;o++)if(a+=e[o],i[o]!==void 0){const l=n[o];l===G_?a+=ed(i[o]):l===Y_?a+=qt.transform(i[o]):a+=i[o]}return a}}const SW=t=>typeof t=="number"?0:qt.test(t)?qt.getAnimatableNone(t):t;function CW(t){const e=X_(t);return Z_(t)(e.map(SW))}const Wi={test:wW,parse:X_,createTransformer:Z_,getAnimatableNone:CW};function Fg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function EW({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let i=0,a=0,o=0;if(!e)i=a=o=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;i=Fg(c,l,t+1/3),a=Fg(c,l,t),o=Fg(c,l,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:s}}function tf(t,e){return n=>n>0?e:t}const Mt=(t,e,n)=>t+(e-t)*n,zg=(t,e,n)=>{const s=t*t,i=n*(e*e-s)+s;return i<0?0:Math.sqrt(i)},PW=[vv,Sa,zo],_W=t=>PW.find(e=>e.test(t));function u5(t){const e=_W(t);if(!e)return!1;let n=e.parse(t);return e===zo&&(n=EW(n)),n}const h5=(t,e)=>{const n=u5(t),s=u5(e);if(!n||!s)return tf(t,e);const i={...n};return a=>(i.red=zg(n.red,s.red,a),i.green=zg(n.green,s.green,a),i.blue=zg(n.blue,s.blue,a),i.alpha=Mt(n.alpha,s.alpha,a),Sa.transform(i))},yv=new Set(["none","hidden"]);function MW(t,e){return yv.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function TW(t,e){return n=>Mt(t,e,n)}function Rb(t){return typeof t=="number"?TW:typeof t=="string"?Ab(t)?tf:qt.test(t)?h5:IW:Array.isArray(t)?Q_:typeof t=="object"?qt.test(t)?h5:LW:tf}function Q_(t,e){const n=[...t],s=n.length,i=t.map((a,o)=>Rb(a)(a,e[o]));return a=>{for(let o=0;o<s;o++)n[o]=i[o](a);return n}}function LW(t,e){const n={...t,...e},s={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(s[i]=Rb(t[i])(t[i],e[i]));return i=>{for(const a in s)n[a]=s[a](i);return n}}function AW(t,e){const n=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],o=t.indexes[a][s[a]],l=t.values[o]??0;n[i]=l,s[a]++}return n}const IW=(t,e)=>{const n=Wi.createTransformer(e),s=zd(t),i=zd(e);return s.indexes.var.length===i.indexes.var.length&&s.indexes.color.length===i.indexes.color.length&&s.indexes.number.length>=i.indexes.number.length?yv.has(t)&&!i.values.length||yv.has(e)&&!s.values.length?MW(t,e):bu(Q_(AW(s,i),i.values),n):tf(t,e)};function J_(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Mt(t,e,n):Rb(t)(t,e)}const OW=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>St.update(e,n),stop:()=>Vi(e),now:()=>un.isProcessing?un.timestamp:Wn.now()}},eM=(t,e,n=10)=>{let s="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)s+=Math.round(t(a/(i-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},nf=2e4;function Db(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<nf;)e+=n,s=t.next(e);return e>=nf?1/0:e}function RW(t,e=100,n){const s=n({...t,keyframes:[0,e]}),i=Math.min(Db(s),nf);return{type:"keyframes",ease:a=>s.next(i*a).value/e,duration:Ps(i)}}const DW=5;function tM(t,e,n){const s=Math.max(e-DW,0);return I_(n-t(s),e-s)}const $t={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Bg=.001;function $W({duration:t=$t.duration,bounce:e=$t.bounce,velocity:n=$t.velocity,mass:s=$t.mass}){let i,a,o=1-e;o=Gr($t.minDamping,$t.maxDamping,o),t=Gr($t.minDuration,$t.maxDuration,Ps(t)),o<1?(i=u=>{const d=u*o,h=d*t,p=d-n,m=bv(u,o),g=Math.exp(-h);return Bg-p/m*g},a=u=>{const h=u*o*t,p=h*n+n,m=Math.pow(o,2)*Math.pow(u,2)*t,g=Math.exp(-h),x=bv(Math.pow(u,2),o);return(-i(u)+Bg>0?-1:1)*((p-m)*g)/x}):(i=u=>{const d=Math.exp(-u*t),h=(u-n)*t+1;return-Bg+d*h},a=u=>{const d=Math.exp(-u*t),h=(n-u)*(t*t);return d*h});const l=5/t,c=zW(i,a,l);if(t=kr(t),isNaN(c))return{stiffness:$t.stiffness,damping:$t.damping,duration:t};{const u=Math.pow(c,2)*s;return{stiffness:u,damping:o*2*Math.sqrt(s*u),duration:t}}}const FW=12;function zW(t,e,n){let s=n;for(let i=1;i<FW;i++)s=s-t(s)/e(s);return s}function bv(t,e){return t*Math.sqrt(1-e*e)}const BW=["duration","bounce"],UW=["stiffness","damping","mass"];function p5(t,e){return e.some(n=>t[n]!==void 0)}function VW(t){let e={velocity:$t.velocity,stiffness:$t.stiffness,damping:$t.damping,mass:$t.mass,isResolvedFromDuration:!1,...t};if(!p5(t,UW)&&p5(t,BW))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),i=s*s,a=2*Gr(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:$t.mass,stiffness:i,damping:a}}else{const n=$W(t);e={...e,...n,mass:$t.mass},e.isResolvedFromDuration=!0}return e}function sf(t=$t.visualDuration,e=$t.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:i}=n;const a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:u,mass:d,duration:h,velocity:p,isResolvedFromDuration:m}=VW({...n,velocity:-Ps(n.velocity||0)}),g=p||0,x=u/(2*Math.sqrt(c*d)),b=o-a,v=Ps(Math.sqrt(c/d)),y=Math.abs(b)<5;s||(s=y?$t.restSpeed.granular:$t.restSpeed.default),i||(i=y?$t.restDelta.granular:$t.restDelta.default);let w;if(x<1){const N=bv(v,x);w=S=>{const M=Math.exp(-x*v*S);return o-M*((g+x*v*b)/N*Math.sin(N*S)+b*Math.cos(N*S))}}else if(x===1)w=N=>o-Math.exp(-v*N)*(b+(g+v*b)*N);else{const N=v*Math.sqrt(x*x-1);w=S=>{const M=Math.exp(-x*v*S),j=Math.min(N*S,300);return o-M*((g+x*v*b)*Math.sinh(j)+N*b*Math.cosh(j))/N}}const k={calculatedDuration:m&&h||null,next:N=>{const S=w(N);if(m)l.done=N>=h;else{let M=N===0?g:0;x<1&&(M=N===0?kr(g):tM(w,N,S));const j=Math.abs(M)<=s,C=Math.abs(o-S)<=i;l.done=j&&C}return l.value=l.done?o:S,l},toString:()=>{const N=Math.min(Db(k),nf),S=eM(M=>k.next(N*M).value,N,30);return N+"ms "+S},toTransition:()=>{}};return k}sf.applyToOptions=t=>{const e=RW(t,100,sf);return t.ease=e.ease,t.duration=kr(e.duration),t.type="keyframes",t};function wv({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=t[0],p={done:!1,value:h},m=j=>l!==void 0&&j<l||c!==void 0&&j>c,g=j=>l===void 0?c:c===void 0||Math.abs(l-j)<Math.abs(c-j)?l:c;let x=n*e;const b=h+x,v=o===void 0?b:o(b);v!==b&&(x=v-h);const y=j=>-x*Math.exp(-j/s),w=j=>v+y(j),k=j=>{const C=y(j),L=w(j);p.done=Math.abs(C)<=u,p.value=p.done?v:L};let N,S;const M=j=>{m(p.value)&&(N=j,S=sf({keyframes:[p.value,g(p.value)],velocity:tM(w,j,p.value),damping:i,stiffness:a,restDelta:u,restSpeed:d}))};return M(0),{calculatedDuration:null,next:j=>{let C=!1;return!S&&N===void 0&&(C=!0,k(j),M(j)),N!==void 0&&j>=N?S.next(j-N):(!C&&k(j),p)}}}function WW(t,e,n){const s=[],i=n||Yr.mix||J_,a=t.length-1;for(let o=0;o<a;o++){let l=i(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||Is:e;l=bu(c,l)}s.push(l)}return s}function HW(t,e,{clamp:n=!0,ease:s,mixer:i}={}){const a=t.length;if(Eb(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=WW(e,s,i),c=l.length,u=d=>{if(o&&d<t[0])return e[0];let h=0;if(c>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const p=$d(t[h],t[h+1],d);return l[h](p)};return n?d=>u(Gr(t[0],t[a-1],d)):u}function qW(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const i=$d(0,e,s);t.push(Mt(n,1,i))}}function KW(t){const e=[0];return qW(e,t.length-1),e}function GW(t,e){return t.map(n=>n*e)}function YW(t,e){return t.map(()=>e||V_).splice(0,t.length-1)}function td({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const i=aW(s)?s.map(l5):l5(s),a={done:!1,value:e[0]},o=GW(n&&n.length===e.length?n:KW(e),t),l=HW(o,e,{ease:Array.isArray(i)?i:YW(e,i)});return{calculatedDuration:t,next:c=>(a.value=l(c),a.done=c>=t,a)}}const XW=t=>t!==null;function $b(t,{repeat:e,repeatType:n="loop"},s,i=1){const a=t.filter(XW),l=i<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!l||s===void 0?a[l]:s}const ZW={decay:wv,inertia:wv,tween:td,keyframes:td,spring:sf};function nM(t){typeof t.type=="string"&&(t.type=ZW[t.type])}class Fb{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const QW=t=>t/100;class zb extends Fb{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,i;const{motionValue:n}=this.options;n&&n.updatedAt!==Wn.now()&&this.tick(Wn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(s=this.options).onStop)==null||i.call(s))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;nM(e);const{type:n=td,repeat:s=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=e;let{keyframes:l}=e;const c=n||td;c!==td&&typeof l[0]!="number"&&(this.mixKeyframes=bu(QW,J_(l[0],l[1])),l=[0,100]);const u=c({...e,keyframes:l});a==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=Db(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(s+1)-i,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:i,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return s.next(0);const{delay:u=0,keyframes:d,repeat:h,repeatType:p,repeatDelay:m,type:g,onUpdate:x,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const v=this.currentTime-u*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?v<0:v>i;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let w=this.currentTime,k=s;if(h){const j=Math.min(this.currentTime,i)/l;let C=Math.floor(j),L=j%1;!L&&j>=1&&(L=1),L===1&&C--,C=Math.min(C,h+1),!!(C%2)&&(p==="reverse"?(L=1-L,m&&(L-=m/l)):p==="mirror"&&(k=o)),w=Gr(0,1,L)*l}const N=y?{done:!1,value:d[0]}:k.next(w);a&&(N.value=a(N.value));let{done:S}=N;!y&&c!==null&&(S=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return M&&g!==wv&&(N.value=$b(d,this.options,b,this.speed)),x&&x(N.value),M&&this.finish(),N}then(e,n){return this.finished.then(e,n)}get duration(){return Ps(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ps(e)}get time(){return Ps(this.currentTime)}set time(e){var n;e=kr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Wn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ps(this.currentTime))}play(){var i,a;if(this.isStopped)return;const{driver:e=OW,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(a=(i=this.options).onPlay)==null||a.call(i);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Wn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function JW(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ca=t=>t*180/Math.PI,jv=t=>{const e=Ca(Math.atan2(t[1],t[0]));return Nv(e)},eH={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:jv,rotateZ:jv,skewX:t=>Ca(Math.atan(t[1])),skewY:t=>Ca(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Nv=t=>(t=t%360,t<0&&(t+=360),t),f5=jv,m5=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),g5=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),tH={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:m5,scaleY:g5,scale:t=>(m5(t)+g5(t))/2,rotateX:t=>Nv(Ca(Math.atan2(t[6],t[5]))),rotateY:t=>Nv(Ca(Math.atan2(-t[2],t[0]))),rotateZ:f5,rotate:f5,skewX:t=>Ca(Math.atan(t[4])),skewY:t=>Ca(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function kv(t){return t.includes("scale")?1:0}function Sv(t,e){if(!t||t==="none")return kv(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,i;if(n)s=tH,i=n;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=eH,i=l}if(!i)return kv(e);const a=s[e],o=i[1].split(",").map(sH);return typeof a=="function"?a(o):o[a]}const nH=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Sv(n,e)};function sH(t){return parseFloat(t.trim())}const Ul=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Vl=new Set(Ul),x5=t=>t===Bl||t===ze,rH=new Set(["x","y","z"]),iH=Ul.filter(t=>!rH.has(t));function aH(t){const e=[];return iH.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Ra={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Sv(e,"x"),y:(t,{transform:e})=>Sv(e,"y")};Ra.translateX=Ra.x;Ra.translateY=Ra.y;const Da=new Set;let Cv=!1,Ev=!1,Pv=!1;function sM(){if(Ev){const t=Array.from(Da).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const i=aH(s);i.length&&(n.set(s,i),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const i=n.get(s);i&&i.forEach(([a,o])=>{var l;(l=s.getValue(a))==null||l.set(o)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Ev=!1,Cv=!1,Da.forEach(t=>t.complete(Pv)),Da.clear()}function rM(){Da.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Ev=!0)})}function oH(){Pv=!0,rM(),sM(),Pv=!1}class Bb{constructor(e,n,s,i,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Da.add(this),Cv||(Cv=!0,St.read(rM),St.resolveKeyframes(sM))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:i}=this;if(e[0]===null){const a=i==null?void 0:i.get(),o=e[e.length-1];if(a!==void 0)e[0]=a;else if(s&&n){const l=s.readValue(n,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),i&&a===void 0&&i.set(e[0])}JW(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Da.delete(this)}cancel(){this.state==="scheduled"&&(Da.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const lH=t=>t.startsWith("--");function cH(t,e,n){lH(e)?t.style.setProperty(e,n):t.style[e]=n}const dH=Pb(()=>window.ScrollTimeline!==void 0),uH={};function hH(t,e){const n=Pb(t);return()=>uH[e]??n()}const iM=hH(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Tc=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,v5={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Tc([0,.65,.55,1]),circOut:Tc([.55,0,1,.45]),backIn:Tc([.31,.01,.66,-.59]),backOut:Tc([.33,1.53,.69,.99])};function aM(t,e){if(t)return typeof t=="function"?iM()?eM(t,e):"ease-out":W_(t)?Tc(t):Array.isArray(t)?t.map(n=>aM(n,e)||v5.easeOut):v5[t]}function pH(t,e,n,{delay:s=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[e]:n};c&&(d.offset=c);const h=aM(l,i);Array.isArray(h)&&(d.easing=h);const p={delay:s,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return u&&(p.pseudoElement=u),t.animate(d,p)}function oM(t){return typeof t=="function"&&"applyToOptions"in t}function fH({type:t,...e}){return oM(t)&&iM()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class mH extends Fb{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:i,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=e,Eb(typeof e.type!="string");const u=fH(e);this.animation=pH(n,s,i,u,a),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const d=$b(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):cH(n,s,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,s;const e=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return Ps(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ps(e)}get time(){return Ps(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=kr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&dH()?(this.animation.timeline=e,Is):n(this)}}const lM={anticipate:z_,backInOut:F_,circInOut:U_};function gH(t){return t in lM}function xH(t){typeof t.ease=="string"&&gH(t.ease)&&(t.ease=lM[t.ease])}const y5=10;class vH extends mH{constructor(e){xH(e),nM(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:i,element:a,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const l=new zb({...o,autoplay:!1}),c=kr(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-y5).value,l.sample(c).value,y5),l.stop()}}const b5=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Wi.test(t)||t==="0")&&!t.startsWith("url("));function yH(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function bH(t,e,n,s){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],o=b5(i,e),l=b5(a,e);return!o||!l?!1:yH(t)||(n==="spring"||oM(n))&&s}function _v(t){t.duration=0,t.type="keyframes"}const wH=new Set(["opacity","clipPath","filter","transform"]),jH=Pb(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function NH(t){var d;const{motionValue:e,name:n,repeatDelay:s,repeatType:i,damping:a,type:o}=t;if(!(((d=e==null?void 0:e.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=e.owner.getProps();return jH()&&n&&wH.has(n)&&(n!=="transform"||!u)&&!c&&!s&&i!=="mirror"&&a!==0&&o!=="inertia"}const kH=40;class SH extends Fb{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",keyframes:l,name:c,motionValue:u,element:d,...h}){var g;super(),this.stop=()=>{var x,b;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=Wn.now();const p={autoplay:e,delay:n,type:s,repeat:i,repeatDelay:a,repeatType:o,name:c,motionValue:u,element:d,...h},m=(d==null?void 0:d.KeyframeResolver)||Bb;this.keyframeResolver=new m(l,(x,b,v)=>this.onKeyframesResolved(x,b,p,!v),c,u,d),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(e,n,s,i){this.keyframeResolver=void 0;const{name:a,type:o,velocity:l,delay:c,isHandoff:u,onUpdate:d}=s;this.resolvedAt=Wn.now(),bH(e,a,o,l)||((Yr.instantAnimations||!c)&&(d==null||d($b(e,s,n))),e[0]=e[e.length-1],_v(s),s.repeat=0);const p={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>kH?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},m=!u&&NH(p)?new vH({...p,element:p.motionValue.owner.current}):new zb(p);m.finished.then(()=>this.notifyFinished()).catch(Is),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),oH()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const CH=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function EH(t){const e=CH.exec(t);if(!e)return[,];const[,n,s,i]=e;return[`--${n??s}`,i]}function cM(t,e,n=1){const[s,i]=EH(t);if(!s)return;const a=window.getComputedStyle(e).getPropertyValue(s);if(a){const o=a.trim();return T_(o)?parseFloat(o):o}return Ab(i)?cM(i,e,n+1):i}function Ub(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const dM=new Set(["width","height","top","left","right","bottom",...Ul]),PH={test:t=>t==="auto",parse:t=>t},uM=t=>e=>e.test(t),hM=[Bl,ze,Sr,ii,yW,vW,PH],w5=t=>hM.find(uM(t));function _H(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||A_(t):!0}const MH=new Set(["brightness","contrast","saturate","opacity"]);function TH(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(Ib)||[];if(!s)return t;const i=n.replace(s,"");let a=MH.has(e)?1:0;return s!==n&&(a*=100),e+"("+a+i+")"}const LH=/\b([a-z-]*)\(.*?\)/gu,Mv={...Wi,getAnimatableNone:t=>{const e=t.match(LH);return e?e.map(TH).join(" "):t}},j5={...Bl,transform:Math.round},AH={rotate:ii,rotateX:ii,rotateY:ii,rotateZ:ii,scale:lh,scaleX:lh,scaleY:lh,scaleZ:lh,skew:ii,skewX:ii,skewY:ii,distance:ze,translateX:ze,translateY:ze,translateZ:ze,x:ze,y:ze,z:ze,perspective:ze,transformPerspective:ze,opacity:Fd,originX:c5,originY:c5,originZ:ze},Vb={borderWidth:ze,borderTopWidth:ze,borderRightWidth:ze,borderBottomWidth:ze,borderLeftWidth:ze,borderRadius:ze,radius:ze,borderTopLeftRadius:ze,borderTopRightRadius:ze,borderBottomRightRadius:ze,borderBottomLeftRadius:ze,width:ze,maxWidth:ze,height:ze,maxHeight:ze,top:ze,right:ze,bottom:ze,left:ze,padding:ze,paddingTop:ze,paddingRight:ze,paddingBottom:ze,paddingLeft:ze,margin:ze,marginTop:ze,marginRight:ze,marginBottom:ze,marginLeft:ze,backgroundPositionX:ze,backgroundPositionY:ze,...AH,zIndex:j5,fillOpacity:Fd,strokeOpacity:Fd,numOctaves:j5},IH={...Vb,color:qt,backgroundColor:qt,outlineColor:qt,fill:qt,stroke:qt,borderColor:qt,borderTopColor:qt,borderRightColor:qt,borderBottomColor:qt,borderLeftColor:qt,filter:Mv,WebkitFilter:Mv},pM=t=>IH[t];function fM(t,e){let n=pM(t);return n!==Mv&&(n=Wi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const OH=new Set(["auto","none","0"]);function RH(t,e,n){let s=0,i;for(;s<t.length&&!i;){const a=t[s];typeof a=="string"&&!OH.has(a)&&zd(a).values.length&&(i=t[s]),s++}if(i&&n)for(const a of e)t[a]=fM(n,i)}class DH extends Bb{constructor(e,n,s,i,a){super(e,n,s,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="string"&&(u=u.trim(),Ab(u))){const d=cM(u,n.current);d!==void 0&&(e[c]=d),c===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!dM.has(s)||e.length!==2)return;const[i,a]=e,o=w5(i),l=w5(a);if(o!==l)if(x5(o)&&x5(l))for(let c=0;c<e.length;c++){const u=e[c];typeof u=="string"&&(e[c]=parseFloat(u))}else Ra[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let i=0;i<e.length;i++)(e[i]===null||_H(e[i]))&&s.push(i);s.length&&RH(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ra[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(s,i).jump(i,!1)}measureEndState(){var l;const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=s.length-1,o=s[a];s[a]=Ra[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{e.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function $H(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const i=(n==null?void 0:n[t])??s.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const mM=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function FH(t){return L_(t)&&"offsetHeight"in t}const N5=30,zH=t=>!isNaN(parseFloat(t));class BH{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var a;const i=Wn.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Wn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=zH(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new _b);const s=this.events[e].add(n);return e==="change"?()=>{s(),St.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Wn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>N5)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,N5);return I_(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function yl(t,e){return new BH(t,e)}const{schedule:Wb}=H_(queueMicrotask,!1),Ws={x:!1,y:!1};function gM(){return Ws.x||Ws.y}function UH(t){return t==="x"||t==="y"?Ws[t]?null:(Ws[t]=!0,()=>{Ws[t]=!1}):Ws.x||Ws.y?null:(Ws.x=Ws.y=!0,()=>{Ws.x=Ws.y=!1})}function xM(t,e){const n=$H(t),s=new AbortController,i={passive:!0,...e,signal:s.signal};return[n,i,()=>s.abort()]}function k5(t){return!(t.pointerType==="touch"||gM())}function VH(t,e,n={}){const[s,i,a]=xM(t,n),o=l=>{if(!k5(l))return;const{target:c}=l,u=e(c,l);if(typeof u!="function"||!c)return;const d=h=>{k5(h)&&(u(h),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,i)};return s.forEach(l=>{l.addEventListener("pointerenter",o,i)}),a}const vM=(t,e)=>e?t===e?!0:vM(t,e.parentElement):!1,Hb=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,WH=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function HH(t){return WH.has(t.tagName)||t.tabIndex!==-1}const ep=new WeakSet;function S5(t){return e=>{e.key==="Enter"&&t(e)}}function Ug(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const qH=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=S5(()=>{if(ep.has(n))return;Ug(n,"down");const i=S5(()=>{Ug(n,"up")}),a=()=>Ug(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function C5(t){return Hb(t)&&!gM()}function KH(t,e,n={}){const[s,i,a]=xM(t,n),o=l=>{const c=l.currentTarget;if(!C5(l))return;ep.add(c);const u=e(c,l),d=(m,g)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",p),ep.has(c)&&ep.delete(c),C5(m)&&typeof u=="function"&&u(m,{success:g})},h=m=>{d(m,c===window||c===document||n.useGlobalTarget||vM(c,m.target))},p=m=>{d(m,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",p,i)};return s.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,i),FH(l)&&(l.addEventListener("focus",u=>qH(u,i)),!HH(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),a}function yM(t){return L_(t)&&"ownerSVGElement"in t}function GH(t){return yM(t)&&t.tagName==="svg"}const Cn=t=>!!(t&&t.getVelocity),YH=[...hM,qt,Wi],XH=t=>YH.find(uM(t)),bM=f.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function ZH(t=!0){const e=f.useContext(kb);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:i}=e,a=f.useId();f.useEffect(()=>{if(t)return i(a)},[t]);const o=f.useCallback(()=>t&&s&&s(a),[a,s,t]);return!n&&s?[!1,o]:[!0]}const wM=f.createContext({strict:!1}),E5={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},bl={};for(const t in E5)bl[t]={isEnabled:e=>E5[t].some(n=>!!e[n])};function QH(t){for(const e in t)bl[e]={...bl[e],...t[e]}}const JH=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function rf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||JH.has(t)}let jM=t=>!rf(t);function eq(t){typeof t=="function"&&(jM=e=>e.startsWith("on")?!rf(e):t(e))}try{eq(require("@emotion/is-prop-valid").default)}catch{}function tq(t,e,n){const s={};for(const i in t)i==="values"&&typeof t.values=="object"||(jM(i)||n===!0&&rf(i)||!e&&!rf(i)||t.draggable&&i.startsWith("onDrag"))&&(s[i]=t[i]);return s}const wm=f.createContext({});function jm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Bd(t){return typeof t=="string"||Array.isArray(t)}const qb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Kb=["initial",...qb];function Nm(t){return jm(t.animate)||Kb.some(e=>Bd(t[e]))}function NM(t){return!!(Nm(t)||t.variants)}function nq(t,e){if(Nm(t)){const{initial:n,animate:s}=t;return{initial:n===!1||Bd(n)?n:void 0,animate:Bd(s)?s:void 0}}return t.inherit!==!1?e:{}}function sq(t){const{initial:e,animate:n}=nq(t,f.useContext(wm));return f.useMemo(()=>({initial:e,animate:n}),[P5(e),P5(n)])}function P5(t){return Array.isArray(t)?t.join(" "):t}const Ud={};function rq(t){for(const e in t)Ud[e]=t[e],Lb(e)&&(Ud[e].isCSSVariable=!0)}function kM(t,{layout:e,layoutId:n}){return Vl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Ud[t]||t==="opacity")}const iq={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},aq=Ul.length;function oq(t,e,n){let s="",i=!0;for(let a=0;a<aq;a++){const o=Ul[a],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=mM(l,Vb[o]);if(!c){i=!1;const d=iq[o]||o;s+=`${d}(${u}) `}n&&(e[o]=u)}}return s=s.trim(),n?s=n(e,i?"":s):i&&(s="none"),s}function Gb(t,e,n){const{style:s,vars:i,transformOrigin:a}=t;let o=!1,l=!1;for(const c in e){const u=e[c];if(Vl.has(c)){o=!0;continue}else if(Lb(c)){i[c]=u;continue}else{const d=mM(u,Vb[c]);c.startsWith("origin")?(l=!0,a[c]=d):s[c]=d}}if(e.transform||(o||n?s.transform=oq(e,t.transform,n):s.transform&&(s.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=a;s.transformOrigin=`${c} ${u} ${d}`}}const Yb=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function SM(t,e,n){for(const s in e)!Cn(e[s])&&!kM(s,n)&&(t[s]=e[s])}function lq({transformTemplate:t},e){return f.useMemo(()=>{const n=Yb();return Gb(n,e,t),Object.assign({},n.vars,n.style)},[e])}function cq(t,e){const n=t.style||{},s={};return SM(s,n,t),Object.assign(s,lq(t,e)),s}function dq(t,e){const n={},s=cq(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const uq={offset:"stroke-dashoffset",array:"stroke-dasharray"},hq={offset:"strokeDashoffset",array:"strokeDasharray"};function pq(t,e,n=1,s=0,i=!0){t.pathLength=1;const a=i?uq:hq;t[a.offset]=ze.transform(-s);const o=ze.transform(e),l=ze.transform(n);t[a.array]=`${o} ${l}`}function CM(t,{attrX:e,attrY:n,attrScale:s,pathLength:i,pathSpacing:a=1,pathOffset:o=0,...l},c,u,d){if(Gb(t,l,u),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:p}=t;h.transform&&(p.transform=h.transform,delete h.transform),(p.transform||h.transformOrigin)&&(p.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),p.transform&&(p.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),s!==void 0&&(h.scale=s),i!==void 0&&pq(h,i,a,o,!1)}const EM=()=>({...Yb(),attrs:{}}),PM=t=>typeof t=="string"&&t.toLowerCase()==="svg";function fq(t,e,n,s){const i=f.useMemo(()=>{const a=EM();return CM(a,e,PM(s),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};SM(a,t.style,t),i.style={...a,...i.style}}return i}const mq=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Xb(t){return typeof t!="string"||t.includes("-")?!1:!!(mq.indexOf(t)>-1||/[A-Z]/u.test(t))}function gq(t,e,n,{latestValues:s},i,a=!1){const l=(Xb(t)?fq:dq)(e,s,i,t),c=tq(e,typeof t=="string",a),u=t!==f.Fragment?{...c,...l,ref:n}:{},{children:d}=e,h=f.useMemo(()=>Cn(d)?d.get():d,[d]);return f.createElement(t,{...u,children:h})}function _5(t){const e=[{},{}];return t==null||t.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function Zb(t,e,n,s){if(typeof e=="function"){const[i,a]=_5(s);e=e(n!==void 0?n:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=_5(s);e=e(n!==void 0?n:t.custom,i,a)}return e}function tp(t){return Cn(t)?t.get():t}function xq({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,i){return{latestValues:vq(n,s,i,t),renderState:e()}}function vq(t,e,n,s){const i={},a=s(t,{});for(const p in a)i[p]=tp(a[p]);let{initial:o,animate:l}=t;const c=Nm(t),u=NM(t);e&&u&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?l:o;if(h&&typeof h!="boolean"&&!jm(h)){const p=Array.isArray(h)?h:[h];for(let m=0;m<p.length;m++){const g=Zb(t,p[m]);if(g){const{transitionEnd:x,transition:b,...v}=g;for(const y in v){let w=v[y];if(Array.isArray(w)){const k=d?w.length-1:0;w=w[k]}w!==null&&(i[y]=w)}for(const y in x)i[y]=x[y]}}}return i}const _M=t=>(e,n)=>{const s=f.useContext(wm),i=f.useContext(kb),a=()=>xq(t,e,s,i);return n?a():QV(a)};function Qb(t,e,n){var a;const{style:s}=t,i={};for(const o in s)(Cn(s[o])||e.style&&Cn(e.style[o])||kM(o,t)||((a=n==null?void 0:n.getValue(o))==null?void 0:a.liveStyle)!==void 0)&&(i[o]=s[o]);return i}const yq=_M({scrapeMotionValuesFromProps:Qb,createRenderState:Yb});function MM(t,e,n){const s=Qb(t,e,n);for(const i in t)if(Cn(t[i])||Cn(e[i])){const a=Ul.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;s[a]=t[i]}return s}const bq=_M({scrapeMotionValuesFromProps:MM,createRenderState:EM}),wq=Symbol.for("motionComponentSymbol");function Bo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function jq(t,e,n){return f.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):Bo(n)&&(n.current=s))},[e])}const Jb=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Nq="framerAppearId",TM="data-"+Jb(Nq),LM=f.createContext({});function kq(t,e,n,s,i){var x,b;const{visualElement:a}=f.useContext(wm),o=f.useContext(wM),l=f.useContext(kb),c=f.useContext(bM).reducedMotion,u=f.useRef(null);s=s||o.renderer,!u.current&&s&&(u.current=s(t,{visualState:e,parent:a,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,h=f.useContext(LM);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&Sq(u.current,n,i,h);const p=f.useRef(!1);f.useInsertionEffect(()=>{d&&p.current&&d.update(n,l)});const m=n[TM],g=f.useRef(!!m&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,m))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,m)));return JV(()=>{d&&(p.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),g.current&&d.animationState&&d.animationState.animateChanges())}),f.useEffect(()=>{d&&(!g.current&&d.animationState&&d.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,m)}),g.current=!1),d.enteringChildren=void 0)}),d}function Sq(t,e,n,s){const{layoutId:i,layout:a,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:AM(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||l&&Bo(l),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:s,crossfade:d,layoutScroll:c,layoutRoot:u})}function AM(t){if(t)return t.options.allowProjection!==!1?t.projection:AM(t.parent)}function Vg(t,{forwardMotionProps:e=!1}={},n,s){n&&QH(n);const i=Xb(t)?bq:yq;function a(l,c){let u;const d={...f.useContext(bM),...l,layoutId:Cq(l)},{isStatic:h}=d,p=sq(l),m=i(l,h);if(!h&&Nb){Eq();const g=Pq(d);u=g.MeasureLayout,p.visualElement=kq(t,m,d,s,g.ProjectionNode)}return r.jsxs(wm.Provider,{value:p,children:[u&&p.visualElement?r.jsx(u,{visualElement:p.visualElement,...d}):null,gq(t,l,jq(m,p.visualElement,c),m,h,e)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=f.forwardRef(a);return o[wq]=t,o}function Cq({layoutId:t}){const e=f.useContext(M_).id;return e&&t!==void 0?e+"-"+t:t}function Eq(t,e){f.useContext(wM).strict}function Pq(t){const{drag:e,layout:n}=bl;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function _q(t,e){if(typeof Proxy>"u")return Vg;const n=new Map,s=(a,o)=>Vg(a,o,t,e),i=(a,o)=>s(a,o);return new Proxy(i,{get:(a,o)=>o==="create"?s:(n.has(o)||n.set(o,Vg(o,void 0,t,e)),n.get(o))})}function IM({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function Mq({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Tq(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Wg(t){return t===void 0||t===1}function Tv({scale:t,scaleX:e,scaleY:n}){return!Wg(t)||!Wg(e)||!Wg(n)}function pa(t){return Tv(t)||OM(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function OM(t){return M5(t.x)||M5(t.y)}function M5(t){return t&&t!=="0%"}function af(t,e,n){const s=t-n,i=e*s;return n+i}function T5(t,e,n,s,i){return i!==void 0&&(t=af(t,i,s)),af(t,n,s)+e}function Lv(t,e=0,n=1,s,i){t.min=T5(t.min,e,n,s,i),t.max=T5(t.max,e,n,s,i)}function RM(t,{x:e,y:n}){Lv(t.x,e.translate,e.scale,e.originPoint),Lv(t.y,n.translate,n.scale,n.originPoint)}const L5=.999999999999,A5=1.0000000000001;function Lq(t,e,n,s=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,o;for(let l=0;l<i;l++){a=n[l],o=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Vo(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,RM(t,o)),s&&pa(a.latestValues)&&Vo(t,a.latestValues))}e.x<A5&&e.x>L5&&(e.x=1),e.y<A5&&e.y>L5&&(e.y=1)}function Uo(t,e){t.min=t.min+e,t.max=t.max+e}function I5(t,e,n,s,i=.5){const a=Mt(t.min,t.max,i);Lv(t,e,n,a,s)}function Vo(t,e){I5(t.x,e.x,e.scaleX,e.scale,e.originX),I5(t.y,e.y,e.scaleY,e.scale,e.originY)}function DM(t,e){return IM(Tq(t.getBoundingClientRect(),e))}function Aq(t,e,n){const s=DM(t,n),{scroll:i}=e;return i&&(Uo(s.x,i.offset.x),Uo(s.y,i.offset.y)),s}const O5=()=>({translate:0,scale:1,origin:0,originPoint:0}),Wo=()=>({x:O5(),y:O5()}),R5=()=>({min:0,max:0}),Ut=()=>({x:R5(),y:R5()}),Av={current:null},$M={current:!1};function Iq(){if($M.current=!0,!!Nb)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Av.current=t.matches;t.addEventListener("change",e),e()}else Av.current=!1}const Oq=new WeakMap;function Rq(t,e,n){for(const s in e){const i=e[s],a=n[s];if(Cn(i))t.addValue(s,i);else if(Cn(a))t.addValue(s,yl(i,{owner:t}));else if(a!==i)if(t.hasValue(s)){const o=t.getValue(s);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(s);t.addValue(s,yl(o!==void 0?o:i,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const D5=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Dq{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:i,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Bb,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Wn.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,St.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=Nm(n),this.isVariantNode=NM(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in h){const m=h[p];c[p]!==void 0&&Cn(m)&&m.set(c[p])}}mount(e){var n;this.current=e,Oq.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,i)=>this.bindToMotionValue(i,s)),$M.current||Iq(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Av.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Vi(this.notifyUpdate),Vi(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Vl.has(e);s&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&St.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in bl){const n=bl[e];if(!n)continue;const{isEnabled:s,Feature:i}=n;if(!this.features[e]&&i&&s(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ut()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<D5.length;s++){const i=D5[s];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=e[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=Rq(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=yl(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(T_(s)||A_(s))?s=parseFloat(s):!XH(s)&&Wi.test(n)&&(s=fM(e,n)),this.setBaseTarget(e,Cn(s)?s.get():s)),Cn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var a;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const o=Zb(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);o&&(s=o[e])}if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Cn(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new _b),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Wb.render(this.render)}}class FM extends Dq{constructor(){super(...arguments),this.KeyframeResolver=DH}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Cn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function zM(t,{style:e,vars:n},s,i){const a=t.style;let o;for(o in e)a[o]=e[o];i==null||i.applyProjectionStyles(a,s);for(o in n)a.setProperty(o,n[o])}function $q(t){return window.getComputedStyle(t)}class Fq extends FM{constructor(){super(...arguments),this.type="html",this.renderInstance=zM}readValueFromInstance(e,n){var s;if(Vl.has(n))return(s=this.projection)!=null&&s.isProjecting?kv(n):nH(e,n);{const i=$q(e),a=(Lb(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return DM(e,n)}build(e,n,s){Gb(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return Qb(e,n,s)}}const BM=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function zq(t,e,n,s){zM(t,e,void 0,s);for(const i in e.attrs)t.setAttribute(BM.has(i)?i:Jb(i),e.attrs[i])}class Bq extends FM{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ut}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Vl.has(n)){const s=pM(n);return s&&s.default||0}return n=BM.has(n)?n:Jb(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return MM(e,n,s)}build(e,n,s){CM(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,i){zq(e,n,s,i)}mount(e){this.isSVGTag=PM(e.tagName),super.mount(e)}}const Uq=(t,e)=>Xb(t)?new Bq(e):new Fq(e,{allowProjection:t!==f.Fragment});function sl(t,e,n){const s=t.getProps();return Zb(s,e,n!==void 0?n:s.custom,t)}const Iv=t=>Array.isArray(t);function Vq(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,yl(n))}function Wq(t){return Iv(t)?t[t.length-1]||0:t}function Hq(t,e){const n=sl(t,e);let{transitionEnd:s={},transition:i={},...a}=n||{};a={...a,...s};for(const o in a){const l=Wq(a[o]);Vq(t,o,l)}}function qq(t){return!!(Cn(t)&&t.add)}function Ov(t,e){const n=t.getValue("willChange");if(qq(n))return n.add(e);if(!n&&Yr.WillChange){const s=new Yr.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function UM(t){return t.props[TM]}const Kq=t=>t!==null;function Gq(t,{repeat:e,repeatType:n="loop"},s){const i=t.filter(Kq),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[a]}const Yq={type:"spring",stiffness:500,damping:25,restSpeed:10},Xq=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Zq={type:"keyframes",duration:.8},Qq={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Jq=(t,{keyframes:e})=>e.length>2?Zq:Vl.has(t)?t.startsWith("scale")?Xq(e[1]):Yq:Qq;function eK({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const ew=(t,e,n,s={},i,a)=>o=>{const l=Ub(s,t)||{},c=l.delay||s.delay||0;let{elapsed:u=0}=s;u=u-kr(c);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-u,onUpdate:p=>{e.set(p),l.onUpdate&&l.onUpdate(p)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:a?void 0:i};eK(l)||Object.assign(d,Jq(t,d)),d.duration&&(d.duration=kr(d.duration)),d.repeatDelay&&(d.repeatDelay=kr(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(_v(d),d.delay===0&&(h=!0)),(Yr.instantAnimations||Yr.skipAnimations)&&(h=!0,_v(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,h&&!a&&e.get()!==void 0){const p=Gq(d.keyframes,l);if(p!==void 0){St.update(()=>{d.onUpdate(p),d.onComplete()});return}}return l.isSync?new zb(d):new SH(d)};function tK({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function VM(t,e,{delay:n=0,transitionOverride:s,type:i}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:o,...l}=e;s&&(a=s);const c=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const d in l){const h=t.getValue(d,t.latestValues[d]??null),p=l[d];if(p===void 0||u&&tK(u,d))continue;const m={delay:n,...Ub(a||{},d)},g=h.get();if(g!==void 0&&!h.isAnimating&&!Array.isArray(p)&&p===g&&!m.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const v=UM(t);if(v){const y=window.MotionHandoffAnimation(v,d,St);y!==null&&(m.startTime=y,x=!0)}}Ov(t,d),h.start(ew(d,h,p,t.shouldReduceMotion&&dM.has(d)?{type:!1}:m,t,x));const b=h.animation;b&&c.push(b)}return o&&Promise.all(c).then(()=>{St.update(()=>{o&&Hq(t,o)})}),c}function WM(t,e,n,s=0,i=1){const a=Array.from(t).sort((u,d)=>u.sortNodePosition(d)).indexOf(e),o=t.size,l=(o-1)*s;return typeof n=="function"?n(a,o):i===1?a*s:l-a*s}function Rv(t,e,n={}){var c;const s=sl(t,e,n.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const a=s?()=>Promise.all(VM(t,s,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:p}=i;return nK(t,e,u,d,h,p,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[u,d]=l==="beforeChildren"?[a,o]:[o,a];return u().then(()=>d())}else return Promise.all([a(),o(n.delay)])}function nK(t,e,n=0,s=0,i=0,a=1,o){const l=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),l.push(Rv(c,e,{...o,delay:n+(typeof s=="function"?0:s)+WM(t.variantChildren,c,s,i,a)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(l)}function sK(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const i=e.map(a=>Rv(t,a,n));s=Promise.all(i)}else if(typeof e=="string")s=Rv(t,e,n);else{const i=typeof e=="function"?sl(t,e,n.custom):e;s=Promise.all(VM(t,i,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function HM(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const rK=Kb.length;function qM(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?qM(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<rK;n++){const s=Kb[n],i=t.props[s];(Bd(i)||i===!1)&&(e[s]=i)}return e}const iK=[...qb].reverse(),aK=qb.length;function oK(t){return e=>Promise.all(e.map(({animation:n,options:s})=>sK(t,n,s)))}function lK(t){let e=oK(t),n=$5(),s=!0;const i=c=>(u,d)=>{var p;const h=sl(t,d,c==="exit"?(p=t.presenceContext)==null?void 0:p.custom:void 0);if(h){const{transition:m,transitionEnd:g,...x}=h;u={...u,...x,...g}}return u};function a(c){e=c(t)}function o(c){const{props:u}=t,d=qM(t.parent)||{},h=[],p=new Set;let m={},g=1/0;for(let b=0;b<aK;b++){const v=iK[b],y=n[v],w=u[v]!==void 0?u[v]:d[v],k=Bd(w),N=v===c?y.isActive:null;N===!1&&(g=b);let S=w===d[v]&&w!==u[v]&&k;if(S&&s&&t.manuallyAnimateOnMount&&(S=!1),y.protectedKeys={...m},!y.isActive&&N===null||!w&&!y.prevProp||jm(w)||typeof w=="boolean")continue;const M=cK(y.prevProp,w);let j=M||v===c&&y.isActive&&!S&&k||b>g&&k,C=!1;const L=Array.isArray(w)?w:[w];let O=L.reduce(i(v),{});N===!1&&(O={});const{prevResolvedValues:F={}}=y,$={...F,...O},I=E=>{j=!0,p.has(E)&&(C=!0,p.delete(E)),y.needsAnimating[E]=!0;const T=t.getValue(E);T&&(T.liveStyle=!1)};for(const E in $){const T=O[E],D=F[E];if(m.hasOwnProperty(E))continue;let R=!1;Iv(T)&&Iv(D)?R=!HM(T,D):R=T!==D,R?T!=null?I(E):p.add(E):T!==void 0&&p.has(E)?I(E):y.protectedKeys[E]=!0}y.prevProp=w,y.prevResolvedValues=O,y.isActive&&(m={...m,...O}),s&&t.blockInitialAnimation&&(j=!1);const _=S&&M;j&&(!_||C)&&h.push(...L.map(E=>{const T={type:v};if(typeof E=="string"&&s&&!_&&t.manuallyAnimateOnMount&&t.parent){const{parent:D}=t,R=sl(D,E);if(D.enteringChildren&&R){const{delayChildren:z}=R.transition||{};T.delay=WM(D.enteringChildren,t,z)}}return{animation:E,options:T}}))}if(p.size){const b={};if(typeof u.initial!="boolean"){const v=sl(t,Array.isArray(u.initial)?u.initial[0]:u.initial);v&&v.transition&&(b.transition=v.transition)}p.forEach(v=>{const y=t.getBaseTarget(v),w=t.getValue(v);w&&(w.liveStyle=!0),b[v]=y??null}),h.push({animation:b})}let x=!!h.length;return s&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(x=!1),s=!1,x?e(h):Promise.resolve()}function l(c,u){var h;if(n[c].isActive===u)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(p=>{var m;return(m=p.animationState)==null?void 0:m.setActive(c,u)}),n[c].isActive=u;const d=o(c);for(const p in n)n[p].protectedKeys={};return d}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>n,reset:()=>{n=$5(),s=!0}}}function cK(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!HM(e,t):!1}function ia(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function $5(){return{animate:ia(!0),whileInView:ia(),whileHover:ia(),whileTap:ia(),whileDrag:ia(),whileFocus:ia(),exit:ia()}}class ea{constructor(e){this.isMounted=!1,this.node=e}update(){}}class dK extends ea{constructor(e){super(e),e.animationState||(e.animationState=lK(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();jm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let uK=0;class hK extends ea{constructor(){super(...arguments),this.id=uK++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const pK={animation:{Feature:dK},exit:{Feature:hK}};function Vd(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Nu(t){return{point:{x:t.pageX,y:t.pageY}}}const fK=t=>e=>Hb(e)&&t(e,Nu(e));function nd(t,e,n,s){return Vd(t,e,fK(n),s)}const KM=1e-4,mK=1-KM,gK=1+KM,GM=.01,xK=0-GM,vK=0+GM;function In(t){return t.max-t.min}function yK(t,e,n){return Math.abs(t-e)<=n}function F5(t,e,n,s=.5){t.origin=s,t.originPoint=Mt(e.min,e.max,t.origin),t.scale=In(n)/In(e),t.translate=Mt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=mK&&t.scale<=gK||isNaN(t.scale))&&(t.scale=1),(t.translate>=xK&&t.translate<=vK||isNaN(t.translate))&&(t.translate=0)}function sd(t,e,n,s){F5(t.x,e.x,n.x,s?s.originX:void 0),F5(t.y,e.y,n.y,s?s.originY:void 0)}function z5(t,e,n){t.min=n.min+e.min,t.max=t.min+In(e)}function bK(t,e,n){z5(t.x,e.x,n.x),z5(t.y,e.y,n.y)}function B5(t,e,n){t.min=e.min-n.min,t.max=t.min+In(e)}function rd(t,e,n){B5(t.x,e.x,n.x),B5(t.y,e.y,n.y)}function bs(t){return[t("x"),t("y")]}const YM=({current:t})=>t?t.ownerDocument.defaultView:null,U5=(t,e)=>Math.abs(t-e);function wK(t,e){const n=U5(t.x,e.x),s=U5(t.y,e.y);return Math.sqrt(n**2+s**2)}class XM{constructor(e,n,{transformPagePoint:s,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=qg(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,g=wK(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!g)return;const{point:x}=p,{timestamp:b}=un;this.history.push({...x,timestamp:b});const{onStart:v,onMove:y}=this.handlers;m||(v&&v(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,p)},this.handlePointerMove=(p,m)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=Hg(m,this.transformPagePoint),St.update(this.updatePoint,!0)},this.handlePointerUp=(p,m)=>{this.end();const{onEnd:g,onSessionEnd:x,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=qg(p.type==="pointercancel"?this.lastMoveEventInfo:Hg(m,this.transformPagePoint),this.history);this.startEvent&&g&&g(p,v),x&&x(p,v)},!Hb(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=o,this.contextWindow=i||window;const l=Nu(e),c=Hg(l,this.transformPagePoint),{point:u}=c,{timestamp:d}=un;this.history=[{...u,timestamp:d}];const{onSessionStart:h}=n;h&&h(e,qg(c,this.history)),this.removeListeners=bu(nd(this.contextWindow,"pointermove",this.handlePointerMove),nd(this.contextWindow,"pointerup",this.handlePointerUp),nd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Vi(this.updatePoint)}}function Hg(t,e){return e?{point:e(t.point)}:t}function V5(t,e){return{x:t.x-e.x,y:t.y-e.y}}function qg({point:t},e){return{point:t,delta:V5(t,ZM(e)),offset:V5(t,jK(e)),velocity:NK(e,.1)}}function jK(t){return t[0]}function ZM(t){return t[t.length-1]}function NK(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const i=ZM(t);for(;n>=0&&(s=t[n],!(i.timestamp-s.timestamp>kr(e)));)n--;if(!s)return{x:0,y:0};const a=Ps(i.timestamp-s.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-s.x)/a,y:(i.y-s.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function kK(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Mt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Mt(n,t,s.max):Math.min(t,n)),t}function W5(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function SK(t,{top:e,left:n,bottom:s,right:i}){return{x:W5(t.x,n,i),y:W5(t.y,e,s)}}function H5(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function CK(t,e){return{x:H5(t.x,e.x),y:H5(t.y,e.y)}}function EK(t,e){let n=.5;const s=In(t),i=In(e);return i>s?n=$d(e.min,e.max-s,t.min):s>i&&(n=$d(t.min,t.max-i,e.min)),Gr(0,1,n)}function PK(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Dv=.35;function _K(t=Dv){return t===!1?t=0:t===!0&&(t=Dv),{x:q5(t,"left","right"),y:q5(t,"top","bottom")}}function q5(t,e,n){return{min:K5(t,e),max:K5(t,n)}}function K5(t,e){return typeof t=="number"?t:t[e]||0}const MK=new WeakMap;class TK{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ut(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=h=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Nu(h).point)},o=(h,p)=>{const{drag:m,dragPropagation:g,onDragStart:x}=this.getProps();if(m&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=UH(m),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),bs(v=>{let y=this.getAxisMotionValue(v).get()||0;if(Sr.test(y)){const{projection:w}=this.visualElement;if(w&&w.layout){const k=w.layout.layoutBox[v];k&&(y=In(k)*(parseFloat(y)/100))}}this.originPoint[v]=y}),x&&St.postRender(()=>x(h,p)),Ov(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},l=(h,p)=>{this.latestPointerEvent=h,this.latestPanInfo=p;const{dragPropagation:m,dragDirectionLock:g,onDirectionLock:x,onDrag:b}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:v}=p;if(g&&this.currentDirection===null){this.currentDirection=LK(v),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",p.point,v),this.updateAxis("y",p.point,v),this.visualElement.render(),b&&b(h,p)},c=(h,p)=>{this.latestPointerEvent=h,this.latestPanInfo=p,this.stop(h,p),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>bs(h=>{var p;return this.getAnimationState(h)==="paused"&&((p=this.getAxisMotionValue(h).animation)==null?void 0:p.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new XM(e,{onSessionStart:a,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:s,contextWindow:YM(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,i=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!s)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&St.postRender(()=>l(s,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:i}=this.getProps();if(!s||!ch(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let o=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(o=kK(o,this.constraints[e],this.elastic[e])),a.set(o)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,i=this.constraints;e&&Bo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=SK(s.layoutBox,e):this.constraints=!1,this.elastic=_K(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&bs(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=PK(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Bo(e))return!1;const s=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=Aq(s,i.root,this.visualElement.getTransformPagePoint());let o=CK(i.layout.layoutBox,a);if(n){const l=n(Mq(o));this.hasMutatedConstraints=!!l,l&&(o=IM(l))}return o}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=bs(d=>{if(!ch(d,n,this.currentDirection))return;let h=c&&c[d]||{};o&&(h={min:0,max:0});const p=i?200:1e6,m=i?40:1e7,g={type:"inertia",velocity:s?e[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(d,g)});return Promise.all(u).then(l)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return Ov(this.visualElement,e),s.start(ew(e,s,0,n,this.visualElement,!1))}stopAnimation(){bs(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){bs(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),i=s[n];return i||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){bs(n=>{const{drag:s}=this.getProps();if(!ch(n,s,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[n];a.set(e[n]-Mt(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Bo(n)||!s||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};bs(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();i[o]=EK({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),bs(o=>{if(!ch(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(Mt(c,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;MK.set(this.visualElement,this);const e=this.visualElement.current,n=nd(e,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();Bo(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",s);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),St.read(s);const o=Vd(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(bs(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),n(),a(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=Dv,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function ch(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function LK(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class AK extends ea{constructor(e){super(e),this.removeGroupControls=Is,this.removeListeners=Is,this.controls=new TK(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Is}unmount(){this.removeGroupControls(),this.removeListeners()}}const G5=t=>(e,n)=>{t&&St.postRender(()=>t(e,n))};class IK extends ea{constructor(){super(...arguments),this.removePointerDownListener=Is}onPointerDown(e){this.session=new XM(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:YM(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:G5(e),onStart:G5(n),onMove:s,onEnd:(a,o)=>{delete this.session,i&&St.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=nd(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const np={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Y5(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const lc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ze.test(t))t=parseFloat(t);else return t;const n=Y5(t,e.target.x),s=Y5(t,e.target.y);return`${n}% ${s}%`}},OK={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,i=Wi.parse(t);if(i.length>5)return s;const a=Wi.createTransformer(t),o=typeof i[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;i[0+o]/=l,i[1+o]/=c;const u=Mt(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),a(i)}};let Kg=!1;class RK extends f.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:i}=this.props,{projection:a}=e;rq(DK),a&&(n.group&&n.group.add(a),s&&s.register&&i&&s.register(a),Kg&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),np.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:i,isPresent:a}=this.props,{projection:o}=s;return o&&(o.isPresent=a,Kg=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==a?o.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?o.promote():o.relegate()||St.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Wb.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:i}=e;Kg=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function QM(t){const[e,n]=ZH(),s=f.useContext(M_);return r.jsx(RK,{...t,layoutGroup:s,switchLayoutGroup:f.useContext(LM),isPresent:e,safeToRemove:n})}const DK={borderRadius:{...lc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:lc,borderTopRightRadius:lc,borderBottomLeftRadius:lc,borderBottomRightRadius:lc,boxShadow:OK};function $K(t,e,n){const s=Cn(t)?t:yl(t);return s.start(ew("",s,e,n)),s.animation}const FK=(t,e)=>t.depth-e.depth;class zK{constructor(){this.children=[],this.isDirty=!1}add(e){Sb(this.children,e),this.isDirty=!0}remove(e){Cb(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(FK),this.isDirty=!1,this.children.forEach(e)}}function BK(t,e){const n=Wn.now(),s=({timestamp:i})=>{const a=i-n;a>=e&&(Vi(s),t(a-e))};return St.setup(s,!0),()=>Vi(s)}const JM=["TopLeft","TopRight","BottomLeft","BottomRight"],UK=JM.length,X5=t=>typeof t=="string"?parseFloat(t):t,Z5=t=>typeof t=="number"||ze.test(t);function VK(t,e,n,s,i,a){i?(t.opacity=Mt(0,n.opacity??1,WK(s)),t.opacityExit=Mt(e.opacity??1,0,HK(s))):a&&(t.opacity=Mt(e.opacity??1,n.opacity??1,s));for(let o=0;o<UK;o++){const l=`border${JM[o]}Radius`;let c=Q5(e,l),u=Q5(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Z5(c)===Z5(u)?(t[l]=Math.max(Mt(X5(c),X5(u),s),0),(Sr.test(u)||Sr.test(c))&&(t[l]+="%")):t[l]=u}(e.rotate||n.rotate)&&(t.rotate=Mt(e.rotate||0,n.rotate||0,s))}function Q5(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const WK=eT(0,.5,B_),HK=eT(.5,.95,Is);function eT(t,e,n){return s=>s<t?0:s>e?1:n($d(t,e,s))}function J5(t,e){t.min=e.min,t.max=e.max}function vs(t,e){J5(t.x,e.x),J5(t.y,e.y)}function e4(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function t4(t,e,n,s,i){return t-=e,t=af(t,1/n,s),i!==void 0&&(t=af(t,1/i,s)),t}function qK(t,e=0,n=1,s=.5,i,a=t,o=t){if(Sr.test(e)&&(e=parseFloat(e),e=Mt(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=Mt(a.min,a.max,s);t===a&&(l-=e),t.min=t4(t.min,e,n,l,i),t.max=t4(t.max,e,n,l,i)}function n4(t,e,[n,s,i],a,o){qK(t,e[n],e[s],e[i],e.scale,a,o)}const KK=["x","scaleX","originX"],GK=["y","scaleY","originY"];function s4(t,e,n,s){n4(t.x,e,KK,n?n.x:void 0,s?s.x:void 0),n4(t.y,e,GK,n?n.y:void 0,s?s.y:void 0)}function r4(t){return t.translate===0&&t.scale===1}function tT(t){return r4(t.x)&&r4(t.y)}function i4(t,e){return t.min===e.min&&t.max===e.max}function YK(t,e){return i4(t.x,e.x)&&i4(t.y,e.y)}function a4(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function nT(t,e){return a4(t.x,e.x)&&a4(t.y,e.y)}function o4(t){return In(t.x)/In(t.y)}function l4(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class XK{constructor(){this.members=[]}add(e){Sb(this.members,e),e.scheduleRender()}remove(e){if(Cb(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let s;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){s=a;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ZK(t,e,n){let s="";const i=t.x.translate/e.x,a=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||a||o)&&(s=`translate3d(${i}px, ${a}px, ${o}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:p,skewX:m,skewY:g}=n;u&&(s=`perspective(${u}px) ${s}`),d&&(s+=`rotate(${d}deg) `),h&&(s+=`rotateX(${h}deg) `),p&&(s+=`rotateY(${p}deg) `),m&&(s+=`skewX(${m}deg) `),g&&(s+=`skewY(${g}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(s+=`scale(${l}, ${c})`),s||"none"}const Gg=["","X","Y","Z"],QK=1e3;let JK=0;function Yg(t,e,n,s){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),s&&(s[t]=0))}function sT(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=UM(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",St,!(i||a))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&sT(s)}function rT({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(o={},l=e==null?void 0:e()){this.id=JK++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(nG),this.nodes.forEach(aG),this.nodes.forEach(oG),this.nodes.forEach(sG)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new zK)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new _b),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=yM(o)&&!GH(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let d,h=0;const p=()=>this.root.updateBlockedByResize=!1;St.read(()=>{h=window.innerWidth}),t(o,()=>{const m=window.innerWidth;m!==h&&(h=m,this.root.updateBlockedByResize=!0,d&&d(),d=BK(p,250),np.hasAnimatedSinceResize&&(np.hasAnimatedSinceResize=!1,this.nodes.forEach(u4)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||hG,{onLayoutAnimationStart:x,onLayoutAnimationComplete:b}=u.getProps(),v=!this.targetLayout||!nT(this.targetLayout,m),y=!h&&p;if(this.options.layoutRoot||this.resumeFrom||y||h&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={...Ub(g,"layout"),onPlay:x,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(d,y)}else h||u4(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Vi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(lG),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&sT(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(c4);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(d4);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(iG),this.nodes.forEach(eG),this.nodes.forEach(tG)):this.nodes.forEach(d4),this.clearAllSnapshots();const l=Wn.now();un.delta=Gr(0,1e3/60,l-un.timestamp),un.timestamp=l,un.isProcessing=!0,Dg.update.process(un),Dg.preRender.process(un),Dg.render.process(un),un.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Wb.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(rG),this.sharedNodes.forEach(cG)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,St.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){St.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!In(this.snapshot.measuredBox.x)&&!In(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ut(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!tT(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&this.instance&&(l||pa(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),pG(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return Ut();const l=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(fG))){const{scroll:d}=this.root;d&&(Uo(l.x,d.offset.x),Uo(l.y,d.offset.y))}return l}removeElementScroll(o){var c;const l=Ut();if(vs(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:p}=d;d!==this.root&&h&&p.layoutScroll&&(h.wasRoot&&vs(l,o),Uo(l.x,h.offset.x),Uo(l.y,h.offset.y))}return l}applyTransform(o,l=!1){const c=Ut();vs(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Vo(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),pa(d.latestValues)&&Vo(c,d.latestValues)}return pa(this.latestValues)&&Vo(c,this.latestValues),c}removeTransform(o){const l=Ut();vs(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!pa(u.latestValues))continue;Tv(u.latestValues)&&u.updateSnapshot();const d=Ut(),h=u.measurePageBox();vs(d,h),s4(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return pa(this.latestValues)&&s4(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==un.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var p;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=un.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ut(),this.relativeTargetOrigin=Ut(),rd(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),vs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ut(),this.targetWithTransforms=Ut()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),bK(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):vs(this.target,this.layout.layoutBox),RM(this.target,this.targetDelta)):vs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ut(),this.relativeTargetOrigin=Ut(),rd(this.relativeTargetOrigin,this.target,m.target),vs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Tv(this.parent.latestValues)||OM(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var g;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===un.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;vs(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;Lq(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Ut());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(e4(this.prevProjectionDelta.x,this.projectionDelta.x),e4(this.prevProjectionDelta.y,this.projectionDelta.y)),sd(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==p||!l4(this.projectionDelta.x,this.prevProjectionDelta.x)||!l4(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Wo(),this.projectionDelta=Wo(),this.projectionDeltaWithTransform=Wo()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=Wo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=Ut(),m=c?c.source:void 0,g=this.layout?this.layout.source:void 0,x=m!==g,b=this.getStack(),v=!b||b.members.length<=1,y=!!(x&&!v&&this.options.crossfade===!0&&!this.path.some(uG));this.animationProgress=0;let w;this.mixTargetDelta=k=>{const N=k/1e3;h4(h.x,o.x,N),h4(h.y,o.y,N),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(rd(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),dG(this.relativeTarget,this.relativeTargetOrigin,p,N),w&&YK(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Ut()),vs(w,this.relativeTarget)),x&&(this.animationValues=d,VK(d,u,this.latestValues,N,y,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Vi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=St.update(()=>{np.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=yl(0)),this.currentAnimation=$K(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(QK),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&iT(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Ut();const h=In(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const p=In(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+p}vs(l,c),Vo(l,d),sd(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new XK),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&Yg("z",o,u,this.animationValues);for(let d=0;d<Gg.length;d++)Yg(`rotate${Gg[d]}`,o,u,this.animationValues),Yg(`skew${Gg[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=tp(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=tp(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!pa(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let h=ZK(this.projectionDeltaWithTransform,this.treeScale,d);c&&(h=c(d,h)),o.transform=h;const{x:p,y:m}=this.projectionDelta;o.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,u.animationValues?o.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const g in Ud){if(d[g]===void 0)continue;const{correct:x,applyTo:b,isCSSVariable:v}=Ud[g],y=h==="none"?d[g]:x(d[g],u);if(b){const w=b.length;for(let k=0;k<w;k++)o[b[k]]=y}else v?this.options.visualElement.renderState.vars[g]=y:o[g]=y}this.options.layoutId&&(o.pointerEvents=u===this?tp(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(c4),this.root.sharedNodes.clear()}}}function eG(t){t.updateLayout()}function tG(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:i}=t.layout,{animationType:a}=t.options,o=e.source!==t.layout.source;a==="size"?bs(h=>{const p=o?e.measuredBox[h]:e.layoutBox[h],m=In(p);p.min=s[h].min,p.max=p.min+m}):iT(a,e.layoutBox,s)&&bs(h=>{const p=o?e.measuredBox[h]:e.layoutBox[h],m=In(s[h]);p.max=p.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const l=Wo();sd(l,s,e.layoutBox);const c=Wo();o?sd(c,t.applyTransform(i,!0),e.measuredBox):sd(c,s,e.layoutBox);const u=!tT(l);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:m}=h;if(p&&m){const g=Ut();rd(g,e.layoutBox,p.layoutBox);const x=Ut();rd(x,s,m.layoutBox),nT(g,x)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=g,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function nG(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function sG(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function rG(t){t.clearSnapshot()}function c4(t){t.clearMeasurements()}function d4(t){t.isLayoutDirty=!1}function iG(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function u4(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function aG(t){t.resolveTargetDelta()}function oG(t){t.calcProjection()}function lG(t){t.resetSkewAndRotation()}function cG(t){t.removeLeadSnapshot()}function h4(t,e,n){t.translate=Mt(e.translate,0,n),t.scale=Mt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function p4(t,e,n,s){t.min=Mt(e.min,n.min,s),t.max=Mt(e.max,n.max,s)}function dG(t,e,n,s){p4(t.x,e.x,n.x,s),p4(t.y,e.y,n.y,s)}function uG(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const hG={duration:.45,ease:[.4,0,.1,1]},f4=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),m4=f4("applewebkit/")&&!f4("chrome/")?Math.round:Is;function g4(t){t.min=m4(t.min),t.max=m4(t.max)}function pG(t){g4(t.x),g4(t.y)}function iT(t,e,n){return t==="position"||t==="preserve-aspect"&&!yK(o4(e),o4(n),.2)}function fG(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const mG=rT({attachResizeListener:(t,e)=>Vd(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Xg={current:void 0},aT=rT({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Xg.current){const t=new mG({});t.mount(window),t.setOptions({layoutScroll:!0}),Xg.current=t}return Xg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),gG={pan:{Feature:IK},drag:{Feature:AK,ProjectionNode:aT,MeasureLayout:QM}};function x4(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=s[i];a&&St.postRender(()=>a(e,Nu(e)))}class xG extends ea{mount(){const{current:e}=this.node;e&&(this.unmount=VH(e,(n,s)=>(x4(this.node,s,"Start"),i=>x4(this.node,i,"End"))))}unmount(){}}class vG extends ea{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=bu(Vd(this.node.current,"focus",()=>this.onFocus()),Vd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function v4(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=s[i];a&&St.postRender(()=>a(e,Nu(e)))}class yG extends ea{mount(){const{current:e}=this.node;e&&(this.unmount=KH(e,(n,s)=>(v4(this.node,s,"Start"),(i,{success:a})=>v4(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const $v=new WeakMap,Zg=new WeakMap,bG=t=>{const e=$v.get(t.target);e&&e(t)},wG=t=>{t.forEach(bG)};function jG({root:t,...e}){const n=t||document;Zg.has(n)||Zg.set(n,{});const s=Zg.get(n),i=JSON.stringify(e);return s[i]||(s[i]=new IntersectionObserver(wG,{root:t,...e})),s[i]}function NG(t,e,n){const s=jG(e);return $v.set(t,n),s.observe(t),()=>{$v.delete(t),s.unobserve(t)}}const kG={some:0,all:1};class SG extends ea{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:i="some",once:a}=e,o={root:n?n.current:void 0,rootMargin:s,threshold:typeof i=="number"?i:kG[i]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),p=u?d:h;p&&p(c)};return NG(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(CG(e,n))&&this.startObserver()}unmount(){}}function CG({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const EG={inView:{Feature:SG},tap:{Feature:yG},focus:{Feature:vG},hover:{Feature:xG}},PG={layout:{ProjectionNode:aT,MeasureLayout:QM}},_G={...pK,...EG,...gG,...PG},MG=_q(_G,Uq),km=({className:t,size:e=100,delay:n=0,duration:s=6,colorFrom:i="#ffaa40",colorTo:a="#9c40ff",transition:o,style:l,reverse:c=!1,initialOffset:u=0,borderWidth:d=3})=>r.jsx("div",{className:"pointer-events-none absolute inset-0 rounded-[inherit] border-(length:--border-beam-width) border-transparent [mask-image:linear-gradient(transparent,transparent),linear-gradient(#000,#000)] [mask-composite:intersect] [mask-clip:padding-box,border-box]",style:{"--border-beam-width":`${d}px`},children:r.jsx(MG.div,{className:qF("absolute aspect-square","bg-gradient-to-l from-[var(--color-from)] via-[var(--color-to)] to-transparent",t),style:{width:e,offsetPath:`rect(0 auto auto 0 round ${e}px)`,"--color-from":i,"--color-to":a,...l},initial:{offsetDistance:`${u}%`},animate:{offsetDistance:c?[`${100-u}%`,`${-u}%`]:[`${u}%`,`${100+u}%`]},transition:{repeat:1/0,ease:"linear",duration:s,delay:-n,...o}})});/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TG=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),LG=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),y4=t=>{const e=LG(t);return e.charAt(0).toUpperCase()+e.slice(1)},oT=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),AG=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var IG={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OG=f.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:i="",children:a,iconNode:o,...l},c)=>f.createElement("svg",{ref:c,...IG,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:oT("lucide",i),...!a&&!AG(l)&&{"aria-hidden":"true"},...l},[...o.map(([u,d])=>f.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=(t,e)=>{const n=f.forwardRef(({className:s,...i},a)=>f.createElement(OG,{ref:a,iconNode:e,className:oT(`lucide-${TG(y4(t))}`,`lucide-${t}`,s),...i}));return n.displayName=y4(t),n};/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RG=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ao=De("arrow-left",RG);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DG=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],id=De("arrow-right",DG);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $G=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],dh=De("ban",$G);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FG=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],b4=De("briefcase",FG);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zG=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],w4=De("building-2",zG);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BG=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],Qg=De("building",BG);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UG=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],lT=De("calendar-clock",UG);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VG=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],wt=De("calendar",VG);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WG=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],HG=De("check",WG);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qG=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],cT=De("chevron-left",qG);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KG=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],dT=De("chevron-right",KG);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GG=[["path",{d:"M12 12H3a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h13",key:"1gdiyg"}],["path",{d:"M18 8c0-2.5-2-2.5-2-5",key:"1il607"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M21 12a1 1 0 0 1 1 1v2a1 1 0 0 1-.5.866",key:"166zjj"}],["path",{d:"M22 8c0-2.5-2-2.5-2-5",key:"1gah44"}],["path",{d:"M7 12v4",key:"jqww69"}]],YG=De("cigarette-off",GG);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XG=[["path",{d:"M17 12H3a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h14",key:"1mb5g1"}],["path",{d:"M18 8c0-2.5-2-2.5-2-5",key:"1il607"}],["path",{d:"M21 16a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"1yl5r7"}],["path",{d:"M22 8c0-2.5-2-2.5-2-5",key:"1gah44"}],["path",{d:"M7 12v4",key:"jqww69"}]],Jg=De("cigarette",XG);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Sm=De("circle-alert",ZG);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QG=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],_s=De("circle-check-big",QG);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Lc=De("circle-check",JG);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],tY=De("circle-question-mark",eY);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ho=De("circle-x",nY);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sY=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],uT=De("clock",sY);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rY=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],iY=De("dollar-sign",rY);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aY=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Wd=De("eye-off",aY);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oY=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Hd=De("eye",oY);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lY=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],j4=De("flag",lY);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cY=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],dY=De("funnel",cY);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uY=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Ac=De("graduation-cap",uY);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hY=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],N4=De("heart",hY);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pY=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],uh=De("house",pY);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],mY=De("info",fY);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gY=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],hT=De("languages",gY);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xY=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],sp=De("mail",xY);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vY=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],pT=De("map-pin",vY);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yY=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],bY=De("message-circle",yY);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wY=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],ad=De("moon",wY);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jY=[["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"M2.586 16.726A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2h6.624a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586z",key:"2d38gg"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],NY=De("octagon-x",jY);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kY=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],rp=De("party-popper",kY);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SY=[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]],of=De("paw-print",SY);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CY=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],k4=De("plane",CY);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EY=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],PY=De("plus",EY);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Y=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],MY=De("rotate-ccw",_Y);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TY=[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]],fT=De("route",TY);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LY=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ip=De("search",LY);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AY=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],qd=De("shield",AY);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IY=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],OY=De("shopping-bag",IY);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RY=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],mT=De("sparkles",RY);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DY=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],$Y=De("square-pen",DY);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FY=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],S4=De("star",FY);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zY=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],BY=De("timer",zY);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UY=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],e0=De("users",UY);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VY=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],Fv=De("utensils",VY);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WY=[["path",{d:"M8 22h8",key:"rmew8v"}],["path",{d:"M7 10h10",key:"1101jm"}],["path",{d:"M12 15v7",key:"t2xh3l"}],["path",{d:"M12 15a5 5 0 0 0 5-5c0-2-.5-4-2-8H9c-1.5 4-2 6-2 8a5 5 0 0 0 5 5Z",key:"10ffi3"}]],t0=De("wine",WY);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HY=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],zv=De("x",HY),qY=[{name:"Northern Illinois University",city:"DeKalb, IL",code:"NIU"},{name:"University of Illinois Urbana-Champaign",city:"Urbana, IL",code:"UIUC"},{name:"University of Chicago",city:"Chicago, IL",code:"UChicago"},{name:"Northwestern University",city:"Evanston, IL",code:"NU"}];function KY(){const t=pt(),[e,n]=f.useState(""),[s,i]=f.useState(!1),[a,o]=f.useState(null),[l,c]=f.useState(0),u=f.useRef(null),[d,h]=f.useState(null),p=f.useMemo(()=>{try{const b=localStorage.getItem("nr_recent_campuses");return b?JSON.parse(b):[]}catch{return[]}},[]),m=f.useMemo(()=>{const b=[...d?[d]:[],...p,...qY];if(!e.trim())return b.slice(0,6);const v=e.toLowerCase();return b.filter(y=>y.name.toLowerCase().includes(v)||y.city.toLowerCase().includes(v)).slice(0,6)},[e,p,d]);function g(b){o(b);try{const v=[b,...p.filter(y=>y.name!==b.name)].slice(0,6);localStorage.setItem("nr_recent_campuses",JSON.stringify(v))}catch{}}function x(b){m.length&&(b.key==="ArrowDown"&&(b.preventDefault(),c((l+1)%m.length)),b.key==="ArrowUp"&&(b.preventDefault(),c((l-1+m.length)%m.length)),b.key==="Enter"&&(b.preventDefault(),g(m[l])))}return f.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(()=>{h({name:"Northern Illinois University",city:"DeKalb, IL",code:"NIU"})},()=>{})},[]),r.jsx("div",{className:"mx-auto max-w-3xl px-6",children:r.jsxs("div",{className:"relative rounded-2xl border border-white/10 bg-white/[0.03] p-6 overflow-visible z-10",children:[r.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[r.jsx("span",{className:"inline-flex h-8 w-8 items-center justify-center rounded-md bg-white/10 ring-1 ring-white/15",children:r.jsx(Ac,{className:"h-4 w-4 text-white"})}),r.jsx("h3",{className:"text-xl font-semibold",children:"Select your university"})]}),r.jsx("p",{className:"text-white/70 text-sm mb-4",children:"Choose your campus to enable verified, universityonly features and a personalized experience."}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx("input",{value:e,onChange:b=>n(b.target.value),onFocus:()=>i(!0),onBlur:()=>setTimeout(()=>i(!1),150),onKeyDown:x,placeholder:"Search university","aria-label":"Search university",className:"w-full rounded-xl border border-white/15 bg-black/40 px-4 py-3 text-white placeholder-white/50 outline-none focus:border-[#2F64FF]"}),s&&r.jsx("div",{ref:u,className:"absolute left-0 right-0 mt-2 rounded-xl border border-white/10 bg-[#0E0F12] p-2 shadow-xl z-30 max-h-72 overflow-auto",children:m.length===0?r.jsx("div",{className:"px-3 py-2 text-sm text-white/60",children:"No matches"}):m.map((b,v)=>r.jsxs("button",{onMouseDown:()=>g(b),className:`w-full text-left px-3 py-2 rounded-lg text-sm ${v===l?"bg-white/10":"hover:bg-white/5"}`,"aria-selected":v===l,children:[r.jsx("div",{className:"font-medium text-white/90",children:b.name}),r.jsx("div",{className:"text-white/50 text-xs",children:b.city})]},b.name))}),r.jsxs("div",{className:"mt-3 flex flex-wrap gap-2 text-xs",children:[d&&r.jsxs("button",{onClick:()=>g(d),className:"px-2 py-1 rounded-full border border-white/15 bg-white/5 text-white/80 hover:bg-white/10",children:["Near me: ",d.code]}),r.jsx("button",{onClick:()=>n("University of "),className:"px-2 py-1 rounded-full border border-white/15 bg-white/5 text-white/80 hover:bg-white/10",children:"Top campuses"}),p.slice(0,3).map(b=>r.jsx("button",{onClick:()=>g(b),className:"px-2 py-1 rounded-full border border-white/15 bg-white/5 text-white/80 hover:bg-white/10",children:b.code||b.name.split(" ")[0]},b.name))]}),r.jsx("div",{className:"mt-2 text-xs text-white/50",children:"Type to search  Use / to navigate  Press Enter to select"})]}),r.jsx("button",{onClick:()=>t("/signup"),className:"self-start inline-flex h-12 items-center justify-center rounded-xl bg-[#2F64FF] px-6 font-semibold text-white shadow-[0_0_18px_rgba(47,100,255,0.35)] transition hover:bg-[#2958e3]",children:"Continue"})]}),a&&r.jsxs("div",{className:"mt-4 inline-flex items-center gap-2 rounded-full border border-white/15 bg-white/5 px-3 py-1 text-sm text-white/80",children:[r.jsx("span",{className:"text-white/90",children:a.name}),r.jsxs("span",{className:"text-white/50",children:[" ",a.city]})]}),r.jsx(km,{size:260,duration:5,colorFrom:"#2F64FF",colorTo:"#00D4FF",borderWidth:2})]})})}const C4="/assets/mesh-hero-BMyiDGai.png",GY="/assets/campus-arrival-CyA4Jxhv.mp4",YY="/assets/roommates-study-zzl_hTcC.jpg",XY="/assets/marketplace-moveout-DYVMWVeZ.jpg",ZY="/assets/community-events-oqPJ5IzI.jpg",QY=_e.lazy(()=>hm(()=>import("./SplineGlobe-XWaIWLtf.js"),[]));function E4(){const t=pt(),e=f.useMemo(()=>typeof window>"u"?!1:window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches,[]);f.useEffect(()=>{if(e)return;const d=new KU({lerp:.1,smoothWheel:!0});let h;const p=m=>{d.raf(m),h=requestAnimationFrame(p)};return h=requestAnimationFrame(p),()=>{h&&cancelAnimationFrame(h),d.destroy()}},[e]);const n=f.useRef(null),{scrollYProgress:s}=G$({target:n,offset:["start start","end start"]}),i=vN(s,[0,1],[0,e?0:-120]),a=vN(s,[0,1],[1,e?1:.5]),o={hidden:e?{opacity:0}:{opacity:0,y:28},show:(d=0)=>({opacity:1,y:0,transition:e?{duration:0}:{duration:.65,ease:"easeOut",delay:d*.08}})},l=f.useRef(null),[c,u]=f.useState(!1);return f.useEffect(()=>{const d=l.current;if(!d)return;const h=new IntersectionObserver(([p])=>u(p.isIntersecting),{rootMargin:"200px"});return h.observe(d),()=>h.disconnect()},[]),r.jsxs("div",{className:"body-obsidian min-h-screen",children:[r.jsx(ht,{}),r.jsxs("section",{ref:n,className:"relative min-h-[92vh] w-full overflow-hidden",style:{willChange:e?"auto":"transform"},children:[r.jsx("img",{src:C4,alt:"",className:"pointer-events-none absolute inset-0 h-full w-full object-cover opacity-25"}),r.jsx("div",{ref:l,className:"absolute inset-0 -z-0 opacity-[0.26]","aria-hidden":"true",children:!e&&c&&r.jsx(f.Suspense,{fallback:null,children:r.jsx(QY,{})})}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/35 via-black/25 to-transparent"}),r.jsxs(we.div,{style:{y:i,opacity:a},className:"relative z-10 mx-auto flex min-h-[92vh] max-w-7xl flex-col items-center justify-center px-6 text-center",children:[r.jsxs(we.h1,{variants:o,initial:"hidden",animate:"show",className:"text-balance text-5xl font-extrabold leading-tight tracking-[-0.01em] md:text-7xl",children:["Your Campus.",r.jsx("br",{className:"hidden md:block"}),"Your People.",r.jsx("br",{className:"hidden md:block"}),"Your Start in the U.S."]}),r.jsx(we.p,{variants:o,custom:1,initial:"hidden",animate:"show",className:"mt-5 max-w-2xl text-lg text-[var(--text-mid)] md:text-xl",children:"Housing, essentials, and community  all in one place, curated for your university only."}),r.jsxs(we.div,{variants:o,custom:2,initial:"hidden",animate:"show",className:"mt-10 flex flex-col items-center gap-4 sm:flex-row",children:[r.jsx("button",{onClick:()=>t("/onboarding"),className:"btn-metal",children:"Get Started"}),r.jsx("button",{onClick:()=>{var d;return(d=document.getElementById("features"))==null?void 0:d.scrollIntoView({behavior:"smooth",block:"start"})},className:"btn-ghost",children:"Explore NewRun"})]}),r.jsx(we.div,{variants:o,custom:3,initial:"hidden",animate:"show",className:"mt-12 grid w-full max-w-3xl grid-cols-1 gap-4 text-left sm:grid-cols-3",children:[["Verified","University-only network"],["Built-in","Messaging & P2P Market"],["AI","Roommate matching"]].map(([d,h],p)=>r.jsxs("div",{className:"edge-panel px-4 py-3",children:[r.jsx("div",{className:"text-[11px] uppercase tracking-widest text-[var(--text-mid)]",children:d}),r.jsx("div",{className:"text-base font-medium",children:h})]},p))})]}),r.jsx("div",{className:"pointer-events-none absolute -bottom-1 left-0 h-24 w-full bg-gradient-to-b from-transparent to-[#0B0B0C]/70"})]}),r.jsx(ZV,{}),r.jsx("section",{id:"features",className:"w-full",children:[{title:"AI Roommate Matching",desc:"Go beyond filters. NewRun considers sleep patterns, study habits, cultural fit, and budget to match you with someone you'd actually live with.",img:YY,cta:()=>t("/signup"),ctaText:"Find My Match"},{title:"Verified Housing & P2P Marketplace",desc:"University-gated listings only. Rent safely, sublet easily, and buy/sell essentials with verified students on your campus.",img:XY,cta:()=>t("/marketplace"),ctaText:"Explore Listings"},{title:"Community & Events",desc:"From airport pickups to career meetupsdiscover student clubs, events, and groups that make a new city feel like home.",img:ZY,cta:()=>t("/community"),ctaText:"See Whats On"}].map((d,h)=>r.jsxs("div",{className:`relative mx-auto grid max-w-7xl grid-cols-1 items-center gap-10 px-6 py-20 md:grid-cols-2 ${h%2===1?"md:[&>*:first-child]:order-2":""}`,children:[r.jsxs(we.div,{initial:e?{opacity:0}:{opacity:0,x:h%2===0?-28:28},whileInView:e?{opacity:1}:{opacity:1,x:0},viewport:{once:!0,margin:"-10% 0px"},transition:{duration:.6},className:"space-y-5",children:[r.jsx("h3",{className:"text-pretty text-3xl font-bold md:text-4xl",children:d.title}),r.jsx("p",{className:"text-[var(--text-mid)] md:text-lg",children:d.desc}),r.jsxs("div",{className:"flex flex-wrap gap-3",children:[r.jsx("button",{onClick:d.cta,className:"btn-metal",children:d.ctaText}),r.jsx("button",{onClick:()=>t("/onboarding"),className:"btn-ghost",children:"Chat with Us"})]})]}),r.jsxs(we.div,{initial:e?{opacity:0}:{opacity:0,scale:.98},whileInView:e?{opacity:1}:{opacity:1,scale:1},viewport:{once:!0,margin:"-10% 0px"},transition:{duration:.6},className:"edge-panel relative bg-[var(--bg-carbon)] p-3",children:[r.jsx("img",{src:d.img,alt:d.title,className:"rounded-[16px] object-cover",loading:"lazy",decoding:"async"}),r.jsx("div",{className:"pointer-events-none absolute inset-0 rounded-[18px] ring-1 ring-inset ring-white/10"})]})]},d.title))}),r.jsxs("section",{className:"relative h-[68vh] w-full overflow-visible",children:[e?r.jsx("img",{src:C4,alt:"NewRun campus life",className:"absolute inset-0 h-full w-full object-cover opacity-60",loading:"lazy",decoding:"async"}):r.jsx("video",{className:"absolute inset-0 h-full w-full object-cover opacity-60",src:GY,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,preload:"metadata"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/45 via-black/35 to-[#0b0c0f]"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#0b0c0f] via-transparent to-transparent"}),r.jsxs(we.div,{initial:{opacity:0,y:18},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.65},className:"relative z-10 mx-auto flex h-full max-w-5xl flex-col items-center justify-center px-6 text-center",children:[r.jsx("h3",{className:"text-balance text-4xl font-bold md:text-5xl mb-2",children:"Start your journey now  its free."}),r.jsx("p",{className:"max-w-2xl text-white/80 mb-6",children:"Join a verified, university-only community. Pick your campus to get a personalized start."}),r.jsx("div",{className:"w-full",children:r.jsx(KY,{})})]})]}),r.jsx(Oa,{})]})}function Rr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gT(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}/*!
 * GSAP 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var cs={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},wl={duration:.5,overwrite:!1,delay:0},tw,pn,kt,Ms=1e8,ut=1/Ms,Bv=Math.PI*2,JY=Bv/4,eX=0,xT=Math.sqrt,tX=Math.cos,nX=Math.sin,on=function(e){return typeof e=="string"},zt=function(e){return typeof e=="function"},Xr=function(e){return typeof e=="number"},nw=function(e){return typeof e>"u"},Pr=function(e){return typeof e=="object"},Xn=function(e){return e!==!1},sw=function(){return typeof window<"u"},hh=function(e){return zt(e)||on(e)},vT=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},En=Array.isArray,Uv=/(?:-?\.?\d|\.)+/gi,yT=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Ho=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,n0=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,bT=/[+-]=-?[.\d]+/,wT=/[^,'"\[\]\s]+/gi,sX=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Pt,pr,Vv,rw,hs={},lf={},jT,NT=function(e){return(lf=jl(e,hs))&&es},iw=function(e,n){return console.warn("Invalid property",e,"set to",n,"Missing plugin? gsap.registerPlugin()")},Kd=function(e,n){return!n&&console.warn(e)},kT=function(e,n){return e&&(hs[e]=n)&&lf&&(lf[e]=n)||hs},Gd=function(){return 0},rX={suppressEvents:!0,isStart:!0,kill:!1},ap={suppressEvents:!0,kill:!1},iX={suppressEvents:!0},aw={},Di=[],Wv={},ST,ss={},s0={},P4=30,op=[],ow="",lw=function(e){var n=e[0],s,i;if(Pr(n)||zt(n)||(e=[e]),!(s=(n._gsap||{}).harness)){for(i=op.length;i--&&!op[i].targetTest(n););s=op[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new YT(e[i],s)))||e.splice(i,1);return e},$a=function(e){return e._gsap||lw(Ts(e))[0]._gsap},CT=function(e,n,s){return(s=e[n])&&zt(s)?e[n]():nw(s)&&e.getAttribute&&e.getAttribute(n)||s},Zn=function(e,n){return(e=e.split(",")).forEach(n)||e},Vt=function(e){return Math.round(e*1e5)/1e5||0},Gt=function(e){return Math.round(e*1e7)/1e7||0},rl=function(e,n){var s=n.charAt(0),i=parseFloat(n.substr(2));return e=parseFloat(e),s==="+"?e+i:s==="-"?e-i:s==="*"?e*i:e/i},aX=function(e,n){for(var s=n.length,i=0;e.indexOf(n[i])<0&&++i<s;);return i<s},cf=function(){var e=Di.length,n=Di.slice(0),s,i;for(Wv={},Di.length=0,s=0;s<e;s++)i=n[s],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},cw=function(e){return!!(e._initted||e._startAt||e.add)},ET=function(e,n,s,i){Di.length&&!pn&&cf(),e.render(n,s,!!(pn&&n<0&&cw(e))),Di.length&&!pn&&cf()},PT=function(e){var n=parseFloat(e);return(n||n===0)&&(e+"").match(wT).length<2?n:on(e)?e.trim():e},_T=function(e){return e},ps=function(e,n){for(var s in n)s in e||(e[s]=n[s]);return e},oX=function(e){return function(n,s){for(var i in s)i in n||i==="duration"&&e||i==="ease"||(n[i]=s[i])}},jl=function(e,n){for(var s in n)e[s]=n[s];return e},_4=function t(e,n){for(var s in n)s!=="__proto__"&&s!=="constructor"&&s!=="prototype"&&(e[s]=Pr(n[s])?t(e[s]||(e[s]={}),n[s]):n[s]);return e},df=function(e,n){var s={},i;for(i in e)i in n||(s[i]=e[i]);return s},od=function(e){var n=e.parent||Pt,s=e.keyframes?oX(En(e.keyframes)):ps;if(Xn(e.inherit))for(;n;)s(e,n.vars.defaults),n=n.parent||n._dp;return e},lX=function(e,n){for(var s=e.length,i=s===n.length;i&&s--&&e[s]===n[s];);return s<0},MT=function(e,n,s,i,a){var o=e[i],l;if(a)for(l=n[a];o&&o[a]>l;)o=o._prev;return o?(n._next=o._next,o._next=n):(n._next=e[s],e[s]=n),n._next?n._next._prev=n:e[i]=n,n._prev=o,n.parent=n._dp=e,n},Cm=function(e,n,s,i){s===void 0&&(s="_first"),i===void 0&&(i="_last");var a=n._prev,o=n._next;a?a._next=o:e[s]===n&&(e[s]=o),o?o._prev=a:e[i]===n&&(e[i]=a),n._next=n._prev=n.parent=null},Hi=function(e,n){e.parent&&(!n||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Fa=function(e,n){if(e&&(!n||n._end>e._dur||n._start<0))for(var s=e;s;)s._dirty=1,s=s.parent;return e},cX=function(e){for(var n=e.parent;n&&n.parent;)n._dirty=1,n.totalDuration(),n=n.parent;return e},Hv=function(e,n,s,i){return e._startAt&&(pn?e._startAt.revert(ap):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(n,!0,i))},dX=function t(e){return!e||e._ts&&t(e.parent)},M4=function(e){return e._repeat?Nl(e._tTime,e=e.duration()+e._rDelay)*e:0},Nl=function(e,n){var s=Math.floor(e=Gt(e/n));return e&&s===e?s-1:s},uf=function(e,n){return(e-n._start)*n._ts+(n._ts>=0?0:n._dirty?n.totalDuration():n._tDur)},Em=function(e){return e._end=Gt(e._start+(e._tDur/Math.abs(e._ts||e._rts||ut)||0))},Pm=function(e,n){var s=e._dp;return s&&s.smoothChildTiming&&e._ts&&(e._start=Gt(s._time-(e._ts>0?n/e._ts:((e._dirty?e.totalDuration():e._tDur)-n)/-e._ts)),Em(e),s._dirty||Fa(s,e)),e},TT=function(e,n){var s;if((n._time||!n._dur&&n._initted||n._start<e._time&&(n._dur||!n.add))&&(s=uf(e.rawTime(),n),(!n._dur||ku(0,n.totalDuration(),s)-n._tTime>ut)&&n.render(s,!0)),Fa(e,n)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(s=e;s._dp;)s.rawTime()>=0&&s.totalTime(s._tTime),s=s._dp;e._zTime=-ut}},gr=function(e,n,s,i){return n.parent&&Hi(n),n._start=Gt((Xr(s)?s:s||e!==Pt?ws(e,s,n):e._time)+n._delay),n._end=Gt(n._start+(n.totalDuration()/Math.abs(n.timeScale())||0)),MT(e,n,"_first","_last",e._sort?"_start":0),qv(n)||(e._recent=n),i||TT(e,n),e._ts<0&&Pm(e,e._tTime),e},LT=function(e,n){return(hs.ScrollTrigger||iw("scrollTrigger",n))&&hs.ScrollTrigger.create(n,e)},AT=function(e,n,s,i,a){if(uw(e,n,a),!e._initted)return 1;if(!s&&e._pt&&!pn&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&ST!==is.frame)return Di.push(e),e._lazy=[a,i],1},uX=function t(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||t(n))},qv=function(e){var n=e.data;return n==="isFromStart"||n==="isStart"},hX=function(e,n,s,i){var a=e.ratio,o=n<0||!n&&(!e._start&&uX(e)&&!(!e._initted&&qv(e))||(e._ts<0||e._dp._ts<0)&&!qv(e))?0:1,l=e._rDelay,c=0,u,d,h;if(l&&e._repeat&&(c=ku(0,e._tDur,n),d=Nl(c,l),e._yoyo&&d&1&&(o=1-o),d!==Nl(e._tTime,l)&&(a=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==a||pn||i||e._zTime===ut||!n&&e._zTime){if(!e._initted&&AT(e,n,i,s,c))return;for(h=e._zTime,e._zTime=n||(s?ut:0),s||(s=n&&!h),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=c,u=e._pt;u;)u.r(o,u.d),u=u._next;n<0&&Hv(e,n,s,!0),e._onUpdate&&!s&&os(e,"onUpdate"),c&&e._repeat&&!s&&e.parent&&os(e,"onRepeat"),(n>=e._tDur||n<0)&&e.ratio===o&&(o&&Hi(e,1),!s&&!pn&&(os(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=n)},pX=function(e,n,s){var i;if(s>n)for(i=e._first;i&&i._start<=s;){if(i.data==="isPause"&&i._start>n)return i;i=i._next}else for(i=e._last;i&&i._start>=s;){if(i.data==="isPause"&&i._start<n)return i;i=i._prev}},kl=function(e,n,s,i){var a=e._repeat,o=Gt(n)||0,l=e._tTime/e._tDur;return l&&!i&&(e._time*=o/e._dur),e._dur=o,e._tDur=a?a<0?1e10:Gt(o*(a+1)+e._rDelay*a):o,l>0&&!i&&Pm(e,e._tTime=e._tDur*l),e.parent&&Em(e),s||Fa(e.parent,e),e},T4=function(e){return e instanceof An?Fa(e):kl(e,e._dur)},fX={_start:0,endTime:Gd,totalDuration:Gd},ws=function t(e,n,s){var i=e.labels,a=e._recent||fX,o=e.duration()>=Ms?a.endTime(!1):e._dur,l,c,u;return on(n)&&(isNaN(n)||n in i)?(c=n.charAt(0),u=n.substr(-1)==="%",l=n.indexOf("="),c==="<"||c===">"?(l>=0&&(n=n.replace(/=/,"")),(c==="<"?a._start:a.endTime(a._repeat>=0))+(parseFloat(n.substr(1))||0)*(u?(l<0?a:s).totalDuration()/100:1)):l<0?(n in i||(i[n]=o),i[n]):(c=parseFloat(n.charAt(l-1)+n.substr(l+1)),u&&s&&(c=c/100*(En(s)?s[0]:s).totalDuration()),l>1?t(e,n.substr(0,l-1),s)+c:o+c)):n==null?o:+n},ld=function(e,n,s){var i=Xr(n[1]),a=(i?2:1)+(e<2?0:1),o=n[a],l,c;if(i&&(o.duration=n[1]),o.parent=s,e){for(l=o,c=s;c&&!("immediateRender"in l);)l=c.vars.defaults||{},c=Xn(c.vars.inherit)&&c.parent;o.immediateRender=Xn(l.immediateRender),e<2?o.runBackwards=1:o.startAt=n[a-1]}return new Kt(n[0],o,n[a+1])},ta=function(e,n){return e||e===0?n(e):n},ku=function(e,n,s){return s<e?e:s>n?n:s},kn=function(e,n){return!on(e)||!(n=sX.exec(e))?"":n[1]},mX=function(e,n,s){return ta(s,function(i){return ku(e,n,i)})},Kv=[].slice,IT=function(e,n){return e&&Pr(e)&&"length"in e&&(!n&&!e.length||e.length-1 in e&&Pr(e[0]))&&!e.nodeType&&e!==pr},gX=function(e,n,s){return s===void 0&&(s=[]),e.forEach(function(i){var a;return on(i)&&!n||IT(i,1)?(a=s).push.apply(a,Ts(i)):s.push(i)})||s},Ts=function(e,n,s){return kt&&!n&&kt.selector?kt.selector(e):on(e)&&!s&&(Vv||!Sl())?Kv.call((n||rw).querySelectorAll(e),0):En(e)?gX(e,s):IT(e)?Kv.call(e,0):e?[e]:[]},Gv=function(e){return e=Ts(e)[0]||Kd("Invalid scope")||{},function(n){var s=e.current||e.nativeElement||e;return Ts(n,s.querySelectorAll?s:s===e?Kd("Invalid scope")||rw.createElement("div"):e)}},OT=function(e){return e.sort(function(){return .5-Math.random()})},RT=function(e){if(zt(e))return e;var n=Pr(e)?e:{each:e},s=za(n.ease),i=n.from||0,a=parseFloat(n.base)||0,o={},l=i>0&&i<1,c=isNaN(i)||l,u=n.axis,d=i,h=i;return on(i)?d=h={center:.5,edges:.5,end:1}[i]||0:!l&&c&&(d=i[0],h=i[1]),function(p,m,g){var x=(g||n).length,b=o[x],v,y,w,k,N,S,M,j,C;if(!b){if(C=n.grid==="auto"?0:(n.grid||[1,Ms])[1],!C){for(M=-Ms;M<(M=g[C++].getBoundingClientRect().left)&&C<x;);C<x&&C--}for(b=o[x]=[],v=c?Math.min(C,x)*d-.5:i%C,y=C===Ms?0:c?x*h/C-.5:i/C|0,M=0,j=Ms,S=0;S<x;S++)w=S%C-v,k=y-(S/C|0),b[S]=N=u?Math.abs(u==="y"?k:w):xT(w*w+k*k),N>M&&(M=N),N<j&&(j=N);i==="random"&&OT(b),b.max=M-j,b.min=j,b.v=x=(parseFloat(n.amount)||parseFloat(n.each)*(C>x?x-1:u?u==="y"?x/C:C:Math.max(C,x/C))||0)*(i==="edges"?-1:1),b.b=x<0?a-x:a,b.u=kn(n.amount||n.each)||0,s=s&&x<0?qT(s):s}return x=(b[p]-b.min)/b.max||0,Gt(b.b+(s?s(x):x)*b.v)+b.u}},Yv=function(e){var n=Math.pow(10,((e+"").split(".")[1]||"").length);return function(s){var i=Gt(Math.round(parseFloat(s)/e)*e*n);return(i-i%1)/n+(Xr(s)?0:kn(s))}},DT=function(e,n){var s=En(e),i,a;return!s&&Pr(e)&&(i=s=e.radius||Ms,e.values?(e=Ts(e.values),(a=!Xr(e[0]))&&(i*=i)):e=Yv(e.increment)),ta(n,s?zt(e)?function(o){return a=e(o),Math.abs(a-o)<=i?a:o}:function(o){for(var l=parseFloat(a?o.x:o),c=parseFloat(a?o.y:0),u=Ms,d=0,h=e.length,p,m;h--;)a?(p=e[h].x-l,m=e[h].y-c,p=p*p+m*m):p=Math.abs(e[h]-l),p<u&&(u=p,d=h);return d=!i||u<=i?e[d]:o,a||d===o||Xr(o)?d:d+kn(o)}:Yv(e))},$T=function(e,n,s,i){return ta(En(e)?!n:s===!0?!!(s=0):!i,function(){return En(e)?e[~~(Math.random()*e.length)]:(s=s||1e-5)&&(i=s<1?Math.pow(10,(s+"").length-2):1)&&Math.floor(Math.round((e-s/2+Math.random()*(n-e+s*.99))/s)*s*i)/i})},xX=function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return function(i){return n.reduce(function(a,o){return o(a)},i)}},vX=function(e,n){return function(s){return e(parseFloat(s))+(n||kn(s))}},yX=function(e,n,s){return zT(e,n,0,1,s)},FT=function(e,n,s){return ta(s,function(i){return e[~~n(i)]})},bX=function t(e,n,s){var i=n-e;return En(e)?FT(e,t(0,e.length),n):ta(s,function(a){return(i+(a-e)%i)%i+e})},wX=function t(e,n,s){var i=n-e,a=i*2;return En(e)?FT(e,t(0,e.length-1),n):ta(s,function(o){return o=(a+(o-e)%a)%a||0,e+(o>i?a-o:o)})},Yd=function(e){for(var n=0,s="",i,a,o,l;~(i=e.indexOf("random(",n));)o=e.indexOf(")",i),l=e.charAt(i+7)==="[",a=e.substr(i+7,o-i-7).match(l?wT:Uv),s+=e.substr(n,i-n)+$T(l?a:+a[0],l?0:+a[1],+a[2]||1e-5),n=o+1;return s+e.substr(n,e.length-n)},zT=function(e,n,s,i,a){var o=n-e,l=i-s;return ta(a,function(c){return s+((c-e)/o*l||0)})},jX=function t(e,n,s,i){var a=isNaN(e+n)?0:function(m){return(1-m)*e+m*n};if(!a){var o=on(e),l={},c,u,d,h,p;if(s===!0&&(i=1)&&(s=null),o)e={p:e},n={p:n};else if(En(e)&&!En(n)){for(d=[],h=e.length,p=h-2,u=1;u<h;u++)d.push(t(e[u-1],e[u]));h--,a=function(g){g*=h;var x=Math.min(p,~~g);return d[x](g-x)},s=n}else i||(e=jl(En(e)?[]:{},e));if(!d){for(c in n)dw.call(l,e,c,"get",n[c]);a=function(g){return fw(g,l)||(o?e.p:e)}}}return ta(s,a)},L4=function(e,n,s){var i=e.labels,a=Ms,o,l,c;for(o in i)l=i[o]-n,l<0==!!s&&l&&a>(l=Math.abs(l))&&(c=o,a=l);return c},os=function(e,n,s){var i=e.vars,a=i[n],o=kt,l=e._ctx,c,u,d;if(a)return c=i[n+"Params"],u=i.callbackScope||e,s&&Di.length&&cf(),l&&(kt=l),d=c?a.apply(u,c):a.call(u),kt=o,d},Ic=function(e){return Hi(e),e.scrollTrigger&&e.scrollTrigger.kill(!!pn),e.progress()<1&&os(e,"onInterrupt"),e},qo,BT=[],UT=function(e){if(e)if(e=!e.name&&e.default||e,sw()||e.headless){var n=e.name,s=zt(e),i=n&&!s&&e.init?function(){this._props=[]}:e,a={init:Gd,render:fw,add:dw,kill:$X,modifier:DX,rawVars:0},o={targetTest:0,get:0,getSetter:pw,aliases:{},register:0};if(Sl(),e!==i){if(ss[n])return;ps(i,ps(df(e,a),o)),jl(i.prototype,jl(a,df(e,o))),ss[i.prop=n]=i,e.targetTest&&(op.push(i),aw[n]=1),n=(n==="css"?"CSS":n.charAt(0).toUpperCase()+n.substr(1))+"Plugin"}kT(n,i),e.register&&e.register(es,i,Qn)}else BT.push(e)},dt=255,Oc={aqua:[0,dt,dt],lime:[0,dt,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,dt],navy:[0,0,128],white:[dt,dt,dt],olive:[128,128,0],yellow:[dt,dt,0],orange:[dt,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[dt,0,0],pink:[dt,192,203],cyan:[0,dt,dt],transparent:[dt,dt,dt,0]},r0=function(e,n,s){return e+=e<0?1:e>1?-1:0,(e*6<1?n+(s-n)*e*6:e<.5?s:e*3<2?n+(s-n)*(2/3-e)*6:n)*dt+.5|0},VT=function(e,n,s){var i=e?Xr(e)?[e>>16,e>>8&dt,e&dt]:0:Oc.black,a,o,l,c,u,d,h,p,m,g;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Oc[e])i=Oc[e];else if(e.charAt(0)==="#"){if(e.length<6&&(a=e.charAt(1),o=e.charAt(2),l=e.charAt(3),e="#"+a+a+o+o+l+l+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&dt,i&dt,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&dt,e&dt]}else if(e.substr(0,3)==="hsl"){if(i=g=e.match(Uv),!n)c=+i[0]%360/360,u=+i[1]/100,d=+i[2]/100,o=d<=.5?d*(u+1):d+u-d*u,a=d*2-o,i.length>3&&(i[3]*=1),i[0]=r0(c+1/3,a,o),i[1]=r0(c,a,o),i[2]=r0(c-1/3,a,o);else if(~e.indexOf("="))return i=e.match(yT),s&&i.length<4&&(i[3]=1),i}else i=e.match(Uv)||Oc.transparent;i=i.map(Number)}return n&&!g&&(a=i[0]/dt,o=i[1]/dt,l=i[2]/dt,h=Math.max(a,o,l),p=Math.min(a,o,l),d=(h+p)/2,h===p?c=u=0:(m=h-p,u=d>.5?m/(2-h-p):m/(h+p),c=h===a?(o-l)/m+(o<l?6:0):h===o?(l-a)/m+2:(a-o)/m+4,c*=60),i[0]=~~(c+.5),i[1]=~~(u*100+.5),i[2]=~~(d*100+.5)),s&&i.length<4&&(i[3]=1),i},WT=function(e){var n=[],s=[],i=-1;return e.split($i).forEach(function(a){var o=a.match(Ho)||[];n.push.apply(n,o),s.push(i+=o.length+1)}),n.c=s,n},A4=function(e,n,s){var i="",a=(e+i).match($i),o=n?"hsla(":"rgba(",l=0,c,u,d,h;if(!a)return e;if(a=a.map(function(p){return(p=VT(p,n,1))&&o+(n?p[0]+","+p[1]+"%,"+p[2]+"%,"+p[3]:p.join(","))+")"}),s&&(d=WT(e),c=s.c,c.join(i)!==d.c.join(i)))for(u=e.replace($i,"1").split(Ho),h=u.length-1;l<h;l++)i+=u[l]+(~c.indexOf(l)?a.shift()||o+"0,0,0,0)":(d.length?d:a.length?a:s).shift());if(!u)for(u=e.split($i),h=u.length-1;l<h;l++)i+=u[l]+a[l];return i+u[h]},$i=function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Oc)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),NX=/hsl[a]?\(/,HT=function(e){var n=e.join(" "),s;if($i.lastIndex=0,$i.test(n))return s=NX.test(n),e[1]=A4(e[1],s),e[0]=A4(e[0],s,WT(e[1])),!0},Xd,is=function(){var t=Date.now,e=500,n=33,s=t(),i=s,a=1e3/240,o=a,l=[],c,u,d,h,p,m,g=function x(b){var v=t()-i,y=b===!0,w,k,N,S;if((v>e||v<0)&&(s+=v-n),i+=v,N=i-s,w=N-o,(w>0||y)&&(S=++h.frame,p=N-h.time*1e3,h.time=N=N/1e3,o+=w+(w>=a?4:a-w),k=1),y||(c=u(x)),k)for(m=0;m<l.length;m++)l[m](N,p,S,b)};return h={time:0,frame:0,tick:function(){g(!0)},deltaRatio:function(b){return p/(1e3/(b||60))},wake:function(){jT&&(!Vv&&sw()&&(pr=Vv=window,rw=pr.document||{},hs.gsap=es,(pr.gsapVersions||(pr.gsapVersions=[])).push(es.version),NT(lf||pr.GreenSockGlobals||!pr.gsap&&pr||{}),BT.forEach(UT)),d=typeof requestAnimationFrame<"u"&&requestAnimationFrame,c&&h.sleep(),u=d||function(b){return setTimeout(b,o-h.time*1e3+1|0)},Xd=1,g(2))},sleep:function(){(d?cancelAnimationFrame:clearTimeout)(c),Xd=0,u=Gd},lagSmoothing:function(b,v){e=b||1/0,n=Math.min(v||33,e)},fps:function(b){a=1e3/(b||240),o=h.time*1e3+a},add:function(b,v,y){var w=v?function(k,N,S,M){b(k,N,S,M),h.remove(w)}:b;return h.remove(b),l[y?"unshift":"push"](w),Sl(),w},remove:function(b,v){~(v=l.indexOf(b))&&l.splice(v,1)&&m>=v&&m--},_listeners:l},h}(),Sl=function(){return!Xd&&is.wake()},Qe={},kX=/^[\d.\-M][\d.\-,\s]/,SX=/["']/g,CX=function(e){for(var n={},s=e.substr(1,e.length-3).split(":"),i=s[0],a=1,o=s.length,l,c,u;a<o;a++)c=s[a],l=a!==o-1?c.lastIndexOf(","):c.length,u=c.substr(0,l),n[i]=isNaN(u)?u.replace(SX,"").trim():+u,i=c.substr(l+1).trim();return n},EX=function(e){var n=e.indexOf("(")+1,s=e.indexOf(")"),i=e.indexOf("(",n);return e.substring(n,~i&&i<s?e.indexOf(")",s+1):s)},PX=function(e){var n=(e+"").split("("),s=Qe[n[0]];return s&&n.length>1&&s.config?s.config.apply(null,~e.indexOf("{")?[CX(n[1])]:EX(e).split(",").map(PT)):Qe._CE&&kX.test(e)?Qe._CE("",e):s},qT=function(e){return function(n){return 1-e(1-n)}},KT=function t(e,n){for(var s=e._first,i;s;)s instanceof An?t(s,n):s.vars.yoyoEase&&(!s._yoyo||!s._repeat)&&s._yoyo!==n&&(s.timeline?t(s.timeline,n):(i=s._ease,s._ease=s._yEase,s._yEase=i,s._yoyo=n)),s=s._next},za=function(e,n){return e&&(zt(e)?e:Qe[e]||PX(e))||n},oo=function(e,n,s,i){s===void 0&&(s=function(c){return 1-n(1-c)}),i===void 0&&(i=function(c){return c<.5?n(c*2)/2:1-n((1-c)*2)/2});var a={easeIn:n,easeOut:s,easeInOut:i},o;return Zn(e,function(l){Qe[l]=hs[l]=a,Qe[o=l.toLowerCase()]=s;for(var c in a)Qe[o+(c==="easeIn"?".in":c==="easeOut"?".out":".inOut")]=Qe[l+"."+c]=a[c]}),a},GT=function(e){return function(n){return n<.5?(1-e(1-n*2))/2:.5+e((n-.5)*2)/2}},i0=function t(e,n,s){var i=n>=1?n:1,a=(s||(e?.3:.45))/(n<1?n:1),o=a/Bv*(Math.asin(1/i)||0),l=function(d){return d===1?1:i*Math.pow(2,-10*d)*nX((d-o)*a)+1},c=e==="out"?l:e==="in"?function(u){return 1-l(1-u)}:GT(l);return a=Bv/a,c.config=function(u,d){return t(e,u,d)},c},a0=function t(e,n){n===void 0&&(n=1.70158);var s=function(o){return o?--o*o*((n+1)*o+n)+1:0},i=e==="out"?s:e==="in"?function(a){return 1-s(1-a)}:GT(s);return i.config=function(a){return t(e,a)},i};Zn("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var n=e<5?e+1:e;oo(t+",Power"+(n-1),e?function(s){return Math.pow(s,n)}:function(s){return s},function(s){return 1-Math.pow(1-s,n)},function(s){return s<.5?Math.pow(s*2,n)/2:1-Math.pow((1-s)*2,n)/2})});Qe.Linear.easeNone=Qe.none=Qe.Linear.easeIn;oo("Elastic",i0("in"),i0("out"),i0());(function(t,e){var n=1/e,s=2*n,i=2.5*n,a=function(l){return l<n?t*l*l:l<s?t*Math.pow(l-1.5/e,2)+.75:l<i?t*(l-=2.25/e)*l+.9375:t*Math.pow(l-2.625/e,2)+.984375};oo("Bounce",function(o){return 1-a(1-o)},a)})(7.5625,2.75);oo("Expo",function(t){return Math.pow(2,10*(t-1))*t+t*t*t*t*t*t*(1-t)});oo("Circ",function(t){return-(xT(1-t*t)-1)});oo("Sine",function(t){return t===1?1:-tX(t*JY)+1});oo("Back",a0("in"),a0("out"),a0());Qe.SteppedEase=Qe.steps=hs.SteppedEase={config:function(e,n){e===void 0&&(e=1);var s=1/e,i=e+(n?0:1),a=n?1:0,o=1-ut;return function(l){return((i*ku(0,o,l)|0)+a)*s}}};wl.ease=Qe["quad.out"];Zn("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return ow+=t+","+t+"Params,"});var YT=function(e,n){this.id=eX++,e._gsap=this,this.target=e,this.harness=n,this.get=n?n.get:CT,this.set=n?n.getSetter:pw},Zd=function(){function t(n){this.vars=n,this._delay=+n.delay||0,(this._repeat=n.repeat===1/0?-2:n.repeat||0)&&(this._rDelay=n.repeatDelay||0,this._yoyo=!!n.yoyo||!!n.yoyoEase),this._ts=1,kl(this,+n.duration,1,1),this.data=n.data,kt&&(this._ctx=kt,kt.data.push(this)),Xd||is.wake()}var e=t.prototype;return e.delay=function(s){return s||s===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+s-this._delay),this._delay=s,this):this._delay},e.duration=function(s){return arguments.length?this.totalDuration(this._repeat>0?s+(s+this._rDelay)*this._repeat:s):this.totalDuration()&&this._dur},e.totalDuration=function(s){return arguments.length?(this._dirty=0,kl(this,this._repeat<0?s:(s-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(s,i){if(Sl(),!arguments.length)return this._tTime;var a=this._dp;if(a&&a.smoothChildTiming&&this._ts){for(Pm(this,s),!a._dp||a.parent||TT(a,this);a&&a.parent;)a.parent._time!==a._start+(a._ts>=0?a._tTime/a._ts:(a.totalDuration()-a._tTime)/-a._ts)&&a.totalTime(a._tTime,!0),a=a.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&s<this._tDur||this._ts<0&&s>0||!this._tDur&&!s)&&gr(this._dp,this,this._start-this._delay)}return(this._tTime!==s||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===ut||!s&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=s),ET(this,s,i)),this},e.time=function(s,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),s+M4(this))%(this._dur+this._rDelay)||(s?this._dur:0),i):this._time},e.totalProgress=function(s,i){return arguments.length?this.totalTime(this.totalDuration()*s,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(s,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-s:s)+M4(this),i):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(s,i){var a=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(s-1)*a,i):this._repeat?Nl(this._tTime,a)+1:1},e.timeScale=function(s,i){if(!arguments.length)return this._rts===-ut?0:this._rts;if(this._rts===s)return this;var a=this.parent&&this._ts?uf(this.parent._time,this):this._tTime;return this._rts=+s||0,this._ts=this._ps||s===-ut?0:this._rts,this.totalTime(ku(-Math.abs(this._delay),this.totalDuration(),a),i!==!1),Em(this),cX(this)},e.paused=function(s){return arguments.length?(this._ps!==s&&(this._ps=s,s?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Sl(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==ut&&(this._tTime-=ut)))),this):this._ps},e.startTime=function(s){if(arguments.length){this._start=s;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&gr(i,this,s-this._delay),this}return this._start},e.endTime=function(s){return this._start+(Xn(s)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(s){var i=this.parent||this._dp;return i?s&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?uf(i.rawTime(s),this):this._tTime:this._tTime},e.revert=function(s){s===void 0&&(s=iX);var i=pn;return pn=s,cw(this)&&(this.timeline&&this.timeline.revert(s),this.totalTime(-.01,s.suppressEvents)),this.data!=="nested"&&s.kill!==!1&&this.kill(),pn=i,this},e.globalTime=function(s){for(var i=this,a=arguments.length?s:i.rawTime();i;)a=i._start+a/(Math.abs(i._ts)||1),i=i._dp;return!this.parent&&this._sat?this._sat.globalTime(s):a},e.repeat=function(s){return arguments.length?(this._repeat=s===1/0?-2:s,T4(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(s){if(arguments.length){var i=this._time;return this._rDelay=s,T4(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(s){return arguments.length?(this._yoyo=s,this):this._yoyo},e.seek=function(s,i){return this.totalTime(ws(this,s),Xn(i))},e.restart=function(s,i){return this.play().totalTime(s?-this._delay:0,Xn(i)),this._dur||(this._zTime=-ut),this},e.play=function(s,i){return s!=null&&this.seek(s,i),this.reversed(!1).paused(!1)},e.reverse=function(s,i){return s!=null&&this.seek(s||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(s,i){return s!=null&&this.seek(s,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(s){return arguments.length?(!!s!==this.reversed()&&this.timeScale(-this._rts||(s?-ut:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-ut,this},e.isActive=function(){var s=this.parent||this._dp,i=this._start,a;return!!(!s||this._ts&&this._initted&&s.isActive()&&(a=s.rawTime(!0))>=i&&a<this.endTime(!0)-ut)},e.eventCallback=function(s,i,a){var o=this.vars;return arguments.length>1?(i?(o[s]=i,a&&(o[s+"Params"]=a),s==="onUpdate"&&(this._onUpdate=i)):delete o[s],this):o[s]},e.then=function(s){var i=this;return new Promise(function(a){var o=zt(s)?s:_T,l=function(){var u=i.then;i.then=null,zt(o)&&(o=o(i))&&(o.then||o===i)&&(i.then=u),a(o),i.then=u};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?l():i._prom=l})},e.kill=function(){Ic(this)},t}();ps(Zd.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-ut,_prom:0,_ps:!1,_rts:1});var An=function(t){gT(e,t);function e(s,i){var a;return s===void 0&&(s={}),a=t.call(this,s)||this,a.labels={},a.smoothChildTiming=!!s.smoothChildTiming,a.autoRemoveChildren=!!s.autoRemoveChildren,a._sort=Xn(s.sortChildren),Pt&&gr(s.parent||Pt,Rr(a),i),s.reversed&&a.reverse(),s.paused&&a.paused(!0),s.scrollTrigger&&LT(Rr(a),s.scrollTrigger),a}var n=e.prototype;return n.to=function(i,a,o){return ld(0,arguments,this),this},n.from=function(i,a,o){return ld(1,arguments,this),this},n.fromTo=function(i,a,o,l){return ld(2,arguments,this),this},n.set=function(i,a,o){return a.duration=0,a.parent=this,od(a).repeatDelay||(a.repeat=0),a.immediateRender=!!a.immediateRender,new Kt(i,a,ws(this,o),1),this},n.call=function(i,a,o){return gr(this,Kt.delayedCall(0,i,a),o)},n.staggerTo=function(i,a,o,l,c,u,d){return o.duration=a,o.stagger=o.stagger||l,o.onComplete=u,o.onCompleteParams=d,o.parent=this,new Kt(i,o,ws(this,c)),this},n.staggerFrom=function(i,a,o,l,c,u,d){return o.runBackwards=1,od(o).immediateRender=Xn(o.immediateRender),this.staggerTo(i,a,o,l,c,u,d)},n.staggerFromTo=function(i,a,o,l,c,u,d,h){return l.startAt=o,od(l).immediateRender=Xn(l.immediateRender),this.staggerTo(i,a,l,c,u,d,h)},n.render=function(i,a,o){var l=this._time,c=this._dirty?this.totalDuration():this._tDur,u=this._dur,d=i<=0?0:Gt(i),h=this._zTime<0!=i<0&&(this._initted||!u),p,m,g,x,b,v,y,w,k,N,S,M;if(this!==Pt&&d>c&&i>=0&&(d=c),d!==this._tTime||o||h){if(l!==this._time&&u&&(d+=this._time-l,i+=this._time-l),p=d,k=this._start,w=this._ts,v=!w,h&&(u||(l=this._zTime),(i||!a)&&(this._zTime=i)),this._repeat){if(S=this._yoyo,b=u+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(b*100+i,a,o);if(p=Gt(d%b),d===c?(x=this._repeat,p=u):(N=Gt(d/b),x=~~N,x&&x===N&&(p=u,x--),p>u&&(p=u)),N=Nl(this._tTime,b),!l&&this._tTime&&N!==x&&this._tTime-N*b-this._dur<=0&&(N=x),S&&x&1&&(p=u-p,M=1),x!==N&&!this._lock){var j=S&&N&1,C=j===(S&&x&1);if(x<N&&(j=!j),l=j?0:d%u?u:d,this._lock=1,this.render(l||(M?0:Gt(x*b)),a,!u)._lock=0,this._tTime=d,!a&&this.parent&&os(this,"onRepeat"),this.vars.repeatRefresh&&!M&&(this.invalidate()._lock=1),l&&l!==this._time||v!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(u=this._dur,c=this._tDur,C&&(this._lock=2,l=j?u:-1e-4,this.render(l,!0),this.vars.repeatRefresh&&!M&&this.invalidate()),this._lock=0,!this._ts&&!v)return this;KT(this,M)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(y=pX(this,Gt(l),Gt(p)),y&&(d-=p-(p=y._start))),this._tTime=d,this._time=p,this._act=!w,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,l=0),!l&&d&&!a&&!N&&(os(this,"onStart"),this._tTime!==d))return this;if(p>=l&&i>=0)for(m=this._first;m;){if(g=m._next,(m._act||p>=m._start)&&m._ts&&y!==m){if(m.parent!==this)return this.render(i,a,o);if(m.render(m._ts>0?(p-m._start)*m._ts:(m._dirty?m.totalDuration():m._tDur)+(p-m._start)*m._ts,a,o),p!==this._time||!this._ts&&!v){y=0,g&&(d+=this._zTime=-ut);break}}m=g}else{m=this._last;for(var L=i<0?i:p;m;){if(g=m._prev,(m._act||L<=m._end)&&m._ts&&y!==m){if(m.parent!==this)return this.render(i,a,o);if(m.render(m._ts>0?(L-m._start)*m._ts:(m._dirty?m.totalDuration():m._tDur)+(L-m._start)*m._ts,a,o||pn&&cw(m)),p!==this._time||!this._ts&&!v){y=0,g&&(d+=this._zTime=L?-ut:ut);break}}m=g}}if(y&&!a&&(this.pause(),y.render(p>=l?0:-ut)._zTime=p>=l?1:-1,this._ts))return this._start=k,Em(this),this.render(i,a,o);this._onUpdate&&!a&&os(this,"onUpdate",!0),(d===c&&this._tTime>=this.totalDuration()||!d&&l)&&(k===this._start||Math.abs(w)!==Math.abs(this._ts))&&(this._lock||((i||!u)&&(d===c&&this._ts>0||!d&&this._ts<0)&&Hi(this,1),!a&&!(i<0&&!l)&&(d||l||!c)&&(os(this,d===c&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(d<c&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(i,a){var o=this;if(Xr(a)||(a=ws(this,a,i)),!(i instanceof Zd)){if(En(i))return i.forEach(function(l){return o.add(l,a)}),this;if(on(i))return this.addLabel(i,a);if(zt(i))i=Kt.delayedCall(0,i);else return this}return this!==i?gr(this,i,a):this},n.getChildren=function(i,a,o,l){i===void 0&&(i=!0),a===void 0&&(a=!0),o===void 0&&(o=!0),l===void 0&&(l=-Ms);for(var c=[],u=this._first;u;)u._start>=l&&(u instanceof Kt?a&&c.push(u):(o&&c.push(u),i&&c.push.apply(c,u.getChildren(!0,a,o)))),u=u._next;return c},n.getById=function(i){for(var a=this.getChildren(1,1,1),o=a.length;o--;)if(a[o].vars.id===i)return a[o]},n.remove=function(i){return on(i)?this.removeLabel(i):zt(i)?this.killTweensOf(i):(i.parent===this&&Cm(this,i),i===this._recent&&(this._recent=this._last),Fa(this))},n.totalTime=function(i,a){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Gt(is.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),t.prototype.totalTime.call(this,i,a),this._forcing=0,this):this._tTime},n.addLabel=function(i,a){return this.labels[i]=ws(this,a),this},n.removeLabel=function(i){return delete this.labels[i],this},n.addPause=function(i,a,o){var l=Kt.delayedCall(0,a||Gd,o);return l.data="isPause",this._hasPause=1,gr(this,l,ws(this,i))},n.removePause=function(i){var a=this._first;for(i=ws(this,i);a;)a._start===i&&a.data==="isPause"&&Hi(a),a=a._next},n.killTweensOf=function(i,a,o){for(var l=this.getTweensOf(i,o),c=l.length;c--;)ji!==l[c]&&l[c].kill(i,a);return this},n.getTweensOf=function(i,a){for(var o=[],l=Ts(i),c=this._first,u=Xr(a),d;c;)c instanceof Kt?aX(c._targets,l)&&(u?(!ji||c._initted&&c._ts)&&c.globalTime(0)<=a&&c.globalTime(c.totalDuration())>a:!a||c.isActive())&&o.push(c):(d=c.getTweensOf(l,a)).length&&o.push.apply(o,d),c=c._next;return o},n.tweenTo=function(i,a){a=a||{};var o=this,l=ws(o,i),c=a,u=c.startAt,d=c.onStart,h=c.onStartParams,p=c.immediateRender,m,g=Kt.to(o,ps({ease:a.ease||"none",lazy:!1,immediateRender:!1,time:l,overwrite:"auto",duration:a.duration||Math.abs((l-(u&&"time"in u?u.time:o._time))/o.timeScale())||ut,onStart:function(){if(o.pause(),!m){var b=a.duration||Math.abs((l-(u&&"time"in u?u.time:o._time))/o.timeScale());g._dur!==b&&kl(g,b,0,1).render(g._time,!0,!0),m=1}d&&d.apply(g,h||[])}},a));return p?g.render(0):g},n.tweenFromTo=function(i,a,o){return this.tweenTo(a,ps({startAt:{time:ws(this,i)}},o))},n.recent=function(){return this._recent},n.nextLabel=function(i){return i===void 0&&(i=this._time),L4(this,ws(this,i))},n.previousLabel=function(i){return i===void 0&&(i=this._time),L4(this,ws(this,i),1)},n.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+ut)},n.shiftChildren=function(i,a,o){o===void 0&&(o=0);for(var l=this._first,c=this.labels,u;l;)l._start>=o&&(l._start+=i,l._end+=i),l=l._next;if(a)for(u in c)c[u]>=o&&(c[u]+=i);return Fa(this)},n.invalidate=function(i){var a=this._first;for(this._lock=0;a;)a.invalidate(i),a=a._next;return t.prototype.invalidate.call(this,i)},n.clear=function(i){i===void 0&&(i=!0);for(var a=this._first,o;a;)o=a._next,this.remove(a),a=o;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),Fa(this)},n.totalDuration=function(i){var a=0,o=this,l=o._last,c=Ms,u,d,h;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-i:i));if(o._dirty){for(h=o.parent;l;)u=l._prev,l._dirty&&l.totalDuration(),d=l._start,d>c&&o._sort&&l._ts&&!o._lock?(o._lock=1,gr(o,l,d-l._delay,1)._lock=0):c=d,d<0&&l._ts&&(a-=d,(!h&&!o._dp||h&&h.smoothChildTiming)&&(o._start+=d/o._ts,o._time-=d,o._tTime-=d),o.shiftChildren(-d,!1,-1/0),c=0),l._end>a&&l._ts&&(a=l._end),l=u;kl(o,o===Pt&&o._time>a?o._time:a,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(i){if(Pt._ts&&(ET(Pt,uf(i,Pt)),ST=is.frame),is.frame>=P4){P4+=cs.autoSleep||120;var a=Pt._first;if((!a||!a._ts)&&cs.autoSleep&&is._listeners.length<2){for(;a&&!a._ts;)a=a._next;a||is.sleep()}}},e}(Zd);ps(An.prototype,{_lock:0,_hasPause:0,_forcing:0});var _X=function(e,n,s,i,a,o,l){var c=new Qn(this._pt,e,n,0,1,tL,null,a),u=0,d=0,h,p,m,g,x,b,v,y;for(c.b=s,c.e=i,s+="",i+="",(v=~i.indexOf("random("))&&(i=Yd(i)),o&&(y=[s,i],o(y,e,n),s=y[0],i=y[1]),p=s.match(n0)||[];h=n0.exec(i);)g=h[0],x=i.substring(u,h.index),m?m=(m+1)%5:x.substr(-5)==="rgba("&&(m=1),g!==p[d++]&&(b=parseFloat(p[d-1])||0,c._pt={_next:c._pt,p:x||d===1?x:",",s:b,c:g.charAt(1)==="="?rl(b,g)-b:parseFloat(g)-b,m:m&&m<4?Math.round:0},u=n0.lastIndex);return c.c=u<i.length?i.substring(u,i.length):"",c.fp=l,(bT.test(i)||v)&&(c.e=0),this._pt=c,c},dw=function(e,n,s,i,a,o,l,c,u,d){zt(i)&&(i=i(a||0,e,o));var h=e[n],p=s!=="get"?s:zt(h)?u?e[n.indexOf("set")||!zt(e["get"+n.substr(3)])?n:"get"+n.substr(3)](u):e[n]():h,m=zt(h)?u?IX:JT:hw,g;if(on(i)&&(~i.indexOf("random(")&&(i=Yd(i)),i.charAt(1)==="="&&(g=rl(p,i)+(kn(p)||0),(g||g===0)&&(i=g))),!d||p!==i||Xv)return!isNaN(p*i)&&i!==""?(g=new Qn(this._pt,e,n,+p||0,i-(p||0),typeof h=="boolean"?RX:eL,0,m),u&&(g.fp=u),l&&g.modifier(l,this,e),this._pt=g):(!h&&!(n in e)&&iw(n,i),_X.call(this,e,n,p,i,m,c||cs.stringFilter,u))},MX=function(e,n,s,i,a){if(zt(e)&&(e=cd(e,a,n,s,i)),!Pr(e)||e.style&&e.nodeType||En(e)||vT(e))return on(e)?cd(e,a,n,s,i):e;var o={},l;for(l in e)o[l]=cd(e[l],a,n,s,i);return o},XT=function(e,n,s,i,a,o){var l,c,u,d;if(ss[e]&&(l=new ss[e]).init(a,l.rawVars?n[e]:MX(n[e],i,a,o,s),s,i,o)!==!1&&(s._pt=c=new Qn(s._pt,a,e,0,1,l.render,l,0,l.priority),s!==qo))for(u=s._ptLookup[s._targets.indexOf(a)],d=l._props.length;d--;)u[l._props[d]]=c;return l},ji,Xv,uw=function t(e,n,s){var i=e.vars,a=i.ease,o=i.startAt,l=i.immediateRender,c=i.lazy,u=i.onUpdate,d=i.runBackwards,h=i.yoyoEase,p=i.keyframes,m=i.autoRevert,g=e._dur,x=e._startAt,b=e._targets,v=e.parent,y=v&&v.data==="nested"?v.vars.targets:b,w=e._overwrite==="auto"&&!tw,k=e.timeline,N,S,M,j,C,L,O,F,$,I,_,P,E;if(k&&(!p||!a)&&(a="none"),e._ease=za(a,wl.ease),e._yEase=h?qT(za(h===!0?a:h,wl.ease)):0,h&&e._yoyo&&!e._repeat&&(h=e._yEase,e._yEase=e._ease,e._ease=h),e._from=!k&&!!i.runBackwards,!k||p&&!i.stagger){if(F=b[0]?$a(b[0]).harness:0,P=F&&i[F.prop],N=df(i,aw),x&&(x._zTime<0&&x.progress(1),n<0&&d&&l&&!m?x.render(-1,!0):x.revert(d&&g?ap:rX),x._lazy=0),o){if(Hi(e._startAt=Kt.set(b,ps({data:"isStart",overwrite:!1,parent:v,immediateRender:!0,lazy:!x&&Xn(c),startAt:null,delay:0,onUpdate:u&&function(){return os(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,n<0&&(pn||!l&&!m)&&e._startAt.revert(ap),l&&g&&n<=0&&s<=0){n&&(e._zTime=n);return}}else if(d&&g&&!x){if(n&&(l=!1),M=ps({overwrite:!1,data:"isFromStart",lazy:l&&!x&&Xn(c),immediateRender:l,stagger:0,parent:v},N),P&&(M[F.prop]=P),Hi(e._startAt=Kt.set(b,M)),e._startAt._dp=0,e._startAt._sat=e,n<0&&(pn?e._startAt.revert(ap):e._startAt.render(-1,!0)),e._zTime=n,!l)t(e._startAt,ut,ut);else if(!n)return}for(e._pt=e._ptCache=0,c=g&&Xn(c)||c&&!g,S=0;S<b.length;S++){if(C=b[S],O=C._gsap||lw(b)[S]._gsap,e._ptLookup[S]=I={},Wv[O.id]&&Di.length&&cf(),_=y===b?S:y.indexOf(C),F&&($=new F).init(C,P||N,e,_,y)!==!1&&(e._pt=j=new Qn(e._pt,C,$.name,0,1,$.render,$,0,$.priority),$._props.forEach(function(T){I[T]=j}),$.priority&&(L=1)),!F||P)for(M in N)ss[M]&&($=XT(M,N,e,_,C,y))?$.priority&&(L=1):I[M]=j=dw.call(e,C,M,"get",N[M],_,y,0,i.stringFilter);e._op&&e._op[S]&&e.kill(C,e._op[S]),w&&e._pt&&(ji=e,Pt.killTweensOf(C,I,e.globalTime(n)),E=!e.parent,ji=0),e._pt&&c&&(Wv[O.id]=1)}L&&nL(e),e._onInit&&e._onInit(e)}e._onUpdate=u,e._initted=(!e._op||e._pt)&&!E,p&&n<=0&&k.render(Ms,!0,!0)},TX=function(e,n,s,i,a,o,l,c){var u=(e._pt&&e._ptCache||(e._ptCache={}))[n],d,h,p,m;if(!u)for(u=e._ptCache[n]=[],p=e._ptLookup,m=e._targets.length;m--;){if(d=p[m][n],d&&d.d&&d.d._pt)for(d=d.d._pt;d&&d.p!==n&&d.fp!==n;)d=d._next;if(!d)return Xv=1,e.vars[n]="+=0",uw(e,l),Xv=0,c?Kd(n+" not eligible for reset"):1;u.push(d)}for(m=u.length;m--;)h=u[m],d=h._pt||h,d.s=(i||i===0)&&!a?i:d.s+(i||0)+o*d.c,d.c=s-d.s,h.e&&(h.e=Vt(s)+kn(h.e)),h.b&&(h.b=d.s+kn(h.b))},LX=function(e,n){var s=e[0]?$a(e[0]).harness:0,i=s&&s.aliases,a,o,l,c;if(!i)return n;a=jl({},n);for(o in i)if(o in a)for(c=i[o].split(","),l=c.length;l--;)a[c[l]]=a[o];return a},AX=function(e,n,s,i){var a=n.ease||i||"power1.inOut",o,l;if(En(n))l=s[e]||(s[e]=[]),n.forEach(function(c,u){return l.push({t:u/(n.length-1)*100,v:c,e:a})});else for(o in n)l=s[o]||(s[o]=[]),o==="ease"||l.push({t:parseFloat(e),v:n[o],e:a})},cd=function(e,n,s,i,a){return zt(e)?e.call(n,s,i,a):on(e)&&~e.indexOf("random(")?Yd(e):e},ZT=ow+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",QT={};Zn(ZT+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return QT[t]=1});var Kt=function(t){gT(e,t);function e(s,i,a,o){var l;typeof i=="number"&&(a.duration=i,i=a,a=null),l=t.call(this,o?i:od(i))||this;var c=l.vars,u=c.duration,d=c.delay,h=c.immediateRender,p=c.stagger,m=c.overwrite,g=c.keyframes,x=c.defaults,b=c.scrollTrigger,v=c.yoyoEase,y=i.parent||Pt,w=(En(s)||vT(s)?Xr(s[0]):"length"in i)?[s]:Ts(s),k,N,S,M,j,C,L,O;if(l._targets=w.length?lw(w):Kd("GSAP target "+s+" not found. https://gsap.com",!cs.nullTargetWarn)||[],l._ptLookup=[],l._overwrite=m,g||p||hh(u)||hh(d)){if(i=l.vars,k=l.timeline=new An({data:"nested",defaults:x||{},targets:y&&y.data==="nested"?y.vars.targets:w}),k.kill(),k.parent=k._dp=Rr(l),k._start=0,p||hh(u)||hh(d)){if(M=w.length,L=p&&RT(p),Pr(p))for(j in p)~ZT.indexOf(j)&&(O||(O={}),O[j]=p[j]);for(N=0;N<M;N++)S=df(i,QT),S.stagger=0,v&&(S.yoyoEase=v),O&&jl(S,O),C=w[N],S.duration=+cd(u,Rr(l),N,C,w),S.delay=(+cd(d,Rr(l),N,C,w)||0)-l._delay,!p&&M===1&&S.delay&&(l._delay=d=S.delay,l._start+=d,S.delay=0),k.to(C,S,L?L(N,C,w):0),k._ease=Qe.none;k.duration()?u=d=0:l.timeline=0}else if(g){od(ps(k.vars.defaults,{ease:"none"})),k._ease=za(g.ease||i.ease||"none");var F=0,$,I,_;if(En(g))g.forEach(function(P){return k.to(w,P,">")}),k.duration();else{S={};for(j in g)j==="ease"||j==="easeEach"||AX(j,g[j],S,g.easeEach);for(j in S)for($=S[j].sort(function(P,E){return P.t-E.t}),F=0,N=0;N<$.length;N++)I=$[N],_={ease:I.e,duration:(I.t-(N?$[N-1].t:0))/100*u},_[j]=I.v,k.to(w,_,F),F+=_.duration;k.duration()<u&&k.to({},{duration:u-k.duration()})}}u||l.duration(u=k.duration())}else l.timeline=0;return m===!0&&!tw&&(ji=Rr(l),Pt.killTweensOf(w),ji=0),gr(y,Rr(l),a),i.reversed&&l.reverse(),i.paused&&l.paused(!0),(h||!u&&!g&&l._start===Gt(y._time)&&Xn(h)&&dX(Rr(l))&&y.data!=="nested")&&(l._tTime=-ut,l.render(Math.max(0,-d)||0)),b&&LT(Rr(l),b),l}var n=e.prototype;return n.render=function(i,a,o){var l=this._time,c=this._tDur,u=this._dur,d=i<0,h=i>c-ut&&!d?c:i<ut?0:i,p,m,g,x,b,v,y,w,k;if(!u)hX(this,i,a,o);else if(h!==this._tTime||!i||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==d||this._lazy){if(p=h,w=this.timeline,this._repeat){if(x=u+this._rDelay,this._repeat<-1&&d)return this.totalTime(x*100+i,a,o);if(p=Gt(h%x),h===c?(g=this._repeat,p=u):(b=Gt(h/x),g=~~b,g&&g===b?(p=u,g--):p>u&&(p=u)),v=this._yoyo&&g&1,v&&(k=this._yEase,p=u-p),b=Nl(this._tTime,x),p===l&&!o&&this._initted&&g===b)return this._tTime=h,this;g!==b&&(w&&this._yEase&&KT(w,v),this.vars.repeatRefresh&&!v&&!this._lock&&p!==x&&this._initted&&(this._lock=o=1,this.render(Gt(x*g),!0).invalidate()._lock=0))}if(!this._initted){if(AT(this,d?i:p,o,a,h))return this._tTime=0,this;if(l!==this._time&&!(o&&this.vars.repeatRefresh&&g!==b))return this;if(u!==this._dur)return this.render(i,a,o)}if(this._tTime=h,this._time=p,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=y=(k||this._ease)(p/u),this._from&&(this.ratio=y=1-y),!l&&h&&!a&&!b&&(os(this,"onStart"),this._tTime!==h))return this;for(m=this._pt;m;)m.r(y,m.d),m=m._next;w&&w.render(i<0?i:w._dur*w._ease(p/this._dur),a,o)||this._startAt&&(this._zTime=i),this._onUpdate&&!a&&(d&&Hv(this,i,a,o),os(this,"onUpdate")),this._repeat&&g!==b&&this.vars.onRepeat&&!a&&this.parent&&os(this,"onRepeat"),(h===this._tDur||!h)&&this._tTime===h&&(d&&!this._onUpdate&&Hv(this,i,!0,!0),(i||!u)&&(h===this._tDur&&this._ts>0||!h&&this._ts<0)&&Hi(this,1),!a&&!(d&&!l)&&(h||l||v)&&(os(this,h===c?"onComplete":"onReverseComplete",!0),this._prom&&!(h<c&&this.timeScale()>0)&&this._prom()))}return this},n.targets=function(){return this._targets},n.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),t.prototype.invalidate.call(this,i)},n.resetTo=function(i,a,o,l,c){Xd||is.wake(),this._ts||this.play();var u=Math.min(this._dur,(this._dp._time-this._start)*this._ts),d;return this._initted||uw(this,u),d=this._ease(u/this._dur),TX(this,i,a,o,l,d,u,c)?this.resetTo(i,a,o,l,1):(Pm(this,0),this.parent||MT(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(i,a){if(a===void 0&&(a="all"),!i&&(!a||a==="all"))return this._lazy=this._pt=0,this.parent?Ic(this):this.scrollTrigger&&this.scrollTrigger.kill(!!pn),this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(i,a,ji&&ji.vars.overwrite!==!0)._first||Ic(this),this.parent&&o!==this.timeline.totalDuration()&&kl(this,this._dur*this.timeline._tDur/o,0,1),this}var l=this._targets,c=i?Ts(i):l,u=this._ptLookup,d=this._pt,h,p,m,g,x,b,v;if((!a||a==="all")&&lX(l,c))return a==="all"&&(this._pt=0),Ic(this);for(h=this._op=this._op||[],a!=="all"&&(on(a)&&(x={},Zn(a,function(y){return x[y]=1}),a=x),a=LX(l,a)),v=l.length;v--;)if(~c.indexOf(l[v])){p=u[v],a==="all"?(h[v]=a,g=p,m={}):(m=h[v]=h[v]||{},g=a);for(x in g)b=p&&p[x],b&&((!("kill"in b.d)||b.d.kill(x)===!0)&&Cm(this,b,"_pt"),delete p[x]),m!=="all"&&(m[x]=1)}return this._initted&&!this._pt&&d&&Ic(this),this},e.to=function(i,a){return new e(i,a,arguments[2])},e.from=function(i,a){return ld(1,arguments)},e.delayedCall=function(i,a,o,l){return new e(a,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:a,onReverseComplete:a,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:l})},e.fromTo=function(i,a,o){return ld(2,arguments)},e.set=function(i,a){return a.duration=0,a.repeatDelay||(a.repeat=0),new e(i,a)},e.killTweensOf=function(i,a,o){return Pt.killTweensOf(i,a,o)},e}(Zd);ps(Kt.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Zn("staggerTo,staggerFrom,staggerFromTo",function(t){Kt[t]=function(){var e=new An,n=Kv.call(arguments,0);return n.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,n)}});var hw=function(e,n,s){return e[n]=s},JT=function(e,n,s){return e[n](s)},IX=function(e,n,s,i){return e[n](i.fp,s)},OX=function(e,n,s){return e.setAttribute(n,s)},pw=function(e,n){return zt(e[n])?JT:nw(e[n])&&e.setAttribute?OX:hw},eL=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e6)/1e6,n)},RX=function(e,n){return n.set(n.t,n.p,!!(n.s+n.c*e),n)},tL=function(e,n){var s=n._pt,i="";if(!e&&n.b)i=n.b;else if(e===1&&n.e)i=n.e;else{for(;s;)i=s.p+(s.m?s.m(s.s+s.c*e):Math.round((s.s+s.c*e)*1e4)/1e4)+i,s=s._next;i+=n.c}n.set(n.t,n.p,i,n)},fw=function(e,n){for(var s=n._pt;s;)s.r(e,s.d),s=s._next},DX=function(e,n,s,i){for(var a=this._pt,o;a;)o=a._next,a.p===i&&a.modifier(e,n,s),a=o},$X=function(e){for(var n=this._pt,s,i;n;)i=n._next,n.p===e&&!n.op||n.op===e?Cm(this,n,"_pt"):n.dep||(s=1),n=i;return!s},FX=function(e,n,s,i){i.mSet(e,n,i.m.call(i.tween,s,i.mt),i)},nL=function(e){for(var n=e._pt,s,i,a,o;n;){for(s=n._next,i=a;i&&i.pr>n.pr;)i=i._next;(n._prev=i?i._prev:o)?n._prev._next=n:a=n,(n._next=i)?i._prev=n:o=n,n=s}e._pt=a},Qn=function(){function t(n,s,i,a,o,l,c,u,d){this.t=s,this.s=a,this.c=o,this.p=i,this.r=l||eL,this.d=c||this,this.set=u||hw,this.pr=d||0,this._next=n,n&&(n._prev=this)}var e=t.prototype;return e.modifier=function(s,i,a){this.mSet=this.mSet||this.set,this.set=FX,this.m=s,this.mt=a,this.tween=i},t}();Zn(ow+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return aw[t]=1});hs.TweenMax=hs.TweenLite=Kt;hs.TimelineLite=hs.TimelineMax=An;Pt=new An({sortChildren:!1,defaults:wl,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});cs.stringFilter=HT;var Ba=[],lp={},zX=[],I4=0,BX=0,o0=function(e){return(lp[e]||zX).map(function(n){return n()})},Zv=function(){var e=Date.now(),n=[];e-I4>2&&(o0("matchMediaInit"),Ba.forEach(function(s){var i=s.queries,a=s.conditions,o,l,c,u;for(l in i)o=pr.matchMedia(i[l]).matches,o&&(c=1),o!==a[l]&&(a[l]=o,u=1);u&&(s.revert(),c&&n.push(s))}),o0("matchMediaRevert"),n.forEach(function(s){return s.onMatch(s,function(i){return s.add(null,i)})}),I4=e,o0("matchMedia"))},sL=function(){function t(n,s){this.selector=s&&Gv(s),this.data=[],this._r=[],this.isReverted=!1,this.id=BX++,n&&this.add(n)}var e=t.prototype;return e.add=function(s,i,a){zt(s)&&(a=i,i=s,s=zt);var o=this,l=function(){var u=kt,d=o.selector,h;return u&&u!==o&&u.data.push(o),a&&(o.selector=Gv(a)),kt=o,h=i.apply(o,arguments),zt(h)&&o._r.push(h),kt=u,o.selector=d,o.isReverted=!1,h};return o.last=l,s===zt?l(o,function(c){return o.add(null,c)}):s?o[s]=l:l},e.ignore=function(s){var i=kt;kt=null,s(this),kt=i},e.getTweens=function(){var s=[];return this.data.forEach(function(i){return i instanceof t?s.push.apply(s,i.getTweens()):i instanceof Kt&&!(i.parent&&i.parent.data==="nested")&&s.push(i)}),s},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(s,i){var a=this;if(s?function(){for(var l=a.getTweens(),c=a.data.length,u;c--;)u=a.data[c],u.data==="isFlip"&&(u.revert(),u.getChildren(!0,!0,!1).forEach(function(d){return l.splice(l.indexOf(d),1)}));for(l.map(function(d){return{g:d._dur||d._delay||d._sat&&!d._sat.vars.immediateRender?d.globalTime(0):-1/0,t:d}}).sort(function(d,h){return h.g-d.g||-1/0}).forEach(function(d){return d.t.revert(s)}),c=a.data.length;c--;)u=a.data[c],u instanceof An?u.data!=="nested"&&(u.scrollTrigger&&u.scrollTrigger.revert(),u.kill()):!(u instanceof Kt)&&u.revert&&u.revert(s);a._r.forEach(function(d){return d(s,a)}),a.isReverted=!0}():this.data.forEach(function(l){return l.kill&&l.kill()}),this.clear(),i)for(var o=Ba.length;o--;)Ba[o].id===this.id&&Ba.splice(o,1)},e.revert=function(s){this.kill(s||{})},t}(),UX=function(){function t(n){this.contexts=[],this.scope=n,kt&&kt.data.push(this)}var e=t.prototype;return e.add=function(s,i,a){Pr(s)||(s={matches:s});var o=new sL(0,a||this.scope),l=o.conditions={},c,u,d;kt&&!o.selector&&(o.selector=kt.selector),this.contexts.push(o),i=o.add("onMatch",i),o.queries=s;for(u in s)u==="all"?d=1:(c=pr.matchMedia(s[u]),c&&(Ba.indexOf(o)<0&&Ba.push(o),(l[u]=c.matches)&&(d=1),c.addListener?c.addListener(Zv):c.addEventListener("change",Zv)));return d&&i(o,function(h){return o.add(null,h)}),this},e.revert=function(s){this.kill(s||{})},e.kill=function(s){this.contexts.forEach(function(i){return i.kill(s,!0)})},t}(),hf={registerPlugin:function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];n.forEach(function(i){return UT(i)})},timeline:function(e){return new An(e)},getTweensOf:function(e,n){return Pt.getTweensOf(e,n)},getProperty:function(e,n,s,i){on(e)&&(e=Ts(e)[0]);var a=$a(e||{}).get,o=s?_T:PT;return s==="native"&&(s=""),e&&(n?o((ss[n]&&ss[n].get||a)(e,n,s,i)):function(l,c,u){return o((ss[l]&&ss[l].get||a)(e,l,c,u))})},quickSetter:function(e,n,s){if(e=Ts(e),e.length>1){var i=e.map(function(d){return es.quickSetter(d,n,s)}),a=i.length;return function(d){for(var h=a;h--;)i[h](d)}}e=e[0]||{};var o=ss[n],l=$a(e),c=l.harness&&(l.harness.aliases||{})[n]||n,u=o?function(d){var h=new o;qo._pt=0,h.init(e,s?d+s:d,qo,0,[e]),h.render(1,h),qo._pt&&fw(1,qo)}:l.set(e,c);return o?u:function(d){return u(e,c,s?d+s:d,l,1)}},quickTo:function(e,n,s){var i,a=es.to(e,ps((i={},i[n]="+=0.1",i.paused=!0,i.stagger=0,i),s||{})),o=function(c,u,d){return a.resetTo(n,c,u,d)};return o.tween=a,o},isTweening:function(e){return Pt.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=za(e.ease,wl.ease)),_4(wl,e||{})},config:function(e){return _4(cs,e||{})},registerEffect:function(e){var n=e.name,s=e.effect,i=e.plugins,a=e.defaults,o=e.extendTimeline;(i||"").split(",").forEach(function(l){return l&&!ss[l]&&!hs[l]&&Kd(n+" effect requires "+l+" plugin.")}),s0[n]=function(l,c,u){return s(Ts(l),ps(c||{},a),u)},o&&(An.prototype[n]=function(l,c,u){return this.add(s0[n](l,Pr(c)?c:(u=c)&&{},this),u)})},registerEase:function(e,n){Qe[e]=za(n)},parseEase:function(e,n){return arguments.length?za(e,n):Qe},getById:function(e){return Pt.getById(e)},exportRoot:function(e,n){e===void 0&&(e={});var s=new An(e),i,a;for(s.smoothChildTiming=Xn(e.smoothChildTiming),Pt.remove(s),s._dp=0,s._time=s._tTime=Pt._time,i=Pt._first;i;)a=i._next,(n||!(!i._dur&&i instanceof Kt&&i.vars.onComplete===i._targets[0]))&&gr(s,i,i._start-i._delay),i=a;return gr(Pt,s,0),s},context:function(e,n){return e?new sL(e,n):kt},matchMedia:function(e){return new UX(e)},matchMediaRefresh:function(){return Ba.forEach(function(e){var n=e.conditions,s,i;for(i in n)n[i]&&(n[i]=!1,s=1);s&&e.revert()})||Zv()},addEventListener:function(e,n){var s=lp[e]||(lp[e]=[]);~s.indexOf(n)||s.push(n)},removeEventListener:function(e,n){var s=lp[e],i=s&&s.indexOf(n);i>=0&&s.splice(i,1)},utils:{wrap:bX,wrapYoyo:wX,distribute:RT,random:$T,snap:DT,normalize:yX,getUnit:kn,clamp:mX,splitColor:VT,toArray:Ts,selector:Gv,mapRange:zT,pipe:xX,unitize:vX,interpolate:jX,shuffle:OT},install:NT,effects:s0,ticker:is,updateRoot:An.updateRoot,plugins:ss,globalTimeline:Pt,core:{PropTween:Qn,globals:kT,Tween:Kt,Timeline:An,Animation:Zd,getCache:$a,_removeLinkedListItem:Cm,reverting:function(){return pn},context:function(e){return e&&kt&&(kt.data.push(e),e._ctx=kt),kt},suppressOverwrites:function(e){return tw=e}}};Zn("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return hf[t]=Kt[t]});is.add(An.updateRoot);qo=hf.to({},{duration:0});var VX=function(e,n){for(var s=e._pt;s&&s.p!==n&&s.op!==n&&s.fp!==n;)s=s._next;return s},WX=function(e,n){var s=e._targets,i,a,o;for(i in n)for(a=s.length;a--;)o=e._ptLookup[a][i],o&&(o=o.d)&&(o._pt&&(o=VX(o,i)),o&&o.modifier&&o.modifier(n[i],e,s[a],i))},l0=function(e,n){return{name:e,headless:1,rawVars:1,init:function(i,a,o){o._onInit=function(l){var c,u;if(on(a)&&(c={},Zn(a,function(d){return c[d]=1}),a=c),n){c={};for(u in a)c[u]=n(a[u]);a=c}WX(l,a)}}}},es=hf.registerPlugin({name:"attr",init:function(e,n,s,i,a){var o,l,c;this.tween=s;for(o in n)c=e.getAttribute(o)||"",l=this.add(e,"setAttribute",(c||0)+"",n[o],i,a,0,0,o),l.op=o,l.b=c,this._props.push(o)},render:function(e,n){for(var s=n._pt;s;)pn?s.set(s.t,s.p,s.b,s):s.r(e,s.d),s=s._next}},{name:"endArray",headless:1,init:function(e,n){for(var s=n.length;s--;)this.add(e,s,e[s]||0,n[s],0,0,0,0,0,1)}},l0("roundProps",Yv),l0("modifiers"),l0("snap",DT))||hf;Kt.version=An.version=es.version="3.13.0";jT=1;sw()&&Sl();Qe.Power0;Qe.Power1;Qe.Power2;Qe.Power3;Qe.Power4;Qe.Linear;Qe.Quad;Qe.Cubic;Qe.Quart;Qe.Quint;Qe.Strong;Qe.Elastic;Qe.Back;Qe.SteppedEase;Qe.Bounce;Qe.Sine;Qe.Expo;Qe.Circ;/*!
 * CSSPlugin 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var O4,Ni,il,mw,Ea,R4,gw,HX=function(){return typeof window<"u"},Zr={},fa=180/Math.PI,al=Math.PI/180,po=Math.atan2,D4=1e8,xw=/([A-Z])/g,qX=/(left|right|width|margin|padding|x)/i,KX=/[\s,\(]\S/,vr={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Qv=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},GX=function(e,n){return n.set(n.t,n.p,e===1?n.e:Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},YX=function(e,n){return n.set(n.t,n.p,e?Math.round((n.s+n.c*e)*1e4)/1e4+n.u:n.b,n)},XX=function(e,n){var s=n.s+n.c*e;n.set(n.t,n.p,~~(s+(s<0?-.5:.5))+n.u,n)},rL=function(e,n){return n.set(n.t,n.p,e?n.e:n.b,n)},iL=function(e,n){return n.set(n.t,n.p,e!==1?n.b:n.e,n)},ZX=function(e,n,s){return e.style[n]=s},QX=function(e,n,s){return e.style.setProperty(n,s)},JX=function(e,n,s){return e._gsap[n]=s},eZ=function(e,n,s){return e._gsap.scaleX=e._gsap.scaleY=s},tZ=function(e,n,s,i,a){var o=e._gsap;o.scaleX=o.scaleY=s,o.renderTransform(a,o)},nZ=function(e,n,s,i,a){var o=e._gsap;o[n]=s,o.renderTransform(a,o)},Tt="transform",Jn=Tt+"Origin",sZ=function t(e,n){var s=this,i=this.target,a=i.style,o=i._gsap;if(e in Zr&&a){if(this.tfm=this.tfm||{},e!=="transform")e=vr[e]||e,~e.indexOf(",")?e.split(",").forEach(function(l){return s.tfm[l]=$r(i,l)}):this.tfm[e]=o.x?o[e]:$r(i,e),e===Jn&&(this.tfm.zOrigin=o.zOrigin);else return vr.transform.split(",").forEach(function(l){return t.call(s,l,n)});if(this.props.indexOf(Tt)>=0)return;o.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(Jn,n,"")),e=Tt}(a||n)&&this.props.push(e,n,a[e])},aL=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},rZ=function(){var e=this.props,n=this.target,s=n.style,i=n._gsap,a,o;for(a=0;a<e.length;a+=3)e[a+1]?e[a+1]===2?n[e[a]](e[a+2]):n[e[a]]=e[a+2]:e[a+2]?s[e[a]]=e[a+2]:s.removeProperty(e[a].substr(0,2)==="--"?e[a]:e[a].replace(xw,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)i[o]=this.tfm[o];i.svg&&(i.renderTransform(),n.setAttribute("data-svg-origin",this.svgo||"")),a=gw(),(!a||!a.isStart)&&!s[Tt]&&(aL(s),i.zOrigin&&s[Jn]&&(s[Jn]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},oL=function(e,n){var s={target:e,props:[],revert:rZ,save:sZ};return e._gsap||es.core.getCache(e),n&&e.style&&e.nodeType&&n.split(",").forEach(function(i){return s.save(i)}),s},lL,Jv=function(e,n){var s=Ni.createElementNS?Ni.createElementNS((n||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Ni.createElement(e);return s&&s.style?s:Ni.createElement(e)},Ls=function t(e,n,s){var i=getComputedStyle(e);return i[n]||i.getPropertyValue(n.replace(xw,"-$1").toLowerCase())||i.getPropertyValue(n)||!s&&t(e,Cl(n)||n,1)||""},$4="O,Moz,ms,Ms,Webkit".split(","),Cl=function(e,n,s){var i=n||Ea,a=i.style,o=5;if(e in a&&!s)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!($4[o]+e in a););return o<0?null:(o===3?"ms":o>=0?$4[o]:"")+e},ey=function(){HX()&&window.document&&(O4=window,Ni=O4.document,il=Ni.documentElement,Ea=Jv("div")||{style:{}},Jv("div"),Tt=Cl(Tt),Jn=Tt+"Origin",Ea.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",lL=!!Cl("perspective"),gw=es.core.reverting,mw=1)},F4=function(e){var n=e.ownerSVGElement,s=Jv("svg",n&&n.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=e.cloneNode(!0),a;i.style.display="block",s.appendChild(i),il.appendChild(s);try{a=i.getBBox()}catch{}return s.removeChild(i),il.removeChild(s),a},z4=function(e,n){for(var s=n.length;s--;)if(e.hasAttribute(n[s]))return e.getAttribute(n[s])},cL=function(e){var n,s;try{n=e.getBBox()}catch{n=F4(e),s=1}return n&&(n.width||n.height)||s||(n=F4(e)),n&&!n.width&&!n.x&&!n.y?{x:+z4(e,["x","cx","x1"])||0,y:+z4(e,["y","cy","y1"])||0,width:0,height:0}:n},dL=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&cL(e))},Za=function(e,n){if(n){var s=e.style,i;n in Zr&&n!==Jn&&(n=Tt),s.removeProperty?(i=n.substr(0,2),(i==="ms"||n.substr(0,6)==="webkit")&&(n="-"+n),s.removeProperty(i==="--"?n:n.replace(xw,"-$1").toLowerCase())):s.removeAttribute(n)}},ki=function(e,n,s,i,a,o){var l=new Qn(e._pt,n,s,0,1,o?iL:rL);return e._pt=l,l.b=i,l.e=a,e._props.push(s),l},B4={deg:1,rad:1,turn:1},iZ={grid:1,flex:1},qi=function t(e,n,s,i){var a=parseFloat(s)||0,o=(s+"").trim().substr((a+"").length)||"px",l=Ea.style,c=qX.test(n),u=e.tagName.toLowerCase()==="svg",d=(u?"client":"offset")+(c?"Width":"Height"),h=100,p=i==="px",m=i==="%",g,x,b,v;if(i===o||!a||B4[i]||B4[o])return a;if(o!=="px"&&!p&&(a=t(e,n,s,"px")),v=e.getCTM&&dL(e),(m||o==="%")&&(Zr[n]||~n.indexOf("adius")))return g=v?e.getBBox()[c?"width":"height"]:e[d],Vt(m?a/g*h:a/100*g);if(l[c?"width":"height"]=h+(p?o:i),x=i!=="rem"&&~n.indexOf("adius")||i==="em"&&e.appendChild&&!u?e:e.parentNode,v&&(x=(e.ownerSVGElement||{}).parentNode),(!x||x===Ni||!x.appendChild)&&(x=Ni.body),b=x._gsap,b&&m&&b.width&&c&&b.time===is.time&&!b.uncache)return Vt(a/b.width*h);if(m&&(n==="height"||n==="width")){var y=e.style[n];e.style[n]=h+i,g=e[d],y?e.style[n]=y:Za(e,n)}else(m||o==="%")&&!iZ[Ls(x,"display")]&&(l.position=Ls(e,"position")),x===e&&(l.position="static"),x.appendChild(Ea),g=Ea[d],x.removeChild(Ea),l.position="absolute";return c&&m&&(b=$a(x),b.time=is.time,b.width=x[d]),Vt(p?g*a/h:g&&a?h/g*a:0)},$r=function(e,n,s,i){var a;return mw||ey(),n in vr&&n!=="transform"&&(n=vr[n],~n.indexOf(",")&&(n=n.split(",")[0])),Zr[n]&&n!=="transform"?(a=Jd(e,i),a=n!=="transformOrigin"?a[n]:a.svg?a.origin:ff(Ls(e,Jn))+" "+a.zOrigin+"px"):(a=e.style[n],(!a||a==="auto"||i||~(a+"").indexOf("calc("))&&(a=pf[n]&&pf[n](e,n,s)||Ls(e,n)||CT(e,n)||(n==="opacity"?1:0))),s&&!~(a+"").trim().indexOf(" ")?qi(e,n,a,s)+s:a},aZ=function(e,n,s,i){if(!s||s==="none"){var a=Cl(n,e,1),o=a&&Ls(e,a,1);o&&o!==s?(n=a,s=o):n==="borderColor"&&(s=Ls(e,"borderTopColor"))}var l=new Qn(this._pt,e.style,n,0,1,tL),c=0,u=0,d,h,p,m,g,x,b,v,y,w,k,N;if(l.b=s,l.e=i,s+="",i+="",i.substring(0,6)==="var(--"&&(i=Ls(e,i.substring(4,i.indexOf(")")))),i==="auto"&&(x=e.style[n],e.style[n]=i,i=Ls(e,n)||i,x?e.style[n]=x:Za(e,n)),d=[s,i],HT(d),s=d[0],i=d[1],p=s.match(Ho)||[],N=i.match(Ho)||[],N.length){for(;h=Ho.exec(i);)b=h[0],y=i.substring(c,h.index),g?g=(g+1)%5:(y.substr(-5)==="rgba("||y.substr(-5)==="hsla(")&&(g=1),b!==(x=p[u++]||"")&&(m=parseFloat(x)||0,k=x.substr((m+"").length),b.charAt(1)==="="&&(b=rl(m,b)+k),v=parseFloat(b),w=b.substr((v+"").length),c=Ho.lastIndex-w.length,w||(w=w||cs.units[n]||k,c===i.length&&(i+=w,l.e+=w)),k!==w&&(m=qi(e,n,x,w)||0),l._pt={_next:l._pt,p:y||u===1?y:",",s:m,c:v-m,m:g&&g<4||n==="zIndex"?Math.round:0});l.c=c<i.length?i.substring(c,i.length):""}else l.r=n==="display"&&i==="none"?iL:rL;return bT.test(i)&&(l.e=0),this._pt=l,l},U4={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},oZ=function(e){var n=e.split(" "),s=n[0],i=n[1]||"50%";return(s==="top"||s==="bottom"||i==="left"||i==="right")&&(e=s,s=i,i=e),n[0]=U4[s]||s,n[1]=U4[i]||i,n.join(" ")},lZ=function(e,n){if(n.tween&&n.tween._time===n.tween._dur){var s=n.t,i=s.style,a=n.u,o=s._gsap,l,c,u;if(a==="all"||a===!0)i.cssText="",c=1;else for(a=a.split(","),u=a.length;--u>-1;)l=a[u],Zr[l]&&(c=1,l=l==="transformOrigin"?Jn:Tt),Za(s,l);c&&(Za(s,Tt),o&&(o.svg&&s.removeAttribute("transform"),i.scale=i.rotate=i.translate="none",Jd(s,1),o.uncache=1,aL(i)))}},pf={clearProps:function(e,n,s,i,a){if(a.data!=="isFromStart"){var o=e._pt=new Qn(e._pt,n,s,0,0,lZ);return o.u=i,o.pr=-10,o.tween=a,e._props.push(s),1}}},Qd=[1,0,0,1,0,0],uL={},hL=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},V4=function(e){var n=Ls(e,Tt);return hL(n)?Qd:n.substr(7).match(yT).map(Vt)},vw=function(e,n){var s=e._gsap||$a(e),i=e.style,a=V4(e),o,l,c,u;return s.svg&&e.getAttribute("transform")?(c=e.transform.baseVal.consolidate().matrix,a=[c.a,c.b,c.c,c.d,c.e,c.f],a.join(",")==="1,0,0,1,0,0"?Qd:a):(a===Qd&&!e.offsetParent&&e!==il&&!s.svg&&(c=i.display,i.display="block",o=e.parentNode,(!o||!e.offsetParent&&!e.getBoundingClientRect().width)&&(u=1,l=e.nextElementSibling,il.appendChild(e)),a=V4(e),c?i.display=c:Za(e,"display"),u&&(l?o.insertBefore(e,l):o?o.appendChild(e):il.removeChild(e))),n&&a.length>6?[a[0],a[1],a[4],a[5],a[12],a[13]]:a)},ty=function(e,n,s,i,a,o){var l=e._gsap,c=a||vw(e,!0),u=l.xOrigin||0,d=l.yOrigin||0,h=l.xOffset||0,p=l.yOffset||0,m=c[0],g=c[1],x=c[2],b=c[3],v=c[4],y=c[5],w=n.split(" "),k=parseFloat(w[0])||0,N=parseFloat(w[1])||0,S,M,j,C;s?c!==Qd&&(M=m*b-g*x)&&(j=k*(b/M)+N*(-x/M)+(x*y-b*v)/M,C=k*(-g/M)+N*(m/M)-(m*y-g*v)/M,k=j,N=C):(S=cL(e),k=S.x+(~w[0].indexOf("%")?k/100*S.width:k),N=S.y+(~(w[1]||w[0]).indexOf("%")?N/100*S.height:N)),i||i!==!1&&l.smooth?(v=k-u,y=N-d,l.xOffset=h+(v*m+y*x)-v,l.yOffset=p+(v*g+y*b)-y):l.xOffset=l.yOffset=0,l.xOrigin=k,l.yOrigin=N,l.smooth=!!i,l.origin=n,l.originIsAbsolute=!!s,e.style[Jn]="0px 0px",o&&(ki(o,l,"xOrigin",u,k),ki(o,l,"yOrigin",d,N),ki(o,l,"xOffset",h,l.xOffset),ki(o,l,"yOffset",p,l.yOffset)),e.setAttribute("data-svg-origin",k+" "+N)},Jd=function(e,n){var s=e._gsap||new YT(e);if("x"in s&&!n&&!s.uncache)return s;var i=e.style,a=s.scaleX<0,o="px",l="deg",c=getComputedStyle(e),u=Ls(e,Jn)||"0",d,h,p,m,g,x,b,v,y,w,k,N,S,M,j,C,L,O,F,$,I,_,P,E,T,D,R,z,q,H,U,B;return d=h=p=x=b=v=y=w=k=0,m=g=1,s.svg=!!(e.getCTM&&dL(e)),c.translate&&((c.translate!=="none"||c.scale!=="none"||c.rotate!=="none")&&(i[Tt]=(c.translate!=="none"?"translate3d("+(c.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(c.rotate!=="none"?"rotate("+c.rotate+") ":"")+(c.scale!=="none"?"scale("+c.scale.split(" ").join(",")+") ":"")+(c[Tt]!=="none"?c[Tt]:"")),i.scale=i.rotate=i.translate="none"),M=vw(e,s.svg),s.svg&&(s.uncache?(T=e.getBBox(),u=s.xOrigin-T.x+"px "+(s.yOrigin-T.y)+"px",E=""):E=!n&&e.getAttribute("data-svg-origin"),ty(e,E||u,!!E||s.originIsAbsolute,s.smooth!==!1,M)),N=s.xOrigin||0,S=s.yOrigin||0,M!==Qd&&(O=M[0],F=M[1],$=M[2],I=M[3],d=_=M[4],h=P=M[5],M.length===6?(m=Math.sqrt(O*O+F*F),g=Math.sqrt(I*I+$*$),x=O||F?po(F,O)*fa:0,y=$||I?po($,I)*fa+x:0,y&&(g*=Math.abs(Math.cos(y*al))),s.svg&&(d-=N-(N*O+S*$),h-=S-(N*F+S*I))):(B=M[6],H=M[7],R=M[8],z=M[9],q=M[10],U=M[11],d=M[12],h=M[13],p=M[14],j=po(B,q),b=j*fa,j&&(C=Math.cos(-j),L=Math.sin(-j),E=_*C+R*L,T=P*C+z*L,D=B*C+q*L,R=_*-L+R*C,z=P*-L+z*C,q=B*-L+q*C,U=H*-L+U*C,_=E,P=T,B=D),j=po(-$,q),v=j*fa,j&&(C=Math.cos(-j),L=Math.sin(-j),E=O*C-R*L,T=F*C-z*L,D=$*C-q*L,U=I*L+U*C,O=E,F=T,$=D),j=po(F,O),x=j*fa,j&&(C=Math.cos(j),L=Math.sin(j),E=O*C+F*L,T=_*C+P*L,F=F*C-O*L,P=P*C-_*L,O=E,_=T),b&&Math.abs(b)+Math.abs(x)>359.9&&(b=x=0,v=180-v),m=Vt(Math.sqrt(O*O+F*F+$*$)),g=Vt(Math.sqrt(P*P+B*B)),j=po(_,P),y=Math.abs(j)>2e-4?j*fa:0,k=U?1/(U<0?-U:U):0),s.svg&&(E=e.getAttribute("transform"),s.forceCSS=e.setAttribute("transform","")||!hL(Ls(e,Tt)),E&&e.setAttribute("transform",E))),Math.abs(y)>90&&Math.abs(y)<270&&(a?(m*=-1,y+=x<=0?180:-180,x+=x<=0?180:-180):(g*=-1,y+=y<=0?180:-180)),n=n||s.uncache,s.x=d-((s.xPercent=d&&(!n&&s.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-d)?-50:0)))?e.offsetWidth*s.xPercent/100:0)+o,s.y=h-((s.yPercent=h&&(!n&&s.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-h)?-50:0)))?e.offsetHeight*s.yPercent/100:0)+o,s.z=p+o,s.scaleX=Vt(m),s.scaleY=Vt(g),s.rotation=Vt(x)+l,s.rotationX=Vt(b)+l,s.rotationY=Vt(v)+l,s.skewX=y+l,s.skewY=w+l,s.transformPerspective=k+o,(s.zOrigin=parseFloat(u.split(" ")[2])||!n&&s.zOrigin||0)&&(i[Jn]=ff(u)),s.xOffset=s.yOffset=0,s.force3D=cs.force3D,s.renderTransform=s.svg?dZ:lL?pL:cZ,s.uncache=0,s},ff=function(e){return(e=e.split(" "))[0]+" "+e[1]},c0=function(e,n,s){var i=kn(n);return Vt(parseFloat(n)+parseFloat(qi(e,"x",s+"px",i)))+i},cZ=function(e,n){n.z="0px",n.rotationY=n.rotationX="0deg",n.force3D=0,pL(e,n)},aa="0deg",cc="0px",oa=") ",pL=function(e,n){var s=n||this,i=s.xPercent,a=s.yPercent,o=s.x,l=s.y,c=s.z,u=s.rotation,d=s.rotationY,h=s.rotationX,p=s.skewX,m=s.skewY,g=s.scaleX,x=s.scaleY,b=s.transformPerspective,v=s.force3D,y=s.target,w=s.zOrigin,k="",N=v==="auto"&&e&&e!==1||v===!0;if(w&&(h!==aa||d!==aa)){var S=parseFloat(d)*al,M=Math.sin(S),j=Math.cos(S),C;S=parseFloat(h)*al,C=Math.cos(S),o=c0(y,o,M*C*-w),l=c0(y,l,-Math.sin(S)*-w),c=c0(y,c,j*C*-w+w)}b!==cc&&(k+="perspective("+b+oa),(i||a)&&(k+="translate("+i+"%, "+a+"%) "),(N||o!==cc||l!==cc||c!==cc)&&(k+=c!==cc||N?"translate3d("+o+", "+l+", "+c+") ":"translate("+o+", "+l+oa),u!==aa&&(k+="rotate("+u+oa),d!==aa&&(k+="rotateY("+d+oa),h!==aa&&(k+="rotateX("+h+oa),(p!==aa||m!==aa)&&(k+="skew("+p+", "+m+oa),(g!==1||x!==1)&&(k+="scale("+g+", "+x+oa),y.style[Tt]=k||"translate(0, 0)"},dZ=function(e,n){var s=n||this,i=s.xPercent,a=s.yPercent,o=s.x,l=s.y,c=s.rotation,u=s.skewX,d=s.skewY,h=s.scaleX,p=s.scaleY,m=s.target,g=s.xOrigin,x=s.yOrigin,b=s.xOffset,v=s.yOffset,y=s.forceCSS,w=parseFloat(o),k=parseFloat(l),N,S,M,j,C;c=parseFloat(c),u=parseFloat(u),d=parseFloat(d),d&&(d=parseFloat(d),u+=d,c+=d),c||u?(c*=al,u*=al,N=Math.cos(c)*h,S=Math.sin(c)*h,M=Math.sin(c-u)*-p,j=Math.cos(c-u)*p,u&&(d*=al,C=Math.tan(u-d),C=Math.sqrt(1+C*C),M*=C,j*=C,d&&(C=Math.tan(d),C=Math.sqrt(1+C*C),N*=C,S*=C)),N=Vt(N),S=Vt(S),M=Vt(M),j=Vt(j)):(N=h,j=p,S=M=0),(w&&!~(o+"").indexOf("px")||k&&!~(l+"").indexOf("px"))&&(w=qi(m,"x",o,"px"),k=qi(m,"y",l,"px")),(g||x||b||v)&&(w=Vt(w+g-(g*N+x*M)+b),k=Vt(k+x-(g*S+x*j)+v)),(i||a)&&(C=m.getBBox(),w=Vt(w+i/100*C.width),k=Vt(k+a/100*C.height)),C="matrix("+N+","+S+","+M+","+j+","+w+","+k+")",m.setAttribute("transform",C),y&&(m.style[Tt]=C)},uZ=function(e,n,s,i,a){var o=360,l=on(a),c=parseFloat(a)*(l&&~a.indexOf("rad")?fa:1),u=c-i,d=i+u+"deg",h,p;return l&&(h=a.split("_")[1],h==="short"&&(u%=o,u!==u%(o/2)&&(u+=u<0?o:-o)),h==="cw"&&u<0?u=(u+o*D4)%o-~~(u/o)*o:h==="ccw"&&u>0&&(u=(u-o*D4)%o-~~(u/o)*o)),e._pt=p=new Qn(e._pt,n,s,i,u,GX),p.e=d,p.u="deg",e._props.push(s),p},W4=function(e,n){for(var s in n)e[s]=n[s];return e},hZ=function(e,n,s){var i=W4({},s._gsap),a="perspective,force3D,transformOrigin,svgOrigin",o=s.style,l,c,u,d,h,p,m,g;i.svg?(u=s.getAttribute("transform"),s.setAttribute("transform",""),o[Tt]=n,l=Jd(s,1),Za(s,Tt),s.setAttribute("transform",u)):(u=getComputedStyle(s)[Tt],o[Tt]=n,l=Jd(s,1),o[Tt]=u);for(c in Zr)u=i[c],d=l[c],u!==d&&a.indexOf(c)<0&&(m=kn(u),g=kn(d),h=m!==g?qi(s,c,u,g):parseFloat(u),p=parseFloat(d),e._pt=new Qn(e._pt,l,c,h,p-h,Qv),e._pt.u=g||0,e._props.push(c));W4(l,i)};Zn("padding,margin,Width,Radius",function(t,e){var n="Top",s="Right",i="Bottom",a="Left",o=(e<3?[n,s,i,a]:[n+a,n+s,i+s,i+a]).map(function(l){return e<2?t+l:"border"+l+t});pf[e>1?"border"+t:t]=function(l,c,u,d,h){var p,m;if(arguments.length<4)return p=o.map(function(g){return $r(l,g,u)}),m=p.join(" "),m.split(p[0]).length===5?p[0]:m;p=(d+"").split(" "),m={},o.forEach(function(g,x){return m[g]=p[x]=p[x]||p[(x-1)/2|0]}),l.init(c,m,h)}});var fL={name:"css",register:ey,targetTest:function(e){return e.style&&e.nodeType},init:function(e,n,s,i,a){var o=this._props,l=e.style,c=s.vars.startAt,u,d,h,p,m,g,x,b,v,y,w,k,N,S,M,j;mw||ey(),this.styles=this.styles||oL(e),j=this.styles.props,this.tween=s;for(x in n)if(x!=="autoRound"&&(d=n[x],!(ss[x]&&XT(x,n,s,i,e,a)))){if(m=typeof d,g=pf[x],m==="function"&&(d=d.call(s,i,e,a),m=typeof d),m==="string"&&~d.indexOf("random(")&&(d=Yd(d)),g)g(this,e,x,d,s)&&(M=1);else if(x.substr(0,2)==="--")u=(getComputedStyle(e).getPropertyValue(x)+"").trim(),d+="",$i.lastIndex=0,$i.test(u)||(b=kn(u),v=kn(d)),v?b!==v&&(u=qi(e,x,u,v)+v):b&&(d+=b),this.add(l,"setProperty",u,d,i,a,0,0,x),o.push(x),j.push(x,0,l[x]);else if(m!=="undefined"){if(c&&x in c?(u=typeof c[x]=="function"?c[x].call(s,i,e,a):c[x],on(u)&&~u.indexOf("random(")&&(u=Yd(u)),kn(u+"")||u==="auto"||(u+=cs.units[x]||kn($r(e,x))||""),(u+"").charAt(1)==="="&&(u=$r(e,x))):u=$r(e,x),p=parseFloat(u),y=m==="string"&&d.charAt(1)==="="&&d.substr(0,2),y&&(d=d.substr(2)),h=parseFloat(d),x in vr&&(x==="autoAlpha"&&(p===1&&$r(e,"visibility")==="hidden"&&h&&(p=0),j.push("visibility",0,l.visibility),ki(this,l,"visibility",p?"inherit":"hidden",h?"inherit":"hidden",!h)),x!=="scale"&&x!=="transform"&&(x=vr[x],~x.indexOf(",")&&(x=x.split(",")[0]))),w=x in Zr,w){if(this.styles.save(x),m==="string"&&d.substring(0,6)==="var(--"&&(d=Ls(e,d.substring(4,d.indexOf(")"))),h=parseFloat(d)),k||(N=e._gsap,N.renderTransform&&!n.parseTransform||Jd(e,n.parseTransform),S=n.smoothOrigin!==!1&&N.smooth,k=this._pt=new Qn(this._pt,l,Tt,0,1,N.renderTransform,N,0,-1),k.dep=1),x==="scale")this._pt=new Qn(this._pt,N,"scaleY",N.scaleY,(y?rl(N.scaleY,y+h):h)-N.scaleY||0,Qv),this._pt.u=0,o.push("scaleY",x),x+="X";else if(x==="transformOrigin"){j.push(Jn,0,l[Jn]),d=oZ(d),N.svg?ty(e,d,0,S,0,this):(v=parseFloat(d.split(" ")[2])||0,v!==N.zOrigin&&ki(this,N,"zOrigin",N.zOrigin,v),ki(this,l,x,ff(u),ff(d)));continue}else if(x==="svgOrigin"){ty(e,d,1,S,0,this);continue}else if(x in uL){uZ(this,N,x,p,y?rl(p,y+d):d);continue}else if(x==="smoothOrigin"){ki(this,N,"smooth",N.smooth,d);continue}else if(x==="force3D"){N[x]=d;continue}else if(x==="transform"){hZ(this,d,e);continue}}else x in l||(x=Cl(x)||x);if(w||(h||h===0)&&(p||p===0)&&!KX.test(d)&&x in l)b=(u+"").substr((p+"").length),h||(h=0),v=kn(d)||(x in cs.units?cs.units[x]:b),b!==v&&(p=qi(e,x,u,v)),this._pt=new Qn(this._pt,w?N:l,x,p,(y?rl(p,y+h):h)-p,!w&&(v==="px"||x==="zIndex")&&n.autoRound!==!1?XX:Qv),this._pt.u=v||0,b!==v&&v!=="%"&&(this._pt.b=u,this._pt.r=YX);else if(x in l)aZ.call(this,e,x,u,y?y+d:d);else if(x in e)this.add(e,x,u||e[x],y?y+d:d,i,a);else if(x!=="parseTransform"){iw(x,d);continue}w||(x in l?j.push(x,0,l[x]):typeof e[x]=="function"?j.push(x,2,e[x]()):j.push(x,1,u||e[x])),o.push(x)}}M&&nL(this)},render:function(e,n){if(n.tween._time||!gw())for(var s=n._pt;s;)s.r(e,s.d),s=s._next;else n.styles.revert()},get:$r,aliases:vr,getSetter:function(e,n,s){var i=vr[n];return i&&i.indexOf(",")<0&&(n=i),n in Zr&&n!==Jn&&(e._gsap.x||$r(e,"x"))?s&&R4===s?n==="scale"?eZ:JX:(R4=s||{})&&(n==="scale"?tZ:nZ):e.style&&!nw(e.style[n])?ZX:~n.indexOf("-")?QX:pw(e,n)},core:{_removeProperty:Za,_getMatrix:vw}};es.utils.checkPrefix=Cl;es.core.getStyleSaver=oL;(function(t,e,n,s){var i=Zn(t+","+e+","+n,function(a){Zr[a]=1});Zn(e,function(a){cs.units[a]="deg",uL[a]=1}),vr[i[13]]=t+","+e,Zn(s,function(a){var o=a.split(":");vr[o[1]]=i[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Zn("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){cs.units[t]="px"});es.registerPlugin(fL);var Tn=es.registerPlugin(fL)||es;Tn.core.Tween;const pZ=12,fZ=300,yw="47, 100, 255",mZ=(t,e,n=yw)=>{const s=document.createElement("div");s.className="particle";const i=Math.random()>.5,a=i?"47, 100, 255":"20, 184, 166",o=i?"47, 100, 255":"20, 184, 166";return s.style.cssText=`
    position: absolute;
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background: radial-gradient(circle, rgba(${a}, 1) 0%, rgba(${a}, 0.8) 30%, rgba(${a}, 0.4) 70%, transparent 100%);
    box-shadow: 0 0 15px rgba(${o}, 0.8), 0 0 30px rgba(${o}, 0.4);
    pointer-events: none;
    z-index: 100;
    left: ${t}px;
    top: ${e}px;
  `,s},gZ=t=>({proximity:t*.5,fadeDistance:t*.75}),xZ=(t,e,n,s,i)=>{const a=t.getBoundingClientRect(),o=(e-a.left)/a.width*100,l=(n-a.top)/a.height*100;t.style.setProperty("--glow-x",`${o}%`),t.style.setProperty("--glow-y",`${l}%`),t.style.setProperty("--glow-intensity",s.toString()),t.style.setProperty("--glow-radius",`${i}px`)},ph=({children:t,className:e="",disableAnimations:n=!1,style:s,particleCount:i=pZ,glowColor:a=yw,enableTilt:o=!0,clickEffect:l=!1,enableMagnetism:c=!1})=>{const u=f.useRef(null),d=f.useRef([]),h=f.useRef([]),p=f.useRef(!1),m=f.useRef([]),g=f.useRef(!1),x=f.useRef(null),b=f.useCallback(()=>{if(g.current||!u.current)return;const{width:w,height:k}=u.current.getBoundingClientRect();m.current=Array.from({length:i},()=>mZ(Math.random()*w,Math.random()*k,a)),g.current=!0},[i,a]),v=f.useCallback(()=>{var w;h.current.forEach(clearTimeout),h.current=[],(w=x.current)==null||w.kill(),d.current.forEach(k=>{Tn.to(k,{scale:0,opacity:0,duration:.3,ease:"back.in(1.7)",onComplete:()=>{var N;(N=k.parentNode)==null||N.removeChild(k)}})}),d.current=[]},[]),y=f.useCallback(()=>{!u.current||!p.current||(g.current||b(),m.current.forEach((w,k)=>{const N=setTimeout(()=>{if(!p.current||!u.current)return;const S=w.cloneNode(!0);u.current.appendChild(S),d.current.push(S),Tn.fromTo(S,{scale:0,opacity:0},{scale:1,opacity:1,duration:.3,ease:"back.out(1.7)"}),Tn.to(S,{x:(Math.random()-.5)*100,y:(Math.random()-.5)*100,rotation:Math.random()*360,duration:2+Math.random()*2,ease:"none",repeat:-1,yoyo:!0}),Tn.to(S,{opacity:.3,duration:1.5,ease:"power2.inOut",repeat:-1,yoyo:!0})},k*100);h.current.push(N)}))},[b]);return f.useEffect(()=>{if(n||!u.current)return;const w=u.current,k=()=>{p.current=!0,y(),o&&Tn.to(w,{rotateX:5,rotateY:5,duration:.3,ease:"power2.out",transformPerspective:1e3})},N=()=>{p.current=!1,v(),o&&Tn.to(w,{rotateX:0,rotateY:0,duration:.3,ease:"power2.out"}),c&&Tn.to(w,{x:0,y:0,duration:.3,ease:"power2.out"})},S=j=>{if(!o&&!c)return;const C=w.getBoundingClientRect(),L=j.clientX-C.left,O=j.clientY-C.top,F=C.width/2,$=C.height/2;if(o){const I=(O-$)/$*-10,_=(L-F)/F*10;Tn.to(w,{rotateX:I,rotateY:_,duration:.1,ease:"power2.out",transformPerspective:1e3})}if(c){const I=(L-F)*.05,_=(O-$)*.05;x.current=Tn.to(w,{x:I,y:_,duration:.3,ease:"power2.out"})}},M=j=>{if(!l)return;const C=w.getBoundingClientRect(),L=j.clientX-C.left,O=j.clientY-C.top,F=Math.max(Math.hypot(L,O),Math.hypot(L-C.width,O),Math.hypot(L,O-C.height),Math.hypot(L-C.width,O-C.height)),$=document.createElement("div");$.style.cssText=`
        position: absolute;
        width: ${F*2}px;
        height: ${F*2}px;
        border-radius: 50%;
        background: radial-gradient(circle, rgba(${a}, 0.4) 0%, rgba(${a}, 0.2) 30%, transparent 70%);
        left: ${L-F}px;
        top: ${O-F}px;
        pointer-events: none;
        z-index: 1000;
      `,w.appendChild($),Tn.fromTo($,{scale:0,opacity:1},{scale:1,opacity:0,duration:.8,ease:"power2.out",onComplete:()=>$.remove()})};return w.addEventListener("mouseenter",k),w.addEventListener("mouseleave",N),w.addEventListener("mousemove",S),w.addEventListener("click",M),()=>{p.current=!1,w.removeEventListener("mouseenter",k),w.removeEventListener("mouseleave",N),w.removeEventListener("mousemove",S),w.removeEventListener("click",M),v()}},[y,v,n,o,c,l,a]),r.jsx("div",{ref:u,className:`${e} particle-container particle-card`,style:{...s,position:"relative",overflow:"hidden"},children:t})},vZ=({gridRef:t,disableAnimations:e=!1,enabled:n=!0,spotlightRadius:s=fZ,glowColor:i=yw})=>{const a=f.useRef(null),o=f.useRef(!1);return f.useEffect(()=>{if(e||!(t!=null&&t.current)||!n)return;const l=document.createElement("div");l.className="global-spotlight",l.style.cssText=`
      position: fixed;
      width: 800px;
      height: 800px;
      border-radius: 50%;
      pointer-events: none;
      background: radial-gradient(circle,
        rgba(${i}, 0.15) 0%,
        rgba(${i}, 0.08) 15%,
        rgba(${i}, 0.04) 25%,
        rgba(${i}, 0.02) 40%,
        rgba(${i}, 0.01) 65%,
        transparent 70%
      );
      z-index: 200;
      opacity: 0;
      transform: translate(-50%, -50%);
      mix-blend-mode: screen;
    `,document.body.appendChild(l),a.current=l;const c=d=>{if(!a.current||!t.current)return;const h=t.current.closest(".bento-section"),p=h==null?void 0:h.getBoundingClientRect(),m=p&&d.clientX>=p.left&&d.clientX<=p.right&&d.clientY>=p.top&&d.clientY<=p.bottom;o.current=m||!1;const g=t.current.querySelectorAll(".nr-panel, .card");if(!m){Tn.to(a.current,{opacity:0,duration:.3,ease:"power2.out"}),g.forEach(w=>{w.style.setProperty("--glow-intensity","0")});return}const{proximity:x,fadeDistance:b}=gZ(s);let v=1/0;g.forEach(w=>{const k=w,N=k.getBoundingClientRect(),S=N.left+N.width/2,M=N.top+N.height/2,j=Math.hypot(d.clientX-S,d.clientY-M)-Math.max(N.width,N.height)/2,C=Math.max(0,j);v=Math.min(v,C);let L=0;C<=x?L=1:C<=b&&(L=(b-C)/(b-x)),xZ(k,d.clientX,d.clientY,L,s)}),Tn.to(a.current,{left:d.clientX,top:d.clientY,duration:.1,ease:"power2.out"});const y=v<=x?.8:v<=b?(b-v)/(b-x)*.8:0;Tn.to(a.current,{opacity:y,duration:y>0?.2:.5,ease:"power2.out"})},u=()=>{var d;o.current=!1,(d=t.current)==null||d.querySelectorAll(".card").forEach(h=>{h.style.setProperty("--glow-intensity","0")}),a.current&&Tn.to(a.current,{opacity:0,duration:.3,ease:"power2.out"})};return document.addEventListener("mousemove",c),document.addEventListener("mouseleave",u),()=>{var d,h;document.removeEventListener("mousemove",c),document.removeEventListener("mouseleave",u),(h=(d=a.current)==null?void 0:d.parentNode)==null||h.removeChild(a.current)}},[t,e,n,s,i]),null},H4="h-11 w-full rounded-md border border-white/12 bg-white/[0.03] px-3 text-[14px] text-white outline-none transition-all duration-200 placeholder:text-white/45 focus:border-sky-500 focus:ring-4 focus:ring-sky-500/10 hover:border-white/20 hover:bg-white/[0.05] autofill:bg-black autofill:text-white autofill:shadow-[inset_0_0_0px_1000px_#000] [-webkit-text-fill-color:white] [-webkit-box-shadow:0_0_0px_1000px_#000_inset]";function yZ(){return r.jsx("div",{className:"hidden md:flex items-center justify-center",children:r.jsxs("div",{className:"w-full max-w-lg space-y-8",children:[r.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-center",children:[r.jsxs("h1",{className:`brand-script text-5xl leading-none
                  
                  bg-clip-text text-transparent text-4xl font-bold text-white mb-4`,children:["Your College Journey",r.jsx("span",{className:"block text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-cyan-400 font-bold",children:"Starts Here"})]}),r.jsx("p",{className:"text-white/70 text-lg leading-relaxed",children:"The all-in-one platform for student housing, academics, and campus life"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs(we.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{delay:.4},className:"magic-bento-card flex items-center gap-4 p-4 rounded-xl bg-transparent border border-white/10 hover:bg-transparent transition-all duration-300",style:{"--glow-x":"50%","--glow-y":"50%","--glow-intensity":"0","--glow-radius":"200px"},children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-500/20 flex items-center justify-center",children:r.jsx("svg",{className:"w-6 h-6 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-semibold",children:"Find Your Perfect Home"}),r.jsx("p",{className:"text-white/60 text-sm",children:"Verified student housing near your campus"})]})]}),r.jsxs(we.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{delay:.6},className:"magic-bento-card flex items-center gap-4 p-4 rounded-xl bg-transparent border border-white/10 hover:bg-transparent transition-all duration-300",style:{"--glow-x":"50%","--glow-y":"50%","--glow-intensity":"0","--glow-radius":"200px"},children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-500/20 flex items-center justify-center",children:r.jsx("svg",{className:"w-6 h-6 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-semibold",children:"Connect & Collaborate"}),r.jsx("p",{className:"text-white/60 text-sm",children:"Join study groups and build your network"})]})]}),r.jsxs(we.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{delay:.8},className:"magic-bento-card flex items-center gap-4 p-4 rounded-xl bg-transparent border border-white/10 hover:bg-transparent transition-all duration-300",style:{"--glow-x":"50%","--glow-y":"50%","--glow-intensity":"0","--glow-radius":"200px"},children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-500/20 flex items-center justify-center",children:r.jsx("svg",{className:"w-6 h-6 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-2 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-semibold",children:"AI-Powered Insights"}),r.jsx("p",{className:"text-white/60 text-sm",children:"Smart recommendations for your academic journey"})]})]})]}),r.jsx(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},className:"pt-6 border-t border-white/10",children:r.jsx("div",{className:"text-center space-y-4",children:r.jsxs("div",{className:"flex items-center justify-center gap-6 text-white/60 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("svg",{className:"w-4 h-4 text-blue-400",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),r.jsx("span",{children:"Verified Properties"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("svg",{className:"w-4 h-4 text-blue-400",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})}),r.jsx("span",{children:"Secure Platform"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("svg",{className:"w-4 h-4 text-blue-400",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),r.jsx("span",{children:"AI-Powered"})]})]})})}),r.jsxs(we.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:1.2},className:"text-center",children:[r.jsx("p",{className:"text-white/80 text-sm mb-4",children:"Be among the first to experience the future of student life"}),r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400"}),r.jsx("div",{className:"w-2 h-2 rounded-full bg-white/20"}),r.jsx("div",{className:"w-2 h-2 rounded-full bg-white/20"})]})]})]})})}function bZ(){const t=pt(),{login:e}=Ji(),[n,s]=f.useState(""),[i,a]=f.useState(""),[o,l]=f.useState(""),[c,u]=f.useState(!1),[d,h]=f.useState(!1),[p,m]=f.useState(!1);async function g(x){var b,v,y,w;if(x.preventDefault(),!n.trim()||!i){l("Please enter your email/username and password.");return}l(""),u(!0);try{const k=await ge.post("/login",{identifier:n.trim(),password:i,rememberMe:p});if((b=k==null?void 0:k.data)!=null&&b.error){l(k.data.message||"Invalid credentials.");return}if((v=k==null?void 0:k.data)!=null&&v.accessToken){const N=await e(k.data.user,k.data.accessToken);if(N.success){const S=localStorage.getItem("nr_unified_onboarding");if(S)if(JSON.parse(S).completed){const j=new URLSearchParams(window.location.search).get("from")||"/dashboard";t(j)}else t("/dashboard");else t("/onboarding")}else l(N.error||"Login failed. Please try again.")}else l("Unexpected response. Please try again.")}catch(k){console.error("Login error:",k);const N=((w=(y=k==null?void 0:k.response)==null?void 0:y.data)==null?void 0:w.message)||"Unable to log in. Please try again.";l(N)}finally{u(!1)}}return r.jsxs(r.Fragment,{children:[r.jsx("style",{children:`
          .magic-bento-card {
            --glow-x: 50%;
            --glow-y: 50%;
            --glow-intensity: 0;
            --glow-radius: 200px;
            --glow-color: 47, 100, 255;
            position: relative;
            overflow: hidden;
          }
          
          .magic-bento-card::after {
            content: '';
            position: absolute;
            inset: 0;
            padding: 1px;
            background: radial-gradient(100px circle at var(--glow-x) var(--glow-y),
                rgba(var(--glow-color), calc(var(--glow-intensity) * 1)) 0%,
                rgba(var(--glow-color), calc(var(--glow-intensity) * 0.8)) 20%,
                rgba(var(--glow-color), calc(var(--glow-intensity) * 0.4)) 40%,
                transparent 70%);
            border-radius: inherit;
            mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            mask-composite: subtract;
            -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            pointer-events: none;
            transition: opacity 0.2s ease;
            z-index: 1;
            opacity: 0;
          }
          
          .magic-bento-card:hover::after {
            opacity: 1;
          }
          
          .magic-bento-card:hover {
            box-shadow: 0 0 20px rgba(47, 100, 255, 0.6), 0 0 40px rgba(47, 100, 255, 0.4), 0 0 60px rgba(47, 100, 255, 0.2);
          }
          
        `}),r.jsx("main",{className:"min-h-screen bg-black",children:r.jsxs("div",{className:"mx-auto grid max-w-6xl grid-cols-1 items-center gap-6 sm:gap-8 lg:gap-10 px-4 sm:px-6 lg:px-8 py-8 sm:py-12 md:grid-cols-2 relative",children:[r.jsx(yZ,{}),r.jsx("div",{className:"hidden md:block absolute left-1/2 top-1/2 bottom-1/2 w-px bg-gradient-to-b from-transparent via-blue-500/50 to-transparent transform -translate-x-1/2 -translate-y-1/2 h-3/4"}),r.jsxs("div",{className:"w-full",children:[r.jsxs("div",{className:"relative mx-auto w-full max-w-sm rounded-2xl border border-white/10 bg-transparent p-4 sm:p-6 overflow-hidden",children:[r.jsx("div",{className:"mb-6 text-center",children:r.jsx("h1",{className:`
                  brand-script text-6xl leading-none
                  bg-gradient-to-r from-blue-600 to-teal-500
                  bg-clip-text text-transparent
                `,children:"NewRun"})}),r.jsxs("form",{onSubmit:g,className:"space-y-3",children:[r.jsx("input",{type:"text",value:n,onChange:x=>s(x.target.value),placeholder:"Email or username",autoComplete:"username",className:H4}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:d?"text":"password",value:i,onChange:x=>a(x.target.value),placeholder:"Password",autoComplete:"current-password",className:H4+" pr-10"}),r.jsx("button",{type:"button",onClick:()=>h(!d),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors p-1",children:d?r.jsx(Wd,{size:16}):r.jsx(Hd,{size:16})})]}),r.jsx("div",{className:"flex items-center justify-between mt-3",children:r.jsxs("label",{className:"flex items-center gap-2 text-sm text-white/70 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:p,onChange:x=>m(x.target.checked),className:"w-4 h-4 rounded border-white/20 bg-white/[0.03] text-blue-500 focus:ring-blue-500 focus:ring-2"}),"Remember me"]})}),o&&r.jsx(we.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"rounded-md border border-red-500/40 bg-red-500/10 px-3 py-2 text-center text-[13px] text-red-300 transition-all duration-200",children:o}),r.jsx("button",{type:"submit",disabled:c,className:"mt-1 inline-flex h-10 w-full items-center justify-center rounded-md bg-[#2f64ff] text-[14px] font-medium text-white hover:bg-[#2958e3] disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 hover:scale-[1.02] hover:shadow-lg hover:shadow-blue-500/25 active:scale-[0.98]",children:c?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Logging in..."]}):"Log in"})]}),r.jsxs("div",{className:"my-4 flex items-center gap-3 text-white/40",children:[r.jsx("div",{className:"h-px flex-1 bg-white/10"}),r.jsx("span",{className:"text-[12px]",children:"OR"}),r.jsx("div",{className:"h-px flex-1 bg-white/10"})]}),r.jsxs("button",{type:"button",onClick:()=>{fetch("http://localhost:8000/api/auth/google").then(x=>{x.ok?window.location.href="http://localhost:8000/api/auth/google":l("Google OAuth is not configured. Please use email/password login.")}).catch(()=>{l("Google OAuth is not available. Please use email/password login.")})},className:"mb-2 inline-flex h-10 w-full items-center justify-center gap-3 rounded-md border border-gray-300 bg-white text-[14px] font-medium text-gray-700 hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 hover:scale-[1.01] active:scale-[0.99] shadow-sm hover:shadow-md",children:[r.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[r.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),r.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),r.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),r.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),r.jsx("div",{className:"mt-2 flex items-center justify-center text-[13px]",children:r.jsx(Ie,{to:"/forgot",className:"text-white hover:underline",children:"Forgotten your password?"})}),r.jsx(km,{size:300,duration:4,colorFrom:"#2F64FF",colorTo:"#00D4FF",borderWidth:2.5})]}),r.jsx("div",{className:"w-full max-w-sm mx-auto mt-4",children:r.jsx("div",{className:"rounded-2xl border border-white/10 bg-transparent p-4 text-center",children:r.jsxs("p",{className:"text-white/70 text-sm",children:["Don't have an account? ",r.jsx(Ie,{to:"/signup",className:"text-sky-400 hover:underline font-medium",children:"Sign up"})]})})})]})]})})]})}const ai={minLength:8,maxLength:128,maxConsecutiveChars:3,commonPasswords:["password","123456","123456789","qwerty","abc123","password123","admin","letmein","welcome","monkey","1234567890","password1","qwerty123","dragon","master","hello","freedom","whatever","trustno1","123123","jordan23","harley","ranger","jordan","hunter","buster","soccer","hockey","killer","george","sexy","andrew","charlie","superman","asshole","fuckyou","dallas","jessica","panties","pepper","1234","6969","knight","mustang","shadow","master","michael","football","tigger","sunshine","iloveyou","fuckme","2000","charlie","robert","hockey","ranger","daniel","hannah","maggie","jessica","charlie","jordan","michelle","andrew","joshua","amanda","justin","sarah","matthew","jennifer","zachary","joshua","jessica","amanda","daniel","brittany","samantha","joshua","jessica","amanda","daniel","brittany","samantha"]},eu=t=>{const e=[],n=[];return t.length<ai.minLength&&e.push(`Password must be at least ${ai.minLength} characters long`),t.length>ai.maxLength&&e.push(`Password must be no more than ${ai.maxLength} characters long`),/[A-Z]/.test(t)||e.push("Password must contain at least one uppercase letter"),/[a-z]/.test(t)||e.push("Password must contain at least one lowercase letter"),/\d/.test(t)||e.push("Password must contain at least one number"),/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(t)||e.push("Password must contain at least one special character (!@#$%^&*()_+-=[]{}|;:,.<>?)"),wZ(t,ai.maxConsecutiveChars)&&e.push(`Password cannot have more than ${ai.maxConsecutiveChars} consecutive identical characters`),ai.commonPasswords.includes(t.toLowerCase())&&e.push("Password is too common. Please choose a more unique password"),mL(t)&&n.push("Password contains sequential characters which may be easy to guess"),gL(t)&&n.push("Password contains keyboard patterns which may be easy to guess"),xL(t)&&n.push("Password contains repeated character patterns"),{isValid:e.length===0,errors:e,warnings:n,strength:jZ(t)}},mf=(t,e)=>t!==e?{isValid:!1,error:"Passwords do not match"}:{isValid:!0},wZ=(t,e)=>{let n=1;for(let s=1;s<t.length;s++)if(t[s]===t[s-1]){if(n++,n>e)return!0}else n=1;return!1},mL=t=>{const e=["123","234","345","456","567","678","789","890","abc","bcd","cde","def","efg","fgh","ghi","hij","ijk","jkl","klm","lmn","mno","nop","opq","pqr","qrs","rst","stu","tuv","uvw","vwx","wxy","xyz"],n=t.toLowerCase();return e.some(s=>n.includes(s))},gL=t=>{const e=["qwerty","asdfgh","zxcvbn","qwertyuiop","asdfghjkl","zxcvbnm","123456","234567","345678","456789","567890","qwertyuiopasdfghjklzxcvbnm","asdfghjklqwertyuiopzxcvbnm"],n=t.toLowerCase();return e.some(s=>n.includes(s))},xL=t=>{for(let e=0;e<t.length-3;e++){const n=t.substring(e,e+2);if(t.substring(e+2,e+4)===n)return!0}return!1},jZ=t=>{let e=0;t.length>=8&&(e+=1),t.length>=12&&(e+=1),t.length>=16&&(e+=1),/[a-z]/.test(t)&&(e+=1),/[A-Z]/.test(t)&&(e+=1),/\d/.test(t)&&(e+=1),/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(t)&&(e+=1),/[^a-zA-Z0-9!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(t)&&(e+=1),mL(t)&&(e-=1),gL(t)&&(e-=1),xL(t)&&(e-=1),ai.commonPasswords.includes(t.toLowerCase())&&(e-=2);const n=Math.max(0,Math.min(100,e/7*100));return n<30?{level:"weak",color:"red",percentage:n}:n<60?{level:"fair",color:"orange",percentage:n}:n<80?{level:"good",color:"yellow",percentage:n}:{level:"strong",color:"green",percentage:n}},NZ=t=>({weak:"text-red-500",fair:"text-orange-500",good:"text-yellow-500",strong:"text-green-500"})[t.level]||"text-gray-500",kZ=t=>({weak:"bg-red-500",fair:"bg-orange-500",good:"bg-yellow-500",strong:"bg-green-500"})[t.level]||"bg-gray-500",vL=({password:t,showDetails:e=!0})=>{if(!t)return null;const n=eu(t),{strength:s}=n;return r.jsxs("div",{className:"mt-2 space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:r.jsx("div",{className:`h-full transition-all duration-300 ${kZ(s)}`,style:{width:`${s.percentage}%`}})}),r.jsx("span",{className:`text-sm font-medium ${NZ(s)}`,children:s.level.charAt(0).toUpperCase()+s.level.slice(1)})]}),e&&r.jsxs("div",{className:"space-y-1",children:[n.errors.map((i,a)=>r.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-500",children:[r.jsx("span",{className:"w-1 h-1 bg-red-500 rounded-full"}),r.jsx("span",{children:i})]},a)),n.warnings.map((i,a)=>r.jsxs("div",{className:"flex items-center gap-2 text-sm text-yellow-500",children:[r.jsx("span",{className:"w-1 h-1 bg-yellow-500 rounded-full"}),r.jsx("span",{children:i})]},a)),n.isValid&&n.errors.length===0&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-500",children:[r.jsx("span",{className:"w-1 h-1 bg-green-500 rounded-full"}),r.jsx("span",{children:"Password meets all security requirements"})]})]})]})},ny="h-11 w-full rounded-md border border-white/12 bg-white/[0.03] px-3 text-[14px] text-white outline-none placeholder:text-white/45 focus:border-sky-500 focus:ring-4 focus:ring-sky-500/10";function SZ({email:t,setEmail:e,onNext:n,isLoading:s,error:i}){return r.jsxs(we.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-blue-500/10 border border-blue-500/20",children:r.jsx(sp,{className:"h-8 w-8 text-blue-400"})}),r.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Reset Your Password"}),r.jsx("p",{className:"text-white/60 text-sm",children:"Enter your email address and we'll send you a verification code to reset your password."})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Email Address"}),r.jsx("input",{type:"email",value:t,onChange:a=>e(a.target.value),placeholder:"Enter your email address",className:ny,disabled:s})]}),i&&r.jsxs(we.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center gap-2 rounded-md border border-red-500/40 bg-red-500/10 px-3 py-2 text-[13px] text-red-300",children:[r.jsx(Sm,{className:"h-4 w-4"}),i]}),r.jsx("button",{onClick:n,disabled:!t.trim()||s,className:"w-full h-11 rounded-md bg-[#2f64ff] text-[14px] font-medium text-white hover:bg-[#2958e3] disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:s?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Sending code..."]}):r.jsxs(r.Fragment,{children:["Send Verification Code",r.jsx(qd,{className:"h-4 w-4"})]})})]}),r.jsx("div",{className:"text-center",children:r.jsxs(Ie,{to:"/login",className:"inline-flex items-center gap-2 text-sky-400 hover:underline text-sm",children:[r.jsx(ao,{className:"h-4 w-4"}),"Back to Login"]})})]})}function CZ({email:t,otp:e,setOtp:n,onNext:s,onResend:i,isLoading:a,error:o,resendLoading:l}){const[c,u]=f.useState(["","","","","",""]),d=(p,m)=>{if(m.length>1)return;const g=[...c];if(g[p]=m,u(g),n(g.join("")),m&&p<5){const x=document.getElementById(`otp-${p+1}`);x&&x.focus()}},h=(p,m)=>{if(m.key==="Backspace"&&!c[p]&&p>0){const g=document.getElementById(`otp-${p-1}`);g&&g.focus()}};return r.jsxs(we.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-green-500/10 border border-green-500/20",children:r.jsx(qd,{className:"h-8 w-8 text-green-400"})}),r.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Verify Your Email"}),r.jsxs("p",{className:"text-white/60 text-sm",children:["We've sent a 6-digit code to ",r.jsx("span",{className:"text-blue-400 font-medium",children:t})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/80 mb-3",children:"Enter Verification Code"}),r.jsx("div",{className:"flex gap-3 justify-center",children:c.map((p,m)=>r.jsx("input",{id:`otp-${m}`,type:"text",inputMode:"numeric",pattern:"[0-9]*",value:p,onChange:g=>d(m,g.target.value),onKeyDown:g=>h(m,g),className:"w-12 h-12 text-center text-lg font-bold rounded-md border border-white/12 bg-white/[0.03] text-white focus:border-sky-500 focus:ring-4 focus:ring-sky-500/10 outline-none",maxLength:1,disabled:a},m))})]}),o&&r.jsxs(we.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center gap-2 rounded-md border border-red-500/40 bg-red-500/10 px-3 py-2 text-[13px] text-red-300",children:[r.jsx(Sm,{className:"h-4 w-4"}),o]}),r.jsx("button",{onClick:s,disabled:e.length!==6||a,className:"w-full h-11 rounded-md bg-[#2f64ff] text-[14px] font-medium text-white hover:bg-[#2958e3] disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:a?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Verifying..."]}):r.jsxs(r.Fragment,{children:["Verify Code",r.jsx(_s,{className:"h-4 w-4"})]})}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-white/60 text-sm mb-2",children:"Didn't receive the code?"}),r.jsx("button",{onClick:i,disabled:l,className:"text-sky-400 hover:underline text-sm disabled:opacity-50",children:l?"Sending...":"Resend Code"})]})]}),r.jsx("div",{className:"text-center",children:r.jsxs(Ie,{to:"/login",className:"inline-flex items-center gap-2 text-sky-400 hover:underline text-sm",children:[r.jsx(ao,{className:"h-4 w-4"}),"Back to Login"]})})]})}function EZ({password:t,setPassword:e,confirmPassword:n,setConfirmPassword:s,onSubmit:i,isLoading:a,error:o}){const[l,c]=f.useState(!1),[u,d]=f.useState(!1),h=eu(t),p=mf(t,n),m=h.isValid,g=p.isValid&&n.length>0;return r.jsxs(we.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-purple-500/10 border border-purple-500/20",children:r.jsx(qd,{className:"h-8 w-8 text-purple-400"})}),r.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Create New Password"}),r.jsx("p",{className:"text-white/60 text-sm",children:"Choose a strong password for your account"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"New Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:l?"text":"password",value:t,onChange:x=>e(x.target.value),placeholder:"Enter new password",className:ny+" pr-10",disabled:a}),r.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors p-1",children:l?r.jsx(Wd,{size:16}):r.jsx(Hd,{size:16})})]}),t&&r.jsx(vL,{password:t,showDetails:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Confirm Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:u?"text":"password",value:n,onChange:x=>s(x.target.value),placeholder:"Confirm new password",className:ny+" pr-10",disabled:a}),r.jsx("button",{type:"button",onClick:()=>d(!u),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors p-1",children:u?r.jsx(Wd,{size:16}):r.jsx(Hd,{size:16})})]}),n&&r.jsx("div",{className:"mt-2 text-xs",children:r.jsxs("div",{className:`flex items-center gap-1 ${g?"text-green-400":"text-red-400"}`,children:[r.jsx("div",{className:`w-1 h-1 rounded-full ${g?"bg-green-400":"bg-red-400"}`}),g?"Passwords match":"Passwords do not match"]})})]}),o&&r.jsxs(we.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center gap-2 rounded-md border border-red-500/40 bg-red-500/10 px-3 py-2 text-[13px] text-red-300",children:[r.jsx(Sm,{className:"h-4 w-4"}),o]}),r.jsx("button",{onClick:i,disabled:!m||!g||a,className:"w-full h-11 rounded-md bg-[#2f64ff] text-[14px] font-medium text-white hover:bg-[#2958e3] disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:a?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Updating password..."]}):r.jsxs(r.Fragment,{children:["Update Password",r.jsx(_s,{className:"h-4 w-4"})]})})]}),r.jsx("div",{className:"text-center",children:r.jsxs(Ie,{to:"/login",className:"inline-flex items-center gap-2 text-sky-400 hover:underline text-sm",children:[r.jsx(ao,{className:"h-4 w-4"}),"Back to Login"]})})]})}function PZ({onComplete:t}){return r.jsxs(we.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center space-y-6",children:[r.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-green-500/10 border border-green-500/20",children:r.jsx(_s,{className:"h-8 w-8 text-green-400"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Password Updated!"}),r.jsx("p",{className:"text-white/60 text-sm",children:"Your password has been successfully updated. You can now log in with your new password."})]}),r.jsxs("button",{onClick:t,className:"w-full h-11 rounded-md bg-[#2f64ff] text-[14px] font-medium text-white hover:bg-[#2958e3] flex items-center justify-center gap-2",children:["Continue to Login",r.jsx(ao,{className:"h-4 w-4 rotate-180"})]})]})}function _Z(){const t=pt(),[e,n]=f.useState(1),[s,i]=f.useState(""),[a,o]=f.useState(""),[l,c]=f.useState(""),[u,d]=f.useState(""),[h,p]=f.useState(!1),[m,g]=f.useState(!1),[x,b]=f.useState(""),v=async()=>{var S,M;if(!s.trim()){b("Please enter your email address.");return}p(!0),b("");try{const j=await ge.post("/send-otp",{email:s.trim(),purpose:"password_reset"});if(j.data.error){b(j.data.message||"Failed to send verification code.");return}n(2)}catch(j){console.error("Send OTP error:",j),b(((M=(S=j==null?void 0:j.response)==null?void 0:S.data)==null?void 0:M.message)||"Failed to send verification code. Please try again.")}finally{p(!1)}},y=async()=>{var S,M;if(a.length!==6){b("Please enter the complete 6-digit code.");return}p(!0),b("");try{const j=await ge.post("/verify-otp",{email:s.trim(),otp:a,purpose:"password_reset"});if(j.data.error){b(j.data.message||"Invalid verification code.");return}n(3)}catch(j){console.error("Verify OTP error:",j),b(((M=(S=j==null?void 0:j.response)==null?void 0:S.data)==null?void 0:M.message)||"Invalid verification code. Please try again.")}finally{p(!1)}},w=async()=>{var S,M;g(!0),b("");try{const j=await ge.post("/send-otp",{email:s.trim(),purpose:"password_reset"});if(j.data.error){b(j.data.message||"Failed to resend verification code.");return}o(""),setOtpInputs(["","","","","",""])}catch(j){console.error("Resend OTP error:",j),b(((M=(S=j==null?void 0:j.response)==null?void 0:S.data)==null?void 0:M.message)||"Failed to resend verification code. Please try again.")}finally{g(!1)}},k=async()=>{var j,C;const S=eu(l);if(!S.isValid){b(`Password requirements not met: ${S.errors[0]}`);return}const M=mf(l,u);if(!M.isValid){b(M.error);return}p(!0),b("");try{const L=await ge.post("/reset-password-otp",{email:s.trim(),otp:a,newPassword:l});if(L.data.error){b(L.data.message||"Failed to reset password.");return}n(4)}catch(L){console.error("Reset password error:",L),b(((C=(j=L==null?void 0:L.response)==null?void 0:j.data)==null?void 0:C.message)||"Failed to reset password. Please try again.")}finally{p(!1)}},N=()=>{t("/login")};return r.jsx("main",{className:"min-h-screen bg-[#0b0c0f] flex items-center justify-center p-4",children:r.jsx("div",{className:"w-full max-w-md",children:r.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/[0.02] p-8 shadow-xl",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("div",{className:"flex items-center justify-center space-x-2",children:[1,2,3,4].map(S=>r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${e>=S?"bg-[#2f64ff] text-white":"bg-white/10 text-white/40"}`,children:S}),S<4&&r.jsx("div",{className:`w-8 h-0.5 mx-2 ${e>S?"bg-[#2f64ff]":"bg-white/10"}`})]},S))}),r.jsxs("div",{className:"mt-2 text-center text-xs text-white/60",children:[e===1&&"Enter Email",e===2&&"Verify Code",e===3&&"New Password",e===4&&"Complete"]})]}),r.jsxs(_1,{mode:"wait",children:[e===1&&r.jsx(SZ,{email:s,setEmail:i,onNext:v,isLoading:h,error:x}),e===2&&r.jsx(CZ,{email:s,otp:a,setOtp:o,onNext:y,onResend:w,isLoading:h,error:x,resendLoading:m}),e===3&&r.jsx(EZ,{password:l,setPassword:c,confirmPassword:u,setConfirmPassword:d,onSubmit:k,isLoading:h,error:x}),e===4&&r.jsx(PZ,{onComplete:N})]})]})})})}function MZ(t){return Se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 6 9 17l-5-5"},child:[]}]})(t)}const yL=({isShown:t,message:e,type:n,onClose:s})=>(f.useEffect(()=>{const i=setTimeout(()=>{s()},3e3);return()=>{clearTimeout(i)}},[s]),r.jsx("div",{className:`fixed top-6 right-6 z-50 transition-all duration-500 transform ${t?"opacity-100 translate-y-0 scale-100":"opacity-0 -translate-y-4 scale-95"}`,children:r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:`absolute inset-0 rounded-2xl blur-xl ${n==="delete"?"bg-gradient-to-r from-red-500/30 to-pink-500/30":"bg-gradient-to-r from-blue-500/30 to-cyan-500/30"}`}),r.jsxs("div",{className:`relative min-w-64 max-w-80 rounded-2xl border backdrop-blur-xl shadow-2xl overflow-hidden ${n==="delete"?"border-red-500/20 bg-black/40":"border-blue-500/20 bg-black/40"}`,children:[r.jsx("div",{className:`absolute inset-0 rounded-2xl ${n==="delete"?"bg-gradient-to-r from-red-500/20 via-pink-500/20 to-red-500/20":"bg-gradient-to-r from-blue-500/20 via-cyan-500/20 to-blue-500/20"} animate-pulse`}),r.jsxs("div",{className:"relative bg-black/60 backdrop-blur-xl rounded-2xl",children:[r.jsxs("div",{className:"flex items-center gap-4 py-4 px-6",children:[r.jsxs("div",{className:`relative w-12 h-12 flex items-center justify-center rounded-xl ${n==="delete"?"bg-gradient-to-br from-red-500/20 to-pink-500/20 border border-red-500/30":"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 border border-blue-500/30"}`,children:[r.jsx("div",{className:`absolute inset-0 rounded-xl ${n==="delete"?"bg-gradient-to-br from-red-500/10 to-pink-500/10":"bg-gradient-to-br from-blue-500/10 to-cyan-500/10"}`}),r.jsx("div",{className:"relative z-10",children:n==="delete"?r.jsx(aV,{className:"text-xl text-red-400"}):r.jsx(MZ,{className:"text-xl text-blue-400"})})]}),r.jsx("div",{className:"flex-1",children:r.jsx("p",{className:"text-sm font-medium text-white/90 leading-relaxed",children:e})})]}),r.jsx("div",{className:`h-1 ${n==="delete"?"bg-gradient-to-r from-red-500 to-pink-500":"bg-gradient-to-r from-blue-500 to-cyan-500"}`})]})]})]})}));function TZ({count:t=120,maxSpeed:e=.35,repelRadius:n=120,repelStrength:s=.9}){const i=f.useRef(null),a=f.useRef(0),o=f.useRef(1),l=f.useRef({x:-9999,y:-9999,active:!1}),c=f.useRef([]),u=()=>{const p=i.current;if(!p)return;const{innerWidth:m,innerHeight:g,devicePixelRatio:x=1}=window;o.current=Math.min(2,x),p.width=Math.floor(m*o.current),p.height=Math.floor(g*o.current),p.style.width=m+"px",p.style.height=g+"px"},d=()=>{const p=i.current;if(!p)return;const{width:m,height:g}=p,x=(b,v)=>b+Math.random()*(v-b);c.current=Array.from({length:t},()=>({x:x(0,m),y:x(0,g),vx:x(-e,e),vy:x(-e,e),size:x(1.2,2.8)*o.current,hue:200+Math.floor(Math.random()*80)}))},h=()=>{const p=i.current;if(!p)return;const m=p.getContext("2d"),{width:g,height:x}=p;m.clearRect(0,0,g,x);const b=m.createRadialGradient(g*.5,x*.35,0,g*.5,x*.35,Math.max(g,x)*.8);b.addColorStop(0,"rgba(46, 64, 200, 0.08)"),b.addColorStop(1,"rgba(11, 12, 15, 0)"),m.fillStyle=b,m.fillRect(0,0,g,x);const v=l.current;for(const y of c.current){if(v.active){const w=y.x-v.x*o.current,k=y.y-v.y*o.current,N=Math.hypot(w,k);if(N<n*o.current&&N>.01){const S=(n*o.current-N)/(n*o.current);y.vx+=w/N*S*s*.2,y.vy+=k/N*S*s*.2}}y.vx*=.99,y.vy*=.99,y.x+=y.vx,y.y+=y.vy,y.x<0&&(y.x=g),y.x>g&&(y.x=0),y.y<0&&(y.y=x),y.y>x&&(y.y=0),m.beginPath(),m.fillStyle=`hsla(${y.hue}, 100%, 65%, 0.55)`,m.arc(y.x,y.y,y.size,0,Math.PI*2),m.fill()}a.current=requestAnimationFrame(h)};return f.useEffect(()=>{u(),d(),a.current=requestAnimationFrame(h);const p=()=>{u(),d()},m=x=>{l.current={x:x.clientX,y:x.clientY,active:!0}},g=()=>{l.current.active=!1,l.current.x=-9999,l.current.y=-9999};return window.addEventListener("resize",p),window.addEventListener("pointermove",m,{passive:!0}),window.addEventListener("pointerleave",g),()=>{cancelAnimationFrame(a.current),window.removeEventListener("resize",p),window.removeEventListener("pointermove",m),window.removeEventListener("pointerleave",g)}},[t,e,n,s]),r.jsx("canvas",{ref:i,className:"pointer-events-none fixed inset-0 z-0","aria-hidden":"true"})}const LZ=()=>{const t=pt(),[e,n]=f.useState("send"),[s,i]=f.useState(["","","","","",""]),[a,o]=f.useState(0),[l,c]=f.useState(""),[u,d]=f.useState(""),[h,p]=f.useState(!1),[m,g]=f.useState(!1),[x,b]=f.useState(!1),[v,y]=f.useState(""),[w,k]=f.useState("success"),N=f.useRef(null),S=f.useRef([]);f.useEffect(()=>()=>{N.current&&clearInterval(N.current)},[]);const M=_=>{o(_),N.current&&clearInterval(N.current),N.current=setInterval(()=>{o(P=>P<=1?(clearInterval(N.current),0):P-1)},1e3)},j=_=>{const P=Math.floor(_/60),E=_%60;return`${P}:${E.toString().padStart(2,"0")}`},C=async()=>{var _,P,E,T,D;p(!0),d(""),c("");try{const R=await ge.post("/send-email-verification");n("verify"),M(60),y("Verification code sent to your email address."),k("success"),b(!0),setTimeout(()=>{var z;(z=S.current[0])==null||z.focus()},100)}catch(R){const z=((P=(_=R==null?void 0:R.response)==null?void 0:_.data)==null?void 0:P.message)||(R==null?void 0:R.message)||"Failed to send verification email.";d(z);const q=(T=(E=R==null?void 0:R.response)==null?void 0:E.data)==null?void 0:T.retryAfterSecs;((D=R==null?void 0:R.response)==null?void 0:D.status)===429&&q&&M(q)}finally{p(!1)}},L=async()=>{var _,P;g(!0),d("");try{await ge.post("/send-email-verification"),M(60),y("Verification code resent to your email address."),k("success"),b(!0)}catch(E){const T=((P=(_=E==null?void 0:E.response)==null?void 0:_.data)==null?void 0:P.message)||(E==null?void 0:E.message)||"Failed to resend verification email.";d(T)}finally{g(!1)}},O=async _=>{var P,E;if(_.preventDefault(),s.join("").length===6){p(!0),d(""),c("");try{await ge.post("/verify-email-code",{code:s.join("")}),c("Account verification completed. Your NewRun account is now activated."),n("success"),setTimeout(()=>{t("/dashboard")},1200)}catch(T){const D=((E=(P=T==null?void 0:T.response)==null?void 0:P.data)==null?void 0:E.message)||"Invalid or expired code.";d(D)}finally{p(!1)}}},F=(_,P)=>{var R;const E=_.target.value;if(/[^0-9]/.test(E))return;const T=[...s];T[P]=E,i(T),E&&P<5&&((R=S.current[P+1])==null||R.focus());const D=[...T];D.every(z=>z!=="")&&D.join("").length===6&&setTimeout(()=>{O({preventDefault:()=>{}})},500)},$=(_,P)=>{var E;_.key==="Backspace"&&!s[P]&&P>0&&((E=S.current[P-1])==null||E.focus())},I=_=>{var T;_.preventDefault();const P=_.clipboardData.getData("text").replace(/\D/g,"").slice(0,6),E=P.split("");i(E),P.length===6&&(P.split("").forEach((D,R)=>{S.current[R]&&(S.current[R].value=D)}),(T=S.current[5])==null||T.focus(),setTimeout(()=>{O({preventDefault:()=>{}})},500))};return r.jsxs("div",{className:"relative min-h-screen overflow-hidden",children:[r.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10",children:[r.jsx("video",{src:"https://framerusercontent.com/assets/aMPvRVYHFQxBoB0v2qyJln83jI.mp4",autoPlay:!0,muted:!0,loop:!0,playsInline:!0,preload:"auto",className:"h-full w-full object-cover",style:{filter:"brightness(0.75) saturate(110%)"}}),r.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_center,rgba(0,0,0,0)_0%,rgba(0,0,0,0.35)_65%)]"})]}),r.jsx(TZ,{}),r.jsx("main",{className:"relative z-10 mx-auto flex min-h-screen max-w-6xl items-center justify-center px-4",children:r.jsxs("div",{className:"w-full max-w-md rounded-3xl border border-white/20 bg-black/40 p-10 shadow-[0_40px_120px_rgba(0,0,0,0.6)] backdrop-blur-2xl",children:[r.jsx("div",{className:"mb-8 text-center",children:r.jsx("h1",{className:`
                brand-script text-6xl leading-none
                bg-gradient-to-r from-blue-600 to-teal-500
                bg-clip-text text-transparent
              `,children:"NewRun"})}),e==="send"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx(sp,{className:"mx-auto h-12 w-12 text-blue-400 mb-4"}),r.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Account Verification Required"}),r.jsx("p",{className:"text-white/70 text-sm",children:"Verify your email address to activate your NewRun account and access all platform features."})]}),r.jsxs("button",{onClick:C,disabled:h,className:"group relative inline-flex h-14 w-full items-center justify-center overflow-hidden rounded-2xl bg-gradient-to-r from-blue-600 via-blue-500 to-cyan-400 text-[15px] font-semibold text-white shadow-[0_8px_32px_rgba(47,100,255,0.4)] transition-all duration-300 hover:scale-[1.02] hover:shadow-[0_12px_40px_rgba(47,100,255,0.6)] hover:from-blue-500 hover:via-blue-400 hover:to-cyan-300 disabled:opacity-60 disabled:hover:scale-100",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-900 via-black to-blue-600 opacity-0 transition-opacity duration-300 group-hover:opacity-100"}),r.jsx("div",{className:"absolute inset-0 -translate-x-full bg-gradient-to-r from-transparent via-white/20 to-transparent transition-transform duration-1000 group-hover:translate-x-full"}),h?r.jsxs("div",{className:"relative flex items-center gap-3",children:[r.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),r.jsx("span",{className:"bg-gradient-to-r from-white to-blue-100 bg-clip-text text-transparent",children:"Sending code..."})]}):r.jsxs("div",{className:"relative flex items-center gap-3",children:[r.jsx(sp,{className:"w-5 h-5 transition-transform duration-300 group-hover:scale-110"}),r.jsx("span",{className:"bg-gradient-to-r from-white to-blue-100 bg-clip-text text-transparent",children:"Send Verification Code"})]})]})]}),e==="verify"&&r.jsxs("form",{onSubmit:O,className:"space-y-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx(_s,{className:"mx-auto h-12 w-12 text-blue-400 mb-4"}),r.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Enter Verification Code"}),r.jsx("p",{className:"text-white/70 text-sm",children:"We've sent a 6-digit code to your email. Enter it below."})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"otp-input",className:"sr-only",children:"Verification Code"}),r.jsx("div",{className:"flex justify-center space-x-3",children:Array.from({length:6}).map((_,P)=>r.jsx("input",{id:`otp-${P}`,ref:E=>S.current[P]=E,type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:1,value:s[P]||"",onChange:E=>F(E,P),onKeyDown:E=>$(E,P),onPaste:P===0?I:void 0,className:"w-12 h-12 text-center text-2xl font-bold border border-white/20 bg-white/[0.05] text-white rounded-lg shadow-sm focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 outline-none transition-all duration-200 hover:border-white/30 hover:bg-white/[0.08]",autoFocus:P===0},P))})]}),r.jsxs("button",{type:"submit",disabled:h||s.join("").length!==6,className:"group relative inline-flex h-14 w-full items-center justify-center overflow-hidden rounded-2xl bg-gradient-to-r from-blue-600 via-blue-500 to-cyan-400 text-[15px] font-semibold text-white shadow-[0_8px_32px_rgba(47,100,255,0.4)] transition-all duration-300 hover:scale-[1.02] hover:shadow-[0_12px_40px_rgba(47,100,255,0.6)] hover:from-blue-500 hover:via-blue-400 hover:to-cyan-300 disabled:opacity-60 disabled:hover:scale-100",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-900 via-black to-blue-600 opacity-0 transition-opacity duration-300 group-hover:opacity-100"}),r.jsx("div",{className:"absolute inset-0 -translate-x-full bg-gradient-to-r from-transparent via-white/20 to-transparent transition-transform duration-1000 group-hover:translate-x-full"}),h?r.jsxs("div",{className:"relative flex items-center gap-3",children:[r.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),r.jsx("span",{className:"bg-gradient-to-r from-white to-blue-100 bg-clip-text text-transparent",children:"Verifying..."})]}):r.jsxs("div",{className:"relative flex items-center gap-3",children:[r.jsx(_s,{className:"w-5 h-5 transition-transform duration-300 group-hover:scale-110"}),r.jsx("span",{className:"bg-gradient-to-r from-white to-blue-100 bg-clip-text text-transparent",children:"Verify Email"})]})]}),r.jsxs("div",{className:"mt-6 flex items-center justify-center gap-6",children:[r.jsxs("button",{type:"button",onClick:L,disabled:a>0||m,className:"inline-flex items-center gap-2 rounded-lg border border-white/20 bg-white/5 px-4 py-2 text-sm font-medium text-white/80 hover:bg-white/10 hover:text-white disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:[r.jsx(sp,{className:"w-4 h-4"}),m?"Resent code!":"Resend Code"]}),a>0&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"h-6 w-px bg-gradient-to-b from-transparent via-white/30 to-transparent"}),r.jsx("div",{className:"flex items-center text-white/60",children:r.jsx("span",{className:"text-lg font-mono font-semibold",children:j(a)})})]})]})]}),e==="success"&&r.jsxs("div",{className:"text-center space-y-6",children:[r.jsx(_s,{className:"mx-auto h-16 w-16 text-green-400 mb-4"}),r.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Account Activated"}),r.jsx("p",{className:"text-white/70 text-sm",children:"Your NewRun account is now active. Redirecting to your dashboard..."})]}),l&&e!=="success"&&r.jsx("div",{className:"mt-6 rounded-lg border border-blue-400/30 bg-blue-400/10 px-4 py-3 text-blue-200",children:l}),u&&r.jsx("div",{className:"rounded-md border border-red-500/40 bg-red-500/10 px-3 py-2 text-red-300",children:u}),e==="verify"&&r.jsx("div",{className:"mt-6 rounded-lg border border-blue-400/30 bg-blue-400/10 px-4 py-3 text-blue-200 text-center",children:r.jsx("p",{className:"text-sm",children:"A 6-digit verification code has been sent to your registered email address."})}),r.jsx("div",{className:"mt-6 text-center",children:r.jsxs("button",{onClick:()=>t("/login"),className:"text-sm text-white/60 hover:text-white transition-colors",children:[r.jsx(ao,{className:"inline h-4 w-4 mr-2"}),"Back to Login"]})})]})}),r.jsx(yL,{isShown:x,message:v,type:w,onClose:()=>b(!1)})]})};function AZ(){const[t]=IP(),e=pt(),[n,s]=f.useState(""),[i,a]=f.useState(""),[o,l]=f.useState(""),[c,u]=f.useState(!1),[d,h]=f.useState(!1),[p,m]=f.useState(!1),[g,x]=f.useState(!0),[b,v]=f.useState(""),[y,w]=f.useState(!1),[k,N]=f.useState(null);f.useEffect(()=>{const F=t.get("tokenId");F?(s(F),S(F)):(v("Invalid reset link. Please request a new password reset."),x(!1))},[t]);const S=async F=>{try{const $=await ge.post("/validate-reset-token",{tokenId:F});$.data.error?v($.data.message):N($.data.user)}catch{v("Invalid or expired reset link. Please request a new password reset.")}finally{x(!1)}},M=async F=>{var _,P;F.preventDefault();const $=eu(i);if(!$.isValid){v(`Password requirements not met: ${$.errors[0]}`);return}const I=mf(i,o);if(!I.isValid){v(I.error);return}m(!0),v("");try{const E=await ge.post("/reset-password",{tokenId:n,newPassword:i});E.data.error?v(E.data.message):(w(!0),setTimeout(()=>{e("/login")},3e3))}catch(E){v(((P=(_=E==null?void 0:E.response)==null?void 0:_.data)==null?void 0:P.message)||"Failed to reset password. Please try again.")}finally{m(!1)}},j=eu(i),C=mf(i,o),L=j.isValid,O=C.isValid&&o.length>0;return g?r.jsx("main",{className:"min-h-screen bg-[#0b0c0f] flex items-center justify-center p-4",children:r.jsx("div",{className:"w-full max-w-md",children:r.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/[0.02] p-8 shadow-xl text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),r.jsx("p",{className:"text-white/60",children:"Validating reset link..."})]})})}):y?r.jsx("main",{className:"min-h-screen bg-[#0b0c0f] flex items-center justify-center p-4",children:r.jsx("div",{className:"w-full max-w-md",children:r.jsxs(we.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"rounded-2xl border border-white/10 bg-white/[0.02] p-8 shadow-xl text-center",children:[r.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-green-500/10 border border-green-500/20",children:r.jsx(_s,{className:"h-8 w-8 text-green-400"})}),r.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Password Reset Successful!"}),r.jsx("p",{className:"text-white/60 mb-6",children:"Your password has been successfully reset. You will be redirected to the login page."}),r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-green-500 mx-auto"})]})})}):r.jsx("main",{className:"min-h-screen bg-[#0b0c0f] flex items-center justify-center p-4",children:r.jsx("div",{className:"w-full max-w-md",children:r.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/[0.02] p-8 shadow-xl",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-purple-500/10 border border-purple-500/20",children:r.jsx(qd,{className:"h-8 w-8 text-purple-400"})}),r.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Reset Your Password"}),k&&r.jsxs("p",{className:"text-white/60 text-sm",children:["Hello ",k.firstName,", please enter your new password below."]})]}),b&&r.jsxs(we.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 rounded-lg border border-red-500/40 bg-red-500/10 text-red-300 text-sm flex items-center gap-2",children:[r.jsx(Sm,{className:"h-4 w-4"}),b]}),r.jsxs("form",{onSubmit:M,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"New Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:c?"text":"password",value:i,onChange:F=>a(F.target.value),placeholder:"Enter new password",className:"h-11 w-full rounded-md border border-white/12 bg-white/[0.03] px-3 text-[14px] text-white outline-none placeholder:text-white/45 focus:border-sky-500 focus:ring-4 focus:ring-sky-500/10 pr-10",disabled:p,required:!0}),r.jsx("button",{type:"button",onClick:()=>u(!c),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors p-1",children:c?r.jsx(Wd,{size:16}):r.jsx(Hd,{size:16})})]}),i&&r.jsx(vL,{password:i,showDetails:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Confirm Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:d?"text":"password",value:o,onChange:F=>l(F.target.value),placeholder:"Confirm new password",className:"h-11 w-full rounded-md border border-white/12 bg-white/[0.03] px-3 text-[14px] text-white outline-none placeholder:text-white/45 focus:border-sky-500 focus:ring-4 focus:ring-sky-500/10 pr-10",disabled:p,required:!0}),r.jsx("button",{type:"button",onClick:()=>h(!d),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors p-1",children:d?r.jsx(Wd,{size:16}):r.jsx(Hd,{size:16})})]}),o&&r.jsx("div",{className:"mt-2 text-xs",children:r.jsxs("div",{className:`flex items-center gap-1 ${O?"text-green-400":"text-red-400"}`,children:[r.jsx("div",{className:`w-1 h-1 rounded-full ${O?"bg-green-400":"bg-red-400"}`}),O?"Passwords match":"Passwords do not match"]})})]}),r.jsx(we.button,{type:"submit",disabled:p||!L||!O,className:"w-full h-11 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white font-medium rounded-md transition-colors duration-200 flex items-center justify-center gap-2",whileHover:{scale:1.02},whileTap:{scale:.98},children:p?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Resetting Password..."]}):r.jsxs(r.Fragment,{children:[r.jsx(qd,{className:"h-4 w-4"}),"Reset Password"]})})]}),r.jsx("div",{className:"mt-6 text-center",children:r.jsxs("button",{onClick:()=>e("/login"),className:"text-blue-400 hover:text-blue-300 text-sm flex items-center justify-center gap-1 mx-auto",children:[r.jsx(ao,{className:"h-4 w-4"}),"Back to Login"]})})]})})})}const Rc="https://images.unsplash.com/photo-1501183638710-841dd1904471?q=80&w=1600&auto=format&fit=crop",q4=t=>typeof t=="string"&&/^https?:\/\//i.test(t),IZ=t=>t?Array.isArray(t)?t.find(q4)||Rc:typeof t=="string"&&q4(t)?t:Rc:Rc,OZ=t=>typeof t=="number"?t.toLocaleString("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}):t?`$${String(t).replace(/[^\d]/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,",")}`:"",RZ=t=>typeof t=="number"?`${t.toFixed((t<1,1))} mi`:t?`${t} mi`:"",DZ=t=>{if(!t)return"";if(typeof t=="string")return t;const{street:e,city:n,state:s,zipCode:i,zip:a}=t||{};return[e,n,s,i||a].filter(Boolean).join(", ")};function bL({property:t}){if(!t)return null;const{user:e}=Ji(),{_id:n,title:s,price:i,bedrooms:a,bathrooms:o,distanceFromUniversity:l,address:c,images:u,isVerified:d,userId:h}=t,p=e&&h&&e._id===h,m=f.useMemo(()=>IZ(u),[u]),[g,x]=f.useState(!1),[b,v]=f.useState(m);return r.jsxs(Ie,{to:`/properties/${n}`,className:"group block overflow-hidden rounded-2xl border border-white/10 bg-white/[0.03] shadow-[0_20px_60px_-20px_rgba(0,0,0,.5)] transition-transform hover:-translate-y-0.5",children:[r.jsxs("div",{className:"relative aspect-[16/9] overflow-hidden bg-[radial-gradient(120%_120%_at_0%_0%,#6e46ff22,transparent_60%),linear-gradient(180deg,#0f1117,#0b0c0f)]",children:[!g&&r.jsx("div",{className:"absolute inset-0 animate-pulse bg-white/5"}),r.jsx("img",{src:b,alt:s||"Property photo",loading:"lazy",onLoad:()=>x(!0),onError:()=>v(Rc),className:`absolute inset-0 h-full w-full object-cover transition-opacity duration-500 ${g?"opacity-100":"opacity-0"}`}),r.jsx("div",{className:"pointer-events-none absolute inset-x-0 bottom-0 h-24 bg-gradient-to-t from-black/60 to-transparent"})]}),r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"mb-1 flex items-start justify-between gap-3",children:[r.jsx("div",{className:"min-w-0",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h3",{className:"truncate text-[16px] font-semibold text-white/95",children:s||"Untitled listing"}),d&&r.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-emerald-400/30 bg-emerald-400/10 px-2 py-[2px] text-[10px] text-emerald-200",children:[r.jsx(fv,{className:"h-3 w-3"})," Verified"]})]})}),r.jsx("div",{className:"shrink-0 text-[15px] font-semibold text-white/95",children:OZ(i)})]}),p&&r.jsx("div",{className:"mb-2",children:r.jsx("span",{className:"inline-flex items-center gap-1 rounded-full border border-blue-400/40 bg-black/80 px-2 py-[2px] text-[10px] text-white font-medium",children:"Created by you"})}),r.jsxs("div",{className:"mb-2 flex items-center gap-3 text-[13px] text-white/70",children:[r.jsxs("span",{className:"inline-flex items-center gap-1",children:[r.jsx(__,{className:"h-4 w-4 text-violet-300/90"}),a??""," bd"]}),r.jsxs("span",{className:"inline-flex items-center gap-1",children:[r.jsx(jb,{className:"h-4 w-4 text-violet-300/90"}),o??""," ba"]}),r.jsxs("span",{className:"inline-flex items-center gap-1",children:[r.jsx(gv,{className:"h-4 w-4 text-violet-300/90"}),RZ(l)]})]}),r.jsx("div",{className:"truncate text-[13px] text-white/55",children:DZ(c)})]})]})}function $Z({onListProperty:t}){const[e,n]=f.useState(!1),[s,i]=f.useState(0),[a,o]=f.useState(0),[l,c]=f.useState(""),[u,d]=f.useState(!1),[h,p]=f.useState(0),[m,g]=f.useState(!1),[x,b]=f.useState(0),[v,y]=f.useState(""),[w,k]=f.useState(!1),N=["studio apartment","2 bedroom","near campus","furnished","pet friendly","utilities included"],S=[{text:"Safe, local, student-first.",color:"#10b981",glow:"0 0 6px #10b981, 0 0 12px #10b981"},{text:"Trusted by students worldwide.",color:"#3b82f6",glow:"0 0 6px #3b82f6, 0 0 12px #3b82f6"},{text:"Your campus housing marketplace.",color:"#8b5cf6",glow:"0 0 6px #8b5cf6, 0 0 12px #8b5cf6"},{text:"Find and list with confidence.",color:"#f97316",glow:"0 0 6px #f97316, 0 0 12px #f97316"},{text:"Connecting students everywhere.",color:"#eab308",glow:"0 0 6px #eab308, 0 0 12px #eab308"}];f.useEffect(()=>{n(!0);const L=setInterval(()=>{i(O=>(O+1)%N.length)},2e3);return()=>clearInterval(L)},[]),f.useEffect(()=>{const O=S[x].text;let F=0;y(""),k(!0);const $=setInterval(()=>{F<O.length?(y(O.slice(0,F+1)),F++):(k(!1),clearInterval($),setTimeout(()=>{b(I=>(I+1)%S.length)},5e3))},80);return()=>clearInterval($)},[x]),f.useEffect(()=>{const L=setInterval(()=>o(O=>Math.min(O+1,4)),1e3);return()=>clearInterval(L)},[]),f.useEffect(()=>{if(e){const L=setTimeout(()=>{g(!0),M()},1e3);return()=>clearTimeout(L)}},[e]);const M=()=>{const F=Date.now(),$=()=>{const I=Date.now()-F,_=Math.min(I/2e3,1),P=1-Math.pow(1-_,3),E=Math.floor(P*500);p(E),_<1&&requestAnimationFrame($)};requestAnimationFrame($)},j=L=>{if(L.preventDefault(),l.trim()){const O=document.getElementById("properties-grid");O&&(O.scrollIntoView({behavior:"smooth",block:"start"}),window.dispatchEvent(new CustomEvent("propertySearch",{detail:{query:l.trim()}})))}},C=L=>{c(L),d(!1)};return r.jsxs("section",{className:"nr-hero-bg nr-hero-starry relative flex min-h-[70vh] items-center overflow-hidden",children:[r.jsxs("div",{className:"absolute inset-0",children:[r.jsx("div",{className:"hero-orb absolute top-1/4 left-1/4 w-32 h-32 bg-gradient-to-r from-orange-500/10 to-cyan-500/10 rounded-full blur-3xl"}),r.jsx("div",{className:"hero-orb absolute bottom-1/4 right-1/4 w-48 h-48 bg-gradient-to-r from-blue-500/10 to-purple-500/10 rounded-full blur-3xl"}),r.jsx("div",{className:"hero-orb absolute top-1/2 right-1/3 w-24 h-24 bg-gradient-to-r from-emerald-500/10 to-teal-500/10 rounded-full blur-2xl"}),r.jsx("div",{className:"hero-orb absolute top-3/4 left-1/3 w-40 h-40 bg-gradient-to-r from-amber-500/8 to-orange-500/8 rounded-full blur-3xl"})]}),r.jsxs("div",{className:"mx-auto w-full max-w-[110rem] px-4 py-14 relative z-10",children:[r.jsx("div",{className:`text-center transition-all duration-1000 ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:r.jsxs("div",{className:"flex items-center justify-center gap-3 mb-8 flex-wrap",children:[r.jsxs("span",{className:"inline-flex items-center gap-2 text-sm text-white/70 rounded-full bg-white/5 px-3 py-1",children:[r.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),"Student-only housing"]}),r.jsxs("span",{className:"inline-flex items-center gap-2 text-sm text-white/70 rounded-full bg-white/5 px-3 py-1",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),"Verified .edu accounts"]}),r.jsxs("span",{className:"inline-flex items-center gap-2 text-sm text-white/70 rounded-full bg-white/5 px-3 py-1",children:[r.jsx("div",{className:"w-2 h-2 bg-orange-400 rounded-full"}),"Safe transactions"]})]})}),r.jsx("div",{className:`text-center transition-all duration-1000 delay-300 ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,children:r.jsxs("h1",{className:"mx-auto max-w-5xl text-center text-4xl font-black tracking-tight text-white md:text-6xl lg:text-7xl",children:["Find & list"," ",r.jsx("span",{className:"bg-gradient-to-r from-amber-400 via-amber-300 to-orange-500 bg-clip-text text-transparent animate-pulse",children:"student housing"})," ","in minutes.",r.jsx("br",{className:"hidden md:block"}),r.jsx("div",{className:"block mt-2 text-2xl md:text-3xl lg:text-4xl h-12 flex items-center justify-center",children:r.jsx("div",{className:"px-2 sm:px-3 md:px-4 py-1 sm:py-1.5 md:py-2 rounded-xl font-semibold rotating-text-glow",style:{animation:"fadeInUp 0.6s ease-in-out",color:S[x].color,textShadow:S[x].glow,letterSpacing:"-0.5px"},children:v.split("").map((L,O)=>r.jsx("span",{className:`typing-letter inline-block ${w&&O===v.length-1?"animate-pulse":""}`,style:{animationDelay:`${O*100}ms`,color:S[x].color,textShadow:S[x].glow,letterSpacing:"-0.5px"},children:L===" "?"":L},O))},x)})]})}),r.jsx("div",{className:`mx-auto mt-8 max-w-3xl transition-all duration-1000 delay-400 ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,children:r.jsx("form",{onSubmit:j,children:r.jsx("div",{className:"rounded-2xl border border-white/10 bg-white/5/50 p-3 backdrop-blur-md hover:bg-white/8/50 transition-all duration-300",children:r.jsxs("div",{className:"flex items-center gap-3 rounded-xl border border-white/10 bg-[#101215] px-4 py-3 hover:border-white/20 focus-within:border-amber-400/50 transition-all duration-200",children:[r.jsx("span",{className:"text-white/50 text-lg",children:""}),r.jsx("div",{className:"flex-1 relative",children:r.jsx("input",{type:"text",value:l,onChange:L=>c(L.target.value),onFocus:()=>d(!0),onBlur:()=>setTimeout(()=>d(!1),200),placeholder:u?"Search for properties...":`Try: ${N[s]}`,className:"w-full bg-transparent text-sm text-white placeholder:text-white/40 focus:outline-none transition-all duration-500"})}),r.jsx("button",{type:"submit",className:"rounded-full bg-gradient-to-r from-amber-500 to-orange-500 px-4 py-2 text-xs font-semibold text-black hover:from-amber-400 hover:to-orange-400 transition-all duration-200 hover:scale-105 shadow-lg shadow-amber-500/25",children:"Search"})]})})})}),u&&r.jsx("div",{className:"mx-auto mt-2 max-w-3xl relative",children:r.jsx("div",{className:"rounded-xl border border-white/10 bg-[#0f1115] backdrop-blur-xl shadow-2xl z-[9999] max-h-48 overflow-y-auto",children:r.jsxs("div",{className:"p-2",children:[r.jsx("div",{className:"text-xs text-white/60 px-3 py-2 border-b border-white/10 mb-2",children:"Popular searches"}),N.map((L,O)=>r.jsxs("button",{onClick:()=>C(L),className:"w-full text-left px-3 py-2 text-sm text-white/80 hover:bg-white/10 hover:text-white rounded-lg transition-all duration-200 flex items-center gap-2",children:[r.jsx("span",{className:"text-amber-400",children:""}),L]},O))]})})}),r.jsx("div",{className:`mt-8 text-center transition-all duration-1000 delay-500 ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:r.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[r.jsxs("button",{onClick:()=>{const L=document.getElementById("properties-grid");L&&L.scrollIntoView({behavior:"smooth",block:"start"})},className:"hero-cta-button group relative inline-flex items-center gap-3 rounded-full bg-gradient-to-r from-orange-500 to-orange-600 px-8 py-4 text-base font-bold text-black shadow-[0_12px_32px_rgba(255,153,0,.4)] hover:shadow-[0_16px_40px_rgba(255,153,0,.5)] hover:scale-105 transition-all duration-300 hover:from-orange-400 hover:to-orange-500",type:"button",children:[r.jsx("span",{children:"Explore properties"}),r.jsx("div",{className:"w-5 h-5 rounded-full bg-black/20 flex items-center justify-center group-hover:translate-x-1 transition-transform duration-200",children:r.jsx("div",{className:"w-2 h-2 bg-black rounded-full"})}),r.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-orange-500 to-orange-600 opacity-0 group-hover:opacity-20 blur-xl transition-opacity duration-300"})]}),r.jsxs("button",{onClick:t,className:"group inline-flex items-center gap-2 rounded-full border border-white/20 bg-white/5 px-6 py-3 text-sm text-white/85 hover:bg-white/10 hover:border-white/30 transition-all duration-200",children:[r.jsx("span",{className:"text-lg",children:"+"}),"List your property"]})]})}),r.jsx("div",{className:`mx-auto mt-8 flex justify-center transition-all duration-1000 delay-800 ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,children:r.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-4 py-2 backdrop-blur-sm",children:[r.jsx("div",{className:"w-2 h-2 bg-amber-400 rounded-full animate-pulse"}),r.jsxs("span",{className:"text-sm text-white/80",children:[r.jsx("span",{className:"font-bold text-amber-400",children:m?`${h}+`:"0+"}),r.jsx("span",{className:"ml-1",children:"Active Properties"})]})]})})]})]})}function FZ({children:t,delay:e=0}){const[n,s]=f.useState(!1);return f.useEffect(()=>{const i=setTimeout(()=>s(!0),e);return()=>clearTimeout(i)},[e]),r.jsx("span",{className:`inline-flex items-center rounded-full border border-white/15 bg-white/[0.04] px-3 py-1 text-[11px] font-medium text-white/70 backdrop-blur-sm hover:bg-white/[0.08] transition-all duration-300 ${n?"opacity-100 translate-y-0":"opacity-0 translate-y-2"}`,children:t})}function fh({className:t="",children:e,delay:n=0}){const[s,i]=f.useState(!1);return f.useEffect(()=>{const a=setTimeout(()=>i(!0),n);return()=>clearTimeout(a)},[n]),r.jsx("div",{className:`nr-panel hover:border-white/12 transition-all duration-300 ${s?"opacity-100 translate-y-0":"opacity-0 translate-y-4"} ${t}`,children:e})}function d0({children:t,delay:e=0}){const[n,s]=f.useState(!1);return f.useEffect(()=>{const i=setTimeout(()=>s(!0),e);return()=>clearTimeout(i)},[e]),r.jsx("div",{className:`nr-iconTile hover:scale-105 transition-all duration-300 ${n?"opacity-100 scale-100":"opacity-0 scale-95"}`,children:r.jsx("div",{className:"nr-iconTile-inner",children:t})})}const u0={Home:()=>r.jsxs("svg",{width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",children:[r.jsx("path",{d:"M3 9l9-4 9 4-9 4-9-4Z",stroke:"currentColor",strokeWidth:"1.6"}),r.jsx("path",{d:"M7 11v4c0 1.1 2.7 2 6 2s6-.9 6-2v-4",stroke:"currentColor",strokeWidth:"1.6"})]}),Map:()=>r.jsxs("svg",{width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",children:[r.jsx("path",{d:"M12 3 3 7.5 12 12l9-4.5L12 3Z",stroke:"currentColor",strokeWidth:"1.6"}),r.jsx("path",{d:"M3 7.5V16l9 4.5 9-4.5V7.5",stroke:"currentColor",strokeWidth:"1.6"}),r.jsx("path",{d:"M12 12v8.5",stroke:"currentColor",strokeWidth:"1.6"})]}),Shield:()=>r.jsxs("svg",{width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",children:[r.jsx("path",{d:"M12 3 4 6v6c0 4.5 3.4 7.3 8 9 4.6-1.7 8-4.5 8-9V6l-8-3Z",stroke:"currentColor",strokeWidth:"1.6"}),r.jsx("path",{d:"M9 12l2 2 4-4",stroke:"currentColor",strokeWidth:"1.6"})]})};function zZ(){const[t,e]=f.useState(!1),n=["Studio","1 Bedroom","2 Bedroom","3 Bedroom","Furnished","Unfurnished","Near Campus","Pet Friendly","Utilities Included","Parking","Laundry","WiFi"];return f.useEffect(()=>{e(!0)},[]),r.jsxs("section",{className:"nr-dots-fade mx-auto max-w-7xl px-4 pt-10 pb-16",children:[r.jsxs("div",{className:`mb-8 text-center transition-all duration-1000 ${t?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:[r.jsx(FZ,{delay:200,children:"WHY NEWRUN HOUSING"}),r.jsx("h2",{className:"mt-4 text-4xl font-black tracking-tight sm:text-[44px] bg-gradient-to-r from-white to-white/80 bg-clip-text text-transparent",children:"The easiest way to find housing on campus."}),r.jsx("p",{className:"mt-4 text-white/60 max-w-2xl mx-auto",children:"Join thousands of students finding and listing student housing safely and efficiently."})]}),r.jsxs("div",{className:"grid gap-6 lg:grid-cols-12",children:[r.jsxs(fh,{className:"relative overflow-hidden lg:col-span-7",delay:400,children:[r.jsx("div",{className:"mb-6",children:r.jsx("span",{className:"rounded-full border border-white/15 bg-white/[0.03] px-3 py-1.5 text-[11px] text-white/70 backdrop-blur-sm",children:" Find Your Home"})}),r.jsxs("h3",{className:"max-w-xl text-[30px] font-extrabold leading-tight sm:text-[34px] bg-gradient-to-r from-white to-white/90 bg-clip-text text-transparent",children:["Find housing with real classmates",r.jsx("br",{})," no sketchy landlords."]}),r.jsx("p",{className:"mt-4 max-w-xl text-white/80 text-lg leading-relaxed",children:"Sign in with your .edu email, browse verified properties, and connect with student landlords. Your details stay private until access is approved."}),r.jsx("div",{className:"mt-6 nr-marquee",style:{"--nr-gap":"12px","--nr-marquee-dur":"25s"},children:r.jsxs("div",{className:"nr-marquee-track",children:[n.map((s,i)=>r.jsx("span",{className:"nr-chip hover:bg-white/10 transition-colors duration-200",children:s},`a-${i}`)),n.map((s,i)=>r.jsx("span",{className:"nr-chip hover:bg-white/10 transition-colors duration-200",children:s},`b-${i}`))]})}),r.jsx("div",{className:"mt-8",children:r.jsxs("a",{href:"#properties-grid",className:"group inline-flex items-center gap-2 rounded-xl bg-gradient-to-r from-amber-500 to-orange-600 px-6 py-3 text-sm font-semibold text-black shadow-[0_10px_30px_rgba(255,153,0,.22)] hover:shadow-[0_15px_40px_rgba(255,153,0,.3)] hover:scale-105 transition-all duration-200",children:["Explore properties",r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",className:"group-hover:translate-x-1 transition-transform duration-200",children:r.jsx("path",{d:"M5 12h14M13 5l7 7-7 7",stroke:"currentColor",strokeWidth:"2",fill:"none"})})]})}),r.jsx("div",{className:"nr-ramp","aria-hidden":!0})]}),r.jsxs("div",{className:"flex flex-col gap-5 lg:col-span-5",children:[r.jsxs(fh,{className:"flex items-start gap-4 p-5 sm:p-6 hover:bg-white/[0.02] transition-all duration-300",delay:600,children:[r.jsx(d0,{delay:700,children:r.jsx(u0.Home,{})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-[12px] font-semibold tracking-wide text-white/60",children:"VERIFIED STUDENTS"}),r.jsx("h4",{className:"mt-1 text-[18px] font-semibold text-white",children:"Sign in with .edu"}),r.jsx("p",{className:"mt-2 text-white/75 leading-relaxed",children:"Renters and landlords know they're dealing with real classmates."})]})]}),r.jsxs(fh,{className:"flex items-start gap-4 p-5 sm:p-6 hover:bg-white/[0.02] transition-all duration-300",delay:800,children:[r.jsx(d0,{delay:900,children:r.jsx(u0.Map,{})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-[12px] font-semibold tracking-wide text-white/60",children:"LOCATION FILTERING"}),r.jsx("h4",{className:"mt-1 text-[18px] font-semibold text-white",children:"Find what works"}),r.jsx("p",{className:"mt-2 text-white/75 leading-relaxed",children:"Filter by distance from campus, price range, and amenities  find your perfect match."})]})]}),r.jsxs(fh,{className:"flex items-start gap-4 p-5 sm:p-6 hover:bg-white/[0.02] transition-all duration-300",delay:1e3,children:[r.jsx(d0,{delay:1100,children:r.jsx(u0.Shield,{})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-[12px] font-semibold tracking-wide text-white/60",children:"SAFE CONTACT SHARING"}),r.jsx("h4",{className:"mt-1 text-[18px] font-semibold text-white",children:"Privacy by default"}),r.jsx("p",{className:"mt-2 text-white/75 leading-relaxed",children:"When access is approved, share only what's needed  nothing more."})]})]})]})]})]})}var wL={exports:{}},BZ="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",UZ=BZ,VZ=UZ;function jL(){}function NL(){}NL.resetWarningCache=jL;var WZ=function(){function t(s,i,a,o,l,c){if(c!==VZ){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:NL,resetWarningCache:jL};return n.PropTypes=n,n};wL.exports=WZ();var bw=wL.exports;const ct=Ty(bw),HZ=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function El(t,e,n){const s=qZ(t),{webkitRelativePath:i}=t,a=typeof e=="string"?e:typeof i=="string"&&i.length>0?i:`./${t.name}`;return typeof s.path!="string"&&K4(s,"path",a),K4(s,"relativePath",a),s}function qZ(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const s=e.split(".").pop().toLowerCase(),i=HZ.get(s);i&&Object.defineProperty(t,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return t}function K4(t,e,n){Object.defineProperty(t,e,{value:n,writable:!1,configurable:!1,enumerable:!0})}const KZ=[".DS_Store","Thumbs.db"];function GZ(t){return no(this,void 0,void 0,function*(){return gf(t)&&YZ(t.dataTransfer)?JZ(t.dataTransfer,t.type):XZ(t)?ZZ(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?QZ(t):[]})}function YZ(t){return gf(t)}function XZ(t){return gf(t)&&gf(t.target)}function gf(t){return typeof t=="object"&&t!==null}function ZZ(t){return sy(t.target.files).map(e=>El(e))}function QZ(t){return no(this,void 0,void 0,function*(){return(yield Promise.all(t.map(n=>n.getFile()))).map(n=>El(n))})}function JZ(t,e){return no(this,void 0,void 0,function*(){if(t.items){const n=sy(t.items).filter(i=>i.kind==="file");if(e!=="drop")return n;const s=yield Promise.all(n.map(eQ));return G4(kL(s))}return G4(sy(t.files).map(n=>El(n)))})}function G4(t){return t.filter(e=>KZ.indexOf(e.name)===-1)}function sy(t){if(t===null)return[];const e=[];for(let n=0;n<t.length;n++){const s=t[n];e.push(s)}return e}function eQ(t){if(typeof t.webkitGetAsEntry!="function")return Y4(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?SL(e):Y4(t,e)}function kL(t){return t.reduce((e,n)=>[...e,...Array.isArray(n)?kL(n):[n]],[])}function Y4(t,e){return no(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const a=yield t.getAsFileSystemHandle();if(a===null)throw new Error(`${t} is not a File`);if(a!==void 0){const o=yield a.getFile();return o.handle=a,El(o)}}const s=t.getAsFile();if(!s)throw new Error(`${t} is not a File`);return El(s,(n=e==null?void 0:e.fullPath)!==null&&n!==void 0?n:void 0)})}function tQ(t){return no(this,void 0,void 0,function*(){return t.isDirectory?SL(t):nQ(t)})}function SL(t){const e=t.createReader();return new Promise((n,s)=>{const i=[];function a(){e.readEntries(o=>no(this,void 0,void 0,function*(){if(o.length){const l=Promise.all(o.map(tQ));i.push(l),a()}else try{const l=yield Promise.all(i);n(l)}catch(l){s(l)}}),o=>{s(o)})}a()})}function nQ(t){return no(this,void 0,void 0,function*(){return new Promise((e,n)=>{t.file(s=>{const i=El(s,t.fullPath);e(i)},s=>{n(s)})})})}var h0=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(",");if(n.length===0)return!0;var s=t.name||"",i=(t.type||"").toLowerCase(),a=i.replace(/\/.*$/,"");return n.some(function(o){var l=o.trim().toLowerCase();return l.charAt(0)==="."?s.toLowerCase().endsWith(l):l.endsWith("/*")?a===l.replace(/\/.*$/,""):i===l})}return!0};function X4(t){return iQ(t)||rQ(t)||EL(t)||sQ()}function sQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function iQ(t){if(Array.isArray(t))return ry(t)}function Z4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function Q4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z4(Object(n),!0).forEach(function(s){CL(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z4(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function CL(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tu(t,e){return lQ(t)||oQ(t,e)||EL(t,e)||aQ()}function aQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EL(t,e){if(t){if(typeof t=="string")return ry(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ry(t,e)}}function ry(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,s=new Array(e);n<e;n++)s[n]=t[n];return s}function oQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var s=[],i=!0,a=!1,o,l;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(s.push(o.value),!(e&&s.length===e));i=!0);}catch(c){a=!0,l=c}finally{try{!i&&n.return!=null&&n.return()}finally{if(a)throw l}}return s}}function lQ(t){if(Array.isArray(t))return t}var cQ=typeof h0=="function"?h0:h0.default,dQ="file-invalid-type",uQ="file-too-large",hQ="file-too-small",pQ="too-many-files",fQ=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=e.split(","),s=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:dQ,message:"File type must be ".concat(s)}},J4=function(e){return{code:uQ,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},ek=function(e){return{code:hQ,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},mQ={code:pQ,message:"Too many files"};function PL(t,e){var n=t.type==="application/x-moz-file"||cQ(t,e);return[n,n?null:fQ(e)]}function _L(t,e,n){if(xa(t.size))if(xa(e)&&xa(n)){if(t.size>n)return[!1,J4(n)];if(t.size<e)return[!1,ek(e)]}else{if(xa(e)&&t.size<e)return[!1,ek(e)];if(xa(n)&&t.size>n)return[!1,J4(n)]}return[!0,null]}function xa(t){return t!=null}function gQ(t){var e=t.files,n=t.accept,s=t.minSize,i=t.maxSize,a=t.multiple,o=t.maxFiles,l=t.validator;return!a&&e.length>1||a&&o>=1&&e.length>o?!1:e.every(function(c){var u=PL(c,n),d=tu(u,1),h=d[0],p=_L(c,s,i),m=tu(p,1),g=m[0],x=l?l(c):null;return h&&g&&!x})}function xf(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function mh(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function tk(t){t.preventDefault()}function xQ(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function vQ(t){return t.indexOf("Edge/")!==-1}function yQ(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return xQ(t)||vQ(t)}function dr(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(s){for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];return e.some(function(l){return!xf(s)&&l&&l.apply(void 0,[s].concat(a)),xf(s)})}}function bQ(){return"showOpenFilePicker"in window}function wQ(t){if(xa(t)){var e=Object.entries(t).filter(function(n){var s=tu(n,2),i=s[0],a=s[1],o=!0;return ML(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(a)||!a.every(TL))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(n,s){var i=tu(s,2),a=i[0],o=i[1];return Q4(Q4({},n),{},CL({},a,o))},{});return[{description:"Files",accept:e}]}return t}function jQ(t){if(xa(t))return Object.entries(t).reduce(function(e,n){var s=tu(n,2),i=s[0],a=s[1];return[].concat(X4(e),[i],X4(a))},[]).filter(function(e){return ML(e)||TL(e)}).join(",")}function NQ(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function kQ(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function ML(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function TL(t){return/^.*\.[\w]+$/.test(t)}var SQ=["children"],CQ=["open"],EQ=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],PQ=["refKey","onChange","onClick"];function _Q(t){return LQ(t)||TQ(t)||LL(t)||MQ()}function MQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function LQ(t){if(Array.isArray(t))return iy(t)}function p0(t,e){return OQ(t)||IQ(t,e)||LL(t,e)||AQ()}function AQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LL(t,e){if(t){if(typeof t=="string")return iy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iy(t,e)}}function iy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,s=new Array(e);n<e;n++)s[n]=t[n];return s}function IQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var s=[],i=!0,a=!1,o,l;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(s.push(o.value),!(e&&s.length===e));i=!0);}catch(c){a=!0,l=c}finally{try{!i&&n.return!=null&&n.return()}finally{if(a)throw l}}return s}}function OQ(t){if(Array.isArray(t))return t}function nk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function Ct(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nk(Object(n),!0).forEach(function(s){ay(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nk(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function ay(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vf(t,e){if(t==null)return{};var n=RQ(t,e),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)s=a[i],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function RQ(t,e){if(t==null)return{};var n={},s=Object.keys(t),i,a;for(a=0;a<s.length;a++)i=s[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var ww=f.forwardRef(function(t,e){var n=t.children,s=vf(t,SQ),i=Su(s),a=i.open,o=vf(i,CQ);return f.useImperativeHandle(e,function(){return{open:a}},[a]),_e.createElement(f.Fragment,null,n(Ct(Ct({},o),{},{open:a})))});ww.displayName="Dropzone";var AL={disabled:!1,getFilesFromEvent:GZ,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};ww.defaultProps=AL;ww.propTypes={children:ct.func,accept:ct.objectOf(ct.arrayOf(ct.string)),multiple:ct.bool,preventDropOnDocument:ct.bool,noClick:ct.bool,noKeyboard:ct.bool,noDrag:ct.bool,noDragEventsBubbling:ct.bool,minSize:ct.number,maxSize:ct.number,maxFiles:ct.number,disabled:ct.bool,getFilesFromEvent:ct.func,onFileDialogCancel:ct.func,onFileDialogOpen:ct.func,useFsAccessApi:ct.bool,autoFocus:ct.bool,onDragEnter:ct.func,onDragLeave:ct.func,onDragOver:ct.func,onDrop:ct.func,onDropAccepted:ct.func,onDropRejected:ct.func,onError:ct.func,validator:ct.func};var oy={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Su(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Ct(Ct({},AL),t),n=e.accept,s=e.disabled,i=e.getFilesFromEvent,a=e.maxSize,o=e.minSize,l=e.multiple,c=e.maxFiles,u=e.onDragEnter,d=e.onDragLeave,h=e.onDragOver,p=e.onDrop,m=e.onDropAccepted,g=e.onDropRejected,x=e.onFileDialogCancel,b=e.onFileDialogOpen,v=e.useFsAccessApi,y=e.autoFocus,w=e.preventDropOnDocument,k=e.noClick,N=e.noKeyboard,S=e.noDrag,M=e.noDragEventsBubbling,j=e.onError,C=e.validator,L=f.useMemo(function(){return jQ(n)},[n]),O=f.useMemo(function(){return wQ(n)},[n]),F=f.useMemo(function(){return typeof b=="function"?b:sk},[b]),$=f.useMemo(function(){return typeof x=="function"?x:sk},[x]),I=f.useRef(null),_=f.useRef(null),P=f.useReducer(DQ,oy),E=p0(P,2),T=E[0],D=E[1],R=T.isFocused,z=T.isFileDialogActive,q=f.useRef(typeof window<"u"&&window.isSecureContext&&v&&bQ()),H=function(){!q.current&&z&&setTimeout(function(){if(_.current){var Y=_.current.files;Y.length||(D({type:"closeDialog"}),$())}},300)};f.useEffect(function(){return window.addEventListener("focus",H,!1),function(){window.removeEventListener("focus",H,!1)}},[_,z,$,q]);var U=f.useRef([]),B=function(Y){I.current&&I.current.contains(Y.target)||(Y.preventDefault(),U.current=[])};f.useEffect(function(){return w&&(document.addEventListener("dragover",tk,!1),document.addEventListener("drop",B,!1)),function(){w&&(document.removeEventListener("dragover",tk),document.removeEventListener("drop",B))}},[I,w]),f.useEffect(function(){return!s&&y&&I.current&&I.current.focus(),function(){}},[I,y,s]);var V=f.useCallback(function(A){j?j(A):console.error(A)},[j]),G=f.useCallback(function(A){A.preventDefault(),A.persist(),ye(A),U.current=[].concat(_Q(U.current),[A.target]),mh(A)&&Promise.resolve(i(A)).then(function(Y){if(!(xf(A)&&!M)){var Z=Y.length,ae=Z>0&&gQ({files:Y,accept:L,minSize:o,maxSize:a,multiple:l,maxFiles:c,validator:C}),ue=Z>0&&!ae;D({isDragAccept:ae,isDragReject:ue,isDragActive:!0,type:"setDraggedFiles"}),u&&u(A)}}).catch(function(Y){return V(Y)})},[i,u,V,M,L,o,a,l,c,C]),Q=f.useCallback(function(A){A.preventDefault(),A.persist(),ye(A);var Y=mh(A);if(Y&&A.dataTransfer)try{A.dataTransfer.dropEffect="copy"}catch{}return Y&&h&&h(A),!1},[h,M]),se=f.useCallback(function(A){A.preventDefault(),A.persist(),ye(A);var Y=U.current.filter(function(ae){return I.current&&I.current.contains(ae)}),Z=Y.indexOf(A.target);Z!==-1&&Y.splice(Z,1),U.current=Y,!(Y.length>0)&&(D({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),mh(A)&&d&&d(A))},[I,d,M]),te=f.useCallback(function(A,Y){var Z=[],ae=[];A.forEach(function(ue){var he=PL(ue,L),je=p0(he,2),Ee=je[0],Oe=je[1],qe=_L(ue,o,a),rt=p0(qe,2),ot=rt[0],lt=rt[1],et=C?C(ue):null;if(Ee&&ot&&!et)Z.push(ue);else{var Ot=[Oe,lt];et&&(Ot=Ot.concat(et)),ae.push({file:ue,errors:Ot.filter(function(xt){return xt})})}}),(!l&&Z.length>1||l&&c>=1&&Z.length>c)&&(Z.forEach(function(ue){ae.push({file:ue,errors:[mQ]})}),Z.splice(0)),D({acceptedFiles:Z,fileRejections:ae,isDragReject:ae.length>0,type:"setFiles"}),p&&p(Z,ae,Y),ae.length>0&&g&&g(ae,Y),Z.length>0&&m&&m(Z,Y)},[D,l,L,o,a,c,p,m,g,C]),K=f.useCallback(function(A){A.preventDefault(),A.persist(),ye(A),U.current=[],mh(A)&&Promise.resolve(i(A)).then(function(Y){xf(A)&&!M||te(Y,A)}).catch(function(Y){return V(Y)}),D({type:"reset"})},[i,te,V,M]),J=f.useCallback(function(){if(q.current){D({type:"openDialog"}),F();var A={multiple:l,types:O};window.showOpenFilePicker(A).then(function(Y){return i(Y)}).then(function(Y){te(Y,null),D({type:"closeDialog"})}).catch(function(Y){NQ(Y)?($(Y),D({type:"closeDialog"})):kQ(Y)?(q.current=!1,_.current?(_.current.value=null,_.current.click()):V(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):V(Y)});return}_.current&&(D({type:"openDialog"}),F(),_.current.value=null,_.current.click())},[D,F,$,v,te,V,O,l]),fe=f.useCallback(function(A){!I.current||!I.current.isEqualNode(A.target)||(A.key===" "||A.key==="Enter"||A.keyCode===32||A.keyCode===13)&&(A.preventDefault(),J())},[I,J]),le=f.useCallback(function(){D({type:"focus"})},[]),ce=f.useCallback(function(){D({type:"blur"})},[]),ne=f.useCallback(function(){k||(yQ()?setTimeout(J,0):J())},[k,J]),ie=function(Y){return s?null:Y},de=function(Y){return N?null:ie(Y)},ee=function(Y){return S?null:ie(Y)},ye=function(Y){M&&Y.stopPropagation()},xe=f.useMemo(function(){return function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Y=A.refKey,Z=Y===void 0?"ref":Y,ae=A.role,ue=A.onKeyDown,he=A.onFocus,je=A.onBlur,Ee=A.onClick,Oe=A.onDragEnter,qe=A.onDragOver,rt=A.onDragLeave,ot=A.onDrop,lt=vf(A,EQ);return Ct(Ct(ay({onKeyDown:de(dr(ue,fe)),onFocus:de(dr(he,le)),onBlur:de(dr(je,ce)),onClick:ie(dr(Ee,ne)),onDragEnter:ee(dr(Oe,G)),onDragOver:ee(dr(qe,Q)),onDragLeave:ee(dr(rt,se)),onDrop:ee(dr(ot,K)),role:typeof ae=="string"&&ae!==""?ae:"presentation"},Z,I),!s&&!N?{tabIndex:0}:{}),lt)}},[I,fe,le,ce,ne,G,Q,se,K,N,S,s]),Ce=f.useCallback(function(A){A.stopPropagation()},[]),X=f.useMemo(function(){return function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Y=A.refKey,Z=Y===void 0?"ref":Y,ae=A.onChange,ue=A.onClick,he=vf(A,PQ),je=ay({accept:L,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:ie(dr(ae,K)),onClick:ie(dr(ue,Ce)),tabIndex:-1},Z,_);return Ct(Ct({},je),he)}},[_,n,l,K,s]);return Ct(Ct({},T),{},{isFocused:R&&!s,getRootProps:xe,getInputProps:X,rootRef:I,inputRef:_,open:ie(J)})}function DQ(t,e){switch(e.type){case"focus":return Ct(Ct({},t),{},{isFocused:!0});case"blur":return Ct(Ct({},t),{},{isFocused:!1});case"openDialog":return Ct(Ct({},oy),{},{isFileDialogActive:!0});case"closeDialog":return Ct(Ct({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return Ct(Ct({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return Ct(Ct({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return Ct({},oy);default:return t}}function sk(){}const _m=({isOpen:t,onClose:e,title:n,children:s,width:i="w-96",maxWidth:a="max-w-md",className:o=""})=>(f.useEffect(()=>{const l=c=>{c.key==="Escape"&&t&&e()};return t&&(document.addEventListener("keydown",l),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",l),document.body.style.overflow="unset"}},[t,e]),r.jsx(_1,{children:t&&r.jsxs(r.Fragment,{children:[r.jsx(we.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40",onClick:e}),r.jsxs(we.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:30,stiffness:300},className:`fixed right-0 top-0 h-full ${i} ${a} bg-[#0f1115] border-l border-white/10 shadow-2xl z-50 flex flex-col ${o}`,children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/10 bg-gradient-to-r from-white/5 to-transparent",children:[r.jsx("h2",{className:"text-xl font-semibold text-white",children:n}),r.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-white/10 transition-colors duration-200 group","aria-label":"Close drawer",children:r.jsx("svg",{className:"w-5 h-5 text-white/70 group-hover:text-white transition-colors duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),r.jsx("div",{className:"flex-1 overflow-hidden",children:s})]})]})})),IL=({isOpen:t,onClose:e,propertyData:n,onPropertyCreated:s,onPropertyUpdated:i})=>{console.log("PropertyDrawer rendering, isOpen:",t);const[a,o]=f.useState(1),[l,c]=f.useState(!1),[u,d]=f.useState(null),[h,p]=f.useState({title:"",content:"",price:"",bedrooms:1,bathrooms:1,distanceFromUniversity:"",address:{street:"",city:"",state:"",zipCode:""},availabilityStatus:"available",contactInfo:{name:"",phone:"",email:""},description:"",isFeatured:!1,tags:[]}),[m,g]=f.useState([]),[x,b]=f.useState({}),v=!!n;f.useEffect(()=>{if(!t)return;(async()=>{try{console.log("Fetching user info for auto-fill...");const P=await ge.get("/get-user");if(console.log("User API response:",P.data),P.data&&P.data.user){const E=P.data.user;d(E);const T=`${E.firstName||""} ${E.lastName||""}`.trim(),D=E.phone||"",R=E.email||"";console.log("Auto-filling contact info from API:",{fullName:T,phone:D,email:R}),p(z=>({...z,contactInfo:{name:T,phone:D,email:R}}));return}}catch(P){console.error("Error fetching user info from API:",P)}})()},[t]),f.useEffect(()=>{v&&n&&p({title:n.title||"",content:n.content||"",price:n.price||"",bedrooms:n.bedrooms||1,bathrooms:n.bathrooms||1,distanceFromUniversity:n.distanceFromUniversity||"",address:n.address||{street:"",city:"",state:"",zipCode:""},availabilityStatus:n.availabilityStatus||"available",contactInfo:n.contactInfo||{name:"",phone:"",email:""},description:n.description||"",isFeatured:n.isFeatured||!1,tags:n.tags||[]})},[v,n]),f.useEffect(()=>{b({})},[a]);const{getRootProps:y,getInputProps:w}=Su({onDrop:_=>{g(P=>[...P,..._])},accept:{"image/*":[".jpeg",".jpg",".png",".gif",".webp"]},multiple:!0}),k=_=>{g(P=>P.filter((E,T)=>T!==_))},N=async()=>{if(m.length===0)return[];const _=new FormData;m.forEach(P=>{_.append("images",P)}),console.log("Uploading images:",m.length,"files"),console.log("FormData entries:",Array.from(_.entries()));try{return(await It.post("http://localhost:8000/upload-images",_,{headers:{"Content-Type":"multipart/form-data"}})).data.imageUrls}catch(P){throw console.error("Error uploading images:",P),P}},S=(_,P)=>{const E={};switch(_){case 1:P.title.trim()||(E.title="Property title is required"),P.content.trim()||(E.content="Property description is required"),(!P.price||Number(P.price)<=0)&&(E.price="Valid price is required");break;case 2:(!P.bedrooms||P.bedrooms<1)&&(E.bedrooms="Number of bedrooms is required"),(!P.bathrooms||Number(P.bathrooms)<1)&&(E.bathrooms="Number of bathrooms is required"),P.distanceFromUniversity||(E.distanceFromUniversity="Distance from university is required");break;case 3:P.address.street.trim()||(E.street="Street address is required"),P.address.city.trim()||(E.city="City is required"),P.address.state.trim()||(E.state="State is required");break;case 4:P.contactInfo.name.trim()||(E.contactName="Contact name is required"),P.contactInfo.phone.trim()||(E.contactPhone="Phone number is required"),P.contactInfo.email.trim()||(E.contactEmail="Email is required");break}return E},M=_e.useMemo(()=>(console.log("Recalculating stepErrors for step:",a),S(a,h)),[a,h]),j=Object.keys(M).length===0,C=(_,P=h)=>{const E=S(_,P);return b(E),Object.keys(E).length===0},L=_=>{_.preventDefault(),_.stopPropagation(),C(a,h)&&o(P=>Math.min(P+1,5))},O=_=>{_.preventDefault(),_.stopPropagation(),o(P=>Math.max(P-1,1))},F=async _=>{var P,E,T,D;if(_.preventDefault(),_.stopPropagation(),!!C(a,h)){if(!h.title||!h.price||!h.address.street||!h.address.city||!h.address.state||!h.contactInfo.name||!h.contactInfo.phone||!h.contactInfo.email){b({submit:"Please fill in all required fields before submitting."});return}c(!0);try{const R=await N(),z={title:h.title,content:h.content||h.title,price:Number(h.price),bedrooms:Number(h.bedrooms),bathrooms:Number(h.bathrooms),distanceFromUniversity:Number(h.distanceFromUniversity)||0,address:{street:h.address.street,city:h.address.city,state:h.address.state,zipCode:h.address.zipCode||"00000"},availabilityStatus:h.availabilityStatus,images:R,contactInfo:{name:h.contactInfo.name,phone:h.contactInfo.phone,email:h.contactInfo.email},description:h.description,isFeatured:h.isFeatured,tags:h.tags||[]};console.log("Sending payload:",z),console.log("Auth token:",localStorage.getItem("accessToken"));let q;v?(q=await ge.put(`/properties/${n._id}`,z),i==null||i(q.data.property)):(q=await ge.post("/add-property",z),s==null||s(q.data.property)),p({title:"",content:"",price:"",bedrooms:1,bathrooms:1,distanceFromUniversity:"",address:{street:"",city:"",state:"",zipCode:""},availabilityStatus:"available",contactInfo:{name:"",phone:"",email:""},description:"",isFeatured:!1,tags:[]}),g([]),o(1),e()}catch(R){console.error("Error saving property:",R),console.error("Error response:",(P=R.response)==null?void 0:P.data),console.error("Error status:",(E=R.response)==null?void 0:E.status),b({submit:`Failed to save property: ${((D=(T=R.response)==null?void 0:T.data)==null?void 0:D.message)||R.message||"Please try again."}`})}finally{c(!1)}}},$=(_,P)=>{if(_.includes(".")){const[E,T]=_.split(".");p(D=>({...D,[E]:{...D[E],[T]:P}}))}else p(E=>({...E,[_]:P}))},I=()=>{switch(a){case 1:return r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"mb-4 p-3 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:r.jsxs("p",{className:"text-sm text-blue-300",children:[r.jsx("span",{className:"font-medium",children:"Step 1:"})," Fill in the basic information about your property. All fields marked with * are required."]})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Property Title *"}),r.jsx("input",{type:"text",value:h.title,onChange:_=>$("title",_.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/50 focus:ring-2 focus:ring-orange-500/50 focus:border-orange-500/50 transition-colors",placeholder:"e.g., Cozy 2BR Apartment near Campus"}),x.title&&r.jsx("p",{className:"text-red-400 text-sm mt-1",children:x.title})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Property Description *"}),r.jsx("textarea",{value:h.content,onChange:_=>$("content",_.target.value),rows:4,className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/50 focus:ring-2 focus:ring-orange-500/50 focus:border-orange-500/50 transition-colors resize-none",placeholder:"Describe your property, amenities, and what makes it special..."}),x.content&&r.jsx("p",{className:"text-red-400 text-sm mt-1",children:x.content})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Monthly Rent *"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white/50",children:"$"}),r.jsx("input",{type:"number",value:h.price,onChange:_=>$("price",_.target.value),className:"w-full pl-8 pr-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/50 focus:ring-2 focus:ring-orange-500/50 focus:border-orange-500/50 transition-colors",placeholder:"1200"})]}),x.price&&r.jsx("p",{className:"text-red-400 text-sm mt-1",children:x.price})]})]});case 2:return r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"mb-4 p-3 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:r.jsxs("p",{className:"text-sm text-blue-300",children:[r.jsx("span",{className:"font-medium",children:"Step 2:"})," Provide the property details and specifications."]})}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Bedrooms *"}),r.jsx("select",{value:h.bedrooms,onChange:_=>$("bedrooms",parseInt(_.target.value)),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white focus:ring-2 focus:ring-orange-500/50 focus:border-orange-500/50 transition-colors",children:[1,2,3,4,5,6].map(_=>r.jsxs("option",{value:_,className:"bg-gray-800",children:[_," ",_===1?"Bedroom":"Bedrooms"]},_))}),x.bedrooms&&r.jsx("p",{className:"text-red-400 text-sm mt-1",children:x.bedrooms})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Bathrooms *"}),r.jsx("select",{value:h.bathrooms,onChange:_=>$("bathrooms",parseFloat(_.target.value)),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white focus:ring-2 focus:ring-orange-500/50 focus:border-orange-500/50 transition-colors",children:[1,1.5,2,2.5,3,3.5,4].map(_=>r.jsxs("option",{value:_,className:"bg-gray-800",children:[_," ",_===1?"Bathroom":"Bathrooms"]},_))}),x.bathrooms&&r.jsx("p",{className:"text-red-400 text-sm mt-1",children:x.bathrooms})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Distance from University *"}),r.jsx("input",{type:"text",value:h.distanceFromUniversity,onChange:_=>$("distanceFromUniversity",_.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/50 focus:ring-2 focus:ring-orange-500/50 focus:border-orange-500/50 transition-colors",placeholder:"e.g., 0.5 miles, 10 minutes walk"}),x.distanceFromUniversity&&r.jsx("p",{className:"text-red-400 text-sm mt-1",children:x.distanceFromUniversity})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Availability Status"}),r.jsxs("select",{value:h.availabilityStatus,onChange:_=>$("availabilityStatus",_.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white focus:ring-2 focus:ring-orange-500/50 focus:border-orange-500/50 transition-colors",children:[r.jsx("option",{value:"available",className:"bg-gray-800",children:"Available Now"}),r.jsx("option",{value:"coming_soon",className:"bg-gray-800",children:"Coming Soon"}),r.jsx("option",{value:"rented",className:"bg-gray-800",children:"Rented"})]})]})]});case 3:return r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"mb-4 p-3 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:r.jsxs("p",{className:"text-sm text-blue-300",children:[r.jsx("span",{className:"font-medium",children:"Step 3:"})," Provide the property location details."]})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Street Address *"}),r.jsx("input",{type:"text",value:h.address.street,onChange:_=>$("address.street",_.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/50 focus:ring-2 focus:ring-orange-500/50 focus:border-orange-500/50 transition-colors",placeholder:"123 Main Street"}),x.street&&r.jsx("p",{className:"text-red-400 text-sm mt-1",children:x.street})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"City *"}),r.jsx("input",{type:"text",value:h.address.city,onChange:_=>$("address.city",_.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/50 focus:ring-2 focus:ring-orange-500/50 focus:border-orange-500/50 transition-colors",placeholder:"Chicago"}),x.city&&r.jsx("p",{className:"text-red-400 text-sm mt-1",children:x.city})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"State *"}),r.jsx("input",{type:"text",value:h.address.state,onChange:_=>$("address.state",_.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/50 focus:ring-2 focus:ring-orange-500/50 focus:border-orange-500/50 transition-colors",placeholder:"IL"}),x.state&&r.jsx("p",{className:"text-red-400 text-sm mt-1",children:x.state})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"ZIP Code"}),r.jsx("input",{type:"text",value:h.address.zipCode,onChange:_=>$("address.zipCode",_.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/50 focus:ring-2 focus:ring-orange-500/50 focus:border-orange-500/50 transition-colors",placeholder:"60601"})]})]});case 4:return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"mb-4 p-3 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:[r.jsxs("p",{className:"text-sm text-blue-300",children:[r.jsx("span",{className:"font-medium",children:"Step 4:"})," Provide your contact information for potential tenants."]}),u&&r.jsxs("div",{className:"mt-2 flex items-center text-green-400 text-sm",children:[r.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full mr-2 animate-pulse"}),"Auto-filled with your profile"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Contact Name *"}),r.jsx("input",{type:"text",value:h.contactInfo.name,onChange:_=>$("contactInfo.name",_.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/50 focus:ring-2 focus:ring-orange-500/50 focus:border-orange-500/50 transition-colors",placeholder:"Your full name"}),x.contactName&&r.jsx("p",{className:"text-red-400 text-sm mt-1",children:x.contactName})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Phone Number *"}),r.jsx("input",{type:"tel",value:h.contactInfo.phone,onChange:_=>$("contactInfo.phone",_.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/50 focus:ring-2 focus:ring-orange-500/50 focus:border-orange-500/50 transition-colors",placeholder:"(555) 123-4567"}),x.contactPhone&&r.jsx("p",{className:"text-red-400 text-sm mt-1",children:x.contactPhone})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Email Address *"}),r.jsx("input",{type:"email",value:h.contactInfo.email,onChange:_=>$("contactInfo.email",_.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/50 focus:ring-2 focus:ring-orange-500/50 focus:border-orange-500/50 transition-colors",placeholder:"your.email@example.com"}),x.contactEmail&&r.jsx("p",{className:"text-red-400 text-sm mt-1",children:x.contactEmail})]})]});case 5:return r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"mb-4 p-3 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:r.jsxs("p",{className:"text-sm text-blue-300",children:[r.jsx("span",{className:"font-medium",children:"Step 5:"})," Add property images and additional details."]})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Property Images"}),r.jsxs("div",{...y(),className:"border-2 border-dashed border-white/20 rounded-xl p-6 text-center cursor-pointer hover:border-orange-500/50 transition-colors",children:[r.jsx("input",{...w()}),r.jsx(S_,{className:"mx-auto text-4xl text-white/50 mb-2"}),r.jsx("p",{className:"text-white/70",children:"Drag & drop images here, or click to select"}),r.jsx("p",{className:"text-white/50 text-sm mt-1",children:"PNG, JPG, GIF up to 10MB each"})]}),m.length>0&&r.jsx("div",{className:"mt-4 space-y-2",children:m.map((_,P)=>r.jsxs("div",{className:"flex items-center justify-between bg-white/5 rounded-lg p-3",children:[r.jsx("span",{className:"text-white/80 text-sm",children:_.name}),r.jsx("button",{type:"button",onClick:()=>k(P),className:"text-red-400 hover:text-red-300 transition-colors",children:r.jsx(Qp,{})})]},P))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Additional Description"}),r.jsx("textarea",{value:h.description,onChange:_=>$("description",_.target.value),rows:4,className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/50 focus:ring-2 focus:ring-orange-500/50 focus:border-orange-500/50 transition-colors resize-none",placeholder:"Any additional details about the property, neighborhood, or special features..."})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:"featured",checked:h.isFeatured,onChange:_=>$("isFeatured",_.target.checked),className:"w-4 h-4 text-orange-500 bg-white/5 border-white/20 rounded focus:ring-orange-500/50"}),r.jsx("label",{htmlFor:"featured",className:"ml-2 text-sm text-white/80",children:"Feature this property (recommended for better visibility)"})]})]});default:return null}};return r.jsx(_m,{isOpen:t,onClose:e,title:v?"Edit Property":"List Your Property",width:"w-full sm:w-96",maxWidth:"max-w-md",children:r.jsxs("form",{onSubmit:F,className:"h-full flex flex-col",children:[r.jsxs("div",{className:"px-6 py-4 border-b border-white/10",children:[r.jsx("div",{className:"flex items-center justify-between",children:[1,2,3,4,5].map(_=>r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${_<=a?"bg-orange-500 text-white":"bg-white/10 text-white/50"}`,children:_}),_<5&&r.jsx("div",{className:`w-8 h-0.5 mx-2 ${_<a?"bg-orange-500":"bg-white/10"}`})]},_))}),r.jsxs("div",{className:"flex justify-between text-xs text-white/60 mt-2",children:[r.jsx("span",{children:"Basic Info"}),r.jsx("span",{children:"Details"}),r.jsx("span",{children:"Location"}),r.jsx("span",{children:"Contact"}),r.jsx("span",{children:"Images"})]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:I()}),r.jsx("div",{className:"p-6 border-t border-white/10 bg-gradient-to-r from-white/5 to-transparent",children:r.jsxs("div",{className:"flex justify-between",children:[a>1?r.jsx("button",{type:"button",onClick:O,className:"px-6 py-3 text-white/70 hover:text-white transition-colors duration-200",children:" Back"}):r.jsx("div",{}),a<5?r.jsx("button",{type:"button",onClick:L,disabled:!j,className:`px-6 py-3 rounded-xl transition-colors duration-200 font-medium ${j?"bg-orange-500 text-white hover:bg-orange-600":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:"Next "}):r.jsx("button",{type:"submit",disabled:l,className:"px-6 py-3 bg-orange-500 text-white rounded-xl hover:bg-orange-600 transition-colors duration-200 font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Creating...":v?"Update Property":"List Property"})]})}),x.submit&&r.jsx("div",{className:"mt-4 p-3 bg-red-500/10 border border-red-500/20 rounded-xl",children:r.jsx("p",{className:"text-red-400 text-sm",children:x.submit})})]})})},rk=["Studio","1 Bedroom","2 Bedroom","3 Bedroom","4+ Bedroom"],$Q=["Furnished","Unfurnished","Pet Friendly","Parking","Laundry","WiFi","Utilities Included"],f0=[{key:"",label:"Any distance"},{key:"0.5",label:"0.5 miles"},{key:"1",label:"1 mile"},{key:"2",label:"2 miles"},{key:"5",label:"5 miles"}],fo=[{key:"createdAt",label:"Newest First",sortBy:"createdAt",sortOrder:"desc"},{key:"createdAt-asc",label:"Oldest First",sortBy:"createdAt",sortOrder:"asc"},{key:"price-asc",label:"Price: Low to High",sortBy:"price",sortOrder:"asc"},{key:"price-desc",label:"Price: High to Low",sortBy:"price",sortOrder:"desc"},{key:"likes-desc",label:"Most Popular",sortBy:"likes",sortOrder:"desc"},{key:"views-desc",label:"Most Viewed",sortBy:"views",sortOrder:"desc"}];function OL(...t){return t.filter(Boolean).join(" ")}function mo({active:t,children:e,onClick:n}){return r.jsx("button",{type:"button",onClick:n,className:OL("w-full text-left rounded-lg px-3 py-2 text-sm transition-all duration-200",t?"bg-blue-500/20 text-blue-300 border border-blue-400/30":"text-white/80 hover:bg-white/10 hover:text-white border border-transparent"),children:e})}function dc({label:t,activeLabel:e,children:n,isOpen:s,onToggle:i}){const a=f.useRef(null);return f.useEffect(()=>{const o=l=>{a.current&&!a.current.contains(l.target)&&i(!1)};return s&&document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[s,i]),r.jsxs("div",{ref:a,className:"relative",children:[r.jsxs("button",{onClick:()=>i(!s),className:OL("rounded-full px-3.5 py-1.5 text-sm transition-all duration-200","bg-white/5 text-white/70 hover:bg-white/10 border border-white/10",s?"bg-white/10 text-white border-white/20":""),children:[e||t,r.jsx("svg",{className:"inline-block ml-1 w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s&&r.jsx("div",{className:"absolute left-0 z-[9999] mt-3 w-[280px] rounded-xl border border-white/20 bg-[#0f1115]/98 backdrop-blur-2xl p-1 shadow-2xl",children:n})]})}function FQ(){var ce,ne,ie,de;const t=pt(),[e,n]=f.useState(""),[s,i]=f.useState(""),[a,o]=f.useState(""),[l,c]=f.useState(""),[u,d]=f.useState(""),[h,p]=f.useState(""),[m,g]=f.useState(""),[x,b]=f.useState("createdAt"),[v,y]=f.useState([]),[w,k]=f.useState(null),[N,S]=f.useState(!0),[M,j]=f.useState(!1),[C,L]=f.useState(new Set),[O,F]=f.useState(!1),[$,I]=f.useState(!1),[_,P]=f.useState(!1),[E,T]=f.useState(!1),[D,R]=f.useState(!1),[z,q]=f.useState(!1),[H,U]=f.useState(!1),[B,V]=f.useState(!1),G=f.useMemo(()=>{const ee=fo.find(X=>X.key===x),ye=(ee==null?void 0:ee.sortBy)??"createdAt",xe=(ee==null?void 0:ee.sortOrder)??"desc",Ce={query:e,campus:u,distance:l,propertyType:s,amenities:a,min:h,max:m,minPrice:h,maxPrice:m,sortBy:ye,sortOrder:xe};return Object.keys(Ce).forEach(X=>(Ce[X]===""||Ce[X]==null)&&delete Ce[X]),Ce},[e,u,l,s,a,h,m,x]),Q=async(ee=!1)=>{var ye,xe,Ce,X,A;try{ee?j(!0):S(!0),console.log("Sending filters:",G);const Y=await ge.get("/search-properties",{params:{...G,cursor:ee?w:void 0,limit:24}}),Z=((ye=Y==null?void 0:Y.data)==null?void 0:ye.properties)||[],ae=fo.find(Ee=>Ee.key===x),ue=(ae==null?void 0:ae.sortBy)??"createdAt",he=(ae==null?void 0:ae.sortOrder)??"desc",je=Ee=>{if(ue==="createdAt"){const Oe=Ee.createdAt||Ee.createdOn;return new Date(Oe||0).getTime()}return Number(Ee[ue]??0)};Z.sort((Ee,Oe)=>(he==="asc"?1:-1)*(je(Ee)-je(Oe))),y(Ee=>ee?[...Ee,...Z]:Z),k((Ce=(xe=Y==null?void 0:Y.data)==null?void 0:xe.pagination)!=null&&Ce.hasNextPage?((A=(X=Y==null?void 0:Y.data)==null?void 0:X.pagination)==null?void 0:A.currentPage)+1:null)}catch{ee||y([]),k(null)}finally{S(!1),j(!1)}};f.useEffect(()=>{const ee=setTimeout(()=>Q(!1),220);return()=>clearTimeout(ee)},[G]),f.useEffect(()=>{k(null)},[x,e,s,a,l,h,m,u]),f.useEffect(()=>{const ee=ye=>{n(ye.detail.query)};return window.addEventListener("propertySearch",ee),()=>window.removeEventListener("propertySearch",ee)},[]),f.useEffect(()=>{const ee=()=>{const ye=document.getElementById("filter-section");ye&&(ye.getBoundingClientRect().bottom<0?(P(!0),I(!1)):(P(!1),I(!1)))};return window.addEventListener("scroll",ee),()=>window.removeEventListener("scroll",ee)},[]);const se=async ee=>{try{const ye=await ge.post(`/properties/favorites/${ee._id}`);L(xe=>{var X;const Ce=new Set(xe);return(X=ye==null?void 0:ye.data)!=null&&X.favored?Ce.add(ee._id):Ce.delete(ee._id),Ce})}catch{}},te=()=>{F(!0)},K=()=>{F(!1)},J=()=>{Q(!1)},fe=()=>{I(ee=>!ee)},le=()=>{const ee=document.getElementById("filter-section");ee&&(ee.scrollIntoView({behavior:"smooth",block:"start"}),I(!1))};return f.useEffect(()=>{const ee=ye=>{if($&&_){const xe=document.querySelector("[data-filter-button]"),Ce=document.querySelector("[data-filter-panel]");xe&&Ce&&!xe.contains(ye.target)&&!Ce.contains(ye.target)&&I(!1)}};return document.addEventListener("mousedown",ee),()=>document.removeEventListener("mousedown",ee)},[$,_]),r.jsxs("div",{className:"nr-dots-page min-h-screen text-white relative",children:[r.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[r.jsx("div",{className:"hero-orb absolute top-1/4 left-1/4 w-32 h-32 bg-gradient-to-r from-orange-500/10 to-cyan-500/10 rounded-full blur-3xl"}),r.jsx("div",{className:"hero-orb absolute bottom-1/4 right-1/4 w-48 h-48 bg-gradient-to-r from-blue-500/10 to-purple-500/10 rounded-full blur-3xl"}),r.jsx("div",{className:"hero-orb absolute top-1/2 right-1/3 w-24 h-24 bg-gradient-to-r from-emerald-500/10 to-teal-500/10 rounded-full blur-2xl"})]}),r.jsx(ht,{}),r.jsx($Z,{onListProperty:te}),r.jsx(zZ,{}),r.jsx("section",{className:"mx-auto max-w-7xl px-4 py-12",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsxs("div",{className:"text-center p-6 rounded-2xl border border-white/10 bg-[#0f1115]/50 backdrop-blur-sm",children:[r.jsxs("div",{className:"text-3xl font-bold text-blue-400 mb-2",children:[v.length,"+"]}),r.jsx("div",{className:"text-sm text-white/70",children:"Active Properties"})]}),r.jsxs("div",{className:"text-center p-6 rounded-2xl border border-white/10 bg-[#0f1115]/50 backdrop-blur-sm",children:[r.jsx("div",{className:"text-3xl font-bold text-purple-400 mb-2",children:"24/7"}),r.jsx("div",{className:"text-sm text-white/70",children:"Available"})]}),r.jsxs("div",{className:"text-center p-6 rounded-2xl border border-white/10 bg-[#0f1115]/50 backdrop-blur-sm",children:[r.jsx("div",{className:"text-3xl font-bold text-teal-400 mb-2",children:"100%"}),r.jsx("div",{className:"text-sm text-white/70",children:"Student Verified"})]}),r.jsxs("div",{className:"text-center p-6 rounded-2xl border border-white/10 bg-[#0f1115]/50 backdrop-blur-sm",children:[r.jsx("div",{className:"text-3xl font-bold text-green-400 mb-2",children:"$0"}),r.jsx("div",{className:"text-sm text-white/70",children:"Listing Fees"})]})]})}),r.jsxs("main",{className:"mx-auto max-w-7xl px-4 pb-16 pt-4 overflow-visible",children:[r.jsx("section",{id:"filter-section",className:"relative z-50 mb-8 rounded-2xl border border-white/10 bg-[#0f1115]/95 backdrop-blur-xl shadow-2xl overflow-visible",children:r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"mb-4 flex flex-wrap items-center gap-2",children:[r.jsx("span",{className:"text-sm font-medium text-white/70",children:"Active filters:"}),s&&r.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-blue-500/20 px-3 py-1 text-xs text-blue-300",children:[s,r.jsx("button",{onClick:()=>i(""),className:"ml-1 hover:text-blue-100",children:""})]}),a&&r.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-purple-500/20 px-3 py-1 text-xs text-purple-300",children:[a,r.jsx("button",{onClick:()=>o(""),className:"ml-1 hover:text-purple-100",children:""})]}),l&&r.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-teal-500/20 px-3 py-1 text-xs text-teal-300",children:[(ce=f0.find(ee=>ee.key===l))==null?void 0:ce.label,r.jsx("button",{onClick:()=>c(""),className:"ml-1 hover:text-teal-100",children:""})]}),(h||m)&&r.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-green-500/20 px-3 py-1 text-xs text-green-300",children:["$",h||0,"$",m||"",r.jsx("button",{onClick:()=>{p(""),g("")},className:"ml-1 hover:text-green-100",children:""})]}),u&&r.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-orange-500/20 px-3 py-1 text-xs text-orange-300",children:[u,r.jsx("button",{onClick:()=>d(""),className:"ml-1 hover:text-orange-100",children:""})]}),(s||a||l||h||m||u)&&r.jsx("button",{onClick:()=>{i(""),o(""),c(""),p(""),g(""),d("")},className:"text-xs text-white/50 hover:text-white/80",children:"Clear all"})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3 p-6 rounded-2xl border border-white/10 bg-[#0f1115]/50 backdrop-blur-xl overflow-visible",children:[r.jsxs("div",{className:"relative flex-1 min-w-[220px]",children:[r.jsx("span",{className:"pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 text-white/40",children:""}),r.jsx("input",{value:e,onChange:ee=>n(ee.target.value),placeholder:"Search properties",className:"w-full rounded-xl border border-white/10 bg-white/[0.06] pl-8 pr-3 py-2.5 text-sm outline-none placeholder:text-white/40 focus:border-sky-500 focus:ring-1 focus:ring-sky-500/20"})]}),r.jsx("input",{value:u,onChange:ee=>d(ee.target.value),placeholder:"Campus",className:"min-w-[150px] rounded-xl border border-white/10 bg-white/[0.06] px-3 py-2.5 text-sm outline-none placeholder:text-white/40 focus:border-sky-500 focus:ring-1 focus:ring-sky-500/20"}),r.jsx(dc,{label:"Sort",activeLabel:((ne=fo.find(ee=>ee.key===x))==null?void 0:ne.label)||"Newest First",isOpen:E,onToggle:T,children:r.jsx("div",{className:"grid gap-1 p-1",children:fo.map(ee=>r.jsx(mo,{active:x===ee.key,onClick:()=>{b(ee.key),T(!1)},children:ee.label},ee.key))})}),r.jsx(dc,{label:"Type",activeLabel:s||"All Types",isOpen:D,onToggle:R,children:r.jsxs("div",{className:"grid grid-cols-2 gap-2 p-1",children:[r.jsx(mo,{active:!s,onClick:()=>{i(""),R(!1)},children:"All"}),rk.map(ee=>r.jsx(mo,{active:s===ee,onClick:()=>{i(ee),R(!1)},children:ee},ee))]})}),r.jsx(dc,{label:"Amenities",activeLabel:a||"Any Amenities",isOpen:z,onToggle:q,children:r.jsxs("div",{className:"grid grid-cols-2 gap-2 p-1",children:[r.jsx(mo,{active:!a,onClick:()=>{o(""),q(!1)},children:"Any"}),$Q.map(ee=>r.jsx(mo,{active:a===ee,onClick:()=>{o(ee),q(!1)},children:ee},ee))]})}),r.jsx(dc,{label:"Distance",activeLabel:((ie=f0.find(ee=>ee.key===l))==null?void 0:ie.label)||"Any Distance",isOpen:H,onToggle:U,children:r.jsx("div",{className:"grid grid-cols-2 gap-2 p-1",children:f0.map(ee=>r.jsx(mo,{active:l===ee.key,onClick:()=>{c(ee.key),U(!1)},children:ee.label},ee.key||"any"))})}),r.jsx(dc,{label:"Price Range",activeLabel:h||m?`$${h||0}$${m||""}`:"Any Price",isOpen:B,onToggle:V,children:r.jsxs("div",{className:"p-3",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-white/70 mb-1 block font-medium",children:"Min Price"}),r.jsx("input",{type:"number",min:"0",value:h,onChange:ee=>p(ee.target.value),placeholder:"0",className:"w-full rounded-lg border border-white/20 bg-white/5 px-3 py-2 text-sm text-white outline-none placeholder:text-white/40 focus:border-blue-400 focus:bg-white/10 transition-all duration-200"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-white/70 mb-1 block font-medium",children:"Max Price"}),r.jsx("input",{type:"number",min:"0",value:m,onChange:ee=>g(ee.target.value),placeholder:"2000",className:"w-full rounded-lg border border-white/20 bg-white/5 px-3 py-2 text-sm text-white outline-none placeholder:text-white/40 focus:border-blue-400 focus:bg-white/10 transition-all duration-200"})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("button",{onClick:()=>{p(""),g(""),V(!1)},className:"text-xs text-white/60 hover:text-white/80 transition-colors px-2 py-1 rounded hover:bg-white/5",children:"Clear"}),r.jsx("button",{onClick:()=>{Q(!1),V(!1)},className:"rounded-lg bg-blue-500 px-4 py-2 text-xs font-medium text-white hover:bg-blue-600 transition-colors",children:"Apply"})]})]})})]})]})}),r.jsxs("div",{className:"relative z-10 mb-6 flex items-center justify-between p-6 rounded-2xl border border-white/10 bg-[#0f1115]/30 backdrop-blur-xl",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("h2",{className:"text-xl font-semibold text-white",children:N?"Loading properties...":`${v.length} properties found`}),!N&&v.length>0&&r.jsxs("span",{className:"text-sm text-white/60",children:["Sorted by ",(de=fo.find(ee=>ee.key===x))==null?void 0:de.label.toLowerCase()]})]}),!N&&v.length>0&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-white/60",children:[r.jsx("span",{children:"View:"}),r.jsx("button",{className:"rounded-lg bg-white/10 px-3 py-1 text-white text-sm",children:"Grid"}),r.jsx("button",{className:"rounded-lg px-3 py-1 hover:bg-white/5 text-sm",children:"List"})]})]}),r.jsx("div",{id:"properties-grid",children:N?r.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:Array.from({length:8}).map((ee,ye)=>r.jsxs("div",{className:"group overflow-hidden rounded-3xl border border-white/10 bg-[#0f1115] shadow-[0_12px_32px_-12px_rgba(0,0,0,.60)]",children:[r.jsx("div",{className:"aspect-[16/10] w-full animate-pulse bg-white/[0.06]"}),r.jsxs("div",{className:"p-5",children:[r.jsxs("div",{className:"mb-2",children:[r.jsx("div",{className:"h-6 w-3/4 animate-pulse rounded bg-white/[0.06] mb-2"}),r.jsx("div",{className:"h-4 w-full animate-pulse rounded bg-white/[0.04]"})]}),r.jsx("div",{className:"my-3 h-px w-full bg-white/8"}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"h-4 w-1/2 animate-pulse rounded bg-white/[0.04]"}),r.jsx("div",{className:"h-6 w-16 animate-pulse rounded-full bg-white/[0.08]"})]}),r.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[r.jsx("div",{className:"h-3 w-1/3 animate-pulse rounded bg-white/[0.04]"}),r.jsx("div",{className:"h-8 w-8 animate-pulse rounded-full bg-white/[0.08]"})]})]})]},ye))}):v.length===0?r.jsxs("div",{className:"rounded-2xl border border-white/10 bg-[#0f1115]/50 p-12 text-center backdrop-blur-sm",children:[r.jsx("div",{className:"mx-auto mb-6 w-24 h-24 rounded-full bg-gradient-to-r from-orange-500/20 to-amber-500/20 flex items-center justify-center",children:r.jsx("svg",{className:"w-12 h-12 text-orange-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No properties found"}),r.jsx("p",{className:"text-white/60 mb-6 max-w-md mx-auto",children:"No properties match your current filters. Try adjusting your search criteria or browse all properties."}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[r.jsx("button",{onClick:()=>{n(""),i(""),o(""),c(""),p(""),g(""),d("")},className:"styled-button--sm",children:"Clear all filters"}),r.jsx("button",{onClick:te,className:"styled-button--sm",children:"List your first property"})]})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:v.map(ee=>r.jsx(bL,{property:ee,favored:C.has(ee._id),onToggleFav:se,onClick:()=>t(`/property/${ee._id}`)},ee._id))}),w&&r.jsx("div",{className:"mt-12 grid place-items-center",children:r.jsx("button",{disabled:M,onClick:()=>Q(!0),className:"styled-button group relative disabled:opacity-60",children:r.jsx("span",{className:"relative z-10 flex items-center gap-2",children:M?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Loading more properties..."]}):r.jsxs(r.Fragment,{children:["Load more properties",r.jsx("svg",{className:"w-4 h-4 group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})})})})]})})]}),_&&r.jsx("div",{className:"fixed left-4 top-1/2 -translate-y-1/2 z-50",children:r.jsxs("button",{onClick:fe,"data-filter-button":!0,className:`group relative w-14 h-14 rounded-full bg-black/80 border shadow-2xl hover:bg-black/90 transition-all duration-500 ease-out flex items-center justify-center backdrop-blur-sm ${$?"border-orange-500/50 shadow-orange-500/20":"border-white/20 hover:border-white/30"} hover:scale-110`,children:[r.jsx("svg",{className:`w-6 h-6 text-white transition-all duration-500 ease-out ${$?"rotate-0 scale-100":"rotate-0 scale-110"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4"})}),r.jsx("div",{className:"absolute inset-0 rounded-full bg-white/20 animate-ping"}),r.jsx("div",{className:"absolute inset-0 rounded-full bg-white/10 opacity-0 group-hover:opacity-100 blur-xl transition-opacity duration-300"})]})}),_&&r.jsx("div",{className:"fixed left-20 top-1/2 -translate-y-1/2 z-40",children:r.jsxs("div",{"data-filter-panel":!0,className:`w-80 rounded-2xl border border-white/20 bg-white/5 backdrop-blur-xl shadow-2xl p-6 transition-all duration-500 ease-out transform ${$?"translate-x-0 opacity-100 scale-100":"-translate-x-full opacity-0 scale-95 pointer-events-none"}`,children:[r.jsxs("div",{className:`flex items-center justify-between mb-4 transition-all duration-700 ease-out ${$?"translate-y-0 opacity-100":"translate-y-2 opacity-0"}`,children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Quick Filters"}),r.jsx("button",{onClick:le,className:"text-xs text-orange-400 hover:text-orange-300 transition-colors",children:"View All Filters"})]}),r.jsxs("div",{className:`space-y-3 transition-all duration-700 ease-out delay-100 ${$?"translate-y-0 opacity-100":"translate-y-4 opacity-0"}`,children:[r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 text-white/40",children:""}),r.jsx("input",{value:e,onChange:ee=>n(ee.target.value),placeholder:"Search properties",className:"w-full rounded-xl border border-white/20 bg-white/5 backdrop-blur-sm pl-8 pr-3 py-3 text-sm text-white outline-none placeholder:text-white/40 focus:border-white/40 focus:bg-white/10 transition-all duration-200"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-white/70 mb-2 block font-medium",children:"Property Type"}),r.jsxs("select",{value:s,onChange:ee=>i(ee.target.value),className:"w-full rounded-xl border border-white/20 bg-white/5 backdrop-blur-sm px-4 py-3 text-sm text-white outline-none focus:border-white/40 focus:bg-white/10 transition-all duration-200",children:[r.jsx("option",{value:"",children:"All Types"}),rk.map(ee=>r.jsx("option",{value:ee,className:"bg-[#0f1115]",children:ee},ee))]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-white/70 mb-2 block font-medium",children:"Min Price"}),r.jsx("input",{type:"number",value:h,onChange:ee=>p(ee.target.value),placeholder:"0",className:"w-full rounded-xl border border-white/20 bg-white/5 backdrop-blur-sm px-4 py-3 text-sm text-white outline-none placeholder:text-white/40 focus:border-white/40 focus:bg-white/10 transition-all duration-200"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-white/70 mb-2 block font-medium",children:"Max Price"}),r.jsx("input",{type:"number",value:m,onChange:ee=>g(ee.target.value),placeholder:"2000",className:"w-full rounded-xl border border-white/20 bg-white/5 backdrop-blur-sm px-4 py-3 text-sm text-white outline-none placeholder:text-white/40 focus:border-white/40 focus:bg-white/10 transition-all duration-200"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-white/70 mb-2 block font-medium",children:"Sort By"}),r.jsx("select",{value:x,onChange:ee=>b(ee.target.value),className:"w-full rounded-xl border border-white/20 bg-white/5 backdrop-blur-sm px-4 py-3 text-sm text-white outline-none focus:border-white/40 focus:bg-white/10 transition-all duration-200",children:fo.map(ee=>r.jsx("option",{value:ee.key,className:"bg-[#0f1115]",children:ee.label},ee.key))})]}),r.jsxs("div",{className:`flex gap-3 pt-4 transition-all duration-700 ease-out delay-200 ${$?"translate-y-0 opacity-100":"translate-y-4 opacity-0"}`,children:[r.jsx("button",{onClick:()=>{n(""),i(""),o(""),c(""),p(""),g(""),d(""),Q(!1)},className:"flex-1 rounded-xl border border-white/20 bg-white/5 backdrop-blur-sm px-4 py-3 text-sm text-white/80 hover:bg-white/10 hover:border-white/30 transition-all duration-200",children:"Clear All"}),r.jsx("button",{onClick:()=>{Q(!1),I(!1)},className:"flex-1 rounded-xl border border-orange-500/50 bg-gradient-to-r from-orange-500/20 to-orange-600/20 backdrop-blur-sm px-4 py-3 text-sm text-orange-300 hover:from-orange-500/30 hover:to-orange-600/30 hover:border-orange-400/70 transition-all duration-200",children:"Apply"})]})]})]})}),r.jsx(IL,{isOpen:O,onClose:K,onPropertyCreated:J})]})}const RL=({isOpen:t,onClose:e,itemData:n,onItemCreated:s,onItemUpdated:i})=>{const[a,o]=f.useState(1),[l,c]=f.useState({title:"",description:"",price:"",category:"",condition:"used",address:{city:""},contactInfo:{name:"",phone:"",email:""},exchangeMethod:"public",files:[]}),[u,d]=f.useState(!1),[h,p]=f.useState(null),[m,g]=f.useState(!1),[x,b]=f.useState({}),v=!!n;f.useEffect(()=>{var T;v&&n&&c({title:n.title||"",description:n.description||"",price:n.price||"",category:n.category||"",condition:n.condition||"used",address:n.location||{city:""},contactInfo:n.contactInfo||{name:"",phone:"",email:""},exchangeMethod:((T=n.contactInfo)==null?void 0:T.exchangeMethod)||"public",files:[]})},[v,n]),f.useEffect(()=>{t&&(async()=>{g(!0);try{const D=await ge.get("/get-user");console.log("Fetched user info:",D.data.user),p(D.data.user)}catch(D){console.error("Error fetching user info:",D)}finally{g(!1)}})()},[t]),f.useEffect(()=>{var T;if(h&&t){console.log("Auto-filling with user data:",h);const D=`${h.firstName||""} ${h.lastName||""}`.trim(),R=h.email||"",z=((T=h.currentLocation)==null?void 0:T.city)||"";console.log("Auto-fill values:",{fullName:D,userEmail:R,userCity:z});const q=setTimeout(()=>{c(H=>{const U={...H,contactInfo:{name:D||H.contactInfo.name,phone:H.contactInfo.phone,email:R||H.contactInfo.email},address:{city:z||H.address.city}};return console.log("New form data after auto-fill:",U),U})},100);return()=>clearTimeout(q)}},[h,t]);const y=T=>{c(D=>({...D,files:[...D.files,...T].slice(0,5)}))},{getRootProps:w,getInputProps:k,isDragActive:N}=Su({onDrop:y,accept:"image/*",maxFiles:5}),S=T=>{c({...l,[T.target.name]:T.target.value}),x[T.target.name]&&b(D=>({...D,[T.target.name]:void 0}))},M=T=>{c({...l,address:{...l.address,[T.target.name]:T.target.value}})},j=T=>{c({...l,contactInfo:{...l.contactInfo,[T.target.name]:T.target.value}});const D=`contact${T.target.name.charAt(0).toUpperCase()+T.target.name.slice(1)}`;x[D]&&b(R=>({...R,[D]:void 0}))},C=T=>{c({...l,exchangeMethod:T.target.value})},L=T=>{c(D=>({...D,files:D.files.filter((R,z)=>z!==T)}))},O=async()=>{var D,R,z;if(l.files.length===0)return console.log("No images to upload, returning empty array"),[];console.log("Uploading images:",l.files.length);const T=new FormData;l.files.forEach(q=>{T.append("images",q)});try{const q=await ge.post("/upload-images",T,{headers:{"Content-Type":"multipart/form-data"}});return console.log("Images uploaded successfully:",q.data),q.data.imageUrls}catch(q){throw console.error("Error uploading images:",q),console.error("Image upload error details:",(D=q.response)==null?void 0:D.data),new Error(`Failed to upload images: ${((z=(R=q.response)==null?void 0:R.data)==null?void 0:z.message)||q.message}`)}},F=async T=>{var D,R,z,q,H,U,B;T.preventDefault(),console.log("Form submitted - this should only happen on step 3 with List Item button"),d(!0);try{let V=[];try{V=await O(),console.log("Images uploaded successfully:",V)}catch(te){console.error("Image upload failed, continuing without images:",te),V=[]}const G={title:l.title,description:l.description,price:parseFloat(l.price)||0,category:l.category,condition:l.condition,thumbnailUrl:V[0]||"",contactInfo:{name:l.contactInfo.name,phone:l.contactInfo.phone,email:l.contactInfo.email,generalLocation:l.address.city||"",exchangeMethod:l.exchangeMethod},images:V};console.log("Submitting payload:",G);let Q;v?(Q=await ge.put(`/marketplace/item/${n._id}`,G),console.log("API response (edit):",Q.data),i==null||i(Q.data)):(Q=await ge.post("/marketplace/item",G),console.log("API response (create):",Q.data),s==null||s(Q.data));const se={title:"",description:"",price:"",category:"",condition:"used",address:{city:""},contactInfo:{name:h?`${h.firstName||""} ${h.lastName||""}`.trim():"",phone:"",email:(h==null?void 0:h.email)||""},exchangeMethod:"public",files:[]};c(se),o(1),e()}catch(V){console.error("Error creating item:",V),console.error("Error response:",(D=V.response)==null?void 0:D.data),console.error("Error status:",(R=V.response)==null?void 0:R.status),console.error("Error headers:",(z=V.response)==null?void 0:z.headers);let G="Failed to create item. Please try again.";(H=(q=V.response)==null?void 0:q.data)!=null&&H.message?G=V.response.data.message:(B=(U=V.response)==null?void 0:U.data)!=null&&B.details?G=V.response.data.details:V.message&&(G=V.message),console.error("Final error message:",G),alert(`Error: ${G}`)}finally{d(!1)}},$=T=>{switch(T){case 1:return l.title.trim()&&l.price&&parseFloat(l.price)>0&&l.category;case 2:return l.description.trim();case 3:return l.contactInfo.name.trim()&&l.contactInfo.email.trim();default:return!0}},I=T=>{if(T.preventDefault(),T.stopPropagation(),console.log("Next step clicked, current step:",a),a<3)if($(a))o(a+1),b({});else{const D={};switch(a){case 1:l.title.trim()||(D.title="Title is required"),(!l.price||parseFloat(l.price)<=0)&&(D.price="Valid price is required"),l.category||(D.category="Category is required");break;case 2:l.description.trim()||(D.description="Description is required");break;case 3:l.contactInfo.name.trim()||(D.contactName="Contact name is required"),l.contactInfo.email.trim()||(D.contactEmail="Email is required");break}b(D)}},_=T=>{T.preventDefault(),T.stopPropagation(),a>1&&o(a-1)},P=["Electronics","Furniture","Books","Clothing","Sports","Home & Garden","Vehicles","Other"],E=[{value:"new",label:"New"},{value:"like-new",label:"Like New"},{value:"used",label:"Used"},{value:"fair",label:"Fair"},{value:"poor",label:"Poor"}];return r.jsx(_m,{isOpen:t,onClose:e,title:v?"Edit Item":"List New Item",width:"w-full sm:w-96",maxWidth:"max-w-md",children:r.jsxs("form",{onSubmit:F,className:"h-full flex flex-col",children:[r.jsxs("div",{className:"px-6 py-4 border-b border-white/10",children:[r.jsx("div",{className:"flex items-center justify-between",children:[1,2,3].map(T=>r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${T<=a?"bg-orange-500 text-white":"bg-white/10 text-white/50"}`,children:T}),T<3&&r.jsx("div",{className:`w-8 h-0.5 mx-2 ${T<a?"bg-orange-500":"bg-white/10"}`})]},T))}),r.jsxs("div",{className:"flex justify-between text-xs text-white/60 mt-2",children:[r.jsx("span",{children:"Basic Info"}),r.jsx("span",{children:"Details"}),r.jsx("span",{children:"Contact"})]})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[a===1&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"mb-4 p-3 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:r.jsxs("p",{className:"text-sm text-blue-300",children:[r.jsx("span",{className:"font-medium",children:"Step 1:"})," Fill in the basic information about your item. All fields marked with * are required."]})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"Item Title *"}),r.jsx("input",{type:"text",name:"title",required:!0,placeholder:"What are you selling?",className:`w-full px-4 py-3 bg-white/5 border rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 ${x.title?"border-red-500 focus:ring-red-500/50 focus:border-red-500":"border-white/20 focus:ring-orange-500/50 focus:border-orange-500/50"}`,value:l.title,onChange:S}),x.title&&r.jsx("p",{className:"text-red-400 text-xs mt-1",children:x.title})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"Price ($) *"}),r.jsx("input",{type:"number",name:"price",required:!0,min:"0",step:"0.01",placeholder:"0.00",className:`w-full px-4 py-3 bg-white/5 border rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 ${x.price?"border-red-500 focus:ring-red-500/50 focus:border-red-500":"border-white/20 focus:ring-orange-500/50 focus:border-orange-500/50"}`,value:l.price,onChange:S}),x.price&&r.jsx("p",{className:"text-red-400 text-xs mt-1",children:x.price})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"Category *"}),r.jsxs("select",{name:"category",required:!0,className:`w-full px-4 py-3 bg-white/5 border rounded-xl text-white focus:outline-none focus:ring-2 ${x.category?"border-red-500 focus:ring-red-500/50 focus:border-red-500":"border-white/20 focus:ring-orange-500/50 focus:border-orange-500/50"}`,value:l.category,onChange:S,children:[r.jsx("option",{value:"",children:"Select category"}),P.map(T=>r.jsx("option",{value:T,children:T},T))]}),x.category&&r.jsx("p",{className:"text-red-400 text-xs mt-1",children:x.category})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"Condition *"}),r.jsx("select",{name:"condition",required:!0,className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-orange-500/50 focus:border-orange-500/50",value:l.condition,onChange:S,children:E.map(T=>r.jsx("option",{value:T.value,children:T.label},T.value))})]})]}),a===2&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"mb-4 p-3 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:r.jsxs("p",{className:"text-sm text-blue-300",children:[r.jsx("span",{className:"font-medium",children:"Step 2:"})," Add a detailed description and upload images to showcase your item."]})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"Description *"}),r.jsx("textarea",{name:"description",required:!0,rows:4,placeholder:"Describe your item in detail...",className:`w-full px-4 py-3 bg-white/5 border rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 resize-none ${x.description?"border-red-500 focus:ring-red-500/50 focus:border-red-500":"border-white/20 focus:ring-orange-500/50 focus:border-orange-500/50"}`,value:l.description,onChange:S}),x.description&&r.jsx("p",{className:"text-red-400 text-xs mt-1",children:x.description})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"Upload Images (Max 5)"}),r.jsxs("div",{...w(),className:`w-full border-2 border-dashed rounded-xl p-6 text-center cursor-pointer transition-colors duration-200 ${N?"border-orange-500 bg-orange-500/10":"border-white/20 hover:border-orange-500/50 hover:bg-white/5"}`,children:[r.jsx("input",{...k()}),r.jsx("div",{className:"text-white/70",children:N?r.jsx("p",{children:"Drop images here..."}):r.jsxs("div",{children:[r.jsx("p",{children:"Drag & drop images here, or click to select"}),r.jsx("p",{className:"text-sm text-white/50 mt-1",children:"PNG, JPG up to 5MB each"})]})})]}),l.files.length>0&&r.jsx("div",{className:"grid grid-cols-2 gap-2 mt-4",children:l.files.map((T,D)=>r.jsxs("div",{className:"relative group",children:[r.jsx("img",{src:URL.createObjectURL(T),alt:`Preview ${D+1}`,className:"w-full h-24 object-cover rounded-lg"}),r.jsx("button",{type:"button",onClick:()=>L(D),className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center text-xs hover:bg-red-600 transition-colors duration-200",children:""})]},D))})]})]}),a===3&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"mb-4 p-3 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:r.jsxs("p",{className:"text-sm text-blue-300",children:[r.jsx("span",{className:"font-medium",children:"Step 3:"})," Contact information for buyers. Only name and email are required. Address is optional for privacy."]})}),m&&r.jsx("div",{className:"flex items-center justify-center py-4",children:r.jsxs("div",{className:"flex items-center gap-2 text-white/70",children:[r.jsx("div",{className:"w-4 h-4 border-2 border-orange-500 border-t-transparent rounded-full animate-spin"}),r.jsx("span",{className:"text-sm",children:"Loading your profile..."})]})}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-white/90 mb-2",children:["Contact Name *",h&&r.jsx("span",{className:"text-xs text-green-400 ml-2",children:" Auto-filled"})]}),r.jsx("input",{type:"text",name:"name",required:!0,placeholder:h?"Auto-filled from your profile":"Your name",className:`w-full px-4 py-3 bg-white/5 border rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 ${x.contactName?"border-red-500 focus:ring-red-500/50 focus:border-red-500":"border-white/20 focus:ring-orange-500/50 focus:border-orange-500/50"}`,value:l.contactInfo.name,onChange:j}),x.contactName&&r.jsx("p",{className:"text-red-400 text-xs mt-1",children:x.contactName})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"Phone Number"}),r.jsx("input",{type:"tel",name:"phone",placeholder:"(555) 123-4567",className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-orange-500/50 focus:border-orange-500/50",value:l.contactInfo.phone,onChange:j})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-white/90 mb-2",children:["Email *",h&&r.jsx("span",{className:"text-xs text-green-400 ml-2",children:" Auto-filled"})]}),r.jsx("input",{type:"email",name:"email",required:!0,placeholder:h?"Auto-filled from your profile":"your@email.com",className:`w-full px-4 py-3 bg-white/5 border rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 ${x.contactEmail?"border-red-500 focus:ring-red-500/50 focus:border-red-500":"border-white/20 focus:ring-orange-500/50 focus:border-orange-500/50"}`,value:l.contactInfo.email,onChange:j}),x.contactEmail&&r.jsx("p",{className:"text-red-400 text-xs mt-1",children:x.contactEmail})]}),r.jsx("div",{className:"p-3 bg-amber-500/10 border border-amber-500/20 rounded-lg",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("div",{className:"text-amber-400 mt-0.5",children:""}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-amber-300 font-medium",children:"Privacy & Safety"}),r.jsx("p",{className:"text-xs text-amber-200 mt-1",children:"Address information is optional and only shared with confirmed buyers. You can choose to meet in a public place or provide general area only."})]})]})}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-white/90 mb-2",children:["General Location (Optional)",r.jsx("span",{className:"text-xs text-white/50 ml-1",children:"- for buyer reference only"})]}),r.jsx("input",{type:"text",name:"city",placeholder:"e.g., 'Near Campus', 'Downtown Area', or leave blank",className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-orange-500/50 focus:border-orange-500/50",value:l.address.city,onChange:M}),r.jsx("p",{className:"text-xs text-white/50 mt-1",children:' Tip: Use general areas like "Near University" instead of specific addresses'})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"How would you like to handle the exchange?"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-3 p-3 bg-white/5 border border-white/20 rounded-lg hover:bg-white/10 transition-colors cursor-pointer",children:[r.jsx("input",{type:"radio",name:"exchangeMethod",value:"public",className:"text-orange-500 focus:ring-orange-500",checked:l.exchangeMethod==="public",onChange:C}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-white font-medium",children:"Public Meeting"}),r.jsx("div",{className:"text-xs text-white/70",children:"Meet in a safe, public location (recommended)"})]})]}),r.jsxs("label",{className:"flex items-center gap-3 p-3 bg-white/5 border border-white/20 rounded-lg hover:bg-white/10 transition-colors cursor-pointer",children:[r.jsx("input",{type:"radio",name:"exchangeMethod",value:"campus",className:"text-orange-500 focus:ring-orange-500",checked:l.exchangeMethod==="campus",onChange:C}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-white font-medium",children:"Campus Pickup"}),r.jsx("div",{className:"text-xs text-white/70",children:"Meet on campus grounds"})]})]}),r.jsxs("label",{className:"flex items-center gap-3 p-3 bg-white/5 border border-white/20 rounded-lg hover:bg-white/10 transition-colors cursor-pointer",children:[r.jsx("input",{type:"radio",name:"exchangeMethod",value:"shipping",className:"text-orange-500 focus:ring-orange-500",checked:l.exchangeMethod==="shipping",onChange:C}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-white font-medium",children:"Shipping"}),r.jsx("div",{className:"text-xs text-white/70",children:"Ship the item (buyer pays shipping)"})]})]})]})]})]})]}),r.jsx("div",{className:"p-6 border-t border-white/10 bg-gradient-to-r from-white/5 to-transparent",children:r.jsxs("div",{className:"flex justify-between",children:[a>1?r.jsx("button",{type:"button",onClick:_,className:"px-6 py-3 text-white/70 hover:text-white transition-colors duration-200",children:" Back"}):r.jsx("div",{}),a<3?r.jsx("button",{type:"button",onClick:I,disabled:!$(a),className:`px-6 py-3 rounded-xl transition-colors duration-200 font-medium ${$(a)?"bg-orange-500 text-white hover:bg-orange-600":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:"Next "}):r.jsx("button",{type:"submit",disabled:u,className:"px-6 py-3 bg-orange-500 text-white rounded-xl hover:bg-orange-600 transition-colors duration-200 font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Creating...":"List Item"})]})})]})})},DL=()=>{const[t,e]=f.useState(!1),[n,s]=f.useState(null),i=f.useCallback(async(h,p)=>{e(!0),s(null);try{return await Or.generatePersonalizedInsights(h,p)}catch(m){return s(m.message),[]}finally{e(!1)}},[]),a=f.useCallback(async h=>{e(!0),s(null);try{return await Or.generatePersonalizedActions(h)}catch(p){return s(p.message),[]}finally{e(!1)}},[]),o=f.useCallback(async h=>{e(!0),s(null);try{return await Or.generateArrivalTimeline(h)}catch(p){return s(p.message),null}finally{e(!1)}},[]),l=f.useCallback(async(h,p)=>{e(!0),s(null);try{return await Or.generateMarketAnalysis(h,p)}catch(m){return s(m.message),null}finally{e(!1)}},[]),c=f.useCallback(async(h,p,m)=>{e(!0),s(null);try{return await Or.generateConversationalResponse(h,p,m)}catch(g){return s(g.message),"I'm having trouble processing your request right now. Please try again in a moment."}finally{e(!1)}},[]),u=f.useCallback(async(h,p)=>{e(!0),s(null);try{return await Or.generateSuccessPredictions(h,p)}catch(m){return s(m.message),null}finally{e(!1)}},[]),d=f.useCallback(async(h,p)=>{e(!0),s(null);try{return await Or.explainInsight(h,p)}catch(m){return s(m.message),{explanation:`This recommendation is important for your success. ${h.title} is a ${h.priority} priority that will help you stay on track with your goals.`,insight:h,aiGenerated:!1,fallback:!0}}finally{e(!1)}},[]);return{loading:t,error:n,generateInsights:i,generateActions:a,generateTimeline:o,generateMarketAnalysis:l,generateResponse:c,generatePredictions:u,explainInsight:d}};class zQ{constructor(){this.cachePrefix="ai-explanation-cache",this.defaultTTL=24*60*60*1e3,this.maxCacheSize=50}generateCacheKey(e,n,s){return`${this.cachePrefix}-${e}-${n}-${s}`}generateUserDataHash(e){const n=JSON.stringify({university:e==null?void 0:e.university,major:e==null?void 0:e.major,onboardingData:e==null?void 0:e.onboardingData,dashboardData:e==null?void 0:e.dashboardData});let s=0;for(let i=0;i<n.length;i++){const a=n.charCodeAt(i);s=(s<<5)-s+a,s=s&s}return Math.abs(s).toString(36)}getCachedExplanation(e,n,s){try{const i=this.generateUserDataHash(s),a=this.generateCacheKey(e,n,i),o=localStorage.getItem(a);if(o){const l=JSON.parse(o);if(this.isCacheValid(l))return console.log(" Cache HIT: Using cached AI explanation"),l.explanation;localStorage.removeItem(a),console.log(" Cache EXPIRED: Removed expired cache")}return console.log(" Cache MISS: No valid cache found"),null}catch(i){return console.error("Cache get error:",i),null}}setCachedExplanation(e,n,s,i,a=null){try{const o=this.generateUserDataHash(s),l=this.generateCacheKey(e,n,o),c={explanation:i,timestamp:Date.now(),userDataHash:o,ttl:a||this.defaultTTL,userId:e,insightId:n};return localStorage.setItem(l,JSON.stringify(c)),this.cleanupOldCache(),console.log(" Cache SET: Stored AI explanation"),!0}catch(o){return console.error("Cache set error:",o),!1}}isCacheValid(e){return Date.now()-e.timestamp<e.ttl}cleanupOldCache(){try{const e=[];for(let s=0;s<localStorage.length;s++){const i=localStorage.key(s);if(i&&i.startsWith(this.cachePrefix)){const a=localStorage.getItem(i);if(a)try{const o=JSON.parse(a);e.push({key:i,timestamp:o.timestamp,data:o})}catch{localStorage.removeItem(i)}}}if(e.sort((s,i)=>s.timestamp-i.timestamp),e.length>this.maxCacheSize){const s=e.slice(0,e.length-this.maxCacheSize);s.forEach(i=>{localStorage.removeItem(i.key)}),console.log(` Cache CLEANUP: Removed ${s.length} old entries`)}const n=Date.now();e.forEach(s=>{n-s.data.timestamp>s.data.ttl&&localStorage.removeItem(s.key)})}catch(e){console.error("Cache cleanup error:",e)}}invalidateUserCache(e){try{const n=[];for(let s=0;s<localStorage.length;s++){const i=localStorage.key(s);i&&i.includes(`-${e}-`)&&n.push(i)}return n.forEach(s=>{localStorage.removeItem(s)}),console.log(` Cache INVALIDATED: Removed ${n.length} entries for user ${e}`),n.length}catch(n){return console.error("Cache invalidation error:",n),0}}getCacheStats(){try{let e=0,n=0,s=0,i=0;for(let a=0;a<localStorage.length;a++){const o=localStorage.key(a);if(o&&o.startsWith(this.cachePrefix)){const l=localStorage.getItem(o);if(l){e++,i+=l.length;try{const c=JSON.parse(l);this.isCacheValid(c)?n++:s++}catch{s++}}}}return{totalEntries:e,validEntries:n,expiredEntries:s,totalSize:`${(i/1024).toFixed(2)} KB`,hitRate:e>0?`${(n/e*100).toFixed(1)}%`:"0%"}}catch(e){return console.error("Cache stats error:",e),null}}clearAllCache(){try{const e=[];for(let n=0;n<localStorage.length;n++){const s=localStorage.key(n);s&&s.startsWith(this.cachePrefix)&&e.push(s)}return e.forEach(n=>{localStorage.removeItem(n)}),console.log(` Cache CLEARED: Removed ${e.length} entries`),e.length}catch(e){return console.error("Cache clear error:",e),0}}}const yf=new zQ,BQ=({properties:t=[],title:e=" Recommended Properties",subtitle:n="AI-curated properties matching your preferences",onPropertyClick:s,maxDisplay:i=6,showRecommendations:a=!0})=>{if(!t||t.length===0)return r.jsx("div",{className:"text-center py-8",children:r.jsx("div",{className:"text-white/50 text-sm",children:"No properties found"})});const o=t.slice(0,i),l=t.length>i,c={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}};return r.jsxs(we.div,{variants:c,initial:"hidden",animate:"visible",className:"space-y-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:e}),r.jsx("p",{className:"text-white/60 text-sm",children:n}),r.jsxs("div",{className:"mt-2 text-xs text-white/50",children:[t.length," property",t.length!==1?"ies":""," found"]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.map((u,d)=>r.jsx(bL,{property:u,index:d,isRecommended:a&&d===0,onClick:s,showContactActions:!0},u.id||d))}),l&&r.jsx("div",{className:"text-center pt-4 border-t border-white/10",children:r.jsxs("div",{className:"text-white/50 text-sm",children:["+",t.length-i," more properties available"]})}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-4 border-t border-white/10",children:[r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-lg font-bold text-green-400",children:["$",Math.round(t.reduce((u,d)=>u+(d.price||0),0)/t.length)]}),r.jsx("div",{className:"text-xs text-white/60",children:"Avg. Price"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-lg font-bold text-blue-400",children:Math.round(t.reduce((u,d)=>u+(d.distanceFromUniversity||0),0)/t.length*10)/10}),r.jsx("div",{className:"text-xs text-white/60",children:"Avg. Distance"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-lg font-bold text-purple-400",children:t.filter(u=>u.availability==="available").length}),r.jsx("div",{className:"text-xs text-white/60",children:"Available"})]})]})]})},UQ=({property:t,index:e,isRecommended:n=!1,onClick:s,showContactActions:i=!1})=>{const{title:a,price:o,bedrooms:l,bathrooms:c,address:u,distanceFromUniversity:d,furnished:h,recommendation:p,availability:m="available",rating:g,amenities:x=[],image:b}=t,v=S=>`$${S}`,y=(S,M,j=[])=>{let C=3;S<400?C+=.8:S<600?C+=.5:S<800&&(C+=.2),M<2?C+=.6:M<3?C+=.4:M<5&&(C+=.2);const L=j.length;return L>=5?C+=.4:L>=3&&(C+=.2),Math.min(5,Math.round(C*10)/10)},k=(S=>({"Sathya Keshav's Apt":"123 Campus Drive, DeKalb, IL 60115","Stadium View II Apartment":"1315 W Lincoln Hwy, DeKalb, IL 60115","Lincolnshire West":"456 University Ave, DeKalb, IL 60115","Cozy 2BHK @ Stadium View 3":"789 Stadium View, DeKalb, IL 60115"})[S]||"123 University St, DeKalb, IL 60115")(a),N=y(o,d,x);return r.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{scale:1.01},whileTap:{scale:.99},onClick:()=>s==null?void 0:s(t),className:`
        relative group cursor-pointer
        bg-slate-900/50 border border-slate-700/50
        rounded-xl p-4 transition-all duration-300
        hover:bg-slate-800/50 hover:border-blue-500/30 hover:shadow-lg hover:shadow-blue-500/10
        ${s?"cursor-pointer":"cursor-default"}
        w-full
      `,children:[n&&r.jsx("div",{className:"absolute -top-2 -right-2 z-30",children:r.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-500 text-white text-xs font-bold px-3 py-1 rounded-full shadow-lg",children:"RECOMMENDED"})}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-bold text-white text-lg leading-tight group-hover:text-blue-300 transition-colors",children:a}),r.jsx("div",{className:"flex items-center gap-2 mt-1",children:r.jsxs("div",{className:"flex items-center gap-1 text-blue-400 text-sm",children:[r.jsx(ef,{className:"text-sm"}),r.jsx("span",{className:"font-medium",children:k})]})})]}),r.jsxs("div",{className:"text-right flex-shrink-0 ml-4",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-400 mb-1",children:v(o)}),r.jsx("div",{className:"text-xs text-white/60",children:"per month"}),r.jsx("div",{className:"mt-2",children:r.jsx("div",{className:"bg-green-500/20 text-green-400 border border-green-500/30 px-2 py-1 rounded-full text-xs font-semibold",children:(m==null?void 0:m.toUpperCase())||"AVAILABLE"})})]})]}),r.jsxs("div",{className:"flex items-center justify-between text-white/70 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(P_,{className:"text-blue-400"}),r.jsxs("span",{className:"font-medium",children:[l," bed",l!==1?"s":""]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(MV,{className:"text-blue-400"}),r.jsxs("span",{className:"font-medium",children:[c," bath",c!==1?"s":""]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(ef,{className:"text-blue-400"}),r.jsxs("span",{className:"font-medium",children:[d," mi"]})]}),h&&r.jsxs("div",{className:"flex items-center gap-1 text-green-400",children:[r.jsx(Aa,{}),r.jsx("span",{className:"font-medium",children:"Furnished"})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-1 text-yellow-400 text-sm",children:[r.jsx(Qh,{}),r.jsxs("span",{className:"font-medium",children:[N,"/5"]})]}),p&&r.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg px-3 py-2 flex-1 ml-4",children:r.jsx("p",{className:"text-blue-300 text-sm leading-relaxed",children:p})})]})]})]})};class ik{static parsePropertiesFromText(e){if(!e)return[];const n=e.replace(/https:\/\/newrun-property-images\.s3\.us-east-1\.amazonaws\.com\/[^\s\)]+/g,"").replace(/\[Check it out here\.\]/g,"").replace(/\[See the image\.\]/g,"").replace(/\*\*(.*?)\*\*/g,"$1").replace(/\*Title:\s*"(.*?)"\*/g,"$1").replace(/\*Priority:\*\*/g,"").replace(/\*Message:\*\*/g,"").replace(/\*Action:\*\*/g,""),s=[],i=[/(\d+)\.\s*([^:]+):\s*At just \$(\d+)\/month[^.]*?(\d+(?:\.\d+)?)\s*miles? from campus[^.]*?([^.]*)/gi,/([^:]+):\s*\$(\d+)\/month[^.]*?(\d+)\s*bedroom[^.]*?(\d+(?:\.\d+)?)\s*miles?[^.]*?([^.]*)/gi,/For \$(\d+)\/month[^.]*?(\d+)\s*bedroom[^.]*?(\d+(?:\.\d+)?)\s*miles?[^.]*?([^.]*)/gi];let a,o=0;for(const l of i)for(;(a=l.exec(n))!==null;){const c=this.extractPropertyFromMatch(a,o++);c&&s.push(c)}return s.length===0&&s.push(...this.extractFromCommonMentions(n)),s}static extractPropertyFromMatch(e,n){try{const s=this.cleanPropertyTitle(e[2]||e[1]||"Property"),i=parseInt(e[3]||e[2]||e[1]||"0"),a=parseInt(e[4]||e[3]||"0"),o=parseFloat(e[5]||e[4]||"0"),l=e[6]||e[5]||"";return{id:`property-${n}`,title:s,price:i,bedrooms:a||this.extractBedroomsFromText(l),bathrooms:this.extractBathroomsFromText(l),address:this.generateAddress(s),distanceFromUniversity:o||this.extractDistanceFromText(l),furnished:this.isFurnished(l),contactName:this.extractContactName(s),contactPhone:this.generatePhoneNumber(),contactEmail:this.generateEmail(s),recommendation:l||this.generateRecommendation(i,a,o),availability:"available",rating:this.generateRating(i,o),amenities:this.extractAmenities(l)}}catch(s){return console.error("Property extraction error:",s),null}}static extractFromCommonMentions(e){const n=[];return[{name:"Sathya Keshav's Apt",price:300,bedrooms:4,bathrooms:2.5,distance:1.8},{name:"Stadium View II Apartment",price:300,bedrooms:4,bathrooms:2,distance:3},{name:"Lincolnshire West",price:350,bedrooms:2,bathrooms:2,distance:3.4},{name:"Cozy 2BHK @ Stadium View 3",price:900,bedrooms:2,bathrooms:1.5,distance:1.7}].forEach((i,a)=>{e.toLowerCase().includes(i.name.toLowerCase())&&n.push({id:`mention-${a}`,title:i.name,price:i.price,bedrooms:i.bedrooms,bathrooms:i.bathrooms,address:this.generateAddress(i.name),distanceFromUniversity:i.distance,furnished:i.price<400,contactName:this.extractContactName(i.name),contactPhone:this.generatePhoneNumber(),contactEmail:this.generateEmail(i.name),recommendation:this.generateRecommendation(i.price,i.bedrooms,i.distance),availability:"available",rating:this.generateRating(i.price,i.distance),amenities:this.generateAmenities(i.price)})}),n}static cleanPropertyTitle(e){return e.replace(/^\d+\.\s*/,"").replace(/:\s*$/,"").replace(/\*\*(.*?)\*\*/g,"$1").replace(/\*Title:\s*"(.*?)"\*/g,"$1").trim()}static cleanAIText(e){return e?e.replace(/https:\/\/newrun-property-images\.s3\.us-east-1\.amazonaws\.com\/[^\s\)]+/g,"").replace(/\[Check it out here\.\]/g,"").replace(/\[See the image\.\]/g,"").replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*Title:\s*"(.*?)"\*/g,"<strong>$1</strong>").replace(/\*Priority:\*\*/g,"").replace(/\*Message:\*\*/g,"").replace(/\*Action:\*\*/g,"").replace(/\s+/g," ").trim():""}static extractBedroomsFromText(e){const n=e.match(/(\d+)\s*bedroom/gi);return n?parseInt(n[0]):2}static extractBathroomsFromText(e){const n=e.match(/(\d+(?:\.\d+)?)\s*bathroom/gi);return n?parseFloat(n[0]):1}static extractDistanceFromText(e){const n=e.match(/(\d+(?:\.\d+)?)\s*miles?/gi);return n?parseFloat(n[0]):2}static isFurnished(e){return/furnished|furniture|furnished|move.?in.?ready/gi.test(e)}static extractContactName(e){const n=e.match(/([A-Z][a-z]+ [A-Z][a-z]+)/);return n?n[1]:"Property Manager"}static generatePhoneNumber(){return`+1 ${Math.floor(Math.random()*900)+100}-${Math.floor(Math.random()*900)+100}-${Math.floor(Math.random()*9e3)+1e3}`}static generateEmail(e){return`${e.toLowerCase().replace(/[^a-z]/g,"")}@example.com`}static generateAddress(e){const n=["123 Campus Drive, DeKalb, IL 60115","1315 W Lincoln Hwy, DeKalb, IL 60115","456 University Ave, DeKalb, IL 60115","789 Stadium View, DeKalb, IL 60115"];return n[Math.floor(Math.random()*n.length)]}static generateRecommendation(e,n,s){let i="";return e<400&&(i+="Excellent value for money! "),s<2?i+="Walking distance to campus! ":s<3&&(i+="Short commute to campus! "),n>=3&&(i+="Perfect for sharing with roommates! "),i.trim()||"Great option for your needs!"}static generateRating(e,n){let s=3.5;return e<400&&(s+=.5),n<2&&(s+=.5),n<3&&(s+=.3),Math.min(5,Math.round(s*10)/10)}static extractAmenities(e){const n=[],s={furnished:"Furnished",parking:"Parking",laundry:"Laundry",ac:"A/C",internet:"Internet",gym:"Gym",pool:"Pool"};return Object.keys(s).forEach(i=>{e.toLowerCase().includes(i)&&n.push(s[i])}),n}static generateAmenities(e){const n=["Parking","Laundry"];return e<400?[...n,"A/C"]:e<600?[...n,"A/C","Internet"]:[...n,"A/C","Internet","Gym","Pool"]}}const VQ=({userInfo:t,dashboardData:e,onboardingData:n})=>{var de,ee,ye,xe,Ce,X;const s=pt(),{loading:i,generateInsights:a,generateActions:o,explainInsight:l}=DL(),[c,u]=f.useState({aiInsights:[],aiActions:[],aiTimeline:null,aiMarketAnalysis:null,aiPredictions:null,isLoading:!1,isInitialized:!1,error:null}),{aiInsights:d,aiActions:h,aiTimeline:p,aiMarketAnalysis:m,aiPredictions:g,isLoading:x,isInitialized:b,error:v}=c,[y,w]=f.useState(!1),[k,N]=f.useState(null),[S,M]=f.useState(null),[j,C]=f.useState(!1),[L,O]=f.useState(null),[F,$]=f.useState(""),[I,_]=f.useState(!1),[P,E]=f.useState(""),[T,D]=f.useState(!1),R=A=>A==="high"?"bg-red-500/20 text-red-300":A==="medium"?"bg-yellow-500/20 text-yellow-300":"bg-green-500/20 text-green-300",z=A=>{if(!A)return[];if(Array.isArray(A.items))return A.items;const Y=[];return Array.isArray(A.criticalTasks)&&A.criticalTasks.forEach(Z=>Y.push({label:Z,priority:"high"})),typeof A.timeline=="string"&&A.timeline.split(/[\n-]+/).map(Z=>Z.trim()).filter(Boolean).forEach(Z=>{Y.find(ae=>ae.label===Z)||Y.push({label:Z,priority:"medium"})}),Y},q=(A,Y)=>Y?Math.round(A/Y*100):0,H=f.useMemo(()=>t&&e&&!b,[t,e,b]);f.useEffect(()=>{H&&B()},[H]);const U=f.useRef(new Map),B=f.useCallback(async()=>{const A=(t==null?void 0:t.id)||"anonymous",Y={userInfo:t,dashboardData:e,onboardingData:n},Z=o_(A,Y),ae=c_(A,Y);if(Z&&ae){console.log(" Using cached AI data for insights and actions"),u(je=>({...je,aiInsights:Z,aiActions:ae,isInitialized:!0}));return}const ue=`ai-data-${A}`;if(U.current.has(ue))return console.log(" Request already in progress, waiting..."),U.current.get(ue);const he=(async()=>{var je,Ee,Oe,qe,rt,ot,lt;u(et=>({...et,isLoading:!0,error:null}));try{const et={...t,onboardingData:n||{},dashboardStats:{propertiesCount:(e==null?void 0:e.propertiesCount)||0,marketplaceCount:(e==null?void 0:e.marketplaceCount)||0,averagePropertyPrice:((je=e==null?void 0:e.propertiesStats)==null?void 0:je.averagePrice)||0,totalViews:((Ee=e==null?void 0:e.propertiesStats)==null?void 0:Ee.totalViews)||0,availableProperties:((Oe=e==null?void 0:e.propertiesStats)==null?void 0:Oe.availableProperties)||0,marketplaceItems:((qe=e==null?void 0:e.marketplaceStats)==null?void 0:qe.totalItems)||0,marketplaceViews:((rt=e==null?void 0:e.marketplaceStats)==null?void 0:rt.totalViews)||0},userProperties:((ot=e==null?void 0:e.myProperties)==null?void 0:ot.items)||[],userMarketplaceItems:((lt=e==null?void 0:e.myMarketplace)==null?void 0:lt.items)||[]};console.log(" Starting AI data generation with enriched data...",{enrichedUserData:et,originalUserInfo:t,onboardingData:n,dashboardData:e});const[Ot,xt]=await Promise.allSettled([a(et,e),o(et)]);console.log(" AI Results:",{insights:Ot,actions:xt}),Ot.status==="fulfilled"&&console.log(" Raw Insights Response:",Ot.value),xt.status==="fulfilled"&&console.log(" Raw Actions Response:",xt.value);const mn=G(Ot.status==="fulfilled"?Ot.value:[]),_n=Q(xt.status==="fulfilled"?xt.value:[]);console.log(" Transformed Data:",{transformedInsights:mn,transformedActions:_n});const bt={aiInsights:mn,aiActions:_n,aiTimeline:null,aiMarketAnalysis:null,aiPredictions:null,isLoading:!1,isInitialized:!0,error:null};return u(bt),l_(A,Y,mn),d_(A,Y,_n),bt}catch(et){console.error("AI Initialization Error:",et);const Ot={isLoading:!1,error:`AI Service Error: ${et.message||"Unknown error"}`,isInitialized:!0};throw u(xt=>({...xt,...Ot})),et}finally{U.current.delete(ue)}})();return U.current.set(ue,he),he},[t,e,a,o]),V=A=>{if(!A)return null;if(console.log(" extractJSONArray input:",A),Array.isArray(A))return console.log(" Returning array as-is:",A),A;if(typeof A=="object")return console.log(" Object keys:",Object.keys(A)),Array.isArray(A.insights)?(console.log(" Found insights array:",A.insights),A.insights):Array.isArray(A.actions)?(console.log(" Found actions array:",A.actions),A.actions):Array.isArray(A.items)?(console.log(" Found items array:",A.items),A.items):Array.isArray(A.data)?(console.log(" Found data array:",A.data),A.data):(console.log(" Wrapping single object in array:",[A]),[A]);if(typeof A=="string"){let Y=A.trim();const Z=Y.match(/```(?:json)?\s*([\s\S]*?)```/i);Z&&(Y=Z[1].trim()),/^json\s*[\[\{]/i.test(Y)&&(Y=Y.replace(/^json\s*/i,""));try{const ae=JSON.parse(Y);return V(ae)}catch(ae){return console.warn("AI JSON parse failed, showing fallback.",ae,{text:Y}),null}}return null},G=f.useCallback(A=>{const Y=V(A)||[];return Y.length===0?[{type:"info",title:"Welcome to NewRun!",message:"Complete your onboarding to get personalized AI insights and recommendations.",action:"Complete onboarding",priority:"high",icon:"lightbulb"},{type:"success",title:"Get Started",message:"List your first property or browse available housing options.",action:"Browse properties",priority:"medium",icon:"home"}]:Y.map(Z=>({type:Z.type||"info",title:Z.title||"AI Insight",message:Z.message||"Personalized recommendation available.",action:Z.action||"Learn more",priority:Z.priority||"medium",icon:Z.icon||"lightbulb"}))},[]),Q=f.useCallback(A=>{const Y=V(A)||[];return Y.length===0?[{label:"List Property",description:"Add a new property listing",path:"/dashboard",icon:"home",color:"blue",priority:"high"},{label:"Browse Properties",description:"Find your perfect place",path:"/all-properties",icon:"search",color:"green",priority:"high"},{label:"Find Roommate",description:"Connect with potential roommates",path:"/Synapsematches",icon:"people",color:"purple",priority:"medium"},{label:"Browse Marketplace",description:"Shop for essentials",path:"/marketplace",icon:"shopping",color:"orange",priority:"medium"}]:Y.map(Z=>({label:Z.label||Z.title||"AI Action",description:Z.description||Z.subtitle||Z.label||"Personalized action available",path:Z.path||Z.href||"#",icon:Z.icon||"home",color:Z.color||"blue",priority:Z.priority||"medium"}))},[]),se=A=>({schedule:$o,money:a5,home:xi,people:ka,lightbulb:oc,warning:Jc,check:Aa,info:e5,chat:Fo,search:Jp,person:wi,shopping:Ia,event:JN,analytics:sh,insights:rh,rocket:Zh,groups:ka,shopping_bag:Ia,home_work:xi,schedule_send:$o,money_off:a5,lightbulb_outline:oc,warning_amber:Jc,check_circle:Aa,info_outline:e5,chat_bubble:Fo,search_icon:Jp,person_outline:wi,event_available:JN,analytics_outlined:sh,insights_outlined:rh,rocket_launch:Zh})[A]||oc,te=f.useCallback((A,Y=15)=>{if(!A)return;_(!0),$("");let Z=0;const ae=setInterval(()=>{Z<A.length?($(A.slice(0,Z+1)),Z++):(clearInterval(ae),_(!1))},Y);return()=>clearInterval(ae)},[]);f.useEffect(()=>()=>{_(!1),$("")},[]);const K=f.useCallback(async A=>{var Y;N(A),w(!0),C(!0),M(null),$(""),_(!1);try{const Z=(t==null?void 0:t.id)||"anonymous",ae=((Y=A.title)==null?void 0:Y.toLowerCase().replace(/\s+/g,"-"))||"unknown",ue={userInfo:t,dashboardData:e,onboardingData:n},he=yf.getCachedExplanation(Z,ae,ue);if(he){console.log(" Using cached AI explanation"),M({explanation:he,insight:A,aiGenerated:!0,cached:!0}),te(he),C(!1);return}console.log(" Cache miss - making API call");const je=await l(A,e);M(je),je!=null&&je.explanation&&(yf.setCachedExplanation(Z,ae,ue,je.explanation),te(je.explanation))}catch(Z){console.error("Failed to get AI explanation:",Z);const ae=`This recommendation is important for your success. ${A.title} is a ${A.priority} priority that will help you stay on track with your goals.`;M({explanation:ae,insight:A,aiGenerated:!1,fallback:!0}),te(ae)}finally{C(!1)}},[l,e,te,t,n]),J=f.useCallback(()=>{w(!1),N(null),M(null),C(!1),$(""),_(!1)},[]),fe=f.useCallback(A=>{A.path&&A.path!=="#"?s(A.path):({"List Property":()=>s("/dashboard"),"Browse Properties":()=>s("/all-properties"),"Find Roommate":()=>s("/Synapse"),"Browse Marketplace":()=>s("/marketplace"),"AI Action":()=>s("/dashboard")}[A.label]||(()=>s("/dashboard")))()},[s]),le=f.useMemo(()=>d.length>0,[d.length]),ce=f.useMemo(()=>h.length>0,[h.length]),ne=f.useMemo(()=>window.matchMedia("(prefers-reduced-motion: reduce)").matches,[]),ie=f.useMemo(()=>({initial:ne?{}:{opacity:0,y:20},animate:ne?{}:{opacity:1,y:0},transition:ne?{}:{duration:.6},whileHover:ne?{}:{scale:1.02,y:-2},whileTap:ne?{}:{scale:.98}}),[ne]);return i&&!b?r.jsx("div",{className:"flex items-center justify-center p-8",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"}),r.jsx("span",{className:"text-white/70",children:"NewRun AI is analyzing your data..."})]})}):v?r.jsxs("div",{className:"p-6 rounded-2xl border border-red-500/50 bg-red-500/10",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(Jc,{className:"text-red-400 text-xl"}),r.jsx("h3",{className:"text-lg font-bold text-red-400",children:"AI Service Error"})]}),r.jsx("p",{className:"text-red-300 text-sm",children:v}),r.jsx("button",{onClick:B,className:"mt-3 px-4 py-2 bg-red-500/20 border border-red-500/50 rounded-lg text-red-300 hover:bg-red-500/30 transition-colors",children:"Retry"})]}):x?r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-r from-blue-500 to-purple-500",children:r.jsx(oc,{className:"text-xl text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-white",children:"AI-Powered Insights"}),r.jsx("p",{className:"text-white/60 text-sm",children:"Generating personalized recommendations..."})]})]}),r.jsx("div",{className:"flex items-center justify-center py-8",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})})]})}):r.jsxs("div",{className:"space-y-6",children:[le&&r.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"rounded-2xl border border-white/10 bg-white/5 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-r from-blue-500 to-purple-500",children:r.jsx(oc,{className:"text-xl text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-white",children:"AI-Powered Insights"}),r.jsx("p",{className:"text-white/60 text-sm",children:"Personalized recommendations powered by GPT-4o"})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:d.map((A,Y)=>{var ae,ue,he,je;if(!A||typeof A!="object")return console.warn("Invalid insight object:",A),null;const Z=se(A.icon);return r.jsx(we.div,{...ie,transition:{duration:.4,delay:Y*.1},onClick:()=>K(A),onMouseEnter:()=>O(Y),onMouseLeave:()=>O(null),className:`p-5 rounded-xl border transition-all duration-300 ${A.action==="Learn more"&&A.type==="info"?"cursor-default":"cursor-pointer"} ${A.type==="urgent"?"border-orange-500/30 bg-orange-500/5 hover:bg-orange-500/10":A.type==="warning"?"border-amber-500/30 bg-amber-500/5 hover:bg-amber-500/10":A.type==="success"?"border-emerald-500/30 bg-emerald-500/5 hover:bg-emerald-500/10":"border-slate-500/30 bg-slate-500/5 hover:bg-slate-500/10"}`,role:"button",tabIndex:0,"aria-label":`${A.title}: ${A.message}`,onKeyDown:Ee=>{(Ee.key==="Enter"||Ee.key===" ")&&(Ee.preventDefault(),K(A))},children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:`p-3 rounded-lg ${A.type==="urgent"?"bg-orange-500/10":A.type==="warning"?"bg-amber-500/10":A.type==="success"?"bg-emerald-500/10":"bg-slate-500/10"}`,children:r.jsx(Z,{className:"text-xl text-white"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx("h4",{className:"font-bold text-white text-base",dangerouslySetInnerHTML:{__html:((ae=A.title)==null?void 0:ae.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*Title:\s*"(.*?)"\*/g,"<strong>$1</strong>").replace(/\*Priority:\*\*/g,"").replace(/\*Message:\*\*/g,"").replace(/\*Action:\*\*/g,""))||"AI Insight"}}),r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${A.priority==="high"?"bg-orange-500/20 text-orange-300":A.priority==="medium"?"bg-amber-500/20 text-amber-300":"bg-emerald-500/20 text-emerald-300"}`,children:(ue=A.priority)==null?void 0:ue.toUpperCase()})]}),r.jsx("p",{className:"text-white/80 text-sm mb-4 leading-relaxed",dangerouslySetInnerHTML:{__html:((he=A.message)==null?void 0:he.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*Title:\s*"(.*?)"\*/g,"<strong>$1</strong>").replace(/\*Priority:\*\*/g,"").replace(/\*Message:\*\*/g,"").replace(/\*Action:\*\*/g,""))||"Personalized recommendation available."}}),r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"inline-flex items-center gap-2 text-sm font-medium text-blue-400 hover:text-blue-300",children:[r.jsx("span",{children:((je=A.cta)==null?void 0:je.label)||"Learn more"}),r.jsx("span",{children:""})]})})]})]})},Y)})})]}),p&&r.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"rounded-2xl border border-white/10 bg-white/5 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-r from-orange-500 to-red-500",children:r.jsx($o,{className:"text-xl text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-white",children:"Arrival Checklist"}),r.jsx("p",{className:"text-white/60 text-sm",children:"Personalized tasks & timing"})]})]}),(()=>{const A=z(p).map((ae,ue)=>({id:ue,done:!!ae.done,priority:ae.priority||"medium",dueInDays:ae.dueInDays,cta:ae.cta,label:ae.label||String(ae)})),Y=A.filter(ae=>ae.done).length,Z=q(Y,A.length);return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("span",{className:"text-white/70 text-sm",children:"Progress"}),r.jsxs("span",{className:"text-white/70 text-sm",children:[Z,"%"]})]}),r.jsx("div",{className:"h-2 w-full bg-white/10 rounded-full",children:r.jsx("div",{className:"h-2 bg-blue-500 rounded-full",style:{width:`${Z}%`}})})]}),r.jsx("ul",{className:"space-y-2",children:A.map(ae=>{var ue;return r.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-white/10 bg-white/[0.06] p-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",checked:ae.done,readOnly:!0,className:"accent-blue-500 w-4 h-4"}),r.jsx("span",{className:"text-white/90 text-sm",children:ae.label}),r.jsx("span",{className:`px-2 py-0.5 rounded-full text-[11px] ${R(ae.priority)}`,children:ae.priority.toUpperCase()})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[typeof ae.dueInDays=="number"&&r.jsx("span",{className:"text-xs text-white/60",children:ae.dueInDays<=0?"Due now":`Due in ${ae.dueInDays}d`}),((ue=ae.cta)==null?void 0:ue.route)&&r.jsx("button",{onClick:()=>K({cta:ae.cta}),className:"text-xs px-2 py-1 rounded border border-blue-500/40 text-blue-300 hover:bg-blue-500/10",children:ae.cta.label||"Open"})]})]},ae.id)})}),p.recommendations&&r.jsxs("div",{className:"mt-4 p-3 rounded-lg bg-blue-500/10 border border-blue-500/30",children:[r.jsx("h4",{className:"text-blue-300 text-sm font-semibold mb-1",children:"Recommendations"}),Array.isArray(p.recommendations)?r.jsx("ul",{className:"list-disc list-inside text-blue-200/90 text-xs space-y-1",children:p.recommendations.map((ae,ue)=>r.jsx("li",{children:ae},ue))}):r.jsx("p",{className:"text-blue-200/90 text-xs",children:p.recommendations})]})]})})()]}),ce&&r.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"rounded-2xl border border-white/10 bg-white/5 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-r from-green-500 to-teal-500",children:r.jsx(Zh,{className:"text-xl text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-white",children:"AI-Recommended Actions"}),r.jsx("p",{className:"text-white/60 text-sm",children:"Smart actions tailored to your profile"})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:h.map((A,Y)=>{if(!A||typeof A!="object")return console.warn("Invalid action object:",A),null;const Z=se(A.icon);return r.jsxs(we.button,{whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},onClick:()=>fe(A),className:`w-full flex items-center gap-4 p-5 rounded-xl border-2 transition-all duration-300 hover:shadow-lg ${A.color==="blue"?"border-blue-500/50 bg-blue-500/10 hover:bg-blue-500/20":A.color==="green"?"border-green-500/50 bg-green-500/10 hover:bg-green-500/20":A.color==="purple"?"border-purple-500/50 bg-purple-500/10 hover:bg-purple-500/20":A.color==="orange"?"border-orange-500/50 bg-orange-500/10 hover:bg-orange-500/20":"border-gray-500/50 bg-gray-500/10 hover:bg-gray-500/20"}`,children:[r.jsx("div",{className:`p-3 rounded-lg ${A.color==="blue"?"bg-blue-500/20":A.color==="green"?"bg-green-500/20":A.color==="purple"?"bg-purple-500/20":A.color==="orange"?"bg-orange-500/20":"bg-gray-500/20"}`,children:r.jsx(Z,{className:"text-xl text-white"})}),r.jsxs("div",{className:"flex-1 text-left",children:[r.jsx("h4",{className:"text-white font-bold text-base mb-1",children:A.label}),r.jsx("p",{className:"text-white/70 text-sm",children:A.description})]}),r.jsx("div",{className:"text-white/60",children:""})]},Y)})})]}),p&&r.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"rounded-2xl border border-white/10 bg-white/5 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-r from-orange-500 to-red-500",children:r.jsx($o,{className:"text-xl text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-white",children:"AI Arrival Timeline"}),r.jsx("p",{className:"text-white/60 text-sm",children:"Smart timeline based on your profile"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"p-3 rounded-lg bg-white/5",children:[r.jsx("h4",{className:"text-white font-semibold text-sm mb-2",children:"Timeline Overview"}),r.jsx("p",{className:"text-white/70 text-xs",children:typeof p.timeline=="string"?p.timeline:JSON.stringify(p.timeline,null,2)})]}),p.criticalTasks&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"text-white font-semibold text-sm",children:"Critical Tasks"}),p.criticalTasks.map((A,Y)=>r.jsxs("div",{className:"flex items-center gap-2 text-white/70 text-xs",children:[r.jsx(Aa,{className:"text-green-400"}),r.jsx("span",{children:A})]},Y))]}),p.recommendations&&r.jsxs("div",{className:"p-3 rounded-lg bg-blue-500/10 border border-blue-500/30",children:[r.jsx("h4",{className:"text-blue-400 font-semibold text-sm mb-1",children:"AI Recommendations"}),r.jsx("p",{className:"text-blue-300 text-xs",children:typeof p.recommendations=="string"?p.recommendations:JSON.stringify(p.recommendations,null,2)})]})]})]}),m&&r.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"rounded-2xl border border-white/10 bg-white/5 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-r from-purple-500 to-pink-500",children:r.jsx(sh,{className:"text-xl text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-white",children:"AI Market Analysis"}),r.jsx("p",{className:"text-white/60 text-sm",children:"Intelligent market insights and trends"})]})]}),r.jsxs("div",{className:"space-y-4",children:[m.budgetAnalysis&&r.jsxs("div",{className:"p-3 rounded-lg bg-white/5",children:[r.jsx("h4",{className:"text-white font-semibold text-sm mb-1",children:"Budget Analysis"}),r.jsx("p",{className:"text-white/70 text-xs",children:typeof m.budgetAnalysis=="string"?m.budgetAnalysis:JSON.stringify(m.budgetAnalysis,null,2)})]}),m.trends&&r.jsxs("div",{className:"p-3 rounded-lg bg-white/5",children:[r.jsx("h4",{className:"text-white font-semibold text-sm mb-1",children:"Market Trends"}),r.jsx("p",{className:"text-white/70 text-xs",children:typeof m.trends=="string"?m.trends:JSON.stringify(m.trends,null,2)})]}),m.recommendations&&r.jsxs("div",{className:"p-3 rounded-lg bg-green-500/10 border border-green-500/30",children:[r.jsx("h4",{className:"text-green-400 font-semibold text-sm mb-1",children:"AI Recommendations"}),r.jsx("p",{className:"text-green-300 text-xs",children:typeof m.recommendations=="string"?m.recommendations:JSON.stringify(m.recommendations,null,2)})]})]})]}),g&&r.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.8},className:"rounded-2xl border border-white/10 bg-white/5 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-r from-emerald-500 to-cyan-500",children:r.jsx(rh,{className:"text-xl text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-white",children:"AI Success Predictions"}),r.jsx("p",{className:"text-white/60 text-sm",children:"Predictive analytics for your success"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-white/5",children:[r.jsx("span",{className:"text-white/70 text-sm",children:"Overall Success Score"}),r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${g.overallScore==="excellent"?"bg-green-500/20 text-green-400":g.overallScore==="good"?"bg-blue-500/20 text-blue-400":g.overallScore==="fair"?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:((de=g.overallScore)==null?void 0:de.toUpperCase())||"ANALYZING"})]}),g.predictions&&r.jsxs("div",{className:"p-3 rounded-lg bg-white/5",children:[r.jsx("h4",{className:"text-white font-semibold text-sm mb-1",children:"Predictions"}),r.jsx("p",{className:"text-white/70 text-xs",children:typeof g.predictions=="string"?g.predictions:JSON.stringify(g.predictions,null,2)})]}),g.recommendations&&r.jsxs("div",{className:"p-3 rounded-lg bg-blue-500/10 border border-blue-500/30",children:[r.jsx("h4",{className:"text-blue-400 font-semibold text-sm mb-1",children:"Success Recommendations"}),r.jsx("p",{className:"text-blue-300 text-xs",children:typeof g.recommendations=="string"?g.recommendations:JSON.stringify(g.recommendations,null,2)})]})]})]}),m&&r.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"rounded-2xl border border-white/10 bg-white/5 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-r from-purple-500 to-pink-500",children:r.jsx(sh,{className:"text-xl text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-white",children:"Market Snapshot"}),r.jsx("p",{className:"text-white/60 text-sm",children:"Budget fit  Trends  Moves"})]})]}),(()=>{const A=m,Y=Array.isArray(A.trends)?A.trends:typeof A.trends=="string"?A.trends.split(/[,\n]+/).map(je=>je.trim()).filter(Boolean):[],Z=Array.isArray(A.recommendations)?A.recommendations:typeof A.recommendations=="string"?[A.recommendations]:[],ae=typeof A.budgetAnalysis=="string"?A.budgetAnalysis:JSON.stringify(A.budgetAnalysis),ue=(A.marketScore||"good").toUpperCase(),he=A.marketScore==="excellent"?"bg-green-500/20 text-green-300":A.marketScore==="good"?"bg-blue-500/20 text-blue-300":A.marketScore==="fair"?"bg-yellow-500/20 text-yellow-300":"bg-red-500/20 text-red-300";return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 mb-4",children:[r.jsxs("div",{className:"rounded-lg border border-white/10 bg-white/[0.06] p-3",children:[r.jsx("div",{className:"text-white/60 text-xs mb-1",children:"Budget Fit"}),r.jsx("div",{className:"text-white/90 text-sm",children:ae})]}),r.jsxs("div",{className:"rounded-lg border border-white/10 bg-white/[0.06] p-3",children:[r.jsx("div",{className:"text-white/60 text-xs mb-1",children:"Score"}),r.jsx("span",{className:`px-2 py-0.5 rounded-full text-[11px] ${he}`,children:ue})]}),r.jsxs("div",{className:"rounded-lg border border-white/10 bg-white/[0.06] p-3",children:[r.jsx("div",{className:"text-white/60 text-xs mb-1",children:"Best Move"}),r.jsx("div",{className:"text-white/90 text-sm",children:Z[0]||"Explore listings this week"})]})]}),Y.length>0&&r.jsxs("div",{className:"mb-3",children:[r.jsx("h4",{className:"text-white font-semibold text-sm mb-2",children:"Trends"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:Y.slice(0,8).map((je,Ee)=>r.jsx("span",{className:"px-2 py-1 rounded-full bg-white/10 text-white/70 text-xs",children:je},Ee))})]}),Z.length>0&&r.jsxs("div",{className:"p-3 rounded-lg bg-green-500/10 border border-green-500/30",children:[r.jsx("h4",{className:"text-green-300 text-sm font-semibold mb-1",children:"What to do"}),r.jsx("ul",{className:"list-disc list-inside text-green-200/90 text-xs space-y-1",children:Z.map((je,Ee)=>r.jsx("li",{children:je},Ee))})]})]})})()]}),g&&r.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.8},className:"rounded-2xl border border-white/10 bg-white/5 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-r from-emerald-500 to-cyan-500",children:r.jsx(rh,{className:"text-xl text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-white",children:"Success Outlook"}),r.jsx("p",{className:"text-white/60 text-sm",children:"Predictions  Risks  Tips"})]})]}),(()=>{var je;const A=g,Z={excellent:95,good:75,fair:55,"needs-improvement":35}[A.overallScore]??50,ae=Array.isArray(A.risks)?A.risks:typeof A.risks=="string"?A.risks.split(/[,\n]+/).map(Ee=>Ee.trim()).filter(Boolean):[],ue=Array.isArray(A.successFactors)?A.successFactors:typeof A.successFactors=="string"?A.successFactors.split(/[,\n]+/).map(Ee=>Ee.trim()).filter(Boolean):[],he=Array.isArray(A.recommendations)?A.recommendations:typeof A.recommendations=="string"?[A.recommendations]:[];return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsxs("span",{className:"text-white/70 text-sm",children:["Overall Score: ",((je=A.overallScore)==null?void 0:je.toUpperCase())||""]}),r.jsxs("span",{className:"text-white/70 text-sm",children:[Z,"%"]})]}),r.jsx("div",{className:"h-2 w-full bg-white/10 rounded-full",children:r.jsx("div",{className:"h-2 bg-emerald-500 rounded-full",style:{width:`${Z}%`}})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3",children:[ue.length>0&&r.jsxs("div",{className:"rounded-lg border border-white/10 bg-white/[0.06] p-3",children:[r.jsx("div",{className:"text-white/60 text-xs mb-2",children:"Success Factors"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:ue.slice(0,8).map((Ee,Oe)=>r.jsx("span",{className:"px-2 py-1 rounded-full bg-emerald-500/10 text-emerald-300 text-[11px]",children:Ee},Oe))})]}),ae.length>0&&r.jsxs("div",{className:"rounded-lg border border-white/10 bg-white/[0.06] p-3",children:[r.jsx("div",{className:"text-white/60 text-xs mb-2",children:"Risks"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:ae.slice(0,8).map((Ee,Oe)=>r.jsx("span",{className:"px-2 py-1 rounded-full bg-red-500/10 text-red-300 text-[11px]",children:Ee},Oe))})]})]}),he.length>0&&r.jsxs("div",{className:"p-3 rounded-lg bg-blue-500/10 border border-blue-500/30",children:[r.jsx("h4",{className:"text-blue-300 text-sm font-semibold mb-1",children:"Recommendations"}),r.jsx("ul",{className:"list-disc list-inside text-blue-200/90 text-xs space-y-1",children:he.map((Ee,Oe)=>r.jsx("li",{children:Ee},Oe))})]})]})})()]}),r.jsx(_m,{isOpen:y,onClose:J,title:"AI Insight Details",width:"w-[500px]",maxWidth:"max-w-xl",children:k&&r.jsxs("div",{className:"flex flex-col h-full",children:[r.jsx("div",{className:"flex-1 overflow-y-auto",children:r.jsx("div",{className:"p-6",children:j?r.jsxs("div",{className:"flex items-center gap-3 py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-400"}),r.jsx("span",{className:"text-white/70",children:"AI is analyzing your situation..."})]}):S?r.jsxs("div",{className:"prose prose-invert max-w-none",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"whitespace-pre-wrap text-white/90 leading-relaxed text-base",dangerouslySetInnerHTML:{__html:(F||"").replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*Title:\s*"(.*?)"\*/g,"<strong>$1</strong>").replace(/\*Priority:\*\*/g,"").replace(/\*Message:\*\*/g,"").replace(/\*Action:\*\*/g,"").replace(/https:\/\/newrun-property-images\.s3\.us-east-1\.amazonaws\.com\/[^\s\)]+/g,"").replace(/\[Check it out here\.\]/g,"").replace(/\[See the image\.\]/g,"").replace(/\[Property Image\]/g,"").replace(/\*([^*]+)\*/g,"<strong>$1</strong>").replace(/\*\*/g,"").replace(/\*/g,"")+(I?'<span class="inline-block w-2 h-5 bg-white/90 ml-1 animate-pulse"></span>':"")}}),!I&&(()=>{const A=ik.parsePropertiesFromText(F);return A.length>0?r.jsxs("div",{className:"mt-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:"Recommended Properties"}),r.jsx("div",{className:"space-y-3",children:A.map((Y,Z)=>r.jsx(UQ,{property:Y,index:Z,isRecommended:Z===0,onClick:ae=>{console.log("Property clicked:",ae)},showContactActions:!1},Y.id))})]}):null})(),!I&&((ye=(ee=S==null?void 0:S.structured)==null?void 0:ee.group)==null?void 0:ye.kind)==="roommate"&&r.jsxs("div",{className:"mt-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:"Recommended Roommates"}),r.jsx("div",{className:"space-y-3",children:S.structured.items.map(A=>{const Y=Number(A.score)||0,Z=Math.round(Math.max(0,Math.min(100,Y))*1.2),ae=(A.name||"?").trim().charAt(0).toUpperCase();return r.jsxs("div",{className:`relative rounded-xl border border-white/10 p-3 ${A.rank===1?"ring-5 ring-blue-500/70 bg-blue-500/5":"bg-black/5"}`,children:[A.rank===1&&r.jsx("div",{className:"absolute -top-3.5 -right-2 z-10",children:r.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-900 text-white text-[10px] font-bold px-5 py-1 rounded-full shadow-lg",children:"TOP MATCH"})}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"relative",children:r.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 border border-white/15 flex items-center justify-center text-white/80 font-semibold",children:ae})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"text-white font-bold truncate",children:[A.rank===1?"#1":`#${A.rank}`,"  ",A.name]}),r.jsx("div",{className:"w-10 h-10 rounded-full grid place-items-center",style:{background:`conic-gradient(hsl(${Z} 85% 55%) ${Y*3.6}deg, #1f2937 0)`},children:r.jsxs("div",{className:"w-8 h-8 rounded-full bg-[#0f1115] grid place-items-center text-[11px] text-white/90",children:[Y,"%"]})})]}),r.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:(A.reasons||[]).slice(0,2).map((ue,he)=>r.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-white/10 text-white/80",children:ue},he))})]})]}),A.href&&r.jsx("a",{href:A.href,className:"mt-2 inline-block text-sm text-blue-300",children:"View profile "})]},A.id)})})]}),!I&&(ik.parsePropertiesFromText(F).length>0?r.jsxs("div",{className:"mt-6 p-4 bg-slate-500/5 border border-slate-500/20 rounded-lg",children:[r.jsx("h4",{className:"text-white font-semibold text-sm mb-3",children:"For next steps:"}),r.jsxs("div",{className:"space-y-2 text-white/80 text-sm",children:[r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-blue-400 font-bold",children:""}),r.jsx("span",{children:"Decide which property best fits your needs and reach out to schedule a viewing."})]}),r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-blue-400 font-bold",children:""}),r.jsx("span",{children:"Consider who you'd like to share with, as these options are perfect for roommates."})]}),r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-blue-400 font-bold",children:""}),r.jsx("span",{children:"Prepare any questions you have about each property or the leasing process."})]})]})]}):null)]}),(k==null?void 0:k.hasSpecificRecommendations)&&(k==null?void 0:k.specificRecommendations)&&r.jsx("div",{className:"mt-6 space-y-4",children:r.jsxs("div",{className:"border-t border-white/10 pt-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:" Specific Recommendations Found"}),((xe=k.specificRecommendations.recommendations)==null?void 0:xe.properties)&&r.jsx("div",{className:"mb-6",children:r.jsx(BQ,{properties:k.specificRecommendations.recommendations.properties,title:" AI-Recommended Properties",subtitle:"Properties perfectly matched to your budget and preferences",onPropertyClick:A=>{console.log("Property clicked:",A)},maxDisplay:6,showRecommendations:!0})}),((Ce=k.specificRecommendations.recommendations)==null?void 0:Ce.roommates)&&r.jsxs("div",{className:"mb-6",children:[r.jsxs("h4",{className:"text-md font-medium text-purple-300 mb-3",children:[" Compatible Roommates (",k.specificRecommendations.recommendations.roommates.length,")"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:k.specificRecommendations.recommendations.roommates.slice(0,4).map((A,Y)=>{var Z,ae,ue,he;return r.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:Y*.1},className:"bg-gradient-to-br from-purple-500/10 to-pink-500/10 rounded-xl border border-purple-500/20 p-4 hover:border-purple-500/40 transition-all duration-300",children:[r.jsxs("div",{className:"flex justify-between items-start mb-3",children:[r.jsxs("div",{children:[r.jsxs("h5",{className:"font-bold text-white text-lg",children:[A.firstName," ",A.lastName]}),r.jsxs("p",{className:"text-white/70 text-sm",children:[A.major,"  ",A.university]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-2xl font-bold text-purple-400",children:[A.compatibilityScore,"%"]}),r.jsx("div",{className:"text-xs text-white/60",children:"match"})]})]}),r.jsxs("div",{className:"space-y-2 mb-3",children:[r.jsx("div",{className:"flex items-center gap-2 text-sm text-white/60",children:r.jsxs("span",{children:[" Budget: $",(ae=(Z=A.onboardingData)==null?void 0:Z.budgetRange)==null?void 0:ae.min,"-$",(he=(ue=A.onboardingData)==null?void 0:ue.budgetRange)==null?void 0:he.max]})}),A.languageMatch&&r.jsx("div",{className:"flex items-center gap-2 text-sm text-green-400",children:r.jsx("span",{children:" Same language"})})]}),A.recommendation&&r.jsx("div",{className:"bg-purple-500/10 border border-purple-500/30 rounded-lg p-3",children:r.jsx("p",{className:"text-purple-300 text-sm leading-relaxed",children:A.recommendation})})]},Y)})})]}),((X=k.specificRecommendations.recommendations)==null?void 0:X.bestMatches)&&r.jsxs("div",{className:"mb-6",children:[r.jsx("h4",{className:"text-md font-medium text-green-300 mb-3",children:" Perfect Property + Roommate Pairs"}),r.jsx("div",{className:"space-y-3",children:k.specificRecommendations.recommendations.bestMatches.slice(0,2).map((A,Y)=>r.jsxs("div",{className:"bg-gradient-to-r from-green-500/10 to-blue-500/10 rounded-lg p-4 border border-green-500/20",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsxs("h5",{className:"font-medium text-white",children:[A.property.title," + ",A.roommate.firstName]}),r.jsxs("span",{className:"text-green-400 font-semibold",children:["Save $",Math.round(A.savings),"/mo"]})]}),r.jsx("p",{className:"text-white/70 text-sm mb-2",children:A.recommendation}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-white/60",children:[r.jsxs("span",{children:[" ",A.property.bedrooms," bed  $",A.property.price,"/mo"]}),r.jsxs("span",{children:[" ",A.roommate.firstName,"  ",A.pairScore,"% compatibility"]})]})]},Y))})]})]})})]}):r.jsx("div",{className:"py-8",children:r.jsx("p",{className:"text-white/70",children:"Loading AI explanation..."})})})}),r.jsx("div",{className:"border-t border-white/10 bg-[#0f1115]",children:r.jsxs(we.div,{layout:!0,transition:{type:"spring",stiffness:220,damping:28},className:T?"p-5":"p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsxs("button",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-blue-500/20 text-blue-300 text-sm font-medium hover:bg-blue-500/30 transition-colors",children:[r.jsx("span",{className:"text-xs",children:""}),r.jsx("span",{children:"Agent AI"}),r.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),r.jsxs("button",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-white/10 text-white/70 text-sm font-medium hover:bg-white/20 transition-colors",children:[r.jsx("span",{children:"Auto"}),r.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]})]}),r.jsxs(we.div,{layout:!0,animate:T?{scale:1.01,boxShadow:"0 24px 60px rgba(0,0,0,0.35)"}:{scale:1,boxShadow:"0 0 0 rgba(0,0,0,0)"},transition:{type:"spring",stiffness:220,damping:28},className:"relative",children:[r.jsx("textarea",{placeholder:"Ask AI about this insight or get more personalized advice...",className:"w-full p-4 pr-12 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/50 resize-none focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-transparent",rows:T?6:3,style:{minHeight:T?"140px":"80px"},value:P,onChange:A=>{E(A.target.value)},onKeyDown:A=>{A.key==="Enter"&&!A.shiftKey&&(A.preventDefault(),T||D(!0))}}),r.jsxs("div",{className:"absolute bottom-3 right-3 flex items-center gap-2",children:[r.jsx("button",{className:"p-2 rounded-lg hover:bg-white/10 transition-colors",children:r.jsx("svg",{className:"w-4 h-4 text-white/50",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})})}),r.jsx("button",{className:"p-2 rounded-lg bg-blue-500 hover:bg-blue-600 transition-colors",onClick:()=>D(!0),children:r.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})})})]})]})]})})]})})]})},WQ=f.memo(VQ),HQ=({userInfo:t,dashboardData:e,onboardingData:n})=>{var U,B;const{loading:s,generateInsights:i,generateActions:a,explainInsight:o}=DL(),[l,c]=f.useState({aiInsights:[],aiActions:[],roommateMatches:[],compatibilityScores:{},isLoading:!1,isInitialized:!1,error:null}),{aiInsights:u,aiActions:d,roommateMatches:h,compatibilityScores:p,isLoading:m,isInitialized:g,error:x}=l,[b,v]=f.useState(!1),[y,w]=f.useState(null),[k,N]=f.useState(null),[S,M]=f.useState(!1),[j,C]=f.useState(null),[L,O]=f.useState(""),[F,$]=f.useState(!1),I=V=>V>=90?"text-green-400":V>=80?"text-blue-400":V>=70?"text-yellow-400":V>=60?"text-orange-400":"text-red-400",_=f.useMemo(()=>t&&e&&!g,[t,e,g]);f.useEffect(()=>{_&&E()},[_]);const P=f.useRef(new Map),E=f.useCallback(async()=>{const V=(t==null?void 0:t.id)||"anonymous",G={userInfo:t,dashboardData:e,onboardingData:n},Q=o_(V,G),se=c_(V,G);if(Q&&se){console.log(" Using cached AI roommate data"),c(J=>({...J,aiInsights:Q,aiActions:se,isInitialized:!0}));return}const te=`ai-roommate-data-${V}`;if(P.current.has(te))return console.log(" AI roommate request already in progress, waiting..."),P.current.get(te);const K=(async()=>{c(J=>({...J,isLoading:!0,error:null}));try{const J=await ge.post("/api/ai/roommate/match",{userProfile:t,onboardingData:n,synapseData:t==null?void 0:t.synapse,dashboardData:e}),{aiInsights:fe,results:le}=J.data,ce=T(fe),ne=D(fe),ie={aiInsights:ce,aiActions:ne,roommateMatches:(le==null?void 0:le.roommates)||[],compatibilityScores:(le==null?void 0:le.compatibilityScores)||{},isLoading:!1,isInitialized:!0,error:null};return c(de=>({...de,...ie})),l_(V,G,ce),d_(V,G,ne),ie}catch(J){console.error("AI Roommate Initialization Error:",J);const fe={isLoading:!1,error:`AI Roommate Service Error: ${J.message||"Unknown error"}`,isInitialized:!0};throw c(le=>({...le,...fe})),J}finally{P.current.delete(te)}})();return P.current.set(te,K),K},[t,e,i,a]),T=f.useCallback(V=>Array.isArray(V)?V.map(G=>({...G,id:G.id||`roommate-${Date.now()}`,category:"roommate",icon:"people",priority:G.priority||"medium",type:G.type||"info"})):[],[]),D=f.useCallback(V=>Array.isArray(V)?V.map(G=>({...G,id:G.id||`action-${Date.now()}`,category:"roommate",icon:"people",priority:G.priority||"medium"})):[],[]),R=f.useCallback((V,G=15)=>{if(!V)return;$(!0),O("");let Q=0;const se=setInterval(()=>{Q<V.length?(O(V.slice(0,Q+1)),Q++):(clearInterval(se),$(!1))},G);return()=>clearInterval(se)},[]),z=f.useCallback(async V=>{var G;w(V),v(!0),M(!0),N(null),O(""),$(!1);try{const Q=(t==null?void 0:t.id)||"anonymous",se=((G=V.title)==null?void 0:G.toLowerCase().replace(/\s+/g,"-"))||"unknown",te={userInfo:t,dashboardData:e,onboardingData:n},K=yf.getCachedExplanation(Q,se,te);if(K){console.log(" Using cached AI roommate explanation"),N({explanation:K,insight:V,aiGenerated:!0,cached:!0}),R(K),M(!1);return}console.log(" Cache miss - making API call");const J=await o(V,e);N(J),J!=null&&J.explanation&&(yf.setCachedExplanation(Q,se,te,J.explanation),R(J.explanation))}catch(Q){console.error("Failed to get AI roommate explanation:",Q);const se=`This roommate recommendation is important for your success. ${V.title} is a ${V.priority} priority that will help you find the perfect roommate.`;N({explanation:se,insight:V,aiGenerated:!1,fallback:!0}),R(se)}finally{M(!1)}},[o,e,R,t,n]),q=f.useCallback(()=>{v(!1),w(null),N(null),M(!1),O(""),$(!1)},[]),H=f.useCallback(V=>{navigate(`/Synapse?match=${V.userId}`)},[navigate]);return s&&!g?r.jsx("div",{className:"flex items-center justify-center p-8",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"}),r.jsx("span",{className:"text-white/70",children:"NewRun AI is analyzing your roommate compatibility..."})]})}):x?r.jsxs("div",{className:"p-6 rounded-2xl border border-red-500/50 bg-red-500/10",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(Jc,{className:"text-red-400 text-xl"}),r.jsx("h3",{className:"text-lg font-bold text-red-400",children:"AI Roommate Service Error"})]}),r.jsx("p",{className:"text-red-300 text-sm",children:x}),r.jsx("button",{onClick:E,className:"mt-3 px-4 py-2 bg-red-500/20 border border-red-500/50 rounded-lg text-red-300 hover:bg-red-500/30 transition-colors",children:"Retry"})]}):m?r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-r from-blue-500 to-purple-500",children:r.jsx(ka,{className:"text-xl text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-white",children:"AI Roommate Matching"}),r.jsx("p",{className:"text-white/60 text-sm",children:"Finding your perfect roommate matches..."})]})]}),r.jsx("div",{className:"flex items-center justify-center py-8",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})})]})}):r.jsxs("div",{className:"space-y-6",children:[u.length>0&&r.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"rounded-2xl border border-white/10 bg-white/5 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-r from-blue-500 to-purple-500",children:r.jsx(ka,{className:"text-xl text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-white",children:"AI Roommate Insights"}),r.jsx("p",{className:"text-white/60 text-sm",children:"Personalized roommate recommendations powered by AI"})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:u.map((V,G)=>{var Q,se;return r.jsx(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:G*.1},onClick:()=>z(V),onMouseEnter:()=>C(G),onMouseLeave:()=>C(null),className:"p-5 rounded-xl border border-blue-500/30 bg-blue-500/5 hover:bg-blue-500/10 transition-all duration-300 cursor-pointer",role:"button",tabIndex:0,"aria-label":`${V.title}: ${V.message}`,onKeyDown:te=>{(te.key==="Enter"||te.key===" ")&&(te.preventDefault(),z(V))},children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"p-3 rounded-lg bg-blue-500/10",children:r.jsx(ka,{className:"text-xl text-white"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx("h4",{className:"font-bold text-white text-base",children:V.title}),r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${V.priority==="high"?"bg-orange-500/20 text-orange-300":V.priority==="medium"?"bg-amber-500/20 text-amber-300":"bg-emerald-500/20 text-emerald-300"}`,children:(Q=V.priority)==null?void 0:Q.toUpperCase()})]}),r.jsx("p",{className:"text-white/80 text-sm mb-4 leading-relaxed",children:V.message}),r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"inline-flex items-center gap-2 text-sm font-medium text-blue-400 hover:text-blue-300",children:[r.jsx("span",{children:((se=V.cta)==null?void 0:se.label)||"Learn more"}),r.jsx("span",{children:""})]})})]})]})},V.id||G)})})]}),h.length>0&&r.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"rounded-2xl border border-white/10 bg-white/5 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-r from-green-500 to-blue-500",children:r.jsx(LV,{className:"text-xl text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-white",children:"Top Roommate Matches"}),r.jsx("p",{className:"text-white/60 text-sm",children:"AI-powered compatibility analysis"})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.slice(0,6).map((V,G)=>{var Q,se,te,K;return r.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:G*.1},onClick:()=>H(V),className:"p-4 rounded-xl border border-green-500/30 bg-green-500/5 hover:bg-green-500/10 transition-all duration-300 cursor-pointer",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-green-400 to-blue-400 flex items-center justify-center",children:r.jsxs("span",{className:"text-white font-bold text-lg",children:[(Q=V.firstName)==null?void 0:Q[0],(se=V.lastName)==null?void 0:se[0]]})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("h4",{className:"font-bold text-white text-sm",children:[V.firstName," ",V.lastName]}),r.jsx("p",{className:"text-white/60 text-xs",children:V.major})]}),r.jsxs("div",{className:`text-lg font-bold ${I(V.totalScore)}`,children:[Math.round(V.totalScore),"%"]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between text-xs",children:[r.jsx("span",{className:"text-white/60",children:"Lifestyle"}),r.jsxs("span",{className:"text-white",children:[Math.round(V.lifestyleMatch),"%"]})]}),r.jsxs("div",{className:"flex items-center justify-between text-xs",children:[r.jsx("span",{className:"text-white/60",children:"Budget"}),r.jsxs("span",{className:"text-white",children:[Math.round(V.budgetMatch),"%"]})]}),r.jsxs("div",{className:"flex items-center justify-between text-xs",children:[r.jsx("span",{className:"text-white/60",children:"Social"}),r.jsxs("span",{className:"text-white",children:[Math.round(V.socialMatch),"%"]})]})]}),((K=(te=V.recommendation)==null?void 0:te.reasons)==null?void 0:K.length)>0&&r.jsx("div",{className:"mt-3 pt-3 border-t border-white/10",children:r.jsx("p",{className:"text-xs text-white/60",children:V.recommendation.reasons.slice(0,2).join(", ")})})]},V.userId||G)})})]}),r.jsx(_m,{isOpen:b,onClose:q,title:"AI Roommate Insight Details",size:"lg",children:y&&r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-r from-blue-500 to-purple-500",children:r.jsx(ka,{className:"text-xl text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-white",children:y.title}),r.jsxs("p",{className:"text-white/60 text-sm",children:["ROOMMATE MATCHING  ",(U=y.priority)==null?void 0:U.toUpperCase()," Priority"]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"Recommendation"}),r.jsx("p",{className:"text-white/80 leading-relaxed",children:y.message})]}),k&&r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"AI Explanation"}),r.jsx("div",{className:"bg-white/5 rounded-lg p-4",children:S?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"}),r.jsx("span",{className:"text-white/70",children:"AI is analyzing..."})]}):r.jsxs("div",{className:"text-white/80 leading-relaxed",children:[L,F&&r.jsx("span",{className:"animate-pulse",children:"|"})]})})]}),r.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-white/10",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm text-white/60",children:"Priority:"}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${y.priority==="high"?"bg-orange-500/20 text-orange-300":y.priority==="medium"?"bg-amber-500/20 text-amber-300":"bg-emerald-500/20 text-emerald-300"}`,children:(B=y.priority)==null?void 0:B.toUpperCase()})]}),r.jsx("button",{onClick:q,className:"px-4 py-2 bg-blue-500/20 border border-blue-500/50 rounded-lg text-blue-300 hover:bg-blue-500/30 transition-colors",children:"Close"})]})]})]})})]})},qQ=f.memo(HQ),KQ=()=>{const[t,e]=f.useState(0),[n,s]=f.useState(""),[i,a]=f.useState(!1),o=[{text:"Welcome",lang:"English"},{text:"",lang:"Hindi"},{text:"",lang:"Chinese"},{text:"",lang:"Malayalam"},{text:"",lang:"Arabic"},{text:"Bienvenue",lang:"French"},{text:"",lang:"Tamil"},{text:"",lang:"Telugu"},{text:"Bienvenido",lang:"Spanish"},{text:"Willkommen",lang:"German"},{text:"",lang:"Thai"},{text:"",lang:"Kannada"},{text:"",lang:"Japanese"},{text:"",lang:"Korean"}];return f.useEffect(()=>{const c=o[t].text,u=setTimeout(()=>{i?n.length>0?s(n.slice(0,-1)):(a(!1),e(d=>(d+1)%o.length)):n.length<c.length?s(c.slice(0,n.length+1)):setTimeout(()=>a(!0),2e3)},i?50:100);return()=>clearTimeout(u)},[n,i,t,o]),r.jsxs("span",{className:"text-4xl md:text-6xl lg:text-7xl font-black tracking-tight text-blue-500",style:{minWidth:"200px",display:"inline-block"},children:[n,r.jsx(we.span,{animate:{opacity:[1,0,1]},transition:{duration:.8,repeat:1/0},className:"text-blue-400",children:"|"})]})};function GQ(){var ce,ne,ie,de,ee,ye,xe,Ce,X;const t=pt(),{userInfo:e,dashboardData:n,onboardingData:s,conversations:i,synapseProfile:a,aiInsights:o,aiActions:l,aiTimeline:c,aiMarketAnalysis:u,aiPredictions:d,loading:h,errors:p,isFullyInitialized:m,hasAnyErrors:g,isLoading:x,refreshAll:b,refreshUserData:v,refreshDashboardData:y,refreshConversations:w,refreshSynapseProfile:k,refreshAIData:N,invalidateCache:S,calculateProfileCompletion:M}=BU();console.log("UserDashboard: useUnifiedState result:",{userInfo:!!e,dashboardData:!!n,onboardingData:!!s,aiInsights:!!o,aiActions:!!l,loading:h,errors:p,isFullyInitialized:m,isLoading:x});const[j,C]=f.useState({notifications:[],showNotifications:!1,refreshing:!1,showPropertyManager:!1,showMarketplaceManager:!1,editingProperty:null,editingItem:null,showPropertyDrawer:!1,showMarketplaceDrawer:!1,agentMode:!1,prompt:"",debugMode:localStorage.getItem("debug_mode")==="true"}),{notifications:L,showNotifications:O,refreshing:F,showPropertyManager:$,showMarketplaceManager:I,editingProperty:_,editingItem:P,showPropertyDrawer:E,showMarketplaceDrawer:T,agentMode:D,prompt:R,debugMode:z}=j,q=f.useCallback(A=>{C(Y=>({...Y,...A}))},[]),H=h.ai,U=f.useCallback(()=>l&&l.length>0?l:B(),[l]);f.useCallback(()=>o&&o.length>0?o:V(),[o]);const B=()=>{if(!s)return[{label:"Verify Email for Access",icon:Aa,path:"/dashboard",color:"from-blue-500 to-cyan-500",description:"Complete email verification to unlock all NewRun features and personalized recommendations."},{label:"Explore Housing Options",icon:xi,path:"/all-properties",color:"from-indigo-500 to-blue-500",description:"Browse AI-recommended properties based on your budget and location preferences."},{label:"Connect with Roommates",icon:xv,path:"/Synapse",color:"from-purple-500 to-pink-500",description:"Complete your Synapse profile to find compatible roommates and potential housing partners."},{label:"Browse Community",icon:Fo,path:"/community",color:"from-orange-500 to-red-500",description:"Join university community discussions and connect with fellow students."}];const A=s.focus,Y=s.arrivalDate,Z=s.budgetRange,ae=[];let ue=null;return Y&&(ue=Math.ceil((new Date(Y)-new Date)/(1e3*60*60*24))),ue&&ue<=30&&ae.push({label:"Secure Housing Immediately",icon:xi,path:"/all-properties",color:"from-red-500 to-orange-500",description:`Only ${ue} days until arrival! Browse available properties and secure housing quickly.`}),(A==="Housing"||A==="Everything")&&(ae.push({label:"Find Your Perfect Home",icon:Jp,path:"/all-properties",color:"from-indigo-500 to-blue-500",description:`Browse ${Z?`properties within $${Z.min}-$${Z.max}`:"available properties"} near your university.`}),ae.push({label:"Connect with Roommates",icon:xv,path:"/Synapse",color:"from-purple-500 to-pink-500",description:"Complete your Synapse profile to find compatible roommates and split housing costs."})),(A==="Roommate"||A==="Everything")&&ae.push({label:"Complete Synapse Profile",icon:wi,path:"/Synapse",color:"from-rose-500 to-pink-500",description:"Complete your detailed profile to unlock AI-powered roommate matching and personalized recommendations."}),(A==="Essentials"||A==="Everything")&&ae.push({label:"Prepare for Essentials",icon:Ia,path:"/marketplace",color:"from-green-500 to-emerald-500",description:"Create a checklist of essential items you'll need for your university transition and campus life."}),(A==="Community"||A==="Everything")&&ae.push({label:"Join University Community",icon:Fo,path:"/community",color:"from-orange-500 to-red-500",description:"Connect with fellow students, ask questions, and get advice from the university community."}),ae.push({label:"Establish Bank Account",icon:xV,path:"/dashboard",color:"from-emerald-500 to-green-500",description:"Set up a local bank account for easy financial management during your studies."}),ae.slice(0,6)},V=()=>{var ue;if(!s)return[];const A=[],Y=s.focus,Z=s.arrivalDate,ae=s.budgetRange;if(Z){const he=Math.ceil((new Date(Z)-new Date)/864e5);he>0&&he<=30&&A.push({type:"urgent",title:"Arrival Approaching!",message:`${he} days until you arrive in ${s.city||"your city"}`,action:"Complete your housing search",icon:$o})}if(ae&&ae.max){const he=((ue=n==null?void 0:n.propertiesStats)==null?void 0:ue.averagePrice)||0;he>ae.max&&A.push({type:"warning",title:"Budget Alert",message:`Average property price ($${he}) exceeds your budget ($${ae.max})`,action:"Consider expanding your search",icon:Jc})}return Y==="Housing"&&A.push({type:"success",title:"Housing Focus",message:"We're prioritizing your housing search",action:"View recommended properties",icon:xi}),A},G=async()=>{var A,Y;try{const Z=await ge.get("/get-user");return((A=Z==null?void 0:Z.data)==null?void 0:A.user)||null}catch(Z){return((Y=Z==null?void 0:Z.response)==null?void 0:Y.status)===401&&(localStorage.clear(),t("/login")),null}},Q=async()=>{var A;try{const Y=await ge.get("/dashboard/overview");return console.log("Dashboard API Response:",Y.data),Y.data}catch(Y){return console.error("Dashboard fetch failed:",((A=Y==null?void 0:Y.response)==null?void 0:A.data)||Y.message),null}},se=f.useCallback(async()=>{console.log(" Loading dashboard data...");try{if(!localStorage.getItem("accessToken")){console.log(" No authentication token found, redirecting to login"),t("/login");return}console.log(" Authentication token found");try{const ae=await ge.get("/");console.log(" Backend health check passed:",ae.data)}catch(ae){console.error(" Backend health check failed:",ae)}console.log(" Fetching dashboard data...");const[Y,Z]=await Promise.all([G(),Q()]);console.log(" User data:",Y),console.log(" Dashboard data:",Z),Z&&!Z.error?console.log(" Dashboard data loaded successfully"):console.log(" Dashboard data has errors or is empty")}catch(A){console.error(" loadDashboard failed:",A)}},[t]);f.useEffect(()=>{se()},[]),f.useEffect(()=>{const A=Y=>{var Z;((Z=Y.detail)==null?void 0:Z.type)==="login"&&(console.log(" Dashboard: Login detected, refreshing data..."),setTimeout(()=>{b()},200))};return window.addEventListener("authStateChange",A),()=>window.removeEventListener("authStateChange",A)},[b]),f.useEffect(()=>{let A,Y=!0;return A=setInterval(async()=>{if(document.visibilityState==="visible"&&!F){q({refreshing:!0});try{const ae=await Q();ae&&!ae.error&&Y&&q({dashboardData:ae})}catch(ae){console.error("Auto-refresh failed:",ae)}finally{Y&&q({refreshing:!1})}}},3e4),()=>{Y=!1,A&&clearInterval(A)}},[F,q]);const te=f.useMemo(()=>{var Oe,qe,rt,ot;if(!n)return null;const A=((Oe=n.myProperties)==null?void 0:Oe.items)||[],Y=((qe=n.myMarketplace)==null?void 0:qe.items)||[],Z=((rt=n.myProperties)==null?void 0:rt.statistics)||{},ae=((ot=n.myMarketplace)==null?void 0:ot.statistics)||{},ue=A.reduce((lt,et)=>lt+(Number(et.price)||0),0)+Y.reduce((lt,et)=>lt+(Number(et.price)||0),0),he=Z.averagePrice||(A.length?Math.round(A.reduce((lt,et)=>lt+(Number(et.price)||0),0)/A.length):0),je=ae.averagePrice||(Y.length?Math.round(Y.reduce((lt,et)=>lt+(Number(et.price)||0),0)/Y.length):0),Ee=(Number(Z.totalViews)||0)+(Number(ae.totalViews)||0);return{totalRevenue:ue,avgPropertyPrice:he,avgItemPrice:je,totalListings:(Z.totalProperties||0)+(ae.totalItems||0),activeListings:(Z.availableProperties||0)+(ae.activeItems||0),totalViews:Ee}},[n]),K=f.useCallback(A=>{q({editingProperty:A,showPropertyDrawer:!0})},[q]),J=f.useCallback(async A=>{if(window.confirm("Are you sure you want to delete this property?"))try{await ge.delete(`/delete-property/${A}`),await y(),S("property_deleted")}catch(Y){console.error("Failed to delete property:",Y),alert("Failed to delete property. Please try again.")}},[y,S]),fe=f.useCallback(A=>{q({editingItem:A,showMarketplaceDrawer:!0})},[q]),le=f.useCallback(async A=>{if(window.confirm("Are you sure you want to delete this marketplace item?"))try{await ge.delete(`/marketplace/item/${A}`),await y(),S("marketplace_item_deleted")}catch(Y){console.error("Failed to delete marketplace item:",Y),alert("Failed to delete marketplace item. Please try again.")}},[y,S]);return f.useEffect(()=>{localStorage.getItem("accessToken")&&!e&&!h.user&&!x&&(console.log(" Dashboard: Token found but no user data, forcing refresh..."),v())},[e,h.user,x,v]),x&&!m?r.jsxs("div",{className:"min-h-screen bg-[#0b0c0f] relative overflow-hidden",children:[r.jsxs("div",{className:"absolute inset-0",children:[r.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-full blur-3xl animate-pulse"}),r.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-80 h-80 bg-gradient-to-r from-cyan-500/20 to-blue-500/20 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}})]}),r.jsx(ht,{}),r.jsx("div",{className:"flex items-center justify-center min-h-[60vh] relative z-10",children:r.jsxs(we.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:.8,type:"spring"},className:"text-center",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"animate-spin rounded-full h-20 w-20 border-4 border-blue-500 border-t-transparent mx-auto mb-8"}),r.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-purple-500 border-t-transparent animate-spin",style:{animationDirection:"reverse",animationDuration:"1.5s"}})]}),r.jsx("p",{className:"text-white/80 text-xl",children:"Initializing your NewRun experience..."})]})})]}):r.jsxs("div",{className:"nr-dots-page min-h-screen text-white relative",children:[r.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[r.jsx("div",{className:"hero-orb absolute top-1/4 left-1/4 w-32 h-32 bg-gradient-to-r from-orange-500/10 to-cyan-500/10 rounded-full blur-3xl"}),r.jsx("div",{className:"hero-orb absolute bottom-1/4 right-1/4 w-48 h-48 bg-gradient-to-r from-blue-500/10 to-purple-500/10 rounded-full blur-3xl"}),r.jsx("div",{className:"hero-orb absolute top-1/2 right-1/3 w-24 h-24 bg-gradient-to-r from-emerald-500/10 to-teal-500/10 rounded-full blur-2xl"})]}),r.jsx(ht,{}),r.jsxs("div",{className:"relative z-10",children:[r.jsxs("section",{className:"nr-hero-bg nr-hero-starry relative flex min-h-[80vh] items-center overflow-hidden",children:[r.jsxs("div",{className:"absolute inset-0",children:[r.jsx("div",{className:"hero-orb absolute top-1/4 left-1/4 w-32 h-32 bg-gradient-to-r from-orange-500/10 to-cyan-500/10 rounded-full blur-3xl animate-pulse"}),r.jsx("div",{className:"hero-orb absolute bottom-1/4 right-1/4 w-48 h-48 bg-gradient-to-r from-blue-500/10 to-purple-500/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}}),r.jsx("div",{className:"hero-orb absolute top-1/2 right-1/3 w-24 h-24 bg-gradient-to-r from-emerald-500/10 to-teal-500/10 rounded-full blur-2xl animate-pulse",style:{animationDelay:"4s"}}),r.jsx("div",{className:"hero-orb absolute top-3/4 left-1/3 w-40 h-40 bg-gradient-to-r from-pink-500/8 to-rose-500/8 rounded-full blur-3xl animate-pulse",style:{animationDelay:"6s"}})]}),r.jsx("div",{className:"mx-auto w-full max-w-[110rem] px-4 py-14 relative z-10",children:r.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-12 gap-8 items-center",children:[r.jsx("div",{className:"xl:col-span-3",children:r.jsxs(we.div,{initial:{opacity:0,x:-50,rotateY:-15},animate:{opacity:1,x:0,rotateY:0},transition:{duration:.8,type:"spring",stiffness:100},whileHover:{scale:1.02,rotateY:5},className:"relative group",children:[r.jsx("div",{className:"absolute -top-2 -right-2 w-3 h-3 bg-blue-400 rounded-full animate-ping opacity-60"}),r.jsx("div",{className:"absolute -bottom-1 -left-1 w-2 h-2 bg-blue-500 rounded-full animate-ping opacity-40",style:{animationDelay:"1s"}}),r.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 backdrop-blur-sm p-4 hover:bg-white/10 transition-all duration-300",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"p-2 rounded-lg bg-blue-500/10 border border-blue-500/20",children:r.jsx(Fo,{className:"text-lg text-blue-400"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-base font-semibold text-white",children:"My Conversations"}),r.jsx("p",{className:"text-white/60 text-xs",children:h.conversations?"Loading...":i&&i.length>0?`${i.length} conversation${i.length!==1?"s":""}`:"No conversations yet"})]})]}),r.jsx("button",{onClick:()=>t("/messaging"),className:"px-3 py-1.5 rounded-lg bg-blue-600 text-white hover:bg-blue-700 transition-all duration-200 text-xs font-medium",children:"View All"})]}),r.jsx("div",{className:"space-y-2",children:h.conversations?r.jsxs("div",{className:"flex items-center justify-center py-4",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"}),r.jsx("span",{className:"text-white/60 text-xs ml-2",children:"Loading conversations..."})]}):i&&i.length>0?i.slice(0,4).map((A,Y)=>{var Ee;const Z=((Ee=A.participants)==null?void 0:Ee.filter(Oe=>Oe._id!==(e==null?void 0:e._id)))||[],ae=Z.length>0?`${Z[0].firstName} ${Z[0].lastName}`:"Unknown User",ue=A.lastMessage,he=(ue==null?void 0:ue.content)||"No messages yet",je=ue!=null&&ue.timestamp?new Date(ue.timestamp).toLocaleDateString():new Date(A.lastUpdated).toLocaleDateString();return r.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:Y*.1},whileHover:{scale:1.01},onClick:()=>t(`/messaging?conversation=${A._id}`),className:"flex items-center gap-3 p-3 rounded-lg border border-white/10 bg-white/5 hover:bg-white/10 hover:border-white/20 transition-all duration-200 group/item cursor-pointer",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500/10 border border-blue-500/20 flex items-center justify-center text-blue-400 font-semibold text-xs",children:ae.charAt(0)}),ue&&!ue.isRead&&r.jsx("div",{className:"absolute -top-0.5 -right-0.5 w-2.5 h-2.5 bg-blue-500 rounded-full flex items-center justify-center",children:r.jsx("div",{className:"w-1 h-1 bg-white rounded-full"})})]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"text-white/90 text-sm font-medium truncate",children:ae}),r.jsx("div",{className:"text-white/60 text-xs truncate",children:he}),r.jsx("div",{className:"text-white/50 text-xs",children:je})]}),r.jsx("div",{className:"opacity-0 group-hover/item:opacity-100 transition-opacity",children:r.jsx(CV,{className:"text-blue-400 text-xs"})})]},A._id)}):r.jsxs("div",{className:"text-center py-4",children:[r.jsx(Fo,{className:"text-2xl text-white/30 mx-auto mb-2"}),r.jsx("p",{className:"text-white/60 text-xs",children:"No conversations yet"}),r.jsx("p",{className:"text-white/40 text-xs mt-1",children:"Start a conversation with someone!"}),r.jsx("button",{onClick:()=>t("/messaging"),className:"mt-2 px-3 py-1.5 rounded-lg bg-blue-600/20 text-blue-400 hover:bg-blue-600/30 transition-all duration-200 text-xs font-medium",children:"Start Chatting"})]})})]})]})}),r.jsxs("div",{className:"xl:col-span-6",children:[r.jsx(we.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"text-center mb-8",children:r.jsxs("div",{className:"inline-flex items-center gap-2",children:[r.jsx(KQ,{}),r.jsxs("span",{className:"text-4xl md:text-6xl lg:text-7xl font-black tracking-tight text-white",children:[e==null?void 0:e.firstName,"!"]})]})}),r.jsx(we.div,{initial:{opacity:0,y:50,rotateX:-20},animate:{opacity:1,y:0,rotateX:0},transition:{duration:1,delay:.3,type:"spring",stiffness:100},className:"text-center mb-12",children:r.jsxs("h1",{className:"mx-auto max-w-5xl text-center text-4xl font-black tracking-tight text-white md:text-6xl lg:text-7xl leading-tight",children:["Manage your"," ",r.jsx("span",{className:"bg-gradient-to-r from-amber-400 via-orange-500 to-red-500 bg-clip-text text-transparent",children:"NewRun ecosystem"})," ","from here.",r.jsx("br",{className:"hidden md:block"}),r.jsx("div",{className:"block mt-2 text-2xl md:text-3xl lg:text-4xl h-12 flex items-center justify-center",children:r.jsx("div",{className:"px-2 sm:px-3 md:px-4 py-1 sm:py-1.5 md:py-2 rounded-xl font-semibold",children:r.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Properties  Marketplace  Community"})})})]})}),!z&&r.jsx("div",{className:"mx-auto mt-4 w-full max-w-4xl text-center",children:r.jsx("button",{onClick:()=>{localStorage.setItem("debug_mode","true"),q({debugMode:!0})},className:"text-white/20 hover:text-white/40 text-xs transition-colors",title:"Enable debug mode",children:""})}),r.jsx(we.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},className:"mx-auto mt-12 w-full max-w-4xl",children:r.jsxs("div",{className:"rounded-2xl border border-white/5 bg-black/20 backdrop-blur-xl shadow-[0_20px_60px_rgba(0,0,0,.35)] p-4",children:[r.jsxs("div",{className:"relative rounded-xl border border-white/15 bg-black/40 backdrop-blur-sm",children:[r.jsx("textarea",{value:R,onChange:A=>q({prompt:A.target.value}),placeholder:"Ask AI anything...",rows:2,className:"w-full resize-none bg-transparent text-white/80 placeholder-white/60 text-sm leading-relaxed outline-none p-5 pr-40"}),r.jsxs("button",{onClick:()=>q({agentMode:!D}),className:"absolute top-3 right-3 inline-flex items-center gap-1.5 rounded-full border border-white/25 bg-black/50 px-2.5 py-1 text-[9px] font-medium uppercase tracking-wider text-white/70 hover:bg-black/60",children:[r.jsx("span",{className:"text-[7px]",children:""}),"AGENT MODE",r.jsx("span",{className:`ml-1 rounded-full px-1.5 py-0.5 text-[8px] border ${D?"bg-blue-500 border-blue-500 text-white":"bg-transparent border-white/25 text-white/60"}`,children:D?"ON":"OFF"})]}),r.jsxs("div",{className:"absolute bottom-3 right-3 flex items-center gap-2",children:[r.jsx("button",{className:"inline-flex items-center justify-center rounded border border-white/25 bg-black/40 p-1.5 text-white/70 hover:bg-black/60",children:r.jsx(C_,{className:"w-3 h-3"})}),r.jsxs("button",{onClick:()=>{},className:"inline-flex items-center gap-1 rounded border border-white/25 bg-black/40 px-2 py-1.5 text-[10px] text-white/80 hover:bg-black/60",children:["start",r.jsx(Ig,{className:"w-3 h-3"})]})]})]}),r.jsxs("div",{className:"flex items-center justify-between mt-3 px-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{className:"inline-flex items-center gap-1 rounded-full border border-white/25 bg-black/40 px-2.5 py-1 text-[9px] text-white/70 hover:bg-black/60",children:[r.jsx("span",{className:"text-[7px]",children:""}),"Regular",r.jsx(Ig,{className:"w-3 h-3"})]}),r.jsxs("button",{className:"inline-flex items-center gap-1 rounded-full border border-white/25 bg-black/40 px-2.5 py-1 text-[9px] text-white/70 hover:bg-black/60",children:[r.jsx("span",{className:"text-[7px]",children:""}),"GPT 4.1",r.jsx(Ig,{className:"w-3 h-3"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-[9px] text-white/60",children:"Knowledge Base"}),r.jsx("button",{onClick:()=>q({agentMode:!D}),className:`relative h-4 w-7 rounded-full transition-colors duration-200 ${D?"bg-blue-500":"bg-white/20"}`,children:r.jsx("span",{className:`absolute top-0.5 ${D?"right-0.5":"left-0.5"} h-3 w-3 rounded-full bg-white transition-all`})})]})]})]})}),r.jsx(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.8},className:"mx-auto mt-10 flex justify-center",children:r.jsxs("div",{className:"flex items-center gap-6 rounded-2xl border border-white/20 bg-white/10 px-8 py-4 backdrop-blur-xl shadow-2xl",children:[r.jsxs(we.div,{whileHover:{scale:1.1,y:-5},className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full animate-pulse shadow-lg shadow-green-400/50"}),r.jsxs("span",{className:"text-sm text-white/90",children:[r.jsx("span",{className:"font-bold text-green-400 text-lg",children:(te==null?void 0:te.totalListings)||0}),r.jsx("span",{className:"ml-2",children:"Listings"})]})]}),r.jsx("div",{className:"w-px h-6 bg-white/30"}),r.jsxs(we.div,{whileHover:{scale:1.1,y:-5},className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-3 h-3 bg-blue-400 rounded-full animate-pulse shadow-lg shadow-blue-400/50"}),r.jsxs("span",{className:"text-sm text-white/90",children:[r.jsx("span",{className:"font-bold text-blue-400 text-lg",children:(te==null?void 0:te.totalViews)||0}),r.jsx("span",{className:"ml-2",children:"Views"})]})]}),r.jsx("div",{className:"w-px h-6 bg-white/30"}),r.jsxs(we.div,{whileHover:{scale:1.1,y:-5},className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-3 h-3 bg-orange-400 rounded-full animate-pulse shadow-lg shadow-orange-400/50"}),r.jsxs("span",{className:"text-sm text-white/90",children:[r.jsx("span",{className:"font-bold text-orange-400 text-lg",children:(te==null?void 0:te.activeListings)||0}),r.jsx("span",{className:"ml-2",children:"Active"})]})]})]})})]}),r.jsx("div",{className:"xl:col-span-3",children:r.jsxs(we.div,{initial:{opacity:0,x:50,rotateY:15},animate:{opacity:1,x:0,rotateY:0},transition:{duration:.8,type:"spring",stiffness:100},whileHover:{scale:1.02,rotateY:-5},className:"relative group",children:[r.jsx("div",{className:"absolute -top-2 -left-2 w-3 h-3 bg-blue-400 rounded-full animate-ping opacity-60"}),r.jsx("div",{className:"absolute -bottom-1 -right-1 w-2 h-2 bg-blue-500 rounded-full animate-ping opacity-40",style:{animationDelay:"2s"}}),r.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 backdrop-blur-sm p-6 hover:bg-white/10 transition-all duration-300",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"p-3 rounded-xl bg-blue-500/10 border border-blue-500/20",children:r.jsx(wi,{className:"text-xl text-blue-400"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Roommate Profile"}),r.jsx("p",{className:"text-white/70 text-sm",children:"Your Synapse profile"})]})]}),r.jsx("div",{className:"text-center py-4",children:h.synapse?r.jsxs("div",{className:"flex items-center justify-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"}),r.jsx("span",{className:"text-white/60 text-sm ml-2",children:"Loading profile..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(we.div,{whileHover:{scale:1.05},className:"relative w-16 h-16 rounded-full bg-blue-500/10 border border-blue-500/20 mx-auto mb-4 flex items-center justify-center text-blue-400 font-bold text-xl",children:((ce=e==null?void 0:e.firstName)==null?void 0:ce.charAt(0))||"U"}),r.jsx("h4",{className:"font-semibold text-white text-lg mb-3",children:(e==null?void 0:e.firstName)||"User"}),(()=>{const A=M(a);return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-full bg-white/10 rounded-full h-2 mb-3",children:r.jsx(we.div,{initial:{width:0},animate:{width:`${A}%`},transition:{duration:2,delay:1},className:"bg-blue-500 h-2 rounded-full"})}),r.jsxs("p",{className:"text-white/70 text-sm mb-2",children:["Profile ",A,"% complete"]}),A<100&&r.jsxs("div",{className:"text-xs text-white/50 mb-4",children:[A===0&&"Start by adding your preferences",A>0&&A<50&&"Add more details to find better matches",A>=50&&A<100&&"Almost there! Complete a few more sections"]}),A<100?r.jsxs(we.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>t("/Synapse"),className:"group relative inline-flex items-center gap-2 rounded-full bg-gradient-to-r from-orange-500 to-orange-600 px-4 py-2 text-sm font-bold text-black shadow-[0_12px_32px_rgba(255,153,0,.4)] hover:shadow-[0_16px_40px_rgba(255,153,0,.5)] hover:scale-105 transition-all duration-300 hover:from-orange-400 hover:to-orange-500 w-full justify-center",children:[r.jsx("span",{children:A===0?"Start Profile":"Complete Profile"}),r.jsx("div",{className:"w-3 h-3 rounded-full bg-black/20 flex items-center justify-center group-hover:translate-x-1 transition-transform duration-200",children:r.jsx("div",{className:"w-1.5 h-1.5 bg-black rounded-full"})}),r.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-orange-500 to-orange-600 opacity-0 group-hover:opacity-20 blur-xl transition-opacity duration-300"})]}):r.jsxs("div",{className:"space-y-2",children:[r.jsxs(we.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>t("/Synapse"),className:"group relative inline-flex items-center gap-2 rounded-full bg-gradient-to-r from-orange-500 to-orange-600 px-4 py-2 text-sm font-bold text-black shadow-[0_12px_32px_rgba(255,153,0,.4)] hover:shadow-[0_16px_40px_rgba(255,153,0,.5)] hover:scale-105 transition-all duration-300 hover:from-orange-400 hover:to-orange-500 w-full justify-center",children:[r.jsx("span",{children:"View Profile"}),r.jsx("div",{className:"w-3 h-3 rounded-full bg-black/20 flex items-center justify-center group-hover:translate-x-1 transition-transform duration-200",children:r.jsx("div",{className:"w-1.5 h-1.5 bg-black rounded-full"})}),r.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-orange-500 to-orange-600 opacity-0 group-hover:opacity-20 blur-xl transition-opacity duration-300"})]}),r.jsxs(we.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>t("/roommate-matches"),className:"group inline-flex items-center gap-2 rounded-full border border-white/20 bg-white/5 px-4 py-2 text-sm text-white/85 hover:bg-white/10 hover:border-white/30 transition-all duration-200 w-full justify-center",children:[r.jsx("span",{className:"text-base",children:"+"}),"Find Matches"]})]})]})})()]})})]})]})})]})})]}),s&&r.jsx("section",{className:"mx-auto max-w-7xl px-4 py-8",children:r.jsx(WQ,{userInfo:e,dashboardData:n,onboardingData:s})}),s&&(e==null?void 0:e.synapse)&&r.jsx("section",{className:"mx-auto max-w-7xl px-4 py-8",children:r.jsx(qQ,{userInfo:e,dashboardData:n,onboardingData:s})}),z&&r.jsx("div",{className:"mx-auto max-w-7xl px-4 py-4",children:r.jsx("div",{className:"rounded-2xl border border-yellow-500/20 bg-yellow-500/5 p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 rounded-lg bg-yellow-500/20",children:r.jsx(k_,{className:"text-xl text-yellow-400"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-yellow-400",children:"Debug Mode"}),r.jsx("p",{className:"text-yellow-300/70 text-sm",children:"Developer tools and testing utilities"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>{localStorage.setItem("debug_mode","false"),q({debugMode:!1})},className:"px-3 py-1.5 bg-yellow-500/20 text-yellow-400 rounded-lg font-medium hover:bg-yellow-500/30 transition-colors text-sm",children:"Disable Debug"}),r.jsx("button",{onClick:()=>t("/onboarding?force=true"),className:"px-3 py-1.5 bg-blue-500/20 text-blue-400 rounded-lg font-medium hover:bg-blue-500/30 transition-colors text-sm",children:"Test Onboarding"})]})]})})}),r.jsx("div",{className:"mx-auto max-w-7xl px-4 py-8",children:r.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[r.jsx("div",{className:"xl:col-span-1",children:((ie=(ne=n==null?void 0:n.myProperties)==null?void 0:ne.items)==null?void 0:ie.length)>0&&r.jsxs(we.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.6},className:"rounded-2xl border border-white/10 bg-white/5 p-6 h-fit",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 rounded-lg bg-green-500/20",children:r.jsx(xi,{className:"text-xl text-green-400"})}),r.jsx("h2",{className:"text-xl font-bold text-white",children:"Your Properties"}),r.jsx("span",{className:"px-2 py-1 rounded-full bg-green-500/20 text-green-400 text-xs font-semibold",children:n.myProperties.items.length})]}),r.jsx("button",{onClick:()=>q({showPropertyManager:!$}),className:"px-3 py-1.5 bg-green-500/20 text-green-400 rounded-lg font-medium hover:bg-green-500/30 transition-colors text-sm",children:$?"Hide":"Manage"})]}),$&&r.jsx("div",{className:"space-y-4",children:n.myProperties.items.map((A,Y)=>r.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:Y*.1},className:"group relative rounded-lg border border-white/10 bg-white/5 p-4 hover:bg-white/10 transition-all duration-300",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-white text-sm mb-1 line-clamp-1",children:A.title}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(P_,{className:"text-green-400"}),A.bedrooms]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(jb,{className:"text-green-400"}),A.bathrooms]}),r.jsxs("span",{className:"text-green-400 font-medium",children:["$",Number(A.price||0)]})]})]}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx("button",{onClick:()=>K(A),className:"p-1 rounded bg-blue-500/20 text-blue-400 hover:bg-blue-500/30 transition-colors",children:r.jsx(mv,{className:"text-xs"})}),r.jsx("button",{onClick:()=>J(A._id),className:"p-1 rounded bg-red-500/20 text-red-400 hover:bg-red-500/30 transition-colors",children:r.jsx(Qp,{className:"text-xs"})})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${A.availabilityStatus==="available"?"bg-green-500/20 text-green-400":A.availabilityStatus==="rented"?"bg-blue-500/20 text-blue-400":"bg-orange-500/20 text-orange-400"}`,children:A.availabilityStatus||"unknown"}),r.jsx("span",{className:"text-gray-500 text-xs",children:A.createdAt?new Date(A.createdAt).toLocaleDateString():""})]})]},A._id))})]})}),r.jsxs("div",{className:"xl:col-span-1 space-y-6",children:[r.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-bold text-white",children:"Notifications"}),r.jsxs("button",{onClick:()=>q({showNotifications:!O}),className:"relative p-2 rounded-lg bg-white/10 hover:bg-white/20 transition-all duration-300",children:[r.jsx(IV,{className:"text-xl text-white/80"}),L.filter(A=>!A.read).length>0&&r.jsx("span",{className:"absolute -top-1 -right-1 bg-gradient-to-r from-red-500 to-pink-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-bold",children:L.filter(A=>!A.read).length})]})]}),r.jsx("div",{className:"space-y-3",children:L.slice(0,3).map(A=>r.jsxs("div",{className:"rounded-lg border border-white/10 bg-white/[0.06] p-3",children:[r.jsx("div",{className:"text-white/90 text-sm",children:A.title}),r.jsx("div",{className:"text-white/50 text-xs",children:A.time})]},A.id))})]}),r.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-6",children:[r.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Your Activity"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 rounded-lg bg-green-500/20",children:r.jsx(xi,{className:"text-lg text-green-400"})}),r.jsx("span",{className:"text-white/70 text-sm",children:"Properties"})]}),r.jsx("span",{className:"text-2xl font-bold text-white",children:((ee=(de=n==null?void 0:n.myProperties)==null?void 0:de.statistics)==null?void 0:ee.totalProperties)||0})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 rounded-lg bg-purple-500/20",children:r.jsx(Ia,{className:"text-lg text-purple-400"})}),r.jsx("span",{className:"text-white/70 text-sm",children:"Marketplace Items"})]}),r.jsx("span",{className:"text-2xl font-bold text-white",children:((xe=(ye=n==null?void 0:n.myMarketplace)==null?void 0:ye.statistics)==null?void 0:xe.totalItems)||0})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 rounded-lg bg-cyan-500/20",children:r.jsx(t5,{className:"text-lg text-cyan-400"})}),r.jsx("span",{className:"text-white/70 text-sm",children:"Total Views"})]}),r.jsx("span",{className:"text-2xl font-bold text-white",children:((te==null?void 0:te.totalViews)||0).toLocaleString()})]})]})]}),r.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 rounded-lg bg-blue-500/20",children:r.jsx(Zh,{className:"text-xl text-blue-400"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-white",children:"AI-Recommended Actions"}),r.jsx("p",{className:"text-xs text-white/60",children:"Smart actions tailored to your profile"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[H&&r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"}),s&&r.jsx("span",{className:"text-xs text-white/60 bg-white/10 px-2 py-1 rounded-full",children:l.length>0?"AI-Powered":`Personalized for ${s.focus}`})]})]}),r.jsx("div",{className:"space-y-3",children:H?r.jsx("div",{className:"flex items-center justify-center py-8",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-500"}),r.jsx("span",{className:"text-white/70 text-sm",children:"AI is generating personalized actions..."})]})}):U().map((A,Y)=>r.jsxs(we.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{A.label==="List Property"||A.path==="/dashboard"?q({showPropertyDrawer:!0}):A.label==="List Item"||A.path==="/add-item"?q({showMarketplaceDrawer:!0}):t(A.path)},className:`w-full flex items-center gap-3 p-3 rounded-lg border border-white/10 bg-gradient-to-r ${A.color} hover:bg-white/10 transition-all duration-300`,children:[r.jsx(A.icon,{className:"text-white"}),r.jsxs("div",{className:"flex-1 text-left",children:[r.jsx("span",{className:"text-white text-sm font-medium",children:A.label}),A.description&&r.jsx("p",{className:"text-white/70 text-xs",children:A.description})]})]},Y))})]})]}),r.jsx("div",{className:"xl:col-span-1",children:((X=(Ce=n==null?void 0:n.myMarketplace)==null?void 0:Ce.items)==null?void 0:X.length)>0&&r.jsxs(we.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.6},className:"rounded-2xl border border-white/10 bg-white/5 p-6 h-fit",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 rounded-lg bg-purple-500/20",children:r.jsx(Ia,{className:"text-xl text-purple-400"})}),r.jsx("h2",{className:"text-xl font-bold text-white",children:"Your Marketplace Items"}),r.jsx("span",{className:"px-2 py-1 rounded-full bg-purple-500/20 text-purple-400 text-xs font-semibold",children:n.myMarketplace.items.length})]}),r.jsx("button",{onClick:()=>q({showMarketplaceManager:!I}),className:"px-3 py-1.5 bg-purple-500/20 text-purple-400 rounded-lg font-medium hover:bg-purple-500/30 transition-colors text-sm",children:I?"Hide":"Manage"})]}),I&&r.jsx("div",{className:"space-y-4",children:n.myMarketplace.items.map((A,Y)=>r.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:Y*.1},className:"group relative rounded-lg border border-white/10 bg-white/5 p-4 hover:bg-white/10 transition-all duration-300",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-white text-sm mb-1 line-clamp-1",children:A.title}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[r.jsxs("span",{className:"text-purple-400 font-medium",children:["$",Number(A.price||0)]}),r.jsx("span",{className:"text-gray-400",children:A.category}),r.jsx("span",{className:"text-gray-400",children:A.condition})]})]}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx("button",{onClick:()=>fe(A),className:"p-1 rounded bg-blue-500/20 text-blue-400 hover:bg-blue-500/30 transition-colors",children:r.jsx(mv,{className:"text-xs"})}),r.jsx("button",{onClick:()=>le(A._id),className:"p-1 rounded bg-red-500/20 text-red-400 hover:bg-red-500/30 transition-colors",children:r.jsx(Qp,{className:"text-xs"})})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${A.status==="active"?"bg-green-500/20 text-green-400":A.status==="sold"?"bg-blue-500/20 text-blue-400":"bg-orange-500/20 text-orange-400"}`,children:A.status||"unknown"}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(t5,{className:"text-purple-400"}),A.views||0]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(bm,{className:"text-red-400"}),A.favorites||0]})]})]})]},A._id))})]})})]})}),r.jsx(IL,{isOpen:E,onClose:()=>{q({showPropertyDrawer:!1,editingProperty:null})},propertyData:_,onPropertyCreated:()=>{q({showPropertyDrawer:!1}),se()},onPropertyUpdated:()=>{q({showPropertyDrawer:!1,editingProperty:null}),se()}}),r.jsx(RL,{isOpen:T,onClose:()=>{q({showMarketplaceDrawer:!1,editingItem:null})},itemData:P,onItemCreated:()=>{q({showMarketplaceDrawer:!1}),se()},onItemUpdated:()=>{q({showMarketplaceDrawer:!1,editingItem:null}),se()}})]})]})}const m0=t=>/^[^\s@]+@[^\s!]+\.[^\s@]+$/.test(t);function YQ(){var ne;const t=pt(),e=tr(),{login:n}=Ji(),s="2025-10-01",[i,a]=f.useState(""),[o,l]=f.useState(""),[c,u]=f.useState(((ne=e.state)==null?void 0:ne.email)||""),[d,h]=f.useState(""),[p,m]=f.useState(!1),[g,x]=f.useState(""),[b,v]=f.useState(!1),[y,w]=f.useState(!1),[k,N]=f.useState(0),[S,M]=f.useState({email:"",fullName:"",username:"",password:""}),[j,C]=f.useState({email:!1,fullName:!1,username:!1,password:!1}),[L,O]=f.useState({status:"idle",available:null}),F=f.useRef(null),[$,I]=f.useState({status:"idle",available:null}),_=f.useRef(null),[P,E]=f.useState({email:!1,fullName:!1,username:!1,password:!1}),T=(ie,de)=>{switch(ie){case"email":return de.trim()&&(m0(de)||/^\+?[\d\s\-\(\)]+$/.test(de));case"fullName":return de.trim().length>0;case"username":return de.trim().length>=3;case"password":return de.trim().length>=8;default:return!1}},D=(ie,de)=>{switch(ie){case"email":return de.trim()?!m0(de)&&!/^\+?[\d\s\-\(\)]+$/.test(de)?"Enter a valid email address.":"":"This field is required.";case"password":return de.trim()?de.length<8?"Create a password at least 8 characters long.":"":"This field is required.";case"fullName":return de.trim()?"":"This field is required.";case"username":return de.trim()?de.length<3?"Username must be at least 3 characters.":"":"This field is required.";default:return""}},R=(ie,de)=>{const ee=T(ie,de);C(ye=>({...ye,[ie]:ee}))},z=(ie,de)=>{ie==="email"&&u(de),ie==="password"&&h(de),ie==="fullName"&&a(de),ie==="username"&&l(de),R(ie,de);const ee=D(ie,de);if(M(ye=>({...ye,[ie]:ee})),ie==="username"){const ye=de.trim().toLowerCase();ye.length>=3&&!D("username",ye)?(O({status:"typing",available:null}),H(ye)):(O({status:"idle",available:null}),F.current&&clearTimeout(F.current))}if(ie==="email"){const ye=de.trim().toLowerCase();ye?(I({status:"typing",available:null}),U(ye)):(I({status:"idle",available:null}),_.current&&clearTimeout(_.current))}},q=(ie,de)=>{E(ye=>({...ye,[ie]:!0}));const ee=D(ie,de);M(ye=>({...ye,[ie]:ee})),ie==="username"&&de&&de.trim().length>=3&&!ee&&H(de.trim())},H=ie=>{F.current&&clearTimeout(F.current),F.current=setTimeout(async()=>{var de;try{O({status:"checking",available:null});const ee=await ge.get("/check-username",{params:{username:ie}});O({status:"done",available:!!((de=ee==null?void 0:ee.data)!=null&&de.available)})}catch{O({status:"error",available:null})}},400)},U=ie=>{_.current&&clearTimeout(_.current),_.current=setTimeout(async()=>{var de;try{I({status:"checking",available:null});const ee=await ge.get("/check-email",{params:{email:ie}});I({status:"done",available:!!((de=ee==null?void 0:ee.data)!=null&&de.available)})}catch{I({status:"error",available:null})}},400)};f.useEffect(()=>()=>{F.current&&clearTimeout(F.current),_.current&&clearTimeout(_.current)},[]);const B=ie=>{switch(ie){case"email":u("");break;case"fullName":a("");break;case"username":l("");break;case"password":h("");break}M(de=>({...de,[ie]:""})),C(de=>({...de,[ie]:!1}))};async function V(ie){var ye,xe,Ce,X;ie.preventDefault(),x(""),M({email:"",fullName:"",username:"",password:""});let de=!1;const ee={email:"",fullName:"",username:"",password:""};if(c.trim()?!m0(c)&&!/^\+?[\d\s\-\(\)]+$/.test(c)&&(ee.email="Please enter a valid email or phone number.",de=!0):(ee.email="This field is required.",de=!0),i.trim()||(ee.fullName="This field is required.",de=!0),o.trim()?o.length<3&&(ee.username="Username must be at least 3 characters.",de=!0):(ee.username="This field is required.",de=!0),d.trim()?d.length<8&&(ee.password="Create a password at least 8 characters long.",de=!0):(ee.password="This field is required.",de=!0),!p){x("Please accept the Terms and Privacy Policy.");return}if(de){M(ee),E({email:!0,fullName:!0,username:!0,password:!0});return}x(""),v(!0);try{const A=i.trim().split(" "),Y=A[0]||"",Z=A.slice(1).join(" ")||"",ae=await ge.post("/create-account",{firstName:Y,lastName:Z,username:o.trim(),email:c.trim(),password:d,termsConsent:{accepted:!0,version:s,acceptedAt:new Date().toISOString()}});if((ye=ae==null?void 0:ae.data)!=null&&ye.error){x(ae.data.message||"Could not create account.");return}if((xe=ae==null?void 0:ae.data)!=null&&xe.accessToken){try{localStorage.setItem("nr_terms_consent",JSON.stringify({accepted:!0,version:s,acceptedAt:new Date().toISOString()}))}catch{}const ue=await n(ae.data.user,ae.data.accessToken);if(ue.success){const he=localStorage.getItem("nr_unified_onboarding");he&&JSON.parse(he).completed?t("/dashboard"):t("/onboarding")}else x(ue.error||"Account created but login failed. Please try logging in.")}else x("Unexpected response. Please try again.")}catch(A){console.error("Signup error:",A);const Y=((X=(Ce=A==null?void 0:A.response)==null?void 0:Ce.data)==null?void 0:X.message)||"An unexpected error occurred. Please try again!";x(Y)}finally{v(!1)}}const G="h-12",Q="rounded-lg",se="w-6 h-6",te="pr-20",K="pr-[128px]",J=`${G} w-full ${Q} border border-white/12 bg-black px-3 text-[14px] text-white outline-none placeholder:text-white/55 autofill:bg-black autofill:text-white autofill:shadow-[inset_0_0_0px_1000px_black] [-webkit-text-fill-color:white] [-webkit-box-shadow:0_0_0px_1000px_black_inset]`,fe=(...ie)=>ie.filter(Boolean).join(" "),le=(ie,de)=>!!(S[ie]||P[ie]&&!T(ie,de)),ce=ie=>ie?{borderColor:"#ef4444",borderWidth:2}:void 0;return r.jsx("main",{className:"min-h-screen bg-black",children:r.jsx("div",{className:"mx-auto flex max-w-6xl items-start justify-center px-4 py-10",children:r.jsxs("div",{className:"w-full flex flex-col items-center",children:[r.jsxs("div",{className:"w-full max-w-sm rounded-2xl border border-white/10 bg-transparent p-6 relative overflow-hidden",children:[r.jsxs("div",{className:"mb-6 text-center",children:[r.jsx("h1",{className:`
                brand-script text-5xl leading-none
                bg-gradient-to-r from-blue-600 to-teal-500
                bg-clip-text text-transparent
                drop-shadow-[0_1px_0_rgba(255,255,255,0.06)]
              `,children:"NewRun"}),r.jsx("p",{className:"mt-3 text-[12px] leading-5 text-white/70",children:"Sign up to access housing, essentials, and community curated by your university."})]}),r.jsxs("button",{type:"button",onClick:()=>{fetch("http://localhost:8000/api/auth/google").then(ie=>{ie.ok?window.location.href="http://localhost:8000/api/auth/google":x("Google OAuth is not configured. Please use email/password signup.")}).catch(()=>{x("Google OAuth is not available. Please use email/password signup.")})},className:"mb-4 inline-flex h-10 w-full items-center justify-center gap-3 rounded-md border border-gray-300 bg-white text-[14px] font-medium text-gray-700 hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 hover:scale-[1.01] active:scale-[0.99] shadow-sm hover:shadow-md",children:[r.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[r.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),r.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),r.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),r.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),r.jsxs("div",{className:"mb-4 flex items-center gap-3 text-white/40",children:[r.jsx("div",{className:"h-px flex-1 bg-white/10"}),r.jsx("span",{className:"text-[12px]",children:"OR"}),r.jsx("div",{className:"h-px flex-1 bg-white/10"})]}),r.jsxs("form",{onSubmit:V,className:"space-y-3",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:c,onChange:ie=>z("email",ie.target.value),onBlur:ie=>q("email",ie.target.value),placeholder:"Mobile Number or Email",autoComplete:"email","aria-invalid":le("email",c),"aria-describedby":"email-error",className:fe(J,te,le("email",c)&&"ring-1 ring-red-500/40 focus:ring-red-500/50 focus:border-red-600",!le("email",c)&&P.email&&"border-gray-400"),style:ce(le("email",c))}),r.jsxs("div",{className:"pointer-events-none absolute right-4 top-1/2 -translate-y-1/2 flex items-center gap-2",children:[$.status==="checking"&&r.jsx("div",{className:"grid place-items-center w-7 h-7",children:r.jsxs("svg",{className:"w-4 h-4 animate-spin text-sky-400",viewBox:"0 0 24 24",fill:"none",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]})}),$.status==="done"&&$.available===!0&&!le("email",c)&&r.jsx("div",{className:"grid place-items-center w-7 h-7",children:r.jsx(Lc,{className:`${se} text-emerald-500`,strokeWidth:2})}),$.status==="done"&&$.available===!1&&!le("email",c)&&r.jsx("div",{className:"grid place-items-center w-7 h-7",children:r.jsx(ho,{className:`${se} text-red-500`,strokeWidth:2})}),le("email",c)&&r.jsx("button",{type:"button",onClick:()=>B("email"),className:"pointer-events-auto grid place-items-center w-7 h-7","aria-label":"Clear email",children:r.jsx(ho,{className:`${se} text-red-500`,strokeWidth:2})})]})]}),le("email",c)&&r.jsx("div",{id:"email-error",className:"mt-1 text-sm text-red-500 font-medium",children:S.email||"Enter a valid email address."}),!le("email",c)&&c&&r.jsxs("div",{className:"mt-1 text-xs",children:[$.status==="checking"&&r.jsx("span",{className:"text-sky-400",children:"Checking email"}),$.status==="done"&&$.available===!0&&r.jsx("span",{className:"text-emerald-400",children:"Email looks good."}),$.status==="done"&&$.available===!1&&r.jsx("span",{className:"text-red-400",children:"An account with this email already exists."})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:y?"text":"password",value:d,onChange:ie=>z("password",ie.target.value),onBlur:ie=>q("password",ie.target.value),placeholder:"Password",autoComplete:"new-password","aria-invalid":le("password",d),"aria-describedby":"password-error",className:fe(J,K,le("password",d)&&"ring-1 ring-red-500/40 focus:ring-red-500/50 focus:border-red-600",!le("password",d)&&P.password&&"border-gray-400"),style:ce(le("password",d))}),r.jsxs("div",{className:"pointer-events-none absolute right-4 top-1/2 -translate-y-1/2 flex items-center gap-2",children:[le("password",d)?r.jsx("div",{className:"grid place-items-center w-7 h-7",children:r.jsx(ho,{className:`${se} text-red-500`,strokeWidth:2})}):j.password?r.jsx("div",{className:"grid place-items-center w-8 h-8",children:r.jsx(Lc,{className:`${se} text-emerald-500`,strokeWidth:2})}):null,r.jsx("button",{type:"button",onClick:()=>w(!y),className:"pointer-events-auto inline-flex items-center justify-center h-8 px-3 text-xs font-semibold rounded-md border border-white/25 bg-white/10 text-white/90 hover:bg-white/15 hover:border-white/35 focus:outline-none focus-visible:ring-2 focus-visible:ring-white/30",children:y?"Hide":"Show"})]})]}),le("password",d)&&r.jsx("div",{id:"password-error",className:"mt-1 text-sm text-red-500 font-medium",children:S.password||"Create a password at least 8 characters long."})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:i,onChange:ie=>z("fullName",ie.target.value),onBlur:ie=>q("fullName",ie.target.value),placeholder:"Full Name",autoComplete:"name","aria-invalid":le("fullName",i),"aria-describedby":"fullName-error",className:fe(J,te,le("fullName",i)&&"ring-1 ring-red-500/40 focus:ring-red-500/50 focus:border-red-600",!le("fullName",i)&&P.fullName&&"border-gray-400"),style:ce(le("fullName",i))}),r.jsx("div",{className:"pointer-events-none absolute right-4 top-1/2 -translate-y-1/2 flex items-center gap-2",children:le("fullName",i)?r.jsx("button",{type:"button",onClick:()=>B("fullName"),className:"pointer-events-auto grid place-items-center w-7 h-7","aria-label":"Clear full name",children:r.jsx(ho,{className:`${se} text-red-500`,strokeWidth:2})}):j.fullName?r.jsx("div",{className:"grid place-items-center w-7 h-7",children:r.jsx(Lc,{className:`${se} text-emerald-500`,strokeWidth:2})}):null})]}),le("fullName",i)&&r.jsx("div",{id:"fullName-error",className:"mt-1 text-sm text-red-500 font-medium",children:S.fullName||"This field is required."})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:o,onChange:ie=>z("username",ie.target.value),onBlur:ie=>q("username",ie.target.value),placeholder:"Username",autoComplete:"username","aria-invalid":le("username",o),"aria-describedby":"username-error",className:fe(J,te,le("username",o)&&"ring-1 ring-red-500/40 focus:ring-red-500/50 focus:border-red-600",!le("username",o)&&P.username&&"border-gray-400"),style:ce(le("username",o))}),r.jsxs("div",{className:"pointer-events-none absolute right-4 top-1/2 -translate-y-1/2 flex items-center gap-2",children:[L.status==="checking"&&r.jsx("div",{className:"grid place-items-center w-7 h-7",children:r.jsxs("svg",{className:"w-4 h-4 animate-spin text-sky-400",viewBox:"0 0 24 24",fill:"none",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]})}),L.status==="done"&&L.available===!0&&r.jsx("div",{className:"grid place-items-center w-7 h-7",children:r.jsx(Lc,{className:`${se} text-emerald-500`,strokeWidth:2})}),L.status==="done"&&L.available===!1&&r.jsx("div",{className:"grid place-items-center w-7 h-7",children:r.jsx(ho,{className:`${se} text-red-500`,strokeWidth:2})}),le("username",o)?r.jsx("button",{type:"button",onClick:()=>B("username"),className:"pointer-events-auto grid place-items-center w-7 h-7","aria-label":"Clear username",children:r.jsx(ho,{className:`${se} text-red-500`,strokeWidth:2})}):null,o&&o.length>=3&&r.jsx("button",{type:"button",onClick:()=>{N(ie=>ie+1),H(o)},className:"pointer-events-auto grid place-items-center w-7 h-7","aria-label":"Refresh username suggestions",title:"Refresh suggestions",children:r.jsx(MY,{className:`${se} text-sky-400`,strokeWidth:2})})]})]}),le("username",o)&&r.jsx("div",{id:"username-error",className:"mt-1 text-sm text-red-500 font-medium",children:S.username||"Username must be at least 3 characters."}),o&&o.length>=3&&!le("username",o)&&r.jsxs("div",{className:"mt-1 text-xs",children:[L.status==="checking"&&r.jsx("span",{className:"text-sky-400",children:"Checking availability"}),L.status==="done"&&L.available===!0&&r.jsx("span",{className:"text-emerald-400",children:"Great news  username is available."}),L.status==="done"&&L.available===!1&&r.jsx("span",{className:"text-red-400",children:"That username is taken. Try a suggestion below."})]}),o&&o.length>=3&&r.jsxs("div",{className:"mt-2 space-y-1",children:[r.jsx("div",{className:"text-xs text-gray-400",children:"Suggestions:"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{type:"button",onClick:()=>l(`${o.toLowerCase()}.${Math.floor(Math.random()*100)}`),className:"px-2 py-1 bg-gray-100 rounded text-xs text-gray-700 hover:bg-gray-200 transition-colors",children:[o.toLowerCase(),".",Math.floor(Math.random()*100+k%100)]}),r.jsxs("button",{type:"button",onClick:()=>l(`${o.toLowerCase()}_${Math.floor(Math.random()*100)}`),className:"px-2 py-1 bg-gray-100 rounded text-xs text-gray-700 hover:bg-gray-200 transition-colors",children:[o.toLowerCase(),"_",Math.floor(Math.random()*100+k%100)]})]})]})]}),r.jsxs("p",{className:"mt-3 text-[12px] leading-5 text-white/70",children:["People who use NewRun may have their basic details used to personalize recommendations."," ",r.jsx(Ie,{to:"/help",className:"text-sky-400 hover:underline",children:"Learn more"})]}),r.jsxs("p",{className:"mt-3 text-[12px] leading-5 text-white/70",children:["By signing up, you agree to our"," ",r.jsx(Ie,{to:"/terms",className:"text-sky-400 hover:underline",children:"Terms"}),","," ",r.jsx(Ie,{to:"/privacy",className:"text-sky-400 hover:underline",children:"Privacy Policy"})," ","and"," ",r.jsx(Ie,{to:"/cookies",className:"text-sky-400 hover:underline",children:"Cookies Policy"}),"."]}),r.jsxs("label",{className:"mx-auto mt-1 flex w-fit items-center gap-2 text-[12px] text-white/80",children:[r.jsx("input",{type:"checkbox",checked:p,onChange:ie=>m(ie.target.checked),className:"h-4 w-4 rounded-sm border border-white/40 bg-transparent accent-sky-500  focus:ring-sky-500/40",style:{accentColor:"#38bdf8"}}),r.jsx("span",{children:"I agree to the terms."})]}),g&&r.jsx("div",{className:"rounded-md border border-red-500/40 bg-red-500/10 px-3 py-2 text-center text-[13px] text-red-300",children:g}),r.jsx("button",{type:"submit",disabled:b||!p,className:"mt-2 inline-flex h-10 w-full items-center justify-center rounded-md bg-[#2f64ff] text-[14px] font-medium text-white hover:bg-[#2958e3] disabled:opacity-50 disabled:cursor-not-allowed",children:b?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Creating account..."]}):"Sign Up"})]}),r.jsx(km,{size:300,duration:4,colorFrom:"#2F64FF",colorTo:"#00D4FF",borderWidth:2.5})]}),r.jsx("div",{className:"w-full max-w-sm mt-4 rounded-2xl border border-white/10 bg-transparent p-4 text-center",children:r.jsxs("p",{className:"text-white/80 text-[14px]",children:["Have an account? ",r.jsx(Ie,{to:"/login",className:"text-sky-400 hover:underline",children:"Log in"})]})})]})})})}const XQ=()=>(f.useEffect(()=>{window.scrollTo(0,0)},[]),r.jsxs("div",{className:"university-page",children:[r.jsx(ht,{}),r.jsx("section",{className:"university-hero",children:r.jsxs("div",{className:"content",children:[r.jsx("h1",{children:"Transform University Outcomes with NewRun"}),r.jsx("p",{children:"Enhance student retention, engagement, and success through tailored experiences from day one."}),r.jsx(Ie,{to:"/contact",className:"btn",children:"Schedule a Demo"})]})}),r.jsxs("div",{className:"features-container",children:[r.jsxs("div",{className:"feature",children:[r.jsx("h2",{children:"Welcoming Experience"}),r.jsx("p",{children:"Begin every student's journey with a personalized welcoming process that sets the tone for success and integration into the university community."})]}),r.jsxs("div",{className:"feature",children:[r.jsx("h2",{children:"Community Integration"}),r.jsx("p",{children:"Facilitate rich networking opportunities for students to forge valuable connections within the campus community, boosting their engagement and sense of belonging."})]}),r.jsxs("div",{className:"feature",children:[r.jsx("h2",{children:"Accommodation and Roommate Matching"}),r.jsx("p",{children:"Empower students to find ideal living situations and compatible roommates with our advanced housing tools, creating a stable foundation for academic success."})]}),r.jsx("div",{className:"feature",children:r.jsxs("div",{className:"bg-black p-6 rounded-lg shadow-lg hover:shadow-2xl transition duration-300",children:[r.jsx("h2",{children:"Career Preparation and Job Placement"}),r.jsx("p",{children:"Support students from education to employment with comprehensive career services that align with market needs and personal aspirations."})]})})]}),r.jsxs("section",{className:"call-to-action",children:[r.jsx("h2",{children:"Ready to Enhance Your University's Success?"}),r.jsx("p",{children:"Join the myriad of institutions already benefiting from NewRuns innovative solutions."}),r.jsx(Ie,{to:"/contact",className:"btn",children:"Learn More"})]})]})),ak="/assets/avatar1-Bt2firpO.jpg",ok="/assets/avatar2-Cre_kVO3.jpg",lk="/assets/avatar3-DTs14J5_.jpg";function cp({className:t="",children:e}){return r.jsx("div",{className:`nr-panel ${t}`,children:e})}const ZQ=({className:t="h-4 w-4"})=>r.jsx("svg",{viewBox:"0 0 24 24",className:t,fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M5 12h14M13 5l7 7-7 7"})}),QQ=["All","Campus Life","Finances","Career","Visas","Housing","Well Being","Culture","Communication","City Life"],JQ=[{id:"p1",title:"The International Students Playbook for Week 1",excerpt:"From banking and transit cards to campus hacks  a concise, battle-tested checklist for your first seven days.",tag:"Campus Life",readTime:"7 min",author:{name:"Aryaveer Jain",avatar:ak},image:null,createdAt:"2025-07-02T10:00:00Z",popularity:98},{id:"p2",title:"Housing: What to check before signing a lease",excerpt:"Walkthrough of key clauses, inspection tips, and how to negotiate move-in dates without losing the deal.",tag:"Housing",readTime:"6 min",author:{name:"Henrik Hansen",avatar:ok},image:null,createdAt:"2025-07-28T20:00:00Z",popularity:86},{id:"p3",title:"F-1, OPT, and CPT explained like youre 5",excerpt:"Simple mental models for visa acronyms, timelines, and whats allowed at each stage.",tag:"Visas",readTime:"8 min",author:{name:"Yue Chen",avatar:lk},image:null,createdAt:"2025-08-05T14:00:00Z",popularity:92},{id:"p4",title:"Budgeting 101: stretch your stipend without pain",excerpt:"A 30-minute setup that saves hundreds: categories, caps, and automation for busy semesters.",tag:"Finances",readTime:"5 min",author:{name:"Aryaveer Jain",avatar:ak},image:null,createdAt:"2025-08-08T09:00:00Z",popularity:75},{id:"p5",title:"Networking for introverts: one email a week",excerpt:"A low-stress cadence and message template that turns cold reach-outs into warm chats.",tag:"Career",readTime:"6 min",author:{name:"Henrik Hansen",avatar:ok},image:null,createdAt:"2025-08-10T11:30:00Z",popularity:80},{id:"p6",title:"Cheap furniture finds near campus",excerpt:"How to kit a studio for <$300 using campus groups, thrift rotations, and delivery hacks.",tag:"City Life",readTime:"4 min",author:{name:"Yue Chen",avatar:lk},image:null,createdAt:"2025-08-12T16:00:00Z",popularity:77}],eJ=["#Housing","#Dorm essentials","#Buy/sell textbooks","#Part-time jobs","#Phone plans","#Banking","#F-1 visa","#I-20"];function tJ({post:t}){var n,s,i;const e=a=>{switch(a){case"Finances":return"nr-art-emerald";case"Housing":return"nr-art-amber";case"Visas":return"nr-art-sky";case"Career":return"nr-art-violet";case"City Life":case"Culture":return"nr-art-rose";case"Communication":return"nr-art-cyan";default:return"nr-art-amber"}};return r.jsxs(cp,{className:"p-0 overflow-hidden group",children:[r.jsx("div",{className:"relative h-40 sm:h-44 w-full bg-gradient-to-br from-white/5 to-white/0",children:t.image?r.jsx("img",{src:t.image,alt:"",className:"h-full w-full object-cover"}):r.jsx("div",{className:`nr-card-art ${e(t.tag)}`})}),r.jsxs("div",{className:"p-5 sm:p-6",children:[r.jsx("div",{className:"mb-2",children:r.jsx("span",{className:"nr-chip text-xs",children:t.tag})}),r.jsx("a",{href:`/blogs/${t.id}`,className:"block",children:r.jsx("h3",{className:"text-[18px] font-semibold leading-snug hover:underline",children:t.title})}),r.jsx("p",{className:"mt-2 line-clamp-3 text-sm text-white/75",children:t.excerpt}),r.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("img",{src:(n=t.author)==null?void 0:n.avatar,alt:(s=t.author)==null?void 0:s.name,className:"h-7 w-7 rounded-full object-cover ring-1 ring-white/10"}),r.jsxs("div",{className:"text-xs text-white/70",children:[r.jsx("div",{className:"font-medium text-white/85",children:(i=t.author)==null?void 0:i.name}),r.jsx("div",{children:t.readTime})]})]}),r.jsxs("a",{href:`/blogs/${t.id}`,className:"inline-flex items-center gap-1 rounded-lg border border-white/15 bg-white/[0.04] px-2.5 py-1.5 text-xs text-white/85 hover:bg-white/10",children:["Read ",r.jsx(ZQ,{className:"h-3.5 w-3.5"})]})]})]})]})}function nJ(){const[t,e]=f.useState(null),[n,s]=f.useState(""),[i,a]=f.useState("All"),[o,l]=f.useState("Newest"),[c,u]=f.useState(6),d=pt();f.useEffect(()=>{(async()=>{var x,b;try{const v=await ge.get("/get-user");(x=v==null?void 0:v.data)!=null&&x.user&&e(v.data.user)}catch(v){((b=v==null?void 0:v.response)==null?void 0:b.status)===401&&(localStorage.clear(),d("/login"))}})()},[d]);const h=f.useMemo(()=>{let x=JQ.slice();if(i&&i!=="All"&&(x=x.filter(b=>b.tag===i)),n.trim()){const b=n.toLowerCase();x=x.filter(v=>v.title.toLowerCase().includes(b)||v.excerpt.toLowerCase().includes(b)||v.tag.toLowerCase().includes(b))}return o==="Newest"?x.sort((b,v)=>new Date(v.createdAt)-new Date(b.createdAt)):o==="Popular"&&x.sort((b,v)=>(v.popularity||0)-(b.popularity||0)),x},[i,n,o]),p=h.slice(0,c),m=c<h.length,g=x=>{x.preventDefault()};return r.jsxs("div",{className:"nr-dots-page min-h-screen text-white",children:[r.jsx(ht,{userInfo:t}),r.jsx("div",{className:"nr-hero-bg",children:r.jsxs("section",{className:"mx-auto max-w-7xl px-4 pt-14 pb-10",children:[r.jsxs("div",{className:"mb-5 flex items-center justify-center gap-2 text-[11px]",children:[r.jsx("span",{className:"rounded-full border border-white/10 bg-white/5 px-2 py-1 text-white/70",children:"Student Q&A"}),r.jsx("span",{className:"rounded-full border border-white/10 bg-white/5 px-2 py-1 text-white/70",children:"Verified .edu accounts"})]}),r.jsxs("h1",{className:"mx-auto max-w-5xl text-center text-4xl font-black tracking-tight md:text-6xl",children:["Youve got questions?"," ",r.jsx("span",{className:"bg-gradient-to-r from-amber-400 via-amber-300 to-orange-500 bg-clip-text text-transparent",children:"Your campus"}),r.jsx("br",{className:"hidden md:block"})," ","has answers."]}),r.jsx("form",{onSubmit:g,className:"mx-auto mt-6 w-full max-w-4xl rounded-2xl border border-white/10 bg-white/[0.04] p-2",children:r.jsxs("div",{className:"flex items-center gap-2 rounded-xl bg-[#0f1115]/80 px-3 py-3 ring-1 ring-white/10",children:[r.jsx("span",{className:"text-white/40",children:""}),r.jsx("input",{value:n,onChange:x=>s(x.target.value),placeholder:'Try: "I-20", "cheap desk", "sublet near campus"',className:"w-full bg-transparent text-sm text-white/85 outline-none placeholder:text-white/40"}),r.jsx("button",{type:"submit",className:"rounded-full bg-white/10 px-3 py-1.5 text-sm text-white hover:bg-white/20",children:"Search"})]})}),r.jsxs("div",{className:"mx-auto mt-6 flex max-w-3xl flex-col items-center justify-center gap-3 sm:flex-row",children:[r.jsxs("a",{href:"#blog-grid",className:"inline-flex items-center gap-2 rounded-xl bg-gradient-to-r from-amber-500 to-orange-600 px-5 py-2.5 text-sm font-semibold text-black shadow-[0_8px_24px_rgba(255,153,0,.25)] hover:brightness-110",children:["Read guides ",r.jsx("span",{"aria-hidden":!0,children:""})]}),r.jsx("a",{href:"#filters",className:"inline-flex items-center gap-2 rounded-xl border border-white/20 bg-white/5 px-5 py-2.5 text-sm text-white/85 hover:bg-white/10",children:"Browse categories"})]}),r.jsx("div",{className:"mt-6 flex flex-wrap items-center justify-center gap-2",children:eJ.map(x=>r.jsx("span",{className:"nr-chip text-sm",children:x},x))})]})}),r.jsx("section",{id:"filters",className:"mx-auto max-w-7xl px-4 pt-8",children:r.jsx(cp,{className:"overflow-hidden",children:r.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[r.jsx("div",{className:"flex items-center gap-2 overflow-x-auto pb-1",children:QQ.map(x=>{const b=x===i;return r.jsx("button",{onClick:()=>a(x),className:b?"nr-chip bg-white text-black border-white/90":"nr-chip hover:bg-white/10 hover:border-white/20",children:x},x)})}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-xs text-white/60",children:"Sort"}),r.jsxs("select",{value:o,onChange:x=>l(x.target.value),className:"rounded-lg border border-white/10 bg-white/[0.06] px-2 py-1.5 text-sm outline-none",children:[r.jsx("option",{children:"Newest"}),r.jsx("option",{children:"Popular"})]})]})]})})}),r.jsx("section",{id:"blog-grid",className:"mx-auto max-w-7xl px-4 pt-6 pb-14",children:p.length===0?r.jsxs(cp,{className:"py-12 text-center",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"No posts found"}),r.jsx("p",{className:"mt-1 text-white/70",children:"Try a different category or broaden your search."})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"grid gap-5 sm:grid-cols-2 xl:grid-cols-3",children:p.map(x=>r.jsx(tJ,{post:x},x.id))}),m&&r.jsx("div",{className:"mt-8 grid place-items-center",children:r.jsx("button",{onClick:()=>u(x=>x+6),className:"rounded-xl bg-white/10 px-5 py-2 text-sm text-white hover:bg-white/15",children:"Load more"})})]})}),r.jsx("section",{className:"mx-auto max-w-7xl px-4 pb-12",children:r.jsxs(cp,{className:"p-0 overflow-hidden",children:[r.jsxs("div",{className:"p-5 sm:p-6",children:[r.jsx("p",{className:"text-sm text-white/70",children:"NEWSLETTER"}),r.jsx("h5",{className:"mt-1 text-xl font-semibold",children:"Get the weekly campus brief"}),r.jsx("p",{className:"mt-1 text-white/70",children:"Visa alerts, housing deals, and career openings  straight to your inbox."}),r.jsxs("form",{onSubmit:x=>x.preventDefault(),className:"mt-4 flex flex-col gap-2 sm:flex-row",children:[r.jsx("input",{type:"email",placeholder:"Email address",className:"w-full rounded-xl border border-white/10 bg-white/[0.06] px-3 py-2 text-sm text-white outline-none placeholder:text-white/40 focus:border-amber-500"}),r.jsx("button",{type:"submit",className:"rounded-xl bg-gradient-to-r from-amber-500 to-orange-600 px-4 py-2 text-sm font-semibold text-black hover:brightness-110",children:"Subscribe"})]})]}),r.jsx("div",{className:"relative h-16",children:r.jsx("div",{className:"nr-ramp absolute inset-0 right-[-8%] bottom-[-40%]"})})]})}),r.jsx(Oa,{})]})}const Pl="nr_community_threads_v1";function Wl(){const t=localStorage.getItem(Pl);if(t)return JSON.parse(t);const e=Date.now(),n=[{id:"t1",title:"I just got accepted! How do I apply for an I-20?",body:"I received my admission letter. What docs and timeline are typical for issuing the I-20? Any pitfalls to avoid?",tags:["visa","I-20","international"],school:"NIU",author:"@aryarox",votes:18,solved:!0,createdAt:e-1e3*60*60*24*3,answers:[{id:"a1",author:"@admitcoach",body:"Pay the I-20 processing fee (if applicable), upload your passport, bank statement (covering first year expenses), and affidavit of support. Typical issuance is 12 weeks. Common pitfall: mismatched name/order vs. passport.",votes:12,accepted:!0,createdAt:e-1e3*60*60*24*2},{id:"a2",author:"@intloffice",body:"Check your admit portal for the immigration checklist. If your bank doc isnt in English, provide a notarized translation. PDF only to avoid delays.",votes:7,accepted:!1,createdAt:e-1e3*60*60*24*2}]},{id:"t2",title:"How does my tourist visa affect F-1?",body:"I have a B1/B2 visa. Any impact when applying for F-1 at the consulate?",tags:["visa","F-1"],school:"UIC",author:"@hesen",votes:12,solved:!1,createdAt:e-1e3*60*60*24*4,answers:[{id:"a3",author:"@alumni",body:"No conflict. The officer checks non-immigrant intent. Bring ties to home country, admission letter, I-20, SEVIS receipt, and funding proofs.",votes:5,accepted:!1,createdAt:e-1e3*60*60*24*3}]},{id:"t3",title:"Tips for finding affordable housing near campus?",body:"Looking for <$900 near campus. What neighborhoods and filters do you recommend?",tags:["housing","budget"],school:"NIU",author:"@yuechen",votes:25,solved:!0,createdAt:e-1e3*60*60*24*1,answers:[{id:"a4",author:"@campusrealty",body:"Sort by walking distance (<1.5mi), filter furnished if you wont buy furniture, and set price alerts. Check roommate boards to split 2BRs.",votes:11,accepted:!0,createdAt:e-1e3*60*60*20}]}];return localStorage.setItem(Pl,JSON.stringify(n)),n}async function sJ({q:t="",limit:e=20,school:n="",page:s=1}={}){try{const h={q:t,limit:e,page:s};n&&(h.school=n);const p=await ge.get("/community/threads",{params:h});if(p!=null&&p.data)return{items:p.data.items||[],pagination:p.data.pagination||null}}catch(h){console.log("Backend fetch failed, using local storage fallback:",h.message)}let a=Wl();if(n&&(a=a.filter(h=>h.school&&h.school.toLowerCase().includes(n.toLowerCase()))),t){const h=t.toLowerCase();a=a.filter(p=>p.title.toLowerCase().includes(h)||p.body.toLowerCase().includes(h)||p.tags.some(m=>m.toLowerCase().includes(h)))}const o=a.length,l=Math.ceil(o/e),c=(s-1)*e,u=c+e;return{items:a.slice(c,u),pagination:{currentPage:s,totalPages:l,totalItems:o,itemsPerPage:e,hasNextPage:s<l,hasPrevPage:s>1}}}async function rJ(t){var n;try{const s=await ge.get(`/community/threads/${t}`);if((n=s==null?void 0:s.data)!=null&&n.item)return s.data.item}catch(s){console.log("Backend fetch failed, using local storage fallback:",s.message)}return Wl().find(s=>s.id===t||s._id===t)||null}async function iJ({title:t,body:e,tags:n=[],school:s="",author:i="@you"}){var l;try{const c=await ge.post("/community/threads",{title:t,body:e,tags:n,school:s,author:i});if((l=c==null?void 0:c.data)!=null&&l.item)return c.data.item}catch{}const a=Wl(),o={id:"t"+Date.now(),title:t,body:e,tags:n,school:s,author:i,votes:0,solved:!1,createdAt:Date.now(),answers:[]};return a.unshift(o),localStorage.setItem(Pl,JSON.stringify(a)),o}async function aJ(t,{body:e,author:n="@you"}){var o;try{const l=await ge.post(`/community/threads/${t}/answers`,{body:e,author:n});if((o=l==null?void 0:l.data)!=null&&o.item)return l.data.item}catch{}const s=Wl(),i=s.find(l=>l.id===t);if(!i)return null;const a={id:"a"+Date.now(),body:e,author:n,votes:0,accepted:!1,createdAt:Date.now()};return i.answers.push(a),localStorage.setItem(Pl,JSON.stringify(s)),a}async function oJ(t,e){try{const i=await ge.post(`/community/threads/${t}/vote`,{type:e});if(i!=null&&i.data)return i.data}catch(i){console.error("Vote error:",i)}const n=Wl(),s=n.find(i=>i.id===t);return s?(e==="upvote"?s.upvotes=(s.upvotes||0)+1:e==="downvote"&&(s.downvotes=(s.downvotes||0)+1),s.votes=(s.upvotes||0)-(s.downvotes||0),localStorage.setItem(Pl,JSON.stringify(n)),{upvotes:s.upvotes||0,downvotes:s.downvotes||0,votes:s.votes}):null}async function lJ(t){var e;try{console.log(" Bookmarking thread:",t);const n=await ge.post(`/community/threads/${t}/bookmark`);return console.log(" Bookmark success:",n.data),n.data}catch(n){throw console.error(" Bookmark error:",n),console.error(" Error response:",(e=n.response)==null?void 0:e.data),n}}async function cJ(t){var e;try{console.log(" Removing bookmark for thread:",t);const n=await ge.delete(`/community/threads/${t}/bookmark`);return console.log(" Remove bookmark success:",n.data),n.data}catch(n){throw console.error(" Remove bookmark error:",n),console.error(" Error response:",(e=n.response)==null?void 0:e.data),n}}async function dJ(t=1,e=20){try{return(await ge.get(`/community/bookmarks?page=${t}&limit=${e}`)).data}catch(n){throw console.error("Get bookmarks error:",n),n}}async function uJ(t){try{return(await ge.get(`/community/threads/${t}/bookmark-status`)).data}catch(e){return console.error("Check bookmark status error:",e),{isBookmarked:!1}}}async function hJ(t){try{return(await ge.get(`/community/threads/${t}/vote-status`)).data}catch(e){return console.error("Check vote status error:",e),{userVote:null,upvotes:0,downvotes:0,votes:0}}}async function pJ(t,e,n){try{return(await ge.post(`/community/threads/${t}/answers/${e}/vote`,{type:n})).data}catch(s){throw console.error("Vote answer error:",s),s}}async function fJ(t,e,n){try{return(await ge.post(`/community/threads/${t}/answers/${e}/reply`,{body:n})).data}catch(s){throw console.error("Add reply error:",s),s}}async function mJ(t,e){try{return(await ge.get(`/community/threads/${t}/answers/${e}/vote-status`)).data}catch(n){return console.error("Check answer vote status error:",n),{userVote:null,upvotes:0,downvotes:0,votes:0}}}async function gJ(t,e){var i;try{const a=await ge.post(`/community/threads/${t}/answers/${e}/accept`);if((i=a==null?void 0:a.data)!=null&&i.success)return!0}catch{}const n=Wl(),s=n.find(a=>a.id===t);return s?(s.answers=s.answers.map(a=>({...a,accepted:a.id===e})),s.solved=!0,localStorage.setItem(Pl,JSON.stringify(n)),!0):null}const Ge={list:sJ,get:rJ,addThread:iJ,addAnswer:aJ,voteThread:oJ,bookmarkThread:lJ,removeBookmark:cJ,getBookmarks:dJ,checkBookmarkStatus:uJ,checkVoteStatus:hJ,voteAnswer:pJ,addReply:fJ,checkAnswerVoteStatus:mJ,acceptAnswer:gJ,voteComment:async(t,e,n)=>{try{return(await ge.post(`/community/threads/${t}/comments/${e}/vote`,{type:n})).data}catch(s){throw console.error("Vote comment error:",s),s}},addAnswerComment:async(t,e,n)=>{try{return(await ge.post(`/community/threads/${t}/answers/${e}/comments`,{body:n})).data}catch(s){throw console.error("Add answer comment error:",s),s}},addCommentReply:async(t,e,n)=>{try{return(await ge.post(`/community/threads/${t}/comments/${e}/replies`,{body:n})).data}catch(s){throw console.error("Add comment reply error:",s),s}},replyToComment:async(t,e,n)=>{try{return(await ge.post(`/community/threads/${t}/comments/${e}/replies`,{body:n})).data}catch(s){throw console.error("Reply to comment error:",s),s}},deleteAnswer:async(t,e)=>{try{return(await ge.delete(`/community/threads/${t}/answers/${e}`)).data}catch(n){throw console.error("Delete answer error:",n),n}},deleteComment:async(t,e)=>{try{return(await ge.delete(`/community/threads/${t}/comments/${e}`)).data}catch(n){throw console.error("Delete comment error:",n),n}},deleteReply:async(t,e,n)=>{try{return(await ge.delete(`/community/threads/${t}/comments/${e}/replies/${n}`)).data}catch(s){throw console.error("Delete reply error:",s),s}}};function Ko(t){if(!t)return"";const e=new Date,n=new Date(t),s=e-n,i=Math.floor(s/1e3),a=Math.floor(i/60),o=Math.floor(a/60),l=Math.floor(o/24),c=Math.floor(l/30),u=Math.floor(l/365);return i<60?"just now":a<60?`${a}m ago`:o<24?`${o}h ago`:l<30?`${l}d ago`:c<12?`${c}mo ago`:`${u}y ago`}function xJ({university:t,playbooks:e=[],onViewAll:n,loading:s=!1}){return r.jsxs("section",{className:"rounded-2xl border border-white/10 bg-gradient-to-b from-white/[0.06] to-white/[0.03] p-5",children:[r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(QN,{className:"w-5 h-5 text-amber-400"}),r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Playbook Spotlight"})]}),r.jsxs("p",{className:"text-white/60 text-sm",children:["Seasonal guides to help you succeed at ",t]})]}),r.jsxs("div",{className:"space-y-3",children:[e.slice(0,2).map(i=>r.jsx(vJ,{title:i.title,description:i.description,successRate:i.successRate,icon:i.icon,href:i.href},i.id)),e.length===0&&r.jsxs("div",{className:"text-center py-6",children:[r.jsx(QN,{className:"w-8 h-8 text-white/30 mx-auto mb-2"}),r.jsx("p",{className:"text-white/60 text-sm",children:"No playbooks available right now"})]})]}),r.jsx("div",{className:"mt-4 pt-3 border-t border-white/10",children:r.jsxs("button",{onClick:n,className:"inline-flex items-center gap-2 text-sm text-white/70 hover:text-white transition-colors",children:["View all playbooks ",r.jsx(wb,{className:"w-4 h-4"})]})})]})}function vJ({title:t,description:e,successRate:n,icon:s,href:i}){return r.jsx("a",{href:i,className:"block p-4 rounded-xl border border-white/10 bg-white/[0.03] hover:bg-white/[0.06] hover:border-white/20 transition-all group",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-lg bg-amber-500/10 border border-amber-500/20 flex items-center justify-center",children:r.jsx(s,{className:"w-4 h-4 text-amber-400"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h4",{className:"text-sm font-semibold text-white group-hover:text-white mb-1 line-clamp-1",children:t}),r.jsx("p",{className:"text-xs text-white/60 mb-2 line-clamp-2",children:e}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(dV,{className:"w-3 h-3 text-emerald-400"}),r.jsxs("span",{className:"text-xs text-emerald-400 font-medium",children:[n,"% success rate"]})]})]}),r.jsx(wb,{className:"w-4 h-4 text-white/40 group-hover:text-white/60 transition-colors flex-shrink-0"})]})})}function $L({active:t,className:e="",...n}){const s=f.useId(),i=`nr-soft-glow-${String(s).replace(/[:]/g,"")}`;return r.jsxs("svg",{viewBox:"0 0 120 120",className:e,"aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",...n,children:[t&&r.jsx("defs",{children:r.jsxs("filter",{id:i,x:"-50%",y:"-50%",width:"200%",height:"200%",children:[r.jsx("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"3",result:"blur"}),r.jsxs("feMerge",{children:[r.jsx("feMergeNode",{in:"blur"}),r.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),r.jsx("polygon",{points:"98,109 60,88 22,109 22,12 98,12",fill:t?"#ff1200":"transparent",stroke:"#ff1200",strokeWidth:t?0:8,strokeLinejoin:"round",strokeLinecap:"round",shapeRendering:"geometricPrecision",style:{filter:t?`url(#${i}) drop-shadow(0 0 6px rgba(255,18,0,0.35))`:"none",transition:"filter 180ms ease, fill 180ms ease, stroke-width 180ms ease"}})]})}function FL(t){if(!t)return null;const e=t.toLowerCase().trim(),n={niu:"niu.edu","northern illinois university":"niu.edu",uic:"uic.edu","university of illinois chicago":"uic.edu",uiuc:"illinois.edu","university of illinois":"illinois.edu","university of illinois at urbana-champaign":"illinois.edu",northwestern:"northwestern.edu","northwestern university":"northwestern.edu",depaul:"depaul.edu","depaul university":"depaul.edu",loyola:"luc.edu","loyola university chicago":"luc.edu",iit:"iit.edu","illinois tech":"iit.edu","illinois institute of technology":"iit.edu",uchicago:"uchicago.edu","university of chicago":"uchicago.edu",stanford:"stanford.edu","stanford university":"stanford.edu",berkeley:"berkeley.edu","uc berkeley":"berkeley.edu","university of california berkeley":"berkeley.edu",ucla:"ucla.edu",usc:"usc.edu","university of southern california":"usc.edu",caltech:"caltech.edu","california institute of technology":"caltech.edu",mit:"mit.edu",harvard:"harvard.edu","harvard university":"harvard.edu","boston university":"bu.edu",bu:"bu.edu",northeastern:"northeastern.edu","northeastern university":"northeastern.edu","ut austin":"utexas.edu","university of texas":"utexas.edu","university of texas at austin":"utexas.edu","ut dallas":"utdallas.edu","university of texas at dallas":"utdallas.edu","texas a&m":"tamu.edu",nyu:"nyu.edu",columbia:"columbia.edu","columbia university":"columbia.edu",cornell:"cornell.edu","cornell university":"cornell.edu","penn state university":"psu.edu","penn state":"psu.edu",psu:"psu.edu","pennsylvania state university":"psu.edu","university of pennsylvania":"upenn.edu",upenn:"upenn.edu",penn:"upenn.edu"};if(n[e])return n[e];let s=e.replace(/university|college|of|the|at/gi," ").replace(/\s+/g," ").trim();if(s.includes("texas")&&s.includes("dallas"))return"utdallas.edu";const i=s.split(" ")[0];return i&&i.length>2?i+".edu":s.replace(/\s+/g,"")+".edu"}function ck(t,e=128){const n=FL(t);return n?`https://logo.clearbit.com/${n}?size=${e}`:null}async function yJ(t,e){if(!t)return null;try{const n=await e.get(`/university-branding/${encodeURIComponent(t)}`);if(n.data&&n.data.branding){const s=n.data.branding;return s.logoUrl||(s.logoUrl=ck(t)),s}}catch(n){console.error("Error fetching university branding:",n)}return{primary:"#2F64FF",secondary:"#FFA500",textColor:"#FFFFFF",name:t,logoUrl:ck(t),domain:FL(t)}}function bJ(t){const e=t.replace("#",""),n=parseInt(e.substr(0,2),16),s=parseInt(e.substr(2,2),16),i=parseInt(e.substr(4,2),16);return(.299*n+.587*s+.114*i)/255>.5?"#000000":"#FFFFFF"}const wJ=({isOpen:t,onClose:e,universityFilter:n,userInfo:s})=>{const[i,a]=f.useState([]),[o,l]=f.useState(!1),[c,u]=f.useState(""),[d,h]=f.useState(1),[p,m]=f.useState(null),[g,x]=f.useState(!1),[b,v]=f.useState({}),y=12;f.useEffect(()=>{t&&w()},[t,n,d]);const w=async()=>{l(!0);try{const j={limit:y,page:d,q:c};n==="my"&&(s!=null&&s.university)&&(j.school=s.university),console.log(" Loading all threads with params:",j);const C=await Ge.list(j);C&&C.items?(a(C.items),m(C.pagination)):a(Array.isArray(C)?C:[])}catch(j){console.error("Error loading all threads:",j),a([])}finally{l(!1)}},k=async j=>{j.preventDefault(),h(1),x(!0);try{const C={limit:y,page:1,q:c.trim()};n==="my"&&(s!=null&&s.university)&&(C.school=s.university);const L=await Ge.list(C);L&&L.items?(a(L.items),m(L.pagination)):a(Array.isArray(L)?L:[])}catch(C){console.error("Error searching threads:",C),a([])}finally{x(!1)}},N=j=>{j>=1&&j<=((p==null?void 0:p.totalPages)||1)&&h(j)},S=()=>{u(""),h(1),w()},M=async(j,C,L)=>{L.preventDefault(),L.stopPropagation();const O=`${j}_${C}`;if(!b[O]){v(F=>({...F,[O]:!0}));try{const F=await Ge.voteThread(j,C);a($=>$.map(I=>(I._id||I.id)===j?{...I,votes:F}:I))}catch(F){console.error("Error voting:",F)}finally{v(F=>({...F,[O]:!1}))}}};return t?r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:r.jsxs("div",{className:"relative w-full max-w-6xl max-h-[90vh] mx-4 bg-black/90 border border-white/10 rounded-2xl overflow-hidden",children:[r.jsxs("div",{className:"sticky top-0 z-10 bg-black/95 border-b border-white/10 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"All Community Questions"}),p&&r.jsxs("p",{className:"text-white/60 text-sm mt-1",children:[p.totalItems," questions  Page ",p.currentPage," of ",p.totalPages]})]}),r.jsx("button",{onClick:e,className:"p-2 rounded-full bg-white/5 hover:bg-white/10 transition-colors",children:r.jsx(zv,{className:"w-5 h-5 text-white/70"})})]}),r.jsx("form",{onSubmit:k,className:"relative",children:r.jsxs("div",{className:"relative",children:[r.jsx(ip,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-white/40"}),r.jsx("input",{type:"text",value:c,onChange:j=>u(j.target.value),placeholder:"Search all questions...",className:"w-full pl-10 pr-12 py-3 bg-white/5 border border-white/10 rounded-lg text-white placeholder:text-white/40 focus:outline-none focus:border-blue-500/50 focus:ring-2 focus:ring-blue-500/20"}),c&&r.jsx("button",{type:"button",onClick:S,className:"absolute right-3 top-1/2 transform -translate-y-1/2 p-1 rounded-full hover:bg-white/10 transition-colors",children:r.jsx(zv,{className:"w-3 h-3 text-white/60"})})]})})]}),r.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:o||g?r.jsxs("div",{className:"flex items-center justify-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),r.jsx("span",{className:"ml-3 text-white/60",children:g?"Searching...":"Loading questions..."})]}):i.length===0?r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-white/60",children:c?`No questions found for "${c}"`:"No questions available"})}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(j=>{var C;return r.jsxs(Ie,{to:`/community/thread/${j._id||j.id}`,onClick:e,className:"block p-4 bg-white/[0.02] border border-white/10 rounded-lg hover:bg-white/[0.04] hover:border-white/20 transition-all duration-200 group",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsx("div",{className:"flex-1 min-w-0",children:r.jsx("h3",{className:"font-semibold text-white text-sm line-clamp-2 group-hover:text-blue-400 transition-colors",children:j.title})}),j.solved&&r.jsx("div",{className:"ml-2 px-2 py-1 bg-green-500/20 text-green-400 text-xs rounded-full border border-green-500/30",children:"Solved"})]}),j.body&&r.jsx("p",{className:"text-white/60 text-xs mb-3 line-clamp-2",children:j.body}),r.jsx("div",{className:"flex items-center justify-between text-xs",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{onClick:L=>M(j._id||j.id,1,L),disabled:b[`${j._id||j.id}_1`],className:"p-1 rounded hover:bg-white/10 transition-colors group disabled:opacity-50",title:"Upvote",children:r.jsx("svg",{className:"w-3 h-3 text-white/60 group-hover:text-green-400 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})}),r.jsx("span",{className:"text-white/70 font-medium min-w-[1.5rem] text-center text-xs",children:j.votes||0}),r.jsx("button",{onClick:L=>M(j._id||j.id,-1,L),disabled:b[`${j._id||j.id}_-1`],className:"p-1 rounded hover:bg-white/10 transition-colors group disabled:opacity-50",title:"Downvote",children:r.jsx("svg",{className:"w-3 h-3 text-white/60 group-hover:text-red-400 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),r.jsxs("div",{className:"flex items-center gap-1 text-white/50",children:[r.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),r.jsx("span",{children:((C=j.answers)==null?void 0:C.length)||0})]}),j.school&&r.jsx("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-400 rounded-full border border-blue-500/30",children:j.school})]})}),r.jsxs("div",{className:"flex items-center justify-between mt-2 pt-2 border-t border-white/5",children:[r.jsx("span",{className:"text-white/40 text-xs",children:j.authorName||j.author||"@anonymous"}),r.jsx("span",{className:"text-white/40 text-xs",children:Ko(j.createdAt)})]}),j.tags&&j.tags.length>0&&r.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[j.tags.slice(0,3).map((L,O)=>r.jsx("span",{className:"px-2 py-1 bg-white/5 text-white/60 text-xs rounded-full border border-white/10",children:L},O)),j.tags.length>3&&r.jsxs("span",{className:"text-white/40 text-xs",children:["+",j.tags.length-3]})]})]},j._id||j.id)})})}),p&&p.totalPages>1&&r.jsx("div",{className:"sticky bottom-0 bg-black/95 border-t border-white/10 p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-white/60",children:["Showing ",(p.currentPage-1)*p.itemsPerPage+1," to"," ",Math.min(p.currentPage*p.itemsPerPage,p.totalItems)," of"," ",p.totalItems," questions"]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>N(p.currentPage-1),disabled:!p.hasPrevPage,className:"p-2 rounded-lg bg-white/5 hover:bg-white/10 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:r.jsx(cT,{className:"w-4 h-4 text-white/70"})}),r.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,p.totalPages)},(j,C)=>{let L;return p.totalPages<=5||p.currentPage<=3?L=C+1:p.currentPage>=p.totalPages-2?L=p.totalPages-4+C:L=p.currentPage-2+C,r.jsx("button",{onClick:()=>N(L),className:`px-3 py-1 rounded-lg text-sm transition-colors ${L===p.currentPage?"bg-blue-500 text-white":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:L},L)})}),r.jsx("button",{onClick:()=>N(p.currentPage+1),disabled:!p.hasNextPage,className:"p-2 rounded-lg bg-white/5 hover:bg-white/10 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:r.jsx(dT,{className:"w-4 h-4 text-white/70"})})]})]})})]})}):null};function dk({children:t}){return r.jsx("span",{className:"inline-flex items-center rounded-full border border-white/15 bg-white/[0.04] px-3 py-1 text-[11px] font-medium text-white/70",children:t})}function jJ({className:t="",children:e}){return r.jsx("div",{className:`nr-panel ${t}`,children:e})}function g0({children:t}){return r.jsx("div",{className:"nr-iconTile",children:r.jsx("div",{className:"nr-iconTile-inner",children:t})})}const gh={Cap:()=>r.jsxs("svg",{width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",children:[r.jsx("path",{d:"M3 9l9-4 9 4-9 4-9-4Z",stroke:"currentColor",strokeWidth:"1.6"}),r.jsx("path",{d:"M7 11v4c0 1.1 2.7 2 6 2s6-.9 6-2v-4",stroke:"currentColor",strokeWidth:"1.6"})]}),Clock:()=>r.jsxs("svg",{width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",children:[r.jsx("circle",{cx:"12",cy:"12",r:"9",stroke:"currentColor",strokeWidth:"1.6"}),r.jsx("path",{d:"M12 6v6l4 2",stroke:"currentColor",strokeWidth:"1.6"})]}),Shield:()=>r.jsxs("svg",{width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",children:[r.jsx("path",{d:"M12 3 4 6v6c0 4.5 3.4 7.3 8 9 4.6-1.7 8-4.5 8-9V6l-8-3Z",stroke:"currentColor",strokeWidth:"1.6"}),r.jsx("path",{d:"M9 12l2 2 4-4",stroke:"currentColor",strokeWidth:"1.6"})]}),ArrowRight:()=>r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:r.jsx("path",{d:"M5 12h14M13 5l7 7-7 7",stroke:"currentColor",strokeWidth:"2"})})};function NJ(){const[t,e]=f.useState(null),[n,s]=f.useState(""),i=pt(),a=f.useRef(null),[o,l]=f.useState(!1),[c,u]=f.useState({title:"",body:"",tags:"",school:""}),[d,h]=f.useState(!1);f.useEffect(()=>{(async()=>{var re,Ne;try{const be=await ge.get("/get-user");if((re=be==null?void 0:be.data)!=null&&re.user&&(e(be.data.user),be.data.user.university)){console.log("Fetching branding for:",be.data.user.university);const Re=await yJ(be.data.user.university,ge);console.log("Branding received:",Re),console.log("Logo URL:",Re==null?void 0:Re.logoUrl),Re?(L(Re),F(!1)):L({name:be.data.user.university,primary:"#2F64FF",secondary:"#FFA500",textColor:"#FFFFFF",logoUrl:null})}}catch(be){console.error("Error loading user or branding:",be),((Ne=be==null?void 0:be.response)==null?void 0:Ne.status)===401&&(localStorage.clear(),i("/login"))}})()},[i]);const p=["F-1 visa","I-20","Affordable housing","Dorm essentials","Buy/sell textbooks","Part-time jobs","Phone plans","Banking"],[m,g]=f.useState([]),[x,b]=f.useState(!1),[v,y]=f.useState(!1),[w,k]=f.useState(!1),[N,S]=f.useState(""),[M,j]=f.useState("my"),[C,L]=f.useState(null),[O,F]=f.useState(!1),[$,I]=f.useState(1),[_,P]=f.useState(null),[E,T]=f.useState(!1),[D,R]=f.useState({}),[z,q]=f.useState({}),[H,U]=f.useState(()=>new Set),[B,V]=f.useState({}),[G,Q]=f.useState(!1),[se,te]=f.useState([]),[K,J]=f.useState(!1),fe=f.useRef(null),[le,ce]=f.useState(""),[ne,ie]=f.useState(!1),[de,ee]=f.useState("idle"),[ye,xe]=f.useState({topic:"",urgency:"medium",details:""}),[Ce,X]=f.useState([]),[A,Y]=f.useState([]),Z=6,ae=re=>String((re==null?void 0:re._id)||(re==null?void 0:re.id)),ue=({page:re,limit:Ne,total:be,itemsLen:Re,raw:Ve})=>{if((Ve==null?void 0:Ve.totalPages)!=null)return{currentPage:Ve.currentPage??re,totalPages:Ve.totalPages,hasPrevPage:Ve.hasPrevPage??re>1,hasNextPage:Ve.hasNextPage??(Ve.currentPage??re)<Ve.totalPages};const Fe=be?Math.max(1,Math.ceil(be/Ne)):Math.max(1,Math.ceil((Re||0)/Ne));return{currentPage:re,totalPages:Fe,hasPrevPage:re>1,hasNextPage:(Re||0)>=Ne&&re<Fe}};m.filter(re=>H.has(ae(re))).length;const he=()=>{var re;return(re=a.current)==null?void 0:re.scrollIntoView({behavior:"smooth"})},je=re=>{if(!_)return;const Ne=Math.min(Math.max(1,re),_.totalPages);Ne!==$&&bt(Ne)},Ee=(re,Ne)=>{const be=re.toLowerCase(),Re=Ne.toLowerCase(),Ve={housing:["housing","apartment","rent","dorm","off-campus"],visa:["visa","immigration","f1","h1b","opt","cpt"],budget:["budget","money","finance","expenses","savings"],academic:["academic","courses","gpa","study","grades"],job:["job","career","internship","employment","interview"],social:["social","friends","activities","events","community"],health:["health","insurance","medical","wellness","mental-health"],transportation:["transportation","car","bus","uber","commute"]};let Fe=[];for(const[ft,$s]of Object.entries(Ve))(be.includes(ft)||Re.includes(ft))&&(Fe=[...Fe,...$s]);return(Re.includes("help")||Re.includes("advice"))&&Fe.push("help","advice"),(Re.includes("experience")||Re.includes("story"))&&Fe.push("experience","story"),(Re.includes("urgent")||Re.includes("asap"))&&Fe.push("urgent"),[...new Set(Fe)].slice(0,5)},Oe=async()=>{if(!ye.topic.trim()){alert("Please enter a topic or question to get AI help!");return}ie(!0),ee("generating");try{await new Promise(Re=>setTimeout(Re,2e3));const re=[`I'm looking for advice on ${ye.topic}. Can anyone share their experience or recommendations?`,`Quick question about ${ye.topic} - what worked best for you?`,`Need help with ${ye.topic}. Any tips or resources you'd recommend?`,`Has anyone dealt with ${ye.topic}? Looking for guidance on the best approach.`],Ne=re[Math.floor(Math.random()*re.length)];ce(Ne);const be=Ee(ye.topic,Ne);X(be),Y(be),ee("review")}catch(re){console.error("AI generation error:",re),ee("idle")}finally{ie(!1)}},qe=()=>{u(re=>({...re,title:le})),ee("ready")},rt=()=>{Oe()},ot=()=>{u(re=>({...re,title:le})),Zt()},lt=()=>{ee("idle"),ce(""),xe({topic:"",urgency:"medium",details:""}),X([]),Y([])},et=re=>{A.includes(re)||Y(Ne=>[...Ne,re])},Ot=re=>{Y(Ne=>Ne.filter(be=>be!==re))},xt=re=>{const Ne=re.trim().toLowerCase();Ne&&!A.includes(Ne)&&Y(be=>[...be,Ne])},mn=async re=>{re.preventDefault();const Ne=n.trim();k(!0);try{const be={};if(M==="my"&&(t!=null&&t.university)&&(be.school=t.university),!Ne){await bt(1),S(""),I(1),P(Ve=>Ve&&{...Ve,currentPage:1});return}be.q=Ne,be.limit=Z,be.page=1;const Re=await Ge.list(be);console.log("Search results for:",Ne,Re),Re&&Re.items?(g(Re.items),P(Re.pagination),I(1)):(g(Array.isArray(Re)?Re:[]),P(null)),S(Ne)}catch(be){console.error("Search error:",be),g([])}finally{k(!1)}},_n=async()=>{s(""),S(""),k(!0);try{const re={};M==="my"&&(t!=null&&t.university)&&(re.school=t.university);const Ne=await Ge.list(re);g(Array.isArray(Ne)?Ne:[]),I(1),P(be=>be&&{...be,currentPage:1}),b(!1)}catch(re){console.error("Error clearing search:",re)}finally{k(!1)}};f.useEffect(()=>{bt()},[]),f.useEffect(()=>{I(1),P(null),bt(1)},[M]),f.useEffect(()=>{const re=(t==null?void 0:t._id)||(t==null?void 0:t.userId);re&&(async()=>{var Ne;try{console.log(" Loading bookmarks for user:",re);const be=await Ge.getBookmarks();console.log(" Raw bookmark response:",be);const Ve=(Array.isArray(be==null?void 0:be.bookmarks)?be.bookmarks:Array.isArray(be)?be:[]).map(Fe=>{var ft;return typeof Fe=="string"?Fe:Fe.threadId?String(Fe.threadId):(ft=Fe.thread)!=null&&ft._id?String(Fe.thread._id):Fe.thread?String(Fe.thread):null}).filter(Boolean);console.log(" Loaded bookmark IDs:",Ve),console.log(" Setting bookmarkedIds to:",new Set(Ve)),U(new Set(Ve.map(String)))}catch(be){console.error(" Load bookmarks failed:",((Ne=be==null?void 0:be.response)==null?void 0:Ne.data)||be.message),U(new Set)}})()},[t==null?void 0:t._id,t==null?void 0:t.userId]);const bt=async(re=1)=>{k(!0);try{const Ne={limit:Z,page:re};M==="my"&&(t!=null&&t.university)&&(Ne.school=t.university),console.log(" Loading threads with params:",Ne);const be=await Ge.list(Ne);if(be&&be.items)console.log(" Loaded threads:",be.items.length,"Pagination:",be.pagination),g(be.items),P(ue({page:re,limit:Ne.limit,total:be.total??be.count,itemsLen:be.items.length,raw:be.pagination})),I(re),t!=null&&t.userId&&Me(be.items);else{const Re=Array.isArray(be)?be:[],Ve=(re-1)*Z,Fe=Re.slice(Ve,Ve+Z);console.log(" Loaded threads (fallback):",Re.length,"page:",re,"start:",Ve,"slice:",Fe.length),g(Fe),P(ue({page:re,limit:Z,total:Re.length,itemsLen:Fe.length})),I(re),t!=null&&t.userId&&Me(Fe)}}catch(Ne){console.error("Error loading threads:",Ne),g([]),P(null)}finally{k(!1)}},Zt=()=>{l(!0),u({title:le||"",body:"",tags:A.join(", "),school:(t==null?void 0:t.university)||""})},ts=async re=>{if(re.preventDefault(),!c.title.trim()||c.title.trim().length<6){alert("Title must be at least 6 characters");return}h(!0);try{const Ne=A.length>0?A:c.tags.split(",").map(Re=>Re.trim().toLowerCase()).filter(Boolean),be=await Ge.addThread({title:c.title.trim(),body:c.body.trim(),tags:Ne,school:c.school.trim()||(t==null?void 0:t.university)||"Unknown",author:(t==null?void 0:t.username)||"@anonymous"});l(!1),await bt(),(be!=null&&be._id||be!=null&&be.id)&&i(`/community/thread/${be._id||be.id}`)}catch(Ne){console.error("Error posting question:",Ne),alert("Failed to post question. Please try again.")}finally{h(!1)}},ln=async re=>{s(re),k(!0),S(re);try{const Ne={q:re};M==="my"&&(t!=null&&t.university)&&(Ne.school=t.university);const be=await Ge.list(Ne);console.log("Tag filter results for:",re,be),g(Array.isArray(be)?be:[]),b(!0),setTimeout(()=>{const Re=document.querySelector(".grid.gap-5");if(Re){const Ve=Re.getBoundingClientRect().top+window.pageYOffset-100;window.scrollTo({top:Ve,behavior:"smooth"})}},100)}catch(Ne){console.error("Tag filter error:",Ne),g([])}finally{k(!1)}},[Ds,W]=f.useState(""),[ve,oe]=f.useState(""),Me=async re=>{try{const Ne=re.map(async Ve=>{const Fe=Ve._id||Ve.id,ft=await Ge.checkVoteStatus(Fe);return{threadId:Fe,userVote:ft.userVote}}),be=await Promise.all(Ne),Re={};be.forEach(({threadId:Ve,userVote:Fe})=>{Fe&&(Re[Ve]=Fe)}),q(Ve=>({...Ve,...Re}))}catch(Ne){console.error("Load vote statuses error:",Ne)}},Pe=async(re,Ne,be)=>{var Fe;be.preventDefault(),be.stopPropagation();const Re=`${re}_${Ne}`;if(D[Re])return;if(z[re]===Ne){alert("You have already voted on this question!");return}R(ft=>({...ft,[Re]:!0}));try{const ft=await Ge.voteThread(re,Ne);q($s=>({...$s,[re]:Ne})),g($s=>$s.map(ir=>(ir._id||ir.id)===re?{...ir,upvotes:ft.upvotes||0,downvotes:ft.downvotes||0,votes:ft.votes||0}:ir))}catch(ft){console.error("Error voting:",ft),((Fe=ft.response)==null?void 0:Fe.status)===400&&alert(ft.response.data.message||"You have already voted on this question!")}finally{R(ft=>({...ft,[Re]:!1}))}},nn=async(re,Ne)=>{var Ve,Fe,ft,$s,ir;(Ve=Ne==null?void 0:Ne.preventDefault)==null||Ve.call(Ne),(Fe=Ne==null?void 0:Ne.stopPropagation)==null||Fe.call(Ne);const be=String(re);if(!be||be==="undefined"||be==="null"){console.error(" Invalid threadId:",be),alert("Invalid thread ID. Please refresh the page and try again.");return}if(B[be])return;V(gs=>({...gs,[be]:!0}));const Re=H.has(be);U(gs=>{const na=new Set(gs);return Re?na.delete(be):na.add(be),na});try{Re?(await Ge.removeBookmark(be),console.log(" Bookmark removed successfully")):(await Ge.bookmarkThread(be),console.log(" Bookmark added successfully"))}catch(gs){const na=(ft=gs==null?void 0:gs.response)==null?void 0:ft.status,Rm=((ir=($s=gs==null?void 0:gs.response)==null?void 0:$s.data)==null?void 0:ir.message)||"";Re&&(na===404||/not\s*bookmarked/i.test(Rm))||!Re&&(na===409||/already\s*bookmarked/i.test(Rm))?console.log(" Idempotent success - server already in desired state"):(U(YA=>{const Dm=new Set(YA);return Re?Dm.add(be):Dm.delete(be),Dm}),console.error(" Bookmark toggle failed:",na,Rm),alert("Failed to update bookmark. Please try again."))}finally{V(gs=>({...gs,[be]:!1}))}G&&await Mn()},Mn=async()=>{J(!0);try{const re=await Ge.getBookmarks(),Ne=Array.isArray(re==null?void 0:re.bookmarks)?re.bookmarks:[];if(Ne.length===0){te([]);return}const be=Ne.map(async Fe=>{var $s;const ft=typeof Fe=="string"?Fe:Fe.threadId||(($s=Fe.thread)==null?void 0:$s._id);if(!ft)return null;try{return await Ge.get(ft)}catch(ir){return console.error(`Failed to fetch question ${ft}:`,ir),null}}),Ve=(await Promise.all(be)).filter(Fe=>Fe!==null);te(Ve)}catch(re){console.error("Error fetching bookmarked questions:",re),te([])}finally{J(!1)}},zn=async()=>{G||await Mn(),Q(!G)};return r.jsxs("div",{className:"nr-dots-page min-h-screen text-white",children:[r.jsx("style",{children:`
          .particle {
            position: absolute;
            border-radius: 50%;
            pointer-events: none;
            z-index: 100;
          }
          
          .particle::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: rgba(132, 0, 255, 0.2);
            border-radius: 50%;
            z-index: -1;
          }
        `}),r.jsx(ht,{userInfo:t}),r.jsx("section",{className:"nr-hero-bg",children:r.jsxs("div",{className:"mx-auto max-w-6xl px-4 pt-16 md:pt-20 pb-10",children:[(t==null?void 0:t.university)&&C&&r.jsx("div",{className:"mb-6 flex justify-center",children:r.jsxs("div",{className:"inline-flex items-center rounded-full border border-white/15 bg-white/[0.04] p-1 backdrop-blur-sm",children:[r.jsxs("button",{onClick:()=>j("my"),className:`rounded-full px-4 py-2 text-sm font-bold transition-all flex items-center gap-2.5 ${M==="my"?"shadow-lg":"text-white/70 hover:text-white hover:bg-white/5"}`,style:M==="my"?{backgroundColor:C.primary||"#2F64FF",color:C.textColor||bJ(C.primary||"#2F64FF")}:{},children:[C!=null&&C.logoUrl&&!O?r.jsx(r.Fragment,{children:r.jsx("img",{src:C.logoUrl,alt:C.name,className:"w-7 h-7 rounded-full object-cover border-2 border-white/30 shadow-md bg-white -ml-1",style:{display:"block"},crossOrigin:"anonymous",onError:re=>{console.error(" Logo failed to load:",C.logoUrl),console.error("Error event:",re),F(!0)},onLoad:re=>{console.log(" Logo loaded successfully:",C.logoUrl),console.log("Image dimensions:",re.target.naturalWidth,"x",re.target.naturalHeight)}})}):r.jsx("div",{className:"w-7 h-7 rounded-full bg-white/10 border-2 border-white/30 flex items-center justify-center text-[10px] font-bold -ml-1",children:((C==null?void 0:C.name)||(t==null?void 0:t.university)||"U").charAt(0).toUpperCase()}),r.jsx("span",{className:"whitespace-nowrap",children:(C==null?void 0:C.name)||(t==null?void 0:t.university)||"My University"})]}),r.jsx("button",{onClick:()=>j("all"),className:`rounded-full px-4 py-2 text-sm font-bold transition-all ${M==="all"?"bg-gradient-to-r from-amber-500 to-orange-600 text-black shadow-lg":"text-white/70 hover:text-white hover:bg-white/5"}`,children:"All Universities"})]})}),r.jsxs("div",{className:"mb-5 flex items-center justify-center gap-2 text-[11px]",children:[r.jsx("span",{className:"rounded-full border border-white/10 bg-white/5 px-2 py-1 text-white/70",children:"Student Q&A"}),r.jsx("span",{className:"rounded-full border border-white/10 bg-white/5 px-2 py-1 text-white/70",children:"Verified .edu accounts"}),M==="my"&&(t==null?void 0:t.university)&&C&&r.jsxs("span",{className:"rounded-full border px-2.5 py-1 font-semibold text-xs flex items-center gap-1.5",style:{borderColor:`${C.primary}80`,backgroundColor:`${C.primary}15`,color:C.textColor||"#fff"},children:[(C==null?void 0:C.logoUrl)&&!O&&r.jsx("img",{src:C.logoUrl,alt:"",className:"w-3.5 h-3.5 rounded-full object-cover bg-white",onError:re=>re.target.style.display="none"}),"Filtered: ",C.name]})]}),r.jsxs("h1",{className:"mx-auto max-w-5xl text-center text-4xl font-black tracking-tight md:text-6xl",children:["Youve got questions?"," ",r.jsx("span",{className:"bg-gradient-to-r from-amber-400 via-amber-300 to-orange-500 bg-clip-text text-transparent",children:"Your campus has answers."})]}),r.jsx("form",{onSubmit:mn,className:"mx-auto mt-8 w-full max-w-3xl",children:r.jsx("div",{className:"rounded-2xl border border-white/10 bg-white/5/50 p-3 backdrop-blur-md",children:r.jsxs("div",{className:"flex items-center gap-3 rounded-xl border border-white/10 bg-[#101215] px-3 py-2.5",children:[r.jsx("span",{className:"text-white/50",children:""}),r.jsx("input",{value:n,onChange:re=>s(re.target.value),placeholder:'Try: "I-20", "cheap desk", "sublet near campus"',className:"flex-1 bg-transparent text-sm text-white/80 placeholder:text-white/40 focus:outline-none"}),n&&r.jsx("button",{type:"button",onClick:_n,className:"text-white/50 hover:text-white/80 text-lg leading-none",title:"Clear search",children:""}),r.jsx("button",{type:"submit",disabled:w,className:"rounded-full bg-white/10 px-3 py-1.5 text-xs text-white/90 hover:bg-white/15 disabled:opacity-50",children:w?"Searching...":"Search"})]})})}),r.jsxs("div",{className:"mx-auto mt-6 flex max-w-3xl flex-col items-center justify-center gap-4 sm:flex-row",children:[r.jsxs("button",{onClick:he,className:"inline-flex items-center gap-2 rounded-full bg-orange-500 px-5 py-2.5 text-sm font-semibold text-black shadow-[0_8px_24px_rgba(255,153,0,.25)] hover:bg-orange-400",children:["Ask a question ",r.jsx(gh.ArrowRight,{})]}),r.jsx("a",{href:"#guides",className:"inline-flex items-center gap-2 rounded-full border border-white/20 bg-white/5 px-5 py-2.5 text-sm text-white/85 hover:bg-white/10",children:"Browse guides"})]}),r.jsx("div",{className:"mx-auto mt-7 max-w-3xl",children:r.jsx("div",{className:"nr-marquee",style:{"--nr-gap":"10px","--nr-marquee-dur":"26s"},children:r.jsxs("div",{className:"nr-marquee-track",children:[p.map((re,Ne)=>r.jsxs("span",{className:"nr-chip cursor-pointer hover:bg-white/15",onClick:()=>ln(re),children:["#",re]},`t1-${Ne}`)),p.map((re,Ne)=>r.jsxs("span",{className:"nr-chip cursor-pointer hover:bg-white/15","aria-hidden":!0,onClick:()=>ln(re),children:["#",re]},`t2-${Ne}`))]})})})]})}),r.jsxs("section",{ref:a,className:"mx-auto max-w-7xl px-4 pt-6 pb-12",children:[r.jsxs("div",{className:"mb-6 text-center",children:[r.jsx(dk,{children:"WHY NEWRUN COMMUNITY"}),r.jsx("h2",{className:"mt-3 text-3xl font-black tracking-tight sm:text-[40px]",children:"The fastest way to get real answers from classmates."})]}),r.jsxs("div",{className:"grid gap-5 lg:grid-cols-12",ref:fe,children:[r.jsxs(ph,{className:"nr-panel relative overflow-hidden lg:col-span-7",glowColor:"47, 100, 255",particleCount:12,enableTilt:!1,enableMagnetism:!1,clickEffect:!0,disableAnimations:!1,children:[r.jsx("div",{className:"mb-4",children:r.jsx("span",{className:"rounded-full border border-white/15 bg-white/[0.03] px-3 py-1 text-[11px] text-white/70",children:"Get help fast"})}),r.jsx("h3",{className:"max-w-xl text-[28px] font-extrabold leading-tight sm:text-[32px] bg-gradient-to-r from-white via-white to-white/90 bg-clip-text text-transparent",children:"Ask the community  and get a trustworthy answer."}),r.jsxs("p",{className:"mt-3 max-w-xl text-white/80 leading-relaxed",children:["Post your question with tags (e.g. ",r.jsx("span",{className:"text-blue-400 font-medium",children:"#visa"}),", ",r.jsx("span",{className:"text-green-400 font-medium",children:"#housing"}),", ",r.jsx("span",{className:"text-purple-400 font-medium",children:"#dorm"}),"). Verified students respond quickly, and the accepted answer is pinned on top."]}),r.jsxs("div",{className:"mt-6 group",children:[r.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/[0.04] p-2 transition-all duration-300 group-hover:border-white/20 group-hover:bg-white/[0.06]",children:[de==="idle"&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-3 rounded-lg bg-[#0f1115]/80 px-4 py-3 ring-1 ring-white/10",children:[r.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-gradient-to-r from-blue-500/20 to-purple-500/20 border border-blue-500/30",children:r.jsx("svg",{className:"w-3 h-3 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),r.jsx("input",{value:ye.topic,onChange:re=>xe(Ne=>({...Ne,topic:re.target.value})),placeholder:"What do you need help with? (e.g., housing, visa, budget)",className:"flex-1 bg-transparent text-sm text-white/70 placeholder:text-white/50 outline-none transition-colors duration-300 focus:text-white/90"}),r.jsxs("button",{onClick:Oe,disabled:!ye.topic.trim(),className:"flex items-center gap-1.5 rounded-full bg-gradient-to-r from-purple-500/20 to-blue-500/20 border border-purple-500/30 px-3 py-1.5 text-xs font-medium text-purple-300 hover:from-purple-500/30 hover:to-blue-500/30 hover:text-purple-200 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Draft with AI"]})]}),r.jsx("div",{className:"flex gap-2",children:r.jsx("button",{onClick:Zt,className:"rounded-full bg-gradient-to-r from-amber-500 to-orange-600 px-4 py-1.5 text-xs font-semibold text-black hover:from-amber-400 hover:to-orange-500 transition-all duration-300 shadow-lg hover:shadow-amber-500/25",children:"Ask Manually"})})]}),de==="generating"&&r.jsxs("div",{className:"flex items-center gap-3 rounded-lg bg-[#0f1115]/80 px-4 py-3 ring-1 ring-white/10",children:[r.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-gradient-to-r from-purple-500/20 to-blue-500/20 border border-purple-500/30",children:r.jsx("div",{className:"w-3 h-3 border border-purple-400 border-t-transparent rounded-full animate-spin"})}),r.jsx("span",{className:"text-sm text-white/70",children:"AI is crafting your question..."})]}),de==="review"&&r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"rounded-lg bg-[#0f1115]/80 px-4 py-3 ring-1 ring-white/10",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-gradient-to-r from-green-500/20 to-emerald-500/20 border border-green-500/30 mt-0.5",children:r.jsx("svg",{className:"w-3 h-3 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-xs text-white/60 mb-1",children:"AI Generated Question:"}),r.jsx("p",{className:"text-sm text-white/90",children:le})]})]})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:qe,className:"flex items-center gap-1.5 rounded-full bg-gradient-to-r from-green-500 to-emerald-600 px-4 py-1.5 text-xs font-semibold text-white hover:from-green-400 hover:to-emerald-500 transition-all duration-300 shadow-lg hover:shadow-green-500/25",children:[r.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Use This"]}),r.jsxs("button",{onClick:rt,className:"flex items-center gap-1.5 rounded-full bg-gradient-to-r from-purple-500/20 to-blue-500/20 border border-purple-500/30 px-3 py-1.5 text-xs font-medium text-purple-300 hover:from-purple-500/30 hover:to-blue-500/30 hover:text-purple-200 transition-all duration-300",children:[r.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Regenerate"]}),r.jsx("button",{onClick:ot,className:"rounded-full bg-gradient-to-r from-amber-500 to-orange-600 px-4 py-1.5 text-xs font-semibold text-black hover:from-amber-400 hover:to-orange-500 transition-all duration-300 shadow-lg hover:shadow-amber-500/25",children:"Ask Now"})]})]}),de==="ready"&&r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"rounded-lg bg-[#0f1115]/80 px-4 py-3 ring-1 ring-green-500/30",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-gradient-to-r from-green-500/20 to-emerald-500/20 border border-green-500/30",children:r.jsx("svg",{className:"w-3 h-3 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),r.jsx("span",{className:"text-sm text-white/90",children:'Question ready! Click "Ask Now" to post.'})]})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>{u(re=>({...re,title:le})),Zt()},className:"rounded-full bg-gradient-to-r from-amber-500 to-orange-600 px-4 py-1.5 text-xs font-semibold text-black hover:from-amber-400 hover:to-orange-500 transition-all duration-300 shadow-lg hover:shadow-amber-500/25",children:"Ask Now"}),r.jsx("button",{onClick:lt,className:"rounded-full bg-white/10 border border-white/20 px-4 py-1.5 text-xs font-medium text-white/70 hover:bg-white/20 hover:text-white/90 transition-all duration-300",children:"Start Over"})]})]})]}),r.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:[" Housing tips"," Visa help"," Budget advice"," Academic support"].map((re,Ne)=>r.jsx("button",{onClick:()=>{const be=re.split(" ")[1].toLowerCase();s(be),ln(be)},className:"text-xs px-3 py-1.5 rounded-full bg-white/[0.04] border border-white/10 text-white/60 hover:text-white/90 hover:bg-white/[0.08] hover:border-white/20 transition-all duration-300",children:re},Ne))})]}),r.jsx("div",{className:"nr-ramp","aria-hidden":!0})]}),r.jsxs("div",{className:"flex flex-col gap-5 lg:col-span-5",children:[r.jsxs(ph,{className:"nr-panel flex items-start gap-4 p-5 sm:p-6",glowColor:"47, 100, 255",particleCount:12,enableTilt:!1,enableMagnetism:!1,clickEffect:!0,disableAnimations:!1,children:[r.jsx(g0,{children:r.jsx(gh.Cap,{})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-[12px] font-semibold tracking-wide text-white/60",children:"VERIFIED STUDENTS"}),r.jsx("h4",{className:"mt-1 text-[18px] font-semibold",children:"Sign in with .edu"}),r.jsx("p",{className:"mt-1 text-white/75",children:"Buyers and sellers know they're dealing with real classmates."})]})]}),r.jsxs(ph,{className:"nr-panel flex items-start gap-4 p-5 sm:p-6",glowColor:"47, 100, 255",particleCount:12,enableTilt:!1,enableMagnetism:!1,clickEffect:!0,disableAnimations:!1,children:[r.jsx(g0,{children:r.jsx(gh.Clock,{})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-[12px] font-semibold tracking-wide text-white/60",children:"FAST ANSWERS"}),r.jsx("h4",{className:"mt-1 text-[18px] font-semibold",children:"Most questions solved in a day"}),r.jsx("p",{className:"mt-1 text-white/75",children:"Accepted answers float to the top so you can act quickly."})]})]}),r.jsxs(ph,{className:"nr-panel flex items-start gap-4 p-5 sm:p-6",glowColor:"47, 100, 255",particleCount:12,enableTilt:!1,enableMagnetism:!1,clickEffect:!0,disableAnimations:!1,children:[r.jsx(g0,{children:r.jsx(gh.Shield,{})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-[12px] font-semibold tracking-wide text-white/60",children:"SAFE & PRIVATE"}),r.jsx("h4",{className:"mt-1 text-[18px] font-semibold",children:"Share only what's needed"}),r.jsx("p",{className:"mt-1 text-white/75",children:"Post anonymously if you prefer; moderators keep things clean."})]})]})]})]}),r.jsx(vZ,{gridRef:fe,disableAnimations:!1,enabled:!0,spotlightRadius:300,glowColor:"47, 100, 255"})]}),r.jsxs("section",{className:"mx-auto max-w-7xl px-4 pb-12",children:[r.jsxs("div",{className:"mb-4 flex items-end justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl font-bold tracking-tight",children:G?r.jsx(r.Fragment,{children:r.jsx("span",{className:"text-amber-400",children:"My Bookmarks"})}):N?r.jsxs(r.Fragment,{children:["Search results for ",r.jsxs("span",{className:"text-amber-400",children:['"',N,'"']})]}):"Latest questions"}),r.jsx("p",{className:"text-white/60",children:G?r.jsxs(r.Fragment,{children:[se.length," ",se.length===1?"bookmark":"bookmarks"," saved"]}):N?r.jsxs(r.Fragment,{children:[m.length," ",m.length===1?"result":"results"," found",r.jsx("button",{onClick:_n,className:"ml-2 text-amber-400 hover:text-amber-300 underline",children:"Clear search"})]}):"Fresh threads from your campus and nearby schools."})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("button",{onClick:zn,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-200 ${G?"bg-amber-500/20 text-amber-400 border border-amber-500/30":"bg-white/5 text-white/70 hover:bg-white/10 hover:text-white border border-white/10"}`,children:[r.jsx("svg",{className:"w-4 h-4",fill:G?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})}),G?"All Questions":"My Bookmarks"]}),_&&_.totalPages>1&&!G&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>je($-1),disabled:!_.hasPrevPage||w,className:"p-2 rounded-lg bg-white/5 hover:bg-white/10 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:r.jsx("svg",{className:"w-4 h-4 text-white/70",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),r.jsxs("span",{className:"text-sm text-white/60",children:["Page ",_.currentPage," of ",_.totalPages]}),r.jsx("button",{onClick:()=>je($+1),disabled:!_.hasNextPage||w,className:"p-2 rounded-lg bg-white/5 hover:bg-white/10 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:r.jsx("svg",{className:"w-4 h-4 text-white/70",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),r.jsx("button",{onClick:()=>T(!0),className:"rounded-xl border border-white/15 bg-white/[0.04] px-4 py-2 text-sm text-white/85 hover:bg-white/10 transition-colors",children:"View All Questions"})]})]}),w?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-white/20 border-t-amber-400"}),r.jsx("p",{className:"mt-3 text-white/60",children:"Searching..."})]})}):(G?se.length===0:m.length===0)?r.jsx("div",{className:"nr-panel text-center py-12",children:r.jsx("p",{className:"text-white/60",children:N?r.jsxs(r.Fragment,{children:["No questions found matching ",r.jsxs("span",{className:"text-amber-400",children:['"',N,'"']}),r.jsx("br",{}),r.jsx("button",{onClick:_n,className:"mt-3 text-amber-400 hover:text-amber-300 underline",children:"Clear search and show all questions"})]}):"No questions yet. Be the first to ask!"})}):K?r.jsx("div",{className:"nr-panel text-center py-12",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-white/20 border-t-amber-400"}),r.jsx("p",{className:"mt-3 text-white/60",children:"Loading your bookmarks..."})]})}):r.jsx("div",{className:"grid gap-5 sm:grid-cols-2 lg:grid-cols-3",children:(G?se:m).map(re=>{var Ve;const Ne=ae(re),be=H.has(Ne),Re=!!B[Ne];return r.jsxs("div",{className:"relative",children:[r.jsx("button",{onClick:Fe=>nn(Ne,Fe),disabled:Re,className:`absolute top-3 right-3 p-2 rounded-lg transition-all duration-200 disabled:opacity-50 z-10 ${be?"bg-transparent text-red-500":"bg-transparent text-red-500 hover:bg-red-500/5"}`,title:be?"Remove bookmark":"Bookmark question",children:r.jsx($L,{active:be,className:`w-6 h-6 ${Re?"opacity-60":""}`})}),r.jsxs("a",{href:`/community/thread/${re._id||re.id}`,className:"nr-panel hover:bg-white/[0.08] transition block",children:[r.jsxs("div",{className:"pr-12",children:[r.jsxs("div",{className:"mb-2 flex items-center gap-2 text-[12px]",children:[r.jsx("span",{className:`rounded-full px-2 py-0.5 ${re.solved?"bg-emerald-500/15 text-emerald-300":"bg-white/10 text-white/75"}`,children:re.solved?"Solved":"Open"}),r.jsx("span",{className:"text-white/50",children:""}),r.jsx("span",{className:"text-white/70",children:re.school})]}),r.jsx("h4",{className:"text-[17px] font-semibold leading-snug",children:re.title}),r.jsxs("p",{className:"mt-1 text-sm text-white/60",children:["Asked by ",re.authorName||re.author,r.jsx("span",{className:"mx-1.5",children:""}),Ko(re.createdAt||re.updatedAt)]})]}),r.jsx("div",{className:"mt-4 flex items-center justify-between text-[12px]",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{onClick:Fe=>Pe(re._id||re.id,"upvote",Fe),disabled:D[`${re._id||re.id}_upvote`]||z[re._id||re.id]==="downvote",className:`p-1 rounded transition-colors group disabled:opacity-50 ${z[re._id||re.id]==="upvote"?"bg-green-500/20 text-green-400":"hover:bg-white/10"}`,title:z[re._id||re.id]==="upvote"?"You upvoted this":"Upvote",children:r.jsx("svg",{className:`w-4 h-4 transition-colors ${z[re._id||re.id]==="upvote"?"text-green-400":"text-white/60 group-hover:text-green-400"}`,fill:z[re._id||re.id]==="upvote"?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})}),r.jsx("span",{className:"text-green-400 font-medium text-xs min-w-[1.5rem] text-center",children:re.upvotes||0})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{onClick:Fe=>Pe(re._id||re.id,"downvote",Fe),disabled:D[`${re._id||re.id}_downvote`]||z[re._id||re.id]==="upvote",className:`p-1 rounded transition-colors group disabled:opacity-50 ${z[re._id||re.id]==="downvote"?"bg-red-500/20 text-red-400":"hover:bg-white/10"}`,title:z[re._id||re.id]==="downvote"?"You downvoted this":"Downvote",children:r.jsx("svg",{className:`w-4 h-4 transition-colors ${z[re._id||re.id]==="downvote"?"text-red-400":"text-white/60 group-hover:text-red-400"}`,fill:z[re._id||re.id]==="downvote"?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}),r.jsx("span",{className:"text-red-400 font-medium text-xs min-w-[1.5rem] text-center",children:re.downvotes||0})]})]}),r.jsxs("div",{className:"flex items-center gap-1 text-white/60",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),r.jsxs("span",{children:[((Ve=re.answers)==null?void 0:Ve.length)||0," answers"]})]})]})})]})]},Ne)})})]}),r.jsx("section",{id:"guides",className:"mx-auto max-w-7xl px-4 pb-16",children:r.jsxs("div",{className:"grid gap-5 lg:grid-cols-12",children:[r.jsxs(jJ,{className:"lg:col-span-7",children:[r.jsx("div",{className:"mb-3",children:r.jsx(dk,{children:"PLAYBOOKS"})}),r.jsx("h3",{className:"text-xl font-semibold",children:"Quick guides to save time & money"}),r.jsxs("ul",{className:"mt-3 grid gap-2 text-white/80 sm:grid-cols-2",children:[r.jsx("li",{className:"rounded-lg border border-white/10 bg-white/[0.04] px-3 py-2",children:r.jsx("a",{href:"/marketplace?category=furniture&maxPrice=300",className:"block",children:"Furnish a room under $300  opens Marketplace: Furniture"})}),r.jsx("li",{className:"rounded-lg border border-white/10 bg-white/[0.04] px-3 py-2",children:r.jsx("a",{href:"/marketplace?category=dorm-essentials",className:"block",children:"Move-in day toolkit  links to Dorm essentials"})}),r.jsx("li",{className:"rounded-lg border border-white/10 bg-white/[0.04] px-3 py-2",children:r.jsx("a",{href:"/marketplace/sell",className:"block",children:"Sell everything in 48h  prefilled sell flow"})}),r.jsx("li",{onClick:()=>{s("visa I-20"),ln("visa")},className:"rounded-lg border border-white/10 bg-white/[0.04] px-3 py-2 cursor-pointer",children:"Visa docs checklist (I-20 / F-1)  community thread template"})]})]}),r.jsx("div",{className:"lg:col-span-5",children:r.jsx(xJ,{university:(C==null?void 0:C.name)||"Northern Illinois University",playbooks:[{id:"movein",title:"Move-in week checklist",description:"Complete your setup in 3 days with our proven step-by-step guide",successRate:89,icon:yV,href:"/playbooks/move-in"},{id:"visa",title:"Visa timeline tracker",description:"Never miss a deadline with automated reminders and document checklists",successRate:94,icon:cV,href:"/playbooks/visa-timeline"}],onViewAll:()=>i("/playbooks")})})]})}),r.jsx(Oa,{}),o&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:r.jsxs("div",{className:"nr-panel max-w-2xl w-full max-h-[90vh] overflow-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-5",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Ask the Community"}),r.jsx("button",{onClick:()=>l(!1),className:"text-white/60 hover:text-white text-2xl leading-none",children:""})]}),r.jsxs("form",{onSubmit:ts,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-white/80 mb-2",children:["Question Title ",r.jsx("span",{className:"text-red-400",children:"*"})]}),r.jsx("input",{type:"text",value:c.title,onChange:re=>u({...c,title:re.target.value}),placeholder:"e.g., How do I apply for an I-20 at NIU?",required:!0,minLength:6,className:"w-full rounded-xl border border-white/10 bg-white/[0.06] px-4 py-3 text-white placeholder:text-white/40 outline-none focus:border-amber-400"}),r.jsx("p",{className:"mt-1 text-xs text-white/50",children:"Minimum 6 characters"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Details (optional)"}),r.jsx("textarea",{value:c.body,onChange:re=>u({...c,body:re.target.value}),placeholder:"Add more context, what you've tried, specific requirements, etc.",rows:5,className:"w-full rounded-xl border border-white/10 bg-white/[0.06] px-4 py-3 text-white placeholder:text-white/40 outline-none focus:border-amber-400 resize-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Tags"}),A.length>0&&r.jsx("div",{className:"mb-3",children:r.jsx("div",{className:"flex flex-wrap gap-2",children:A.map((re,Ne)=>r.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full bg-gradient-to-r from-blue-500/20 to-purple-500/20 border border-blue-500/30 text-sm text-blue-300",children:["#",re,r.jsx("button",{type:"button",onClick:()=>Ot(re),className:"ml-1 hover:bg-white/10 rounded-full p-0.5 transition-colors",children:r.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},Ne))})}),Ce.length>0&&r.jsxs("div",{className:"mb-3",children:[r.jsx("p",{className:"text-xs text-white/60 mb-2",children:"Suggested tags:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:Ce.filter(re=>!A.includes(re)).map((re,Ne)=>r.jsxs("button",{type:"button",onClick:()=>et(re),className:"px-3 py-1.5 rounded-full bg-white/5 border border-white/20 text-sm text-white/70 hover:bg-white/10 hover:text-white/90 transition-colors",children:["+ #",re]},Ne))})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",placeholder:"Add custom tag...",className:"w-full rounded-xl border border-white/10 bg-white/[0.06] px-4 py-3 text-white placeholder:text-white/40 outline-none focus:border-amber-400",onKeyPress:re=>{re.key==="Enter"&&(re.preventDefault(),xt(re.target.value),re.target.value="")}}),r.jsx("p",{className:"mt-1 text-xs text-white/50",children:"Press Enter to add custom tags"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"School"}),r.jsx("input",{type:"text",value:c.school,onChange:re=>u({...c,school:re.target.value}),placeholder:"e.g., NIU, UIC",className:"w-full rounded-xl border border-white/10 bg-white/[0.06] px-4 py-3 text-white placeholder:text-white/40 outline-none focus:border-amber-400"})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>l(!1),className:"flex-1 rounded-xl border border-white/20 bg-white/5 px-4 py-3 text-sm font-semibold text-white hover:bg-white/10",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:d,className:"flex-1 rounded-xl bg-gradient-to-r from-amber-500 to-orange-600 px-4 py-3 text-sm font-semibold text-black hover:brightness-110 disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Posting...":"Post Question"})]})]})]})}),r.jsx(wJ,{isOpen:E,onClose:()=>T(!1),universityFilter:M,userInfo:t})]})}function kJ(t){const e=(t&&(t.userId||t._id)||"").toString(),[n,s]=f.useState(()=>new Set),[i,a]=f.useState({}),o=f.useRef(!1);f.useEffect(()=>{if(!e){s(new Set),o.current=!1;return}o.current||(async()=>{try{const c=await Ge.getBookmarks(),u=Array.isArray(c==null?void 0:c.bookmarks)?c.bookmarks.map(d=>{var h,p;return typeof d=="string"?d:String((d==null?void 0:d.threadId)||((h=d==null?void 0:d.thread)==null?void 0:h._id)||((p=d==null?void 0:d.thread)==null?void 0:p.id)||(d==null?void 0:d._id)||"")}).filter(Boolean):[];s(new Set(u)),o.current=!0}catch{s(new Set),o.current=!0}})()},[e]);const l=f.useCallback(async(c,u)=>{var p,m,g,x,b;(p=u==null?void 0:u.preventDefault)==null||p.call(u),(m=u==null?void 0:u.stopPropagation)==null||m.call(u);const d=String(c||"");if(!d||d==="undefined"||d==="null"||i[d])return;a(v=>({...v,[d]:!0}));const h=n.has(d);s(v=>{const y=new Set(v);return h?y.delete(d):y.add(d),y});try{h?await Ge.removeBookmark(d):await Ge.bookmarkThread(d)}catch(v){const y=(g=v==null?void 0:v.response)==null?void 0:g.status,w=((b=(x=v==null?void 0:v.response)==null?void 0:x.data)==null?void 0:b.message)||"";h&&(y===404||/not\s*bookmarked/i.test(w))||!h&&(y===409||/already\s*bookmarked/i.test(w))||s(N=>{const S=new Set(N);return h?S.add(d):S.delete(d),S})}finally{a(v=>({...v,[d]:!1}))}},[n,i]);return f.useMemo(()=>({bookmarkedIds:n,bookmarkInFlight:i,toggleBookmark:l}),[n,i,l])}function zL({comments:t,thread:e,timeAgo:n,depth:s=0,maxDepth:i=2,onVote:a,onReply:o,showCommentForm:l,commentText:c,setCommentText:u,onDeleteComment:d,onDeleteReply:h,userInfo:p}){return s>=i?r.jsxs("div",{className:"mt-3 p-3 bg-amber-500/10 border border-amber-500/20 rounded-lg",children:[r.jsx("p",{className:"text-sm text-amber-300",children:" This discussion is getting deep! Consider starting a new thread for this topic."}),r.jsx("button",{className:"mt-2 text-xs text-amber-400 hover:text-amber-300 underline",children:"Continue in a new thread "})]}):r.jsx("div",{className:"space-y-3",children:t.map((m,g)=>{var v;const x=g===t.length-1,b=s===0?"ml-0":s===1?"ml-4":"ml-8";return r.jsxs("div",{className:`${b} relative`,children:[s>0&&r.jsxs("div",{className:"absolute -left-4 top-0 w-4 h-4 flex items-center justify-center",children:[!x&&r.jsx("span",{className:"absolute left-[6px] top-0 bottom-0 w-px bg-white/12","aria-hidden":!0}),r.jsx("span",{className:"absolute left-[6px] top-[12px] w-2 h-2 border-l border-b border-white/25 rounded-bl-sm","aria-hidden":!0})]}),r.jsxs("div",{className:"bg-white/[0.02] border border-white/8 rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.authorId&&m.authorId&&String(e.authorId)===String(m.authorId)&&r.jsx("span",{className:"inline-flex items-center gap-1 rounded-full bg-blue-500/15 px-2 py-0.5 text-[10px] font-semibold text-blue-300",children:"OP"}),r.jsx("span",{className:"text-xs font-medium text-white/80",children:m.authorName||m.author}),r.jsx("span",{className:"text-xs text-white/50",children:""}),r.jsx("span",{className:"text-xs text-white/50",children:n(m.createdAt)}),s>0&&r.jsx("span",{className:"text-xs text-white/40",children:s===1?"Comment":"Reply"})]}),r.jsx("div",{className:"text-sm text-white/85 whitespace-pre-wrap mb-3",children:m.body}),r.jsxs("div",{className:"flex items-center gap-3",children:[s===0&&r.jsx(r.Fragment,{children:r.jsxs("button",{onClick:()=>a&&a(m._id||m.id,"upvote"),className:"flex items-center gap-1 text-xs text-white/60 hover:text-white/80 transition-colors",children:[r.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}),m.votesLight||0]})}),s<i-1&&r.jsx("button",{onClick:()=>o&&o(m._id||m.id),className:"text-xs text-white/60 hover:text-white/80 transition-colors",children:"Reply"}),p&&m.authorId&&String(m.authorId)===String(p._id||p.userId)&&r.jsx("button",{onClick:()=>d&&d(m._id||m.id),className:"text-xs text-red-400 hover:text-red-300 transition-colors",title:"Delete this comment",children:"Delete"}),r.jsx("button",{className:"text-xs text-white/40 hover:text-white/60 transition-colors",children:"Report"})]}),l&&l[m._id||m.id]&&r.jsxs("div",{className:"mt-3 p-3 bg-white/[0.02] border border-white/10 rounded-lg",children:[r.jsx("textarea",{value:c[m._id||m.id]||"",onChange:y=>u(w=>({...w,[m._id||m.id]:y.target.value})),placeholder:"Write a reply...",rows:2,className:"w-full bg-white/[0.03] border border-white/10 rounded px-2 py-1 text-sm text-white placeholder:text-white/40 outline-none focus:border-amber-400 resize-none"}),r.jsxs("div",{className:"mt-2 flex justify-end gap-2",children:[r.jsx("button",{onClick:()=>o&&o(m._id||m.id),className:"px-2 py-1 text-xs text-white/60 hover:text-white/90 transition-colors",children:"Cancel"}),r.jsx("button",{onClick:()=>o&&o(m._id||m.id,"submit"),disabled:!((v=c[m._id||m.id])!=null&&v.trim()),className:"px-2 py-1 text-xs bg-amber-500/20 text-amber-300 rounded hover:bg-amber-500/30 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Post Reply"})]})]}),m.replies&&m.replies.length>0&&r.jsx("div",{className:"mt-3",children:r.jsx(zL,{comments:m.replies,thread:e,timeAgo:n,depth:s+1,maxDepth:i,onVote:a,onReply:o,showCommentForm:l,commentText:c,setCommentText:u,onDeleteComment:d,onDeleteReply:h,userInfo:p})})]})]},m._id||m.id||g)})})}function SJ(){const{id:t}=mb(),[e,n]=f.useState(null),[s,i]=f.useState(!0),[a,o]=f.useState(""),[l,c]=f.useState(null),[u,d]=f.useState(!1),[h,p]=f.useState({}),[m,g]=f.useState({}),{bookmarkedIds:x,bookmarkInFlight:b,toggleBookmark:v}=kJ(l),[y,w]=f.useState({}),[k,N]=f.useState({}),[S,M]=f.useState({}),[j,C]=f.useState({}),[L,O]=f.useState({}),[F,$]=f.useState([]),[I,_]=f.useState(!1);f.useEffect(()=>{(async()=>{var K;try{const J=await ge.get("/get-user");(K=J==null?void 0:J.data)!=null&&K.user&&c(J.data.user)}catch(J){console.error("Error loading user info:",J)}})()},[]),f.useEffect(()=>{async function K(){i(!0);try{const J=await Ge.get(t),fe=String(J._id||J.id||t);if(n({...J,_canonicalId:fe}),!!(l!=null&&l._id||l!=null&&l.userId)){const ce=await Ge.checkVoteStatus(t);ce.userVote&&p(ne=>({...ne,[fe]:ce.userVote}))}P(J)}catch(J){console.error("Error fetching thread:",J),n(null)}finally{i(!1)}}K()},[t,l==null?void 0:l._id,l==null?void 0:l.userId]),f.useEffect(()=>{!e&&!s&&P()},[e,s]);const P=async K=>{_(!0);try{const J=[{_id:"mock1",title:"How to apply for OPT after graduation?",answers:[{},{},{}],upvotes:15,createdAt:new Date(Date.now()-1728e5),solved:!0,school:"Northern Illinois University"},{_id:"mock2",title:"Best places to find housing near campus",answers:[{},{}],upvotes:8,createdAt:new Date(Date.now()-432e6),solved:!1,school:"Northern Illinois University"},{_id:"mock3",title:"Visa renewal process timeline and documents needed",answers:[{},{},{},{}],upvotes:22,createdAt:new Date(Date.now()-864e5),solved:!0,school:"Northern Illinois University"},{_id:"mock4",title:"How to get a social security number as international student?",answers:[{}],upvotes:5,createdAt:new Date(Date.now()-2592e5),solved:!1,school:"Northern Illinois University"},{_id:"mock5",title:"Part-time job opportunities on campus",answers:[{},{},{}],upvotes:12,createdAt:new Date(Date.now()-6048e5),solved:!0,school:"Northern Illinois University"}];await new Promise(fe=>setTimeout(fe,300)),console.log("Setting mock related questions:",J),$(J)}catch(J){console.error("Error fetching related questions:",J),$([])}finally{_(!1)}},E=async K=>{if(K.preventDefault(),!a.trim())return;const J=e._canonicalId||String(e._id||e.id);await Ge.addAnswer(J,{body:a.trim(),author:(l==null?void 0:l.username)||"@anonymous"}),o("");const fe=await Ge.get(t);n({...fe,_canonicalId:J})},T=async K=>{var le;if(u)return;const J=e._canonicalId||String(e._id||e.id);if(h[J]===K){alert("You have already voted on this question!");return}d(!0);try{const ce=await Ge.voteThread(J,K);ce&&(p(ne=>({...ne,[J]:K})),n(ne=>({...ne,upvotes:ce.upvotes||0,downvotes:ce.downvotes||0,votes:ce.votes||0})))}catch(ce){console.error("Vote error:",ce),((le=ce.response)==null?void 0:le.status)===400&&alert(ce.response.data.message||"You have already voted on this question!")}finally{d(!1)}},D=async(K,J)=>{var fe;try{const le=e._canonicalId||String(e._id||e.id),ce=await Ge.voteAnswer(le,K,J);ce&&(g(ne=>({...ne,[K]:J})),n(ne=>({...ne,answers:ne.answers.map(ie=>(ie._id||ie.id)===K?{...ie,upvotes:ce.upvotes||0,downvotes:ce.downvotes||0,votes:ce.votes||0,isBestAnswer:ce.isBestAnswer||!1}:ie)})))}catch(le){console.error("Answer vote error:",le),((fe=le.response)==null?void 0:fe.status)===400&&alert(le.response.data.message||"You have already voted on this answer!")}},R=async K=>{var le,ce,ne,ie;const J=k[K];if(!J||!J.trim())return;if(!l){alert("Please log in to post a reply.");return}const fe=localStorage.getItem("accessToken")||localStorage.getItem("token")||localStorage.getItem("userToken");if(!fe){alert("Authentication token not found. Please log in again.");return}console.log(" Auth token found:",fe.substring(0,20)+"...");try{const de=e._canonicalId||String(e._id||e.id);console.log(" Posting reply:",{tid:de,answerId:K,replyBody:J.substring(0,50)+"..."});const ee=await Ge.addReply(de,K,J);if(console.log(" Reply result:",ee),ee.success){N(xe=>({...xe,[K]:""})),w(xe=>({...xe,[K]:!1}));const ye=await Ge.get(t);n({...ye,_canonicalId:de})}else console.error(" Reply failed - no success:",ee),alert("Failed to post reply. Please try again.")}catch(de){console.error(" Reply error:",de),console.error(" Error response:",(le=de.response)==null?void 0:le.data),console.error(" Error status:",(ce=de.response)==null?void 0:ce.status),((ne=de.response)==null?void 0:ne.status)===401?alert("Please log in to post a reply."):((ie=de.response)==null?void 0:ie.status)===400?alert(de.response.data.message||"Invalid request. Please try again."):alert("Failed to post reply. Please try again.")}},z=K=>{w(J=>({...J,[K]:!J[K]}))},q=K=>{M(J=>({...J,[K]:!J[K]}))},H=async(K,J)=>{try{const fe=e._canonicalId||String(e._id||e.id);await Ge.voteComment(fe,K,J)&&O(ce=>({...ce,[K]:J}))}catch(fe){console.error("Comment vote error:",fe),O(le=>({...le,[K]:J}))}},U=async(K,J="toggle")=>{var fe,le,ce,ne;if(J==="toggle"){q(K);return}if(J==="submit"){const ie=j[K];if(!(ie!=null&&ie.trim()))return;if(!l){alert("Please log in to post a reply.");return}try{const de=e._canonicalId||String(e._id||e.id);console.log(" Posting comment reply:",{tid:de,commentId:K,text:ie.substring(0,50)+"..."});const ee=await Ge.replyToComment(de,K,ie.trim());if(ee.success){C(xe=>({...xe,[K]:""})),M(xe=>({...xe,[K]:!1}));const ye=await Ge.get(t);n({...ye,_canonicalId:de})}else alert(ee.message||"Failed to post reply. Please try again.")}catch(de){console.error(" Comment submit error:",de),console.error(" Error response:",(fe=de.response)==null?void 0:fe.data),console.error(" Error status:",(le=de.response)==null?void 0:le.status),((ce=de.response)==null?void 0:ce.status)===401?alert("Please log in to post a reply."):((ne=de.response)==null?void 0:ne.status)===400?alert(de.response.data.message||"Invalid request. Please try again."):alert("Failed to post reply. Please try again.")}}},B=v,V=async K=>{var J;if(window.confirm("Are you sure you want to delete this answer? This action cannot be undone."))try{const fe=e._canonicalId||String(e._id||e.id);if((await Ge.deleteAnswer(fe,K)).success){const ce=await Ge.get(t);n({...ce,_canonicalId:fe})}else alert("Failed to delete answer. Please try again.")}catch(fe){console.error("Delete answer error:",fe),((J=fe.response)==null?void 0:J.status)===403?alert("You can only delete your own answers."):alert("Failed to delete answer. Please try again.")}},G=async K=>{var J;if(window.confirm("Are you sure you want to delete this comment? This action cannot be undone."))try{const fe=e._canonicalId||String(e._id||e.id);if((await Ge.deleteComment(fe,K)).success){const ce=await Ge.get(t);n({...ce,_canonicalId:fe})}else alert("Failed to delete comment. Please try again.")}catch(fe){console.error("Delete comment error:",fe),((J=fe.response)==null?void 0:J.status)===403?alert("You can only delete your own comments."):alert("Failed to delete comment. Please try again.")}},Q=async(K,J)=>{var fe;if(window.confirm("Are you sure you want to delete this reply? This action cannot be undone."))try{const le=e._canonicalId||String(e._id||e.id);if((await Ge.deleteReply(le,K,J)).success){const ne=await Ge.get(t);n({...ne,_canonicalId:le})}else alert("Failed to delete reply. Please try again.")}catch(le){console.error("Delete reply error:",le),((fe=le.response)==null?void 0:fe.status)===403?alert("You can only delete your own replies."):alert("Failed to delete reply. Please try again.")}},se=async K=>{try{const J=e._canonicalId||String(e._id||e.id);if(await Ge.acceptAnswer(J,K)){const le=await Ge.get(t);n({...le,_canonicalId:J})}}catch(J){console.error("Accept answer error:",J)}};if(s)return r.jsxs("div",{className:"nr-dots-page min-h-screen text-white",children:[r.jsx(ht,{userInfo:l}),r.jsx("div",{className:"mx-auto max-w-4xl px-4 py-12",children:r.jsx("p",{className:"text-white/70",children:"Loading thread..."})}),r.jsx(Oa,{})]});if(!e)return r.jsxs("div",{className:"nr-dots-page min-h-screen text-white",children:[r.jsx(ht,{userInfo:l}),r.jsx("div",{className:"mx-auto max-w-4xl px-4 py-12",children:r.jsxs("p",{className:"text-white/70",children:["Thread not found. ",r.jsx(Ie,{to:"/community",className:"text-sky-400 hover:underline",children:"Back to community"})]})}),r.jsx(Oa,{})]});const te=(l==null?void 0:l.username)===e.author||(l==null?void 0:l.username)===e.authorName;return r.jsxs("div",{className:"nr-dots-page min-h-screen text-white",children:[r.jsx(ht,{userInfo:l}),r.jsx("main",{className:"mx-auto max-w-7xl px-4 py-8",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[r.jsxs("div",{className:"lg:col-span-8",children:[r.jsxs(Ie,{to:"/community",className:"inline-flex items-center gap-1 text-sm text-white/60 hover:text-white mb-6",children:[r.jsx("span",{children:""})," Back to Community"]}),r.jsxs("div",{className:"relative",children:[(()=>{const K=e._canonicalId||String(e._id||e.id);return r.jsx("button",{type:"button",onClick:J=>B(K,J),disabled:b[K],className:`absolute top-3 right-3 p-2 rounded-lg transition-all duration-200 z-10
                  ${x.has(K)?"text-red-500":"text-red-500 hover:bg-red-500/5"}
                  ${b[K]?"cursor-wait":"cursor-pointer"}`,"aria-pressed":x.has(K),"aria-label":x.has(K)?"Remove bookmark":"Bookmark question",children:r.jsx($L,{active:x.has(K),className:"w-6 h-6"})})})(),r.jsxs("div",{className:"nr-panel",children:[r.jsxs("div",{className:"mb-4 flex items-center gap-2 text-[12px]",children:[r.jsx("span",{className:`rounded-full px-2.5 py-1 ${e.solved?"bg-emerald-500/15 text-emerald-300":"bg-white/10 text-white/75"}`,children:e.solved?" Solved":"Open"}),r.jsx("span",{className:"text-white/50",children:""}),r.jsx("span",{className:"text-white/70",children:e.school}),r.jsx("span",{className:"text-white/50",children:""}),r.jsx("span",{className:"text-white/60",children:Ko(e.createdAt||e.updatedAt)})]}),r.jsx("h1",{className:"text-3xl font-bold leading-tight pr-16",children:e.title}),e.body&&r.jsx("p",{className:"mt-4 text-[15px] leading-relaxed text-white/80 whitespace-pre-wrap",children:e.body}),(e.tags||[]).length>0&&r.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:e.tags.map(K=>r.jsxs("span",{className:"rounded-full border border-white/15 bg-white/[0.04] px-3 py-1 text-[11px] font-medium text-white/70",children:["#",K]},K))}),r.jsxs("div",{className:"mt-6 flex items-center justify-between border-t border-white/10 pt-4",children:[r.jsxs("div",{className:"text-sm text-white/60",children:["Asked by ",r.jsx("span",{className:"font-medium text-white/90",children:e.authorName||e.author})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{onClick:()=>T("upvote"),disabled:u||h[e._canonicalId||String(e._id||e.id)]==="downvote",className:`p-2 rounded-lg transition-colors group disabled:opacity-50 ${h[e._canonicalId||String(e._id||e.id)]==="upvote"?"bg-green-500/20 text-green-400":"hover:bg-white/10"}`,title:h[e._canonicalId||String(e._id||e.id)]==="upvote"?"You upvoted this":"Upvote",children:r.jsx("svg",{className:`w-4 h-4 transition-colors ${h[e._canonicalId||String(e._id||e.id)]==="upvote"?"text-green-400":"text-white/60 group-hover:text-green-400"}`,fill:h[e._canonicalId||String(e._id||e.id)]==="upvote"?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})}),r.jsx("span",{className:"text-green-400 font-medium text-sm min-w-[1.5rem] text-center",children:e.upvotes||0})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{onClick:()=>T("downvote"),disabled:u||h[e._canonicalId||String(e._id||e.id)]==="upvote",className:`p-2 rounded-lg transition-colors group disabled:opacity-50 ${h[e._canonicalId||String(e._id||e.id)]==="downvote"?"bg-red-500/20 text-red-400":"hover:bg-white/10"}`,title:h[e._canonicalId||String(e._id||e.id)]==="downvote"?"You downvoted this":"Downvote",children:r.jsx("svg",{className:`w-4 h-4 transition-colors ${h[e._canonicalId||String(e._id||e.id)]==="downvote"?"text-red-400":"text-white/60 group-hover:text-red-400"}`,fill:h[e._canonicalId||String(e._id||e.id)]==="downvote"?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}),r.jsx("span",{className:"text-red-400 font-medium text-sm min-w-[1.5rem] text-center",children:e.downvotes||0})]})]})]})]})]}),r.jsxs("section",{className:"mt-8",children:[r.jsxs("h2",{className:"text-2xl font-bold mb-5",children:[(e.answers||[]).length," ",(e.answers||[]).length===1?"Answer":"Answers"]}),r.jsxs("div",{className:"space-y-4",children:[(!e.answers||e.answers.length===0)&&r.jsx("div",{className:"nr-panel text-center py-12",children:r.jsx("p",{className:"text-white/60",children:"No answers yet. Be the first to help!"})}),(e.answers||[]).map(K=>{var J;return r.jsxs("article",{className:`nr-panel ${K.accepted?"border-emerald-500/30 bg-emerald-500/5":""} ${K.isBestAnswer?"border-amber-500/30 bg-amber-500/5":""}`,children:[r.jsxs("div",{className:"mb-3 flex flex-wrap items-center gap-2",children:[K.accepted&&r.jsxs("div",{className:"inline-flex items-center gap-1.5 rounded-full bg-emerald-500/15 px-3 py-1 text-[11px] font-semibold text-emerald-300",children:[r.jsx("span",{children:""})," Accepted Answer"]}),K.isBestAnswer&&!K.accepted&&r.jsxs("div",{className:"inline-flex items-center gap-1.5 rounded-full bg-amber-500/15 px-3 py-1 text-[11px] font-semibold text-amber-300",children:[r.jsx("span",{children:""})," Best Answer"]}),e.authorId&&K.authorId&&e.authorId.toString()===K.authorId.toString()&&r.jsxs("div",{className:"inline-flex items-center gap-1.5 rounded-full bg-blue-500/15 px-3 py-1 text-[11px] font-semibold text-blue-300",children:[r.jsx("span",{children:"OP"})," Original Poster"]})]}),r.jsx("div",{className:"text-[15px] leading-relaxed text-white/85 whitespace-pre-wrap",children:K.body}),r.jsxs("div",{className:"mt-4 flex items-center justify-between border-t border-white/10 pt-3",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{onClick:()=>D(K._id||K.id,"upvote"),disabled:m[K._id||K.id]==="downvote",className:`p-1.5 rounded transition-colors group disabled:opacity-50 ${m[K._id||K.id]==="upvote"?"bg-green-500/20 text-green-400":"hover:bg-white/10"}`,title:m[K._id||K.id]==="upvote"?"You upvoted this":"Upvote",children:r.jsx("svg",{className:`w-3.5 h-3.5 transition-colors ${m[K._id||K.id]==="upvote"?"text-green-400":"text-white/60 group-hover:text-green-400"}`,fill:m[K._id||K.id]==="upvote"?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})}),r.jsx("span",{className:"text-green-400 font-medium text-xs min-w-[1rem] text-center",children:K.upvotes||0})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{onClick:()=>D(K._id||K.id,"downvote"),disabled:m[K._id||K.id]==="upvote",className:`p-1.5 rounded transition-colors group disabled:opacity-50 ${m[K._id||K.id]==="downvote"?"bg-red-500/20 text-red-400":"hover:bg-white/10"}`,title:m[K._id||K.id]==="downvote"?"You downvoted this":"Downvote",children:r.jsx("svg",{className:`w-3.5 h-3.5 transition-colors ${m[K._id||K.id]==="downvote"?"text-red-400":"text-white/60 group-hover:text-red-400"}`,fill:m[K._id||K.id]==="downvote"?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}),r.jsx("span",{className:"text-red-400 font-medium text-xs min-w-[1rem] text-center",children:K.downvotes||0})]})]}),r.jsxs("button",{onClick:()=>z(K._id||K.id),className:"flex items-center gap-1 text-xs text-white/60 hover:text-white/90 transition-colors",children:[r.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),"Comment"]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"text-xs text-white/50",children:[r.jsx("span",{className:"font-medium text-white/80",children:K.authorName||K.author}),r.jsx("span",{className:"mx-1.5",children:""}),r.jsx("span",{children:Ko(K.createdAt)})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[te&&!K.accepted&&!e.solved&&r.jsx("button",{onClick:()=>se(K._id||K.id),className:"rounded-lg border border-emerald-500/30 bg-emerald-500/10 px-3 py-1 text-xs font-semibold text-emerald-300 hover:bg-emerald-500/20",children:"Accept Answer"}),l&&K.authorId&&String(K.authorId)===String(l._id||l.userId)&&r.jsx("button",{onClick:()=>V(K._id||K.id),className:"rounded-lg border border-red-500/30 bg-red-500/10 px-3 py-1 text-xs font-semibold text-red-300 hover:bg-red-500/20",title:"Delete this answer",children:"Delete"})]})]})]}),y[K._id||K.id]&&r.jsxs("div",{className:"mt-4 border-t border-white/10 pt-4",children:[r.jsx("div",{className:"mb-2",children:r.jsx("label",{className:"text-xs text-white/60",children:"Add a comment to this answer"})}),r.jsx("textarea",{value:k[K._id||K.id]||"",onChange:fe=>N(le=>({...le,[K._id||K.id]:fe.target.value})),placeholder:"Share your thoughts, ask for clarification, or add context...",rows:3,className:"w-full bg-white/[0.03] border border-white/10 rounded-lg px-3 py-2 text-sm text-white placeholder:text-white/40 outline-none focus:border-amber-400 resize-none"}),r.jsxs("div",{className:"mt-2 flex justify-between items-center",children:[r.jsx("div",{className:"text-xs text-white/50",children:" Comments help clarify and improve answers"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>z(K._id||K.id),className:"px-3 py-1 text-xs text-white/60 hover:text-white/90 transition-colors",children:"Cancel"}),r.jsx("button",{onClick:()=>R(K._id||K.id),disabled:!((J=k[K._id||K.id])!=null&&J.trim()),className:"px-3 py-1 text-xs bg-amber-500/20 text-amber-300 rounded-lg hover:bg-amber-500/30 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Post Comment"})]})]})]}),K.replies&&K.replies.length>0&&r.jsxs("div",{className:"mt-4 border-t border-white/10 pt-4",children:[r.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[r.jsxs("h4",{className:"text-sm font-medium text-white/80",children:["Comments (",K.replies.length,")"]}),r.jsx("button",{className:"text-xs text-white/60 hover:text-white/80 transition-colors",children:"Collapse"})]}),r.jsx(zL,{comments:K.replies,thread:e,timeAgo:Ko,depth:0,maxDepth:2,onVote:H,onReply:U,showCommentForm:S,commentText:j,setCommentText:C,onDeleteComment:G,onDeleteReply:Q,userInfo:l})]})]},K._id||K.id)})]})]}),r.jsxs("section",{className:"mt-8",children:[r.jsx("h3",{className:"text-xl font-bold mb-4",children:"Your Answer"}),r.jsxs("form",{onSubmit:E,className:"nr-panel",children:[r.jsx("textarea",{value:a,onChange:K=>o(K.target.value),placeholder:"Write a helpful answer... Be clear and specific.",rows:6,className:"w-full bg-white/[0.03] border border-white/10 rounded-xl px-4 py-3 text-[15px] text-white placeholder:text-white/40 outline-none focus:border-amber-400 resize-none"}),r.jsx("div",{className:"mt-4 flex justify-end",children:r.jsx("button",{type:"submit",disabled:!a.trim(),className:"rounded-xl bg-gradient-to-r from-amber-500 to-orange-600 px-6 py-2.5 text-sm font-semibold text-black hover:brightness-110 disabled:opacity-50 disabled:cursor-not-allowed",children:"Post Answer"})})]})]})]}),r.jsx("div",{className:"lg:col-span-4",children:r.jsxs("div",{className:"sticky top-8",children:[r.jsx("div",{className:"hidden lg:block absolute left-0 top-0 bottom-0 w-px bg-gradient-to-b from-transparent via-white/20 to-transparent"}),r.jsxs("div",{className:"pl-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:"RELATED QUESTIONS"}),r.jsx("button",{className:"text-xs text-white/60 hover:text-white transition-colors",children:"Clear"})]}),I?r.jsx("div",{className:"space-y-4",children:[...Array(5)].map((K,J)=>r.jsx("div",{className:"animate-pulse",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-white/10 rounded-full flex-shrink-0"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"h-3 bg-white/10 rounded mb-2"}),r.jsx("div",{className:"h-2 bg-white/5 rounded w-1/2 mb-1"}),r.jsx("div",{className:"h-2 bg-white/5 rounded w-1/3"})]})]})},J))}):F.length>0?r.jsxs("div",{className:"space-y-0",children:[F.map((K,J)=>{var fe,le;return r.jsxs("div",{children:[r.jsx(Ie,{to:`/community/thread/${K._id||K.id}`,className:"block group py-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-xs font-bold text-white",children:((fe=K.school)==null?void 0:fe.charAt(0))||"N"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-1 text-xs text-white/60 mb-1",children:[r.jsx("span",{children:K.school||"Northern Illinois University"}),r.jsx("span",{children:""}),r.jsx("span",{children:Ko(K.createdAt||K.updatedAt)})]}),r.jsx("h4",{className:"text-sm font-medium text-white group-hover:text-blue-300 line-clamp-2 mb-2 transition-colors",children:K.title}),r.jsxs("div",{className:"flex items-center gap-3 text-xs text-white/50",children:[r.jsxs("span",{children:[K.upvotes||Math.floor(Math.random()*20)+1," upvotes"]}),r.jsx("span",{children:""}),r.jsxs("span",{children:[((le=K.answers)==null?void 0:le.length)||0," comments"]}),K.solved&&r.jsxs(r.Fragment,{children:[r.jsx("span",{children:""}),r.jsxs("span",{className:"inline-flex items-center gap-1 text-emerald-400",children:[r.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-400"}),"Solved"]})]})]})]})]})}),J<F.length-1&&r.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-white/10 to-transparent"})]},K._id||K.id)}),r.jsx("div",{className:"pt-4 border-t border-white/10",children:r.jsx(Ie,{to:"/community",className:"inline-flex items-center gap-2 text-sm text-white/70 hover:text-white transition-colors",children:"View all questions "})}),r.jsx("div",{className:"mt-8 pt-6 border-t border-white/10",children:r.jsxs("div",{className:"space-y-3 text-xs text-white/50",children:[r.jsxs("div",{className:"flex flex-wrap gap-3",children:[r.jsx(Ie,{to:"/community/rules",className:"hover:text-white/70 transition-colors",children:"Community Rules"}),r.jsx(Ie,{to:"/privacy",className:"hover:text-white/70 transition-colors",children:"Privacy Policy"}),r.jsx(Ie,{to:"/terms",className:"hover:text-white/70 transition-colors",children:"User Agreement"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx(Ie,{to:"/accessibility",className:"hover:text-white/70 transition-colors",children:"Accessibility"}),r.jsx("div",{className:"text-white/40",children:"NewRun, Inc.  2025. All rights reserved."})]})]})})]}):r.jsxs("div",{className:"text-center py-6",children:[r.jsx("p",{className:"text-white/60 text-sm",children:"No related questions found"}),r.jsx(Ie,{to:"/community",className:"inline-flex items-center gap-2 text-sm text-white/70 hover:text-white transition-colors mt-3",children:"Browse all questions "})]})]})]})})]})}),r.jsx(Oa,{})]})}function CJ(t){const e=Array.isArray(t==null?void 0:t.images)?t.images:[],n=typeof(t==null?void 0:t.coverIndex)=="number"&&t.coverIndex>=0;return(t==null?void 0:t.coverUrl)||e[n?t.coverIndex:0]||e[0]||(t==null?void 0:t.thumbnailUrl)||""}function uk(t){return t?r.jsx("span",{className:"rounded-full bg-black/50 px-2 py-0.5 text-[11px] font-medium text-white/90 ring-1 ring-white/10 backdrop-blur",children:t}):null}function hk(t={}){const e=[];return t.pickup&&e.push("Pickup"),t.localDelivery&&e.push("Local delivery"),t.shipping&&e.push("Shipping"),e.join("  ")}function EJ({item:t,favored:e=!1,onToggleFav:n,onClick:s}){var c;const{user:i}=Ji(),a=CJ(t),o=typeof(t==null?void 0:t.price)=="number"?`$${t.price.toLocaleString("en-US")}`:(t==null?void 0:t.price)||"",l=i&&(t==null?void 0:t.userId)&&i._id===t.userId;return r.jsxs("button",{type:"button",onClick:s,className:`
        group w-full overflow-hidden rounded-3xl border border-white/10
        bg-[#0f1115] text-left shadow-[0_12px_32px_-12px_rgba(0,0,0,.60)]
        transition-transform hover:-translate-y-[2px] focus:outline-none focus:ring-2 focus:ring-sky-500
      `,children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"aspect-[16/10] w-full overflow-hidden bg-white/[0.04]",children:a?r.jsx("img",{src:a,alt:(t==null?void 0:t.title)||"Item",className:"h-full w-full object-cover transition-transform duration-500 group-hover:scale-[1.02]",loading:"lazy",decoding:"async"}):r.jsx("div",{className:"flex h-full w-full items-center justify-center text-sm text-white/40",children:"No image"})}),r.jsxs("div",{className:"absolute left-3 top-3 flex items-center gap-1.5",children:[uk(String((t==null?void 0:t.condition)||"").toLowerCase()),uk(t==null?void 0:t.category)]}),r.jsx("div",{className:"absolute right-3 top-3",children:r.jsx("button",{type:"button",onClick:u=>{u.stopPropagation(),n==null||n(t)},"aria-label":e?"Unfavorite":"Favorite",className:`
              grid h-9 w-9 place-items-center rounded-full bg-black/45 text-white/95
              ring-1 ring-white/10 backdrop-blur hover:bg-black/60
            `,children:e?r.jsx(bm,{}):r.jsx(yb,{})})})]}),r.jsxs("div",{className:"px-5 pb-4 pt-4",children:[r.jsxs("div",{className:"mb-2",children:[r.jsx("h3",{className:"line-clamp-2 text-[20px] font-semibold leading-snug text-white",children:(t==null?void 0:t.title)||"Untitled"}),(t==null?void 0:t.description)&&r.jsx("p",{className:"mt-1 line-clamp-2 text-[13.5px] leading-relaxed text-white/70",children:t.description}),l&&r.jsx("div",{className:"mt-2",children:r.jsx("span",{className:"inline-flex items-center gap-1 rounded-full border border-blue-400/40 bg-black/80 px-2 py-[2px] text-[10px] text-white font-medium",children:"Created by you"})})]}),r.jsx("div",{className:"my-3 h-px w-full bg-white/8"}),r.jsxs("div",{className:"flex items-center justify-between gap-2",children:[r.jsx("div",{className:"min-w-0 text-[13px] text-white/75",children:(c=t==null?void 0:t.location)!=null&&c.campus?r.jsxs("span",{className:"line-clamp-1",children:["Campus: ",t.location.campus]}):r.jsx("span",{className:"line-clamp-1",children:(t==null?void 0:t.category)||"Item"})}),o&&r.jsx("div",{className:"shrink-0 rounded-full bg-white/8 px-3 py-1 text-[13px] font-semibold text-white",children:o})]}),r.jsxs("div",{className:"mt-2 flex items-center justify-between gap-2",children:[r.jsxs("div",{className:"flex min-w-0 flex-wrap items-center gap-1.5 text-[12px] text-white/60",children:[hk(t==null?void 0:t.delivery)&&r.jsx("span",{className:"rounded-full bg-white/5 px-2 py-0.5",children:hk(t.delivery)}),(t==null?void 0:t.condition)&&r.jsx("span",{className:"rounded-full bg-white/5 px-2 py-0.5 capitalize",children:String(t.condition).toLowerCase()})]}),r.jsx("span",{className:`
              grid h-8 w-8 shrink-0 place-items-center rounded-full bg-white/8 text-white/85
              transition-colors group-hover:bg-white/12
            `,children:r.jsx(bb,{className:"text-[14px]"})})]})]})]})}function PJ({onListItem:t}){const[e,n]=f.useState(!1),[s,i]=f.useState(0),[a,o]=f.useState(0),[l,c]=f.useState(""),[u,d]=f.useState(!1),[h,p]=f.useState(0),[m,g]=f.useState(!1),[x,b]=f.useState(0),[v,y]=f.useState(""),[w,k]=f.useState(!1),N=["mini fridge","desk lamp","textbooks","sofa","bike","dorm essentials"],S=[{text:"Safe, local, student-first.",color:"#10b981",glow:"0 0 6px #10b981, 0 0 12px #10b981"},{text:"Trusted by students worldwide.",color:"#3b82f6",glow:"0 0 6px #3b82f6, 0 0 12px #3b82f6"},{text:"Your campus marketplace.",color:"#8b5cf6",glow:"0 0 6px #8b5cf6, 0 0 12px #8b5cf6"},{text:"Buy and sell with confidence.",color:"#f97316",glow:"0 0 6px #f97316, 0 0 12px #f97316"},{text:"Connecting students everywhere.",color:"#eab308",glow:"0 0 6px #eab308, 0 0 12px #eab308"}];f.useEffect(()=>{n(!0);const L=setInterval(()=>{i(O=>(O+1)%N.length)},2e3);return()=>clearInterval(L)},[]),f.useEffect(()=>{const O=S[x].text;let F=0;y(""),k(!0);const $=setInterval(()=>{F<O.length?(y(O.slice(0,F+1)),F++):(k(!1),clearInterval($),setTimeout(()=>{b(I=>(I+1)%S.length)},5e3))},80);return()=>clearInterval($)},[x]),f.useEffect(()=>{const L=setInterval(()=>o(O=>Math.min(O+1,4)),1e3);return()=>clearInterval(L)},[]),f.useEffect(()=>{if(e){const L=setTimeout(()=>{g(!0),M()},1e3);return()=>clearTimeout(L)}},[e]);const M=()=>{const F=Date.now(),$=()=>{const I=Date.now()-F,_=Math.min(I/2e3,1),P=1-Math.pow(1-_,3),E=Math.floor(P*500);p(E),_<1&&requestAnimationFrame($)};requestAnimationFrame($)},j=L=>{if(L.preventDefault(),l.trim()){const O=document.getElementById("market-grid");O&&(O.scrollIntoView({behavior:"smooth",block:"start"}),window.dispatchEvent(new CustomEvent("marketplaceSearch",{detail:{query:l.trim()}})))}},C=L=>{c(L),d(!1)};return r.jsxs("section",{className:"nr-hero-bg nr-hero-starry relative flex min-h-[70vh] items-center overflow-hidden",children:[r.jsxs("div",{className:"absolute inset-0",children:[r.jsx("div",{className:"hero-orb absolute top-1/4 left-1/4 w-32 h-32 bg-gradient-to-r from-orange-500/10 to-cyan-500/10 rounded-full blur-3xl"}),r.jsx("div",{className:"hero-orb absolute bottom-1/4 right-1/4 w-48 h-48 bg-gradient-to-r from-blue-500/10 to-purple-500/10 rounded-full blur-3xl"}),r.jsx("div",{className:"hero-orb absolute top-1/2 right-1/3 w-24 h-24 bg-gradient-to-r from-emerald-500/10 to-teal-500/10 rounded-full blur-2xl"}),r.jsx("div",{className:"hero-orb absolute top-3/4 left-1/3 w-40 h-40 bg-gradient-to-r from-amber-500/8 to-orange-500/8 rounded-full blur-3xl"})]}),r.jsxs("div",{className:"mx-auto w-full max-w-[110rem] px-4 py-14 relative z-10",children:[r.jsx("div",{className:`text-center transition-all duration-1000 ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:r.jsxs("div",{className:"flex items-center justify-center gap-3 mb-8 flex-wrap",children:[r.jsxs("span",{className:"inline-flex items-center gap-2 text-sm text-white/70 rounded-full bg-white/5 px-3 py-1",children:[r.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),"Student-only marketplace"]}),r.jsxs("span",{className:"inline-flex items-center gap-2 text-sm text-white/70 rounded-full bg-white/5 px-3 py-1",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),"Verified .edu accounts"]}),r.jsxs("span",{className:"inline-flex items-center gap-2 text-sm text-white/70 rounded-full bg-white/5 px-3 py-1",children:[r.jsx("div",{className:"w-2 h-2 bg-orange-400 rounded-full"}),"Instant transactions"]})]})}),r.jsx("div",{className:`text-center transition-all duration-1000 delay-300 ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,children:r.jsxs("h1",{className:"mx-auto max-w-5xl text-center text-4xl font-black tracking-tight text-white md:text-6xl lg:text-7xl",children:["Buy & sell"," ",r.jsx("span",{className:"bg-gradient-to-r from-amber-400 via-amber-300 to-orange-500 bg-clip-text text-transparent animate-pulse",children:"campus essentials"})," ","in minutes.",r.jsx("br",{className:"hidden md:block"}),r.jsx("div",{className:"block mt-2 text-2xl md:text-3xl lg:text-4xl h-12 flex items-center justify-center",children:r.jsx("div",{className:"px-2 sm:px-3 md:px-4 py-1 sm:py-1.5 md:py-2 rounded-xl font-semibold rotating-text-glow",style:{animation:"fadeInUp 0.6s ease-in-out",color:S[x].color,textShadow:S[x].glow,letterSpacing:"-0.5px"},children:v.split("").map((L,O)=>r.jsx("span",{className:`typing-letter inline-block ${w&&O===v.length-1?"animate-pulse":""}`,style:{animationDelay:`${O*100}ms`,color:S[x].color,textShadow:S[x].glow,letterSpacing:"-0.5px"},children:L===" "?"":L},O))},x)})]})}),r.jsx("div",{className:`mx-auto mt-8 max-w-3xl transition-all duration-1000 delay-400 ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,children:r.jsx("form",{onSubmit:j,children:r.jsx("div",{className:"rounded-2xl border border-white/10 bg-white/5/50 p-3 backdrop-blur-md hover:bg-white/8/50 transition-all duration-300",children:r.jsxs("div",{className:"flex items-center gap-3 rounded-xl border border-white/10 bg-[#101215] px-4 py-3 hover:border-white/20 focus-within:border-amber-400/50 transition-all duration-200",children:[r.jsx("span",{className:"text-white/50 text-lg",children:""}),r.jsx("div",{className:"flex-1 relative",children:r.jsx("input",{type:"text",value:l,onChange:L=>c(L.target.value),onFocus:()=>d(!0),onBlur:()=>setTimeout(()=>d(!1),200),placeholder:u?"Search for items...":`Try: ${N[s]}`,className:"w-full bg-transparent text-sm text-white placeholder:text-white/40 focus:outline-none transition-all duration-500"})}),r.jsx("button",{type:"submit",className:"rounded-full bg-gradient-to-r from-amber-500 to-orange-500 px-4 py-2 text-xs font-semibold text-black hover:from-amber-400 hover:to-orange-400 transition-all duration-200 hover:scale-105 shadow-lg shadow-amber-500/25",children:"Search"})]})})})}),u&&r.jsx("div",{className:"mx-auto mt-2 max-w-3xl relative",children:r.jsx("div",{className:"rounded-xl border border-white/10 bg-[#0f1115] backdrop-blur-xl shadow-2xl z-[9999] max-h-48 overflow-y-auto",children:r.jsxs("div",{className:"p-2",children:[r.jsx("div",{className:"text-xs text-white/60 px-3 py-2 border-b border-white/10 mb-2",children:"Popular searches"}),N.map((L,O)=>r.jsxs("button",{onClick:()=>C(L),className:"w-full text-left px-3 py-2 text-sm text-white/80 hover:bg-white/10 hover:text-white rounded-lg transition-all duration-200 flex items-center gap-2",children:[r.jsx("span",{className:"text-amber-400",children:""}),L]},O))]})})}),r.jsx("div",{className:`mt-8 text-center transition-all duration-1000 delay-500 ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:r.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[r.jsxs("button",{onClick:()=>{const L=document.getElementById("market-grid");L&&L.scrollIntoView({behavior:"smooth",block:"start"})},className:"hero-cta-button group relative inline-flex items-center gap-3 rounded-full bg-gradient-to-r from-orange-500 to-orange-600 px-8 py-4 text-base font-bold text-black shadow-[0_12px_32px_rgba(255,153,0,.4)] hover:shadow-[0_16px_40px_rgba(255,153,0,.5)] hover:scale-105 transition-all duration-300 hover:from-orange-400 hover:to-orange-500",type:"button",children:[r.jsx("span",{children:"Explore listings"}),r.jsx("div",{className:"w-5 h-5 rounded-full bg-black/20 flex items-center justify-center group-hover:translate-x-1 transition-transform duration-200",children:r.jsx("div",{className:"w-2 h-2 bg-black rounded-full"})}),r.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-orange-500 to-orange-600 opacity-0 group-hover:opacity-20 blur-xl transition-opacity duration-300"})]}),r.jsxs("button",{onClick:t,className:"group inline-flex items-center gap-2 rounded-full border border-white/20 bg-white/5 px-6 py-3 text-sm text-white/85 hover:bg-white/10 hover:border-white/30 transition-all duration-200",children:[r.jsx("span",{className:"text-lg",children:"+"}),"List an item"]})]})}),r.jsx("div",{className:`mx-auto mt-8 flex justify-center transition-all duration-1000 delay-800 ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,children:r.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-4 py-2 backdrop-blur-sm",children:[r.jsx("div",{className:"w-2 h-2 bg-amber-400 rounded-full animate-pulse"}),r.jsxs("span",{className:"text-sm text-white/80",children:[r.jsx("span",{className:"font-bold text-amber-400",children:m?`${h}+`:"0+"}),r.jsx("span",{className:"ml-1",children:"Active Items"})]})]})})]})]})}function _J({children:t,delay:e=0}){const[n,s]=f.useState(!1);return f.useEffect(()=>{const i=setTimeout(()=>s(!0),e);return()=>clearTimeout(i)},[e]),r.jsx("span",{className:`inline-flex items-center rounded-full border border-white/15 bg-white/[0.04] px-3 py-1 text-[11px] font-medium text-white/70 backdrop-blur-sm hover:bg-white/[0.08] transition-all duration-300 ${n?"opacity-100 translate-y-0":"opacity-0 translate-y-2"}`,children:t})}function xh({className:t="",children:e,delay:n=0}){const[s,i]=f.useState(!1);return f.useEffect(()=>{const a=setTimeout(()=>i(!0),n);return()=>clearTimeout(a)},[n]),r.jsx("div",{className:`nr-panel hover:border-white/12 transition-all duration-300 ${s?"opacity-100 translate-y-0":"opacity-0 translate-y-4"} ${t}`,children:e})}function x0({children:t,delay:e=0}){const[n,s]=f.useState(!1);return f.useEffect(()=>{const i=setTimeout(()=>s(!0),e);return()=>clearTimeout(i)},[e]),r.jsx("div",{className:`nr-iconTile hover:scale-105 transition-all duration-300 ${n?"opacity-100 scale-100":"opacity-0 scale-95"}`,children:r.jsx("div",{className:"nr-iconTile-inner",children:t})})}const v0={Cap:()=>r.jsxs("svg",{width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",children:[r.jsx("path",{d:"M3 9l9-4 9 4-9 4-9-4Z",stroke:"currentColor",strokeWidth:"1.6"}),r.jsx("path",{d:"M7 11v4c0 1.1 2.7 2 6 2s6-.9 6-2v-4",stroke:"currentColor",strokeWidth:"1.6"})]}),Box:()=>r.jsxs("svg",{width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",children:[r.jsx("path",{d:"M12 3 3 7.5 12 12l9-4.5L12 3Z",stroke:"currentColor",strokeWidth:"1.6"}),r.jsx("path",{d:"M3 7.5V16l9 4.5 9-4.5V7.5",stroke:"currentColor",strokeWidth:"1.6"}),r.jsx("path",{d:"M12 12v8.5",stroke:"currentColor",strokeWidth:"1.6"})]}),Shield:()=>r.jsxs("svg",{width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",children:[r.jsx("path",{d:"M12 3 4 6v6c0 4.5 3.4 7.3 8 9 4.6-1.7 8-4.5 8-9V6l-8-3Z",stroke:"currentColor",strokeWidth:"1.6"}),r.jsx("path",{d:"M9 12l2 2 4-4",stroke:"currentColor",strokeWidth:"1.6"})]})};function MJ(){const[t,e]=f.useState(!1),n=["Furniture","Electronics","Textbooks","Bikes","Dorm essentials","Mini fridge","Sofa","Desk","Notebooks","Lamp","Laptop","Chair"];return f.useEffect(()=>{e(!0)},[]),r.jsxs("section",{className:"nr-dots-fade mx-auto max-w-7xl px-4 pt-10 pb-16",children:[r.jsxs("div",{className:`mb-8 text-center transition-all duration-1000 ${t?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:[r.jsx(_J,{delay:200,children:"WHY NEWRUN MARKETPLACE"}),r.jsx("h2",{className:"mt-4 text-4xl font-black tracking-tight sm:text-[44px] bg-gradient-to-r from-white to-white/80 bg-clip-text text-transparent",children:"The easiest way to trade on campus."}),r.jsx("p",{className:"mt-4 text-white/60 max-w-2xl mx-auto",children:"Join thousands of students buying and selling campus essentials safely and efficiently."})]}),r.jsxs("div",{className:"grid gap-6 lg:grid-cols-12",children:[r.jsxs(xh,{className:"relative overflow-hidden lg:col-span-7",delay:400,children:[r.jsx("div",{className:"mb-6",children:r.jsx("span",{className:"rounded-full border border-white/15 bg-white/[0.03] px-3 py-1.5 text-[11px] text-white/70 backdrop-blur-sm",children:" Get Ahead"})}),r.jsxs("h3",{className:"max-w-xl text-[30px] font-extrabold leading-tight sm:text-[34px] bg-gradient-to-r from-white to-white/90 bg-clip-text text-transparent",children:["Trade safely with real classmates",r.jsx("br",{})," no sketchy meetups."]}),r.jsx("p",{className:"mt-4 max-w-xl text-white/80 text-lg leading-relaxed",children:"Sign in with your .edu email, send quick offers, and choose pickup, local delivery, or shipping. Your details stay private until access is approved."}),r.jsx("div",{className:"mt-6 nr-marquee",style:{"--nr-gap":"12px","--nr-marquee-dur":"25s"},children:r.jsxs("div",{className:"nr-marquee-track",children:[n.map((s,i)=>r.jsx("span",{className:"nr-chip hover:bg-white/10 transition-colors duration-200",children:s},`a-${i}`)),n.map((s,i)=>r.jsx("span",{className:"nr-chip hover:bg-white/10 transition-colors duration-200",children:s},`b-${i}`))]})}),r.jsx("div",{className:"mt-8",children:r.jsxs("a",{href:"#market-grid",className:"group inline-flex items-center gap-2 rounded-xl bg-gradient-to-r from-amber-500 to-orange-600 px-6 py-3 text-sm font-semibold text-black shadow-[0_10px_30px_rgba(255,153,0,.22)] hover:shadow-[0_15px_40px_rgba(255,153,0,.3)] hover:scale-105 transition-all duration-200",children:["Explore listings",r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",className:"group-hover:translate-x-1 transition-transform duration-200",children:r.jsx("path",{d:"M5 12h14M13 5l7 7-7 7",stroke:"currentColor",strokeWidth:"2",fill:"none"})})]})}),r.jsx("div",{className:"nr-ramp","aria-hidden":!0})]}),r.jsxs("div",{className:"flex flex-col gap-5 lg:col-span-5",children:[r.jsxs(xh,{className:"flex items-start gap-4 p-5 sm:p-6 hover:bg-white/[0.02] transition-all duration-300",delay:600,children:[r.jsx(x0,{delay:700,children:r.jsx(v0.Cap,{})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-[12px] font-semibold tracking-wide text-white/60",children:"VERIFIED STUDENTS"}),r.jsx("h4",{className:"mt-1 text-[18px] font-semibold text-white",children:"Sign in with .edu"}),r.jsx("p",{className:"mt-2 text-white/75 leading-relaxed",children:"Buyers and sellers know they're dealing with real classmates."})]})]}),r.jsxs(xh,{className:"flex items-start gap-4 p-5 sm:p-6 hover:bg-white/[0.02] transition-all duration-300",delay:800,children:[r.jsx(x0,{delay:900,children:r.jsx(v0.Box,{})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-[12px] font-semibold tracking-wide text-white/60",children:"PICKUP OR DELIVERY"}),r.jsx("h4",{className:"mt-1 text-[18px] font-semibold text-white",children:"Choose what works"}),r.jsx("p",{className:"mt-2 text-white/75 leading-relaxed",children:"Pickup, local delivery, or shipping  filter listings by what fits your plan."})]})]}),r.jsxs(xh,{className:"flex items-start gap-4 p-5 sm:p-6 hover:bg-white/[0.02] transition-all duration-300",delay:1e3,children:[r.jsx(x0,{delay:1100,children:r.jsx(v0.Shield,{})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-[12px] font-semibold tracking-wide text-white/60",children:"SAFE CONTACT SHARING"}),r.jsx("h4",{className:"mt-1 text-[18px] font-semibold text-white",children:"Privacy by default"}),r.jsx("p",{className:"mt-2 text-white/75 leading-relaxed",children:"When access is approved, share only what's needed  nothing more."})]})]})]})]})]})}const pk=["Furniture","Electronics","Books","Bikes","Kitchen","Other"],TJ=["New","Like New","Good","Fair","Used"],y0=[{key:"",label:"Any delivery"},{key:"pickup",label:"Pickup"},{key:"localDelivery",label:"Local delivery"},{key:"shipping",label:"Shipping"}],uc=[{key:"createdAt",label:"Newest First",sortBy:"createdAt",sortOrder:"desc"},{key:"createdAt-asc",label:"Oldest First",sortBy:"createdAt",sortOrder:"asc"},{key:"price-asc",label:"Price: Low to High",sortBy:"price",sortOrder:"asc"},{key:"price-desc",label:"Price: High to Low",sortBy:"price",sortOrder:"desc"},{key:"likes-desc",label:"Most Popular",sortBy:"likes",sortOrder:"desc"},{key:"views-desc",label:"Most Viewed",sortBy:"views",sortOrder:"desc"}];function BL(...t){return t.filter(Boolean).join(" ")}function go({active:t,children:e,onClick:n}){return r.jsx("button",{type:"button",onClick:n,className:BL("w-full text-left rounded-lg px-3 py-2 text-sm transition-all duration-200",t?"bg-blue-500/20 text-blue-300 border border-blue-400/30":"text-white/80 hover:bg-white/10 hover:text-white border border-transparent"),children:e})}function hc({label:t,activeLabel:e,children:n,isOpen:s,onToggle:i}){const a=f.useRef(null);return f.useEffect(()=>{const o=l=>{a.current&&!a.current.contains(l.target)&&i(!1)};return document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)},[i]),r.jsxs("div",{ref:a,className:"relative",children:[r.jsxs("button",{type:"button",onClick:()=>i(!s),className:BL("rounded-full px-3.5 py-1.5 text-sm transition-all duration-200",s?"bg-white/10 text-white border border-white/20":"bg-white/5 text-white/70 hover:bg-white/10 border border-white/10"),children:[e||t,r.jsx("svg",{className:"inline-block ml-1 w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s&&r.jsx("div",{className:"absolute left-0 z-[9999] mt-3 w-[280px] rounded-xl border border-white/20 bg-[#0f1115]/98 backdrop-blur-2xl p-1 shadow-2xl",children:n})]})}function LJ(){var J,fe,le,ce;const t=pt(),[e,n]=f.useState(""),[s,i]=f.useState(""),[a,o]=f.useState(""),[l,c]=f.useState(""),[u,d]=f.useState(""),[h,p]=f.useState(""),[m,g]=f.useState(""),[x,b]=f.useState("createdAt"),[v,y]=f.useState(!1),[w,k]=f.useState(!1),[N,S]=f.useState(!1),[M,j]=f.useState(!1),[C,L]=f.useState(!1),[O,F]=f.useState([]),[$,I]=f.useState(null),[_,P]=f.useState(!0),[E,T]=f.useState(!1),[D,R]=f.useState(new Set),[z,q]=f.useState(!1),[H,U]=f.useState(!1),[B,V]=f.useState(!1),G=f.useMemo(()=>{const ne=uc.find(ye=>ye.key===x),ie=(ne==null?void 0:ne.sortBy)??"createdAt",de=(ne==null?void 0:ne.sortOrder)??"desc",ee={query:e,campus:u,delivery:l,category:s,condition:a,min:h,max:m,minPrice:h,maxPrice:m,sortBy:ie,sortOrder:de};return Object.keys(ee).forEach(ye=>(ee[ye]===""||ee[ye]==null)&&delete ee[ye]),ee},[e,u,l,s,a,h,m,x]),Q=async(ne=!1)=>{var ie,de;try{ne?T(!0):P(!0);const ee=await ge.get("/marketplace/items",{params:{...G,cursor:ne?$:void 0,limit:24}}),ye=((ie=ee==null?void 0:ee.data)==null?void 0:ie.items)||[],xe=uc.find(Y=>Y.key===x),Ce=(xe==null?void 0:xe.sortBy)??"createdAt",X=(xe==null?void 0:xe.sortOrder)??"desc",A=Y=>{if(Ce==="createdAt"){const Z=Y.createdAt||Y.createdOn;return new Date(Z||0).getTime()}return Number(Y[Ce]??0)};ye.sort((Y,Z)=>(X==="asc"?1:-1)*(A(Y)-A(Z))),F(Y=>ne?[...Y,...ye]:ye),I(((de=ee==null?void 0:ee.data)==null?void 0:de.nextCursor)||null)}catch{ne||F([]),I(null)}finally{P(!1),T(!1)}};f.useEffect(()=>{const ne=setTimeout(()=>Q(!1),220);return()=>clearTimeout(ne)},[G]),f.useEffect(()=>{const ne=()=>{const ie=document.getElementById("filter-section");ie&&(ie.getBoundingClientRect().bottom<0?(U(!0),V(!1)):(U(!1),V(!1)))};return window.addEventListener("scroll",ne),()=>window.removeEventListener("scroll",ne)},[]),f.useEffect(()=>{const ne=ie=>{if(B&&H){const de=document.querySelector("[data-filter-button]"),ee=document.querySelector("[data-filter-panel]");de&&ee&&!de.contains(ie.target)&&!ee.contains(ie.target)&&V(!1)}};return document.addEventListener("mousedown",ne),()=>document.removeEventListener("mousedown",ne)},[B,H]),f.useEffect(()=>{I(null)},[x,e,s,a,l,h,m,u]),f.useEffect(()=>{const ne=ie=>{n(ie.detail.query)};return window.addEventListener("marketplaceSearch",ne),()=>window.removeEventListener("marketplaceSearch",ne)},[]);const se=async ne=>{try{const ie=await ge.post(`/marketplace/favorites/${ne._id}`);R(de=>{var ye;const ee=new Set(de);return(ye=ie==null?void 0:ie.data)!=null&&ye.favored?ee.add(ne._id):ee.delete(ne._id),ee})}catch{}},te=()=>{const ne=document.getElementById("filter-section");ne&&(ne.scrollIntoView({behavior:"smooth",block:"start"}),V(!1))},K=()=>{V(ne=>!ne)};return r.jsxs("div",{className:"nr-dots-page min-h-screen text-white relative",children:[r.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[r.jsx("div",{className:"hero-orb absolute top-1/4 left-1/4 w-32 h-32 bg-gradient-to-r from-orange-500/10 to-cyan-500/10 rounded-full blur-3xl"}),r.jsx("div",{className:"hero-orb absolute bottom-1/4 right-1/4 w-48 h-48 bg-gradient-to-r from-blue-500/10 to-purple-500/10 rounded-full blur-3xl"}),r.jsx("div",{className:"hero-orb absolute top-1/2 right-1/3 w-24 h-24 bg-gradient-to-r from-emerald-500/10 to-teal-500/10 rounded-full blur-2xl"})]}),r.jsx(ht,{}),r.jsx(PJ,{onListItem:()=>q(!0)}),r.jsx(MJ,{}),r.jsx("section",{className:"mx-auto max-w-7xl px-4 py-12",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsxs("div",{className:"text-center p-6 rounded-2xl border border-white/10 bg-[#0f1115]/50 backdrop-blur-sm",children:[r.jsxs("div",{className:"text-3xl font-bold text-blue-400 mb-2",children:[O.length,"+"]}),r.jsx("div",{className:"text-sm text-white/70",children:"Active Items"})]}),r.jsxs("div",{className:"text-center p-6 rounded-2xl border border-white/10 bg-[#0f1115]/50 backdrop-blur-sm",children:[r.jsx("div",{className:"text-3xl font-bold text-purple-400 mb-2",children:"24/7"}),r.jsx("div",{className:"text-sm text-white/70",children:"Available"})]}),r.jsxs("div",{className:"text-center p-6 rounded-2xl border border-white/10 bg-[#0f1115]/50 backdrop-blur-sm",children:[r.jsx("div",{className:"text-3xl font-bold text-teal-400 mb-2",children:"100%"}),r.jsx("div",{className:"text-sm text-white/70",children:"Student Verified"})]}),r.jsxs("div",{className:"text-center p-6 rounded-2xl border border-white/10 bg-[#0f1115]/50 backdrop-blur-sm",children:[r.jsx("div",{className:"text-3xl font-bold text-green-400 mb-2",children:"$0"}),r.jsx("div",{className:"text-sm text-white/70",children:"Transaction Fees"})]})]})}),r.jsxs("main",{className:"mx-auto max-w-7xl px-4 pb-16 overflow-visible",children:[r.jsx("section",{id:"filter-section",className:"relative z-50 mb-8 rounded-2xl border border-white/10 bg-[#0f1115]/95 backdrop-blur-xl shadow-2xl overflow-visible",children:r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"mb-4 flex flex-wrap items-center gap-2",children:[r.jsx("span",{className:"text-sm font-medium text-white/70",children:"Active filters:"}),s&&r.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-blue-500/20 px-3 py-1 text-xs text-blue-300",children:[s,r.jsx("button",{onClick:()=>i(""),className:"ml-1 hover:text-blue-100",children:""})]}),a&&r.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-purple-500/20 px-3 py-1 text-xs text-purple-300",children:[a,r.jsx("button",{onClick:()=>o(""),className:"ml-1 hover:text-purple-100",children:""})]}),l&&r.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-teal-500/20 px-3 py-1 text-xs text-teal-300",children:[(J=y0.find(ne=>ne.key===l))==null?void 0:J.label,r.jsx("button",{onClick:()=>c(""),className:"ml-1 hover:text-teal-100",children:""})]}),(h||m)&&r.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-green-500/20 px-3 py-1 text-xs text-green-300",children:["$",h||0,"$",m||"",r.jsx("button",{onClick:()=>{p(""),g("")},className:"ml-1 hover:text-green-100",children:""})]}),u&&r.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-orange-500/20 px-3 py-1 text-xs text-orange-300",children:[u,r.jsx("button",{onClick:()=>d(""),className:"ml-1 hover:text-orange-100",children:""})]}),(s||a||l||h||m||u)&&r.jsx("button",{onClick:()=>{i(""),o(""),c(""),p(""),g(""),d("")},className:"text-xs text-white/50 hover:text-white/80",children:"Clear all"})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3 p-6 rounded-2xl border border-white/10 bg-[#0f1115]/50 backdrop-blur-xl",children:[r.jsxs("div",{className:"relative flex-1 min-w-[220px]",children:[r.jsx("span",{className:"pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 text-white/40",children:""}),r.jsx("input",{value:e,onChange:ne=>n(ne.target.value),placeholder:"Search items",className:"w-full rounded-xl border border-white/10 bg-white/[0.06] pl-8 pr-3 py-2.5 text-sm outline-none placeholder:text-white/40 focus:border-sky-500 focus:ring-1 focus:ring-sky-500/20"})]}),r.jsx("input",{value:u,onChange:ne=>d(ne.target.value),placeholder:"Campus",className:"min-w-[150px] rounded-xl border border-white/10 bg-white/[0.06] px-3 py-2.5 text-sm outline-none placeholder:text-white/40 focus:border-sky-500 focus:ring-1 focus:ring-sky-500/20"}),r.jsx(hc,{label:"Sort",activeLabel:((fe=uc.find(ne=>ne.key===x))==null?void 0:fe.label)||"Newest First",isOpen:v,onToggle:y,children:r.jsx("div",{className:"grid gap-1 p-1",children:uc.map(ne=>r.jsx(go,{active:x===ne.key,onClick:()=>{b(ne.key),y(!1)},children:ne.label},ne.key))})}),r.jsx(hc,{label:"Category",activeLabel:s||"All Categories",isOpen:w,onToggle:k,children:r.jsxs("div",{className:"grid grid-cols-2 gap-2 p-1",children:[r.jsx(go,{active:!s,onClick:()=>{i(""),k(!1)},children:"All"}),pk.map(ne=>r.jsx(go,{active:s===ne,onClick:()=>{i(ne),k(!1)},children:ne},ne))]})}),r.jsx(hc,{label:"Condition",activeLabel:a||"Any Condition",isOpen:N,onToggle:S,children:r.jsxs("div",{className:"grid grid-cols-2 gap-2 p-1",children:[r.jsx(go,{active:!a,onClick:()=>{o(""),S(!1)},children:"Any"}),TJ.map(ne=>r.jsx(go,{active:a===ne,onClick:()=>{o(ne),S(!1)},children:ne},ne))]})}),r.jsx(hc,{label:"Delivery",activeLabel:((le=y0.find(ne=>ne.key===l))==null?void 0:le.label)||"Any Delivery",isOpen:M,onToggle:j,children:r.jsx("div",{className:"grid grid-cols-2 gap-2 p-1",children:y0.map(ne=>r.jsx(go,{active:l===ne.key,onClick:()=>{c(ne.key),j(!1)},children:ne.label},ne.key||"any"))})}),r.jsx(hc,{label:"Price Range",activeLabel:h||m?`$${h||0}$${m||""}`:"Any Price",isOpen:C,onToggle:L,children:r.jsxs("div",{className:"p-3",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-white/70 mb-1 block font-medium",children:"Min Price"}),r.jsx("input",{type:"number",min:"0",value:h,onChange:ne=>p(ne.target.value),placeholder:"0",className:"w-full rounded-lg border border-white/20 bg-white/5 px-3 py-2 text-sm text-white outline-none placeholder:text-white/40 focus:border-blue-400 focus:bg-white/10 transition-all duration-200"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-white/70 mb-1 block font-medium",children:"Max Price"}),r.jsx("input",{type:"number",min:"0",value:m,onChange:ne=>g(ne.target.value),placeholder:"1000",className:"w-full rounded-lg border border-white/20 bg-white/5 px-3 py-2 text-sm text-white outline-none placeholder:text-white/40 focus:border-blue-400 focus:bg-white/10 transition-all duration-200"})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("button",{onClick:()=>{p(""),g(""),L(!1)},className:"text-xs text-white/60 hover:text-white/80 transition-colors px-2 py-1 rounded hover:bg-white/5",children:"Clear"}),r.jsx("button",{onClick:()=>{Q(!1),L(!1)},className:"rounded-lg bg-blue-500 px-4 py-2 text-xs font-medium text-white hover:bg-blue-600 transition-colors",children:"Apply"})]})]})})]})]})}),r.jsxs("div",{className:"relative z-10 mb-6 flex items-center justify-between p-6 rounded-2xl border border-white/10 bg-[#0f1115]/30 backdrop-blur-xl",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("h2",{className:"text-xl font-semibold text-white",children:_?"Loading items...":`${O.length} items found`}),!_&&O.length>0&&r.jsxs("span",{className:"text-sm text-white/60",children:["Sorted by ",(ce=uc.find(ne=>ne.key===x))==null?void 0:ce.label.toLowerCase()]})]}),!_&&O.length>0&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-white/60",children:[r.jsx("span",{children:"View:"}),r.jsx("button",{className:"rounded-lg bg-white/10 px-3 py-1 text-white text-sm",children:"Grid"}),r.jsx("button",{className:"rounded-lg px-3 py-1 hover:bg-white/5 text-sm",children:"List"})]})]}),r.jsx("div",{id:"market-grid",children:_?r.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:Array.from({length:8}).map((ne,ie)=>r.jsxs("div",{className:"group overflow-hidden rounded-3xl border border-white/10 bg-[#0f1115] shadow-[0_12px_32px_-12px_rgba(0,0,0,.60)]",children:[r.jsx("div",{className:"aspect-[16/10] w-full animate-pulse bg-white/[0.06]"}),r.jsxs("div",{className:"p-5",children:[r.jsxs("div",{className:"mb-2",children:[r.jsx("div",{className:"h-6 w-3/4 animate-pulse rounded bg-white/[0.06] mb-2"}),r.jsx("div",{className:"h-4 w-full animate-pulse rounded bg-white/[0.04]"})]}),r.jsx("div",{className:"my-3 h-px w-full bg-white/8"}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"h-4 w-1/2 animate-pulse rounded bg-white/[0.04]"}),r.jsx("div",{className:"h-6 w-16 animate-pulse rounded-full bg-white/[0.08]"})]}),r.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[r.jsx("div",{className:"h-3 w-1/3 animate-pulse rounded bg-white/[0.04]"}),r.jsx("div",{className:"h-8 w-8 animate-pulse rounded-full bg-white/[0.08]"})]})]})]},ie))}):O.length===0?r.jsxs("div",{className:"rounded-2xl border border-white/10 bg-[#0f1115]/50 p-12 text-center backdrop-blur-sm",children:[r.jsx("div",{className:"mx-auto mb-6 w-24 h-24 rounded-full bg-gradient-to-r from-orange-500/20 to-amber-500/20 flex items-center justify-center",children:r.jsx("svg",{className:"w-12 h-12 text-orange-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No items found"}),r.jsx("p",{className:"text-white/60 mb-6 max-w-md mx-auto",children:"No items match your current filters. Try adjusting your search criteria or browse all items."}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[r.jsx("button",{onClick:()=>{n(""),i(""),o(""),c(""),p(""),g(""),d("")},className:"styled-button--sm",children:"Clear all filters"}),r.jsx("button",{onClick:()=>t("/marketplace/create"),className:"styled-button--sm",children:"Sell your first item"})]})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:O.map(ne=>r.jsx(EJ,{item:ne,favored:D.has(ne._id),onToggleFav:se,onClick:()=>t(`/marketplace/item/${ne._id}`)},ne._id))}),$&&r.jsx("div",{className:"mt-12 grid place-items-center",children:r.jsx("button",{disabled:E,onClick:()=>Q(!0),className:"styled-button group relative disabled:opacity-60",children:r.jsx("span",{className:"relative z-10 flex items-center gap-2",children:E?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Loading more items..."]}):r.jsxs(r.Fragment,{children:["Load more items",r.jsx("svg",{className:"w-4 h-4 group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})})})})]})})]}),r.jsx(RL,{isOpen:z,onClose:()=>q(!1),onItemCreated:()=>{Q(!1)}}),H&&r.jsx("div",{className:"fixed left-4 top-1/2 -translate-y-1/2 z-40",children:r.jsx("button",{"data-filter-button":!0,onClick:K,className:"w-12 h-12 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-110 flex items-center justify-center",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})})})}),H&&r.jsx("div",{className:"fixed left-20 top-1/2 -translate-y-1/2 z-40",children:r.jsxs("div",{"data-filter-panel":!0,className:`w-80 max-w-80 rounded-2xl border border-white/20 bg-white/5 backdrop-blur-xl shadow-2xl p-6 transition-all duration-500 ease-out transform overflow-hidden ${B?"translate-x-0 opacity-100 scale-100":"-translate-x-full opacity-0 scale-95 pointer-events-none"}`,children:[r.jsxs("div",{className:`flex items-center justify-between mb-4 transition-all duration-700 ease-out ${B?"translate-y-0 opacity-100":"translate-y-2 opacity-0"}`,children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Quick Filters"}),r.jsx("button",{onClick:te,className:"text-xs text-orange-400 hover:text-orange-300 transition-colors",children:"View All Filters"})]}),r.jsxs("div",{className:`space-y-3 transition-all duration-700 ease-out delay-100 ${B?"translate-y-0 opacity-100":"translate-y-4 opacity-0"}`,children:[r.jsxs("div",{className:"w-full",children:[r.jsx("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Search"}),r.jsx("input",{type:"text",value:e,onChange:ne=>n(ne.target.value),placeholder:"Search items...",className:"w-full max-w-full rounded-lg border border-white/10 bg-white/[0.06] px-3 py-2 text-sm text-white outline-none placeholder:text-white/40 focus:border-sky-500"})]}),r.jsxs("div",{className:"w-full",children:[r.jsx("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Category"}),r.jsxs("select",{value:s,onChange:ne=>i(ne.target.value),className:"w-full max-w-full rounded-lg border border-white/10 bg-white/[0.06] px-3 py-2 text-sm text-white outline-none focus:border-sky-500",children:[r.jsx("option",{value:"",children:"All Categories"}),pk.map(ne=>r.jsx("option",{value:ne,children:ne},ne))]})]}),r.jsxs("div",{className:"w-full",children:[r.jsx("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Price Range"}),r.jsxs("div",{className:"flex gap-2 w-full",children:[r.jsx("input",{type:"number",value:h,onChange:ne=>p(ne.target.value),placeholder:"Min",className:"flex-1 min-w-0 rounded-lg border border-white/10 bg-white/[0.06] px-3 py-2 text-sm text-white outline-none placeholder:text-white/40 focus:border-sky-500"}),r.jsx("input",{type:"number",value:m,onChange:ne=>g(ne.target.value),placeholder:"Max",className:"flex-1 min-w-0 rounded-lg border border-white/10 bg-white/[0.06] px-3 py-2 text-sm text-white outline-none placeholder:text-white/40 focus:border-sky-500"})]})]})]})]})})]})}const b0=({src:t,alt:e,className:n="",style:s={},width:i=800,height:a=800,quality:o=85,loading:l="lazy",onLoad:c,onError:u,fallbackIcon:d,showLoading:h=!0,showError:p=!0,...m})=>{const[g,x]=f.useState(!0),[b,v]=f.useState(!1);f.useEffect(()=>{x(!0),v(!1)},[t]);const y=(M,j,C,L)=>(!M||M.includes("cloudinary")||M.includes("resize")||M.includes("transform")||M.includes("imagekit"),M),w=()=>{x(!1),v(!1),c==null||c()},k=()=>{x(!1),v(!0),u==null||u()},N=()=>{x(!0),v(!1)},S={maxWidth:"100%",maxHeight:"100%",objectFit:"cover",objectPosition:"center",...s};return t?r.jsxs("div",{className:`relative ${n}`,style:S,children:[h&&g&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/5 z-10",children:r.jsxs("div",{className:"flex flex-col items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 border-2 border-white/30 border-t-white rounded-full animate-spin"}),r.jsx("p",{className:"text-white/60 text-sm",children:"Loading..."})]})}),p&&b&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/5 z-10",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-3",children:r.jsx("svg",{className:"w-8 h-8 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),r.jsx("p",{className:"text-red-300 text-sm",children:"Failed to load"}),r.jsx("button",{onClick:N,className:"mt-2 px-3 py-1 bg-white/10 hover:bg-white/20 rounded-lg text-xs transition-colors",children:"Retry"})]})}),r.jsx("img",{src:y(t),alt:e,className:`w-full h-full transition-all duration-300 ${g?"opacity-0":"opacity-100"}`,onLoad:w,onError:k,loading:l,style:S,...m})]}):r.jsx("div",{className:`flex items-center justify-center bg-white/5 ${n}`,style:S,children:d?r.jsx(d,{className:"text-3xl text-white/40"}):r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-white/10 rounded-full flex items-center justify-center mx-auto mb-3",children:r.jsx("svg",{className:"w-8 h-8 text-white/40",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),r.jsx("p",{className:"text-white/60 text-sm",children:"No image available"})]})})};function AJ(t){return Se({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"},child:[]}]})(t)}function IJ(t){return Se({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M446.7 98.6l-67.6 318.8c-5.1 22.5-18.4 28.1-37.3 17.5l-103-75.9-49.7 47.8c-5.5 5.5-10.1 10.1-20.7 10.1l7.4-104.9 190.9-172.5c8.3-7.4-1.8-11.5-12.9-4.1L117.8 284 16.2 252.2c-22.1-6.9-22.5-22.1 4.6-32.7L418.2 66.4c18.4-6.9 34.5 4.1 28.5 32.2z"},child:[]}]})(t)}function OJ(t){return Se({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}function UL(t){return Se({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(t)}function w0(t){return Se({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"},child:[]}]})(t)}function vh(t){return Se({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function RJ(){var R,z,q,H,U,B,V,G,Q,se,te,K,J,fe,le;const{id:t}=mb(),e=pt(),[n,s]=f.useState(null),[i,a]=f.useState(!0),[o,l]=f.useState(""),[c,u]=f.useState(!1),[d,h]=f.useState(0),[p,m]=f.useState(!1),[g,x]=f.useState(!1),[b,v]=f.useState(!1),[y,w]=f.useState(!1),[k,N]=f.useState(!0),[S,M]=f.useState(!1);f.useEffect(()=>{j()},[t]);const j=async()=>{try{a(!0);const ce=await ge.get(`/marketplace/item/${t}`);s(ce.data.item),await ge.post(`/marketplace/item/${t}/view`)}catch(ce){console.error("Error fetching item details:",ce),l("Failed to load item details")}finally{a(!1)}},C=async()=>{try{c?await ge.delete(`/marketplace/favorites/${t}`):await ge.post(`/marketplace/favorites/${t}`),u(!c)}catch(ce){console.error("Error toggling favorite:",ce)}},L=()=>{x(!0)},O=ce=>{navigator.clipboard.writeText(ce)},F=ce=>{const ne=window.location.href,ie=(n==null?void 0:n.title)||"Check out this item on NewRun";let de="";switch(ce){case"facebook":de=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(ne)}`;break;case"twitter":de=`https://twitter.com/intent/tweet?url=${encodeURIComponent(ne)}&text=${encodeURIComponent(ie)}`;break;case"whatsapp":de=`https://wa.me/?text=${encodeURIComponent(ie+" "+ne)}`;break;case"telegram":de=`https://t.me/share/url?url=${encodeURIComponent(ne)}&text=${encodeURIComponent(ie)}`;break}de&&window.open(de,"_blank","width=600,height=400")},$=ce=>ce===0?"Free":`$${ce.toLocaleString("en-US")}`,I=ce=>{switch(ce){case"public":return"";case"campus":return"";case"shipping":return"";default:return""}},_=ce=>{switch(ce){case"public":return"Public Meeting";case"campus":return"Campus Pickup";case"shipping":return"Shipping Available";default:return"Contact Seller"}};if(i)return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:[r.jsx(ht,{}),r.jsx("div",{className:"flex items-center justify-center min-h-[80vh]",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 border-4 border-orange-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-white/70 text-lg",children:"Loading item details..."})]})})]});if(o||!n)return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:[r.jsx(ht,{}),r.jsx("div",{className:"flex items-center justify-center min-h-[80vh]",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Nr,{className:"text-red-400 text-2xl"})}),r.jsx("p",{className:"text-white/70 text-lg mb-4",children:o||"Item not found"}),r.jsx("button",{onClick:()=>e("/marketplace"),className:"px-6 py-3 bg-orange-500 hover:bg-orange-600 text-white rounded-full transition-colors",children:"Back to Marketplace"})]})})]});const P=n.images||[],E=P[d]||n.thumbnailUrl||"",T=()=>{N(!1),M(!1)},D=()=>{N(!1),M(!0)};return r.jsxs("div",{className:"nr-dots-page min-h-screen text-white",children:[r.jsx(ht,{}),r.jsxs("section",{className:"nr-hero-bg nr-hero-starry relative min-h-screen overflow-hidden",children:[r.jsxs("div",{className:"absolute inset-0",children:[r.jsx("div",{className:"hero-orb absolute top-1/4 left-1/4 w-32 h-32 bg-gradient-to-r from-orange-500/10 to-cyan-500/10 rounded-full blur-3xl"}),r.jsx("div",{className:"hero-orb absolute bottom-1/4 right-1/4 w-48 h-48 bg-gradient-to-r from-blue-500/10 to-purple-500/10 rounded-full blur-3xl"}),r.jsx("div",{className:"hero-orb absolute top-1/2 right-1/3 w-24 h-24 bg-gradient-to-r from-pink-500/10 to-orange-500/10 rounded-full blur-2xl"})]}),r.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[r.jsxs("nav",{className:"flex items-center space-x-2 text-sm text-white/60 mb-4",children:[r.jsx("button",{onClick:()=>e("/marketplace"),className:"hover:text-white/80 transition-colors",children:"Marketplace"}),r.jsx("span",{children:"/"}),r.jsx("span",{className:"text-white/80 font-medium",children:n.category}),r.jsx("span",{children:"/"}),r.jsx("span",{className:"text-white font-medium truncate",children:n.title})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"flex gap-4",children:[P.length>1&&r.jsx("div",{className:"flex flex-col gap-2 w-20",children:P.map((ce,ne)=>r.jsx("button",{onClick:()=>h(ne),className:`w-20 h-20 rounded-xl overflow-hidden border-2 transition-all duration-200 ${ne===d?"border-orange-500 shadow-lg shadow-orange-500/25":"border-white/20 hover:border-white/40 bg-white/5"}`,children:r.jsx(b0,{src:ce,alt:`${n.title} ${ne+1}`,className:"w-full h-full",width:200,height:200,quality:80,loading:"lazy",showLoading:!1,showError:!1})},ne))}),r.jsxs("div",{className:"flex-1 relative group",children:[r.jsxs("div",{className:"relative aspect-square rounded-2xl overflow-hidden bg-white/5 border border-white/10 cursor-zoom-in shadow-2xl",onClick:()=>m(!0),children:[r.jsx(b0,{src:E,alt:n.title,className:"w-full h-full group-hover:scale-105 transition-transform duration-300",width:800,height:800,quality:85,loading:"lazy",onLoad:T,onError:D,fallbackIcon:wi}),r.jsx("div",{className:"absolute top-4 right-4 bg-black/50 backdrop-blur-sm rounded-full p-2 opacity-0 group-hover:opacity-100 transition-opacity",children:r.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"})})})]}),P.length>1&&r.jsxs("div",{className:"absolute inset-0 flex items-center justify-between p-4 opacity-0 group-hover:opacity-100 transition-opacity",children:[r.jsx("button",{onClick:ce=>{ce.stopPropagation(),h(ne=>ne>0?ne-1:P.length-1)},className:"w-10 h-10 bg-black/50 backdrop-blur-sm rounded-full flex items-center justify-center text-white hover:bg-black/70 transition-all duration-200 shadow-lg",children:r.jsx(E_,{className:"text-lg"})}),r.jsx("button",{onClick:ce=>{ce.stopPropagation(),h(ne=>ne<P.length-1?ne+1:0)},className:"w-10 h-10 bg-black/50 backdrop-blur-sm rounded-full flex items-center justify-center text-white hover:bg-black/70 transition-all duration-200 shadow-lg",children:r.jsx(bb,{className:"text-lg"})})]})]})]})}),r.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h1",{className:"text-2xl font-bold text-white mb-2 leading-tight",children:n.title}),r.jsxs("p",{className:"text-sm text-white/60 mb-3",children:["Item #",(R=n._id)==null?void 0:R.slice(-6).toUpperCase()]}),r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("span",{className:"inline-flex items-center rounded-full border border-white/10 bg-white/5 px-2 py-1 text-xs text-white/70",children:((z=n.condition)==null?void 0:z.charAt(0).toUpperCase())+((q=n.condition)==null?void 0:q.slice(1))}),r.jsx("span",{className:"inline-flex items-center rounded-full border border-white/10 bg-white/5 px-2 py-1 text-xs text-white/70",children:n.category})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:C,className:"rounded-lg border border-white/10 p-1.5 text-white/80 hover:bg-white/10",children:c?r.jsx(bm,{className:"text-lg"}):r.jsx(yb,{className:"text-lg"})}),r.jsx("button",{onClick:L,className:"rounded-lg border border-white/10 p-1.5 text-white/80 hover:bg-white/10",children:r.jsx(OV,{className:"text-lg"})})]})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:"text-3xl font-bold text-white",children:$(n.price)}),r.jsx("p",{className:"text-sm text-white/70",children:"Negotiable  Cash preferred  No fees"})]})]}),r.jsxs("div",{className:"rounded-2xl border border-white/10 bg-gradient-to-br from-white/5 via-white/2 to-white/0 p-3",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"w-12 h-12 bg-white/10 rounded-full flex items-center justify-center border border-white/10",children:r.jsx(wi,{className:"text-white/70 text-lg"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-white text-lg",children:((H=n.contactInfo)==null?void 0:H.name)||"Seller"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(fv,{className:"text-white/70 text-sm"}),r.jsx("span",{className:"text-sm text-white/70 font-medium",children:"Verified Seller"}),r.jsx("span",{className:"text-sm text-white/60",children:" Student"})]})]})]}),r.jsxs("div",{className:"text-sm text-white/70",children:[r.jsxs("p",{children:[" ",((U=n.contactInfo)==null?void 0:U.generalLocation)||"Campus area"]}),r.jsx("p",{children:" Responds within 2 hours"})]})]}),r.jsx("div",{className:"rounded-xl border border-white/10 bg-white/5 p-3",children:r.jsxs("p",{className:"text-sm text-white/70",children:[r.jsx("span",{className:"font-semibold",children:"12 people"})," viewed this in the last hour"]})}),r.jsx("div",{className:"rounded-2xl border border-white/10 bg-gradient-to-br from-white/5 via-white/2 to-white/0 p-4",children:r.jsxs("div",{className:"text-center space-y-3",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Interested in this item?"}),r.jsx("p",{className:"text-sm text-white/70",children:"Contact the seller to arrange a meeting"})]}),y?r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-3",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"w-10 h-10 bg-white/10 rounded-full flex items-center justify-center border border-white/10",children:r.jsx(wi,{className:"text-white/70 text-lg"})}),r.jsxs("div",{children:[r.jsx("span",{className:"text-white font-semibold text-sm",children:((B=n.contactInfo)==null?void 0:B.name)||"Seller"}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(fv,{className:"text-white/70 text-xs"}),r.jsx("span",{className:"text-white/70 text-xs font-medium",children:"Verified"})]})]})]}),((V=n.contactInfo)==null?void 0:V.email)&&r.jsxs("div",{className:"flex items-center gap-3 py-2 border-b border-white/10",children:[r.jsx("div",{className:"w-8 h-8 bg-white/10 rounded-full flex items-center justify-center border border-white/10",children:r.jsx(s5,{className:"text-white/70 text-sm"})}),r.jsx("span",{className:"text-white flex-1 font-medium text-sm",children:n.contactInfo.email}),r.jsx("button",{onClick:()=>O(n.contactInfo.email),className:"p-1.5 hover:bg-white/10 rounded-lg transition-colors",children:r.jsx(w0,{className:"text-white/60 text-xs"})})]}),((G=n.contactInfo)==null?void 0:G.phone)&&r.jsxs("div",{className:"flex items-center gap-3 py-2",children:[r.jsx("div",{className:"w-8 h-8 bg-white/10 rounded-full flex items-center justify-center border border-white/10",children:r.jsx(r5,{className:"text-white/70 text-sm"})}),r.jsx("span",{className:"text-white flex-1 font-medium text-sm",children:n.contactInfo.phone}),r.jsx("button",{onClick:()=>O(n.contactInfo.phone),className:"p-1.5 hover:bg-white/10 rounded-lg transition-colors",children:r.jsx(w0,{className:"text-white/60 text-xs"})})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("button",{onClick:()=>{var ce;return window.open(`mailto:${(ce=n.contactInfo)==null?void 0:ce.email}`,"_blank")},className:"rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-sm font-medium hover:bg-white/10 text-white flex items-center justify-center gap-2",children:[r.jsx(s5,{className:"text-sm"}),"Email"]}),((Q=n.contactInfo)==null?void 0:Q.phone)&&r.jsxs("button",{onClick:()=>window.open(`tel:${n.contactInfo.phone}`,"_blank"),className:"rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-sm font-medium hover:bg-white/10 text-white flex items-center justify-center gap-2",children:[r.jsx(r5,{className:"text-sm"}),"Call"]})]})]}):r.jsx("button",{onClick:()=>w(!0),className:"w-full bg-white/5 border border-white/10 hover:bg-white/10 text-white font-bold py-3 px-6 rounded-xl transition-all duration-200",children:r.jsxs("span",{className:"flex items-center justify-center gap-2",children:[r.jsx(wi,{className:"text-lg"}),"Contact Seller"]})})]})})]}),r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"rounded-2xl border border-white/10 bg-gradient-to-br from-white/5 via-white/2 to-white/0 p-4",children:[r.jsxs("div",{className:"flex space-x-1 mb-4 bg-white/5 rounded-xl p-1 border border-white/10",children:[r.jsx("button",{className:"flex-1 py-2 px-4 text-sm font-medium text-orange-400 bg-white/10 rounded-lg shadow-sm",children:"Details"}),r.jsx("button",{className:"flex-1 py-2 px-4 text-sm font-medium text-white/60 hover:text-white/80",children:"Reviews"}),r.jsx("button",{className:"flex-1 py-2 px-4 text-sm font-medium text-white/60 hover:text-white/80",children:"Specs"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"Description"}),r.jsx("p",{className:"text-sm text-white/80 leading-relaxed",children:n.description})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"Product Details"}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-white/70",children:"Condition:"}),r.jsx("span",{className:"font-medium text-white capitalize",children:n.condition})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-white/70",children:"Category:"}),r.jsx("span",{className:"font-medium text-white",children:n.category})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-white/70",children:"Posted:"}),r.jsx("span",{className:"font-medium text-white",children:new Date(n.createdAt).toLocaleDateString()})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-white/70",children:"Views:"}),r.jsx("span",{className:"font-medium text-white",children:Math.floor(Math.random()*50)+10})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"What's Included"}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-2 h-2 bg-white/70 rounded-full"}),r.jsx("span",{className:"text-white/80",children:"Original packaging"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-2 h-2 bg-white/70 rounded-full"}),r.jsx("span",{className:"text-white/80",children:"All accessories"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-2 h-2 bg-white/70 rounded-full"}),r.jsx("span",{className:"text-white/80",children:"User manual"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-2 h-2 bg-white/70 rounded-full"}),r.jsx("span",{className:"text-white/80",children:"Warranty card"})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"Exchange Method"}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-white/10 rounded-full flex items-center justify-center border border-white/10",children:I((se=n.contactInfo)==null?void 0:se.exchangeMethod)}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-white",children:_((te=n.contactInfo)==null?void 0:te.exchangeMethod)}),r.jsxs("p",{className:"text-sm text-white/70",children:[((K=n.contactInfo)==null?void 0:K.exchangeMethod)==="public"&&"Meet in a public place for safety",((J=n.contactInfo)==null?void 0:J.exchangeMethod)==="campus"&&"Pickup available on campus",((fe=n.contactInfo)==null?void 0:fe.exchangeMethod)==="shipping"&&"Item can be shipped to you"]})]})]})]}),((le=n.contactInfo)==null?void 0:le.generalLocation)&&r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"Location"}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-white/10 rounded-full flex items-center justify-center border border-white/10",children:r.jsx(ef,{className:"text-white/70 text-sm"})}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-white",children:n.contactInfo.generalLocation}),r.jsx("p",{className:"text-sm text-white/70",children:"General area only"})]})]})]}),r.jsx("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-white/10 rounded-full flex items-center justify-center flex-shrink-0 border border-white/10",children:r.jsx("span",{className:"text-white/70 text-sm",children:""})}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-white font-semibold text-sm mb-1",children:"Safety First"}),r.jsx("p",{className:"text-white/70 text-sm leading-relaxed",children:"Always meet in public places during daylight hours. Never share your home address."})]})]})})]})]})})]})]})]}),p&&r.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:r.jsxs("div",{className:"relative max-w-6xl max-h-[90vh] w-full",children:[r.jsx("button",{onClick:()=>m(!1),className:"absolute top-4 right-4 z-10 w-12 h-12 bg-white/10 backdrop-blur-sm rounded-full flex items-center justify-center text-white hover:bg-white/20 transition-all duration-200 shadow-lg border border-white/20",children:r.jsx(Nr,{className:"text-2xl"})}),r.jsx(b0,{src:E,alt:n.title,className:"w-full h-full rounded-2xl shadow-2xl",width:1200,height:1200,quality:90,loading:"eager",style:{objectFit:"contain"}}),P.length>1&&r.jsx("div",{className:"absolute bottom-6 left-1/2 transform -translate-x-1/2 flex gap-3",children:P.map((ce,ne)=>r.jsx("button",{onClick:()=>h(ne),className:`w-4 h-4 rounded-full transition-all duration-200 ${ne===d?"bg-orange-500 shadow-lg shadow-orange-500/50":"bg-white/50 hover:bg-white/70"}`},ne))})]})}),g&&r.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:r.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full shadow-2xl",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Share Item"}),r.jsx("button",{onClick:()=>x(!1),className:"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center text-gray-600 hover:bg-gray-200 transition-all duration-200",children:r.jsx(Nr,{className:"text-xl"})})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-3 p-4 bg-gray-50 rounded-xl border border-gray-200",children:[r.jsx("input",{type:"text",value:window.location.href,readOnly:!0,className:"flex-1 bg-transparent text-gray-700 text-sm"}),r.jsx("button",{onClick:()=>O(window.location.href),className:"p-3 hover:bg-gray-200 rounded-lg transition-colors",children:r.jsx(w0,{className:"text-gray-500 text-lg"})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("button",{onClick:()=>F("facebook"),className:"group flex items-center justify-center gap-3 py-4 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold transition-all duration-200 shadow-lg hover:shadow-xl hover:scale-105",children:[r.jsx(AJ,{className:"text-xl"}),"Facebook"]}),r.jsxs("button",{onClick:()=>F("twitter"),className:"group flex items-center justify-center gap-3 py-4 bg-sky-500 hover:bg-sky-600 text-white rounded-xl font-semibold transition-all duration-200 shadow-lg hover:shadow-xl hover:scale-105",children:[r.jsx(OJ,{className:"text-xl"}),"Twitter"]}),r.jsxs("button",{onClick:()=>F("whatsapp"),className:"group flex items-center justify-center gap-3 py-4 bg-green-500 hover:bg-green-600 text-white rounded-xl font-semibold transition-all duration-200 shadow-lg hover:shadow-xl hover:scale-105",children:[r.jsx(UL,{className:"text-xl"}),"WhatsApp"]}),r.jsxs("button",{onClick:()=>F("telegram"),className:"group flex items-center justify-center gap-3 py-4 bg-blue-500 hover:bg-blue-600 text-white rounded-xl font-semibold transition-all duration-200 shadow-lg hover:shadow-xl hover:scale-105",children:[r.jsx(IJ,{className:"text-xl"}),"Telegram"]})]})]})]})})]})}const ly=({itemData:t,isEdit:e,onClose:n,getAllItems:s,showToastMessage:i})=>{const[a,o]=f.useState({title:(t==null?void 0:t.title)||"",description:(t==null?void 0:t.description)||"",price:(t==null?void 0:t.price)||0,category:(t==null?void 0:t.category)||"",condition:(t==null?void 0:t.condition)||"used",address:(t==null?void 0:t.address)||{street:"",city:"",state:"",zipCode:""},contactInfo:(t==null?void 0:t.contactInfo)||{name:"",phone:"",email:""},files:[]});pt();const l=x=>{o(b=>({...b,files:x}))},{getRootProps:c,getInputProps:u}=Su({onDrop:l,accept:"image/*"}),d=x=>{o({...a,[x.target.name]:x.target.value})},h=x=>{o({...a,address:{...a.address,[x.target.name]:x.target.value}})},p=x=>{o({...a,contactInfo:{...a.contactInfo,[x.target.name]:x.target.value}})},m=async()=>{const x=new FormData;a.files.forEach(b=>{x.append("images",b)});try{return(await ge.post("/upload-images",x,{headers:{"Content-Type":"multipart/form-data"}})).data.imageUrls}catch(b){throw console.error("Error uploading images:",b),new Error("Failed to upload images")}},g=async x=>{x.preventDefault();try{const b=await m(),v={...a,images:b};e?(await ge.put(`/marketplace/item/${t._id}`,v),i("Marketplace Item Updated Successfully","edit")):(await ge.post("/marketplace/item",v),i("Marketplace Item Created Successfully","add")),s(),n()}catch(b){console.error("Error creating/editing item:",b)}};return r.jsx("div",{className:"bg-gray-50 min-h-screen",children:r.jsxs("div",{className:"max-w-4xl mx-auto mt-15 px-4",children:[r.jsx("h1",{className:"text-3xl font-bold mb-6 text-center",children:e?"Edit Item":"Add New Item"}),r.jsxs("form",{onSubmit:g,className:"space-y-6 bg-white p-8 shadow-md rounded-lg border border-gray-200",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Item Title"}),r.jsx("input",{type:"text",name:"title",placeholder:"Enter the item title",className:"w-full px-3 py-2 border rounded-md",value:a.title,onChange:d}),r.jsx("label",{className:"block text-sm font-medium mt-4",children:"Price ($)"}),r.jsx("input",{type:"number",name:"price",placeholder:"0",className:"w-full px-3 py-2 border rounded-md",value:a.price,onChange:d}),r.jsx("label",{className:"block text-sm font-medium mt-4",children:"Category"}),r.jsx("input",{type:"text",name:"category",placeholder:"E.g., Electronics, Furniture, etc.",className:"w-full px-3 py-2 border rounded-md",value:a.category,onChange:d}),r.jsx("label",{className:"block text-sm font-medium mt-4",children:"Condition"}),r.jsxs("select",{name:"condition",className:"w-full px-3 py-2 border rounded-md",value:a.condition,onChange:d,children:[r.jsx("option",{value:"New",children:"New"}),r.jsx("option",{value:"Used",children:"Used"})]}),r.jsx("label",{className:"block text-sm font-medium mt-4",children:"Address"}),r.jsx("input",{type:"text",name:"street",placeholder:"Street",className:"w-full px-3 py-2 border rounded-md",value:a.address.street,onChange:h}),r.jsxs("div",{className:"flex gap-4 mt-2",children:[r.jsx("input",{type:"text",name:"city",placeholder:"City",className:"w-1/3 px-3 py-2 border rounded-md",value:a.address.city,onChange:h}),r.jsx("input",{type:"text",name:"state",placeholder:"State",className:"w-1/3 px-3 py-2 border rounded-md",value:a.address.state,onChange:h}),r.jsx("input",{type:"text",name:"zipCode",placeholder:"Zip Code",className:"w-1/3 px-3 py-2 border rounded-md",value:a.address.zipCode,onChange:h})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Item Description"}),r.jsx("textarea",{name:"description",placeholder:"Enter a brief description of the item",className:"w-full px-3 py-2 border rounded-md",value:a.description,onChange:d}),r.jsx("label",{className:"block text-sm font-medium mt-4",children:"Upload Images"}),r.jsxs("div",{...c(),className:"w-full border border-dashed rounded-md p-4 flex justify-center items-center",children:[r.jsx("input",{...u()}),"Drag & drop images here, or click to select files"]}),r.jsx("label",{className:"block text-sm font-medium mt-4",children:"Contact Information"}),r.jsx("input",{type:"text",name:"name",placeholder:"Contact Name",className:"w-full px-3 py-2 border rounded-md",value:a.contactInfo.name,onChange:p}),r.jsx("input",{type:"text",name:"phone",placeholder:"Contact Phone",className:"w-full px-3 py-2 border rounded-md mt-2",value:a.contactInfo.phone,onChange:p}),r.jsx("input",{type:"email",name:"email",placeholder:"Contact Email",className:"w-full px-3 py-2 border rounded-md mt-2",value:a.contactInfo.email,onChange:p})]})]}),r.jsx("div",{className:"flex justify-center mt-8",children:r.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700",children:e?"Update Item":"Create Item"})})]})]})})};function nu(t){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nu(t)}function DJ(t,e){if(nu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(nu(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $J(t){var e=DJ(t,"string");return nu(e)=="symbol"?e:e+""}function me(t,e,n){return(e=$J(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VL(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var j0,fk;function FJ(){if(fk)return j0;fk=1;var t=function(n,s,i,a,o,l,c,u){if(!n){var d;if(s===void 0)d=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var h=[i,a,o,l,c,u],p=0;d=new Error(s.replace(/%s/g,function(){return h[p++]})),d.name="Invariant Violation"}throw d.framesToPop=1,d}};return j0=t,j0}var zJ=FJ(),tn=VL(zJ),We=f.createContext(null);function BJ(){tn(!!f.useContext,"useGoogleMap is React hook and requires React version 16.8+");var t=f.useContext(We);return tn(!!t,"useGoogleMap needs a GoogleMap available up in the tree"),t}function UJ(t,e,n){return Object.keys(t).reduce(function(i,a){return e(i,t[a],a)},n)}function VJ(t,e){Object.keys(t).forEach(n=>e(t[n],n))}function WJ(t,e,n,s){var i={},a=(o,l)=>{var c=n[l];c!==e[l]&&(i[l]=c,o(s,c))};return VJ(t,a),i}function HJ(t,e,n){var s=UJ(n,function(a,o,l){return typeof t[l]=="function"&&a.push(google.maps.event.addListener(e,o,t[l])),a},[]);return s}function qJ(t){google.maps.event.removeListener(t)}function Ye(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];t.forEach(qJ)}function Ke(t){var{updaterMap:e,eventMap:n,prevProps:s,nextProps:i,instance:a}=t,o=HJ(i,a,n);return WJ(e,s,i,a),o}var mk={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},gk={extraMapTypes(t,e){e.forEach(function(s,i){t.mapTypes.set(String(i),s)})},center(t,e){t.setCenter(e)},clickableIcons(t,e){t.setClickableIcons(e)},heading(t,e){t.setHeading(e)},mapTypeId(t,e){t.setMapTypeId(e)},options(t,e){t.setOptions(e)},streetView(t,e){t.setStreetView(e)},tilt(t,e){t.setTilt(e)},zoom(t,e){t.setZoom(e)}};function KJ(t){var{children:e,options:n,id:s,mapContainerStyle:i,mapContainerClassName:a,center:o,onClick:l,onDblClick:c,onDrag:u,onDragEnd:d,onDragStart:h,onMouseMove:p,onMouseOut:m,onMouseOver:g,onMouseDown:x,onMouseUp:b,onRightClick:v,onCenterChanged:y,onLoad:w,onUnmount:k}=t,[N,S]=f.useState(null),M=f.useRef(null),[j,C]=f.useState(null),[L,O]=f.useState(null),[F,$]=f.useState(null),[I,_]=f.useState(null),[P,E]=f.useState(null),[T,D]=f.useState(null),[R,z]=f.useState(null),[q,H]=f.useState(null),[U,B]=f.useState(null),[V,G]=f.useState(null),[Q,se]=f.useState(null),[te,K]=f.useState(null);return f.useEffect(()=>{n&&N!==null&&N.setOptions(n)},[N,n]),f.useEffect(()=>{N!==null&&typeof o<"u"&&N.setCenter(o)},[N,o]),f.useEffect(()=>{N&&c&&(L!==null&&google.maps.event.removeListener(L),O(google.maps.event.addListener(N,"dblclick",c)))},[c]),f.useEffect(()=>{N&&d&&(F!==null&&google.maps.event.removeListener(F),$(google.maps.event.addListener(N,"dragend",d)))},[d]),f.useEffect(()=>{N&&h&&(I!==null&&google.maps.event.removeListener(I),_(google.maps.event.addListener(N,"dragstart",h)))},[h]),f.useEffect(()=>{N&&x&&(P!==null&&google.maps.event.removeListener(P),E(google.maps.event.addListener(N,"mousedown",x)))},[x]),f.useEffect(()=>{N&&p&&(T!==null&&google.maps.event.removeListener(T),D(google.maps.event.addListener(N,"mousemove",p)))},[p]),f.useEffect(()=>{N&&m&&(R!==null&&google.maps.event.removeListener(R),z(google.maps.event.addListener(N,"mouseout",m)))},[m]),f.useEffect(()=>{N&&g&&(q!==null&&google.maps.event.removeListener(q),H(google.maps.event.addListener(N,"mouseover",g)))},[g]),f.useEffect(()=>{N&&b&&(U!==null&&google.maps.event.removeListener(U),B(google.maps.event.addListener(N,"mouseup",b)))},[b]),f.useEffect(()=>{N&&v&&(V!==null&&google.maps.event.removeListener(V),G(google.maps.event.addListener(N,"rightclick",v)))},[v]),f.useEffect(()=>{N&&l&&(Q!==null&&google.maps.event.removeListener(Q),se(google.maps.event.addListener(N,"click",l)))},[l]),f.useEffect(()=>{N&&u&&(te!==null&&google.maps.event.removeListener(te),K(google.maps.event.addListener(N,"drag",u)))},[u]),f.useEffect(()=>{N&&y&&(j!==null&&google.maps.event.removeListener(j),C(google.maps.event.addListener(N,"center_changed",y)))},[l]),f.useEffect(()=>{var J=M.current===null?null:new google.maps.Map(M.current,n);return S(J),J!==null&&w&&w(J),()=>{J!==null&&k&&k(J)}},[]),r.jsx("div",{id:s,ref:M,style:i,className:a,children:r.jsx(We.Provider,{value:N,children:N!==null?e:null})})}f.memo(KJ);class GJ extends f.PureComponent{constructor(){super(...arguments),me(this,"state",{map:null}),me(this,"registeredEvents",[]),me(this,"mapRef",null),me(this,"getInstance",()=>this.mapRef===null?null:new google.maps.Map(this.mapRef,this.props.options)),me(this,"panTo",e=>{var n=this.getInstance();n&&n.panTo(e)}),me(this,"setMapCallback",()=>{this.state.map!==null&&this.props.onLoad&&this.props.onLoad(this.state.map)}),me(this,"getRef",e=>{this.mapRef=e})}componentDidMount(){var e=this.getInstance();this.registeredEvents=Ke({updaterMap:gk,eventMap:mk,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{map:e}},this.setMapCallback)}componentDidUpdate(e){this.state.map!==null&&(Ye(this.registeredEvents),this.registeredEvents=Ke({updaterMap:gk,eventMap:mk,prevProps:e,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),Ye(this.registeredEvents))}render(){return r.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:r.jsx(We.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:null})})}}function xk(t,e,n,s,i,a,o){try{var l=t[a](o),c=l.value}catch(u){return void n(u)}l.done?e(c):Promise.resolve(c).then(s,i)}function WL(t){return function(){var e=this,n=arguments;return new Promise(function(s,i){var a=t.apply(e,n);function o(c){xk(a,s,i,o,l,"next",c)}function l(c){xk(a,s,i,o,l,"throw",c)}o(void 0)})}}function HL(t){var{googleMapsApiKey:e,googleMapsClientId:n,version:s="weekly",language:i,region:a,libraries:o,channel:l,mapIds:c,authReferrerPolicy:u,apiUrl:d="https://maps.googleapis.com"}=t,h=[];return tn(e&&n||!(e&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),e?h.push("key=".concat(e)):n&&h.push("client=".concat(n)),s&&h.push("v=".concat(s)),i&&h.push("language=".concat(i)),a&&h.push("region=".concat(a)),o&&o.length&&h.push("libraries=".concat(o.sort().join(","))),l&&h.push("channel=".concat(l)),c&&c.length&&h.push("map_ids=".concat(c.join(","))),u&&h.push("auth_referrer_policy=".concat(u)),h.push("loading=async"),h.push("callback=initMap"),"".concat(d,"/maps/api/js?").concat(h.join("&"))}var Si=typeof document<"u";function qL(t){var{url:e,id:n,nonce:s}=t;return Si?new Promise(function(a,o){var l=document.getElementById(n),c=window;if(l){var u=l.getAttribute("data-state");if(l.src===e&&u!=="error"){if(u==="ready")return a(n);var d=c.initMap,h=l.onerror;c.initMap=function(){d&&d(),a(n)},l.onerror=function(m){h&&h(m),o(m)};return}else l.remove()}var p=document.createElement("script");p.type="text/javascript",p.src=e,p.id=n,p.async=!0,p.nonce=s||"",p.onerror=function(g){p.setAttribute("data-state","error"),o(g)},c.initMap=function(){p.setAttribute("data-state","ready"),a(n)},document.head.appendChild(p)}).catch(i=>{throw console.error("injectScript error: ",i),i}):Promise.reject(new Error("document is undefined"))}function vk(t){var e=t.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:t.tagName.toLowerCase()==="style"&&t.styleSheet&&t.styleSheet.cssText&&t.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(t.styleSheet.cssText="",!0):t.tagName.toLowerCase()==="style"&&t.innerHTML&&t.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(t.innerHTML="",!0):t.tagName.toLowerCase()==="style"&&!t.styleSheet&&!t.innerHTML}function jw(){var t=document.getElementsByTagName("head")[0];if(t){var e=t.insertBefore.bind(t);t.insertBefore=function(i,a){return vk(i)||Reflect.apply(e,t,[i,a]),i};var n=t.appendChild.bind(t);t.appendChild=function(i){return vk(i)||Reflect.apply(n,t,[i]),i}}}var pc=!1;function KL(){return r.jsx("div",{children:"Loading..."})}var su={id:"script-loader",version:"weekly"};class YJ extends f.PureComponent{constructor(){super(...arguments),me(this,"check",null),me(this,"state",{loaded:!1}),me(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),me(this,"isCleaningUp",WL(function*(){function e(n){if(!pc)n();else if(Si)var s=window.setInterval(function(){pc||(window.clearInterval(s),n())},1)}return new Promise(e)})),me(this,"cleanup",()=>{pc=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(s){return typeof s.src=="string"&&s.src.includes("maps.googleapis")}).forEach(function(s){s.parentNode&&s.parentNode.removeChild(s)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(s){return s.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(s){s.parentNode&&s.parentNode.removeChild(s)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(s){return s.innerText!==void 0&&s.innerText.length>0&&s.innerText.includes(".gm-")}).forEach(function(s){s.parentNode&&s.parentNode.removeChild(s)})}),me(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&jw(),tn(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var e={id:this.props.id,nonce:this.props.nonce,url:HL(this.props)};qL(e).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(n=>{this.props.onError&&this.props.onError(n),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})}),me(this,"getRef",e=>{this.check=e})}componentDidMount(){if(Si){if(window.google&&window.google.maps&&!pc){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(n){console.error("Error at injecting script after cleaning up: ",n)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),Si&&e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(Si){this.cleanup();var e=()=>{this.check||(delete window.google,pc=!1)};window.setTimeout(e,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return r.jsxs(r.Fragment,{children:[r.jsx("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||r.jsx(KL,{})]})}}me(YJ,"defaultProps",su);function XJ(t,e){if(t==null)return{};var n={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(e.includes(s))continue;n[s]=t[s]}return n}function Nw(t,e){if(t==null)return{};var n,s,i=XJ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var yk;function ZJ(t){var{id:e=su.id,version:n=su.version,nonce:s,googleMapsApiKey:i,googleMapsClientId:a,language:o,region:l,libraries:c,preventGoogleFontsLoading:u,channel:d,mapIds:h,authReferrerPolicy:p,apiUrl:m="https://maps.googleapis.com"}=t,g=f.useRef(!1),[x,b]=f.useState(!1),[v,y]=f.useState(void 0);f.useEffect(function(){return g.current=!0,()=>{g.current=!1}},[]),f.useEffect(function(){Si&&u&&jw()},[u]),f.useEffect(function(){x&&tn(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[x]);var w=HL({version:n,googleMapsApiKey:i,googleMapsClientId:a,language:o,region:l,libraries:c,channel:d,mapIds:h,authReferrerPolicy:p,apiUrl:m});f.useEffect(function(){if(!Si)return;function S(){g.current&&(b(!0),yk=w)}if(window.google&&window.google.maps&&yk===w){S();return}qL({id:e,url:w,nonce:s}).then(S).catch(function(j){g.current&&y(j),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(i||"-",") or Client ID (").concat(a||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(j)})},[e,w,s]);var k=f.useRef(void 0);return f.useEffect(function(){k.current&&c!==k.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),k.current=c},[c]),{isLoaded:x,loadError:v,url:w}}var QJ=["loadingElement","onLoad","onError","onUnmount","children"],JJ=r.jsx(KL,{});function eee(t){var{loadingElement:e,onLoad:n,onError:s,onUnmount:i,children:a}=t,o=Nw(t,QJ),{isLoaded:l,loadError:c}=ZJ(o);return f.useEffect(function(){l&&typeof n=="function"&&n()},[l,n]),f.useEffect(function(){c&&typeof s=="function"&&s(c)},[c,s]),f.useEffect(function(){return()=>{i&&i()}},[i]),l?a:e||JJ}f.memo(eee);function tee(t,e,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(h){o(h)}}function c(d){try{u(s.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(t,[])).next())})}function nee(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var see=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var s,i,a;if(Array.isArray(e)){if(s=e.length,s!=n.length)return!1;for(i=s;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(a=Object.keys(e),s=a.length,s!==Object.keys(n).length)return!1;for(i=s;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=s;i--!==0;){var o=a[i];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n},ree=nee(see),bk="__googleMapsScriptId",Go;(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(Go||(Go={}));class va{constructor(e){var{apiKey:n,authReferrerPolicy:s,channel:i,client:a,id:o=bk,language:l,libraries:c=[],mapIds:u,nonce:d,region:h,retries:p=3,url:m="https://maps.googleapis.com/maps/api/js",version:g}=e;if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=n,this.authReferrerPolicy=s,this.channel=i,this.client=a,this.id=o||bk,this.language=l,this.libraries=c,this.mapIds=u,this.nonce=d,this.region=h,this.retries=p,this.url=m,this.version=g,va.instance){if(!ree(this.options,va.instance.options))throw new Error("Loader must not be called again with different options. ".concat(JSON.stringify(this.options)," !== ").concat(JSON.stringify(va.instance.options)));return va.instance}va.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?Go.FAILURE:this.done?Go.SUCCESS:this.loading?Go.LOADING:Go.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){var e=this.url;return e+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(e+="&key=".concat(this.apiKey)),this.channel&&(e+="&channel=".concat(this.channel)),this.client&&(e+="&client=".concat(this.client)),this.libraries.length>0&&(e+="&libraries=".concat(this.libraries.join(","))),this.language&&(e+="&language=".concat(this.language)),this.region&&(e+="&region=".concat(this.region)),this.version&&(e+="&v=".concat(this.version)),this.mapIds&&(e+="&map_ids=".concat(this.mapIds.join(","))),this.authReferrerPolicy&&(e+="&auth_referrer_policy=".concat(this.authReferrerPolicy)),e}deleteScript(){var e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,n)=>{this.loadCallback(s=>{s?n(s.error):e(window.google)})})}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,n;if(document.getElementById(this.id)){this.callback();return}var s={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(s).forEach(a=>!s[a]&&delete s[a]),!((n=(e=window==null?void 0:window.google)===null||e===void 0?void 0:e.maps)===null||n===void 0)&&n.importLibrary||(a=>{var o,l,c,u="The Google Maps JavaScript API",d="google",h="importLibrary",p="__ib__",m=document,g=window;g=g[d]||(g[d]={});var x=g.maps||(g.maps={}),b=new Set,v=new URLSearchParams,y=()=>o||(o=new Promise((w,k)=>tee(this,void 0,void 0,function*(){var N;yield l=m.createElement("script"),l.id=this.id,v.set("libraries",[...b]+"");for(c in a)v.set(c.replace(/[A-Z]/g,S=>"_"+S[0].toLowerCase()),a[c]);v.set("callback",d+".maps."+p),l.src=this.url+"?"+v,x[p]=w,l.onerror=()=>o=k(Error(u+" could not load.")),l.nonce=this.nonce||((N=m.querySelector("script[nonce]"))===null||N===void 0?void 0:N.nonce)||"",m.head.append(l)})));x[h]?console.warn(u+" only loads once. Ignoring:",a):x[h]=function(w){for(var k=arguments.length,N=new Array(k>1?k-1:0),S=1;S<k;S++)N[S-1]=arguments[S];return b.add(w)&&y().then(()=>x[h](w,...N))}})(s);var i=this.libraries.map(a=>this.importLibrary(a));i.length||i.push(this.importLibrary("core")),Promise.all(i).then(()=>this.callback(),a=>{var o=new ErrorEvent("error",{error:a});this.loadErrorCallback(o)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){var n=this.errors.length*Math.pow(2,this.errors.length);console.error("Failed to load Google Maps script, retrying in ".concat(n," ms.")),setTimeout(()=>{this.deleteScript(),this.setScript()},n)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}var iee=["maps"];function aee(t){var{id:e=su.id,version:n=su.version,nonce:s,googleMapsApiKey:i,language:a,region:o,libraries:l=iee,preventGoogleFontsLoading:c,mapIds:u,authReferrerPolicy:d}=t,h=f.useRef(!1),[p,m]=f.useState(!1),[g,x]=f.useState(void 0);f.useEffect(function(){return h.current=!0,()=>{h.current=!1}},[]);var b=f.useMemo(()=>new va({id:e,apiKey:i,version:n,libraries:l,language:a||"en",region:o||"US",mapIds:u||[],nonce:s||"",authReferrerPolicy:d||"origin"}),[e,i,n,l,a,o,u,s,d]);f.useEffect(function(){p||b.load().then(()=>{h.current&&m(!0)}).catch(w=>{x(w)})},[]),f.useEffect(()=>{Si&&c&&jw()},[c]);var v=f.useRef();return f.useEffect(()=>{v.current&&l!==v.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),v.current=l},[l]),{isLoaded:p,loadError:g}}function wk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function bf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wk(Object(n),!0).forEach(function(s){me(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wk(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var jk={},Nk={options(t,e){t.setOptions(e)}};function oee(t){var{options:e,onLoad:n,onUnmount:s}=t,i=f.useContext(We),[a,o]=f.useState(null);return f.useEffect(()=>{a!==null&&a.setMap(i)},[i]),f.useEffect(()=>{e&&a!==null&&a.setOptions(e)},[a,e]),f.useEffect(()=>{var l=new google.maps.TrafficLayer(bf(bf({},e),{},{map:i}));return o(l),n&&n(l),()=>{a!==null&&(s&&s(a),a.setMap(null))}},[]),null}f.memo(oee);class lee extends f.PureComponent{constructor(){super(...arguments),me(this,"state",{trafficLayer:null}),me(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),me(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(bf(bf({},this.props.options),{},{map:this.context}));this.registeredEvents=Ke({updaterMap:Nk,eventMap:jk,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){this.state.trafficLayer!==null&&(Ye(this.registeredEvents),this.registeredEvents=Ke({updaterMap:Nk,eventMap:jk,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),Ye(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}me(lee,"contextType",We);function cee(t){var{onLoad:e,onUnmount:n}=t,s=f.useContext(We),[i,a]=f.useState(null);return f.useEffect(()=>{i!==null&&i.setMap(s)},[s]),f.useEffect(()=>{var o=new google.maps.BicyclingLayer;return a(o),o.setMap(s),e&&e(o),()=>{o!==null&&(n&&n(o),o.setMap(null))}},[]),null}f.memo(cee);class dee extends f.PureComponent{constructor(){super(...arguments),me(this,"state",{bicyclingLayer:null}),me(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}me(dee,"contextType",We);function uee(t){var{onLoad:e,onUnmount:n}=t,s=f.useContext(We),[i,a]=f.useState(null);return f.useEffect(()=>{i!==null&&i.setMap(s)},[s]),f.useEffect(()=>{var o=new google.maps.TransitLayer;return a(o),o.setMap(s),e&&e(o),()=>{i!==null&&(n&&n(i),i.setMap(null))}},[]),null}f.memo(uee);class hee extends f.PureComponent{constructor(){super(...arguments),me(this,"state",{transitLayer:null}),me(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}me(hee,"contextType",We);function kk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function wf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kk(Object(n),!0).forEach(function(s){me(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kk(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var Sk={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},Ck={drawingMode(t,e){t.setDrawingMode(e)},options(t,e){t.setOptions(e)}};function pee(t){var{options:e,drawingMode:n,onCircleComplete:s,onMarkerComplete:i,onOverlayComplete:a,onPolygonComplete:o,onPolylineComplete:l,onRectangleComplete:c,onLoad:u,onUnmount:d}=t,h=f.useContext(We),[p,m]=f.useState(null),[g,x]=f.useState(null),[b,v]=f.useState(null),[y,w]=f.useState(null),[k,N]=f.useState(null),[S,M]=f.useState(null),[j,C]=f.useState(null);return f.useEffect(()=>{p!==null&&p.setMap(h)},[h]),f.useEffect(()=>{e&&p!==null&&p.setOptions(e)},[p,e]),f.useEffect(()=>{p!==null&&p.setDrawingMode(n??null)},[p,n]),f.useEffect(()=>{p&&s&&(g!==null&&google.maps.event.removeListener(g),x(google.maps.event.addListener(p,"circlecomplete",s)))},[p,s]),f.useEffect(()=>{p&&i&&(b!==null&&google.maps.event.removeListener(b),v(google.maps.event.addListener(p,"markercomplete",i)))},[p,i]),f.useEffect(()=>{p&&a&&(y!==null&&google.maps.event.removeListener(y),w(google.maps.event.addListener(p,"overlaycomplete",a)))},[p,a]),f.useEffect(()=>{p&&o&&(k!==null&&google.maps.event.removeListener(k),N(google.maps.event.addListener(p,"polygoncomplete",o)))},[p,o]),f.useEffect(()=>{p&&l&&(S!==null&&google.maps.event.removeListener(S),M(google.maps.event.addListener(p,"polylinecomplete",l)))},[p,l]),f.useEffect(()=>{p&&c&&(j!==null&&google.maps.event.removeListener(j),C(google.maps.event.addListener(p,"rectanglecomplete",c)))},[p,c]),f.useEffect(()=>{tn(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var L=new google.maps.drawing.DrawingManager(wf(wf({},e),{},{map:h}));return n&&L.setDrawingMode(n),s&&x(google.maps.event.addListener(L,"circlecomplete",s)),i&&v(google.maps.event.addListener(L,"markercomplete",i)),a&&w(google.maps.event.addListener(L,"overlaycomplete",a)),o&&N(google.maps.event.addListener(L,"polygoncomplete",o)),l&&M(google.maps.event.addListener(L,"polylinecomplete",l)),c&&C(google.maps.event.addListener(L,"rectanglecomplete",c)),m(L),u&&u(L),()=>{p!==null&&(g&&google.maps.event.removeListener(g),b&&google.maps.event.removeListener(b),y&&google.maps.event.removeListener(y),k&&google.maps.event.removeListener(k),S&&google.maps.event.removeListener(S),j&&google.maps.event.removeListener(j),d&&d(p),p.setMap(null))}},[]),null}f.memo(pee);class fee extends f.PureComponent{constructor(e){super(e),me(this,"registeredEvents",[]),me(this,"state",{drawingManager:null}),me(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),tn(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager(wf(wf({},this.props.options),{},{map:this.context}));this.registeredEvents=Ke({updaterMap:Ck,eventMap:Sk,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){this.state.drawingManager!==null&&(Ye(this.registeredEvents),this.registeredEvents=Ke({updaterMap:Ck,eventMap:Sk,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),Ye(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}me(fee,"contextType",We);function Ek(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function ol(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ek(Object(n),!0).forEach(function(s){me(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ek(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var Pk={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},_k={animation(t,e){t.setAnimation(e)},clickable(t,e){t.setClickable(e)},cursor(t,e){t.setCursor(e)},draggable(t,e){t.setDraggable(e)},icon(t,e){t.setIcon(e)},label(t,e){t.setLabel(e)},map(t,e){t.setMap(e)},opacity(t,e){t.setOpacity(e)},options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},shape(t,e){t.setShape(e)},title(t,e){t.setTitle(e)},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},jf={};function mee(t){var{position:e,options:n,clusterer:s,noClustererRedraw:i,children:a,draggable:o,visible:l,animation:c,clickable:u,cursor:d,icon:h,label:p,opacity:m,shape:g,title:x,zIndex:b,onClick:v,onDblClick:y,onDrag:w,onDragEnd:k,onDragStart:N,onMouseOut:S,onMouseOver:M,onMouseUp:j,onMouseDown:C,onRightClick:L,onClickableChanged:O,onCursorChanged:F,onAnimationChanged:$,onDraggableChanged:I,onFlatChanged:_,onIconChanged:P,onPositionChanged:E,onShapeChanged:T,onTitleChanged:D,onVisibleChanged:R,onZindexChanged:z,onLoad:q,onUnmount:H}=t,U=f.useContext(We),[B,V]=f.useState(null),[G,Q]=f.useState(null),[se,te]=f.useState(null),[K,J]=f.useState(null),[fe,le]=f.useState(null),[ce,ne]=f.useState(null),[ie,de]=f.useState(null),[ee,ye]=f.useState(null),[xe,Ce]=f.useState(null),[X,A]=f.useState(null),[Y,Z]=f.useState(null),[ae,ue]=f.useState(null),[he,je]=f.useState(null),[Ee,Oe]=f.useState(null),[qe,rt]=f.useState(null),[ot,lt]=f.useState(null),[et,Ot]=f.useState(null),[xt,mn]=f.useState(null),[_n,bt]=f.useState(null),[Zt,ts]=f.useState(null),[ln,Ds]=f.useState(null),[W,ve]=f.useState(null);f.useEffect(()=>{B!==null&&B.setMap(U)},[U]),f.useEffect(()=>{typeof n<"u"&&B!==null&&B.setOptions(n)},[B,n]),f.useEffect(()=>{typeof o<"u"&&B!==null&&B.setDraggable(o)},[B,o]),f.useEffect(()=>{e&&B!==null&&B.setPosition(e)},[B,e]),f.useEffect(()=>{typeof l<"u"&&B!==null&&B.setVisible(l)},[B,l]),f.useEffect(()=>{B==null||B.setAnimation(c)},[B,c]),f.useEffect(()=>{B&&u!==void 0&&B.setClickable(u)},[B,u]),f.useEffect(()=>{B&&d!==void 0&&B.setCursor(d)},[B,d]),f.useEffect(()=>{B&&h!==void 0&&B.setIcon(h)},[B,h]),f.useEffect(()=>{B&&p!==void 0&&B.setLabel(p)},[B,p]),f.useEffect(()=>{B&&m!==void 0&&B.setOpacity(m)},[B,m]),f.useEffect(()=>{B&&g!==void 0&&B.setShape(g)},[B,g]),f.useEffect(()=>{B&&x!==void 0&&B.setTitle(x)},[B,x]),f.useEffect(()=>{B&&b!==void 0&&B.setZIndex(b)},[B,b]),f.useEffect(()=>{B&&y&&(G!==null&&google.maps.event.removeListener(G),Q(google.maps.event.addListener(B,"dblclick",y)))},[y]),f.useEffect(()=>{B&&k&&(se!==null&&google.maps.event.removeListener(se),te(google.maps.event.addListener(B,"dragend",k)))},[k]),f.useEffect(()=>{B&&N&&(K!==null&&google.maps.event.removeListener(K),J(google.maps.event.addListener(B,"dragstart",N)))},[N]),f.useEffect(()=>{B&&C&&(fe!==null&&google.maps.event.removeListener(fe),le(google.maps.event.addListener(B,"mousedown",C)))},[C]),f.useEffect(()=>{B&&S&&(ce!==null&&google.maps.event.removeListener(ce),ne(google.maps.event.addListener(B,"mouseout",S)))},[S]),f.useEffect(()=>{B&&M&&(ie!==null&&google.maps.event.removeListener(ie),de(google.maps.event.addListener(B,"mouseover",M)))},[M]),f.useEffect(()=>{B&&j&&(ee!==null&&google.maps.event.removeListener(ee),ye(google.maps.event.addListener(B,"mouseup",j)))},[j]),f.useEffect(()=>{B&&L&&(xe!==null&&google.maps.event.removeListener(xe),Ce(google.maps.event.addListener(B,"rightclick",L)))},[L]),f.useEffect(()=>{B&&v&&(X!==null&&google.maps.event.removeListener(X),A(google.maps.event.addListener(B,"click",v)))},[v]),f.useEffect(()=>{B&&w&&(Y!==null&&google.maps.event.removeListener(Y),Z(google.maps.event.addListener(B,"drag",w)))},[w]),f.useEffect(()=>{B&&O&&(ae!==null&&google.maps.event.removeListener(ae),ue(google.maps.event.addListener(B,"clickable_changed",O)))},[O]),f.useEffect(()=>{B&&F&&(he!==null&&google.maps.event.removeListener(he),je(google.maps.event.addListener(B,"cursor_changed",F)))},[F]),f.useEffect(()=>{B&&$&&(Ee!==null&&google.maps.event.removeListener(Ee),Oe(google.maps.event.addListener(B,"animation_changed",$)))},[$]),f.useEffect(()=>{B&&I&&(qe!==null&&google.maps.event.removeListener(qe),rt(google.maps.event.addListener(B,"draggable_changed",I)))},[I]),f.useEffect(()=>{B&&_&&(ot!==null&&google.maps.event.removeListener(ot),lt(google.maps.event.addListener(B,"flat_changed",_)))},[_]),f.useEffect(()=>{B&&P&&(et!==null&&google.maps.event.removeListener(et),Ot(google.maps.event.addListener(B,"icon_changed",P)))},[P]),f.useEffect(()=>{B&&E&&(xt!==null&&google.maps.event.removeListener(xt),mn(google.maps.event.addListener(B,"position_changed",E)))},[E]),f.useEffect(()=>{B&&T&&(_n!==null&&google.maps.event.removeListener(_n),bt(google.maps.event.addListener(B,"shape_changed",T)))},[T]),f.useEffect(()=>{B&&D&&(Zt!==null&&google.maps.event.removeListener(Zt),ts(google.maps.event.addListener(B,"title_changed",D)))},[D]),f.useEffect(()=>{B&&R&&(ln!==null&&google.maps.event.removeListener(ln),Ds(google.maps.event.addListener(B,"visible_changed",R)))},[R]),f.useEffect(()=>{B&&z&&(W!==null&&google.maps.event.removeListener(W),ve(google.maps.event.addListener(B,"zindex_changed",z)))},[z]),f.useEffect(()=>{var Me=ol(ol(ol({},n||jf),s?jf:{map:U}),{},{position:e}),Pe=new google.maps.Marker(Me);return s?s.addMarker(Pe,!!i):Pe.setMap(U),e&&Pe.setPosition(e),typeof l<"u"&&Pe.setVisible(l),typeof o<"u"&&Pe.setDraggable(o),typeof u<"u"&&Pe.setClickable(u),typeof d=="string"&&Pe.setCursor(d),h&&Pe.setIcon(h),typeof p<"u"&&Pe.setLabel(p),typeof m<"u"&&Pe.setOpacity(m),g&&Pe.setShape(g),typeof x=="string"&&Pe.setTitle(x),typeof b=="number"&&Pe.setZIndex(b),y&&Q(google.maps.event.addListener(Pe,"dblclick",y)),k&&te(google.maps.event.addListener(Pe,"dragend",k)),N&&J(google.maps.event.addListener(Pe,"dragstart",N)),C&&le(google.maps.event.addListener(Pe,"mousedown",C)),S&&ne(google.maps.event.addListener(Pe,"mouseout",S)),M&&de(google.maps.event.addListener(Pe,"mouseover",M)),j&&ye(google.maps.event.addListener(Pe,"mouseup",j)),L&&Ce(google.maps.event.addListener(Pe,"rightclick",L)),v&&A(google.maps.event.addListener(Pe,"click",v)),w&&Z(google.maps.event.addListener(Pe,"drag",w)),O&&ue(google.maps.event.addListener(Pe,"clickable_changed",O)),F&&je(google.maps.event.addListener(Pe,"cursor_changed",F)),$&&Oe(google.maps.event.addListener(Pe,"animation_changed",$)),I&&rt(google.maps.event.addListener(Pe,"draggable_changed",I)),_&&lt(google.maps.event.addListener(Pe,"flat_changed",_)),P&&Ot(google.maps.event.addListener(Pe,"icon_changed",P)),E&&mn(google.maps.event.addListener(Pe,"position_changed",E)),T&&bt(google.maps.event.addListener(Pe,"shape_changed",T)),D&&ts(google.maps.event.addListener(Pe,"title_changed",D)),R&&Ds(google.maps.event.addListener(Pe,"visible_changed",R)),z&&ve(google.maps.event.addListener(Pe,"zindex_changed",z)),V(Pe),q&&q(Pe),()=>{G!==null&&google.maps.event.removeListener(G),se!==null&&google.maps.event.removeListener(se),K!==null&&google.maps.event.removeListener(K),fe!==null&&google.maps.event.removeListener(fe),ce!==null&&google.maps.event.removeListener(ce),ie!==null&&google.maps.event.removeListener(ie),ee!==null&&google.maps.event.removeListener(ee),xe!==null&&google.maps.event.removeListener(xe),X!==null&&google.maps.event.removeListener(X),ae!==null&&google.maps.event.removeListener(ae),he!==null&&google.maps.event.removeListener(he),Ee!==null&&google.maps.event.removeListener(Ee),qe!==null&&google.maps.event.removeListener(qe),ot!==null&&google.maps.event.removeListener(ot),et!==null&&google.maps.event.removeListener(et),xt!==null&&google.maps.event.removeListener(xt),Zt!==null&&google.maps.event.removeListener(Zt),ln!==null&&google.maps.event.removeListener(ln),W!==null&&google.maps.event.removeListener(W),H&&H(Pe),s?s.removeMarker(Pe,!!i):Pe&&Pe.setMap(null)}},[]);var oe=f.useMemo(()=>a?f.Children.map(a,Me=>{if(!f.isValidElement(Me))return Me;var Pe=Me;return f.cloneElement(Pe,{anchor:B})}):null,[a,B]);return r.jsx(r.Fragment,{children:oe})||null}f.memo(mee);class cy extends f.PureComponent{constructor(){super(...arguments),me(this,"registeredEvents",[])}componentDidMount(){var e=this;return WL(function*(){var n=ol(ol(ol({},e.props.options||jf),e.props.clusterer?jf:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(n),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=Ke({updaterMap:_k,eventMap:Pk,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)})()}componentDidUpdate(e){this.marker&&(Ye(this.registeredEvents),this.registeredEvents=Ke({updaterMap:_k,eventMap:Pk,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),Ye(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var e=this.props.children?f.Children.map(this.props.children,n=>{if(!f.isValidElement(n))return n;var s=n;return f.cloneElement(s,{anchor:this.marker})}):null;return e||null}}me(cy,"contextType",We);var gee=function(){function t(e,n){e.getClusterer().extend(t,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return t.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},t.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},t.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var n=this.cluster.getClusterer();if(google.maps.event.trigger(n,"click",this.cluster),google.maps.event.trigger(n,"clusterclick",this.cluster),n.getZoomOnClick()){var s=n.getMaxZoom(),i=this.cluster.getBounds(),a=n.getMap();a!==null&&"fitBounds"in a&&a.fitBounds(i),this.timeOut=window.setTimeout(function(){var o=n.getMap();if(o!==null){"fitBounds"in o&&o.fitBounds(i);var l=o.getZoom()||0;s!==null&&l>s&&o.setZoom(s+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},t.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},t.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},t.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var n=this.getMap();n!==null&&(this.boundsChangedListener=google.maps.event.addListener(n,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},t.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},t.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},t.prototype.show=function(){var e,n,s,i,a,o;if(this.div&&this.center){var l=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,c=this.backgroundPosition.split(" "),u=parseInt(((e=c[0])===null||e===void 0?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),d=parseInt(((n=c[1])===null||n===void 0?void 0:n.replace(/^\s+|\s+$/g,""))||"0",10),h=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(h!==null?"".concat(h.y,"px"):"0","; left: ").concat(h!==null?"".concat(h.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var p=document.createElement("img");p.alt=l,p.src=this.url,p.width=this.width,p.height=this.height,p.setAttribute("style","position: absolute; top: ".concat(d,"px; left: ").concat(u,"px")),this.cluster.getClusterer().enableRetinaIcons||(p.style.clip="rect(-".concat(d,"px, -").concat(u+this.width,"px, -").concat(d+this.height,", -").concat(u,")"));var m=document.createElement("div");m.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((s=this.sums)===null||s===void 0)&&s.text&&(m.innerText="".concat((i=this.sums)===null||i===void 0?void 0:i.text)),!((a=this.sums)===null||a===void 0)&&a.html&&(m.innerHTML="".concat((o=this.sums)===null||o===void 0?void 0:o.html)),this.div.innerHTML="",this.div.appendChild(p),this.div.appendChild(m),this.div.title=l,this.div.style.display=""}this.visible=!0},t.prototype.useStyle=function(e){this.sums=e;var n=this.cluster.getClusterer().getStyles(),s=n[Math.min(n.length-1,Math.max(0,e.index-1))];s&&(this.url=s.url,this.height=s.height,this.width=s.width,s.className&&(this.className="".concat(this.clusterClassName," ").concat(s.className)),this.anchorText=s.anchorText||[0,0],this.anchorIcon=s.anchorIcon||[this.height/2,this.width/2],this.textColor=s.textColor||"black",this.textSize=s.textSize||11,this.textDecoration=s.textDecoration||"none",this.fontWeight=s.fontWeight||"bold",this.fontStyle=s.fontStyle||"normal",this.fontFamily=s.fontFamily||"Arial,sans-serif",this.backgroundPosition=s.backgroundPosition||"0 0")},t.prototype.setCenter=function(e){this.center=e},t.prototype.getPosFromLatLng=function(e){var n=this.getProjection().fromLatLngToDivPixel(e);return n!==null&&(n.x-=this.anchorIcon[1],n.y-=this.anchorIcon[0]),n},t}(),xee=function(){function t(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new gee(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return t.prototype.getSize=function(){return this.markers.length},t.prototype.getMarkers=function(){return this.markers},t.prototype.getCenter=function(){return this.center},t.prototype.getMap=function(){return this.map},t.prototype.getClusterer=function(){return this.markerClusterer},t.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),n=this.getMarkers(),s=0,i=n;s<i.length;s++){var a=i[s],o=a.getPosition();o&&e.extend(o)}return e},t.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},t.prototype.addMarker=function(e){var n;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var s=e.getPosition();if(s){var i=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(i-1)+s.lat())/i,(this.center.lng()*(i-1)+s.lng())/i),this.calculateBounds()}}}else{var s=e.getPosition();s&&(this.center=s,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var a=this.markers.length,o=this.markerClusterer.getMaxZoom(),l=(n=this.map)===null||n===void 0?void 0:n.getZoom();if(o!==null&&typeof l<"u"&&l>o)e.getMap()!==this.map&&e.setMap(this.map);else if(a<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(a===this.minClusterSize)for(var c=0,u=this.markers;c<u.length;c++){var d=u[c];d.setMap(null)}else e.setMap(null);return!0},t.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var n=e.getPosition();if(n)return this.bounds.contains(n)}return!1},t.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},t.prototype.updateIcon=function(){var e,n=this.markers.length,s=this.markerClusterer.getMaxZoom(),i=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(s!==null&&typeof i<"u"&&i>s){this.clusterIcon.hide();return}if(n<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},t.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var n=0;n<this.markers.length;n++)if(e===this.markers[n])return!0;return!1},t}();function vee(t,e){var n=t.length,s=n.toString().length,i=Math.min(s,e);return{text:n.toString(),index:i,title:""}}var yee=2e3,bee=500,wee="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",jee="png",Nee=[53,56,66,78,90],kee="cluster",GL=function(){function t(e,n,s){n===void 0&&(n=[]),s===void 0&&(s={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(t,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=s.gridSize||60,this.minClusterSize=s.minimumClusterSize||2,this.maxZoom=s.maxZoom||null,this.styles=s.styles||[],this.title=s.title||"",this.zoomOnClick=!0,s.zoomOnClick!==void 0&&(this.zoomOnClick=s.zoomOnClick),this.averageCenter=!1,s.averageCenter!==void 0&&(this.averageCenter=s.averageCenter),this.ignoreHidden=!1,s.ignoreHidden!==void 0&&(this.ignoreHidden=s.ignoreHidden),this.enableRetinaIcons=!1,s.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=s.enableRetinaIcons),this.imagePath=s.imagePath||wee,this.imageExtension=s.imageExtension||jee,this.imageSizes=s.imageSizes||Nee,this.calculator=s.calculator||vee,this.batchSize=s.batchSize||yee,this.batchSizeIE=s.batchSizeIE||bee,this.clusterClass=s.clusterClass||kee,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(e)}return t.prototype.onZoomChanged=function(){var e,n;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((n=this.getMap())===null||n===void 0?void 0:n.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},t.prototype.onIdle=function(){this.redraw()},t.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},t.prototype.onRemove=function(){for(var e=0,n=this.markers;e<n.length;e++){var s=n[e];s.getMap()!==this.activeMap&&s.setMap(this.activeMap)}for(var i=0,a=this.clusters;i<a.length;i++){var o=a[i];o.remove()}this.clusters=[];for(var l=0,c=this.listeners;l<c.length;l++){var u=c[l];google.maps.event.removeListener(u)}this.listeners=[],this.activeMap=null,this.ready=!1},t.prototype.draw=function(){},t.prototype.getMap=function(){return null},t.prototype.getPanes=function(){return null},t.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},t.prototype.setMap=function(){},t.prototype.addListener=function(){return{remove:function(){}}},t.prototype.bindTo=function(){},t.prototype.get=function(){},t.prototype.notify=function(){},t.prototype.set=function(){},t.prototype.setValues=function(){},t.prototype.unbind=function(){},t.prototype.unbindAll=function(){},t.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},t.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),n=new google.maps.LatLngBounds,s=0,i=e;s<i.length;s++){var a=i[s],o=a.getPosition();o&&n.extend(o)}var l=this.getMap();l!==null&&"fitBounds"in l&&l.fitBounds(n)},t.prototype.getGridSize=function(){return this.gridSize},t.prototype.setGridSize=function(e){this.gridSize=e},t.prototype.getMinimumClusterSize=function(){return this.minClusterSize},t.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.setMaxZoom=function(e){this.maxZoom=e},t.prototype.getStyles=function(){return this.styles},t.prototype.setStyles=function(e){this.styles=e},t.prototype.getTitle=function(){return this.title},t.prototype.setTitle=function(e){this.title=e},t.prototype.getZoomOnClick=function(){return this.zoomOnClick},t.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},t.prototype.getAverageCenter=function(){return this.averageCenter},t.prototype.setAverageCenter=function(e){this.averageCenter=e},t.prototype.getIgnoreHidden=function(){return this.ignoreHidden},t.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},t.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},t.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},t.prototype.getImageExtension=function(){return this.imageExtension},t.prototype.setImageExtension=function(e){this.imageExtension=e},t.prototype.getImagePath=function(){return this.imagePath},t.prototype.setImagePath=function(e){this.imagePath=e},t.prototype.getImageSizes=function(){return this.imageSizes},t.prototype.setImageSizes=function(e){this.imageSizes=e},t.prototype.getCalculator=function(){return this.calculator},t.prototype.setCalculator=function(e){this.calculator=e},t.prototype.getBatchSizeIE=function(){return this.batchSizeIE},t.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},t.prototype.getClusterClass=function(){return this.clusterClass},t.prototype.setClusterClass=function(e){this.clusterClass=e},t.prototype.getMarkers=function(){return this.markers},t.prototype.getTotalMarkers=function(){return this.markers.length},t.prototype.getClusters=function(){return this.clusters},t.prototype.getTotalClusters=function(){return this.clusters.length},t.prototype.addMarker=function(e,n){this.pushMarkerTo(e),n||this.redraw()},t.prototype.addMarkers=function(e,n){for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var i=e[s];i&&this.pushMarkerTo(i)}n||this.redraw()},t.prototype.pushMarkerTo=function(e){var n=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){n.ready&&(e.isAdded=!1,n.repaint())}),e.isAdded=!1,this.markers.push(e)},t.prototype.removeMarker_=function(e){var n=-1;if(this.markers.indexOf)n=this.markers.indexOf(e);else for(var s=0;s<this.markers.length;s++)if(e===this.markers[s]){n=s;break}return n===-1?!1:(e.setMap(null),this.markers.splice(n,1),!0)},t.prototype.removeMarker=function(e,n){var s=this.removeMarker_(e);return!n&&s&&this.repaint(),s},t.prototype.removeMarkers=function(e,n){for(var s=!1,i=0,a=e;i<a.length;i++){var o=a[i];s=s||this.removeMarker_(o)}return!n&&s&&this.repaint(),s},t.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},t.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var s=0,i=e;s<i.length;s++){var a=i[s];a.remove()}},0)},t.prototype.getExtendedBounds=function(e){var n=this.getProjection(),s=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));s!==null&&(s.x+=this.gridSize,s.y-=this.gridSize);var i=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(i!==null&&(i.x-=this.gridSize,i.y+=this.gridSize),s!==null){var a=n.fromDivPixelToLatLng(s);a!==null&&e.extend(a)}if(i!==null){var o=n.fromDivPixelToLatLng(i);o!==null&&e.extend(o)}return e},t.prototype.redraw=function(){this.createClusters(0)},t.prototype.resetViewport=function(e){for(var n=0,s=this.clusters;n<s.length;n++){var i=s[n];i.remove()}this.clusters=[];for(var a=0,o=this.markers;a<o.length;a++){var l=o[a];l.isAdded=!1,e&&l.setMap(null)}},t.prototype.distanceBetweenPoints=function(e,n){var s=6371,i=(n.lat()-e.lat())*Math.PI/180,a=(n.lng()-e.lng())*Math.PI/180,o=Math.sin(i/2)*Math.sin(i/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(n.lat()*Math.PI/180)*Math.sin(a/2)*Math.sin(a/2);return s*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))},t.prototype.isMarkerInBounds=function(e,n){var s=e.getPosition();return s?n.contains(s):!1},t.prototype.addToClosestCluster=function(e){for(var n,s=4e4,i=null,a=0,o=this.clusters;a<o.length;a++){var l=o[a];n=l;var c=n.getCenter(),u=e.getPosition();if(c&&u){var d=this.distanceBetweenPoints(c,u);d<s&&(s=d,i=n)}}i&&i.isMarkerInClusterBounds(e)?i.addMarker(e):(n=new xee(this),n.addMarker(e),this.clusters.push(n))},t.prototype.createClusters=function(e){var n=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var s=this.getMap(),i=s!==null&&("getBounds"in s)?s.getBounds():null,a=(s==null?void 0:s.getZoom())||0,o=a>3?new google.maps.LatLngBounds(i==null?void 0:i.getSouthWest(),i==null?void 0:i.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),l=this.getExtendedBounds(o),c=Math.min(e+this.batchSize,this.markers.length),u=e;u<c;u++){var d=this.markers[u];d&&!d.isAdded&&this.isMarkerInBounds(d,l)&&(!this.ignoreHidden||this.ignoreHidden&&d.getVisible())&&this.addToClosestCluster(d)}if(c<this.markers.length)this.timerRefStatic=window.setTimeout(function(){n.createClusters(c)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var h=0,p=this.clusters;h<p.length;h++){var m=p[h];m.updateIcon()}}}},t.prototype.extend=function(e,n){return(function(i){for(var a in i.prototype){var o=a;this.prototype[o]=i.prototype[o]}return this}).apply(e,[n])},t}();function Mk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function See(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mk(Object(n),!0).forEach(function(s){me(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mk(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var js={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},nt={averageCenter(t,e){t.setAverageCenter(e)},batchSizeIE(t,e){t.setBatchSizeIE(e)},calculator(t,e){t.setCalculator(e)},clusterClass(t,e){t.setClusterClass(e)},enableRetinaIcons(t,e){t.setEnableRetinaIcons(e)},gridSize(t,e){t.setGridSize(e)},ignoreHidden(t,e){t.setIgnoreHidden(e)},imageExtension(t,e){t.setImageExtension(e)},imagePath(t,e){t.setImagePath(e)},imageSizes(t,e){t.setImageSizes(e)},maxZoom(t,e){t.setMaxZoom(e)},minimumClusterSize(t,e){t.setMinimumClusterSize(e)},styles(t,e){t.setStyles(e)},title(t,e){t.setTitle(e)},zoomOnClick(t,e){t.setZoomOnClick(e)}},Cee={};function Eee(t){var{children:e,options:n,averageCenter:s,batchSizeIE:i,calculator:a,clusterClass:o,enableRetinaIcons:l,gridSize:c,ignoreHidden:u,imageExtension:d,imagePath:h,imageSizes:p,maxZoom:m,minimumClusterSize:g,styles:x,title:b,zoomOnClick:v,onClick:y,onClusteringBegin:w,onClusteringEnd:k,onMouseOver:N,onMouseOut:S,onLoad:M,onUnmount:j}=t,[C,L]=f.useState(null),O=f.useContext(We),[F,$]=f.useState(null),[I,_]=f.useState(null),[P,E]=f.useState(null),[T,D]=f.useState(null),[R,z]=f.useState(null);return f.useEffect(()=>{C&&S&&(T!==null&&google.maps.event.removeListener(T),D(google.maps.event.addListener(C,js.onMouseOut,S)))},[S]),f.useEffect(()=>{C&&N&&(R!==null&&google.maps.event.removeListener(R),z(google.maps.event.addListener(C,js.onMouseOver,N)))},[N]),f.useEffect(()=>{C&&y&&(F!==null&&google.maps.event.removeListener(F),$(google.maps.event.addListener(C,js.onClick,y)))},[y]),f.useEffect(()=>{C&&w&&(I!==null&&google.maps.event.removeListener(I),_(google.maps.event.addListener(C,js.onClusteringBegin,w)))},[w]),f.useEffect(()=>{C&&k&&(P!==null&&google.maps.event.removeListener(P),_(google.maps.event.addListener(C,js.onClusteringEnd,k)))},[k]),f.useEffect(()=>{typeof s<"u"&&C!==null&&nt.averageCenter(C,s)},[C,s]),f.useEffect(()=>{typeof i<"u"&&C!==null&&nt.batchSizeIE(C,i)},[C,i]),f.useEffect(()=>{typeof a<"u"&&C!==null&&nt.calculator(C,a)},[C,a]),f.useEffect(()=>{typeof o<"u"&&C!==null&&nt.clusterClass(C,o)},[C,o]),f.useEffect(()=>{typeof l<"u"&&C!==null&&nt.enableRetinaIcons(C,l)},[C,l]),f.useEffect(()=>{typeof c<"u"&&C!==null&&nt.gridSize(C,c)},[C,c]),f.useEffect(()=>{typeof u<"u"&&C!==null&&nt.ignoreHidden(C,u)},[C,u]),f.useEffect(()=>{typeof d<"u"&&C!==null&&nt.imageExtension(C,d)},[C,d]),f.useEffect(()=>{typeof h<"u"&&C!==null&&nt.imagePath(C,h)},[C,h]),f.useEffect(()=>{typeof p<"u"&&C!==null&&nt.imageSizes(C,p)},[C,p]),f.useEffect(()=>{typeof m<"u"&&C!==null&&nt.maxZoom(C,m)},[C,m]),f.useEffect(()=>{typeof g<"u"&&C!==null&&nt.minimumClusterSize(C,g)},[C,g]),f.useEffect(()=>{typeof x<"u"&&C!==null&&nt.styles(C,x)},[C,x]),f.useEffect(()=>{typeof b<"u"&&C!==null&&nt.title(C,b)},[C,b]),f.useEffect(()=>{typeof v<"u"&&C!==null&&nt.zoomOnClick(C,v)},[C,v]),f.useEffect(()=>{if(O){var q=See({},n||Cee),H=new GL(O,[],q);return s&&nt.averageCenter(H,s),i&&nt.batchSizeIE(H,i),a&&nt.calculator(H,a),o&&nt.clusterClass(H,o),l&&nt.enableRetinaIcons(H,l),c&&nt.gridSize(H,c),u&&nt.ignoreHidden(H,u),d&&nt.imageExtension(H,d),h&&nt.imagePath(H,h),p&&nt.imageSizes(H,p),m&&nt.maxZoom(H,m),g&&nt.minimumClusterSize(H,g),x&&nt.styles(H,x),b&&nt.title(H,b),v&&nt.zoomOnClick(H,v),S&&D(google.maps.event.addListener(H,js.onMouseOut,S)),N&&z(google.maps.event.addListener(H,js.onMouseOver,N)),y&&$(google.maps.event.addListener(H,js.onClick,y)),w&&_(google.maps.event.addListener(H,js.onClusteringBegin,w)),k&&E(google.maps.event.addListener(H,js.onClusteringEnd,k)),L(H),M&&M(H),()=>{T!==null&&google.maps.event.removeListener(T),R!==null&&google.maps.event.removeListener(R),F!==null&&google.maps.event.removeListener(F),I!==null&&google.maps.event.removeListener(I),P!==null&&google.maps.event.removeListener(P),j&&j(H)}}},[]),C!==null&&e(C)||null}f.memo(Eee);class Pee extends f.PureComponent{constructor(){super(...arguments),me(this,"registeredEvents",[]),me(this,"state",{markerClusterer:null}),me(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var e=new GL(this.context,[],this.props.options);this.registeredEvents=Ke({updaterMap:nt,eventMap:js,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(Ye(this.registeredEvents),this.registeredEvents=Ke({updaterMap:nt,eventMap:js,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),Ye(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}me(Pee,"contextType",We);function Tk(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()}var YL=function(){function t(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(t,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return t.prototype.createInfoBoxDiv=function(){var e=this,n=function(d){d.returnValue=!1,d.preventDefault&&d.preventDefault(),e.enableEventPropagation||Tk(d)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var s=this.getPanes();if(s!==null&&s[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var i=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-i.left-i.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var a=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],o=0,l=a;o<l.length;o++){var c=l[o];this.eventListeners.push(google.maps.event.addListener(this.div,c,Tk))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",n),google.maps.event.trigger(this,"domready")}},t.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},t.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},t.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},t.prototype.getCloseClickHandler=function(){return this.closeClickHandler},t.prototype.panBox=function(e){if(this.div&&!e){var n=this.getMap();if(n instanceof google.maps.Map){var s=0,i=0,a=n.getBounds();a&&!a.contains(this.position)&&n.setCenter(this.position);var o=n.getDiv(),l=o.offsetWidth,c=o.offsetHeight,u=this.pixelOffset.width,d=this.pixelOffset.height,h=this.div.offsetWidth,p=this.div.offsetHeight,m=this.infoBoxClearance.width,g=this.infoBoxClearance.height,x=this.getProjection(),b=x.fromLatLngToContainerPixel(this.position);b!==null&&(b.x<-u+m?s=b.x+u-m:b.x+h+u+m>l&&(s=b.x+h+u+m-l),this.alignBottom?b.y<-d+g+p?i=b.y+d-g-p:b.y+d+g>c&&(i=b.y+d+g-c):b.y<-d+g?i=b.y+d-g:b.y+p+d+g>c&&(i=b.y+p+d+g-c)),s===0&&i===0||n.panBy(s,i)}}},t.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(this.div.style[n]=e[n]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var s=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+s*100+')"',this.div.style.filter="alpha(opacity="+s*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},t.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var n=this.div.ownerDocument,s=n&&n.defaultView?n.defaultView.getComputedStyle(this.div,""):null;s&&(e.top=parseInt(s.borderTopWidth||"",10)||0,e.bottom=parseInt(s.borderBottomWidth||"",10)||0,e.left=parseInt(s.borderLeftWidth||"",10)||0,e.right=parseInt(s.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var i=this.div.currentStyle;i&&(e.top=parseInt(i.borderTopWidth||"",10)||0,e.bottom=parseInt(i.borderBottomWidth||"",10)||0,e.left=parseInt(i.borderLeftWidth||"",10)||0,e.right=parseInt(i.borderRightWidth||"",10)||0)}return e},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},t.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),n=e.fromLatLngToDivPixel(this.position);n!==null&&(this.div.style.left=n.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(n.y+this.pixelOffset.height)+"px":this.div.style.top=n.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},t.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},t.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},t.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},t.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},t.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},t.prototype.getContent=function(){return this.content},t.prototype.getPosition=function(){return this.position},t.prototype.getZIndex=function(){return this.zIndex},t.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},t.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},t.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},t.prototype.open=function(e,n){var s=this;n&&(this.position=n.getPosition(),this.moveListener=google.maps.event.addListener(n,"position_changed",function(){var i=n.getPosition();s.setPosition(i)}),this.mapListener=google.maps.event.addListener(n,"map_changed",function(){s.setMap(n.map)})),this.setMap(e),this.div&&this.panBox()},t.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,n=this.eventListeners;e<n.length;e++){var s=n[e];google.maps.event.removeListener(s)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},t.prototype.extend=function(e,n){return(function(i){for(var a in i.prototype)Object.prototype.hasOwnProperty.call(this,a)||(this.prototype[a]=i.prototype[a]);return this}).apply(e,[n])},t}(),_ee=["position"],Mee=["position"];function Lk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function Nf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lk(Object(n),!0).forEach(function(s){me(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lk(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var Ak={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},Ik={options(t,e){t.setOptions(e)},position(t,e){e instanceof google.maps.LatLng?t.setPosition(e):t.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},Tee={};function Lee(t){var{children:e,anchor:n,options:s,position:i,zIndex:a,onCloseClick:o,onDomReady:l,onContentChanged:c,onPositionChanged:u,onZindexChanged:d,onLoad:h,onUnmount:p}=t,m=f.useContext(We),[g,x]=f.useState(null),[b,v]=f.useState(null),[y,w]=f.useState(null),[k,N]=f.useState(null),[S,M]=f.useState(null),[j,C]=f.useState(null),L=f.useRef(null);return f.useEffect(()=>{m&&g!==null&&(g.close(),n?g.open(m,n):g.getPosition()&&g.open(m))},[m,g,n]),f.useEffect(()=>{s&&g!==null&&g.setOptions(s)},[g,s]),f.useEffect(()=>{if(i&&g!==null){var O=i instanceof google.maps.LatLng?i:new google.maps.LatLng(i.lat,i.lng);g.setPosition(O)}},[i]),f.useEffect(()=>{typeof a=="number"&&g!==null&&g.setZIndex(a)},[a]),f.useEffect(()=>{g&&o&&(b!==null&&google.maps.event.removeListener(b),v(google.maps.event.addListener(g,"closeclick",o)))},[o]),f.useEffect(()=>{g&&l&&(y!==null&&google.maps.event.removeListener(y),w(google.maps.event.addListener(g,"domready",l)))},[l]),f.useEffect(()=>{g&&c&&(k!==null&&google.maps.event.removeListener(k),N(google.maps.event.addListener(g,"content_changed",c)))},[c]),f.useEffect(()=>{g&&u&&(S!==null&&google.maps.event.removeListener(S),M(google.maps.event.addListener(g,"position_changed",u)))},[u]),f.useEffect(()=>{g&&d&&(j!==null&&google.maps.event.removeListener(j),C(google.maps.event.addListener(g,"zindex_changed",d)))},[d]),f.useEffect(()=>{if(m){var O=s||Tee,{position:F}=O,$=Nw(O,_ee),I;F&&!(F instanceof google.maps.LatLng)&&(I=new google.maps.LatLng(F.lat,F.lng));var _=new YL(Nf(Nf({},$),I?{position:I}:{}));L.current=document.createElement("div"),x(_),o&&v(google.maps.event.addListener(_,"closeclick",o)),l&&w(google.maps.event.addListener(_,"domready",l)),c&&N(google.maps.event.addListener(_,"content_changed",c)),u&&M(google.maps.event.addListener(_,"position_changed",u)),d&&C(google.maps.event.addListener(_,"zindex_changed",d)),_.setContent(L.current),n?_.open(m,n):_.getPosition()?_.open(m):tn(!1,"You must provide either an anchor or a position prop for <InfoBox>."),h&&h(_)}return()=>{g!==null&&(b&&google.maps.event.removeListener(b),k&&google.maps.event.removeListener(k),y&&google.maps.event.removeListener(y),S&&google.maps.event.removeListener(S),j&&google.maps.event.removeListener(j),p&&p(g),g.close())}},[]),L.current?Xi.createPortal(f.Children.only(e),L.current):null}f.memo(Lee);class Aee extends f.PureComponent{constructor(){super(...arguments),me(this,"registeredEvents",[]),me(this,"containerElement",null),me(this,"state",{infoBox:null}),me(this,"open",(e,n)=>{n?this.context!==null&&e.open(this.context,n):e.getPosition()?this.context!==null&&e.open(this.context):tn(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),me(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var e=this.props.options||{},{position:n}=e,s=Nw(e,Mee),i;n&&!(n instanceof google.maps.LatLng)&&(i=new google.maps.LatLng(n.lat,n.lng));var a=new YL(Nf(Nf({},s),i?{position:i}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=Ke({updaterMap:Ik,eventMap:Ak,prevProps:{},nextProps:this.props,instance:a}),this.setState({infoBox:a},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:n}=this.state;n!==null&&(Ye(this.registeredEvents),this.registeredEvents=Ke({updaterMap:Ik,eventMap:Ak,prevProps:e,nextProps:this.props,instance:n}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:n}=this.state;n!==null&&(e&&e(n),Ye(this.registeredEvents),n.close())}render(){return this.containerElement?Xi.createPortal(f.Children.only(this.props.children),this.containerElement):null}}me(Aee,"contextType",We);var N0,Ok;function Iee(){return Ok||(Ok=1,N0=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var s,i,a;if(Array.isArray(e)){if(s=e.length,s!=n.length)return!1;for(i=s;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(a=Object.keys(e),s=a.length,s!==Object.keys(n).length)return!1;for(i=s;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=s;i--!==0;){var o=a[i];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n}),N0}var Oee=Iee(),Rk=VL(Oee),Dk=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],k0=1,fc=8;class kw{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[n,s]=new Uint8Array(e,0,2);if(n!==219)throw new Error("Data does not appear to be in a KDBush format.");var i=s>>4;if(i!==k0)throw new Error("Got v".concat(i," data when expected v").concat(k0,"."));var a=Dk[s&15];if(!a)throw new Error("Unrecognized array type.");var[o]=new Uint16Array(e,2,1),[l]=new Uint32Array(e,4,1);return new kw(l,o,a,e)}constructor(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,i=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=s,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var a=Dk.indexOf(this.ArrayType),o=e*2*this.ArrayType.BYTES_PER_ELEMENT,l=e*this.IndexArrayType.BYTES_PER_ELEMENT,c=(8-l%8)%8;if(a<0)throw new Error("Unexpected typed array class: ".concat(s,"."));i&&i instanceof ArrayBuffer?(this.data=i,this.ids=new this.IndexArrayType(this.data,fc,e),this.coords=new this.ArrayType(this.data,fc+l+c,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(fc+o+l+c),this.ids=new this.IndexArrayType(this.data,fc,e),this.coords=new this.ArrayType(this.data,fc+l+c,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(k0<<4)+a]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=e)}add(e,n){var s=this._pos>>1;return this.ids[s]=s,this.coords[this._pos++]=e,this.coords[this._pos++]=n,s}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return dy(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,n,s,i){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:a,coords:o,nodeSize:l}=this,c=[0,a.length-1,0],u=[];c.length;){var d=c.pop()||0,h=c.pop()||0,p=c.pop()||0;if(h-p<=l){for(var m=p;m<=h;m++){var g=o[2*m],x=o[2*m+1];g>=e&&g<=s&&x>=n&&x<=i&&u.push(a[m])}continue}var b=p+h>>1,v=o[2*b],y=o[2*b+1];v>=e&&v<=s&&y>=n&&y<=i&&u.push(a[b]),(d===0?e<=v:n<=y)&&(c.push(p),c.push(b-1),c.push(1-d)),(d===0?s>=v:i>=y)&&(c.push(b+1),c.push(h),c.push(1-d))}return u}within(e,n,s){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:i,coords:a,nodeSize:o}=this,l=[0,i.length-1,0],c=[],u=s*s;l.length;){var d=l.pop()||0,h=l.pop()||0,p=l.pop()||0;if(h-p<=o){for(var m=p;m<=h;m++)$k(a[2*m],a[2*m+1],e,n)<=u&&c.push(i[m]);continue}var g=p+h>>1,x=a[2*g],b=a[2*g+1];$k(x,b,e,n)<=u&&c.push(i[g]),(d===0?e-s<=x:n-s<=b)&&(l.push(p),l.push(g-1),l.push(1-d)),(d===0?e+s>=x:n+s>=b)&&(l.push(g+1),l.push(h),l.push(1-d))}return c}}function dy(t,e,n,s,i,a){if(!(i-s<=n)){var o=s+i>>1;XL(t,e,o,s,i,a),dy(t,e,n,s,o-1,1-a),dy(t,e,n,o+1,i,1-a)}}function XL(t,e,n,s,i,a){for(;i>s;){if(i-s>600){var o=i-s+1,l=n-s+1,c=Math.log(o),u=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*u*(o-u)/o)*(l-o/2<0?-1:1),h=Math.max(s,Math.floor(n-l*u/o+d)),p=Math.min(i,Math.floor(n+(o-l)*u/o+d));XL(t,e,n,h,p,a)}var m=e[2*n+a],g=s,x=i;for(mc(t,e,s,n),e[2*i+a]>m&&mc(t,e,s,i);g<x;){for(mc(t,e,g,x),g++,x--;e[2*g+a]<m;)g++;for(;e[2*x+a]>m;)x--}e[2*s+a]===m?mc(t,e,s,x):(x++,mc(t,e,x,i)),x<=n&&(s=x+1),n<=x&&(i=x-1)}}function mc(t,e,n,s){S0(t,n,s),S0(e,2*n,2*s),S0(e,2*n+1,2*s+1)}function S0(t,e,n){var s=t[e];t[e]=t[n],t[n]=s}function $k(t,e,n,s){var i=t-n,a=e-s;return i*i+a*a}var Ree={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},Fk=Math.fround||(t=>e=>(t[0]=+e,t[0]))(new Float32Array(1)),la=2,hi=3,C0=4,oi=5,ZL=6;class Dee{constructor(e){this.options=Object.assign(Object.create(Ree),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:n,minZoom:s,maxZoom:i}=this.options;n&&console.time("total time");var a="prepare ".concat(e.length," points");n&&console.time(a),this.points=e;for(var o=[],l=0;l<e.length;l++){var c=e[l];if(c.geometry){var[u,d]=c.geometry.coordinates,h=Fk(yh(u)),p=Fk(bh(d));o.push(h,p,1/0,l,-1,1),this.options.reduce&&o.push(0)}}var m=this.trees[i+1]=this._createTree(o);n&&console.timeEnd(a);for(var g=i;g>=s;g--){var x=+Date.now();m=this.trees[g]=this._createTree(this._cluster(m,g)),n&&console.log("z%d: %d clusters in %dms",g,m.numItems,+Date.now()-x)}return n&&console.timeEnd("total time"),this}getClusters(e,n){var s=((e[0]+180)%360+360)%360-180,i=Math.max(-90,Math.min(90,e[1])),a=e[2]===180?180:((e[2]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)s=-180,a=180;else if(s>a){var l=this.getClusters([s,i,180,o],n),c=this.getClusters([-180,i,a,o],n);return l.concat(c)}var u=this.trees[this._limitZoom(n)],d=u.range(yh(s),bh(o),yh(a),bh(i)),h=u.data,p=[];for(var m of d){var g=this.stride*m;p.push(h[g+oi]>1?zk(h,g,this.clusterProps):this.points[h[g+hi]])}return p}getChildren(e){var n=this._getOriginId(e),s=this._getOriginZoom(e),i="No cluster with the specified id.",a=this.trees[s];if(!a)throw new Error(i);var o=a.data;if(n*this.stride>=o.length)throw new Error(i);var l=this.options.radius/(this.options.extent*Math.pow(2,s-1)),c=o[n*this.stride],u=o[n*this.stride+1],d=a.within(c,u,l),h=[];for(var p of d){var m=p*this.stride;o[m+C0]===e&&h.push(o[m+oi]>1?zk(o,m,this.clusterProps):this.points[o[m+hi]])}if(h.length===0)throw new Error(i);return h}getLeaves(e,n,s){n=n||10,s=s||0;var i=[];return this._appendLeaves(i,e,n,s,0),i}getTile(e,n,s){var i=this.trees[this._limitZoom(e)],a=Math.pow(2,e),{extent:o,radius:l}=this.options,c=l/o,u=(s-c)/a,d=(s+1+c)/a,h={features:[]};return this._addTileFeatures(i.range((n-c)/a,u,(n+1+c)/a,d),i.data,n,s,a,h),n===0&&this._addTileFeatures(i.range(1-c/a,u,1,d),i.data,a,s,a,h),n===a-1&&this._addTileFeatures(i.range(0,u,c/a,d),i.data,-1,s,a,h),h.features.length?h:null}getClusterExpansionZoom(e){for(var n=this._getOriginZoom(e)-1;n<=this.options.maxZoom;){var s=this.getChildren(e);if(n++,s.length!==1)break;e=s[0].properties.cluster_id}return n}_appendLeaves(e,n,s,i,a){var o=this.getChildren(n);for(var l of o){var c=l.properties;if(c&&c.cluster?a+c.point_count<=i?a+=c.point_count:a=this._appendLeaves(e,c.cluster_id,s,i,a):a<i?a++:e.push(l),e.length===s)break}return a}_createTree(e){for(var n=new kw(e.length/this.stride|0,this.options.nodeSize,Float32Array),s=0;s<e.length;s+=this.stride)n.add(e[s],e[s+1]);return n.finish(),n.data=e,n}_addTileFeatures(e,n,s,i,a,o){for(var l of e){var c=l*this.stride,u=n[c+oi]>1,d=void 0,h=void 0,p=void 0;if(u)d=QL(n,c,this.clusterProps),h=n[c],p=n[c+1];else{var m=this.points[n[c+hi]];d=m.properties;var[g,x]=m.geometry.coordinates;h=yh(g),p=bh(x)}var b={type:1,geometry:[[Math.round(this.options.extent*(h*a-s)),Math.round(this.options.extent*(p*a-i))]],tags:d},v=void 0;u||this.options.generateId?v=n[c+hi]:v=this.points[n[c+hi]].id,v!==void 0&&(b.id=v),o.features.push(b)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,n){for(var{radius:s,extent:i,reduce:a,minPoints:o}=this.options,l=s/(i*Math.pow(2,n)),c=e.data,u=[],d=this.stride,h=0;h<c.length;h+=d)if(!(c[h+la]<=n)){c[h+la]=n;var p=c[h],m=c[h+1],g=e.within(c[h],c[h+1],l),x=c[h+oi],b=x;for(var v of g){var y=v*d;c[y+la]>n&&(b+=c[y+oi])}if(b>x&&b>=o){var w=p*x,k=m*x,N=void 0,S=-1,M=((h/d|0)<<5)+(n+1)+this.points.length;for(var j of g){var C=j*d;if(!(c[C+la]<=n)){c[C+la]=n;var L=c[C+oi];w+=c[C]*L,k+=c[C+1]*L,c[C+C0]=M,a&&(N||(N=this._map(c,h,!0),S=this.clusterProps.length,this.clusterProps.push(N)),a(N,this._map(c,C)))}}c[h+C0]=M,u.push(w/b,k/b,1/0,M,-1,b),a&&u.push(S)}else{for(var O=0;O<d;O++)u.push(c[h+O]);if(b>1)for(var F of g){var $=F*d;if(!(c[$+la]<=n)){c[$+la]=n;for(var I=0;I<d;I++)u.push(c[$+I])}}}}return u}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,n,s){if(e[n+oi]>1){var i=this.clusterProps[e[n+ZL]];return s?Object.assign({},i):i}var a=this.points[e[n+hi]].properties,o=this.options.map(a);return s&&o===a?Object.assign({},o):o}}function zk(t,e,n){return{type:"Feature",id:t[e+hi],properties:QL(t,e,n),geometry:{type:"Point",coordinates:[$ee(t[e]),Fee(t[e+1])]}}}function QL(t,e,n){var s=t[e+oi],i=s>=1e4?"".concat(Math.round(s/1e3),"k"):s>=1e3?"".concat(Math.round(s/100)/10,"k"):s,a=t[e+ZL],o=a===-1?{}:Object.assign({},n[a]);return Object.assign(o,{cluster:!0,cluster_id:t[e+hi],point_count:s,point_count_abbreviated:i})}function yh(t){return t/360+.5}function bh(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function $ee(t){return(t-.5)*360}function Fee(t){var e=(180-t*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function zee(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n}class rs{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,n){this.isAdvancedMarker(e)?e.map=n:e.setMap(n)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class uy{constructor(e){var{markers:n,position:s}=e;this.markers=n,s&&(s instanceof google.maps.LatLng?this._position=s:this._position=new google.maps.LatLng(s))}get bounds(){if(!(this.markers.length===0&&!this._position)){var e=new google.maps.LatLngBounds(this._position,this._position);for(var n of this.markers)e.extend(rs.getPosition(n));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>rs.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(rs.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class Bee{constructor(e){var{maxZoom:n=16}=e;this.maxZoom=n}noop(e){var{markers:n}=e;return Uee(n)}}var Uee=t=>{var e=t.map(n=>new uy({position:rs.getPosition(n),markers:[n]}));return e};class Vee extends Bee{constructor(e){var{maxZoom:n,radius:s=60}=e,i=zee(e,["maxZoom","radius"]);super({maxZoom:n}),this.state={zoom:-1},this.superCluster=new Dee(Object.assign({maxZoom:this.maxZoom,radius:s},i))}calculate(e){var n=!1,s={zoom:e.map.getZoom()};if(!Rk(e.markers,this.markers)){n=!0,this.markers=[...e.markers];var i=this.markers.map(a=>{var o=rs.getPosition(a),l=[o.lng(),o.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:l},properties:{marker:a}}});this.superCluster.load(i)}return n||(this.state.zoom<=this.maxZoom||s.zoom<=this.maxZoom)&&(n=!Rk(this.state,s)),this.state=s,n&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:n}}cluster(e){var{map:n}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(n.getZoom())).map(s=>this.transformCluster(s))}transformCluster(e){var{geometry:{coordinates:[n,s]},properties:i}=e;if(i.cluster)return new uy({markers:this.superCluster.getLeaves(i.cluster_id,1/0).map(o=>o.properties.marker),position:{lat:s,lng:n}});var a=i.marker;return new uy({markers:[a],position:rs.getPosition(a)})}}class Wee{constructor(e,n){this.markers={sum:e.length};var s=n.map(a=>a.count),i=s.reduce((a,o)=>a+o,0);this.clusters={count:n.length,markers:{mean:i/n.length,sum:i,min:Math.min(...s),max:Math.max(...s)}}}}class Hee{render(e,n,s){var{count:i,position:a}=e,o=i>Math.max(10,n.clusters.markers.mean)?"#ff0000":"#0000ff",l='<svg fill="'.concat(o,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(i,`</text>
</svg>`),c="Cluster of ".concat(i," markers"),u=Number(google.maps.Marker.MAX_ZINDEX)+i;if(rs.isAdvancedMarkerAvailable(s)){var d=new DOMParser,h=d.parseFromString(l,"image/svg+xml").documentElement;h.setAttribute("transform","translate(0 25)");var p={map:s,position:a,zIndex:u,title:c,content:h};return new google.maps.marker.AdvancedMarkerElement(p)}var m={position:a,zIndex:u,title:c,icon:{url:"data:image/svg+xml;base64,".concat(btoa(l)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(m)}}function qee(t,e){for(var n in e.prototype)t.prototype[n]=e.prototype[n]}class Sw{constructor(){qee(Sw,google.maps.OverlayView)}}var dd;(function(t){t.CLUSTERING_BEGIN="clusteringbegin",t.CLUSTERING_END="clusteringend",t.CLUSTER_CLICK="click"})(dd||(dd={}));var Kee=(t,e,n)=>{n.fitBounds(e.bounds)};class Gee extends Sw{constructor(e){var{map:n,markers:s=[],algorithmOptions:i={},algorithm:a=new Vee(i),renderer:o=new Hee,onClusterClick:l=Kee}=e;super(),this.markers=[...s],this.clusters=[],this.algorithm=a,this.renderer=o,this.onClusterClick=l,n&&this.setMap(n)}addMarker(e,n){this.markers.includes(e)||(this.markers.push(e),n||this.render())}addMarkers(e,n){e.forEach(s=>{this.addMarker(s,!0)}),n||this.render()}removeMarker(e,n){var s=this.markers.indexOf(e);return s===-1?!1:(rs.setMap(e,null),this.markers.splice(s,1),n||this.render(),!0)}removeMarkers(e,n){var s=!1;return e.forEach(i=>{s=this.removeMarker(i,!0)||s}),s&&!n&&this.render(),s}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,dd.CLUSTERING_BEGIN,this);var{clusters:n,changed:s}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(s||s==null){var i=new Set;for(var a of n)a.markers.length==1&&i.add(a.markers[0]);var o=[];for(var l of this.clusters)l.marker!=null&&(l.markers.length==1?i.has(l.marker)||rs.setMap(l.marker,null):o.push(l.marker));this.clusters=n,this.renderClusters(),requestAnimationFrame(()=>o.forEach(c=>rs.setMap(c,null)))}google.maps.event.trigger(this,dd.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>rs.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){var e=new Wee(this.markers,this.clusters),n=this.getMap();this.clusters.forEach(s=>{s.markers.length===1?s.marker=s.markers[0]:(s.marker=this.renderer.render(s,e,n),s.markers.forEach(i=>rs.setMap(i,null)),this.onClusterClick&&s.marker.addListener("click",i=>{google.maps.event.trigger(this,dd.CLUSTER_CLICK,s),this.onClusterClick(i,s,n)})),rs.setMap(s.marker,n)})}}function Bk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function Uk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Bk(Object(n),!0).forEach(function(s){me(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bk(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function Yee(t){var e=BJ(),[n,s]=f.useState(null);return f.useEffect(()=>{if(e&&n===null){var i=new Gee(Uk(Uk({},t),{},{map:e}));s(i)}},[e]),n}function Xee(t){var{children:e,options:n}=t,s=Yee(n);return s!==null?e(s):null}f.memo(Xee);var Vk={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},Wk={options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},zIndex(t,e){t.setZIndex(e)}};function Zee(t){var{children:e,anchor:n,options:s,position:i,zIndex:a,onCloseClick:o,onDomReady:l,onContentChanged:c,onPositionChanged:u,onZindexChanged:d,onLoad:h,onUnmount:p}=t,m=f.useContext(We),[g,x]=f.useState(null),[b,v]=f.useState(null),[y,w]=f.useState(null),[k,N]=f.useState(null),[S,M]=f.useState(null),[j,C]=f.useState(null),L=f.useRef(null);return f.useEffect(()=>{g!==null&&(g.close(),n?g.open(m,n):g.getPosition()&&g.open(m))},[m,g,n]),f.useEffect(()=>{s&&g!==null&&g.setOptions(s)},[g,s]),f.useEffect(()=>{i&&g!==null&&g.setPosition(i)},[i]),f.useEffect(()=>{typeof a=="number"&&g!==null&&g.setZIndex(a)},[a]),f.useEffect(()=>{g&&o&&(b!==null&&google.maps.event.removeListener(b),v(google.maps.event.addListener(g,"closeclick",o)))},[o]),f.useEffect(()=>{g&&l&&(y!==null&&google.maps.event.removeListener(y),w(google.maps.event.addListener(g,"domready",l)))},[l]),f.useEffect(()=>{g&&c&&(k!==null&&google.maps.event.removeListener(k),N(google.maps.event.addListener(g,"content_changed",c)))},[c]),f.useEffect(()=>{g&&u&&(S!==null&&google.maps.event.removeListener(S),M(google.maps.event.addListener(g,"position_changed",u)))},[u]),f.useEffect(()=>{g&&d&&(j!==null&&google.maps.event.removeListener(j),C(google.maps.event.addListener(g,"zindex_changed",d)))},[d]),f.useEffect(()=>{var O=new google.maps.InfoWindow(s);return x(O),L.current=document.createElement("div"),o&&v(google.maps.event.addListener(O,"closeclick",o)),l&&w(google.maps.event.addListener(O,"domready",l)),c&&N(google.maps.event.addListener(O,"content_changed",c)),u&&M(google.maps.event.addListener(O,"position_changed",u)),d&&C(google.maps.event.addListener(O,"zindex_changed",d)),O.setContent(L.current),i&&O.setPosition(i),a&&O.setZIndex(a),n?O.open(m,n):O.getPosition()?O.open(m):tn(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),h&&h(O),()=>{b&&google.maps.event.removeListener(b),k&&google.maps.event.removeListener(k),y&&google.maps.event.removeListener(y),S&&google.maps.event.removeListener(S),j&&google.maps.event.removeListener(j),p&&p(O),O.close()}},[]),L.current?Xi.createPortal(f.Children.only(e),L.current):null}f.memo(Zee);class JL extends f.PureComponent{constructor(){super(...arguments),me(this,"registeredEvents",[]),me(this,"containerElement",null),me(this,"state",{infoWindow:null}),me(this,"open",(e,n)=>{n?e.open(this.context,n):e.getPosition()?e.open(this.context):tn(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),me(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=Ke({updaterMap:Wk,eventMap:Vk,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){this.state.infoWindow!==null&&(Ye(this.registeredEvents),this.registeredEvents=Ke({updaterMap:Wk,eventMap:Vk,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(Ye(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?Xi.createPortal(f.Children.only(this.props.children),this.containerElement):null}}me(JL,"contextType",We);function Hk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function kf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hk(Object(n),!0).forEach(function(s){me(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hk(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var qk={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Kk={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},visible(t,e){t.setVisible(e)}},Qee={};function Jee(t){var{options:e,draggable:n,editable:s,visible:i,path:a,onDblClick:o,onDragEnd:l,onDragStart:c,onMouseDown:u,onMouseMove:d,onMouseOut:h,onMouseOver:p,onMouseUp:m,onRightClick:g,onClick:x,onDrag:b,onLoad:v,onUnmount:y}=t,w=f.useContext(We),[k,N]=f.useState(null),[S,M]=f.useState(null),[j,C]=f.useState(null),[L,O]=f.useState(null),[F,$]=f.useState(null),[I,_]=f.useState(null),[P,E]=f.useState(null),[T,D]=f.useState(null),[R,z]=f.useState(null),[q,H]=f.useState(null),[U,B]=f.useState(null),[V,G]=f.useState(null);return f.useEffect(()=>{k!==null&&k.setMap(w)},[w]),f.useEffect(()=>{typeof e<"u"&&k!==null&&k.setOptions(e)},[k,e]),f.useEffect(()=>{typeof n<"u"&&k!==null&&k.setDraggable(n)},[k,n]),f.useEffect(()=>{typeof s<"u"&&k!==null&&k.setEditable(s)},[k,s]),f.useEffect(()=>{typeof i<"u"&&k!==null&&k.setVisible(i)},[k,i]),f.useEffect(()=>{typeof a<"u"&&k!==null&&k.setPath(a)},[k,a]),f.useEffect(()=>{k&&o&&(S!==null&&google.maps.event.removeListener(S),M(google.maps.event.addListener(k,"dblclick",o)))},[o]),f.useEffect(()=>{k&&l&&(j!==null&&google.maps.event.removeListener(j),C(google.maps.event.addListener(k,"dragend",l)))},[l]),f.useEffect(()=>{k&&c&&(L!==null&&google.maps.event.removeListener(L),O(google.maps.event.addListener(k,"dragstart",c)))},[c]),f.useEffect(()=>{k&&u&&(F!==null&&google.maps.event.removeListener(F),$(google.maps.event.addListener(k,"mousedown",u)))},[u]),f.useEffect(()=>{k&&d&&(I!==null&&google.maps.event.removeListener(I),_(google.maps.event.addListener(k,"mousemove",d)))},[d]),f.useEffect(()=>{k&&h&&(P!==null&&google.maps.event.removeListener(P),E(google.maps.event.addListener(k,"mouseout",h)))},[h]),f.useEffect(()=>{k&&p&&(T!==null&&google.maps.event.removeListener(T),D(google.maps.event.addListener(k,"mouseover",p)))},[p]),f.useEffect(()=>{k&&m&&(R!==null&&google.maps.event.removeListener(R),z(google.maps.event.addListener(k,"mouseup",m)))},[m]),f.useEffect(()=>{k&&g&&(q!==null&&google.maps.event.removeListener(q),H(google.maps.event.addListener(k,"rightclick",g)))},[g]),f.useEffect(()=>{k&&x&&(U!==null&&google.maps.event.removeListener(U),B(google.maps.event.addListener(k,"click",x)))},[x]),f.useEffect(()=>{k&&b&&(V!==null&&google.maps.event.removeListener(V),G(google.maps.event.addListener(k,"drag",b)))},[b]),f.useEffect(()=>{var Q=new google.maps.Polyline(kf(kf({},e||Qee),{},{map:w}));return a&&Q.setPath(a),typeof i<"u"&&Q.setVisible(i),typeof s<"u"&&Q.setEditable(s),typeof n<"u"&&Q.setDraggable(n),o&&M(google.maps.event.addListener(Q,"dblclick",o)),l&&C(google.maps.event.addListener(Q,"dragend",l)),c&&O(google.maps.event.addListener(Q,"dragstart",c)),u&&$(google.maps.event.addListener(Q,"mousedown",u)),d&&_(google.maps.event.addListener(Q,"mousemove",d)),h&&E(google.maps.event.addListener(Q,"mouseout",h)),p&&D(google.maps.event.addListener(Q,"mouseover",p)),m&&z(google.maps.event.addListener(Q,"mouseup",m)),g&&H(google.maps.event.addListener(Q,"rightclick",g)),x&&B(google.maps.event.addListener(Q,"click",x)),b&&G(google.maps.event.addListener(Q,"drag",b)),N(Q),v&&v(Q),()=>{S!==null&&google.maps.event.removeListener(S),j!==null&&google.maps.event.removeListener(j),L!==null&&google.maps.event.removeListener(L),F!==null&&google.maps.event.removeListener(F),I!==null&&google.maps.event.removeListener(I),P!==null&&google.maps.event.removeListener(P),T!==null&&google.maps.event.removeListener(T),R!==null&&google.maps.event.removeListener(R),q!==null&&google.maps.event.removeListener(q),U!==null&&google.maps.event.removeListener(U),y&&y(Q),Q.setMap(null)}},[]),null}f.memo(Jee);class ete extends f.PureComponent{constructor(){super(...arguments),me(this,"registeredEvents",[]),me(this,"state",{polyline:null}),me(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var e=new google.maps.Polyline(kf(kf({},this.props.options),{},{map:this.context}));this.registeredEvents=Ke({updaterMap:Kk,eventMap:qk,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){this.state.polyline!==null&&(Ye(this.registeredEvents),this.registeredEvents=Ke({updaterMap:Kk,eventMap:qk,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),Ye(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}me(ete,"contextType",We);function Gk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function Yk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gk(Object(n),!0).forEach(function(s){me(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gk(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var Xk={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Zk={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},paths(t,e){t.setPaths(e)},visible(t,e){t.setVisible(e)}};function tte(t){var{options:e,draggable:n,editable:s,visible:i,path:a,paths:o,onDblClick:l,onDragEnd:c,onDragStart:u,onMouseDown:d,onMouseMove:h,onMouseOut:p,onMouseOver:m,onMouseUp:g,onRightClick:x,onClick:b,onDrag:v,onLoad:y,onUnmount:w,onEdit:k}=t,N=f.useContext(We),[S,M]=f.useState(null),[j,C]=f.useState(null),[L,O]=f.useState(null),[F,$]=f.useState(null),[I,_]=f.useState(null),[P,E]=f.useState(null),[T,D]=f.useState(null),[R,z]=f.useState(null),[q,H]=f.useState(null),[U,B]=f.useState(null),[V,G]=f.useState(null),[Q,se]=f.useState(null);return f.useEffect(()=>{S!==null&&S.setMap(N)},[N]),f.useEffect(()=>{typeof e<"u"&&S!==null&&S.setOptions(e)},[S,e]),f.useEffect(()=>{typeof n<"u"&&S!==null&&S.setDraggable(n)},[S,n]),f.useEffect(()=>{typeof s<"u"&&S!==null&&S.setEditable(s)},[S,s]),f.useEffect(()=>{typeof i<"u"&&S!==null&&S.setVisible(i)},[S,i]),f.useEffect(()=>{typeof a<"u"&&S!==null&&S.setPath(a)},[S,a]),f.useEffect(()=>{typeof o<"u"&&S!==null&&S.setPaths(o)},[S,o]),f.useEffect(()=>{S&&typeof l=="function"&&(j!==null&&google.maps.event.removeListener(j),C(google.maps.event.addListener(S,"dblclick",l)))},[l]),f.useEffect(()=>{S&&(google.maps.event.addListener(S.getPath(),"insert_at",()=>{k==null||k(S)}),google.maps.event.addListener(S.getPath(),"set_at",()=>{k==null||k(S)}),google.maps.event.addListener(S.getPath(),"remove_at",()=>{k==null||k(S)}))},[S,k]),f.useEffect(()=>{S&&typeof c=="function"&&(L!==null&&google.maps.event.removeListener(L),O(google.maps.event.addListener(S,"dragend",c)))},[c]),f.useEffect(()=>{S&&typeof u=="function"&&(F!==null&&google.maps.event.removeListener(F),$(google.maps.event.addListener(S,"dragstart",u)))},[u]),f.useEffect(()=>{S&&typeof d=="function"&&(I!==null&&google.maps.event.removeListener(I),_(google.maps.event.addListener(S,"mousedown",d)))},[d]),f.useEffect(()=>{S&&typeof h=="function"&&(P!==null&&google.maps.event.removeListener(P),E(google.maps.event.addListener(S,"mousemove",h)))},[h]),f.useEffect(()=>{S&&typeof p=="function"&&(T!==null&&google.maps.event.removeListener(T),D(google.maps.event.addListener(S,"mouseout",p)))},[p]),f.useEffect(()=>{S&&typeof m=="function"&&(R!==null&&google.maps.event.removeListener(R),z(google.maps.event.addListener(S,"mouseover",m)))},[m]),f.useEffect(()=>{S&&typeof g=="function"&&(q!==null&&google.maps.event.removeListener(q),H(google.maps.event.addListener(S,"mouseup",g)))},[g]),f.useEffect(()=>{S&&typeof x=="function"&&(U!==null&&google.maps.event.removeListener(U),B(google.maps.event.addListener(S,"rightclick",x)))},[x]),f.useEffect(()=>{S&&typeof b=="function"&&(V!==null&&google.maps.event.removeListener(V),G(google.maps.event.addListener(S,"click",b)))},[b]),f.useEffect(()=>{S&&typeof v=="function"&&(Q!==null&&google.maps.event.removeListener(Q),se(google.maps.event.addListener(S,"drag",v)))},[v]),f.useEffect(()=>{var te=new google.maps.Polygon(Yk(Yk({},e),{},{map:N}));return a&&te.setPath(a),o&&te.setPaths(o),typeof i<"u"&&te.setVisible(i),typeof s<"u"&&te.setEditable(s),typeof n<"u"&&te.setDraggable(n),l&&C(google.maps.event.addListener(te,"dblclick",l)),c&&O(google.maps.event.addListener(te,"dragend",c)),u&&$(google.maps.event.addListener(te,"dragstart",u)),d&&_(google.maps.event.addListener(te,"mousedown",d)),h&&E(google.maps.event.addListener(te,"mousemove",h)),p&&D(google.maps.event.addListener(te,"mouseout",p)),m&&z(google.maps.event.addListener(te,"mouseover",m)),g&&H(google.maps.event.addListener(te,"mouseup",g)),x&&B(google.maps.event.addListener(te,"rightclick",x)),b&&G(google.maps.event.addListener(te,"click",b)),v&&se(google.maps.event.addListener(te,"drag",v)),M(te),y&&y(te),()=>{j!==null&&google.maps.event.removeListener(j),L!==null&&google.maps.event.removeListener(L),F!==null&&google.maps.event.removeListener(F),I!==null&&google.maps.event.removeListener(I),P!==null&&google.maps.event.removeListener(P),T!==null&&google.maps.event.removeListener(T),R!==null&&google.maps.event.removeListener(R),q!==null&&google.maps.event.removeListener(q),U!==null&&google.maps.event.removeListener(U),V!==null&&google.maps.event.removeListener(V),w&&w(te),te.setMap(null)}},[]),null}f.memo(tte);class nte extends f.PureComponent{constructor(){super(...arguments),me(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=Ke({updaterMap:Zk,eventMap:Xk,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&(Ye(this.registeredEvents),this.registeredEvents=Ke({updaterMap:Zk,eventMap:Xk,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),Ye(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}me(nte,"contextType",We);function Qk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function Sf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qk(Object(n),!0).forEach(function(s){me(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qk(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var Jk={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},eS={bounds(t,e){t.setBounds(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},visible(t,e){t.setVisible(e)}};function ste(t){var{options:e,bounds:n,draggable:s,editable:i,visible:a,onDblClick:o,onDragEnd:l,onDragStart:c,onMouseDown:u,onMouseMove:d,onMouseOut:h,onMouseOver:p,onMouseUp:m,onRightClick:g,onClick:x,onDrag:b,onBoundsChanged:v,onLoad:y,onUnmount:w}=t,k=f.useContext(We),[N,S]=f.useState(null),[M,j]=f.useState(null),[C,L]=f.useState(null),[O,F]=f.useState(null),[$,I]=f.useState(null),[_,P]=f.useState(null),[E,T]=f.useState(null),[D,R]=f.useState(null),[z,q]=f.useState(null),[H,U]=f.useState(null),[B,V]=f.useState(null),[G,Q]=f.useState(null),[se,te]=f.useState(null);return f.useEffect(()=>{N!==null&&N.setMap(k)},[k]),f.useEffect(()=>{typeof e<"u"&&N!==null&&N.setOptions(e)},[N,e]),f.useEffect(()=>{typeof s<"u"&&N!==null&&N.setDraggable(s)},[N,s]),f.useEffect(()=>{typeof i<"u"&&N!==null&&N.setEditable(i)},[N,i]),f.useEffect(()=>{typeof a<"u"&&N!==null&&N.setVisible(a)},[N,a]),f.useEffect(()=>{typeof n<"u"&&N!==null&&N.setBounds(n)},[N,n]),f.useEffect(()=>{N&&o&&(M!==null&&google.maps.event.removeListener(M),j(google.maps.event.addListener(N,"dblclick",o)))},[o]),f.useEffect(()=>{N&&l&&(C!==null&&google.maps.event.removeListener(C),L(google.maps.event.addListener(N,"dragend",l)))},[l]),f.useEffect(()=>{N&&c&&(O!==null&&google.maps.event.removeListener(O),F(google.maps.event.addListener(N,"dragstart",c)))},[c]),f.useEffect(()=>{N&&u&&($!==null&&google.maps.event.removeListener($),I(google.maps.event.addListener(N,"mousedown",u)))},[u]),f.useEffect(()=>{N&&d&&(_!==null&&google.maps.event.removeListener(_),P(google.maps.event.addListener(N,"mousemove",d)))},[d]),f.useEffect(()=>{N&&h&&(E!==null&&google.maps.event.removeListener(E),T(google.maps.event.addListener(N,"mouseout",h)))},[h]),f.useEffect(()=>{N&&p&&(D!==null&&google.maps.event.removeListener(D),R(google.maps.event.addListener(N,"mouseover",p)))},[p]),f.useEffect(()=>{N&&m&&(z!==null&&google.maps.event.removeListener(z),q(google.maps.event.addListener(N,"mouseup",m)))},[m]),f.useEffect(()=>{N&&g&&(H!==null&&google.maps.event.removeListener(H),U(google.maps.event.addListener(N,"rightclick",g)))},[g]),f.useEffect(()=>{N&&x&&(B!==null&&google.maps.event.removeListener(B),V(google.maps.event.addListener(N,"click",x)))},[x]),f.useEffect(()=>{N&&b&&(G!==null&&google.maps.event.removeListener(G),Q(google.maps.event.addListener(N,"drag",b)))},[b]),f.useEffect(()=>{N&&v&&(se!==null&&google.maps.event.removeListener(se),te(google.maps.event.addListener(N,"bounds_changed",v)))},[v]),f.useEffect(()=>{var K=new google.maps.Rectangle(Sf(Sf({},e),{},{map:k}));return typeof a<"u"&&K.setVisible(a),typeof i<"u"&&K.setEditable(i),typeof s<"u"&&K.setDraggable(s),typeof n<"u"&&K.setBounds(n),o&&j(google.maps.event.addListener(K,"dblclick",o)),l&&L(google.maps.event.addListener(K,"dragend",l)),c&&F(google.maps.event.addListener(K,"dragstart",c)),u&&I(google.maps.event.addListener(K,"mousedown",u)),d&&P(google.maps.event.addListener(K,"mousemove",d)),h&&T(google.maps.event.addListener(K,"mouseout",h)),p&&R(google.maps.event.addListener(K,"mouseover",p)),m&&q(google.maps.event.addListener(K,"mouseup",m)),g&&U(google.maps.event.addListener(K,"rightclick",g)),x&&V(google.maps.event.addListener(K,"click",x)),b&&Q(google.maps.event.addListener(K,"drag",b)),v&&te(google.maps.event.addListener(K,"bounds_changed",v)),S(K),y&&y(K),()=>{M!==null&&google.maps.event.removeListener(M),C!==null&&google.maps.event.removeListener(C),O!==null&&google.maps.event.removeListener(O),$!==null&&google.maps.event.removeListener($),_!==null&&google.maps.event.removeListener(_),E!==null&&google.maps.event.removeListener(E),D!==null&&google.maps.event.removeListener(D),z!==null&&google.maps.event.removeListener(z),H!==null&&google.maps.event.removeListener(H),B!==null&&google.maps.event.removeListener(B),G!==null&&google.maps.event.removeListener(G),se!==null&&google.maps.event.removeListener(se),w&&w(K),K.setMap(null)}},[]),null}f.memo(ste);class rte extends f.PureComponent{constructor(){super(...arguments),me(this,"registeredEvents",[]),me(this,"state",{rectangle:null}),me(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var e=new google.maps.Rectangle(Sf(Sf({},this.props.options),{},{map:this.context}));this.registeredEvents=Ke({updaterMap:eS,eventMap:Jk,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){this.state.rectangle!==null&&(Ye(this.registeredEvents),this.registeredEvents=Ke({updaterMap:eS,eventMap:Jk,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),Ye(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}me(rte,"contextType",We);function tS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function Cf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tS(Object(n),!0).forEach(function(s){me(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tS(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var nS={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},sS={center(t,e){t.setCenter(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},radius(t,e){t.setRadius(e)},visible(t,e){t.setVisible(e)}},ite={};function ate(t){var{options:e,center:n,radius:s,draggable:i,editable:a,visible:o,onDblClick:l,onDragEnd:c,onDragStart:u,onMouseDown:d,onMouseMove:h,onMouseOut:p,onMouseOver:m,onMouseUp:g,onRightClick:x,onClick:b,onDrag:v,onCenterChanged:y,onRadiusChanged:w,onLoad:k,onUnmount:N}=t,S=f.useContext(We),[M,j]=f.useState(null),[C,L]=f.useState(null),[O,F]=f.useState(null),[$,I]=f.useState(null),[_,P]=f.useState(null),[E,T]=f.useState(null),[D,R]=f.useState(null),[z,q]=f.useState(null),[H,U]=f.useState(null),[B,V]=f.useState(null),[G,Q]=f.useState(null),[se,te]=f.useState(null),[K,J]=f.useState(null),[fe,le]=f.useState(null);return f.useEffect(()=>{M!==null&&M.setMap(S)},[S]),f.useEffect(()=>{typeof e<"u"&&M!==null&&M.setOptions(e)},[M,e]),f.useEffect(()=>{typeof i<"u"&&M!==null&&M.setDraggable(i)},[M,i]),f.useEffect(()=>{typeof a<"u"&&M!==null&&M.setEditable(a)},[M,a]),f.useEffect(()=>{typeof o<"u"&&M!==null&&M.setVisible(o)},[M,o]),f.useEffect(()=>{typeof s=="number"&&M!==null&&M.setRadius(s)},[M,s]),f.useEffect(()=>{typeof n<"u"&&M!==null&&M.setCenter(n)},[M,n]),f.useEffect(()=>{M&&l&&(C!==null&&google.maps.event.removeListener(C),L(google.maps.event.addListener(M,"dblclick",l)))},[l]),f.useEffect(()=>{M&&c&&(O!==null&&google.maps.event.removeListener(O),F(google.maps.event.addListener(M,"dragend",c)))},[c]),f.useEffect(()=>{M&&u&&($!==null&&google.maps.event.removeListener($),I(google.maps.event.addListener(M,"dragstart",u)))},[u]),f.useEffect(()=>{M&&d&&(_!==null&&google.maps.event.removeListener(_),P(google.maps.event.addListener(M,"mousedown",d)))},[d]),f.useEffect(()=>{M&&h&&(E!==null&&google.maps.event.removeListener(E),T(google.maps.event.addListener(M,"mousemove",h)))},[h]),f.useEffect(()=>{M&&p&&(D!==null&&google.maps.event.removeListener(D),R(google.maps.event.addListener(M,"mouseout",p)))},[p]),f.useEffect(()=>{M&&m&&(z!==null&&google.maps.event.removeListener(z),q(google.maps.event.addListener(M,"mouseover",m)))},[m]),f.useEffect(()=>{M&&g&&(H!==null&&google.maps.event.removeListener(H),U(google.maps.event.addListener(M,"mouseup",g)))},[g]),f.useEffect(()=>{M&&x&&(B!==null&&google.maps.event.removeListener(B),V(google.maps.event.addListener(M,"rightclick",x)))},[x]),f.useEffect(()=>{M&&b&&(G!==null&&google.maps.event.removeListener(G),Q(google.maps.event.addListener(M,"click",b)))},[b]),f.useEffect(()=>{M&&v&&(se!==null&&google.maps.event.removeListener(se),te(google.maps.event.addListener(M,"drag",v)))},[v]),f.useEffect(()=>{M&&y&&(K!==null&&google.maps.event.removeListener(K),J(google.maps.event.addListener(M,"center_changed",y)))},[b]),f.useEffect(()=>{M&&w&&(fe!==null&&google.maps.event.removeListener(fe),le(google.maps.event.addListener(M,"radius_changed",w)))},[w]),f.useEffect(()=>{var ce=new google.maps.Circle(Cf(Cf({},e||ite),{},{map:S}));return typeof s=="number"&&ce.setRadius(s),typeof n<"u"&&ce.setCenter(n),typeof s=="number"&&ce.setRadius(s),typeof o<"u"&&ce.setVisible(o),typeof a<"u"&&ce.setEditable(a),typeof i<"u"&&ce.setDraggable(i),l&&L(google.maps.event.addListener(ce,"dblclick",l)),c&&F(google.maps.event.addListener(ce,"dragend",c)),u&&I(google.maps.event.addListener(ce,"dragstart",u)),d&&P(google.maps.event.addListener(ce,"mousedown",d)),h&&T(google.maps.event.addListener(ce,"mousemove",h)),p&&R(google.maps.event.addListener(ce,"mouseout",p)),m&&q(google.maps.event.addListener(ce,"mouseover",m)),g&&U(google.maps.event.addListener(ce,"mouseup",g)),x&&V(google.maps.event.addListener(ce,"rightclick",x)),b&&Q(google.maps.event.addListener(ce,"click",b)),v&&te(google.maps.event.addListener(ce,"drag",v)),y&&J(google.maps.event.addListener(ce,"center_changed",y)),w&&le(google.maps.event.addListener(ce,"radius_changed",w)),j(ce),k&&k(ce),()=>{C!==null&&google.maps.event.removeListener(C),O!==null&&google.maps.event.removeListener(O),$!==null&&google.maps.event.removeListener($),_!==null&&google.maps.event.removeListener(_),E!==null&&google.maps.event.removeListener(E),D!==null&&google.maps.event.removeListener(D),z!==null&&google.maps.event.removeListener(z),H!==null&&google.maps.event.removeListener(H),B!==null&&google.maps.event.removeListener(B),G!==null&&google.maps.event.removeListener(G),K!==null&&google.maps.event.removeListener(K),fe!==null&&google.maps.event.removeListener(fe),N&&N(ce),ce.setMap(null)}},[]),null}f.memo(ate);class ote extends f.PureComponent{constructor(){super(...arguments),me(this,"registeredEvents",[]),me(this,"state",{circle:null}),me(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var e=new google.maps.Circle(Cf(Cf({},this.props.options),{},{map:this.context}));this.registeredEvents=Ke({updaterMap:sS,eventMap:nS,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){this.state.circle!==null&&(Ye(this.registeredEvents),this.registeredEvents=Ke({updaterMap:sS,eventMap:nS,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var e;this.props.onUnmount&&this.props.onUnmount(this.state.circle),Ye(this.registeredEvents),(e=this.state.circle)===null||e===void 0||e.setMap(null)}}render(){return null}}me(ote,"contextType",We);function rS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function Ef(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rS(Object(n),!0).forEach(function(s){me(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rS(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var iS={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},aS={add(t,e){t.add(e)},addgeojson(t,e,n){t.addGeoJson(e,n)},contains(t,e){t.contains(e)},foreach(t,e){t.forEach(e)},loadgeojson(t,e,n,s){t.loadGeoJson(e,n,s)},overridestyle(t,e,n){t.overrideStyle(e,n)},remove(t,e){t.remove(e)},revertstyle(t,e){t.revertStyle(e)},controlposition(t,e){t.setControlPosition(e)},controls(t,e){t.setControls(e)},drawingmode(t,e){t.setDrawingMode(e)},map(t,e){t.setMap(e)},style(t,e){t.setStyle(e)},togeojson(t,e){t.toGeoJson(e)}};function lte(t){var{options:e,onClick:n,onDblClick:s,onMouseDown:i,onMouseMove:a,onMouseOut:o,onMouseOver:l,onMouseUp:c,onRightClick:u,onAddFeature:d,onRemoveFeature:h,onRemoveProperty:p,onSetGeometry:m,onSetProperty:g,onLoad:x,onUnmount:b}=t,v=f.useContext(We),[y,w]=f.useState(null),[k,N]=f.useState(null),[S,M]=f.useState(null),[j,C]=f.useState(null),[L,O]=f.useState(null),[F,$]=f.useState(null),[I,_]=f.useState(null),[P,E]=f.useState(null),[T,D]=f.useState(null),[R,z]=f.useState(null),[q,H]=f.useState(null),[U,B]=f.useState(null),[V,G]=f.useState(null),[Q,se]=f.useState(null);return f.useEffect(()=>{y!==null&&y.setMap(v)},[v]),f.useEffect(()=>{y&&s&&(k!==null&&google.maps.event.removeListener(k),N(google.maps.event.addListener(y,"dblclick",s)))},[s]),f.useEffect(()=>{y&&i&&(S!==null&&google.maps.event.removeListener(S),M(google.maps.event.addListener(y,"mousedown",i)))},[i]),f.useEffect(()=>{y&&a&&(j!==null&&google.maps.event.removeListener(j),C(google.maps.event.addListener(y,"mousemove",a)))},[a]),f.useEffect(()=>{y&&o&&(L!==null&&google.maps.event.removeListener(L),O(google.maps.event.addListener(y,"mouseout",o)))},[o]),f.useEffect(()=>{y&&l&&(F!==null&&google.maps.event.removeListener(F),$(google.maps.event.addListener(y,"mouseover",l)))},[l]),f.useEffect(()=>{y&&c&&(I!==null&&google.maps.event.removeListener(I),_(google.maps.event.addListener(y,"mouseup",c)))},[c]),f.useEffect(()=>{y&&u&&(P!==null&&google.maps.event.removeListener(P),E(google.maps.event.addListener(y,"rightclick",u)))},[u]),f.useEffect(()=>{y&&n&&(T!==null&&google.maps.event.removeListener(T),D(google.maps.event.addListener(y,"click",n)))},[n]),f.useEffect(()=>{y&&d&&(R!==null&&google.maps.event.removeListener(R),z(google.maps.event.addListener(y,"addfeature",d)))},[d]),f.useEffect(()=>{y&&h&&(q!==null&&google.maps.event.removeListener(q),H(google.maps.event.addListener(y,"removefeature",h)))},[h]),f.useEffect(()=>{y&&p&&(U!==null&&google.maps.event.removeListener(U),B(google.maps.event.addListener(y,"removeproperty",p)))},[p]),f.useEffect(()=>{y&&m&&(V!==null&&google.maps.event.removeListener(V),G(google.maps.event.addListener(y,"setgeometry",m)))},[m]),f.useEffect(()=>{y&&g&&(Q!==null&&google.maps.event.removeListener(Q),se(google.maps.event.addListener(y,"setproperty",g)))},[g]),f.useEffect(()=>{if(v!==null){var te=new google.maps.Data(Ef(Ef({},e),{},{map:v}));s&&N(google.maps.event.addListener(te,"dblclick",s)),i&&M(google.maps.event.addListener(te,"mousedown",i)),a&&C(google.maps.event.addListener(te,"mousemove",a)),o&&O(google.maps.event.addListener(te,"mouseout",o)),l&&$(google.maps.event.addListener(te,"mouseover",l)),c&&_(google.maps.event.addListener(te,"mouseup",c)),u&&E(google.maps.event.addListener(te,"rightclick",u)),n&&D(google.maps.event.addListener(te,"click",n)),d&&z(google.maps.event.addListener(te,"addfeature",d)),h&&H(google.maps.event.addListener(te,"removefeature",h)),p&&B(google.maps.event.addListener(te,"removeproperty",p)),m&&G(google.maps.event.addListener(te,"setgeometry",m)),g&&se(google.maps.event.addListener(te,"setproperty",g)),w(te),x&&x(te)}return()=>{y&&(k!==null&&google.maps.event.removeListener(k),S!==null&&google.maps.event.removeListener(S),j!==null&&google.maps.event.removeListener(j),L!==null&&google.maps.event.removeListener(L),F!==null&&google.maps.event.removeListener(F),I!==null&&google.maps.event.removeListener(I),P!==null&&google.maps.event.removeListener(P),T!==null&&google.maps.event.removeListener(T),R!==null&&google.maps.event.removeListener(R),q!==null&&google.maps.event.removeListener(q),U!==null&&google.maps.event.removeListener(U),V!==null&&google.maps.event.removeListener(V),Q!==null&&google.maps.event.removeListener(Q),b&&b(y),y.setMap(null))}},[]),null}f.memo(lte);class cte extends f.PureComponent{constructor(){super(...arguments),me(this,"registeredEvents",[]),me(this,"state",{data:null}),me(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var e=new google.maps.Data(Ef(Ef({},this.props.options),{},{map:this.context}));this.registeredEvents=Ke({updaterMap:aS,eventMap:iS,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){this.state.data!==null&&(Ye(this.registeredEvents),this.registeredEvents=Ke({updaterMap:aS,eventMap:iS,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),Ye(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}me(cte,"contextType",We);function oS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function lS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oS(Object(n),!0).forEach(function(s){me(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oS(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var cS={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},dS={options(t,e){t.setOptions(e)},url(t,e){t.setUrl(e)},zIndex(t,e){t.setZIndex(e)}};class dte extends f.PureComponent{constructor(){super(...arguments),me(this,"registeredEvents",[]),me(this,"state",{kmlLayer:null}),me(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var e=new google.maps.KmlLayer(lS(lS({},this.props.options),{},{map:this.context}));this.registeredEvents=Ke({updaterMap:dS,eventMap:cS,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){this.state.kmlLayer!==null&&(Ye(this.registeredEvents),this.registeredEvents=Ke({updaterMap:dS,eventMap:cS,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),Ye(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}me(dte,"contextType",We);function eA(t,e){return typeof e=="function"?e(t.offsetWidth,t.offsetHeight):{x:0,y:0}}function ute(t,e){return new e(t.lat,t.lng)}function hte(t,e){return new e(new google.maps.LatLng(t.ne.lat,t.ne.lng),new google.maps.LatLng(t.sw.lat,t.sw.lng))}function pte(t,e,n){return t instanceof e?t:n(t,e)}function fte(t,e,n){return t instanceof e?t:n(t,e)}function mte(t,e,n){var s=t&&t.fromLatLngToDivPixel(n.getNorthEast()),i=t&&t.fromLatLngToDivPixel(n.getSouthWest());return s&&i?{left:"".concat(i.x+e.x,"px"),top:"".concat(s.y+e.y,"px"),width:"".concat(s.x-i.x-e.x,"px"),height:"".concat(i.y-s.y-e.y,"px")}:{left:"-9999px",top:"-9999px"}}function gte(t,e,n){var s=t&&t.fromLatLngToDivPixel(n);if(s){var{x:i,y:a}=s;return{left:"".concat(i+e.x,"px"),top:"".concat(a+e.y,"px")}}return{left:"-9999px",top:"-9999px"}}function tA(t,e,n,s){return n!==void 0?mte(t,e,fte(n,google.maps.LatLngBounds,hte)):gte(t,e,pte(s,google.maps.LatLng,ute))}function xte(t,e){return t.left===e.left&&t.top===e.top&&t.width===e.height&&t.height===e.height}function uS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function vte(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uS(Object(n),!0).forEach(function(s){me(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uS(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function yte(t,e,n,s,i){class a extends google.maps.OverlayView{constructor(l,c,u,d){super(),this.container=l,this.pane=c,this.position=u,this.bounds=d}onAdd(){var l,c=(l=this.getPanes())===null||l===void 0?void 0:l[this.pane];c==null||c.appendChild(this.container)}draw(){var l=this.getProjection(),c=vte({},this.container?eA(this.container,i):{x:0,y:0}),u=tA(l,c,this.bounds,this.position);for(var[d,h]of Object.entries(u))this.container.style[d]=h}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new a(t,e,n,s)}function hS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function bte(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hS(Object(n),!0).forEach(function(s){me(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hS(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function pS(t){if(!t)return"";var e=t instanceof google.maps.LatLng?t:new google.maps.LatLng(t.lat,t.lng);return e+""}function fS(t){if(!t)return"";var e=t instanceof google.maps.LatLngBounds?t:new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.east),new google.maps.LatLng(t.north,t.west));return e+""}function wte(t){var{position:e,bounds:n,mapPaneName:s,zIndex:i,onLoad:a,onUnmount:o,getPixelPositionOffset:l,children:c}=t,u=f.useContext(We),d=f.useMemo(()=>{var p=document.createElement("div");return p.style.position="absolute",p},[]),h=f.useMemo(()=>yte(d,s,e,n,l),[d,s,e,n]);return f.useEffect(()=>(a==null||a(h),h==null||h.setMap(u),()=>{o==null||o(h),h==null||h.setMap(null)}),[u,h]),f.useEffect(()=>{d.style.zIndex="".concat(i)},[i,d]),Xi.createPortal(c,d)}f.memo(wte);class Hl extends f.PureComponent{constructor(e){super(e),me(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),me(this,"updatePane",()=>{var s=this.props.mapPaneName,i=this.overlayView.getPanes();tn(!!s,"OverlayView requires props.mapPaneName but got %s",s),i?this.setState({paneEl:i[s]}):this.setState({paneEl:null})}),me(this,"onAdd",()=>{var s,i;this.updatePane(),(s=(i=this.props).onLoad)===null||s===void 0||s.call(i,this.overlayView)}),me(this,"onPositionElement",()=>{var s=this.overlayView.getProjection(),i=bte({x:0,y:0},this.containerRef.current?eA(this.containerRef.current,this.props.getPixelPositionOffset):{}),a=tA(s,i,this.props.bounds,this.props.position);if(!xte(a,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var o,l,c,u;this.setState({containerStyle:{top:(o=a.top)!==null&&o!==void 0?o:0,left:(l=a.left)!==null&&l!==void 0?l:0,width:(c=a.width)!==null&&c!==void 0?c:0,height:(u=a.height)!==null&&u!==void 0?u:0,position:"absolute"}})}}),me(this,"draw",()=>{this.onPositionElement()}),me(this,"onRemove",()=>{var s,i;this.setState(()=>({paneEl:null})),(s=(i=this.props).onUnmount)===null||s===void 0||s.call(i,this.overlayView)}),this.containerRef=f.createRef();var n=new google.maps.OverlayView;n.onAdd=this.onAdd,n.draw=this.draw,n.onRemove=this.onRemove,this.overlayView=n}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var n=pS(e.position),s=pS(this.props.position),i=fS(e.bounds),a=fS(this.props.bounds);(n!==s||i!==a)&&this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?Xi.createPortal(r.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:f.Children.only(this.props.children)}),e):null}}me(Hl,"FLOAT_PANE","floatPane");me(Hl,"MAP_PANE","mapPane");me(Hl,"MARKER_LAYER","markerLayer");me(Hl,"OVERLAY_LAYER","overlayLayer");me(Hl,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");me(Hl,"contextType",We);function jte(){}function mS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function gS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mS(Object(n),!0).forEach(function(s){me(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mS(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var xS={onDblClick:"dblclick",onClick:"click"},vS={opacity(t,e){t.setOpacity(e)}};function Nte(t){var{url:e,bounds:n,options:s,visible:i}=t,a=f.useContext(We),o=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east)),l=f.useMemo(()=>new google.maps.GroundOverlay(e,o,s),[]);return f.useEffect(()=>{l!==null&&l.setMap(a)},[a]),f.useEffect(()=>{typeof e<"u"&&l!==null&&(l.set("url",e),l.setMap(a))},[l,e]),f.useEffect(()=>{typeof i<"u"&&l!==null&&l.setOpacity(i?1:0)},[l,i]),f.useEffect(()=>{var c=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east));typeof n<"u"&&l!==null&&(l.set("bounds",c),l.setMap(a))},[l,n]),null}f.memo(Nte);class nA extends f.PureComponent{constructor(){super(...arguments),me(this,"registeredEvents",[]),me(this,"state",{groundOverlay:null}),me(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){tn(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,gS(gS({},this.props.options),{},{map:this.context}));this.registeredEvents=Ke({updaterMap:vS,eventMap:xS,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){this.state.groundOverlay!==null&&(Ye(this.registeredEvents),this.registeredEvents=Ke({updaterMap:vS,eventMap:xS,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}me(nA,"defaultProps",{onLoad:jte});me(nA,"contextType",We);function yS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function Pf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yS(Object(n),!0).forEach(function(s){me(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yS(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var bS={},wS={data(t,e){t.setData(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)}};function kte(t){var{data:e,onLoad:n,onUnmount:s,options:i}=t,a=f.useContext(We),[o,l]=f.useState(null);return f.useEffect(()=>{google.maps.visualization||tn(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),f.useEffect(()=>{tn(!!e,"data property is required in HeatmapLayer %s",e)},[e]),f.useEffect(()=>{o!==null&&o.setMap(a)},[a]),f.useEffect(()=>{i&&o!==null&&o.setOptions(i)},[o,i]),f.useEffect(()=>{var c=new google.maps.visualization.HeatmapLayer(Pf(Pf({},i),{},{data:e,map:a}));return l(c),n&&n(c),()=>{o!==null&&(s&&s(o),o.setMap(null))}},[]),null}f.memo(kte);class Ste extends f.PureComponent{constructor(){super(...arguments),me(this,"registeredEvents",[]),me(this,"state",{heatmapLayer:null}),me(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){tn(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),tn(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(Pf(Pf({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=Ke({updaterMap:wS,eventMap:bS,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){Ye(this.registeredEvents),this.registeredEvents=Ke({updaterMap:wS,eventMap:bS,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),Ye(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}me(Ste,"contextType",We);var jS={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},NS={register(t,e,n){t.registerPanoProvider(e,n)},links(t,e){t.setLinks(e)},motionTracking(t,e){t.setMotionTracking(e)},options(t,e){t.setOptions(e)},pano(t,e){t.setPano(e)},position(t,e){t.setPosition(e)},pov(t,e){t.setPov(e)},visible(t,e){t.setVisible(e)},zoom(t,e){t.setZoom(e)}};class Cte extends f.PureComponent{constructor(){super(...arguments),me(this,"registeredEvents",[]),me(this,"state",{streetViewPanorama:null}),me(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var e,n,s=(e=(n=this.context)===null||n===void 0?void 0:n.getStreetView())!==null&&e!==void 0?e:null;this.registeredEvents=Ke({updaterMap:NS,eventMap:jS,prevProps:{},nextProps:this.props,instance:s}),this.setState(()=>({streetViewPanorama:s}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){this.state.streetViewPanorama!==null&&(Ye(this.registeredEvents),this.registeredEvents=Ke({updaterMap:NS,eventMap:jS,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),Ye(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}me(Cte,"contextType",We);class Ete extends f.PureComponent{constructor(){super(...arguments),me(this,"state",{streetViewService:null}),me(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}me(Ete,"contextType",We);var kS={onDirectionsChanged:"directions_changed"},SS={directions(t,e){t.setDirections(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},panel(t,e){t.setPanel(e)},routeIndex(t,e){t.setRouteIndex(e)}};class sA extends f.PureComponent{constructor(){super(...arguments),me(this,"registeredEvents",[]),me(this,"state",{directionsRenderer:null}),me(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=Ke({updaterMap:SS,eventMap:kS,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){this.state.directionsRenderer!==null&&(Ye(this.registeredEvents),this.registeredEvents=Ke({updaterMap:SS,eventMap:kS,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),Ye(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}me(sA,"contextType",We);var CS={onPlacesChanged:"places_changed"},ES={bounds(t,e){t.setBounds(e)}};class Pte extends f.PureComponent{constructor(){super(...arguments),me(this,"registeredEvents",[]),me(this,"containerElement",f.createRef()),me(this,"state",{searchBox:null}),me(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(tn(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var e=this.containerElement.current.querySelector("input");if(e!==null){var n=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=Ke({updaterMap:ES,eventMap:CS,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{searchBox:n}},this.setSearchBoxCallback)}}}componentDidUpdate(e){this.state.searchBox!==null&&(Ye(this.registeredEvents),this.registeredEvents=Ke({updaterMap:ES,eventMap:CS,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),Ye(this.registeredEvents))}render(){return r.jsx("div",{ref:this.containerElement,children:f.Children.only(this.props.children)})}}me(Pte,"contextType",We);var PS={onPlaceChanged:"place_changed"},_S={bounds(t,e){t.setBounds(e)},restrictions(t,e){t.setComponentRestrictions(e)},fields(t,e){t.setFields(e)},options(t,e){t.setOptions(e)},types(t,e){t.setTypes(e)}};class Cw extends f.PureComponent{constructor(){super(...arguments),me(this,"registeredEvents",[]),me(this,"containerElement",f.createRef()),me(this,"state",{autocomplete:null}),me(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var e;tn(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var n=(e=this.containerElement.current)===null||e===void 0?void 0:e.querySelector("input");if(n){var s=new google.maps.places.Autocomplete(n,this.props.options);this.registeredEvents=Ke({updaterMap:_S,eventMap:PS,prevProps:{},nextProps:this.props,instance:s}),this.setState(()=>({autocomplete:s}),this.setAutocompleteCallback)}}componentDidUpdate(e){Ye(this.registeredEvents),this.registeredEvents=Ke({updaterMap:_S,eventMap:PS,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&Ye(this.registeredEvents)}render(){return r.jsx("div",{ref:this.containerElement,className:this.props.className,children:f.Children.only(this.props.children)})}}me(Cw,"defaultProps",{className:""});me(Cw,"contextType",We);function _te(t){return Se({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M923 283.6a260.04 260.04 0 0 0-56.9-82.8 264.4 264.4 0 0 0-84-55.5A265.34 265.34 0 0 0 679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 0 0-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9z"},child:[]}]})(t)}function Mte(t){return Se({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M923 283.6a260.04 260.04 0 0 0-56.9-82.8 264.4 264.4 0 0 0-84-55.5A265.34 265.34 0 0 0 679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 0 0-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9zM512 814.8S156 586.7 156 385.5C156 283.6 240.3 201 344.3 201c73.1 0 136.5 40.8 167.7 100.4C543.2 241.8 606.6 201 679.7 201c104 0 188.3 82.6 188.3 184.5 0 201.2-356 429.3-356 429.3z"},child:[]}]})(t)}const Tte="/assets/default-property-image-DUnlo8xD.jpg";function rA(t=[]){var i,a;const e="AIzaSyCmNIb_QRLF9sdOA5MsB3AQbsE-QYI70PE",n=Array.from(new Set(["places",...t])),s=aee({id:"newrun-google-maps",googleMapsApiKey:e,libraries:n,version:"weekly",language:"en",region:"US"});return s.isLoaded&&((a=(i=window.google)==null?void 0:i.maps)!=null&&a.places),s}const Lte={width:"100%",height:"420px"},Ate={lat:41.8781,lng:-87.6298},Ite={streetViewControl:!1,mapTypeControl:!1,fullscreenControl:!1},MS=t=>typeof t=="number"?t.toLocaleString("en-US"):String(t||""),TS=t=>{if(!t)return"";const{street:e,city:n,state:s,zipCode:i,zip:a}=t;return[e,n,s,i||a].filter(Boolean).join(", ")},E0=t=>new Promise((e,n)=>{new window.google.maps.Geocoder().geocode({address:t},(i,a)=>{if(a==="OK"&&(i!=null&&i[0])){const o=i[0].geometry.location;e({lat:o.lat(),lng:o.lng()})}else n(a)})}),Ote=t=>{if(!t||!t.includes("@"))return"";const[e,n]=t.split("@"),s=e.slice(0,1),i=e.slice(-1);return`${s}${i}@${n}`},Rte=t=>{if(!t)return"";const e=t.replace(/\D/g,"");return e.length<=2?"":`${e.slice(-2)}`};function Dte(){var de,ee,ye;const{id:t}=mb(),e=pt(),{isLoaded:n}=rA(),[s,i]=f.useState(null),[a,o]=f.useState(null),[l,c]=f.useState(""),[u,d]=f.useState(!0),[h,p]=f.useState(0),[m,g]=f.useState(!1),[x,b]=f.useState(!1),[v,y]=f.useState(0),[w,k]=f.useState(null),[N,S]=f.useState(null),[M,j]=f.useState(null),[C,L]=f.useState(!1),[O,F]=f.useState({approved:!1,pending:!1,phone:"",email:"",supported:!0}),[$,I]=f.useState(!1),[_,P]=f.useState(!1),[E,T]=f.useState("idle"),[D,R]=f.useState(""),z=f.useMemo(()=>{if(n)return{url:"data:image/svg+xml;utf8,"+encodeURIComponent(`<svg width="40" height="40" viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
            <defs>
              <linearGradient id="g" x1="0" y1="0" x2="0" y2="1">
                <stop offset="0" stop-color="#2f64ff"/>
                <stop offset="1" stop-color="#22d3ee"/>
              </linearGradient>
              <filter id="s" x="-50%" y="-50%" width="200%" height="200%">
                <feDropShadow dx="0" dy="2" stdDeviation="2" flood-color="#000" flood-opacity=".35"/>
              </filter>
            </defs>
            <path d="M20 3c6.6 0 12 5.4 12 12 0 8.8-12 22-12 22S8 23.8 8 15c0-6.6 5.4-12 12-12z" fill="url(#g)" filter="url(#s)"/>
            <circle cx="20" cy="15" r="5" fill="white"/>
          </svg>`),scaledSize:new window.google.maps.Size(40,40),anchor:new window.google.maps.Point(20,38)}},[n]),q=f.useMemo(()=>{if(n)return{url:"data:image/svg+xml;utf8,"+encodeURIComponent(`<svg width="40" height="40" viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
            <defs>
              <filter id="s2" x="-50%" y="-50%" width="200%" height="200%">
                <feDropShadow dx="0" dy="2" stdDeviation="2" flood-color="#000" flood-opacity=".35"/>
              </filter>
            </defs>
            <path d="M20 3c6.6 0 12 5.4 12 12 0 8.8-12 22-12 22S8 23.8 8 15c0-6.6 5.4-12 12-12z" fill="#EF4444" filter="url(#s2)"/>
            <circle cx="20" cy="15" r="5" fill="white"/>
          </svg>`),scaledSize:new window.google.maps.Size(40,40),anchor:new window.google.maps.Point(20,38)}},[n]),H=async()=>{var xe,Ce;try{const X=await ge.get("/get-user");(Ce=(xe=X==null?void 0:X.data)==null?void 0:xe.user)!=null&&Ce._id&&o(X.data.user._id)}catch{}},U=f.useCallback(async()=>{var xe;try{const X=(xe=(await ge.get(`/properties/${t}`)).data)==null?void 0:xe.property;if(!X){c("Property not found."),d(!1);return}i(X),p(Array.isArray(X.likes)?X.likes.length:0),d(!1)}catch{c("Unable to load property."),d(!1)}},[t]);f.useEffect(()=>{H(),U()},[U]),f.useEffect(()=>{if(!s||!a)return;const xe=Array.isArray(s.likes)&&s.likes.some(Ce=>String(Ce)===String(a));g(xe),p(Array.isArray(s.likes)?s.likes.length:0)},[s,a]);const B=f.useCallback(async()=>{try{const xe=await ge.get(`/contact-access/status/${t}`);xe!=null&&xe.data&&F({approved:!!xe.data.approved,pending:!!xe.data.pending,phone:xe.data.phone||"",email:xe.data.email||"",supported:!0})}catch{F(xe=>({...xe,supported:!1}))}},[t]);f.useEffect(()=>{B()},[B]),f.useEffect(()=>{let xe;return(async()=>{try{const{io:Ce}=await hm(async()=>{const{io:A}=await Promise.resolve().then(()=>Ow);return{io:A}},void 0);xe=Ce("http://localhost:8000",{transports:["websocket"],withCredentials:!0}),a&&xe.emit("registerUser",a),xe.on("contact_request:updated",A=>{(A==null?void 0:A.propertyId)===t&&B()})}catch{}})(),()=>{xe&&xe.disconnect()}},[a,t,B]),f.useEffect(()=>{if(!n||!s)return;const xe=TS(s.address),Ce=s.campusName||"NIU College of Business, Barsema Hall, DeKalb, IL 60115";(async()=>{try{const[X,A]=await Promise.all([xe?E0(xe):Promise.resolve(null),E0(Ce).catch(()=>E0("Northern Illinois University, DeKalb, IL 60115"))]);X&&k(X),A&&S(A),X&&A&&new window.google.maps.DirectionsService().route({origin:X,destination:A,travelMode:window.google.maps.TravelMode.DRIVING},(Z,ae)=>{ae==="OK"&&j(Z)})}catch{}})()},[n,s]);const V=async()=>{var Ce,X;const xe=!m;g(xe),p(A=>Math.max(0,A+(xe?1:-1)));try{const A=await ge.put(`/property/${t}/like`);typeof((Ce=A.data)==null?void 0:Ce.likes)=="number"&&p(A.data.likes),typeof((X=A.data)==null?void 0:X.liked)=="boolean"&&g(A.data.liked)}catch{g(!xe),p(A=>Math.max(0,A+(xe?-1:1)))}},G=async()=>{var xe,Ce;try{const X=await ge.post("/conversations/initiate",{receiverId:((xe=s==null?void 0:s.userId)==null?void 0:xe._id)||(s==null?void 0:s.userId)});(Ce=X.data)!=null&&Ce.success&&e(`/messaging/${X.data.conversationId}`)}catch{}},Q=async()=>{var xe;P(!0),R("");try{const Ce=await ge.post("/contact-access/request",{propertyId:t}),X=(Ce==null?void 0:Ce.data)||{};if(X.self){T("self");return}if(X.already){X.approved?(F(A=>({...A,approved:!0,pending:!1})),T("approved")):X.pending?(F(A=>({...A,pending:!0,approved:!1})),T("pending")):T("sent");return}if(X.pending||Ce.status===201){F(A=>({...A,pending:!0,approved:!1})),T("sent");return}T("sent")}catch(Ce){const X=(xe=Ce==null?void 0:Ce.response)==null?void 0:xe.status;R(X===401?"Please sign in to request contact details.":X===404?"Listing not found.":"We couldnt send the request right now."),T("error")}finally{P(!1)}};if(u)return r.jsxs("div",{className:"min-h-screen bg-[#0b0c0f] text-white",children:[r.jsx(ht,{}),r.jsx("div",{className:"mx-auto max-w-5xl px-4 py-14",children:"Loading"})]});if(l)return r.jsxs("div",{className:"min-h-screen bg-[#0b0c0f] text-white",children:[r.jsx(ht,{}),r.jsx("div",{className:"mx-auto max-w-5xl px-4 py-14 text-red-400",children:l})]});const se=s.contactInfo||{},te=Array.isArray(s.images)?s.images:[],K=String(((de=s==null?void 0:s.userId)==null?void 0:de._id)||(s==null?void 0:s.userId)||""),J=String(a||""),fe=K&&J&&K===J,le=fe?!0:O.supported&&O.approved,ce=!fe&&O.supported&&O.pending&&!O.approved,ne=le?O.phone||se.phone||"":Rte(se.phone),ie=le?O.email||se.email||"":Ote(se.email);return r.jsxs("div",{className:"min-h-screen bg-[#0b0c0f] text-white",children:[r.jsx(ht,{}),r.jsx("div",{className:"container mx-auto py-8 lg:py-10",children:r.jsxs("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-2",children:[r.jsx("div",{className:"flex flex-col space-y-4",children:te.length?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"rounded-xl border border-white/10 bg-white/[0.04] p-3",children:r.jsx("img",{src:te[0],alt:"Main",className:"h-auto w-full cursor-pointer rounded-lg",onClick:()=>{y(0),b(!0)}})}),te.length>1&&r.jsx("div",{className:"grid grid-cols-2 gap-4",children:te.slice(1).map((xe,Ce)=>r.jsx("div",{className:"rounded-xl border border-white/10 bg-white/[0.04] p-2",children:r.jsx("img",{src:xe,alt:`Thumb ${Ce+2}`,className:"h-auto w-full cursor-pointer rounded-lg",onClick:()=>{y(Ce+1),b(!0)}})},Ce))})]}):r.jsx("div",{className:"rounded-xl border border-white/10 bg-white/[0.04] p-3",children:r.jsx("img",{src:Tte,alt:"Default",className:"rounded-lg"})})}),r.jsxs("div",{className:"space-y-6",children:[r.jsx("h1",{className:"text-4xl font-bold text-white",children:s.title}),r.jsx("p",{className:"text-2xl font-semibold text-white/90",children:`USD $${MS(s.price)}`}),r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{className:`grid h-12 w-12 place-items-center rounded-full transition ${m?"bg-rose-500":"bg-white/10 hover:bg-white/15"}`,onClick:V,title:"Like this property",children:m?r.jsx(_te,{className:"text-white text-lg"}):r.jsx(Mte,{className:"text-rose-400 text-lg"})}),r.jsxs("span",{className:"text-white/70 font-medium",children:[h," ",h===1?"Like":"Likes"]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:w-auto",children:[r.jsxs("button",{className:"group flex-1 sm:flex-none px-6 py-3 rounded-xl bg-violet-600 hover:bg-violet-700 text-white font-semibold transition-all duration-300 flex items-center justify-center gap-2 hover:scale-105 hover:shadow-lg hover:shadow-violet-500/25",onClick:G,children:[r.jsx(vh,{className:"text-sm group-hover:scale-110 transition-transform duration-300"}),"Message Host"]}),!fe&&!le&&(ce?r.jsx("div",{className:"flex-1 sm:flex-none px-6 py-3 rounded-xl border border-yellow-400/30 bg-yellow-400/10 text-yellow-200 text-center font-medium animate-pulse",children:" Contact Request Pending"}):r.jsxs("button",{className:"group flex-1 sm:flex-none px-6 py-3 rounded-xl bg-blue-600 hover:bg-blue-700 text-white font-semibold transition-all duration-300 flex items-center justify-center gap-2 hover:scale-105 hover:shadow-lg hover:shadow-blue-500/25",onClick:()=>{T("idle"),I(!0)},children:[r.jsx(vh,{className:"text-sm group-hover:scale-110 transition-transform duration-300"}),"Request Contact Info"]}))]})]}),r.jsxs("div",{className:"space-y-2 text-lg text-white/80",children:[r.jsxs("p",{children:[r.jsx("strong",{className:"text-white/90",children:"Available:"})," ",r.jsx("span",{className:`text-xl ${s.availabilityStatus==="available"?"text-emerald-400":"text-rose-400"}`,children:s.availabilityStatus==="available"?"Yes":"No"})]}),r.jsxs("p",{children:[r.jsx("strong",{className:"text-white/90",children:"Location:"})," ",r.jsx("span",{className:"text-white/70",children:TS(s.address)||"N/A"})]}),r.jsxs("p",{children:[r.jsx("strong",{className:"text-white/90",children:"Distance from University:"})," ",r.jsxs("span",{className:"text-white/70",children:[s.distanceFromUniversity||"N/A"," miles"]})]}),r.jsxs("p",{children:[r.jsx("strong",{className:"text-white/90",children:"Bedrooms:"})," ",r.jsx("span",{className:"text-white/70",children:s.bedrooms||"N/A"})]}),r.jsxs("p",{children:[r.jsx("strong",{className:"text-white/90",children:"Bathrooms:"})," ",r.jsx("span",{className:"text-white/70",children:s.bathrooms||"N/A"})]}),r.jsxs("div",{className:"mt-8 rounded-2xl bg-white/5 border border-white/10 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-xl font-bold text-white",children:"Contact Information"}),r.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 rounded-full bg-emerald-500/20 border border-emerald-500/30",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-400"}),r.jsx("span",{className:"text-xs font-medium text-emerald-300",children:"Privacy Protected"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-xl bg-white/5 border border-white/10",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-500/20 flex items-center justify-center",children:r.jsx("span",{className:"text-lg",children:""})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-white/70",children:"Host Name"}),r.jsxs("p",{className:"text-white font-medium",children:[((ee=s==null?void 0:s.userId)==null?void 0:ee.firstName)||se.name||""," ",((ye=s==null?void 0:s.userId)==null?void 0:ye.lastName)||""]})]})]}),r.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-xl bg-white/5 border border-white/10",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-emerald-500/20 flex items-center justify-center",children:r.jsx(UL,{className:"text-emerald-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-white/70",children:"Phone"}),r.jsx("p",{className:"text-white font-medium",children:ne})]})]}),r.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-xl bg-white/5 border border-white/10",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-sky-500/20 flex items-center justify-center",children:r.jsx(vh,{className:"text-sky-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-white/70",children:"Email"}),r.jsx("p",{className:"text-white font-medium",children:ie})]})]})]}),r.jsx("div",{className:"mt-6 p-4 rounded-xl bg-blue-500/10 border border-blue-500/20",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-5 h-5 rounded-full bg-blue-500/20 flex items-center justify-center flex-shrink-0 mt-0.5",children:r.jsx("span",{className:"text-xs",children:""})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-blue-300 font-medium",children:"Privacy Protected"}),r.jsx("p",{className:"text-xs text-blue-300/80 mt-1",children:"Contact information is only shared with approved users to ensure your safety and prevent spam."})]})]})})]}),r.jsxs("div",{className:"relative mt-8",children:[n?r.jsxs(GJ,{mapContainerStyle:Lte,center:w||N||Ate,zoom:w?14:12,options:Ite,children:[M&&r.jsx(sA,{directions:M,options:{suppressMarkers:!0,polylineOptions:{strokeColor:"#2f64ff",strokeWeight:6}}}),w&&r.jsx(cy,{position:w,icon:z,onClick:()=>L(xe=>!xe)}),N&&r.jsx(cy,{position:N,icon:q}),C&&w&&r.jsx(JL,{position:w,onCloseClick:()=>L(!1),children:r.jsxs("div",{style:{minWidth:180},children:[r.jsx("div",{style:{fontWeight:600,color:"#111827"},children:s.title}),r.jsxs("div",{style:{color:"#111827"},children:["USD $",MS(s.price)]})]})})]}):r.jsx("p",{className:"text-white/70",children:"Loading map"}),(w||N)&&r.jsx("div",{className:"mt-3",children:r.jsx("a",{className:"inline-block rounded-md bg-[#2f64ff] px-3 py-2 text-white hover:bg-[#2958e3]",href:`https://www.google.com/maps/dir/?api=1&origin=${encodeURIComponent(`${w==null?void 0:w.lat},${w==null?void 0:w.lng}`)}&destination=${encodeURIComponent(`${N==null?void 0:N.lat},${N==null?void 0:N.lng}`)}`,target:"_blank",rel:"noreferrer",children:"Open in Google Maps"})})]})]})]})]})}),x&&r.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80",children:[r.jsx("button",{className:"absolute right-5 top-5 text-white",onClick:()=>b(!1),children:r.jsx(Nr,{size:35})}),r.jsxs("div",{className:"relative w-11/12 max-w-5xl md:w-2/3",children:[r.jsx("img",{src:te[v],alt:`Image ${v+1}`,className:"h-auto w-full rounded-lg shadow-lg"}),r.jsx("button",{className:"absolute left-0 top-1/2 -translate-y-1/2 rounded-full bg-black/50 p-2 text-white",onClick:()=>y(xe=>xe===0?te.length-1:xe-1),children:r.jsx(PV,{size:35})}),r.jsx("button",{className:"absolute right-0 top-1/2 -translate-y-1/2 rounded-full bg-black/50 p-2 text-white",onClick:()=>y(xe=>xe===te.length-1?0:xe+1),children:r.jsx(wb,{size:35})})]})]}),$&&r.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 animate-in fade-in duration-300",children:r.jsxs("div",{className:"w-full max-w-md rounded-3xl bg-white/10 backdrop-blur-xl border border-white/20 p-8 text-white shadow-2xl animate-in zoom-in-95 slide-in-from-bottom-4 duration-500",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center animate-in zoom-in-50 duration-700 delay-200 shadow-lg shadow-blue-500/25",children:r.jsx(vh,{className:"text-2xl text-white animate-in bounce-in duration-1000 delay-500"})}),r.jsx("h3",{className:"text-2xl font-bold mb-2 animate-in fade-in slide-in-from-top-2 duration-700 delay-300",children:"Request Contact Info"}),r.jsx("p",{className:"text-white/70 text-sm animate-in fade-in slide-in-from-top-2 duration-700 delay-400",children:"Get direct contact details for this property"})]}),E==="idle"&&r.jsx("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-700 delay-500",children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-white/80 mb-4",children:"To protect your privacy and safety, contact information is only shared with approved users."}),r.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-xl p-4 animate-in slide-in-from-bottom-1 duration-700 delay-600",children:r.jsx("p",{className:"text-blue-300 text-sm font-medium",children:"The host will be notified and can approve your request"})})]})}),E==="self"&&r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-12 h-12 mx-auto mb-4 rounded-full bg-green-500/20 flex items-center justify-center",children:r.jsx("span",{className:"text-2xl",children:""})}),r.jsx("p",{className:"text-green-300 font-medium",children:"You own this property"}),r.jsx("p",{className:"text-white/70 text-sm mt-2",children:"No need to request contact information"})]}),E==="pending"&&r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-12 h-12 mx-auto mb-4 rounded-full bg-yellow-500/20 flex items-center justify-center",children:r.jsx("span",{className:"text-2xl",children:""})}),r.jsx("p",{className:"text-yellow-300 font-medium",children:"Request Pending"}),r.jsx("p",{className:"text-white/70 text-sm mt-2",children:"The host will be notified and you'll see contact details once approved"})]}),E==="approved"&&r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-12 h-12 mx-auto mb-4 rounded-full bg-green-500/20 flex items-center justify-center",children:r.jsx("span",{className:"text-2xl",children:""})}),r.jsx("p",{className:"text-green-300 font-medium",children:"Request Approved!"}),r.jsx("p",{className:"text-white/70 text-sm mt-2",children:"Contact information is now visible above"})]}),E==="sent"&&r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-12 h-12 mx-auto mb-4 rounded-full bg-green-500/20 flex items-center justify-center",children:r.jsx("span",{className:"text-2xl",children:""})}),r.jsx("p",{className:"text-green-300 font-medium",children:"Request Sent!"}),r.jsx("p",{className:"text-white/70 text-sm mt-2",children:"The host has been notified. You'll see contact details once they approve"})]}),E==="error"&&r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-12 h-12 mx-auto mb-4 rounded-full bg-red-500/20 flex items-center justify-center",children:r.jsx("span",{className:"text-2xl",children:""})}),r.jsx("p",{className:"text-red-300 font-medium",children:"Request Failed"}),r.jsx("p",{className:"text-white/70 text-sm mt-2",children:D||"Please try again or use in-app messaging"})]}),r.jsxs("div",{className:"mt-8 space-y-3 animate-in fade-in slide-in-from-bottom-2 duration-700 delay-700",children:[(E==="idle"||E==="error")&&r.jsxs("button",{type:"button",disabled:_,onClick:Q,className:"group relative w-full py-4 bg-gradient-to-r from-blue-500 via-blue-600 to-indigo-600 hover:from-blue-600 hover:via-blue-700 hover:to-indigo-700 disabled:opacity-60 text-white font-bold rounded-2xl transition-all duration-300 transform hover:scale-[1.02] hover:shadow-2xl hover:shadow-blue-500/25 overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 via-blue-500 to-indigo-500 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),r.jsx("div",{className:"absolute inset-0 -translate-x-full group-hover:translate-x-full transition-transform duration-1000 bg-gradient-to-r from-transparent via-white/20 to-transparent"}),r.jsx("span",{className:"relative z-10",children:_?r.jsxs("div",{className:"flex items-center justify-center gap-3",children:[r.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),r.jsx("span",{className:"animate-pulse",children:"Sending Request..."})]}):r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx("span",{children:"Send Request"}),r.jsx("svg",{className:"w-4 h-4 group-hover:translate-x-1 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})]})})]}),r.jsx("button",{type:"button",onClick:()=>I(!1),className:"w-full py-3 text-white/70 hover:text-white font-medium transition-all duration-300 hover:bg-white/5 rounded-xl hover:scale-[1.01]",children:E==="idle"||E==="error"?"Cancel":"Close"})]})]})})]})}var $te=Object.defineProperty,Fte=(t,e,n)=>e in t?$te(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,jt=(t,e,n)=>Fte(t,typeof e!="symbol"?e+"":e,n);const _f={x:0,y:0,width:0,height:0,unit:"px"},xo=(t,e,n)=>Math.min(Math.max(t,e),n),zte=(...t)=>t.filter(e=>e&&typeof e=="string").join(" "),LS=(t,e)=>t===e||t.width===e.width&&t.height===e.height&&t.x===e.x&&t.y===e.y&&t.unit===e.unit;function Bte(t,e,n,s){const i=hr(t,n,s);return t.width&&(i.height=i.width/e),t.height&&(i.width=i.height*e),i.y+i.height>s&&(i.height=s-i.y,i.width=i.height*e),i.x+i.width>n&&(i.width=n-i.x,i.height=i.width/e),t.unit==="%"?pi(i,n,s):i}function Ute(t,e,n){const s=hr(t,e,n);return s.x=(e-s.width)/2,s.y=(n-s.height)/2,t.unit==="%"?pi(s,e,n):s}function pi(t,e,n){return t.unit==="%"?{..._f,...t,unit:"%"}:{unit:"%",x:t.x?t.x/e*100:0,y:t.y?t.y/n*100:0,width:t.width?t.width/e*100:0,height:t.height?t.height/n*100:0}}function hr(t,e,n){return t.unit?t.unit==="px"?{..._f,...t,unit:"px"}:{unit:"px",x:t.x?t.x*e/100:0,y:t.y?t.y*n/100:0,width:t.width?t.width*e/100:0,height:t.height?t.height*n/100:0}:{..._f,...t,unit:"px"}}function AS(t,e,n,s,i,a=0,o=0,l=s,c=i){const u={...t};let d=Math.min(a,s),h=Math.min(o,i),p=Math.min(l,s),m=Math.min(c,i);e&&(e>1?(d=o?o*e:d,h=d/e,p=l*e):(h=a?a/e:h,d=h*e,m=c/e)),u.y<0&&(u.height=Math.max(u.height+u.y,h),u.y=0),u.x<0&&(u.width=Math.max(u.width+u.x,d),u.x=0);const g=s-(u.x+u.width);g<0&&(u.x=Math.min(u.x,s-d),u.width+=g);const x=i-(u.y+u.height);if(x<0&&(u.y=Math.min(u.y,i-h),u.height+=x),u.width<d&&((n==="sw"||n=="nw")&&(u.x-=d-u.width),u.width=d),u.height<h&&((n==="nw"||n=="ne")&&(u.y-=h-u.height),u.height=h),u.width>p&&((n==="sw"||n=="nw")&&(u.x-=p-u.width),u.width=p),u.height>m&&((n==="nw"||n=="ne")&&(u.y-=m-u.height),u.height=m),e){const b=u.width/u.height;if(b<e){const v=Math.max(u.width/e,h);(n==="nw"||n=="ne")&&(u.y-=v-u.height),u.height=v}else if(b>e){const v=Math.max(u.height*e,d);(n==="sw"||n=="nw")&&(u.x-=v-u.width),u.width=v}}return u}function Vte(t,e,n,s){const i={...t};return e==="ArrowLeft"?s==="nw"?(i.x-=n,i.y-=n,i.width+=n,i.height+=n):s==="w"?(i.x-=n,i.width+=n):s==="sw"?(i.x-=n,i.width+=n,i.height+=n):s==="ne"?(i.y+=n,i.width-=n,i.height-=n):s==="e"?i.width-=n:s==="se"&&(i.width-=n,i.height-=n):e==="ArrowRight"&&(s==="nw"?(i.x+=n,i.y+=n,i.width-=n,i.height-=n):s==="w"?(i.x+=n,i.width-=n):s==="sw"?(i.x+=n,i.width-=n,i.height-=n):s==="ne"?(i.y-=n,i.width+=n,i.height+=n):s==="e"?i.width+=n:s==="se"&&(i.width+=n,i.height+=n)),e==="ArrowUp"?s==="nw"?(i.x-=n,i.y-=n,i.width+=n,i.height+=n):s==="n"?(i.y-=n,i.height+=n):s==="ne"?(i.y-=n,i.width+=n,i.height+=n):s==="sw"?(i.x+=n,i.width-=n,i.height-=n):s==="s"?i.height-=n:s==="se"&&(i.width-=n,i.height-=n):e==="ArrowDown"&&(s==="nw"?(i.x+=n,i.y+=n,i.width-=n,i.height-=n):s==="n"?(i.y+=n,i.height-=n):s==="ne"?(i.y+=n,i.width-=n,i.height-=n):s==="sw"?(i.x-=n,i.width+=n,i.height+=n):s==="s"?i.height+=n:s==="se"&&(i.width+=n,i.height+=n)),i}const vo={capture:!0,passive:!1};let Wte=0;const li=class Bs extends f.PureComponent{constructor(){super(...arguments),jt(this,"docMoveBound",!1),jt(this,"mouseDownOnCrop",!1),jt(this,"dragStarted",!1),jt(this,"evData",{startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0}),jt(this,"componentRef",f.createRef()),jt(this,"mediaRef",f.createRef()),jt(this,"resizeObserver"),jt(this,"initChangeCalled",!1),jt(this,"instanceId",`rc-${Wte++}`),jt(this,"state",{cropIsActive:!1,newCropIsBeingDrawn:!1}),jt(this,"onCropPointerDown",e=>{const{crop:n,disabled:s}=this.props,i=this.getBox();if(!n)return;const a=hr(n,i.width,i.height);if(s)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const o=e.target.dataset.ord,l=!!o;let c=e.clientX,u=e.clientY,d=a.x,h=a.y;if(o){const p=e.clientX-i.x,m=e.clientY-i.y;let g=0,x=0;o==="ne"||o=="e"?(g=p-(a.x+a.width),x=m-a.y,d=a.x,h=a.y+a.height):o==="se"||o==="s"?(g=p-(a.x+a.width),x=m-(a.y+a.height),d=a.x,h=a.y):o==="sw"||o=="w"?(g=p-a.x,x=m-(a.y+a.height),d=a.x+a.width,h=a.y):(o==="nw"||o=="n")&&(g=p-a.x,x=m-a.y,d=a.x+a.width,h=a.y+a.height),c=d+i.x+g,u=h+i.y+x}this.evData={startClientX:c,startClientY:u,startCropX:d,startCropY:h,clientX:e.clientX,clientY:e.clientY,isResize:l,ord:o},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})}),jt(this,"onComponentPointerDown",e=>{const{crop:n,disabled:s,locked:i,keepSelection:a,onChange:o}=this.props,l=this.getBox();if(s||i||a&&n)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const c=e.clientX-l.x,u=e.clientY-l.y,d={unit:"px",x:c,y:u,width:0,height:0};this.evData={startClientX:e.clientX,startClientY:e.clientY,startCropX:c,startCropY:u,clientX:e.clientX,clientY:e.clientY,isResize:!0},this.mouseDownOnCrop=!0,o(hr(d,l.width,l.height),pi(d,l.width,l.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})}),jt(this,"onDocPointerMove",e=>{const{crop:n,disabled:s,onChange:i,onDragStart:a}=this.props,o=this.getBox();if(s||!n||!this.mouseDownOnCrop)return;e.cancelable&&e.preventDefault(),this.dragStarted||(this.dragStarted=!0,a&&a(e));const{evData:l}=this;l.clientX=e.clientX,l.clientY=e.clientY;let c;l.isResize?c=this.resizeCrop():c=this.dragCrop(),LS(n,c)||i(hr(c,o.width,o.height),pi(c,o.width,o.height))}),jt(this,"onComponentKeyDown",e=>{const{crop:n,disabled:s,onChange:i,onComplete:a}=this.props;if(s)return;const o=e.key;let l=!1;if(!n)return;const c=this.getBox(),u=this.makePixelCrop(c),d=(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)?Bs.nudgeStepLarge:e.shiftKey?Bs.nudgeStepMedium:Bs.nudgeStep;if(o==="ArrowLeft"?(u.x-=d,l=!0):o==="ArrowRight"?(u.x+=d,l=!0):o==="ArrowUp"?(u.y-=d,l=!0):o==="ArrowDown"&&(u.y+=d,l=!0),l){e.cancelable&&e.preventDefault(),u.x=xo(u.x,0,c.width-u.width),u.y=xo(u.y,0,c.height-u.height);const h=hr(u,c.width,c.height),p=pi(u,c.width,c.height);i(h,p),a&&a(h,p)}}),jt(this,"onHandlerKeyDown",(e,n)=>{const{aspect:s=0,crop:i,disabled:a,minWidth:o=0,minHeight:l=0,maxWidth:c,maxHeight:u,onChange:d,onComplete:h}=this.props,p=this.getBox();if(a||!i)return;if(e.key==="ArrowUp"||e.key==="ArrowDown"||e.key==="ArrowLeft"||e.key==="ArrowRight")e.stopPropagation(),e.preventDefault();else return;const m=(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)?Bs.nudgeStepLarge:e.shiftKey?Bs.nudgeStepMedium:Bs.nudgeStep,g=hr(i,p.width,p.height),x=Vte(g,e.key,m,n),b=AS(x,s,n,p.width,p.height,o,l,c,u);if(!LS(i,b)){const v=pi(b,p.width,p.height);d(b,v),h&&h(b,v)}}),jt(this,"onDocPointerDone",e=>{const{crop:n,disabled:s,onComplete:i,onDragEnd:a}=this.props,o=this.getBox();this.unbindDocMove(),!(s||!n)&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,a&&a(e),i&&i(hr(n,o.width,o.height),pi(n,o.width,o.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))}),jt(this,"onDragFocus",()=>{var e;(e=this.componentRef.current)==null||e.scrollTo(0,0)})}get document(){return document}getBox(){const e=this.mediaRef.current;if(!e)return{x:0,y:0,width:0,height:0};const{x:n,y:s,width:i,height:a}=e.getBoundingClientRect();return{x:n,y:s,width:i,height:a}}componentDidUpdate(e){const{crop:n,onComplete:s}=this.props;if(s&&!e.crop&&n){const{width:i,height:a}=this.getBox();i&&a&&s(hr(n,i,a),pi(n,i,a))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect(),this.unbindDocMove()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,vo),this.document.addEventListener("pointerup",this.onDocPointerDone,vo),this.document.addEventListener("pointercancel",this.onDocPointerDone,vo),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,vo),this.document.removeEventListener("pointerup",this.onDocPointerDone,vo),this.document.removeEventListener("pointercancel",this.onDocPointerDone,vo),this.docMoveBound=!1)}getCropStyle(){const{crop:e}=this.props;if(e)return{top:`${e.y}${e.unit}`,left:`${e.x}${e.unit}`,width:`${e.width}${e.unit}`,height:`${e.height}${e.unit}`}}dragCrop(){const{evData:e}=this,n=this.getBox(),s=this.makePixelCrop(n),i=e.clientX-e.startClientX,a=e.clientY-e.startClientY;return s.x=xo(e.startCropX+i,0,n.width-s.width),s.y=xo(e.startCropY+a,0,n.height-s.height),s}getPointRegion(e,n,s,i){const{evData:a}=this,o=a.clientX-e.x,l=a.clientY-e.y;let c;i&&n?c=n==="nw"||n==="n"||n==="ne":c=l<a.startCropY;let u;return s&&n?u=n==="nw"||n==="w"||n==="sw":u=o<a.startCropX,u?c?"nw":"sw":c?"ne":"se"}resolveMinDimensions(e,n,s=0,i=0){const a=Math.min(s,e.width),o=Math.min(i,e.height);return!n||!a&&!o?[a,o]:n>1?a?[a,a/n]:[o*n,o]:o?[o*n,o]:[a,a/n]}resizeCrop(){const{evData:e}=this,{aspect:n=0,maxWidth:s,maxHeight:i}=this.props,a=this.getBox(),[o,l]=this.resolveMinDimensions(a,n,this.props.minWidth,this.props.minHeight);let c=this.makePixelCrop(a);const u=this.getPointRegion(a,e.ord,o,l),d=e.ord||u;let h=e.clientX-e.startClientX,p=e.clientY-e.startClientY;(o&&d==="nw"||d==="w"||d==="sw")&&(h=Math.min(h,-o)),(l&&d==="nw"||d==="n"||d==="ne")&&(p=Math.min(p,-l));const m={unit:"px",x:0,y:0,width:0,height:0};u==="ne"?(m.x=e.startCropX,m.width=h,n?(m.height=m.width/n,m.y=e.startCropY-m.height):(m.height=Math.abs(p),m.y=e.startCropY-m.height)):u==="se"?(m.x=e.startCropX,m.y=e.startCropY,m.width=h,n?m.height=m.width/n:m.height=p):u==="sw"?(m.x=e.startCropX+h,m.y=e.startCropY,m.width=Math.abs(h),n?m.height=m.width/n:m.height=p):u==="nw"&&(m.x=e.startCropX+h,m.width=Math.abs(h),n?(m.height=m.width/n,m.y=e.startCropY-m.height):(m.height=Math.abs(p),m.y=e.startCropY+p));const g=AS(m,n,u,a.width,a.height,o,l,s,i);return n||Bs.xyOrds.indexOf(d)>-1?c=g:Bs.xOrds.indexOf(d)>-1?(c.x=g.x,c.width=g.width):Bs.yOrds.indexOf(d)>-1&&(c.y=g.y,c.height=g.height),c.x=xo(c.x,0,a.width-c.width),c.y=xo(c.y,0,a.height-c.height),c}renderCropSelection(){const{ariaLabels:e=Bs.defaultProps.ariaLabels,disabled:n,locked:s,renderSelectionAddon:i,ruleOfThirds:a,crop:o}=this.props,l=this.getCropStyle();if(o)return _e.createElement("div",{style:l,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":e.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!n&&!s&&_e.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},_e.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),_e.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),_e.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),_e.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),_e.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":e.nwDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"nw"),role:"button"}),_e.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":e.nDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"n"),role:"button"}),_e.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":e.neDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"ne"),role:"button"}),_e.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":e.eDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"e"),role:"button"}),_e.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":e.seDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"se"),role:"button"}),_e.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":e.sDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"s"),role:"button"}),_e.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":e.swDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"sw"),role:"button"}),_e.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":e.wDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"w"),role:"button"})),i&&_e.createElement("div",{className:"ReactCrop__selection-addon",onPointerDown:c=>c.stopPropagation()},i(this.state)),a&&_e.createElement(_e.Fragment,null,_e.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),_e.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(e){const n={..._f,...this.props.crop||{}};return hr(n,e.width,e.height)}render(){const{aspect:e,children:n,circularCrop:s,className:i,crop:a,disabled:o,locked:l,style:c,ruleOfThirds:u}=this.props,{cropIsActive:d,newCropIsBeingDrawn:h}=this.state,p=a?this.renderCropSelection():null,m=zte("ReactCrop",i,d&&"ReactCrop--active",o&&"ReactCrop--disabled",l&&"ReactCrop--locked",h&&"ReactCrop--new-crop",a&&e&&"ReactCrop--fixed-aspect",a&&s&&"ReactCrop--circular-crop",a&&u&&"ReactCrop--rule-of-thirds",!this.dragStarted&&a&&!a.width&&!a.height&&"ReactCrop--invisible-crop",s&&"ReactCrop--no-animate");return _e.createElement("div",{ref:this.componentRef,className:m,style:c},_e.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},n),a?_e.createElement("svg",{className:"ReactCrop__crop-mask",width:"100%",height:"100%"},_e.createElement("defs",null,_e.createElement("mask",{id:`hole-${this.instanceId}`},_e.createElement("rect",{width:"100%",height:"100%",fill:"white"}),s?_e.createElement("ellipse",{cx:`${a.x+a.width/2}${a.unit}`,cy:`${a.y+a.height/2}${a.unit}`,rx:`${a.width/2}${a.unit}`,ry:`${a.height/2}${a.unit}`,fill:"black"}):_e.createElement("rect",{x:`${a.x}${a.unit}`,y:`${a.y}${a.unit}`,width:`${a.width}${a.unit}`,height:`${a.height}${a.unit}`,fill:"black"}))),_e.createElement("rect",{fill:"black",fillOpacity:.5,width:"100%",height:"100%",mask:`url(#hole-${this.instanceId})`})):void 0,p)}};jt(li,"xOrds",["e","w"]),jt(li,"yOrds",["n","s"]),jt(li,"xyOrds",["nw","ne","se","sw"]),jt(li,"nudgeStep",1),jt(li,"nudgeStepMedium",10),jt(li,"nudgeStepLarge",100),jt(li,"defaultProps",{ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}});let Hte=li;const qte=({imageSrc:t,onCropComplete:e,onClose:n,aspectRatio:s=1,circularCrop:i=!0})=>{const[a,o]=f.useState(null),[l,c]=f.useState(null),[u,d]=f.useState(1),[h,p]=f.useState(0),[m,g]=f.useState({horizontal:!1,vertical:!1}),[x,b]=f.useState(!1),v=f.useRef(null),y=f.useRef(null),w=f.useCallback(O=>{const{width:F,height:$}=O.currentTarget,I=Ute(Bte({unit:"%",width:80},s,F,$),F,$);o(I)},[s]),k=f.useCallback(O=>{o(O)},[]),N=f.useCallback(O=>{c(O)},[]),S=O=>{p(F=>O==="left"?F-90:F+90)},M=O=>{g(F=>({...F,[O]:!F[O]}))},j=O=>{d(F=>{const $=O==="in"?F*1.1:F*.9;return Math.max(.5,Math.min(3,$))})},C=(O,F,$="cropped-image.jpg")=>new Promise(I=>{const _=y.current,P=_.getContext("2d");if(!P)throw new Error("No 2d context");const E=O.naturalWidth/O.width,T=O.naturalHeight/O.height,D=window.devicePixelRatio;_.width=F.width*D*E,_.height=F.height*D*T,P.setTransform(D,0,0,D,0,0),P.imageSmoothingQuality="high";const R=F.x*E,z=F.y*T,q=h*Math.PI/180,H=O.naturalWidth/2,U=O.naturalHeight/2;P.save(),P.translate(-R,-z),P.translate(H,U),P.rotate(q),P.scale(m.horizontal?-u:u,m.vertical?-u:u),P.translate(-H,-U),P.drawImage(O,0,0,O.naturalWidth,O.naturalHeight,0,0,O.naturalWidth,O.naturalHeight),P.restore(),_.toBlob(B=>{if(!B)throw new Error("Canvas is empty");I(B)},"image/jpeg",.9)}),L=async()=>{if(!(!l||!v.current)){b(!0);try{const O=await C(v.current,l,"profile-picture.jpg");e(O)}catch(O){console.error("Error cropping image:",O)}finally{b(!1)}}};return r.jsxs("div",{className:"fixed inset-0 z-[70] bg-black/80 flex items-center justify-center p-4",children:[r.jsxs("div",{className:"bg-[#121318] rounded-2xl border border-white/10 w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Crop Your Profile Picture"}),r.jsx("button",{onClick:n,className:"p-2 rounded-lg hover:bg-white/10 text-white/70 hover:text-white transition-colors",children:r.jsx(Nr,{className:"w-5 h-5"})})]}),r.jsx("div",{className:"p-4 border-b border-white/10",children:r.jsxs("div",{className:"flex items-center justify-center gap-4 flex-wrap",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>S("left"),className:"p-2 rounded-lg bg-white/5 hover:bg-white/10 text-white/70 hover:text-white transition-colors",title:"Rotate Left",children:r.jsx(wV,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>S("right"),className:"p-2 rounded-lg bg-white/5 hover:bg-white/10 text-white/70 hover:text-white transition-colors",title:"Rotate Right",children:r.jsx(jV,{className:"w-4 h-4"})})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>j("out"),className:"p-2 rounded-lg bg-white/5 hover:bg-white/10 text-white/70 hover:text-white transition-colors",title:"Zoom Out",children:r.jsx(pV,{className:"w-4 h-4"})}),r.jsxs("span",{className:"text-sm text-white/60 min-w-[3rem] text-center",children:[Math.round(u*100),"%"]}),r.jsx("button",{onClick:()=>j("in"),className:"p-2 rounded-lg bg-white/5 hover:bg-white/10 text-white/70 hover:text-white transition-colors",title:"Zoom In",children:r.jsx(hV,{className:"w-4 h-4"})})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>M("horizontal"),className:`px-3 py-2 rounded-lg text-sm transition-colors ${m.horizontal?"bg-violet-500 text-white":"bg-white/5 hover:bg-white/10 text-white/70 hover:text-white"}`,children:"Flip H"}),r.jsx("button",{onClick:()=>M("vertical"),className:`px-3 py-2 rounded-lg text-sm transition-colors ${m.vertical?"bg-violet-500 text-white":"bg-white/5 hover:bg-white/10 text-white/70 hover:text-white"}`,children:"Flip V"})]})]})}),r.jsx("div",{className:"p-4 max-h-[60vh] overflow-auto",children:r.jsx("div",{className:"flex justify-center",children:r.jsx(Hte,{crop:a,onChange:k,onComplete:N,aspect:s,circularCrop:i,className:"max-w-full",children:r.jsx("img",{ref:v,alt:"Crop me",src:t,style:{transform:`scale(${u}) rotate(${h}deg) scaleX(${m.horizontal?-1:1}) scaleY(${m.vertical?-1:1})`,maxHeight:"400px",maxWidth:"400px"},onLoad:w,className:"rounded-lg"})})})}),r.jsxs("div",{className:"p-4 border-t border-white/10 flex items-center justify-end gap-3",children:[r.jsx("button",{onClick:n,className:"px-4 py-2 rounded-lg border border-white/10 bg-white/[0.04] text-white/85 hover:bg-white/[0.07] transition-colors",children:"Cancel"}),r.jsx("button",{onClick:L,disabled:!l||x,className:"px-4 py-2 rounded-lg bg-violet-500 text-white font-semibold hover:bg-violet-500/90 disabled:opacity-60 disabled:cursor-not-allowed transition-colors flex items-center gap-2",children:x?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Processing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(EV,{className:"w-4 h-4"}),"Use This Photo"]})})]})]}),r.jsx("canvas",{ref:y,style:{display:"none"}})]})};function Kte(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(s){if(s!=="default"&&!(s in t)){var i=Object.getOwnPropertyDescriptor(n,s);Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:function(){return n[s]}})}})}),Object.freeze(t)}function iA(t,e){return new Promise(function(n,s){let i;return Gte(t).then(function(a){try{return i=a,n(new Blob([e.slice(0,2),i,e.slice(2)],{type:"image/jpeg"}))}catch(o){return s(o)}},s)})}const Gte=t=>new Promise((e,n)=>{const s=new FileReader;s.addEventListener("load",({target:{result:i}})=>{const a=new DataView(i);let o=0;if(a.getUint16(o)!==65496)return n("not a valid JPEG");for(o+=2;;){const l=a.getUint16(o);if(l===65498)break;const c=a.getUint16(o+2);if(l===65505&&a.getUint32(o+4)===1165519206){const u=o+10;let d;switch(a.getUint16(u)){case 18761:d=!0;break;case 19789:d=!1;break;default:return n("TIFF header contains invalid endian")}if(a.getUint16(u+2,d)!==42)return n("TIFF header contains invalid version");const h=a.getUint32(u+4,d),p=u+h+2+12*a.getUint16(u+h,d);for(let m=u+h+2;m<p;m+=12)if(a.getUint16(m,d)==274){if(a.getUint16(m+2,d)!==3)return n("Orientation data type is invalid");if(a.getUint32(m+4,d)!==1)return n("Orientation data count is invalid");a.setUint16(m+8,1,d);break}return e(i.slice(o,o+2+c))}o+=2+c}return e(new Blob)}),s.readAsArrayBuffer(t)});var Mf={},Yte={get exports(){return Mf},set exports(t){Mf=t}};(function(t){var e,n,s={};Yte.exports=s,s.parse=function(i,a){for(var o=s.bin.readUshort,l=s.bin.readUint,c=0,u={},d=new Uint8Array(i),h=d.length-4;l(d,h)!=101010256;)h--;c=h,c+=4;var p=o(d,c+=4);o(d,c+=2);var m=l(d,c+=2),g=l(d,c+=4);c+=4,c=g;for(var x=0;x<p;x++){l(d,c),c+=4,c+=4,c+=4,l(d,c+=4),m=l(d,c+=4);var b=l(d,c+=4),v=o(d,c+=4),y=o(d,c+2),w=o(d,c+4);c+=6;var k=l(d,c+=8);c+=4,c+=v+y+w,s._readLocal(d,k,u,m,b,a)}return u},s._readLocal=function(i,a,o,l,c,u){var d=s.bin.readUshort,h=s.bin.readUint;h(i,a),d(i,a+=4),d(i,a+=2);var p=d(i,a+=2);h(i,a+=2),h(i,a+=4),a+=4;var m=d(i,a+=8),g=d(i,a+=2);a+=2;var x=s.bin.readUTF8(i,a,m);if(a+=m,a+=g,u)o[x]={size:c,csize:l};else{var b=new Uint8Array(i.buffer,a);if(p==0)o[x]=new Uint8Array(b.buffer.slice(a,a+l));else{if(p!=8)throw"unknown compression method: "+p;var v=new Uint8Array(c);s.inflateRaw(b,v),o[x]=v}}},s.inflateRaw=function(i,a){return s.F.inflate(i,a)},s.inflate=function(i,a){return i[0],i[1],s.inflateRaw(new Uint8Array(i.buffer,i.byteOffset+2,i.length-6),a)},s.deflate=function(i,a){a==null&&(a={level:6});var o=0,l=new Uint8Array(50+Math.floor(1.1*i.length));l[o]=120,l[o+1]=156,o+=2,o=s.F.deflateRaw(i,l,o,a.level);var c=s.adler(i,0,i.length);return l[o+0]=c>>>24&255,l[o+1]=c>>>16&255,l[o+2]=c>>>8&255,l[o+3]=c>>>0&255,new Uint8Array(l.buffer,0,o+4)},s.deflateRaw=function(i,a){a==null&&(a={level:6});var o=new Uint8Array(50+Math.floor(1.1*i.length)),l=s.F.deflateRaw(i,o,l,a.level);return new Uint8Array(o.buffer,0,l)},s.encode=function(i,a){a==null&&(a=!1);var o=0,l=s.bin.writeUint,c=s.bin.writeUshort,u={};for(var d in i){var h=!s._noNeed(d)&&!a,p=i[d],m=s.crc.crc(p,0,p.length);u[d]={cpr:h,usize:p.length,crc:m,file:h?s.deflateRaw(p):p}}for(var d in u)o+=u[d].file.length+30+46+2*s.bin.sizeUTF8(d);o+=22;var g=new Uint8Array(o),x=0,b=[];for(var d in u){var v=u[d];b.push(x),x=s._writeHeader(g,x,d,v,0)}var y=0,w=x;for(var d in u)v=u[d],b.push(x),x=s._writeHeader(g,x,d,v,1,b[y++]);var k=x-w;return l(g,x,101010256),x+=4,c(g,x+=4,y),c(g,x+=2,y),l(g,x+=2,k),l(g,x+=4,w),x+=4,x+=2,g.buffer},s._noNeed=function(i){var a=i.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(a)!=-1},s._writeHeader=function(i,a,o,l,c,u){var d=s.bin.writeUint,h=s.bin.writeUshort,p=l.file;return d(i,a,c==0?67324752:33639248),a+=4,c==1&&(a+=2),h(i,a,20),h(i,a+=2,0),h(i,a+=2,l.cpr?8:0),d(i,a+=2,0),d(i,a+=4,l.crc),d(i,a+=4,p.length),d(i,a+=4,l.usize),h(i,a+=4,s.bin.sizeUTF8(o)),h(i,a+=2,0),a+=2,c==1&&(a+=2,a+=2,d(i,a+=6,u),a+=4),a+=s.bin.writeUTF8(i,a,o),c==0&&(i.set(p,a),a+=p.length),a},s.crc={table:function(){for(var i=new Uint32Array(256),a=0;a<256;a++){for(var o=a,l=0;l<8;l++)1&o?o=3988292384^o>>>1:o>>>=1;i[a]=o}return i}(),update:function(i,a,o,l){for(var c=0;c<l;c++)i=s.crc.table[255&(i^a[o+c])]^i>>>8;return i},crc:function(i,a,o){return 4294967295^s.crc.update(4294967295,i,a,o)}},s.adler=function(i,a,o){for(var l=1,c=0,u=a,d=a+o;u<d;){for(var h=Math.min(u+5552,d);u<h;)c+=l+=i[u++];l%=65521,c%=65521}return c<<16|l},s.bin={readUshort:function(i,a){return i[a]|i[a+1]<<8},writeUshort:function(i,a,o){i[a]=255&o,i[a+1]=o>>8&255},readUint:function(i,a){return 16777216*i[a+3]+(i[a+2]<<16|i[a+1]<<8|i[a])},writeUint:function(i,a,o){i[a]=255&o,i[a+1]=o>>8&255,i[a+2]=o>>16&255,i[a+3]=o>>24&255},readASCII:function(i,a,o){for(var l="",c=0;c<o;c++)l+=String.fromCharCode(i[a+c]);return l},writeASCII:function(i,a,o){for(var l=0;l<o.length;l++)i[a+l]=o.charCodeAt(l)},pad:function(i){return i.length<2?"0"+i:i},readUTF8:function(i,a,o){for(var l,c="",u=0;u<o;u++)c+="%"+s.bin.pad(i[a+u].toString(16));try{l=decodeURIComponent(c)}catch{return s.bin.readASCII(i,a,o)}return l},writeUTF8:function(i,a,o){for(var l=o.length,c=0,u=0;u<l;u++){var d=o.charCodeAt(u);if(!(4294967168&d))i[a+c]=d,c++;else if(!(4294965248&d))i[a+c]=192|d>>6,i[a+c+1]=128|d>>0&63,c+=2;else if(!(4294901760&d))i[a+c]=224|d>>12,i[a+c+1]=128|d>>6&63,i[a+c+2]=128|d>>0&63,c+=3;else{if(4292870144&d)throw"e";i[a+c]=240|d>>18,i[a+c+1]=128|d>>12&63,i[a+c+2]=128|d>>6&63,i[a+c+3]=128|d>>0&63,c+=4}}return c},sizeUTF8:function(i){for(var a=i.length,o=0,l=0;l<a;l++){var c=i.charCodeAt(l);if(!(4294967168&c))o++;else if(!(4294965248&c))o+=2;else if(!(4294901760&c))o+=3;else{if(4292870144&c)throw"e";o+=4}}return o}},s.F={},s.F.deflateRaw=function(i,a,o,l){var c=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][l],u=s.F.U,d=s.F._goodIndex;s.F._hash;var h=s.F._putsE,p=0,m=o<<3,g=0,x=i.length;if(l==0){for(;p<x;)h(a,m,p+(O=Math.min(65535,x-p))==x?1:0),m=s.F._copyExact(i,p,O,a,m+8),p+=O;return m>>>3}var b=u.lits,v=u.strt,y=u.prev,w=0,k=0,N=0,S=0,M=0,j=0;for(x>2&&(v[j=s.F._hash(i,0)]=0),p=0;p<x;p++){if(M=j,p+1<x-2){j=s.F._hash(i,p+1);var C=p+1&32767;y[C]=v[j],v[j]=C}if(g<=p){(w>14e3||k>26697)&&x-p>100&&(g<p&&(b[w]=p-g,w+=2,g=p),m=s.F._writeBlock(p==x-1||g==x?1:0,b,w,S,i,N,p-N,a,m),w=k=S=0,N=p);var L=0;p<x-2&&(L=s.F._bestMatch(i,p,y,M,Math.min(c[2],x-p),c[3]));var O=L>>>16,F=65535&L;if(L!=0){F=65535&L;var $=d(O=L>>>16,u.of0);u.lhst[257+$]++;var I=d(F,u.df0);u.dhst[I]++,S+=u.exb[$]+u.dxb[I],b[w]=O<<23|p-g,b[w+1]=F<<16|$<<8|I,w+=2,g=p+O}else u.lhst[i[p]]++;k++}}for(N==p&&i.length!=0||(g<p&&(b[w]=p-g,w+=2,g=p),m=s.F._writeBlock(1,b,w,S,i,N,p-N,a,m),w=0,k=0,w=k=S=0,N=p);7&m;)m++;return m>>>3},s.F._bestMatch=function(i,a,o,l,c,u){var d=32767&a,h=o[d],p=d-h+32768&32767;if(h==d||l!=s.F._hash(i,a-p))return 0;for(var m=0,g=0,x=Math.min(32767,a);p<=x&&--u!=0&&h!=d;){if(m==0||i[a+m]==i[a+m-p]){var b=s.F._howLong(i,a,p);if(b>m){if(g=p,(m=b)>=c)break;p+2<b&&(b=p+2);for(var v=0,y=0;y<b-2;y++){var w=a-p+y+32768&32767,k=w-o[w]+32768&32767;k>v&&(v=k,h=w)}}}p+=(d=h)-(h=o[d])+32768&32767}return m<<16|g},s.F._howLong=function(i,a,o){if(i[a]!=i[a-o]||i[a+1]!=i[a+1-o]||i[a+2]!=i[a+2-o])return 0;var l=a,c=Math.min(i.length,a+258);for(a+=3;a<c&&i[a]==i[a-o];)a++;return a-l},s.F._hash=function(i,a){return(i[a]<<8|i[a+1])+(i[a+2]<<4)&65535},s.saved=0,s.F._writeBlock=function(i,a,o,l,c,u,d,h,p){var m,g,x,b,v,y,w,k,N,S=s.F.U,M=s.F._putsF,j=s.F._putsE;S.lhst[256]++,g=(m=s.F.getTrees())[0],x=m[1],b=m[2],v=m[3],y=m[4],w=m[5],k=m[6],N=m[7];var C=32+(p+3&7?8-(p+3&7):0)+(d<<3),L=l+s.F.contSize(S.fltree,S.lhst)+s.F.contSize(S.fdtree,S.dhst),O=l+s.F.contSize(S.ltree,S.lhst)+s.F.contSize(S.dtree,S.dhst);O+=14+3*w+s.F.contSize(S.itree,S.ihst)+(2*S.ihst[16]+3*S.ihst[17]+7*S.ihst[18]);for(var F=0;F<286;F++)S.lhst[F]=0;for(F=0;F<30;F++)S.dhst[F]=0;for(F=0;F<19;F++)S.ihst[F]=0;var $=C<L&&C<O?0:L<O?1:2;if(M(h,p,i),M(h,p+1,$),p+=3,$==0){for(;7&p;)p++;p=s.F._copyExact(c,u,d,h,p)}else{var I,_;if($==1&&(I=S.fltree,_=S.fdtree),$==2){s.F.makeCodes(S.ltree,g),s.F.revCodes(S.ltree,g),s.F.makeCodes(S.dtree,x),s.F.revCodes(S.dtree,x),s.F.makeCodes(S.itree,b),s.F.revCodes(S.itree,b),I=S.ltree,_=S.dtree,j(h,p,v-257),j(h,p+=5,y-1),j(h,p+=5,w-4),p+=4;for(var P=0;P<w;P++)j(h,p+3*P,S.itree[1+(S.ordr[P]<<1)]);p+=3*w,p=s.F._codeTiny(k,S.itree,h,p),p=s.F._codeTiny(N,S.itree,h,p)}for(var E=u,T=0;T<o;T+=2){for(var D=a[T],R=D>>>23,z=E+(8388607&D);E<z;)p=s.F._writeLit(c[E++],I,h,p);if(R!=0){var q=a[T+1],H=q>>16,U=q>>8&255,B=255&q;j(h,p=s.F._writeLit(257+U,I,h,p),R-S.of0[U]),p+=S.exb[U],M(h,p=s.F._writeLit(B,_,h,p),H-S.df0[B]),p+=S.dxb[B],E+=R}}p=s.F._writeLit(256,I,h,p)}return p},s.F._copyExact=function(i,a,o,l,c){var u=c>>>3;return l[u]=o,l[u+1]=o>>>8,l[u+2]=255-l[u],l[u+3]=255-l[u+1],u+=4,l.set(new Uint8Array(i.buffer,a,o),u),c+(o+4<<3)},s.F.getTrees=function(){for(var i=s.F.U,a=s.F._hufTree(i.lhst,i.ltree,15),o=s.F._hufTree(i.dhst,i.dtree,15),l=[],c=s.F._lenCodes(i.ltree,l),u=[],d=s.F._lenCodes(i.dtree,u),h=0;h<l.length;h+=2)i.ihst[l[h]]++;for(h=0;h<u.length;h+=2)i.ihst[u[h]]++;for(var p=s.F._hufTree(i.ihst,i.itree,7),m=19;m>4&&i.itree[1+(i.ordr[m-1]<<1)]==0;)m--;return[a,o,p,c,d,m,l,u]},s.F.getSecond=function(i){for(var a=[],o=0;o<i.length;o+=2)a.push(i[o+1]);return a},s.F.nonZero=function(i){for(var a="",o=0;o<i.length;o+=2)i[o+1]!=0&&(a+=(o>>1)+",");return a},s.F.contSize=function(i,a){for(var o=0,l=0;l<a.length;l++)o+=a[l]*i[1+(l<<1)];return o},s.F._codeTiny=function(i,a,o,l){for(var c=0;c<i.length;c+=2){var u=i[c],d=i[c+1];l=s.F._writeLit(u,a,o,l);var h=u==16?2:u==17?3:7;u>15&&(s.F._putsE(o,l,d,h),l+=h)}return l},s.F._lenCodes=function(i,a){for(var o=i.length;o!=2&&i[o-1]==0;)o-=2;for(var l=0;l<o;l+=2){var c=i[l+1],u=l+3<o?i[l+3]:-1,d=l+5<o?i[l+5]:-1,h=l==0?-1:i[l-1];if(c==0&&u==c&&d==c){for(var p=l+5;p+2<o&&i[p+2]==c;)p+=2;(m=Math.min(p+1-l>>>1,138))<11?a.push(17,m-3):a.push(18,m-11),l+=2*m-2}else if(c==h&&u==c&&d==c){for(p=l+5;p+2<o&&i[p+2]==c;)p+=2;var m=Math.min(p+1-l>>>1,6);a.push(16,m-3),l+=2*m-2}else a.push(c,0)}return o>>>1},s.F._hufTree=function(i,a,o){var l=[],c=i.length,u=a.length,d=0;for(d=0;d<u;d+=2)a[d]=0,a[d+1]=0;for(d=0;d<c;d++)i[d]!=0&&l.push({lit:d,f:i[d]});var h=l.length,p=l.slice(0);if(h==0)return 0;if(h==1){var m=l[0].lit;return p=m==0?1:0,a[1+(m<<1)]=1,a[1+(p<<1)]=1,1}l.sort(function(k,N){return k.f-N.f});var g=l[0],x=l[1],b=0,v=1,y=2;for(l[0]={lit:-1,f:g.f+x.f,l:g,r:x,d:0};v!=h-1;)g=b!=v&&(y==h||l[b].f<l[y].f)?l[b++]:l[y++],x=b!=v&&(y==h||l[b].f<l[y].f)?l[b++]:l[y++],l[v++]={lit:-1,f:g.f+x.f,l:g,r:x};var w=s.F.setDepth(l[v-1],0);for(w>o&&(s.F.restrictDepth(p,o,w),w=o),d=0;d<h;d++)a[1+(p[d].lit<<1)]=p[d].d;return w},s.F.setDepth=function(i,a){return i.lit!=-1?(i.d=a,a):Math.max(s.F.setDepth(i.l,a+1),s.F.setDepth(i.r,a+1))},s.F.restrictDepth=function(i,a,o){var l=0,c=1<<o-a,u=0;for(i.sort(function(h,p){return p.d==h.d?h.f-p.f:p.d-h.d}),l=0;l<i.length&&i[l].d>a;l++){var d=i[l].d;i[l].d=a,u+=c-(1<<o-d)}for(u>>>=o-a;u>0;)(d=i[l].d)<a?(i[l].d++,u-=1<<a-d-1):l++;for(;l>=0;l--)i[l].d==a&&u<0&&(i[l].d--,u++);u!=0&&console.log("debt left")},s.F._goodIndex=function(i,a){var o=0;return a[16|o]<=i&&(o|=16),a[8|o]<=i&&(o|=8),a[4|o]<=i&&(o|=4),a[2|o]<=i&&(o|=2),a[1|o]<=i&&(o|=1),o},s.F._writeLit=function(i,a,o,l){return s.F._putsF(o,l,a[i<<1]),l+a[1+(i<<1)]},s.F.inflate=function(i,a){var o=Uint8Array;if(i[0]==3&&i[1]==0)return a||new o(0);var l=s.F,c=l._bitsF,u=l._bitsE,d=l._decodeTiny,h=l.makeCodes,p=l.codes2map,m=l._get17,g=l.U,x=a==null;x&&(a=new o(i.length>>>2<<3));for(var b,v,y=0,w=0,k=0,N=0,S=0,M=0,j=0,C=0,L=0;y==0;)if(y=c(i,L,1),w=c(i,L+1,2),L+=3,w!=0){if(x&&(a=s.F._check(a,C+(1<<17))),w==1&&(b=g.flmap,v=g.fdmap,M=511,j=31),w==2){k=u(i,L,5)+257,N=u(i,L+5,5)+1,S=u(i,L+10,4)+4,L+=14;for(var O=0;O<38;O+=2)g.itree[O]=0,g.itree[O+1]=0;var F=1;for(O=0;O<S;O++){var $=u(i,L+3*O,3);g.itree[1+(g.ordr[O]<<1)]=$,$>F&&(F=$)}L+=3*S,h(g.itree,F),p(g.itree,F,g.imap),b=g.lmap,v=g.dmap,L=d(g.imap,(1<<F)-1,k+N,i,L,g.ttree);var I=l._copyOut(g.ttree,0,k,g.ltree);M=(1<<I)-1;var _=l._copyOut(g.ttree,k,N,g.dtree);j=(1<<_)-1,h(g.ltree,I),p(g.ltree,I,b),h(g.dtree,_),p(g.dtree,_,v)}for(;;){var P=b[m(i,L)&M];L+=15&P;var E=P>>>4;if(!(E>>>8))a[C++]=E;else{if(E==256)break;var T=C+E-254;if(E>264){var D=g.ldef[E-257];T=C+(D>>>3)+u(i,L,7&D),L+=7&D}var R=v[m(i,L)&j];L+=15&R;var z=R>>>4,q=g.ddef[z],H=(q>>>4)+c(i,L,15&q);for(L+=15&q,x&&(a=s.F._check(a,C+(1<<17)));C<T;)a[C]=a[C++-H],a[C]=a[C++-H],a[C]=a[C++-H],a[C]=a[C++-H];C=T}}}else{7&L&&(L+=8-(7&L));var U=4+(L>>>3),B=i[U-4]|i[U-3]<<8;x&&(a=s.F._check(a,C+B)),a.set(new o(i.buffer,i.byteOffset+U,B),C),L=U+B<<3,C+=B}return a.length==C?a:a.slice(0,C)},s.F._check=function(i,a){var o=i.length;if(a<=o)return i;var l=new Uint8Array(Math.max(o<<1,a));return l.set(i,0),l},s.F._decodeTiny=function(i,a,o,l,c,u){for(var d=s.F._bitsE,h=s.F._get17,p=0;p<o;){var m=i[h(l,c)&a];c+=15&m;var g=m>>>4;if(g<=15)u[p]=g,p++;else{var x=0,b=0;g==16?(b=3+d(l,c,2),c+=2,x=u[p-1]):g==17?(b=3+d(l,c,3),c+=3):g==18&&(b=11+d(l,c,7),c+=7);for(var v=p+b;p<v;)u[p]=x,p++}}return c},s.F._copyOut=function(i,a,o,l){for(var c=0,u=0,d=l.length>>>1;u<o;){var h=i[u+a];l[u<<1]=0,l[1+(u<<1)]=h,h>c&&(c=h),u++}for(;u<d;)l[u<<1]=0,l[1+(u<<1)]=0,u++;return c},s.F.makeCodes=function(i,a){for(var o,l,c,u,d=s.F.U,h=i.length,p=d.bl_count,m=0;m<=a;m++)p[m]=0;for(m=1;m<h;m+=2)p[i[m]]++;var g=d.next_code;for(o=0,p[0]=0,l=1;l<=a;l++)o=o+p[l-1]<<1,g[l]=o;for(c=0;c<h;c+=2)(u=i[c+1])!=0&&(i[c]=g[u],g[u]++)},s.F.codes2map=function(i,a,o){for(var l=i.length,c=s.F.U.rev15,u=0;u<l;u+=2)if(i[u+1]!=0)for(var d=u>>1,h=i[u+1],p=d<<4|h,m=a-h,g=i[u]<<m,x=g+(1<<m);g!=x;)o[c[g]>>>15-a]=p,g++},s.F.revCodes=function(i,a){for(var o=s.F.U.rev15,l=15-a,c=0;c<i.length;c+=2){var u=i[c]<<a-i[c+1];i[c]=o[u]>>>l}},s.F._putsE=function(i,a,o){o<<=7&a;var l=a>>>3;i[l]|=o,i[l+1]|=o>>>8},s.F._putsF=function(i,a,o){o<<=7&a;var l=a>>>3;i[l]|=o,i[l+1]|=o>>>8,i[l+2]|=o>>>16},s.F._bitsE=function(i,a,o){return(i[a>>>3]|i[1+(a>>>3)]<<8)>>>(7&a)&(1<<o)-1},s.F._bitsF=function(i,a,o){return(i[a>>>3]|i[1+(a>>>3)]<<8|i[2+(a>>>3)]<<16)>>>(7&a)&(1<<o)-1},s.F._get17=function(i,a){return(i[a>>>3]|i[1+(a>>>3)]<<8|i[2+(a>>>3)]<<16)>>>(7&a)},s.F._get25=function(i,a){return(i[a>>>3]|i[1+(a>>>3)]<<8|i[2+(a>>>3)]<<16|i[3+(a>>>3)]<<24)>>>(7&a)},s.F.U=(e=Uint16Array,n=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var i=s.F.U,a=0;a<32768;a++){var o=a;o=(4278255360&(o=(4042322160&(o=(3435973836&(o=(2863311530&o)>>>1|(1431655765&o)<<1))>>>2|(858993459&o)<<2))>>>4|(252645135&o)<<4))>>>8|(16711935&o)<<8,i.rev15[a]=(o>>>16|o<<16)>>>17}function l(c,u,d){for(;u--!=0;)c.push(0,d)}for(a=0;a<32;a++)i.ldef[a]=i.of0[a]<<3|i.exb[a],i.ddef[a]=i.df0[a]<<4|i.dxb[a];l(i.fltree,144,8),l(i.fltree,112,9),l(i.fltree,24,7),l(i.fltree,8,8),s.F.makeCodes(i.fltree,9),s.F.codes2map(i.fltree,9,i.flmap),s.F.revCodes(i.fltree,9),l(i.fdtree,32,5),s.F.makeCodes(i.fdtree,5),s.F.codes2map(i.fdtree,5,i.fdmap),s.F.revCodes(i.fdtree,5),l(i.itree,19,0),l(i.ltree,286,0),l(i.dtree,30,0),l(i.ttree,320,0)}()})();var Xte=Kte({__proto__:null,default:Mf},[Mf]);const Us=function(){var t={nextZero(d,h){for(;d[h]!=0;)h++;return h},readUshort:(d,h)=>d[h]<<8|d[h+1],writeUshort(d,h,p){d[h]=p>>8&255,d[h+1]=255&p},readUint:(d,h)=>16777216*d[h]+(d[h+1]<<16|d[h+2]<<8|d[h+3]),writeUint(d,h,p){d[h]=p>>24&255,d[h+1]=p>>16&255,d[h+2]=p>>8&255,d[h+3]=255&p},readASCII(d,h,p){let m="";for(let g=0;g<p;g++)m+=String.fromCharCode(d[h+g]);return m},writeASCII(d,h,p){for(let m=0;m<p.length;m++)d[h+m]=p.charCodeAt(m)},readBytes(d,h,p){const m=[];for(let g=0;g<p;g++)m.push(d[h+g]);return m},pad:d=>d.length<2?`0${d}`:d,readUTF8(d,h,p){let m,g="";for(let x=0;x<p;x++)g+=`%${t.pad(d[h+x].toString(16))}`;try{m=decodeURIComponent(g)}catch{return t.readASCII(d,h,p)}return m}};function e(d,h,p,m){const g=h*p,x=a(m),b=Math.ceil(h*x/8),v=new Uint8Array(4*g),y=new Uint32Array(v.buffer),{ctype:w}=m,{depth:k}=m,N=t.readUshort;if(w==6){const D=g<<2;if(k==8)for(var S=0;S<D;S+=4)v[S]=d[S],v[S+1]=d[S+1],v[S+2]=d[S+2],v[S+3]=d[S+3];if(k==16)for(S=0;S<D;S++)v[S]=d[S<<1]}else if(w==2){const D=m.tabs.tRNS;if(D==null){if(k==8)for(S=0;S<g;S++){var M=3*S;y[S]=255<<24|d[M+2]<<16|d[M+1]<<8|d[M]}if(k==16)for(S=0;S<g;S++)M=6*S,y[S]=255<<24|d[M+4]<<16|d[M+2]<<8|d[M]}else{var j=D[0];const R=D[1],z=D[2];if(k==8)for(S=0;S<g;S++){var C=S<<2;M=3*S,y[S]=255<<24|d[M+2]<<16|d[M+1]<<8|d[M],d[M]==j&&d[M+1]==R&&d[M+2]==z&&(v[C+3]=0)}if(k==16)for(S=0;S<g;S++)C=S<<2,M=6*S,y[S]=255<<24|d[M+4]<<16|d[M+2]<<8|d[M],N(d,M)==j&&N(d,M+2)==R&&N(d,M+4)==z&&(v[C+3]=0)}}else if(w==3){const D=m.tabs.PLTE,R=m.tabs.tRNS,z=R?R.length:0;if(k==1)for(var L=0;L<p;L++){var O=L*b,F=L*h;for(S=0;S<h;S++){C=F+S<<2;var $=3*(I=d[O+(S>>3)]>>7-((7&S)<<0)&1);v[C]=D[$],v[C+1]=D[$+1],v[C+2]=D[$+2],v[C+3]=I<z?R[I]:255}}if(k==2)for(L=0;L<p;L++)for(O=L*b,F=L*h,S=0;S<h;S++)C=F+S<<2,$=3*(I=d[O+(S>>2)]>>6-((3&S)<<1)&3),v[C]=D[$],v[C+1]=D[$+1],v[C+2]=D[$+2],v[C+3]=I<z?R[I]:255;if(k==4)for(L=0;L<p;L++)for(O=L*b,F=L*h,S=0;S<h;S++)C=F+S<<2,$=3*(I=d[O+(S>>1)]>>4-((1&S)<<2)&15),v[C]=D[$],v[C+1]=D[$+1],v[C+2]=D[$+2],v[C+3]=I<z?R[I]:255;if(k==8)for(S=0;S<g;S++){var I;C=S<<2,$=3*(I=d[S]),v[C]=D[$],v[C+1]=D[$+1],v[C+2]=D[$+2],v[C+3]=I<z?R[I]:255}}else if(w==4){if(k==8)for(S=0;S<g;S++){C=S<<2;var _=d[P=S<<1];v[C]=_,v[C+1]=_,v[C+2]=_,v[C+3]=d[P+1]}if(k==16)for(S=0;S<g;S++){var P;C=S<<2,_=d[P=S<<2],v[C]=_,v[C+1]=_,v[C+2]=_,v[C+3]=d[P+2]}}else if(w==0)for(j=m.tabs.tRNS?m.tabs.tRNS:-1,L=0;L<p;L++){const D=L*b,R=L*h;if(k==1)for(var E=0;E<h;E++){var T=(_=255*(d[D+(E>>>3)]>>>7-(7&E)&1))==255*j?0:255;y[R+E]=T<<24|_<<16|_<<8|_}else if(k==2)for(E=0;E<h;E++)T=(_=85*(d[D+(E>>>2)]>>>6-((3&E)<<1)&3))==85*j?0:255,y[R+E]=T<<24|_<<16|_<<8|_;else if(k==4)for(E=0;E<h;E++)T=(_=17*(d[D+(E>>>1)]>>>4-((1&E)<<2)&15))==17*j?0:255,y[R+E]=T<<24|_<<16|_<<8|_;else if(k==8)for(E=0;E<h;E++)T=(_=d[D+E])==j?0:255,y[R+E]=T<<24|_<<16|_<<8|_;else if(k==16)for(E=0;E<h;E++)_=d[D+(E<<1)],T=N(d,D+(E<<1))==j?0:255,y[R+E]=T<<24|_<<16|_<<8|_}return v}function n(d,h,p,m){const g=a(d),x=Math.ceil(p*g/8),b=new Uint8Array((x+1+d.interlace)*m);return h=d.tabs.CgBI?i(h,b):s(h,b),d.interlace==0?h=o(h,d,0,p,m):d.interlace==1&&(h=function(y,w){const k=w.width,N=w.height,S=a(w),M=S>>3,j=Math.ceil(k*S/8),C=new Uint8Array(N*j);let L=0;const O=[0,0,4,0,2,0,1],F=[0,4,0,2,0,1,0],$=[8,8,8,4,4,2,2],I=[8,8,4,4,2,2,1];let _=0;for(;_<7;){const E=$[_],T=I[_];let D=0,R=0,z=O[_];for(;z<N;)z+=E,R++;let q=F[_];for(;q<k;)q+=T,D++;const H=Math.ceil(D*S/8);o(y,w,L,D,R);let U=0,B=O[_];for(;B<N;){let V=F[_],G=L+U*H<<3;for(;V<k;){var P;if(S==1&&(P=(P=y[G>>3])>>7-(7&G)&1,C[B*j+(V>>3)]|=P<<7-((7&V)<<0)),S==2&&(P=(P=y[G>>3])>>6-(7&G)&3,C[B*j+(V>>2)]|=P<<6-((3&V)<<1)),S==4&&(P=(P=y[G>>3])>>4-(7&G)&15,C[B*j+(V>>1)]|=P<<4-((1&V)<<2)),S>=8){const Q=B*j+V*M;for(let se=0;se<M;se++)C[Q+se]=y[(G>>3)+se]}G+=S,V+=T}U++,B+=E}D*R!=0&&(L+=R*(1+H)),_+=1}return C}(h,d)),h}function s(d,h){return i(new Uint8Array(d.buffer,2,d.length-6),h)}var i=function(){const d={H:{}};return d.H.N=function(h,p){const m=Uint8Array;let g,x,b=0,v=0,y=0,w=0,k=0,N=0,S=0,M=0,j=0;if(h[0]==3&&h[1]==0)return p||new m(0);const C=d.H,L=C.b,O=C.e,F=C.R,$=C.n,I=C.A,_=C.Z,P=C.m,E=p==null;for(E&&(p=new m(h.length>>>2<<5));b==0;)if(b=L(h,j,1),v=L(h,j+1,2),j+=3,v!=0){if(E&&(p=d.H.W(p,M+(1<<17))),v==1&&(g=P.J,x=P.h,N=511,S=31),v==2){y=O(h,j,5)+257,w=O(h,j+5,5)+1,k=O(h,j+10,4)+4,j+=14;let D=1;for(var T=0;T<38;T+=2)P.Q[T]=0,P.Q[T+1]=0;for(T=0;T<k;T++){const q=O(h,j+3*T,3);P.Q[1+(P.X[T]<<1)]=q,q>D&&(D=q)}j+=3*k,$(P.Q,D),I(P.Q,D,P.u),g=P.w,x=P.d,j=F(P.u,(1<<D)-1,y+w,h,j,P.v);const R=C.V(P.v,0,y,P.C);N=(1<<R)-1;const z=C.V(P.v,y,w,P.D);S=(1<<z)-1,$(P.C,R),I(P.C,R,g),$(P.D,z),I(P.D,z,x)}for(;;){const D=g[_(h,j)&N];j+=15&D;const R=D>>>4;if(!(R>>>8))p[M++]=R;else{if(R==256)break;{let z=M+R-254;if(R>264){const V=P.q[R-257];z=M+(V>>>3)+O(h,j,7&V),j+=7&V}const q=x[_(h,j)&S];j+=15&q;const H=q>>>4,U=P.c[H],B=(U>>>4)+L(h,j,15&U);for(j+=15&U;M<z;)p[M]=p[M++-B],p[M]=p[M++-B],p[M]=p[M++-B],p[M]=p[M++-B];M=z}}}}else{7&j&&(j+=8-(7&j));const D=4+(j>>>3),R=h[D-4]|h[D-3]<<8;E&&(p=d.H.W(p,M+R)),p.set(new m(h.buffer,h.byteOffset+D,R),M),j=D+R<<3,M+=R}return p.length==M?p:p.slice(0,M)},d.H.W=function(h,p){const m=h.length;if(p<=m)return h;const g=new Uint8Array(m<<1);return g.set(h,0),g},d.H.R=function(h,p,m,g,x,b){const v=d.H.e,y=d.H.Z;let w=0;for(;w<m;){const k=h[y(g,x)&p];x+=15&k;const N=k>>>4;if(N<=15)b[w]=N,w++;else{let S=0,M=0;N==16?(M=3+v(g,x,2),x+=2,S=b[w-1]):N==17?(M=3+v(g,x,3),x+=3):N==18&&(M=11+v(g,x,7),x+=7);const j=w+M;for(;w<j;)b[w]=S,w++}}return x},d.H.V=function(h,p,m,g){let x=0,b=0;const v=g.length>>>1;for(;b<m;){const y=h[b+p];g[b<<1]=0,g[1+(b<<1)]=y,y>x&&(x=y),b++}for(;b<v;)g[b<<1]=0,g[1+(b<<1)]=0,b++;return x},d.H.n=function(h,p){const m=d.H.m,g=h.length;let x,b,v,y;const w=m.j;for(var k=0;k<=p;k++)w[k]=0;for(k=1;k<g;k+=2)w[h[k]]++;const N=m.K;for(x=0,w[0]=0,b=1;b<=p;b++)x=x+w[b-1]<<1,N[b]=x;for(v=0;v<g;v+=2)y=h[v+1],y!=0&&(h[v]=N[y],N[y]++)},d.H.A=function(h,p,m){const g=h.length,x=d.H.m.r;for(let b=0;b<g;b+=2)if(h[b+1]!=0){const v=b>>1,y=h[b+1],w=v<<4|y,k=p-y;let N=h[b]<<k;const S=N+(1<<k);for(;N!=S;)m[x[N]>>>15-p]=w,N++}},d.H.l=function(h,p){const m=d.H.m.r,g=15-p;for(let x=0;x<h.length;x+=2){const b=h[x]<<p-h[x+1];h[x]=m[b]>>>g}},d.H.M=function(h,p,m){m<<=7&p;const g=p>>>3;h[g]|=m,h[g+1]|=m>>>8},d.H.I=function(h,p,m){m<<=7&p;const g=p>>>3;h[g]|=m,h[g+1]|=m>>>8,h[g+2]|=m>>>16},d.H.e=function(h,p,m){return(h[p>>>3]|h[1+(p>>>3)]<<8)>>>(7&p)&(1<<m)-1},d.H.b=function(h,p,m){return(h[p>>>3]|h[1+(p>>>3)]<<8|h[2+(p>>>3)]<<16)>>>(7&p)&(1<<m)-1},d.H.Z=function(h,p){return(h[p>>>3]|h[1+(p>>>3)]<<8|h[2+(p>>>3)]<<16)>>>(7&p)},d.H.i=function(h,p){return(h[p>>>3]|h[1+(p>>>3)]<<8|h[2+(p>>>3)]<<16|h[3+(p>>>3)]<<24)>>>(7&p)},d.H.m=function(){const h=Uint16Array,p=Uint32Array;return{K:new h(16),j:new h(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new h(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new p(32),J:new h(512),_:[],h:new h(32),$:[],w:new h(32768),C:[],v:[],d:new h(32768),D:[],u:new h(512),Q:[],r:new h(32768),s:new p(286),Y:new p(30),a:new p(19),t:new p(15e3),k:new h(65536),g:new h(32768)}}(),function(){const h=d.H.m;for(var p=0;p<32768;p++){let g=p;g=(2863311530&g)>>>1|(1431655765&g)<<1,g=(3435973836&g)>>>2|(858993459&g)<<2,g=(4042322160&g)>>>4|(252645135&g)<<4,g=(4278255360&g)>>>8|(16711935&g)<<8,h.r[p]=(g>>>16|g<<16)>>>17}function m(g,x,b){for(;x--!=0;)g.push(0,b)}for(p=0;p<32;p++)h.q[p]=h.S[p]<<3|h.T[p],h.c[p]=h.p[p]<<4|h.z[p];m(h._,144,8),m(h._,112,9),m(h._,24,7),m(h._,8,8),d.H.n(h._,9),d.H.A(h._,9,h.J),d.H.l(h._,9),m(h.$,32,5),d.H.n(h.$,5),d.H.A(h.$,5,h.h),d.H.l(h.$,5),m(h.Q,19,0),m(h.C,286,0),m(h.D,30,0),m(h.v,320,0)}(),d.H.N}();function a(d){return[1,null,3,1,2,null,4][d.ctype]*d.depth}function o(d,h,p,m,g){let x=a(h);const b=Math.ceil(m*x/8);let v,y;x=Math.ceil(x/8);let w=d[p],k=0;if(w>1&&(d[p]=[0,0,1][w-2]),w==3)for(k=x;k<b;k++)d[k+1]=d[k+1]+(d[k+1-x]>>>1)&255;for(let N=0;N<g;N++)if(v=p+N*b,y=v+N+1,w=d[y-1],k=0,w==0)for(;k<b;k++)d[v+k]=d[y+k];else if(w==1){for(;k<x;k++)d[v+k]=d[y+k];for(;k<b;k++)d[v+k]=d[y+k]+d[v+k-x]}else if(w==2)for(;k<b;k++)d[v+k]=d[y+k]+d[v+k-b];else if(w==3){for(;k<x;k++)d[v+k]=d[y+k]+(d[v+k-b]>>>1);for(;k<b;k++)d[v+k]=d[y+k]+(d[v+k-b]+d[v+k-x]>>>1)}else{for(;k<x;k++)d[v+k]=d[y+k]+l(0,d[v+k-b],0);for(;k<b;k++)d[v+k]=d[y+k]+l(d[v+k-x],d[v+k-b],d[v+k-x-b])}return d}function l(d,h,p){const m=d+h-p,g=m-d,x=m-h,b=m-p;return g*g<=x*x&&g*g<=b*b?d:x*x<=b*b?h:p}function c(d,h,p){p.width=t.readUint(d,h),h+=4,p.height=t.readUint(d,h),h+=4,p.depth=d[h],h++,p.ctype=d[h],h++,p.compress=d[h],h++,p.filter=d[h],h++,p.interlace=d[h],h++}function u(d,h,p,m,g,x,b,v,y){const w=Math.min(h,g),k=Math.min(p,x);let N=0,S=0;for(let _=0;_<k;_++)for(let P=0;P<w;P++)if(b>=0&&v>=0?(N=_*h+P<<2,S=(v+_)*g+b+P<<2):(N=(-v+_)*h-b+P<<2,S=_*g+P<<2),y==0)m[S]=d[N],m[S+1]=d[N+1],m[S+2]=d[N+2],m[S+3]=d[N+3];else if(y==1){var M=d[N+3]*.00392156862745098,j=d[N]*M,C=d[N+1]*M,L=d[N+2]*M,O=m[S+3]*(1/255),F=m[S]*O,$=m[S+1]*O,I=m[S+2]*O;const E=1-M,T=M+O*E,D=T==0?0:1/T;m[S+3]=255*T,m[S+0]=(j+F*E)*D,m[S+1]=(C+$*E)*D,m[S+2]=(L+I*E)*D}else if(y==2)M=d[N+3],j=d[N],C=d[N+1],L=d[N+2],O=m[S+3],F=m[S],$=m[S+1],I=m[S+2],M==O&&j==F&&C==$&&L==I?(m[S]=0,m[S+1]=0,m[S+2]=0,m[S+3]=0):(m[S]=j,m[S+1]=C,m[S+2]=L,m[S+3]=M);else if(y==3){if(M=d[N+3],j=d[N],C=d[N+1],L=d[N+2],O=m[S+3],F=m[S],$=m[S+1],I=m[S+2],M==O&&j==F&&C==$&&L==I)continue;if(M<220&&O>20)return!1}return!0}return{decode:function(h){const p=new Uint8Array(h);let m=8;const g=t,x=g.readUshort,b=g.readUint,v={tabs:{},frames:[]},y=new Uint8Array(p.length);let w,k=0,N=0;const S=[137,80,78,71,13,10,26,10];for(var M=0;M<8;M++)if(p[M]!=S[M])throw"The input is not a PNG file!";for(;m<p.length;){const _=g.readUint(p,m);m+=4;const P=g.readASCII(p,m,4);if(m+=4,P=="IHDR")c(p,m,v);else if(P=="iCCP"){for(var j=m;p[j]!=0;)j++;g.readASCII(p,m,j-m),p[j+1];const E=p.slice(j+2,m+_);let T=null;try{T=s(E)}catch{T=i(E)}v.tabs[P]=T}else if(P=="CgBI")v.tabs[P]=p.slice(m,m+4);else if(P=="IDAT"){for(M=0;M<_;M++)y[k+M]=p[m+M];k+=_}else if(P=="acTL")v.tabs[P]={num_frames:b(p,m),num_plays:b(p,m+4)},w=new Uint8Array(p.length);else if(P=="fcTL"){N!=0&&((I=v.frames[v.frames.length-1]).data=n(v,w.slice(0,N),I.rect.width,I.rect.height),N=0);const E={x:b(p,m+12),y:b(p,m+16),width:b(p,m+4),height:b(p,m+8)};let T=x(p,m+22);T=x(p,m+20)/(T==0?100:T);const D={rect:E,delay:Math.round(1e3*T),dispose:p[m+24],blend:p[m+25]};v.frames.push(D)}else if(P=="fdAT"){for(M=0;M<_-4;M++)w[N+M]=p[m+M+4];N+=_-4}else if(P=="pHYs")v.tabs[P]=[g.readUint(p,m),g.readUint(p,m+4),p[m+8]];else if(P=="cHRM")for(v.tabs[P]=[],M=0;M<8;M++)v.tabs[P].push(g.readUint(p,m+4*M));else if(P=="tEXt"||P=="zTXt"){v.tabs[P]==null&&(v.tabs[P]={});var C=g.nextZero(p,m),L=g.readASCII(p,m,C-m),O=m+_-C-1;if(P=="tEXt")$=g.readASCII(p,C+1,O);else{var F=s(p.slice(C+2,C+2+O));$=g.readUTF8(F,0,F.length)}v.tabs[P][L]=$}else if(P=="iTXt"){v.tabs[P]==null&&(v.tabs[P]={}),C=0,j=m,C=g.nextZero(p,j),L=g.readASCII(p,j,C-j);const E=p[j=C+1];var $;p[j+1],j+=2,C=g.nextZero(p,j),g.readASCII(p,j,C-j),j=C+1,C=g.nextZero(p,j),g.readUTF8(p,j,C-j),O=_-((j=C+1)-m),E==0?$=g.readUTF8(p,j,O):(F=s(p.slice(j,j+O)),$=g.readUTF8(F,0,F.length)),v.tabs[P][L]=$}else if(P=="PLTE")v.tabs[P]=g.readBytes(p,m,_);else if(P=="hIST"){const E=v.tabs.PLTE.length/3;for(v.tabs[P]=[],M=0;M<E;M++)v.tabs[P].push(x(p,m+2*M))}else if(P=="tRNS")v.ctype==3?v.tabs[P]=g.readBytes(p,m,_):v.ctype==0?v.tabs[P]=x(p,m):v.ctype==2&&(v.tabs[P]=[x(p,m),x(p,m+2),x(p,m+4)]);else if(P=="gAMA")v.tabs[P]=g.readUint(p,m)/1e5;else if(P=="sRGB")v.tabs[P]=p[m];else if(P=="bKGD")v.ctype==0||v.ctype==4?v.tabs[P]=[x(p,m)]:v.ctype==2||v.ctype==6?v.tabs[P]=[x(p,m),x(p,m+2),x(p,m+4)]:v.ctype==3&&(v.tabs[P]=p[m]);else if(P=="IEND")break;m+=_,g.readUint(p,m),m+=4}var I;return N!=0&&((I=v.frames[v.frames.length-1]).data=n(v,w.slice(0,N),I.rect.width,I.rect.height)),v.data=n(v,y,v.width,v.height),delete v.compress,delete v.interlace,delete v.filter,v},toRGBA8:function(h){const p=h.width,m=h.height;if(h.tabs.acTL==null)return[e(h.data,p,m,h).buffer];const g=[];h.frames[0].data==null&&(h.frames[0].data=h.data);const x=p*m*4,b=new Uint8Array(x),v=new Uint8Array(x),y=new Uint8Array(x);for(let k=0;k<h.frames.length;k++){const N=h.frames[k],S=N.rect.x,M=N.rect.y,j=N.rect.width,C=N.rect.height,L=e(N.data,j,C,h);if(k!=0)for(var w=0;w<x;w++)y[w]=b[w];if(N.blend==0?u(L,j,C,b,p,m,S,M,0):N.blend==1&&u(L,j,C,b,p,m,S,M,1),g.push(b.buffer.slice(0)),N.dispose!=0){if(N.dispose==1)u(v,j,C,b,p,m,S,M,0);else if(N.dispose==2)for(w=0;w<x;w++)b[w]=y[w]}}return g},_paeth:l,_copyTile:u,_bin:t}}();(function(){const{_copyTile:t}=Us,{_bin:e}=Us,n=Us._paeth;var s={table:function(){const j=new Uint32Array(256);for(let C=0;C<256;C++){let L=C;for(let O=0;O<8;O++)1&L?L=3988292384^L>>>1:L>>>=1;j[C]=L}return j}(),update(j,C,L,O){for(let F=0;F<O;F++)j=s.table[255&(j^C[L+F])]^j>>>8;return j},crc:(j,C,L)=>4294967295^s.update(4294967295,j,C,L)};function i(j,C,L,O){C[L]+=j[0]*O>>4,C[L+1]+=j[1]*O>>4,C[L+2]+=j[2]*O>>4,C[L+3]+=j[3]*O>>4}function a(j){return Math.max(0,Math.min(255,j))}function o(j,C){const L=j[0]-C[0],O=j[1]-C[1],F=j[2]-C[2],$=j[3]-C[3];return L*L+O*O+F*F+$*$}function l(j,C,L,O,F,$,I){I==null&&(I=1);const _=O.length,P=[];for(var E=0;E<_;E++){const B=O[E];P.push([B>>>0&255,B>>>8&255,B>>>16&255,B>>>24&255])}for(E=0;E<_;E++){let B=4294967295;for(var T=0,D=0;D<_;D++){var R=o(P[E],P[D]);D!=E&&R<B&&(B=R,T=D)}}const z=new Uint32Array(F.buffer),q=new Int16Array(C*L*4),H=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(E=0;E<H.length;E++)H[E]=255*((H[E]+.5)/16-.5);for(let B=0;B<L;B++)for(let V=0;V<C;V++){var U;E=4*(B*C+V),I!=2?U=[a(j[E]+q[E]),a(j[E+1]+q[E+1]),a(j[E+2]+q[E+2]),a(j[E+3]+q[E+3])]:(R=H[4*(3&B)+(3&V)],U=[a(j[E]+R),a(j[E+1]+R),a(j[E+2]+R),a(j[E+3]+R)]),T=0;let G=16777215;for(D=0;D<_;D++){const te=o(U,P[D]);te<G&&(G=te,T=D)}const Q=P[T],se=[U[0]-Q[0],U[1]-Q[1],U[2]-Q[2],U[3]-Q[3]];I==1&&(V!=C-1&&i(se,q,E+4,7),B!=L-1&&(V!=0&&i(se,q,E+4*C-4,3),i(se,q,E+4*C,5),V!=C-1&&i(se,q,E+4*C+4,1))),$[E>>2]=T,z[E>>2]=O[T]}}function c(j,C,L,O,F){F==null&&(F={});const{crc:$}=s,I=e.writeUint,_=e.writeUshort,P=e.writeASCII;let E=8;const T=j.frames.length>1;let D,R=!1,z=33+(T?20:0);if(F.sRGB!=null&&(z+=13),F.pHYs!=null&&(z+=21),F.iCCP!=null&&(D=pako.deflate(F.iCCP),z+=21+D.length+4),j.ctype==3){for(var q=j.plte.length,H=0;H<q;H++)j.plte[H]>>>24!=255&&(R=!0);z+=8+3*q+4+(R?8+1*q+4:0)}for(var U=0;U<j.frames.length;U++)T&&(z+=38),z+=(Q=j.frames[U]).cimg.length+12,U!=0&&(z+=4);z+=12;const B=new Uint8Array(z),V=[137,80,78,71,13,10,26,10];for(H=0;H<8;H++)B[H]=V[H];if(I(B,E,13),E+=4,P(B,E,"IHDR"),E+=4,I(B,E,C),E+=4,I(B,E,L),E+=4,B[E]=j.depth,E++,B[E]=j.ctype,E++,B[E]=0,E++,B[E]=0,E++,B[E]=0,E++,I(B,E,$(B,E-17,17)),E+=4,F.sRGB!=null&&(I(B,E,1),E+=4,P(B,E,"sRGB"),E+=4,B[E]=F.sRGB,E++,I(B,E,$(B,E-5,5)),E+=4),F.iCCP!=null){const se=13+D.length;I(B,E,se),E+=4,P(B,E,"iCCP"),E+=4,P(B,E,"ICC profile"),E+=11,E+=2,B.set(D,E),E+=D.length,I(B,E,$(B,E-(se+4),se+4)),E+=4}if(F.pHYs!=null&&(I(B,E,9),E+=4,P(B,E,"pHYs"),E+=4,I(B,E,F.pHYs[0]),E+=4,I(B,E,F.pHYs[1]),E+=4,B[E]=F.pHYs[2],E++,I(B,E,$(B,E-13,13)),E+=4),T&&(I(B,E,8),E+=4,P(B,E,"acTL"),E+=4,I(B,E,j.frames.length),E+=4,I(B,E,F.loop!=null?F.loop:0),E+=4,I(B,E,$(B,E-12,12)),E+=4),j.ctype==3){for(I(B,E,3*(q=j.plte.length)),E+=4,P(B,E,"PLTE"),E+=4,H=0;H<q;H++){const se=3*H,te=j.plte[H],K=255&te,J=te>>>8&255,fe=te>>>16&255;B[E+se+0]=K,B[E+se+1]=J,B[E+se+2]=fe}if(E+=3*q,I(B,E,$(B,E-3*q-4,3*q+4)),E+=4,R){for(I(B,E,q),E+=4,P(B,E,"tRNS"),E+=4,H=0;H<q;H++)B[E+H]=j.plte[H]>>>24&255;E+=q,I(B,E,$(B,E-q-4,q+4)),E+=4}}let G=0;for(U=0;U<j.frames.length;U++){var Q=j.frames[U];T&&(I(B,E,26),E+=4,P(B,E,"fcTL"),E+=4,I(B,E,G++),E+=4,I(B,E,Q.rect.width),E+=4,I(B,E,Q.rect.height),E+=4,I(B,E,Q.rect.x),E+=4,I(B,E,Q.rect.y),E+=4,_(B,E,O[U]),E+=2,_(B,E,1e3),E+=2,B[E]=Q.dispose,E++,B[E]=Q.blend,E++,I(B,E,$(B,E-30,30)),E+=4);const se=Q.cimg;I(B,E,(q=se.length)+(U==0?0:4)),E+=4;const te=E;P(B,E,U==0?"IDAT":"fdAT"),E+=4,U!=0&&(I(B,E,G++),E+=4),B.set(se,E),E+=q,I(B,E,$(B,te,E-te)),E+=4}return I(B,E,0),E+=4,P(B,E,"IEND"),E+=4,I(B,E,$(B,E-4,4)),E+=4,B.buffer}function u(j,C,L){for(let O=0;O<j.frames.length;O++){const F=j.frames[O];F.rect.width;const $=F.rect.height,I=new Uint8Array($*F.bpl+$);F.cimg=m(F.img,$,F.bpp,F.bpl,I,C,L)}}function d(j,C,L,O,F){const $=F[0],I=F[1],_=F[2],P=F[3],E=F[4],T=F[5];let D=6,R=8,z=255;for(var q=0;q<j.length;q++){const ne=new Uint8Array(j[q]);for(var H=ne.length,U=0;U<H;U+=4)z&=ne[U+3]}const B=z!=255,V=function(ie,de,ee,ye,xe,Ce){const X=[];for(var A=0;A<ie.length;A++){const je=new Uint8Array(ie[A]),Ee=new Uint32Array(je.buffer);var Y;let Oe=0,qe=0,rt=de,ot=ee,lt=ye?1:0;if(A!=0){const et=Ce||ye||A==1||X[A-2].dispose!=0?1:2;let Ot=0,xt=1e9;for(let mn=0;mn<et;mn++){var Z=new Uint8Array(ie[A-1-mn]);const _n=new Uint32Array(ie[A-1-mn]);let bt=de,Zt=ee,ts=-1,ln=-1;for(let W=0;W<ee;W++)for(let ve=0;ve<de;ve++)Ee[ue=W*de+ve]!=_n[ue]&&(ve<bt&&(bt=ve),ve>ts&&(ts=ve),W<Zt&&(Zt=W),W>ln&&(ln=W));ts==-1&&(bt=Zt=ts=ln=0),xe&&((1&bt)==1&&bt--,(1&Zt)==1&&Zt--);const Ds=(ts-bt+1)*(ln-Zt+1);Ds<xt&&(xt=Ds,Ot=mn,Oe=bt,qe=Zt,rt=ts-bt+1,ot=ln-Zt+1)}Z=new Uint8Array(ie[A-1-Ot]),Ot==1&&(X[A-1].dispose=2),Y=new Uint8Array(rt*ot*4),t(Z,de,ee,Y,rt,ot,-Oe,-qe,0),lt=t(je,de,ee,Y,rt,ot,-Oe,-qe,3)?1:0,lt==1?p(je,de,ee,Y,{x:Oe,y:qe,width:rt,height:ot}):t(je,de,ee,Y,rt,ot,-Oe,-qe,0)}else Y=je.slice(0);X.push({rect:{x:Oe,y:qe,width:rt,height:ot},img:Y,blend:lt,dispose:0})}if(ye)for(A=0;A<X.length;A++){if((he=X[A]).blend==1)continue;const je=he.rect,Ee=X[A-1].rect,Oe=Math.min(je.x,Ee.x),qe=Math.min(je.y,Ee.y),rt={x:Oe,y:qe,width:Math.max(je.x+je.width,Ee.x+Ee.width)-Oe,height:Math.max(je.y+je.height,Ee.y+Ee.height)-qe};X[A-1].dispose=1,A-1!=0&&h(ie,de,ee,X,A-1,rt,xe),h(ie,de,ee,X,A,rt,xe)}let ae=0;if(ie.length!=1)for(var ue=0;ue<X.length;ue++){var he;ae+=(he=X[ue]).rect.width*he.rect.height}return X}(j,C,L,$,I,_),G={},Q=[],se=[];if(O!=0){const ne=[];for(U=0;U<V.length;U++)ne.push(V[U].img.buffer);const ie=function(xe){let Ce=0;for(var X=0;X<xe.length;X++)Ce+=xe[X].byteLength;const A=new Uint8Array(Ce);let Y=0;for(X=0;X<xe.length;X++){const Z=new Uint8Array(xe[X]),ae=Z.length;for(let ue=0;ue<ae;ue+=4){let he=Z[ue],je=Z[ue+1],Ee=Z[ue+2];const Oe=Z[ue+3];Oe==0&&(he=je=Ee=0),A[Y+ue]=he,A[Y+ue+1]=je,A[Y+ue+2]=Ee,A[Y+ue+3]=Oe}Y+=ae}return A.buffer}(ne),de=x(ie,O);for(U=0;U<de.plte.length;U++)Q.push(de.plte[U].est.rgba);let ee=0;for(U=0;U<V.length;U++){const ye=(K=V[U]).img.length;var te=new Uint8Array(de.inds.buffer,ee>>2,ye>>2);se.push(te);const xe=new Uint8Array(de.abuf,ee,ye);T&&l(K.img,K.rect.width,K.rect.height,Q,xe,te),K.img.set(xe),ee+=ye}}else for(q=0;q<V.length;q++){var K=V[q];const ne=new Uint32Array(K.img.buffer);var J=K.rect.width;for(H=ne.length,te=new Uint8Array(H),se.push(te),U=0;U<H;U++){const ie=ne[U];if(U!=0&&ie==ne[U-1])te[U]=te[U-1];else if(U>J&&ie==ne[U-J])te[U]=te[U-J];else{let de=G[ie];if(de==null&&(G[ie]=de=Q.length,Q.push(ie),Q.length>=300))break;te[U]=de}}}const fe=Q.length;for(fe<=256&&E==0&&(R=fe<=2?1:fe<=4?2:fe<=16?4:8,R=Math.max(R,P)),q=0;q<V.length;q++){(K=V[q]).rect.x,K.rect.y,J=K.rect.width;const ne=K.rect.height;let ie=K.img;new Uint32Array(ie.buffer);let de=4*J,ee=4;if(fe<=256&&E==0){de=Math.ceil(R*J/8);var le=new Uint8Array(de*ne);const ye=se[q];for(let xe=0;xe<ne;xe++){U=xe*de;const Ce=xe*J;if(R==8)for(var ce=0;ce<J;ce++)le[U+ce]=ye[Ce+ce];else if(R==4)for(ce=0;ce<J;ce++)le[U+(ce>>1)]|=ye[Ce+ce]<<4-4*(1&ce);else if(R==2)for(ce=0;ce<J;ce++)le[U+(ce>>2)]|=ye[Ce+ce]<<6-2*(3&ce);else if(R==1)for(ce=0;ce<J;ce++)le[U+(ce>>3)]|=ye[Ce+ce]<<7-1*(7&ce)}ie=le,D=3,ee=1}else if(B==0&&V.length==1){le=new Uint8Array(J*ne*3);const ye=J*ne;for(U=0;U<ye;U++){const xe=3*U,Ce=4*U;le[xe]=ie[Ce],le[xe+1]=ie[Ce+1],le[xe+2]=ie[Ce+2]}ie=le,D=2,ee=3,de=3*J}K.img=ie,K.bpl=de,K.bpp=ee}return{ctype:D,depth:R,plte:Q,frames:V}}function h(j,C,L,O,F,$,I){const _=Uint8Array,P=Uint32Array,E=new _(j[F-1]),T=new P(j[F-1]),D=F+1<j.length?new _(j[F+1]):null,R=new _(j[F]),z=new P(R.buffer);let q=C,H=L,U=-1,B=-1;for(let G=0;G<$.height;G++)for(let Q=0;Q<$.width;Q++){const se=$.x+Q,te=$.y+G,K=te*C+se,J=z[K];J==0||O[F-1].dispose==0&&T[K]==J&&(D==null||D[4*K+3]!=0)||(se<q&&(q=se),se>U&&(U=se),te<H&&(H=te),te>B&&(B=te))}U==-1&&(q=H=U=B=0),I&&((1&q)==1&&q--,(1&H)==1&&H--),$={x:q,y:H,width:U-q+1,height:B-H+1};const V=O[F];V.rect=$,V.blend=1,V.img=new Uint8Array($.width*$.height*4),O[F-1].dispose==0?(t(E,C,L,V.img,$.width,$.height,-$.x,-$.y,0),p(R,C,L,V.img,$)):t(R,C,L,V.img,$.width,$.height,-$.x,-$.y,0)}function p(j,C,L,O,F){t(j,C,L,O,F.width,F.height,-F.x,-F.y,2)}function m(j,C,L,O,F,$,I){const _=[];let P,E=[0,1,2,3,4];$!=-1?E=[$]:(C*O>5e5||L==1)&&(E=[0]),I&&(P={level:0});const T=Xte;for(var D=0;D<E.length;D++){for(let q=0;q<C;q++)g(F,j,q,O,L,E[D]);_.push(T.deflate(F,P))}let R,z=1e9;for(D=0;D<_.length;D++)_[D].length<z&&(R=D,z=_[D].length);return _[R]}function g(j,C,L,O,F,$){const I=L*O;let _=I+L;if(j[_]=$,_++,$==0)if(O<500)for(var P=0;P<O;P++)j[_+P]=C[I+P];else j.set(new Uint8Array(C.buffer,I,O),_);else if($==1){for(P=0;P<F;P++)j[_+P]=C[I+P];for(P=F;P<O;P++)j[_+P]=C[I+P]-C[I+P-F]+256&255}else if(L==0){for(P=0;P<F;P++)j[_+P]=C[I+P];if($==2)for(P=F;P<O;P++)j[_+P]=C[I+P];if($==3)for(P=F;P<O;P++)j[_+P]=C[I+P]-(C[I+P-F]>>1)+256&255;if($==4)for(P=F;P<O;P++)j[_+P]=C[I+P]-n(C[I+P-F],0,0)+256&255}else{if($==2)for(P=0;P<O;P++)j[_+P]=C[I+P]+256-C[I+P-O]&255;if($==3){for(P=0;P<F;P++)j[_+P]=C[I+P]+256-(C[I+P-O]>>1)&255;for(P=F;P<O;P++)j[_+P]=C[I+P]+256-(C[I+P-O]+C[I+P-F]>>1)&255}if($==4){for(P=0;P<F;P++)j[_+P]=C[I+P]+256-n(0,C[I+P-O],0)&255;for(P=F;P<O;P++)j[_+P]=C[I+P]+256-n(C[I+P-F],C[I+P-O],C[I+P-F-O])&255}}}function x(j,C){const L=new Uint8Array(j),O=L.slice(0),F=new Uint32Array(O.buffer),$=b(O,C),I=$[0],_=$[1],P=L.length,E=new Uint8Array(P>>2);let T;if(L.length<2e7)for(var D=0;D<P;D+=4)T=v(I,R=L[D]*(1/255),z=L[D+1]*(1/255),q=L[D+2]*(1/255),H=L[D+3]*(1/255)),E[D>>2]=T.ind,F[D>>2]=T.est.rgba;else for(D=0;D<P;D+=4){var R=L[D]*.00392156862745098,z=L[D+1]*(1/255),q=L[D+2]*(1/255),H=L[D+3]*(1/255);for(T=I;T.left;)T=y(T.est,R,z,q,H)<=0?T.left:T.right;E[D>>2]=T.ind,F[D>>2]=T.est.rgba}return{abuf:O.buffer,inds:E,plte:_}}function b(j,C,L){L==null&&(L=1e-4);const O=new Uint32Array(j.buffer),F={i0:0,i1:j.length,bst:null,est:null,tdst:0,left:null,right:null};F.bst=N(j,F.i0,F.i1),F.est=S(F.bst);const $=[F];for(;$.length<C;){let _=0,P=0;for(var I=0;I<$.length;I++)$[I].est.L>_&&(_=$[I].est.L,P=I);if(_<L)break;const E=$[P],T=w(j,O,E.i0,E.i1,E.est.e,E.est.eMq255);if(E.i0>=T||E.i1<=T){E.est.L=0;continue}const D={i0:E.i0,i1:T,bst:null,est:null,tdst:0,left:null,right:null};D.bst=N(j,D.i0,D.i1),D.est=S(D.bst);const R={i0:T,i1:E.i1,bst:null,est:null,tdst:0,left:null,right:null};for(R.bst={R:[],m:[],N:E.bst.N-D.bst.N},I=0;I<16;I++)R.bst.R[I]=E.bst.R[I]-D.bst.R[I];for(I=0;I<4;I++)R.bst.m[I]=E.bst.m[I]-D.bst.m[I];R.est=S(R.bst),E.left=D,E.right=R,$[P]=D,$.push(R)}for($.sort((_,P)=>P.bst.N-_.bst.N),I=0;I<$.length;I++)$[I].ind=I;return[F,$]}function v(j,C,L,O,F){if(j.left==null)return j.tdst=function(D,R,z,q,H){const U=R-D[0],B=z-D[1],V=q-D[2],G=H-D[3];return U*U+B*B+V*V+G*G}(j.est.q,C,L,O,F),j;const $=y(j.est,C,L,O,F);let I=j.left,_=j.right;$>0&&(I=j.right,_=j.left);const P=v(I,C,L,O,F);if(P.tdst<=$*$)return P;const E=v(_,C,L,O,F);return E.tdst<P.tdst?E:P}function y(j,C,L,O,F){const{e:$}=j;return $[0]*C+$[1]*L+$[2]*O+$[3]*F-j.eMq}function w(j,C,L,O,F,$){for(O-=4;L<O;){for(;k(j,L,F)<=$;)L+=4;for(;k(j,O,F)>$;)O-=4;if(L>=O)break;const I=C[L>>2];C[L>>2]=C[O>>2],C[O>>2]=I,L+=4,O-=4}for(;k(j,L,F)>$;)L-=4;return L+4}function k(j,C,L){return j[C]*L[0]+j[C+1]*L[1]+j[C+2]*L[2]+j[C+3]*L[3]}function N(j,C,L){const O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],F=[0,0,0,0],$=L-C>>2;for(let I=C;I<L;I+=4){const _=j[I]*.00392156862745098,P=j[I+1]*(1/255),E=j[I+2]*(1/255),T=j[I+3]*(1/255);F[0]+=_,F[1]+=P,F[2]+=E,F[3]+=T,O[0]+=_*_,O[1]+=_*P,O[2]+=_*E,O[3]+=_*T,O[5]+=P*P,O[6]+=P*E,O[7]+=P*T,O[10]+=E*E,O[11]+=E*T,O[15]+=T*T}return O[4]=O[1],O[8]=O[2],O[9]=O[6],O[12]=O[3],O[13]=O[7],O[14]=O[11],{R:O,m:F,N:$}}function S(j){const{R:C}=j,{m:L}=j,{N:O}=j,F=L[0],$=L[1],I=L[2],_=L[3],P=O==0?0:1/O,E=[C[0]-F*F*P,C[1]-F*$*P,C[2]-F*I*P,C[3]-F*_*P,C[4]-$*F*P,C[5]-$*$*P,C[6]-$*I*P,C[7]-$*_*P,C[8]-I*F*P,C[9]-I*$*P,C[10]-I*I*P,C[11]-I*_*P,C[12]-_*F*P,C[13]-_*$*P,C[14]-_*I*P,C[15]-_*_*P],T=E,D=M;let R=[Math.random(),Math.random(),Math.random(),Math.random()],z=0,q=0;if(O!=0)for(let U=0;U<16&&(R=D.multVec(T,R),q=Math.sqrt(D.dot(R,R)),R=D.sml(1/q,R),!(U!=0&&Math.abs(q-z)<1e-9));U++)z=q;const H=[F*P,$*P,I*P,_*P];return{Cov:E,q:H,e:R,L:z,eMq255:D.dot(D.sml(255,H),R),eMq:D.dot(R,H),rgba:(Math.round(255*H[3])<<24|Math.round(255*H[2])<<16|Math.round(255*H[1])<<8|Math.round(255*H[0])<<0)>>>0}}var M={multVec:(j,C)=>[j[0]*C[0]+j[1]*C[1]+j[2]*C[2]+j[3]*C[3],j[4]*C[0]+j[5]*C[1]+j[6]*C[2]+j[7]*C[3],j[8]*C[0]+j[9]*C[1]+j[10]*C[2]+j[11]*C[3],j[12]*C[0]+j[13]*C[1]+j[14]*C[2]+j[15]*C[3]],dot:(j,C)=>j[0]*C[0]+j[1]*C[1]+j[2]*C[2]+j[3]*C[3],sml:(j,C)=>[j*C[0],j*C[1],j*C[2],j*C[3]]};Us.encode=function(C,L,O,F,$,I,_){F==null&&(F=0),_==null&&(_=!1);const P=d(C,L,O,F,[!1,!1,!1,0,_,!1]);return u(P,-1),c(P,L,O,$,I)},Us.encodeLL=function(C,L,O,F,$,I,_,P){const E={ctype:0+(F==1?0:2)+($==0?0:4),depth:I,frames:[]},T=(F+$)*I,D=T*L;for(let R=0;R<C.length;R++)E.frames.push({rect:{x:0,y:0,width:L,height:O},img:new Uint8Array(C[R]),blend:0,dispose:1,bpp:Math.ceil(T/8),bpl:Math.ceil(D/8)});return u(E,0,!0),c(E,L,O,_,P)},Us.encode.compress=d,Us.encode.dither=l,Us.quantize=x,Us.quantize.getKDtree=b,Us.quantize.getNearest=v})();const aA={toArrayBuffer(t,e){const n=t.width,s=t.height,i=n<<2,a=t.getContext("2d").getImageData(0,0,n,s),o=new Uint32Array(a.data.buffer),l=(32*n+31)/32<<2,c=l*s,u=122+c,d=new ArrayBuffer(u),h=new DataView(d),p=1<<20;let m,g,x,b,v=p,y=0,w=0,k=0;function N(j){h.setUint16(w,j,!0),w+=2}function S(j){h.setUint32(w,j,!0),w+=4}function M(j){w+=j}N(19778),S(u),M(4),S(122),S(108),S(n),S(-s>>>0),N(1),N(32),S(3),S(c),S(2835),S(2835),M(8),S(16711680),S(65280),S(255),S(4278190080),S(1466527264),function j(){for(;y<s&&v>0;){for(b=122+y*l,m=0;m<i;)v--,g=o[k++],x=g>>>24,h.setUint32(b+m,g<<8|x),m+=4;y++}k<o.length?(v=p,setTimeout(j,aA._dly)):e(d)}()},toBlob(t,e){this.toArrayBuffer(t,n=>{e(new Blob([n],{type:"image/bmp"}))})},_dly:9};var Un={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},Zte={[Un.CHROME]:16384,[Un.FIREFOX]:11180,[Un.DESKTOP_SAFARI]:16384,[Un.IE]:8192,[Un.IOS]:4096,[Un.ETC]:8192};const Ew=typeof window<"u",oA=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Tf=Ew&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),Qte=(Ew||oA)&&(Tf&&Tf.getOriginalSymbol(window,"File")||typeof File<"u"&&File),lA=(Ew||oA)&&(Tf&&Tf.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Pw(t,e,n=Date.now()){return new Promise(s=>{const i=t.split(","),a=i[0].match(/:(.*?);/)[1],o=globalThis.atob(i[1]);let l=o.length;const c=new Uint8Array(l);for(;l--;)c[l]=o.charCodeAt(l);const u=new Blob([c],{type:a});u.name=e,u.lastModified=n,s(u)})}function cA(t){return new Promise((e,n)=>{const s=new lA;s.onload=()=>e(s.result),s.onerror=i=>n(i),s.readAsDataURL(t)})}function dA(t){return new Promise((e,n)=>{const s=new Image;s.onload=()=>e(s),s.onerror=i=>n(i),s.src=t})}function Pa(){if(Pa.cachedResult!==void 0)return Pa.cachedResult;let t=Un.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?t=Un.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?t=Un.IOS:/Safari/i.test(e)?t=Un.DESKTOP_SAFARI:/Firefox/i.test(e)?t=Un.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(t=Un.IE),Pa.cachedResult=t,Pa.cachedResult}function uA(t,e){const n=Pa(),s=Zte[n];let i=t,a=e,o=i*a;const l=i>a?a/i:i/a;for(;o>s*s;){const c=(s+i)/2,u=(s+a)/2;c<u?(a=u,i=u*l):(a=c*l,i=c),o=i*a}return{width:i,height:a}}function Mm(t,e){let n,s;try{if(n=new OffscreenCanvas(t,e),s=n.getContext("2d"),s===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),s=n.getContext("2d")}return n.width=t,n.height=e,[n,s]}function hA(t,e){const{width:n,height:s}=uA(t.width,t.height),[i,a]=Mm(n,s);return e&&/jpe?g/.test(e)&&(a.fillStyle="white",a.fillRect(0,0,i.width,i.height)),a.drawImage(t,0,0,i.width,i.height),i}function dp(){return dp.cachedResult!==void 0||(dp.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),dp.cachedResult}function Lf(t,e={}){return new Promise(function(n,s){let i,a;var o=function(){try{return a=hA(i,e.fileType||t.type),n([i,a])}catch(c){return s(c)}},l=function(c){try{var u=function(d){try{throw d}catch(h){return s(h)}};try{let d;return cA(t).then(function(h){try{return d=h,dA(d).then(function(p){try{return i=p,function(){try{return o()}catch(m){return s(m)}}()}catch(m){return u(m)}},u)}catch(p){return u(p)}},u)}catch(d){u(d)}}catch(d){return s(d)}};try{if(dp()||[Un.DESKTOP_SAFARI,Un.MOBILE_SAFARI].includes(Pa()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then(function(c){try{return i=c,o()}catch{return l()}},l)}catch{l()}})}function Af(t,e,n,s,i=1){return new Promise(function(a,o){let l;if(e==="image/png"){let u,d,h;return u=t.getContext("2d"),{data:d}=u.getImageData(0,0,t.width,t.height),h=Us.encode([d.buffer],t.width,t.height,4096*i),l=new Blob([h],{type:e}),l.name=n,l.lastModified=s,c.call(this)}{let u=function(){return c.call(this)};if(e==="image/bmp")return new Promise(d=>aA.toBlob(t,d)).then((function(d){try{return l=d,l.name=n,l.lastModified=s,u.call(this)}catch(h){return o(h)}}).bind(this),o);{let d=function(){return u.call(this)};if(typeof OffscreenCanvas=="function"&&t instanceof OffscreenCanvas)return t.convertToBlob({type:e,quality:i}).then((function(h){try{return l=h,l.name=n,l.lastModified=s,d.call(this)}catch(p){return o(p)}}).bind(this),o);{let h;return h=t.toDataURL(e,i),Pw(h,n,s).then((function(p){try{return l=p,d.call(this)}catch(m){return o(m)}}).bind(this),o)}}}function c(){return a(l)}})}function fr(t){t.width=0,t.height=0}function Yo(){return new Promise(function(t,e){let n,s,i,a;return Yo.cachedResult!==void 0?t(Yo.cachedResult):Pw("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(o){try{return n=o,Lf(n).then(function(l){try{return s=l[1],Af(s,n.type,n.name,n.lastModified).then(function(c){try{return i=c,fr(s),Lf(i).then(function(u){try{return a=u[0],Yo.cachedResult=a.width===1&&a.height===2,t(Yo.cachedResult)}catch(d){return e(d)}},e)}catch(u){return e(u)}},e)}catch(c){return e(c)}},e)}catch(l){return e(l)}},e)})}function pA(t){return new Promise((e,n)=>{const s=new lA;s.onload=i=>{const a=new DataView(i.target.result);if(a.getUint16(0,!1)!=65496)return e(-2);const o=a.byteLength;let l=2;for(;l<o;){if(a.getUint16(l+2,!1)<=8)return e(-1);const c=a.getUint16(l,!1);if(l+=2,c==65505){if(a.getUint32(l+=2,!1)!=1165519206)return e(-1);const u=a.getUint16(l+=6,!1)==18761;l+=a.getUint32(l+4,u);const d=a.getUint16(l,u);l+=2;for(let h=0;h<d;h++)if(a.getUint16(l+12*h,u)==274)return e(a.getUint16(l+12*h+8,u))}else{if((65280&c)!=65280)break;l+=a.getUint16(l,!1)}}return e(-1)},s.onerror=i=>n(i),s.readAsArrayBuffer(t)})}function fA(t,e){const{width:n}=t,{height:s}=t,{maxWidthOrHeight:i}=e;let a,o=t;return isFinite(i)&&(n>i||s>i)&&([o,a]=Mm(n,s),n>s?(o.width=i,o.height=s/n*i):(o.width=n/s*i,o.height=i),a.drawImage(t,0,0,o.width,o.height),fr(t)),o}function mA(t,e){const{width:n}=t,{height:s}=t,[i,a]=Mm(n,s);switch(e>4&&e<9?(i.width=s,i.height=n):(i.width=n,i.height=s),e){case 2:a.transform(-1,0,0,1,n,0);break;case 3:a.transform(-1,0,0,-1,n,s);break;case 4:a.transform(1,0,0,-1,0,s);break;case 5:a.transform(0,1,1,0,0,0);break;case 6:a.transform(0,1,-1,0,s,0);break;case 7:a.transform(0,-1,-1,0,s,n);break;case 8:a.transform(0,-1,1,0,0,n)}return a.drawImage(t,0,0,n,s),fr(t),i}function IS(t,e,n=0){return new Promise(function(s,i){let a,o,l,c,u,d,h,p,m,g,x,b,v,y,w,k,N,S,M,j;function C(O=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;a+=O,e.onProgress(Math.min(a,100))}function L(O){if(e.signal&&e.signal.aborted)throw e.signal.reason;a=Math.min(Math.max(O,a),100),e.onProgress(a)}return a=n,o=e.maxIteration||10,l=1024*e.maxSizeMB*1024,C(),Lf(t,e).then((function(O){try{return[,c]=O,C(),u=fA(c,e),C(),new Promise(function(F,$){var I;if(!(I=e.exifOrientation))return pA(t).then((function(P){try{return I=P,_.call(this)}catch(E){return $(E)}}).bind(this),$);function _(){return F(I)}return _.call(this)}).then((function(F){try{return d=F,C(),Yo().then((function($){try{return h=$?u:mA(u,d),C(),p=e.initialQuality||1,m=e.fileType||t.type,Af(h,m,t.name,t.lastModified,p).then((function(I){try{{let P=function(){if(o--&&(w>l||w>v)){let T,D;return T=j?.95*M.width:M.width,D=j?.95*M.height:M.height,[N,S]=Mm(T,D),S.drawImage(M,0,0,T,D),p*=m==="image/png"?.85:.95,Af(N,m,t.name,t.lastModified,p).then(function(R){try{return k=R,fr(M),M=N,w=k.size,L(Math.min(99,Math.floor((y-w)/(y-l)*100))),P}catch(z){return i(z)}},i)}return[1]},E=function(){return fr(M),fr(N),fr(u),fr(h),fr(c),L(100),s(k)};if(g=I,C(),x=g.size>l,b=g.size>t.size,!x&&!b)return L(100),s(g);var _;return v=t.size,y=g.size,w=y,M=h,j=!e.alwaysKeepResolution&&x,(_=(function(T){for(;T;){if(T.then)return void T.then(_,i);try{if(T.pop){if(T.length)return T.pop()?E.call(this):T;T=P}else T=T.call(this)}catch(D){return i(D)}}}).bind(this))(P)}}catch(P){return i(P)}}).bind(this),i)}catch(I){return i(I)}}).bind(this),i)}catch($){return i($)}}).bind(this),i)}catch(F){return i(F)}}).bind(this),i)})}const Jte=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let P0;function ene(t,e){return new Promise((n,s)=>{P0||(P0=function(o){const l=[];return l.push(o),URL.createObjectURL(new Blob(l))}(Jte));const i=new Worker(P0);i.addEventListener("message",function(o){if(e.signal&&e.signal.aborted)i.terminate();else if(o.data.progress===void 0){if(o.data.error)return s(new Error(o.data.error)),void i.terminate();n(o.data.file),i.terminate()}else e.onProgress(o.data.progress)}),i.addEventListener("error",s),e.signal&&e.signal.addEventListener("abort",()=>{s(e.signal.reason),i.terminate()}),i.postMessage({file:t,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function vn(t,e){return new Promise(function(n,s){let i,a,o,l,c,u;if(i={...e},o=0,{onProgress:l}=i,i.maxSizeMB=i.maxSizeMB||Number.POSITIVE_INFINITY,c=typeof i.useWebWorker!="boolean"||i.useWebWorker,delete i.useWebWorker,i.onProgress=m=>{o=m,typeof l=="function"&&l(o)},!(t instanceof Blob||t instanceof Qte))return s(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return s(new Error("The file given is not an image"));if(u=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!c||typeof Worker!="function"||u)return IS(t,i).then((function(m){try{return a=m,p.call(this)}catch(g){return s(g)}}).bind(this),s);var d=(function(){try{return p.call(this)}catch(m){return s(m)}}).bind(this),h=function(m){try{return IS(t,i).then(function(g){try{return a=g,d()}catch(x){return s(x)}},s)}catch(g){return s(g)}};try{return i.libURL=i.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",ene(t,i).then(function(m){try{return a=m,d()}catch{return h()}},h)}catch{h()}function p(){try{a.name=t.name,a.lastModified=t.lastModified}catch{}try{i.preserveExif&&t.type==="image/jpeg"&&(!i.fileType||i.fileType&&i.fileType===t.type)&&(a=iA(t,a))}catch{}return n(a)}})}vn.getDataUrlFromFile=cA,vn.getFilefromDataUrl=Pw,vn.loadImage=dA,vn.drawImageInCanvas=hA,vn.drawFileInCanvas=Lf,vn.canvasToFile=Af,vn.getExifOrientation=pA,vn.handleMaxWidthOrHeight=fA,vn.followExifOrientation=mA,vn.cleanupCanvasMemory=fr,vn.isAutoOrientationInBrowser=Yo,vn.approximateBelowMaximumCanvasSizeOfBrowser=uA,vn.copyExifWithoutOrientation=iA,vn.getBrowserName=Pa,vn.version="2.0.2";const gA=({currentAvatar:t,onAvatarUpdate:e,size:n="large",showEditButton:s=!0,userName:i=""})=>{const[a,o]=f.useState(!1),[l,c]=f.useState(!1),[u,d]=f.useState(!1),[h,p]=f.useState(null),[m,g]=f.useState(""),[x,b]=f.useState(0),v=f.useRef(null),y={small:"w-12 h-12",medium:"w-16 h-16",large:"w-24 h-24",xlarge:"w-32 h-32"},w=j=>{if(j===0)return"0 Bytes";const C=1024,L=["Bytes","KB","MB","GB"],O=Math.floor(Math.log(j)/Math.log(C));return parseFloat((j/Math.pow(C,O)).toFixed(2))+" "+L[O]},k=async j=>{const C={maxSizeMB:2,maxWidthOrHeight:1920,useWebWorker:!0,onProgress:L=>{b(Math.round(L))}};try{return await vn(j,C)}catch(L){throw console.error("Compression error:",L),new Error("Failed to compress image")}},N=async j=>{const C=j.target.files[0];if(!C)return;if(!["image/jpeg","image/jpg","image/png","image/webp"].includes(C.type)){g("Please select a valid image file (JPEG, PNG, or WebP)");return}const O=30*1024*1024;if(C.size>O){g(`File size (${w(C.size)}) exceeds the 30MB limit. Please choose a smaller image.`);return}g(""),c(!0),b(0);try{let F=C;C.size>2*1024*1024&&(F=await k(C)),p(URL.createObjectURL(F)),d(!0)}catch(F){g(F.message||"Failed to process image")}finally{c(!1),b(0)}},S=async j=>{var C,L;o(!0),g("");try{const O=new FormData;O.append("avatar",j,"profile-picture.jpg");const F=await ge.post("/upload-avatar",O,{headers:{"Content-Type":"multipart/form-data"}});if(F.data.error)throw new Error(F.data.message);e(F.data.avatarUrl),d(!1),p(null),v.current&&(v.current.value="")}catch(O){console.error("Error uploading avatar:",O),g(((L=(C=O.response)==null?void 0:C.data)==null?void 0:L.message)||O.message||"Failed to upload image")}finally{o(!1)}},M=async()=>{var j,C;if(confirm("Are you sure you want to remove your profile picture?")){o(!0),g("");try{const L=await ge.patch("/update-user",{avatar:""});if(L.data.error)throw new Error(L.data.message);e("")}catch(L){console.error("Error removing avatar:",L),g(((C=(j=L.response)==null?void 0:j.data)==null?void 0:C.message)||L.message||"Failed to remove image")}finally{o(!1)}}};return r.jsxs("div",{className:"relative",children:[r.jsxs("div",{className:`${y[n]} relative rounded-2xl overflow-hidden ring-1 ring-white/10`,children:[t?r.jsx("img",{src:t,alt:"Profile",className:"w-full h-full object-cover",onError:j=>{j.target.style.display="none",j.target.nextSibling.style.display="flex"}}):null,r.jsx("div",{className:`w-full h-full flex items-center justify-center text-white font-semibold ${t?"hidden":"flex"} ${w_(i)}`,children:b_(i)}),s&&r.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 hover:opacity-100 transition-opacity flex items-center justify-center group",children:r.jsx("button",{onClick:()=>{var j;return(j=v.current)==null?void 0:j.click()},disabled:a||l,className:"p-2 rounded-lg bg-white/20 hover:bg-white/30 text-white transition-colors disabled:opacity-50 group-hover:scale-110",title:"Change profile picture",children:a||l?r.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):r.jsx(bV,{className:"w-4 h-4"})})})]}),s&&r.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[r.jsxs("button",{onClick:()=>{var j;return(j=v.current)==null?void 0:j.click()},disabled:a||l,className:"flex items-center gap-1 px-3 py-1.5 rounded-lg bg-violet-500/20 text-violet-300 hover:bg-violet-500/30 text-xs font-medium transition-all duration-200 disabled:opacity-50 hover:scale-105",children:[r.jsx(C_,{className:"w-3 h-3"}),l?"Compressing...":t?"Change Photo":"Add Photo"]}),t&&r.jsxs("button",{onClick:M,disabled:a||l,className:"flex items-center gap-1 px-3 py-1.5 rounded-lg bg-red-500/20 text-red-300 hover:bg-red-500/30 text-xs font-medium transition-all duration-200 disabled:opacity-50 hover:scale-105",children:[r.jsx(Qp,{className:"w-3 h-3"}),"Remove"]})]}),l&&r.jsxs("div",{className:"mt-2 text-xs text-blue-400 bg-blue-500/10 border border-blue-500/20 rounded-lg p-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-4 h-4 border-2 border-blue-300 border-t-blue-400 rounded-full animate-spin"}),r.jsxs("span",{children:["Compressing image... ",x,"%"]})]}),r.jsx("div",{className:"mt-1 w-full bg-blue-500/20 rounded-full h-1",children:r.jsx("div",{className:"bg-blue-400 h-1 rounded-full transition-all duration-300",style:{width:`${x}%`}})})]}),m&&r.jsx("div",{className:"mt-2 text-xs text-red-400 bg-red-500/10 border border-red-500/20 rounded-lg p-2",children:m}),r.jsx("input",{ref:v,type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:N,className:"hidden"}),u&&h&&r.jsx(qte,{imageSrc:h,onCropComplete:S,onClose:()=>{d(!1),p(null),v.current&&(v.current.value="")},aspectRatio:1,circularCrop:!0})]})};function tne(t){return Se({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.252 8 8 119.252 8 256s111.252 248 248 248 248-111.252 248-248S392.748 8 256 8zm163.97 114.366c29.503 36.046 47.369 81.957 47.835 131.955-6.984-1.477-77.018-15.682-147.502-6.818-5.752-14.041-11.181-26.393-18.617-41.614 78.321-31.977 113.818-77.482 118.284-83.523zM396.421 97.87c-3.81 5.427-35.697 48.286-111.021 76.519-34.712-63.776-73.185-116.168-79.04-124.008 67.176-16.193 137.966 1.27 190.061 47.489zm-230.48-33.25c5.585 7.659 43.438 60.116 78.537 122.509-99.087 26.313-186.36 25.934-195.834 25.809C62.38 147.205 106.678 92.573 165.941 64.62zM44.17 256.323c0-2.166.043-4.322.108-6.473 9.268.19 111.92 1.513 217.706-30.146 6.064 11.868 11.857 23.915 17.174 35.949-76.599 21.575-146.194 83.527-180.531 142.306C64.794 360.405 44.17 310.73 44.17 256.323zm81.807 167.113c22.127-45.233 82.178-103.622 167.579-132.756 29.74 77.283 42.039 142.053 45.189 160.638-68.112 29.013-150.015 21.053-212.768-27.882zm248.38 8.489c-2.171-12.886-13.446-74.897-41.152-151.033 66.38-10.626 124.7 6.768 131.947 9.055-9.442 58.941-43.273 109.844-90.795 141.978z"},child:[]}]})(t)}function nne(t){return Se({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function sne(t){return Se({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M496 256c0 137-111 248-248 248-25.6 0-50.2-3.9-73.4-11.1 10.1-16.5 25.2-43.5 30.8-65 3-11.6 15.4-59 15.4-59 8.1 15.4 31.7 28.5 56.8 28.5 74.8 0 128.7-68.8 128.7-154.3 0-81.9-66.9-143.2-152.9-143.2-107 0-163.9 71.8-163.9 150.1 0 36.4 19.4 81.7 50.3 96.1 4.7 2.2 7.2 1.2 8.3-3.3.8-3.4 5-20.3 6.9-28.1.6-2.5.3-4.7-1.7-7.1-10.1-12.5-18.3-35.3-18.3-56.6 0-54.7 41.4-107.6 112-107.6 60.9 0 103.6 41.5 103.6 100.9 0 67.1-33.9 113.6-78 113.6-24.3 0-42.6-20.1-36.7-44.8 7-29.5 20.5-61.3 20.5-82.6 0-19-10.2-34.9-31.4-34.9-24.9 0-44.9 25.7-44.9 60.2 0 22 7.4 36.8 7.4 36.8s-24.5 103.8-29 123.2c-5 21.4-3 51.6-.9 71.2C65.4 450.9 0 361.1 0 256 0 119 111 8 248 8s248 111 248 248z"},child:[]}]})(t)}function rne(t){return Se({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(t)}function ine(t){return Se({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(t)}const ane=({onEditPreferences:t})=>{const[e,n]=f.useState(null),[s,i]=f.useState(!0);return f.useEffect(()=>{(async()=>{try{const o=await ge.get("/synapse/completion-status");n(o.data)}catch(o){console.error("Error fetching completion status:",o)}finally{i(!1)}})()},[]),s||!e?null:r.jsxs("div",{className:"bg-gradient-to-r from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-500/20 rounded-lg flex items-center justify-center",children:r.jsx(xv,{className:"text-blue-400 text-xl"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-semibold",children:"Synapse Profile"}),r.jsx("p",{className:"text-gray-400 text-sm",children:e.completed?`Completed on ${new Date(e.completedAt).toLocaleDateString()}`:`${e.completionPercentage}% Complete`})]})]}),r.jsx("div",{className:"flex items-center gap-2",children:e.completed?r.jsxs("div",{className:"flex items-center gap-2 text-green-400",children:[r.jsx(Aa,{className:"text-lg"}),r.jsx("span",{className:"text-sm font-medium",children:"Complete"})]}):r.jsx("div",{className:"w-16 bg-gray-700 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${e.completionPercentage}%`}})})})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>window.location.href=e.completed?"/Synapsematches":"/Synapse",className:"flex-1 bg-blue-500/20 text-blue-400 hover:bg-blue-500/30 px-3 py-2 rounded-lg text-sm font-medium transition-colors",children:e.completed?"View Matches":"Complete Profile"}),r.jsxs("button",{onClick:t,className:"bg-gray-500/20 text-gray-400 hover:bg-gray-500/30 px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-1",children:[r.jsx(k_,{className:"text-sm"}),"Edit"]})]})]})},one=(t="")=>{const e=t.match(/^\s*(spring|summer|fall)\s+(\d{4})\s*$/i);return e?{season:e[1][0].toUpperCase()+e[1].slice(1).toLowerCase(),year:e[2]}:{season:"",year:""}},lne=(t=2010,e=new Date().getFullYear()+6)=>Array.from({length:e-t+1},(n,s)=>String(e-s));function cne({count:t=120,maxSpeed:e=.35,repelRadius:n=120,repelStrength:s=.9}){const i=f.useRef(null),a=f.useRef(0),o=f.useRef(1),l=f.useRef({x:-9999,y:-9999,active:!1}),c=f.useRef([]),u=()=>{const p=i.current;if(!p)return;const{innerWidth:m,innerHeight:g,devicePixelRatio:x=1}=window;o.current=Math.min(2,x),p.width=Math.floor(m*o.current),p.height=Math.floor(g*o.current),p.style.width=m+"px",p.style.height=g+"px"},d=()=>{const p=i.current;if(!p)return;const{width:m,height:g}=p,x=(b,v)=>b+Math.random()*(v-b);c.current=Array.from({length:t},()=>({x:x(0,m),y:x(0,g),vx:x(-e,e),vy:x(-e,e),size:x(1.2,2.8)*o.current,hue:200+Math.floor(Math.random()*80)}))},h=()=>{const p=i.current;if(!p)return;const m=p.getContext("2d"),{width:g,height:x}=p;m.clearRect(0,0,g,x);const b=m.createRadialGradient(g*.5,x*.35,0,g*.5,x*.35,Math.max(g,x)*.8);b.addColorStop(0,"rgba(46, 64, 200, 0.10)"),b.addColorStop(1,"rgba(11, 12, 15, 0)"),m.fillStyle=b,m.fillRect(0,0,g,x);const v=l.current;for(const y of c.current){if(v.active){const w=y.x-v.x*o.current,k=y.y-v.y*o.current,N=Math.hypot(w,k);if(N<n*o.current&&N>.01){const S=(n*o.current-N)/(n*o.current);y.vx+=w/N*S*s*.2,y.vy+=k/N*S*s*.2}}y.vx*=.99,y.vy*=.99,y.x+=y.vx,y.y+=y.vy,y.x<0&&(y.x=g),y.x>g&&(y.x=0),y.y<0&&(y.y=x),y.y>x&&(y.y=0),m.beginPath(),m.fillStyle=`hsla(${y.hue}, 100%, 65%, 0.6)`,m.arc(y.x,y.y,y.size,0,Math.PI*2),m.fill()}a.current=requestAnimationFrame(h)};return f.useEffect(()=>{u(),d(),a.current=requestAnimationFrame(h);const p=()=>{u(),d()},m=x=>{l.current={x:x.clientX,y:x.clientY,active:!0}},g=()=>{l.current.active=!1,l.current.x=-9999,l.current.y=-9999};return window.addEventListener("resize",p),window.addEventListener("pointermove",m,{passive:!0}),window.addEventListener("pointerleave",g),()=>{cancelAnimationFrame(a.current),window.removeEventListener("resize",p),window.removeEventListener("pointermove",m),window.removeEventListener("pointerleave",g)}},[t,e,n,s]),r.jsx("canvas",{ref:i,className:"pointer-events-none fixed inset-0 z-0 particles"})}const Ar=({className:t="",children:e})=>r.jsx("div",{className:"rounded-2xl border border-white/10 bg-white/[0.03] p-4 shadow-[0_10px_40px_-10px_rgba(0,0,0,.5)] "+t,children:e}),gc=({icon:t,children:e})=>r.jsxs("div",{className:"mb-2 flex items-center gap-2 text-xs text-white/60",children:[t&&r.jsx(t,{className:"h-4 w-4 text-violet-300/90"}),r.jsx("span",{className:"tracking-wide",children:e})]}),cn=({icon:t,text:e,onClick:n,isActionable:s=!1})=>r.jsxs("div",{className:`inline-flex items-center gap-2 rounded-lg border border-white/10 px-2.5 py-1 text-xs text-white/85 ${s?"bg-white/[0.04] hover:bg-white/[0.08] cursor-pointer transition-colors":"bg-white/[0.04]"}`,onClick:n,children:[t&&r.jsx(t,{className:"h-4 w-4 text-violet-300/90"}),r.jsx("span",{children:e||""})]}),_0=({value:t,label:e,icon:n,href:s})=>r.jsx("a",{href:s,className:"group block focus:outline-none focus-visible:ring-2 focus-visible:ring-violet-400/60 rounded-2xl transition-transform group-hover:translate-y-[-1px]",children:r.jsxs(Ar,{className:"flex h-24 items-center justify-between px-5",children:[r.jsx("div",{className:"text-4xl font-semibold text-white/95",children:t}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-white/70",children:[n&&r.jsx(n,{className:"h-5 w-5 text-violet-300/90"}),r.jsx("span",{children:e})]})]})}),hy=t=>[t.firstName,t.lastName].filter(Boolean).join(" ").trim()||"",dne=t=>{if(!t)return"";const e=new Date(t);return isNaN(e)?"":`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`},xA=t=>{const e=t||{};return{firstName:e.firstName||"",lastName:e.lastName||"",email:e.email||"",username:e.username||"",currentLocation:e.currentLocation||"",hometown:e.hometown||"",birthday:e.birthday||null,university:e.university||"",major:e.major||"",graduationDate:e.graduationDate||"",createdOn:e.createdOn||null,schoolDepartment:e.schoolDepartment||"",cohortTerm:e.cohortTerm||"",campusLabel:e.campusLabel||"",campusPlaceId:e.campusPlaceId||"",campusDisplayName:e.campusDisplayName||"",avatar:e.avatar||""}};function une({open:t,onClose:e,initialUser:n,onSaved:s}){const{isLoaded:i}=rA(),[a,o]=f.useState(!1),[l,c]=f.useState(""),[u,d]=f.useState(""),h=f.useMemo(()=>lne(2010),[]),[p,m]=f.useState(""),[g,x]=f.useState(""),[b,v]=f.useState(""),[y,w]=f.useState(""),[k,N]=f.useState(""),[S,M]=f.useState(""),[j,C]=f.useState(""),[L,O]=f.useState(""),[F,$]=f.useState(""),[I,_]=f.useState(""),[P,E]=f.useState(""),[T,D]=f.useState(""),[R,z]=f.useState(""),q=f.useRef(null);f.useEffect(()=>{if(!t||!n)return;const{season:V,year:G}=one((n==null?void 0:n.cohortTerm)||"");c(V),d(G),m(n.firstName||""),x(n.lastName||""),v(n.currentLocation||""),w(n.hometown||""),N(dne(n.birthday)),M(n.university||""),C(n.major||""),O(n.graduationDate||""),$(n.schoolDepartment||""),_(n.cohortTerm||""),E(n.campusLabel||""),D(n.campusDisplayName||""),z(n.campusPlaceId||"")},[t,n]);const H=()=>{if(!q.current)return;const V=q.current.getPlace();if(!V)return;const G=V.name||V.formatted_address||V.address_components&&V.address_components.map(Q=>Q.long_name).join(", ")||"";D(G),z(V.place_id||"")};async function U(V){var G;try{return await ge.patch("/update-user",V)}catch(Q){if(((G=Q==null?void 0:Q.response)==null?void 0:G.status)===404)return await ge.patch("/update-profile",V);throw Q}}const B=async V=>{var G,Q;if(V.preventDefault(),!a){o(!0);try{const se={firstName:p,lastName:g,currentLocation:b,hometown:y,birthday:k?new Date(k).toISOString():null,university:S,major:j,graduationDate:L,schoolDepartment:F,cohortTerm:I,campusLabel:P,campusPlaceId:R,campusDisplayName:T},{data:te}=await U(se),K=xA((te==null?void 0:te.user)||{...n||{},...se});s==null||s(K),e(),alert("Profile updated successfully!")}catch(se){const te=((Q=(G=se==null?void 0:se.response)==null?void 0:G.data)==null?void 0:Q.message)||(se==null?void 0:se.message)||"Could not save profile. Please try again.";alert(te)}finally{o(!1)}}};return t?r.jsx("div",{className:"fixed inset-0 z-[60] grid place-items-center bg-black/60 px-4",children:r.jsxs("form",{onSubmit:B,role:"dialog","aria-modal":"true","aria-labelledby":"editProfileTitle",className:"w-full max-w-3xl rounded-2xl border border-white/10 bg-[#121318] p-5 text-white shadow-2xl",children:[r.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[r.jsx("div",{id:"editProfileTitle",className:"text-lg font-semibold",children:"Edit profile"}),r.jsx("button",{type:"button",onClick:e,className:"rounded-lg border border-white/10 px-2 py-1 text-sm text-white/80 hover:bg-white/[0.07]",children:"Close"})]}),r.jsxs("div",{className:"mb-6 border-b border-white/10 pb-6",children:[r.jsx("div",{className:"mb-3 text-sm font-medium text-white/85",children:"Profile Picture"}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(gA,{currentAvatar:n==null?void 0:n.avatar,onAvatarUpdate:V=>{n&&(n.avatar=V)},size:"large",showEditButton:!0,userName:hy(n)}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm text-white/60",children:"Upload a clear photo of yourself. This helps build trust with other users."}),r.jsxs("div",{className:"text-xs text-white/40 mt-1 space-y-1",children:[r.jsx("p",{children:" Recommended: Square image, 400x400px or larger"}),r.jsx("p",{children:" Max file size: 30MB (JPEG, PNG, or WebP)"}),r.jsx("p",{children:" Large images will be automatically compressed for optimal performance"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-xs text-white/60",children:"First name"}),r.jsx("input",{value:p,onChange:V=>m(V.target.value),className:"w-full rounded-lg border border-white/10 bg-white/[0.04] px-3 py-2 text-sm outline-none",placeholder:"First name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-xs text-white/60",children:"Last name"}),r.jsx("input",{value:g,onChange:V=>x(V.target.value),className:"w-full rounded-lg border border-white/10 bg-white/[0.04] px-3 py-2 text-sm outline-none",placeholder:"Last name"})]})]}),r.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-3 sm:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-xs text-white/60",children:"Current location"}),r.jsx("input",{value:b,onChange:V=>v(V.target.value),className:"w-full rounded-lg border border-white/10 bg-white/[0.04] px-3 py-2 text-sm outline-none",placeholder:"City, State (optional)"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-xs text-white/60",children:"Hometown"}),r.jsx("input",{value:y,onChange:V=>w(V.target.value),className:"w-full rounded-lg border border-white/10 bg-white/[0.04] px-3 py-2 text-sm outline-none",placeholder:"Hometown (optional)"})]})]}),r.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-3 sm:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-xs text-white/60",children:"Birthday"}),r.jsx("input",{type:"date",value:k,onChange:V=>N(V.target.value),className:"w-full rounded-lg border border-white/10 bg-white/[0.04] px-3 py-2 text-sm outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-xs text-white/60",children:"Graduation date (Month/Year)"}),r.jsx("input",{value:L,onChange:V=>O(V.target.value),className:"w-full rounded-lg border border-white/10 bg-white/[0.04] px-3 py-2 text-sm outline-none",placeholder:"e.g., May 2026"})]})]}),r.jsxs("div",{className:"mt-6 border-t border-white/10 pt-4",children:[r.jsx("div",{className:"mb-3 text-sm font-medium text-white/85",children:"University (used for routing & distance on properties)"}),r.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-xs text-white/60",children:"University name"}),r.jsx("input",{value:S,onChange:V=>M(V.target.value),className:"w-full rounded-lg border border-white/10 bg-white/[0.04] px-3 py-2 text-sm outline-none",placeholder:"e.g., Northern Illinois University"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-xs text-white/60",children:"School / Department"}),r.jsx("input",{value:F,onChange:V=>$(V.target.value),className:"w-full rounded-lg border border-white/10 bg-white/[0.04] px-3 py-2 text-sm outline-none",placeholder:"e.g., College of Business"})]})]}),r.jsx("div",{className:"mt-3 grid grid-cols-1 gap-3 sm:grid-cols-2",children:r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-xs text-white/60",children:"Cohort / Term"}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsxs("select",{value:l,onChange:V=>c(V.target.value),className:"w-full rounded-lg border border-white/10 bg-white/[0.04] px-3 py-2 text-sm outline-none",children:[r.jsx("option",{value:"",children:"Season"}),r.jsx("option",{value:"Spring",children:"Spring"}),r.jsx("option",{value:"Summer",children:"Summer"}),r.jsx("option",{value:"Fall",children:"Fall"})]}),r.jsxs("select",{value:u,onChange:V=>d(V.target.value),className:"w-full rounded-lg border border-white/10 bg-white/[0.04] px-3 py-2 text-sm outline-none",children:[r.jsx("option",{value:"",children:"Year"}),h.map(V=>r.jsx("option",{value:V,children:V},V))]})]}),r.jsxs("p",{className:"mt-1 text-[11px] text-white/40",children:["Well store it as"," ",r.jsx("code",{children:l&&u?`${l} ${u}`:"Season YYYY"})," ","for routing and campus grouping."]})]})}),r.jsxs("div",{className:"mt-3",children:[r.jsx("label",{className:"mb-1 block text-xs text-white/60",children:"Campus (Google Maps place)"}),i?r.jsx(Cw,{onLoad:V=>q.current=V,onPlaceChanged:H,options:{fields:["place_id","name","formatted_address"],componentRestrictions:{country:"us"}},children:r.jsx("input",{value:T,onChange:V=>D(V.target.value),className:"w-full rounded-lg border border-white/10 bg-white/[0.04] px-3 py-2 text-sm outline-none",placeholder:"Search for the exact building (e.g., Barsema Hall)"})}):r.jsx("input",{disabled:!0,value:T,className:"w-full cursor-not-allowed rounded-lg border border-white/10 bg-white/[0.04] px-3 py-2 text-sm outline-none",placeholder:"Loading Google"}),r.jsx("div",{className:"mt-1 text-xs text-white/40",children:"We store the Place ID behind the scenes for accurate routing."})]})]}),r.jsxs("div",{className:"mt-5 flex items-center justify-end gap-2",children:[r.jsx("button",{type:"button",onClick:e,className:"rounded-xl border border-white/10 bg-white/[0.04] px-4 py-2 text-sm text-white/85 hover:bg-white/[0.07]",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:a,className:"rounded-xl bg-violet-500 px-4 py-2 text-sm font-semibold text-white hover:bg-violet-500/90 disabled:opacity-60",children:a?"Saving":"Save changes"})]})]})}):null}function hne(){const[t,e]=f.useState(null),[n,s]=f.useState(!0),[i,a]=f.useState(!1);return f.useEffect(()=>{(async()=>{try{const{data:o}=await ge.get("/get-user");e(xA((o==null?void 0:o.user)||{}))}catch(o){console.error("Failed to load user",o),e(null)}finally{s(!1)}})()},[]),n?r.jsxs("div",{className:"relative min-h-screen bg-[#0b0c0f] text-white",children:[r.jsx(ht,{}),r.jsx("div",{className:"mx-auto max-w-5xl px-4 py-14",children:"Loading"})]}):t?r.jsxs("div",{className:"relative min-h-screen bg-[#0b0c0f] text-white",children:[r.jsx(cne,{}),r.jsx("div",{className:"pointer-events-none fixed inset-0 z-0 bg-[radial-gradient(circle_at_center,rgba(15,25,45,0)_0%,rgba(11,12,15,0.65)_70%)]"}),r.jsx("style",{jsx:!0,children:`
        @media (prefers-reduced-motion: reduce) {
          .particles { display: none; }
        }
      `}),r.jsxs("div",{className:"relative z-10",children:[r.jsx(ht,{}),r.jsxs("main",{className:"mx-auto max-w-7xl gap-6 px-4 py-8 lg:grid lg:grid-cols-12",children:[r.jsxs("section",{className:"space-y-6 lg:col-span-4",children:[r.jsxs(Ar,{children:[r.jsx(gc,{icon:RV,children:"Quick Info"}),r.jsx("div",{className:"mb-3 text-lg font-semibold",children:"Campus profile"}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsx(cn,{icon:gv,text:t.currentLocation||"Add location",onClick:()=>a(!0),isActionable:!t.currentLocation}),r.jsx(cn,{icon:Og,text:t.university||"Add university",onClick:()=>a(!0),isActionable:!t.university}),r.jsx(cn,{icon:n5,text:t.major||"Add major",onClick:()=>a(!0),isActionable:!t.major}),r.jsx(cn,{icon:Rg,text:t.graduationDate||"Add grad date",onClick:()=>a(!0),isActionable:!t.graduationDate})]})]}),r.jsx(_0,{value:"3",label:"Listings posted",icon:ah,href:"/listings?owner=me"}),r.jsx(_0,{value:"12",label:"Saved properties",icon:Qh,href:"/saved"}),r.jsx(_0,{value:"5",label:"Active chats",icon:Rg,href:"/messages"}),r.jsx(ane,{onEditPreferences:()=>window.location.href="/Synapse?edit=true"}),r.jsxs(Ar,{children:[r.jsx(gc,{icon:ih,children:"Services"}),r.jsx("div",{className:"mb-3 text-lg font-semibold",children:"How NewRun helps"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx(cn,{icon:mV,text:"Housing"}),r.jsx(cn,{icon:Ia,text:"Marketplace"}),r.jsx(cn,{icon:ih,text:"Roommate Match"}),r.jsx(cn,{icon:ah,text:"Community"})]})]})]}),r.jsxs("section",{className:"space-y-6 lg:col-span-5",children:[r.jsxs(Ar,{className:"p-6",children:[r.jsxs("div",{className:"flex items-start gap-6",children:[r.jsxs("div",{className:"relative rounded-2xl ring-2 ring-white/10",children:[r.jsx("div",{className:"pointer-events-none absolute -inset-3 rounded-2xl bg-gradient-to-r from-violet-500/20 to-blue-500/20 blur-xl"}),r.jsx(gA,{currentAvatar:t.avatar,onAvatarUpdate:o=>{e(l=>({...l,avatar:o}))},size:"xlarge",showEditButton:!1,userName:hy(t)})]}),r.jsx("div",{className:"flex-1 space-y-2",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:"flex items-center gap-3",children:r.jsx("h2",{className:"text-3xl font-bold leading-tight text-white",children:hy(t)})}),r.jsx("div",{className:"text-sm text-white/80",children:t.email||""}),r.jsxs("div",{className:"text-xs text-white/60",children:["Member since ",t.createdOn?new Date(t.createdOn).toLocaleDateString():""]})]}),r.jsxs("button",{onClick:()=>a(!0),className:"inline-flex items-center gap-2 rounded-full bg-gradient-to-r from-violet-500 to-indigo-500 px-5 py-2.5 text-sm font-semibold text-white shadow-lg shadow-violet-500/25 hover:from-violet-500/90 hover:to-indigo-500/90 focus:outline-none focus-visible:ring-2 focus-visible:ring-violet-400/70 transition-colors",children:[r.jsx(mv,{className:"h-4 w-4"})," Edit Profile"]})]})})]}),r.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-2 sm:grid-cols-2",children:[r.jsx(cn,{icon:gv,text:t.currentLocation||"Add location",onClick:()=>a(!0),isActionable:!t.currentLocation}),r.jsx(cn,{icon:Og,text:t.university||"Add university",onClick:()=>a(!0),isActionable:!t.university}),r.jsx(cn,{icon:n5,text:t.major||"Add major",onClick:()=>a(!0),isActionable:!t.major}),r.jsx(cn,{icon:Rg,text:t.graduationDate||"Add grad date",onClick:()=>a(!0),isActionable:!t.graduationDate}),t.campusLabel||t.campusDisplayName?r.jsx(cn,{icon:Og,text:t.campusLabel||t.campusDisplayName}):null]}),r.jsx("div",{className:"mt-4 rounded-xl border border-white/10 bg-white/[0.04] p-4 text-white/85",children:t.hometown?`From ${t.hometown}. Currently at ${t.currentLocation||""}.`:"Tell others a bit about you in your profile."}),r.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-3 sm:grid-cols-2",children:[r.jsxs("button",{className:"inline-flex items-center justify-center gap-2 rounded-xl border border-emerald-400/20 bg-emerald-400/10 px-4 py-2 text-sm font-medium text-emerald-300 hover:bg-emerald-400/20 transition-colors",children:[r.jsx(rne,{className:"h-4 w-4"}),"Chat with support"]}),r.jsxs("button",{className:"inline-flex items-center justify-center gap-2 rounded-xl border border-white/10 bg-white/[0.04] px-4 py-2 text-sm text-white/70 hover:bg-white/[0.08] transition-colors",children:[r.jsx(o5,{className:"h-4 w-4"}),"Email us"]})]})]}),r.jsxs(Ar,{children:[r.jsx(gc,{icon:ih,children:"Stay connected"}),r.jsx("div",{className:"mb-3 text-lg font-semibold",children:"NewRun channels"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx(cn,{icon:ine,text:"YouTube",onClick:()=>window.open("https://youtube.com/@newrun","_blank"),isActionable:!0}),r.jsx(cn,{icon:tne,text:"Product",onClick:()=>window.open("https://dribbble.com/newrun","_blank"),isActionable:!0}),r.jsx(cn,{icon:sne,text:"Inspo",onClick:()=>window.open("https://pinterest.com/newrun","_blank"),isActionable:!0}),r.jsx(cn,{icon:nne,text:"Instagram",onClick:()=>window.open("https://instagram.com/newrun","_blank"),isActionable:!0})]})]})]}),r.jsxs("section",{className:"space-y-6 lg:col-span-3",children:[r.jsxs(Ar,{className:"p-0",children:[r.jsxs("div",{className:"p-4",children:[r.jsx(gc,{icon:Qh,children:"Get settled faster"}),r.jsx("div",{className:"text-lg font-semibold",children:"Tips"})]}),r.jsx("div",{className:"max-h-80 space-y-3 overflow-y-auto px-4 pb-4",children:[{title:"Complete your profile",text:"Add your university, school and campus to unlock walking/driving routes on property pages."},{title:"Use distance filters",text:"We show distance from your campus. Set alerts to catch good deals early."}].map((o,l)=>r.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/[0.04] p-3 text-sm text-white/80",children:[r.jsx("div",{className:"mb-1 text-white/95",children:o.title}),r.jsx("div",{children:o.text})]},l))})]}),r.jsxs(Ar,{children:[r.jsx(gc,{icon:ih,children:"Workflow"}),r.jsx("div",{className:"text-lg font-semibold",children:"NewRun Highlights"}),r.jsx("div",{className:"mt-3 space-y-2",children:["Explore housing","Match roommates","Join community","Save favorites"].map((o,l)=>r.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-white/10 bg-white/[0.04] px-3 py-2 text-sm",children:[r.jsx("span",{className:"text-white/85",children:o}),r.jsx(Aa,{className:"h-5 w-5 text-emerald-300"})]},l))})]}),r.jsxs(Ar,{children:[r.jsxs("div",{className:"mb-2 flex items-center gap-2 text-sm",children:[r.jsx("div",{className:"grid h-6 w-6 place-items-center rounded-full bg-violet-500/20 text-violet-200",children:r.jsx(Qh,{className:"h-4 w-4"})}),r.jsx("span",{className:"font-semibold",children:"Need help?"})]}),r.jsx("div",{className:"text-sm text-white/70",children:"Ping us and well help you find a place or a roommate."}),r.jsxs("div",{className:"mt-3 space-y-2",children:[r.jsxs("button",{className:"flex w-full items-center justify-between rounded-xl border border-white/10 bg-white/[0.04] px-3 py-2 text-left text-sm text-white/85 hover:bg-white/[0.07]",children:[r.jsxs("span",{className:"inline-flex items-center gap-2",children:[r.jsx(o5,{className:"h-4 w-4 text-violet-300/90"}),"Email support"]}),r.jsx(ah,{className:"h-5 w-5 text-white/50"})]}),r.jsxs("button",{className:"flex w-full items-center justify-between rounded-xl border border-white/10 bg-white/[0.04] px-3 py-2 text-left text-sm text-white/85 hover:bg-white/[0.07]",children:[r.jsxs("span",{className:"inline-flex items-center gap-2",children:[r.jsx($o,{className:"h-4 w-4 text-violet-300/90"}),"Schedule a call"]}),r.jsx(ah,{className:"h-5 w-5 text-white/50"})]})]})]})]})]})]}),r.jsx(une,{open:i,onClose:()=>a(!1),initialUser:t,onSaved:o=>e(o)})]}):r.jsxs("div",{className:"relative min-h-screen bg-[#0b0c0f] text-white",children:[r.jsx(ht,{}),r.jsx("div",{className:"mx-auto max-w-5xl px-4 py-14",children:r.jsx(Ar,{children:"Couldnt load your profile."})})]})}const _r=Object.create(null);_r.open="0";_r.close="1";_r.ping="2";_r.pong="3";_r.message="4";_r.upgrade="5";_r.noop="6";const up=Object.create(null);Object.keys(_r).forEach(t=>{up[_r[t]]=t});const py={type:"error",data:"parser error"},vA=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",yA=typeof ArrayBuffer=="function",bA=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,_w=({type:t,data:e},n,s)=>vA&&e instanceof Blob?n?s(e):OS(e,s):yA&&(e instanceof ArrayBuffer||bA(e))?n?s(e):OS(new Blob([e]),s):s(_r[t]+(e||"")),OS=(t,e)=>{const n=new FileReader;return n.onload=function(){const s=n.result.split(",")[1];e("b"+(s||""))},n.readAsDataURL(t)};function RS(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let M0;function pne(t,e){if(vA&&t.data instanceof Blob)return t.data.arrayBuffer().then(RS).then(e);if(yA&&(t.data instanceof ArrayBuffer||bA(t.data)))return e(RS(t.data));_w(t,!1,n=>{M0||(M0=new TextEncoder),e(M0.encode(n))})}const DS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Dc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<DS.length;t++)Dc[DS.charCodeAt(t)]=t;const fne=t=>{let e=t.length*.75,n=t.length,s,i=0,a,o,l,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const u=new ArrayBuffer(e),d=new Uint8Array(u);for(s=0;s<n;s+=4)a=Dc[t.charCodeAt(s)],o=Dc[t.charCodeAt(s+1)],l=Dc[t.charCodeAt(s+2)],c=Dc[t.charCodeAt(s+3)],d[i++]=a<<2|o>>4,d[i++]=(o&15)<<4|l>>2,d[i++]=(l&3)<<6|c&63;return u},mne=typeof ArrayBuffer=="function",Mw=(t,e)=>{if(typeof t!="string")return{type:"message",data:wA(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:gne(t.substring(1),e)}:up[n]?t.length>1?{type:up[n],data:t.substring(1)}:{type:up[n]}:py},gne=(t,e)=>{if(mne){const n=fne(t);return wA(n,e)}else return{base64:!0,data:t}},wA=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},jA="",xne=(t,e)=>{const n=t.length,s=new Array(n);let i=0;t.forEach((a,o)=>{_w(a,!1,l=>{s[o]=l,++i===n&&e(s.join(jA))})})},vne=(t,e)=>{const n=t.split(jA),s=[];for(let i=0;i<n.length;i++){const a=Mw(n[i],e);if(s.push(a),a.type==="error")break}return s};function yne(){return new TransformStream({transform(t,e){pne(t,n=>{const s=n.length;let i;if(s<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,s);else if(s<65536){i=new Uint8Array(3);const a=new DataView(i.buffer);a.setUint8(0,126),a.setUint16(1,s)}else{i=new Uint8Array(9);const a=new DataView(i.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(s))}t.data&&typeof t.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(n)})}})}let T0;function wh(t){return t.reduce((e,n)=>e+n.length,0)}function jh(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let s=0;for(let i=0;i<e;i++)n[i]=t[0][s++],s===t[0].length&&(t.shift(),s=0);return t.length&&s<t[0].length&&(t[0]=t[0].slice(s)),n}function bne(t,e){T0||(T0=new TextDecoder);const n=[];let s=0,i=-1,a=!1;return new TransformStream({transform(o,l){for(n.push(o);;){if(s===0){if(wh(n)<1)break;const c=jh(n,1);a=(c[0]&128)===128,i=c[0]&127,i<126?s=3:i===126?s=1:s=2}else if(s===1){if(wh(n)<2)break;const c=jh(n,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),s=3}else if(s===2){if(wh(n)<8)break;const c=jh(n,8),u=new DataView(c.buffer,c.byteOffset,c.length),d=u.getUint32(0);if(d>Math.pow(2,21)-1){l.enqueue(py);break}i=d*Math.pow(2,32)+u.getUint32(4),s=3}else{if(wh(n)<i)break;const c=jh(n,i);l.enqueue(Mw(a?c:T0.decode(c),e)),s=0}if(i===0||i>t){l.enqueue(py);break}}}})}const NA=4;function Xt(t){if(t)return wne(t)}function wne(t){for(var e in Xt.prototype)t[e]=Xt.prototype[e];return t}Xt.prototype.on=Xt.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Xt.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};Xt.prototype.off=Xt.prototype.removeListener=Xt.prototype.removeAllListeners=Xt.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var s,i=0;i<n.length;i++)if(s=n[i],s===e||s.fn===e){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+t],this};Xt.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],s=1;s<arguments.length;s++)e[s-1]=arguments[s];if(n){n=n.slice(0);for(var s=0,i=n.length;s<i;++s)n[s].apply(this,e)}return this};Xt.prototype.emitReserved=Xt.prototype.emit;Xt.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Xt.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Tm=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),Cs=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),jne="arraybuffer";function kA(t,...e){return e.reduce((n,s)=>(t.hasOwnProperty(s)&&(n[s]=t[s]),n),{})}const Nne=Cs.setTimeout,kne=Cs.clearTimeout;function Lm(t,e){e.useNativeTimers?(t.setTimeoutFn=Nne.bind(Cs),t.clearTimeoutFn=kne.bind(Cs)):(t.setTimeoutFn=Cs.setTimeout.bind(Cs),t.clearTimeoutFn=Cs.clearTimeout.bind(Cs))}const Sne=1.33;function Cne(t){return typeof t=="string"?Ene(t):Math.ceil((t.byteLength||t.size)*Sne)}function Ene(t){let e=0,n=0;for(let s=0,i=t.length;s<i;s++)e=t.charCodeAt(s),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(s++,n+=4);return n}function SA(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Pne(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function _ne(t){let e={},n=t.split("&");for(let s=0,i=n.length;s<i;s++){let a=n[s].split("=");e[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return e}class Mne extends Error{constructor(e,n,s){super(e),this.description=n,this.context=s,this.type="TransportError"}}class Tw extends Xt{constructor(e){super(),this.writable=!1,Lm(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,s){return super.emitReserved("error",new Mne(e,n,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=Mw(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=Pne(e);return n.length?"?"+n:""}}class Tne extends Tw{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let s=0;this._polling&&(s++,this.once("pollComplete",function(){--s||n()})),this.writable||(s++,this.once("drain",function(){--s||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};vne(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,xne(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=SA()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let CA=!1;try{CA=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Lne=CA;function Ane(){}class Ine extends Tne{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let s=location.port;s||(s=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||s!==e.port}}doWrite(e,n){const s=this.request({method:"POST",data:e});s.on("success",n),s.on("error",(i,a)=>{this.onError("xhr post error",i,a)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,s)=>{this.onError("xhr poll error",n,s)}),this.pollXhr=e}}let ll=class hp extends Xt{constructor(e,n,s){super(),this.createRequest=e,Lm(this,s),this._opts=s,this._method=s.method||"GET",this._uri=n,this._data=s.data!==void 0?s.data:null,this._create()}_create(){var e;const n=kA(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const s=this._xhr=this.createRequest(n);try{s.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&s.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(s),"withCredentials"in s&&(s.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(s.timeout=this._opts.requestTimeout),s.onreadystatechange=()=>{var i;s.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(s.getResponseHeader("set-cookie"))),s.readyState===4&&(s.status===200||s.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof s.status=="number"?s.status:0)},0))},s.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=hp.requestsCount++,hp.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Ane,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete hp.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};ll.requestsCount=0;ll.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",$S);else if(typeof addEventListener=="function"){const t="onpagehide"in Cs?"pagehide":"unload";addEventListener(t,$S,!1)}}function $S(){for(let t in ll.requests)ll.requests.hasOwnProperty(t)&&ll.requests[t].abort()}const One=function(){const t=EA({xdomain:!1});return t&&t.responseType!==null}();class fy extends Ine{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=One&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new ll(EA,this.uri(),e)}}function EA(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||Lne))return new XMLHttpRequest}catch{}if(!e)try{return new Cs[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const PA=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Rne extends Tw{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,s=PA?{}:kA(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,s)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const s=e[n],i=n===e.length-1;_w(s,this.supportsBinary,a=>{try{this.doWrite(s,a)}catch{}i&&Tm(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=SA()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const L0=Cs.WebSocket||Cs.MozWebSocket;class my extends Rne{createSocket(e,n,s){return PA?new L0(e,n,s):n?new L0(e,n):new L0(e)}doWrite(e,n){this.ws.send(n)}}class _A extends Tw{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=bne(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=e.readable.pipeThrough(n).getReader(),i=yne();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();const a=()=>{s.read().then(({done:l,value:c})=>{l||(this.onPacket(c),a())}).catch(l=>{})};a();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const s=e[n],i=n===e.length-1;this._writer.write(s).then(()=>{i&&Tm(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const Dne={websocket:my,webtransport:_A,polling:fy},$ne=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Fne=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function gy(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),s=t.indexOf("]");n!=-1&&s!=-1&&(t=t.substring(0,n)+t.substring(n,s).replace(/:/g,";")+t.substring(s,t.length));let i=$ne.exec(t||""),a={},o=14;for(;o--;)a[Fne[o]]=i[o]||"";return n!=-1&&s!=-1&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=zne(a,a.path),a.queryKey=Bne(a,a.query),a}function zne(t,e){const n=/\/{2,9}/g,s=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&s.splice(0,1),e.slice(-1)=="/"&&s.splice(s.length-1,1),s}function Bne(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,i,a){i&&(n[i]=a)}),n}const xy=typeof addEventListener=="function"&&typeof removeEventListener=="function",pp=[];xy&&addEventListener("offline",()=>{pp.forEach(t=>t())},!1);class Fi extends Xt{constructor(e,n){if(super(),this.binaryType=jne,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const s=gy(e);n.hostname=s.host,n.secure=s.protocol==="https"||s.protocol==="wss",n.port=s.port,s.query&&(n.query=s.query)}else n.host&&(n.hostname=gy(n.host).host);Lm(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(s=>{const i=s.prototype.name;this.transports.push(i),this._transportsByName[i]=s}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=_ne(this.opts.query)),xy&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},pp.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=NA,n.transport=e,this.id&&(n.sid=this.id);const s=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](s)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&Fi.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",Fi.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let s=0;s<this.writeBuffer.length;s++){const i=this.writeBuffer[s].data;if(i&&(n+=Cne(i)),s>0&&n>this._maxPayload)return this.writeBuffer.slice(0,s);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Tm(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,s){return this._sendPacket("message",e,n,s),this}send(e,n,s){return this._sendPacket("message",e,n,s),this}_sendPacket(e,n,s,i){if(typeof n=="function"&&(i=n,n=void 0),typeof s=="function"&&(i=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const a={type:e,data:n,options:s};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},s=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():e()}):this.upgrading?s():e()),this}_onError(e){if(Fi.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),xy&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const s=pp.indexOf(this._offlineEventListener);s!==-1&&pp.splice(s,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}Fi.protocol=NA;class Une extends Fi{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),s=!1;Fi.priorWebsocketSuccess=!1;const i=()=>{s||(n.send([{type:"ping",data:"probe"}]),n.once("packet",h=>{if(!s)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Fi.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(d(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const p=new Error("probe error");p.transport=n.name,this.emitReserved("upgradeError",p)}}))};function a(){s||(s=!0,d(),n.close(),n=null)}const o=h=>{const p=new Error("probe error: "+h);p.transport=n.name,a(),this.emitReserved("upgradeError",p)};function l(){o("transport closed")}function c(){o("socket closed")}function u(h){n&&h.name!==n.name&&a()}const d=()=>{n.removeListener("open",i),n.removeListener("error",o),n.removeListener("close",l),this.off("close",c),this.off("upgrading",u)};n.once("open",i),n.once("error",o),n.once("close",l),this.once("close",c),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{s||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let s=0;s<e.length;s++)~this.transports.indexOf(e[s])&&n.push(e[s]);return n}}let Vne=class extends Une{constructor(e,n={}){const s=typeof e=="object"?e:n;(!s.transports||s.transports&&typeof s.transports[0]=="string")&&(s.transports=(s.transports||["polling","websocket","webtransport"]).map(i=>Dne[i]).filter(i=>!!i)),super(e,s)}};function Wne(t,e="",n){let s=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),s=gy(t)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const a=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+a+":"+s.port+e,s.href=s.protocol+"://"+a+(n&&n.port===s.port?"":":"+s.port),s}const Hne=typeof ArrayBuffer=="function",qne=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,MA=Object.prototype.toString,Kne=typeof Blob=="function"||typeof Blob<"u"&&MA.call(Blob)==="[object BlobConstructor]",Gne=typeof File=="function"||typeof File<"u"&&MA.call(File)==="[object FileConstructor]";function Lw(t){return Hne&&(t instanceof ArrayBuffer||qne(t))||Kne&&t instanceof Blob||Gne&&t instanceof File}function fp(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,s=t.length;n<s;n++)if(fp(t[n]))return!0;return!1}if(Lw(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return fp(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&fp(t[n]))return!0;return!1}function Yne(t){const e=[],n=t.data,s=t;return s.data=vy(n,e),s.attachments=e.length,{packet:s,buffers:e}}function vy(t,e){if(!t)return t;if(Lw(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let s=0;s<t.length;s++)n[s]=vy(t[s],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=vy(t[s],e));return n}return t}function Xne(t,e){return t.data=yy(t.data,e),delete t.attachments,t}function yy(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=yy(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=yy(t[n],e));return t}const Zne=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],TA=5;var Ze;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Ze||(Ze={}));class Qne{constructor(e){this.replacer=e}encode(e){return(e.type===Ze.EVENT||e.type===Ze.ACK)&&fp(e)?this.encodeAsBinary({type:e.type===Ze.EVENT?Ze.BINARY_EVENT:Ze.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===Ze.BINARY_EVENT||e.type===Ze.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=Yne(e),s=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(s),i}}function FS(t){return Object.prototype.toString.call(t)==="[object Object]"}class Aw extends Xt{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const s=n.type===Ze.BINARY_EVENT;s||n.type===Ze.BINARY_ACK?(n.type=s?Ze.EVENT:Ze.ACK,this.reconstructor=new Jne(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Lw(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const s={type:Number(e.charAt(0))};if(Ze[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===Ze.BINARY_EVENT||s.type===Ze.BINARY_ACK){const a=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const o=e.substring(a,n);if(o!=Number(o)||e.charAt(n)!=="-")throw new Error("Illegal attachments");s.attachments=Number(o)}if(e.charAt(n+1)==="/"){const a=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););s.nsp=e.substring(a,n)}else s.nsp="/";const i=e.charAt(n+1);if(i!==""&&Number(i)==i){const a=n+1;for(;++n;){const o=e.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===e.length)break}s.id=Number(e.substring(a,n+1))}if(e.charAt(++n)){const a=this.tryParse(e.substr(n));if(Aw.isPayloadValid(s.type,a))s.data=a;else throw new Error("invalid payload")}return s}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case Ze.CONNECT:return FS(n);case Ze.DISCONNECT:return n===void 0;case Ze.CONNECT_ERROR:return typeof n=="string"||FS(n);case Ze.EVENT:case Ze.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&Zne.indexOf(n[0])===-1);case Ze.ACK:case Ze.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Jne{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=Xne(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const ese=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Aw,Encoder:Qne,get PacketType(){return Ze},protocol:TA},Symbol.toStringTag,{value:"Module"}));function Gs(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const tse=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Iw extends Xt{constructor(e,n,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Gs(e,"open",this.onopen.bind(this)),Gs(e,"packet",this.onpacket.bind(this)),Gs(e,"error",this.onerror.bind(this)),Gs(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var s,i,a;if(tse.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const o={type:Ze.EVENT,data:n};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const d=this.ids++,h=n.pop();this._registerAckCallback(d,h),o.id=d}const l=(i=(s=this.io.engine)===null||s===void 0?void 0:s.transport)===null||i===void 0?void 0:i.writable,c=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,n){var s;const i=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(i===void 0){this.acks[e]=n;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===e&&this.sendBuffer.splice(l,1);n.call(this,new Error("operation has timed out"))},i),o=(...l)=>{this.io.clearTimeoutFn(a),n.apply(this,l)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...n){return new Promise((s,i)=>{const a=(o,l)=>o?i(o):s(l);a.withError=!0,n.push(a),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...a)=>s!==this._queue[0]?void 0:(i!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...a)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Ze.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(s=>String(s.id)===e)){const s=this.acks[e];delete this.acks[e],s.withError&&s.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Ze.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ze.EVENT:case Ze.BINARY_EVENT:this.onevent(e);break;case Ze.ACK:case Ze.BINARY_ACK:this.onack(e);break;case Ze.DISCONNECT:this.ondisconnect();break;case Ze.CONNECT_ERROR:this.destroy();const s=new Error(e.data.message);s.data=e.data.data,this.emitReserved("connect_error",s);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const s of n)s.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let s=!1;return function(...i){s||(s=!0,n.packet({type:Ze.ACK,id:e,data:i}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ze.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let s=0;s<n.length;s++)if(e===n[s])return n.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let s=0;s<n.length;s++)if(e===n[s])return n.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const s of n)s.apply(this,e.data)}}}function ql(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}ql.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+n:t-n}return Math.min(t,this.max)|0};ql.prototype.reset=function(){this.attempts=0};ql.prototype.setMin=function(t){this.ms=t};ql.prototype.setMax=function(t){this.max=t};ql.prototype.setJitter=function(t){this.jitter=t};class If extends Xt{constructor(e,n){var s;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Lm(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((s=n.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new ql({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const i=n.parser||ese;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Vne(this.uri,this.opts);const n=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const i=Gs(n,"open",function(){s.onopen(),e&&e()}),a=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),e?e(l):this.maybeReconnectOnOpen()},o=Gs(n,"error",a);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{i(),a(new Error("timeout")),n.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Gs(e,"ping",this.onping.bind(this)),Gs(e,"data",this.ondata.bind(this)),Gs(e,"error",this.onerror.bind(this)),Gs(e,"close",this.onclose.bind(this)),Gs(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){Tm(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let s=this.nsps[e];return s?this._autoConnect&&!s.active&&s.connect():(s=new Iw(this,e,n),this.nsps[e]=s),s}_destroy(e){const n=Object.keys(this.nsps);for(const s of n)if(this.nsps[s].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let s=0;s<n.length;s++)this.engine.write(n[s],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var s;this.cleanup(),(s=this.engine)===null||s===void 0||s.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},n);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const xc={};function Ua(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=Wne(t,e.path||"/socket.io"),s=n.source,i=n.id,a=n.path,o=xc[i]&&a in xc[i].nsps,l=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let c;return l?c=new If(s,e):(xc[i]||(xc[i]=new If(s,e)),c=xc[i]),n.query&&!e.query&&(e.query=n.queryKey),c.socket(n.path,e)}Object.assign(Ua,{Manager:If,Socket:Iw,io:Ua,connect:Ua});const Ow=Object.freeze(Object.defineProperty({__proto__:null,Manager:If,NodeWebSocket:my,NodeXHR:fy,Socket:Iw,WebSocket:my,WebTransport:_A,XHR:fy,connect:Ua,default:Ua,io:Ua,protocol:TA},Symbol.toStringTag,{value:"Module"}));function Of(t){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Of(t)}function Qa(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Fn(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function Mr(t){Fn(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||Of(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function nse(t,e){Fn(2,arguments);var n=Mr(t).getTime(),s=Qa(e);return new Date(n+s)}var sse={};function Am(){return sse}function rse(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function ise(t){return Fn(1,arguments),t instanceof Date||Of(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function ase(t){if(Fn(1,arguments),!ise(t)&&typeof t!="number")return!1;var e=Mr(t);return!isNaN(Number(e))}function ose(t,e){Fn(2,arguments);var n=Qa(e);return nse(t,-n)}var lse=864e5;function cse(t){Fn(1,arguments);var e=Mr(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var s=e.getTime(),i=n-s;return Math.floor(i/lse)+1}function Rf(t){Fn(1,arguments);var e=1,n=Mr(t),s=n.getUTCDay(),i=(s<e?7:0)+s-e;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function LA(t){Fn(1,arguments);var e=Mr(t),n=e.getUTCFullYear(),s=new Date(0);s.setUTCFullYear(n+1,0,4),s.setUTCHours(0,0,0,0);var i=Rf(s),a=new Date(0);a.setUTCFullYear(n,0,4),a.setUTCHours(0,0,0,0);var o=Rf(a);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function dse(t){Fn(1,arguments);var e=LA(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var s=Rf(n);return s}var use=6048e5;function hse(t){Fn(1,arguments);var e=Mr(t),n=Rf(e).getTime()-dse(e).getTime();return Math.round(n/use)+1}function Df(t,e){var n,s,i,a,o,l,c,u;Fn(1,arguments);var d=Am(),h=Qa((n=(s=(i=(a=e==null?void 0:e.weekStartsOn)!==null&&a!==void 0?a:e==null||(o=e.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&i!==void 0?i:d.weekStartsOn)!==null&&s!==void 0?s:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Mr(t),m=p.getUTCDay(),g=(m<h?7:0)+m-h;return p.setUTCDate(p.getUTCDate()-g),p.setUTCHours(0,0,0,0),p}function AA(t,e){var n,s,i,a,o,l,c,u;Fn(1,arguments);var d=Mr(t),h=d.getUTCFullYear(),p=Am(),m=Qa((n=(s=(i=(a=e==null?void 0:e.firstWeekContainsDate)!==null&&a!==void 0?a:e==null||(o=e.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&i!==void 0?i:p.firstWeekContainsDate)!==null&&s!==void 0?s:(c=p.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(h+1,0,m),g.setUTCHours(0,0,0,0);var x=Df(g,e),b=new Date(0);b.setUTCFullYear(h,0,m),b.setUTCHours(0,0,0,0);var v=Df(b,e);return d.getTime()>=x.getTime()?h+1:d.getTime()>=v.getTime()?h:h-1}function pse(t,e){var n,s,i,a,o,l,c,u;Fn(1,arguments);var d=Am(),h=Qa((n=(s=(i=(a=e==null?void 0:e.firstWeekContainsDate)!==null&&a!==void 0?a:e==null||(o=e.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&i!==void 0?i:d.firstWeekContainsDate)!==null&&s!==void 0?s:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),p=AA(t,e),m=new Date(0);m.setUTCFullYear(p,0,h),m.setUTCHours(0,0,0,0);var g=Df(m,e);return g}var fse=6048e5;function mse(t,e){Fn(1,arguments);var n=Mr(t),s=Df(n,e).getTime()-pse(n,e).getTime();return Math.round(s/fse)+1}function it(t,e){for(var n=t<0?"-":"",s=Math.abs(t).toString();s.length<e;)s="0"+s;return n+s}var ni={y:function(e,n){var s=e.getUTCFullYear(),i=s>0?s:1-s;return it(n==="yy"?i%100:i,n.length)},M:function(e,n){var s=e.getUTCMonth();return n==="M"?String(s+1):it(s+1,2)},d:function(e,n){return it(e.getUTCDate(),n.length)},a:function(e,n){var s=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h:function(e,n){return it(e.getUTCHours()%12||12,n.length)},H:function(e,n){return it(e.getUTCHours(),n.length)},m:function(e,n){return it(e.getUTCMinutes(),n.length)},s:function(e,n){return it(e.getUTCSeconds(),n.length)},S:function(e,n){var s=n.length,i=e.getUTCMilliseconds(),a=Math.floor(i*Math.pow(10,s-3));return it(a,n.length)}},yo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},gse={G:function(e,n,s){var i=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return s.era(i,{width:"abbreviated"});case"GGGGG":return s.era(i,{width:"narrow"});case"GGGG":default:return s.era(i,{width:"wide"})}},y:function(e,n,s){if(n==="yo"){var i=e.getUTCFullYear(),a=i>0?i:1-i;return s.ordinalNumber(a,{unit:"year"})}return ni.y(e,n)},Y:function(e,n,s,i){var a=AA(e,i),o=a>0?a:1-a;if(n==="YY"){var l=o%100;return it(l,2)}return n==="Yo"?s.ordinalNumber(o,{unit:"year"}):it(o,n.length)},R:function(e,n){var s=LA(e);return it(s,n.length)},u:function(e,n){var s=e.getUTCFullYear();return it(s,n.length)},Q:function(e,n,s){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return it(i,2);case"Qo":return s.ordinalNumber(i,{unit:"quarter"});case"QQQ":return s.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,n,s){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return it(i,2);case"qo":return s.ordinalNumber(i,{unit:"quarter"});case"qqq":return s.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,n,s){var i=e.getUTCMonth();switch(n){case"M":case"MM":return ni.M(e,n);case"Mo":return s.ordinalNumber(i+1,{unit:"month"});case"MMM":return s.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(i,{width:"wide",context:"formatting"})}},L:function(e,n,s){var i=e.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return it(i+1,2);case"Lo":return s.ordinalNumber(i+1,{unit:"month"});case"LLL":return s.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(i,{width:"wide",context:"standalone"})}},w:function(e,n,s,i){var a=mse(e,i);return n==="wo"?s.ordinalNumber(a,{unit:"week"}):it(a,n.length)},I:function(e,n,s){var i=hse(e);return n==="Io"?s.ordinalNumber(i,{unit:"week"}):it(i,n.length)},d:function(e,n,s){return n==="do"?s.ordinalNumber(e.getUTCDate(),{unit:"date"}):ni.d(e,n)},D:function(e,n,s){var i=cse(e);return n==="Do"?s.ordinalNumber(i,{unit:"dayOfYear"}):it(i,n.length)},E:function(e,n,s){var i=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return s.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(i,{width:"short",context:"formatting"});case"EEEE":default:return s.day(i,{width:"wide",context:"formatting"})}},e:function(e,n,s,i){var a=e.getUTCDay(),o=(a-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return it(o,2);case"eo":return s.ordinalNumber(o,{unit:"day"});case"eee":return s.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(a,{width:"short",context:"formatting"});case"eeee":default:return s.day(a,{width:"wide",context:"formatting"})}},c:function(e,n,s,i){var a=e.getUTCDay(),o=(a-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return it(o,n.length);case"co":return s.ordinalNumber(o,{unit:"day"});case"ccc":return s.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(a,{width:"narrow",context:"standalone"});case"cccccc":return s.day(a,{width:"short",context:"standalone"});case"cccc":default:return s.day(a,{width:"wide",context:"standalone"})}},i:function(e,n,s){var i=e.getUTCDay(),a=i===0?7:i;switch(n){case"i":return String(a);case"ii":return it(a,n.length);case"io":return s.ordinalNumber(a,{unit:"day"});case"iii":return s.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(i,{width:"short",context:"formatting"});case"iiii":default:return s.day(i,{width:"wide",context:"formatting"})}},a:function(e,n,s){var i=e.getUTCHours(),a=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,n,s){var i=e.getUTCHours(),a;switch(i===12?a=yo.noon:i===0?a=yo.midnight:a=i/12>=1?"pm":"am",n){case"b":case"bb":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,n,s){var i=e.getUTCHours(),a;switch(i>=17?a=yo.evening:i>=12?a=yo.afternoon:i>=4?a=yo.morning:a=yo.night,n){case"B":case"BB":case"BBB":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,n,s){if(n==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),s.ordinalNumber(i,{unit:"hour"})}return ni.h(e,n)},H:function(e,n,s){return n==="Ho"?s.ordinalNumber(e.getUTCHours(),{unit:"hour"}):ni.H(e,n)},K:function(e,n,s){var i=e.getUTCHours()%12;return n==="Ko"?s.ordinalNumber(i,{unit:"hour"}):it(i,n.length)},k:function(e,n,s){var i=e.getUTCHours();return i===0&&(i=24),n==="ko"?s.ordinalNumber(i,{unit:"hour"}):it(i,n.length)},m:function(e,n,s){return n==="mo"?s.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):ni.m(e,n)},s:function(e,n,s){return n==="so"?s.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):ni.s(e,n)},S:function(e,n){return ni.S(e,n)},X:function(e,n,s,i){var a=i._originalDate||e,o=a.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return BS(o);case"XXXX":case"XX":return ma(o);case"XXXXX":case"XXX":default:return ma(o,":")}},x:function(e,n,s,i){var a=i._originalDate||e,o=a.getTimezoneOffset();switch(n){case"x":return BS(o);case"xxxx":case"xx":return ma(o);case"xxxxx":case"xxx":default:return ma(o,":")}},O:function(e,n,s,i){var a=i._originalDate||e,o=a.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+zS(o,":");case"OOOO":default:return"GMT"+ma(o,":")}},z:function(e,n,s,i){var a=i._originalDate||e,o=a.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+zS(o,":");case"zzzz":default:return"GMT"+ma(o,":")}},t:function(e,n,s,i){var a=i._originalDate||e,o=Math.floor(a.getTime()/1e3);return it(o,n.length)},T:function(e,n,s,i){var a=i._originalDate||e,o=a.getTime();return it(o,n.length)}};function zS(t,e){var n=t>0?"-":"+",s=Math.abs(t),i=Math.floor(s/60),a=s%60;if(a===0)return n+String(i);var o=e;return n+String(i)+o+it(a,2)}function BS(t,e){if(t%60===0){var n=t>0?"-":"+";return n+it(Math.abs(t)/60,2)}return ma(t,e)}function ma(t,e){var n=e||"",s=t>0?"-":"+",i=Math.abs(t),a=it(Math.floor(i/60),2),o=it(i%60,2);return s+a+n+o}var US=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},IA=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},xse=function(e,n){var s=e.match(/(P+)(p+)?/)||[],i=s[1],a=s[2];if(!a)return US(e,n);var o;switch(i){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",US(i,n)).replace("{{time}}",IA(a,n))},vse={p:IA,P:xse},yse=["D","DD"],bse=["YY","YYYY"];function wse(t){return yse.indexOf(t)!==-1}function jse(t){return bse.indexOf(t)!==-1}function VS(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Nse={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},kse=function(e,n,s){var i,a=Nse[e];return typeof a=="string"?i=a:n===1?i=a.one:i=a.other.replace("{{count}}",n.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+i:i+" ago":i};function A0(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,s=t.formats[n]||t.formats[t.defaultWidth];return s}}var Sse={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Cse={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Ese={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Pse={date:A0({formats:Sse,defaultWidth:"full"}),time:A0({formats:Cse,defaultWidth:"full"}),dateTime:A0({formats:Ese,defaultWidth:"full"})},_se={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Mse=function(e,n,s,i){return _se[e]};function vc(t){return function(e,n){var s=n!=null&&n.context?String(n.context):"standalone",i;if(s==="formatting"&&t.formattingValues){var a=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):a;i=t.formattingValues[o]||t.formattingValues[a]}else{var l=t.defaultWidth,c=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[c]||t.values[l]}var u=t.argumentCallback?t.argumentCallback(e):e;return i[u]}}var Tse={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Lse={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Ase={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Ise={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ose={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Rse={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Dse=function(e,n){var s=Number(e),i=s%100;if(i>20||i<10)switch(i%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},$se={ordinalNumber:Dse,era:vc({values:Tse,defaultWidth:"wide"}),quarter:vc({values:Lse,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:vc({values:Ase,defaultWidth:"wide"}),day:vc({values:Ise,defaultWidth:"wide"}),dayPeriod:vc({values:Ose,defaultWidth:"wide",formattingValues:Rse,defaultFormattingWidth:"wide"})};function yc(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.width,i=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;var o=a[0],l=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?zse(l,function(h){return h.test(o)}):Fse(l,function(h){return h.test(o)}),u;u=t.valueCallback?t.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;var d=e.slice(o.length);return{value:u,rest:d}}}function Fse(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function zse(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function Bse(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=e.match(t.matchPattern);if(!s)return null;var i=s[0],a=e.match(t.parsePattern);if(!a)return null;var o=t.valueCallback?t.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;var l=e.slice(i.length);return{value:o,rest:l}}}var Use=/^(\d+)(th|st|nd|rd)?/i,Vse=/\d+/i,Wse={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Hse={any:[/^b/i,/^(a|c)/i]},qse={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Kse={any:[/1/i,/2/i,/3/i,/4/i]},Gse={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Yse={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Xse={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Zse={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Qse={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Jse={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ere={ordinalNumber:Bse({matchPattern:Use,parsePattern:Vse,valueCallback:function(e){return parseInt(e,10)}}),era:yc({matchPatterns:Wse,defaultMatchWidth:"wide",parsePatterns:Hse,defaultParseWidth:"any"}),quarter:yc({matchPatterns:qse,defaultMatchWidth:"wide",parsePatterns:Kse,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:yc({matchPatterns:Gse,defaultMatchWidth:"wide",parsePatterns:Yse,defaultParseWidth:"any"}),day:yc({matchPatterns:Xse,defaultMatchWidth:"wide",parsePatterns:Zse,defaultParseWidth:"any"}),dayPeriod:yc({matchPatterns:Qse,defaultMatchWidth:"any",parsePatterns:Jse,defaultParseWidth:"any"})},tre={code:"en-US",formatDistance:kse,formatLong:Pse,formatRelative:Mse,localize:$se,match:ere,options:{weekStartsOn:0,firstWeekContainsDate:1}},nre=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,sre=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,rre=/^'([^]*?)'?$/,ire=/''/g,are=/[a-zA-Z]/;function Nh(t,e,n){var s,i,a,o,l,c,u,d,h,p,m,g,x,b;Fn(2,arguments);var v=String(e),y=Am(),w=(s=(i=void 0)!==null&&i!==void 0?i:y.locale)!==null&&s!==void 0?s:tre,k=Qa((a=(o=(l=(c=void 0)!==null&&c!==void 0?c:void 0)!==null&&l!==void 0?l:y.firstWeekContainsDate)!==null&&o!==void 0?o:(u=y.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(k>=1&&k<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var N=Qa((h=(p=(m=(g=void 0)!==null&&g!==void 0?g:void 0)!==null&&m!==void 0?m:y.weekStartsOn)!==null&&p!==void 0?p:(x=y.locale)===null||x===void 0||(b=x.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&h!==void 0?h:0);if(!(N>=0&&N<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!w.localize)throw new RangeError("locale must contain localize property");if(!w.formatLong)throw new RangeError("locale must contain formatLong property");var S=Mr(t);if(!ase(S))throw new RangeError("Invalid time value");var M=rse(S),j=ose(S,M),C={firstWeekContainsDate:k,weekStartsOn:N,locale:w,_originalDate:S},L=v.match(sre).map(function(O){var F=O[0];if(F==="p"||F==="P"){var $=vse[F];return $(O,w.formatLong)}return O}).join("").match(nre).map(function(O){if(O==="''")return"'";var F=O[0];if(F==="'")return ore(O);var $=gse[F];if($)return jse(O)&&VS(O,e,String(t)),wse(O)&&VS(O,e,String(t)),$(j,O,w.localize,C);if(F.match(are))throw new RangeError("Format string contains an unescaped latin alphabet character `"+F+"`");return O}).join("");return L}function ore(t){var e=t.match(rre);return e?e[1].replace(ire,"'"):t}const bc=Ua("http://localhost:8000"),WS=()=>{const[t]=IP(),[e,n]=f.useState(null),[s,i]=f.useState([]),[a,o]=f.useState(null),[l,c]=f.useState([]),[u,d]=f.useState(""),[h,p]=f.useState(null),m=f.useRef(null),g=t.get("to");t.get("ctx");const x=t.get("message"),b=N=>{if(!N)return"";try{return decodeURIComponent(N)}catch{try{const M=N.replace(/%27/g,"'");return decodeURIComponent(M)}catch{try{const j=N.replace(/%20/g," ").replace(/%0A/g,`
`);return decodeURIComponent(j)}catch{return console.warn("All decoding methods failed, returning original message"),N}}}};f.useEffect(()=>{(async()=>{try{const S=await ge.get("/get-user");S.data&&S.data.user&&(n(S.data.user._id),v(),bc.emit("join_user",S.data.user._id))}catch(S){console.error("Unexpected error fetching user info:",S)}})()},[]),f.useEffect(()=>{if(x){const N=b(x);d(N)}},[x]),f.useEffect(()=>{const N=async()=>{if(g&&e&&s.length>0){const S=s.find(M=>M.participants.some(j=>j._id===g));if(S)y(S._id);else try{(await ge.post("/conversations/initiate",{receiverId:g})).data.success&&v()}catch(M){console.error("Error creating conversation:",M)}}};g&&e&&s.length>0&&N()},[g,e,s]);const v=async()=>{try{const N=await ge.get("/conversations");N.data.success&&i(N.data.data)}catch(N){console.error("Error fetching conversations:",N)}},y=async N=>{try{o(N);const S=await ge.get(`/conversations/${N}/messages`);if(S.data.success){c(S.data.data);const j=s.find(C=>C._id===N).participants.find(C=>C._id!==e);p(j),bc.emit("join_conversation",N)}}catch(S){console.error("Error fetching messages:",S)}};f.useEffect(()=>(bc.on("receive_message",N=>{N.conversationId===a&&(c(S=>[...S,N]),v())}),()=>{bc.off("receive_message")}),[a]),f.useEffect(()=>{m.current&&m.current.scrollIntoView({behavior:"smooth"})},[l]);const w=async()=>{if(!u.trim()||!a)return;const N={conversationId:a,content:u,senderId:e};try{const S=await ge.post("/messages/send",N);S.data.success&&(bc.emit("send_message",N),d(""),c([...l,S.data.data]),v())}catch(S){console.error("Error sending message:",S)}},k=()=>{let N=null;return l.map((S,M)=>{var I,_;const j=new Date(S.timestamp),C=Nh(j,"MMM dd, yyyy"),L=S.senderId===e||S.senderId&&S.senderId._id===e,O=L?"You":`${((I=S.senderId)==null?void 0:I.firstName)||""} ${((_=S.senderId)==null?void 0:_.lastName)||""}`,F=L?"You":`${O.split(" ").map(P=>P[0]).join("")}`;let $=null;return(!N||C!==Nh(N,"MMM dd, yyyy"))&&($=r.jsx("div",{className:"flex items-center justify-center my-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"h-px bg-white/20 flex-1"}),r.jsx("span",{className:"px-3 py-1 bg-white/10 text-white/60 text-xs rounded-full",children:C}),r.jsx("div",{className:"h-px bg-white/20 flex-1"})]})},`date-${C}`),N=j),r.jsxs(_e.Fragment,{children:[$,r.jsxs("div",{className:`flex gap-3 ${L?"justify-end":"justify-start"}`,children:[!L&&r.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-teal-500 to-blue-500 flex items-center justify-center text-white font-semibold text-xs flex-shrink-0",children:F.slice(0,2)}),r.jsxs("div",{className:`max-w-md ${L?"order-first":""}`,children:[r.jsx("div",{className:`px-4 py-3 rounded-2xl shadow-lg ${L?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-blue-500/30":"bg-white/10 text-white border border-white/20 backdrop-blur-sm"}`,children:r.jsx("p",{className:"text-sm leading-relaxed whitespace-pre-wrap",children:S.content})}),r.jsx("p",{className:`text-xs text-white/40 mt-1 ${L?"text-right":"text-left"}`,children:Nh(new Date(S.timestamp),"h:mm a")})]}),L&&r.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center text-white font-semibold text-xs flex-shrink-0",children:"You"})]})]},M)})};return r.jsxs("div",{className:"min-h-screen bg-[#0b0c0f] relative",children:[r.jsx("div",{className:"absolute inset-0 bg-[#0b0c0f]"}),r.jsx("div",{className:"absolute inset-0 opacity-100",style:{backgroundImage:`url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='26' height='26' viewBox='0 0 26 26'><circle cx='1' cy='1' r='1.2' fill='%23ffffff' opacity='0.06'/></svg>")`}}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#0b0c0f] via-[#0f1115] to-[#0b0c0f]"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/5 via-purple-600/5 to-teal-600/5"}),r.jsx("div",{className:"absolute top-20 left-20 w-96 h-96 bg-gradient-to-r from-blue-500/10 to-purple-500/10 rounded-full blur-3xl animate-pulse"}),r.jsx("div",{className:"absolute bottom-20 right-20 w-80 h-80 bg-gradient-to-r from-teal-500/10 to-blue-500/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}}),r.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-gradient-to-r from-purple-500/5 to-pink-500/5 rounded-full blur-2xl animate-pulse",style:{animationDelay:"4s"}}),r.jsx(ht,{}),r.jsxs("div",{className:"relative z-10 flex h-[calc(100vh-80px)] backdrop-blur-sm",children:[r.jsxs("div",{className:"w-80 bg-[#0f1115]/80 backdrop-blur-xl border-r border-white/10 flex flex-col shadow-2xl",children:[r.jsxs("div",{className:"p-6 border-b border-white/10 bg-gradient-to-r from-white/5 to-transparent",children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Messages"}),r.jsxs("p",{className:"text-white/60 text-sm",children:[s.length," conversations"]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:s.map(N=>{var j,C;const S=N.participants.filter(L=>L._id!==e),M=S.length>0?S.map(L=>`${L.firstName} ${L.lastName}`).join(", "):"Unknown User";return r.jsx("div",{onClick:()=>y(N._id),className:`p-4 cursor-pointer transition-all duration-200 rounded-xl border-l-4 ${a===N._id?"bg-gradient-to-r from-blue-500/10 to-purple-500/10 border-blue-500 shadow-lg shadow-blue-500/20":"hover:bg-white/5 border-transparent hover:border-white/20"}`,children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center text-white font-semibold shadow-lg",children:M.split(" ").map(L=>L[0]).join("").slice(0,2)}),r.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-400 rounded-full border-2 border-[#0f1115] animate-pulse"})]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"font-semibold text-white truncate",children:M}),r.jsx("p",{className:"text-sm text-white/60 truncate",children:((j=N.lastMessage)==null?void 0:j.content)||"No messages yet"})]}),r.jsx("div",{className:"text-xs text-white/40 bg-white/10 px-2 py-1 rounded-full",children:(C=N.lastMessage)!=null&&C.timestamp?Nh(new Date(N.lastMessage.timestamp),"MMM dd"):""})]})},N._id)})})]}),r.jsx("div",{className:"flex-1 flex flex-col bg-[#0b0c0f]/80 backdrop-blur-xl",children:h?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"p-6 border-b border-white/10 bg-[#0f1115]/80 backdrop-blur-xl",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-teal-500 to-blue-500 flex items-center justify-center text-white font-semibold shadow-lg",children:h.firstName[0]+h.lastName[0]}),r.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-400 rounded-full border-2 border-[#0b0c0f] animate-pulse"})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-white",children:`${h.firstName} ${h.lastName}`}),r.jsxs("p",{className:"text-sm text-green-400 flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),"Online"]})]})]})}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[k(),r.jsx("div",{ref:m})]}),r.jsx("div",{className:"p-6 border-t border-white/10 bg-[#0f1115]/80 backdrop-blur-xl",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"flex-1 relative",children:r.jsx("input",{type:"text",value:u,onChange:N=>d(N.target.value),onKeyPress:N=>N.key==="Enter"&&w(),placeholder:"Type your message...",className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 backdrop-blur-sm shadow-lg"})}),r.jsx("button",{onClick:w,disabled:!a||!u.trim(),className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-500 text-white font-semibold rounded-xl disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-lg hover:shadow-blue-500/30 transition-all duration-200",children:"Send"})]})})]}):r.jsx("div",{className:"flex-1 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-24 h-24 mx-auto mb-6 rounded-full bg-gradient-to-r from-blue-500/20 to-purple-500/20 flex items-center justify-center",children:r.jsx("svg",{className:"w-12 h-12 text-white/60",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Select a conversation"}),r.jsx("p",{className:"text-white/60",children:"Choose a conversation from the sidebar to start chatting"})]})})})]})]})};var Rw={};(function t(e,n,s,i){var a=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),o=typeof Path2D=="function"&&typeof DOMMatrix=="function",l=function(){if(!e.OffscreenCanvas)return!1;var R=new OffscreenCanvas(1,1),z=R.getContext("2d");z.fillRect(0,0,1,1);var q=R.transferToImageBitmap();try{z.createPattern(q,"no-repeat")}catch{return!1}return!0}();function c(){}function u(R){var z=n.exports.Promise,q=z!==void 0?z:e.Promise;return typeof q=="function"?new q(R):(R(c,c),null)}var d=function(R,z){return{transform:function(q){if(R)return q;if(z.has(q))return z.get(q);var H=new OffscreenCanvas(q.width,q.height),U=H.getContext("2d");return U.drawImage(q,0,0),z.set(q,H),H},clear:function(){z.clear()}}}(l,new Map),h=function(){var R=Math.floor(16.666666666666668),z,q,H={},U=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(z=function(B){var V=Math.random();return H[V]=requestAnimationFrame(function G(Q){U===Q||U+R-1<Q?(U=Q,delete H[V],B()):H[V]=requestAnimationFrame(G)}),V},q=function(B){H[B]&&cancelAnimationFrame(H[B])}):(z=function(B){return setTimeout(B,R)},q=function(B){return clearTimeout(B)}),{frame:z,cancel:q}}(),p=function(){var R,z,q={};function H(U){function B(V,G){U.postMessage({options:V||{},callback:G})}U.init=function(G){var Q=G.transferControlToOffscreen();U.postMessage({canvas:Q},[Q])},U.fire=function(G,Q,se){if(z)return B(G,null),z;var te=Math.random().toString(36).slice(2);return z=u(function(K){function J(fe){fe.data.callback===te&&(delete q[te],U.removeEventListener("message",J),z=null,d.clear(),se(),K())}U.addEventListener("message",J),B(G,te),q[te]=J.bind(null,{data:{callback:te}})}),z},U.reset=function(){U.postMessage({reset:!0});for(var G in q)q[G](),delete q[G]}}return function(){if(R)return R;if(!s&&a){var U=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{R=new Worker(URL.createObjectURL(new Blob([U])))}catch(B){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn(" Could not load worker",B),null}H(R)}return R}}(),m={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function g(R,z){return z?z(R):R}function x(R){return R!=null}function b(R,z,q){return g(R&&x(R[z])?R[z]:m[z],q)}function v(R){return R<0?0:Math.floor(R)}function y(R,z){return Math.floor(Math.random()*(z-R))+R}function w(R){return parseInt(R,16)}function k(R){return R.map(N)}function N(R){var z=String(R).replace(/[^0-9a-f]/gi,"");return z.length<6&&(z=z[0]+z[0]+z[1]+z[1]+z[2]+z[2]),{r:w(z.substring(0,2)),g:w(z.substring(2,4)),b:w(z.substring(4,6))}}function S(R){var z=b(R,"origin",Object);return z.x=b(z,"x",Number),z.y=b(z,"y",Number),z}function M(R){R.width=document.documentElement.clientWidth,R.height=document.documentElement.clientHeight}function j(R){var z=R.getBoundingClientRect();R.width=z.width,R.height=z.height}function C(R){var z=document.createElement("canvas");return z.style.position="fixed",z.style.top="0px",z.style.left="0px",z.style.pointerEvents="none",z.style.zIndex=R,z}function L(R,z,q,H,U,B,V,G,Q){R.save(),R.translate(z,q),R.rotate(B),R.scale(H,U),R.arc(0,0,1,V,G,Q),R.restore()}function O(R){var z=R.angle*(Math.PI/180),q=R.spread*(Math.PI/180);return{x:R.x,y:R.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:R.startVelocity*.5+Math.random()*R.startVelocity,angle2D:-z+(.5*q-Math.random()*q),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:R.color,shape:R.shape,tick:0,totalTicks:R.ticks,decay:R.decay,drift:R.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:R.gravity*3,ovalScalar:.6,scalar:R.scalar,flat:R.flat}}function F(R,z){z.x+=Math.cos(z.angle2D)*z.velocity+z.drift,z.y+=Math.sin(z.angle2D)*z.velocity+z.gravity,z.velocity*=z.decay,z.flat?(z.wobble=0,z.wobbleX=z.x+10*z.scalar,z.wobbleY=z.y+10*z.scalar,z.tiltSin=0,z.tiltCos=0,z.random=1):(z.wobble+=z.wobbleSpeed,z.wobbleX=z.x+10*z.scalar*Math.cos(z.wobble),z.wobbleY=z.y+10*z.scalar*Math.sin(z.wobble),z.tiltAngle+=.1,z.tiltSin=Math.sin(z.tiltAngle),z.tiltCos=Math.cos(z.tiltAngle),z.random=Math.random()+2);var q=z.tick++/z.totalTicks,H=z.x+z.random*z.tiltCos,U=z.y+z.random*z.tiltSin,B=z.wobbleX+z.random*z.tiltCos,V=z.wobbleY+z.random*z.tiltSin;if(R.fillStyle="rgba("+z.color.r+", "+z.color.g+", "+z.color.b+", "+(1-q)+")",R.beginPath(),o&&z.shape.type==="path"&&typeof z.shape.path=="string"&&Array.isArray(z.shape.matrix))R.fill(E(z.shape.path,z.shape.matrix,z.x,z.y,Math.abs(B-H)*.1,Math.abs(V-U)*.1,Math.PI/10*z.wobble));else if(z.shape.type==="bitmap"){var G=Math.PI/10*z.wobble,Q=Math.abs(B-H)*.1,se=Math.abs(V-U)*.1,te=z.shape.bitmap.width*z.scalar,K=z.shape.bitmap.height*z.scalar,J=new DOMMatrix([Math.cos(G)*Q,Math.sin(G)*Q,-Math.sin(G)*se,Math.cos(G)*se,z.x,z.y]);J.multiplySelf(new DOMMatrix(z.shape.matrix));var fe=R.createPattern(d.transform(z.shape.bitmap),"no-repeat");fe.setTransform(J),R.globalAlpha=1-q,R.fillStyle=fe,R.fillRect(z.x-te/2,z.y-K/2,te,K),R.globalAlpha=1}else if(z.shape==="circle")R.ellipse?R.ellipse(z.x,z.y,Math.abs(B-H)*z.ovalScalar,Math.abs(V-U)*z.ovalScalar,Math.PI/10*z.wobble,0,2*Math.PI):L(R,z.x,z.y,Math.abs(B-H)*z.ovalScalar,Math.abs(V-U)*z.ovalScalar,Math.PI/10*z.wobble,0,2*Math.PI);else if(z.shape==="star")for(var le=Math.PI/2*3,ce=4*z.scalar,ne=8*z.scalar,ie=z.x,de=z.y,ee=5,ye=Math.PI/ee;ee--;)ie=z.x+Math.cos(le)*ne,de=z.y+Math.sin(le)*ne,R.lineTo(ie,de),le+=ye,ie=z.x+Math.cos(le)*ce,de=z.y+Math.sin(le)*ce,R.lineTo(ie,de),le+=ye;else R.moveTo(Math.floor(z.x),Math.floor(z.y)),R.lineTo(Math.floor(z.wobbleX),Math.floor(U)),R.lineTo(Math.floor(B),Math.floor(V)),R.lineTo(Math.floor(H),Math.floor(z.wobbleY));return R.closePath(),R.fill(),z.tick<z.totalTicks}function $(R,z,q,H,U){var B=z.slice(),V=R.getContext("2d"),G,Q,se=u(function(te){function K(){G=Q=null,V.clearRect(0,0,H.width,H.height),d.clear(),U(),te()}function J(){s&&!(H.width===i.width&&H.height===i.height)&&(H.width=R.width=i.width,H.height=R.height=i.height),!H.width&&!H.height&&(q(R),H.width=R.width,H.height=R.height),V.clearRect(0,0,H.width,H.height),B=B.filter(function(fe){return F(V,fe)}),B.length?G=h.frame(J):K()}G=h.frame(J),Q=K});return{addFettis:function(te){return B=B.concat(te),se},canvas:R,promise:se,reset:function(){G&&h.cancel(G),Q&&Q()}}}function I(R,z){var q=!R,H=!!b(z||{},"resize"),U=!1,B=b(z,"disableForReducedMotion",Boolean),V=a&&!!b(z||{},"useWorker"),G=V?p():null,Q=q?M:j,se=R&&G?!!R.__confetti_initialized:!1,te=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,K;function J(le,ce,ne){for(var ie=b(le,"particleCount",v),de=b(le,"angle",Number),ee=b(le,"spread",Number),ye=b(le,"startVelocity",Number),xe=b(le,"decay",Number),Ce=b(le,"gravity",Number),X=b(le,"drift",Number),A=b(le,"colors",k),Y=b(le,"ticks",Number),Z=b(le,"shapes"),ae=b(le,"scalar"),ue=!!b(le,"flat"),he=S(le),je=ie,Ee=[],Oe=R.width*he.x,qe=R.height*he.y;je--;)Ee.push(O({x:Oe,y:qe,angle:de,spread:ee,startVelocity:ye,color:A[je%A.length],shape:Z[y(0,Z.length)],ticks:Y,decay:xe,gravity:Ce,drift:X,scalar:ae,flat:ue}));return K?K.addFettis(Ee):(K=$(R,Ee,Q,ce,ne),K.promise)}function fe(le){var ce=B||b(le,"disableForReducedMotion",Boolean),ne=b(le,"zIndex",Number);if(ce&&te)return u(function(ye){ye()});q&&K?R=K.canvas:q&&!R&&(R=C(ne),document.body.appendChild(R)),H&&!se&&Q(R);var ie={width:R.width,height:R.height};G&&!se&&G.init(R),se=!0,G&&(R.__confetti_initialized=!0);function de(){if(G){var ye={getBoundingClientRect:function(){if(!q)return R.getBoundingClientRect()}};Q(ye),G.postMessage({resize:{width:ye.width,height:ye.height}});return}ie.width=ie.height=null}function ee(){K=null,H&&(U=!1,e.removeEventListener("resize",de)),q&&R&&(document.body.contains(R)&&document.body.removeChild(R),R=null,se=!1)}return H&&!U&&(U=!0,e.addEventListener("resize",de,!1)),G?G.fire(le,ie,ee):J(le,ie,ee)}return fe.reset=function(){G&&G.reset(),K&&K.reset()},fe}var _;function P(){return _||(_=I(null,{useWorker:!0,resize:!0})),_}function E(R,z,q,H,U,B,V){var G=new Path2D(R),Q=new Path2D;Q.addPath(G,new DOMMatrix(z));var se=new Path2D;return se.addPath(Q,new DOMMatrix([Math.cos(V)*U,Math.sin(V)*U,-Math.sin(V)*B,Math.cos(V)*B,q,H])),se}function T(R){if(!o)throw new Error("path confetti are not supported in this browser");var z,q;typeof R=="string"?z=R:(z=R.path,q=R.matrix);var H=new Path2D(z),U=document.createElement("canvas"),B=U.getContext("2d");if(!q){for(var V=1e3,G=V,Q=V,se=0,te=0,K,J,fe=0;fe<V;fe+=2)for(var le=0;le<V;le+=2)B.isPointInPath(H,fe,le,"nonzero")&&(G=Math.min(G,fe),Q=Math.min(Q,le),se=Math.max(se,fe),te=Math.max(te,le));K=se-G,J=te-Q;var ce=10,ne=Math.min(ce/K,ce/J);q=[ne,0,0,ne,-Math.round(K/2+G)*ne,-Math.round(J/2+Q)*ne]}return{type:"path",path:z,matrix:q}}function D(R){var z,q=1,H="#000000",U='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof R=="string"?z=R:(z=R.text,q="scalar"in R?R.scalar:q,U="fontFamily"in R?R.fontFamily:U,H="color"in R?R.color:H);var B=10*q,V=""+B+"px "+U,G=new OffscreenCanvas(B,B),Q=G.getContext("2d");Q.font=V;var se=Q.measureText(z),te=Math.ceil(se.actualBoundingBoxRight+se.actualBoundingBoxLeft),K=Math.ceil(se.actualBoundingBoxAscent+se.actualBoundingBoxDescent),J=2,fe=se.actualBoundingBoxLeft+J,le=se.actualBoundingBoxAscent+J;te+=J+J,K+=J+J,G=new OffscreenCanvas(te,K),Q=G.getContext("2d"),Q.font=V,Q.fillStyle=H,Q.fillText(z,fe,le);var ce=1/q;return{type:"bitmap",bitmap:G.transferToImageBitmap(),matrix:[ce,0,0,ce,-te*ce/2,-K*ce/2]}}n.exports=function(){return P().apply(this,arguments)},n.exports.reset=function(){P().reset()},n.exports.create=I,n.exports.shapeFromPath=T,n.exports.shapeFromText=D})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Rw,!1);const $f=Rw.exports;Rw.exports.create;const HS=220,lre=220,cre=16,dre="1.25rem";function ure({children:t,className:e=""}){return r.jsx("span",{className:`inline-flex items-center rounded-full border border-white/15 bg-white/[0.04] px-3 py-1 text-[11px] font-medium text-white/70 ${e}`,children:t})}function OA({className:t="",children:e}){return r.jsx("div",{className:`nr-panel ${t}`,children:e})}const hre=({children:t})=>r.jsx("span",{className:"bg-gradient-to-r from-amber-400 via-amber-300 to-orange-500 bg-clip-text text-transparent",children:t});function pre({children:t,onClick:e,disabled:n}){return r.jsxs("button",{type:"button",onClick:e,disabled:n,className:["inline-flex items-center gap-1 rounded-full border px-2.5 py-1","text-[12px] font-medium transition","border-white/12 bg-white/[0.06] text-white/80 hover:bg-white/[0.12]",n?"opacity-40 cursor-not-allowed":""].join(" "),children:[r.jsx(PY,{className:"h-3.5 w-3.5"}),t]})}function fre({label:t,onRemove:e}){return r.jsxs("button",{type:"button",onClick:e,className:`inline-flex items-center gap-1.5 rounded-full
                 bg-rose-500/15 border border-rose-400/40 text-rose-200
                 px-2.5 py-1 text-[12px] hover:bg-rose-500/25`,title:"Remove",children:[t,r.jsx("span",{className:"text-rose-200/80",children:""})]})}const mre=()=>{var s;if((s=window.matchMedia)!=null&&s.call(window,"(prefers-reduced-motion: reduce)").matches)return;const t=Date.now()+4*1e3,e=["#FF6B35","#F7931E","#FFD23F","#3A86FF","#FB5607","#000000","#FF0000","#FFFFFF"],n=()=>{Date.now()>t||($f({particleCount:5,angle:60,spread:55,startVelocity:60,origin:{x:0,y:.5},colors:e}),$f({particleCount:5,angle:120,spread:55,startVelocity:60,origin:{x:1,y:.5},colors:e}),requestAnimationFrame(n))};n()};function Rt({active:t,children:e,onClick:n,disabled:s,size:i="md",block:a=!1,className:o=""}){const l=i==="lg"?"px-4 py-2 text-[15px] rounded-2xl":i==="sm"?"px-2.5 py-1 text-[12px] rounded-full":"px-3.5 py-1.5 text-[13px] rounded-full",c=a?"w-full justify-center text-center whitespace-normal leading-tight min-h-[52px] md:min-h-[56px]":"";return r.jsx("button",{type:"button",onClick:n,disabled:s,"aria-pressed":t,className:["inline-flex items-center gap-2 border font-semibold transition duration-150","focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-400/60 active:translate-y-[1px]",l,c,t?"border-transparent bg-gradient-to-r from-amber-400 to-orange-500 text-black shadow-[0_8px_18px_rgba(255,153,0,.25)] hover:brightness-110":"border-white/12 bg-white/[0.06] text-white/75 hover:bg-white/[0.12] hover:border-white/90",s?"opacity-40 cursor-not-allowed":"",o].join(" "),children:r.jsx("span",{className:"[text-wrap:balance]",children:e})})}function gre({active:t,children:e,onClick:n,disabled:s,icon:i,iconComponent:a}){return r.jsxs("button",{type:"button",onClick:n,disabled:s,"aria-pressed":t,className:["w-full flex items-center border font-semibold transition duration-150 min-h-[60px]","focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-400/60 active:translate-y-[1px]","px-4 py-3 text-[15px] rounded-2xl",t?"border-transparent bg-gradient-to-r from-amber-400 to-orange-500 text-black shadow-[0_8px_18px_rgba(255,153,0,.25)] hover:brightness-110":"border-white/12 bg-white/[0.06] text-white/75 hover:bg-white/[0.12] hover:border-white/90",s?"opacity-40 cursor-not-allowed":""].join(" "),children:[r.jsx("div",{className:"flex items-center w-10 h-12",children:i?r.jsx("img",{src:i,alt:e,className:`h-7 w-7 ml-0 ${t?"opacity-100":"opacity-80"}`,onError:o=>{o.currentTarget.style.display="none"}}):a?r.jsx(a,{className:`${t?"text-black/80":"text-white/80"} h-7 w-7 ml-0`,strokeWidth:1.8}):null}),r.jsx("div",{className:`h-6 sm:h-9 w-px border-l-4 border-dotted mx-3 ${t?"border-black/50":"border-white/40"}`}),r.jsx("div",{className:"flex-1 flex items-center justify-center",children:r.jsx("span",{className:"text-center leading-tight",children:e})})]})}const fi=_e.forwardRef(({className:t="",...e},n)=>r.jsx("input",{ref:n,...e,className:["w-full rounded-xl border border-white/12 bg-white/[0.05] px-3 py-2","text-sm text-white placeholder-white/40 outline-none focus:border-white/30 focus:bg-white/[0.07]",t].join(" ")}));fi.displayName="Input";const kh=()=>r.jsx("div",{className:"my-3 h-px w-full bg-gradient-to-r from-transparent via-white/15 to-transparent"});function I0({label:t,placeholder:e="Type to filter",value:n,onChange:s,options:i=[],format:a,right:o,left:l,disabled:c}){const[u,d]=f.useState(!1),[h,p]=f.useState(""),[m,g]=f.useState(-1),x=f.useRef(null),b=f.useRef(null),v=f.useMemo(()=>`ss-${Math.random().toString(36).slice(2)}`,[]),y=j=>(typeof a=="function"?a(j):(j==null?void 0:j.label)??"")||"",w=j=>typeof l=="function"&&j?l(j):null,k=j=>typeof o=="function"&&j?o(j):null;f.useEffect(()=>{const j=C=>{x.current&&!x.current.contains(C.target)&&d(!1)};return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[]),f.useEffect(()=>{u&&requestAnimationFrame(()=>{b.current&&(b.current.focus(),b.current.select())})},[u]),f.useEffect(()=>{g(-1)},[h]);const N=()=>{d(!0)},S=j=>{if(j.key==="ArrowDown"||j.key==="Enter"||j.key===" "){j.preventDefault(),N();return}j.key.length===1&&!j.metaKey&&!j.ctrlKey&&!j.altKey&&(p(j.key),N())},M=(h?i.filter(j=>y(j).toLowerCase().includes(h.toLowerCase())):i).slice(0,200);return r.jsxs("div",{ref:x,className:"relative",children:[t?r.jsx("div",{className:"mb-1 text-[12px] font-semibold text-white/60",children:t}):null,r.jsx("button",{type:"button",disabled:c,onClick:N,onKeyDown:S,role:"combobox","aria-haspopup":"listbox","aria-expanded":u,"aria-controls":v,className:["w-full rounded-xl border px-3 py-2 text-left text-sm","border-white/12 bg-white/[0.05] text-white/85 hover:bg-white/[0.08]",c?"opacity-40 cursor-not-allowed":""].join(" "),children:r.jsxs("div",{className:"flex items-center justify-between gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2 truncate",children:[w(n),r.jsx("span",{className:"truncate",children:n?y(n):"Select..."})]}),r.jsx("span",{className:"text-white/40",children:""})]})}),u&&r.jsxs("div",{className:"absolute z-30 mt-2 w-full rounded-xl border border-white/12 bg-[#0f1115] shadow-xl",role:"listbox",id:v,children:[r.jsx("div",{className:"p-2 border-b border-white/10",children:r.jsx(fi,{ref:b,value:h,onChange:j=>p(j.target.value),placeholder:e,onKeyDown:j=>{if(j.key==="Escape"&&(j.preventDefault(),d(!1)),j.key==="Enter"&&(j.preventDefault(),M.length>0)){const C=m>=0?m:0;s(M[C]),d(!1),p(""),g(-1)}j.key==="ArrowDown"&&(j.preventDefault(),M.length>0&&g(C=>C<M.length-1?C+1:0)),j.key==="ArrowUp"&&(j.preventDefault(),M.length>0&&g(C=>C>0?C-1:M.length-1))}})}),r.jsx("div",{className:"max-h-64 overflow-auto stealth-scroll",children:M.length===0?r.jsx("div",{className:"px-3 py-2 text-sm text-white/60",children:"No results"}):M.map((j,C)=>{const L=n&&n.value===j.value,O=C===m;return r.jsxs("button",{type:"button",onClick:()=>{s(j),d(!1),p(""),g(-1)},className:["flex w-full items-center justify-between gap-2 px-3 py-2 text-sm border-b border-white/5","hover:bg-white/[0.06]",L?"bg-white/[0.08]":"",O?"bg-white/[0.12]":""].join(" "),children:[r.jsxs("span",{className:"flex items-center gap-2 truncate",children:[w(j),r.jsx("span",{className:"truncate",children:y(j)})]}),r.jsx("span",{className:"text-white/60",children:k(j)})]},j.value)})})]})]})}const O0=new Map;async function Dw(t,e,n){if(O0.has(t))return O0.get(t);const s=await fetch(e,n);if(!s.ok)throw new Error(`HTTP ${s.status}`);const i=await s.json();return O0.set(t,i),i}const by=t=>t?t.toUpperCase().replace(/./g,e=>String.fromCodePoint(127397+e.charCodeAt(0))):"";async function xre(){return(await Dw("countries","https://restcountries.com/v3.1/all?fields=name,cca2,idd")).map(e=>{var i,a,o,l;const n=(e==null?void 0:e.cca2)||"",s=(((i=e==null?void 0:e.idd)==null?void 0:i.root)||"")+(((a=e==null?void 0:e.idd)==null?void 0:a.suffixes)&&e.idd.suffixes[0]||"");return{value:((o=e==null?void 0:e.name)==null?void 0:o.common)||n,label:((l=e==null?void 0:e.name)==null?void 0:l.common)||n,iso2:n,flag:by(n),dial:s||""}}).sort((e,n)=>e.label.localeCompare(n.label))}async function vre(t){var s;const e=await Dw(`states:${t}`,"https://countriesnow.space/api/v0.1/countries/states",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({country:t})});return(((s=e==null?void 0:e.data)==null?void 0:s.states)||[]).map(i=>({value:i.name,label:i.name}))}async function yre(t,e){const n=await Dw(`cities:${t}:${e}`,"https://countriesnow.space/api/v0.1/countries/state/cities",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({country:t,state:e})});return((n==null?void 0:n.data)||[]).map(i=>({value:i,label:i}))}const bre={language:hT,home:pT,moveBudget:lT,commute:fT,sleep:ad,clean:mT,diet:Fv,habits:rp,pets:of,dealbreakers:NY,finish:Lc};function wre({kind:t,className:e="h-5 w-5"}){const n=bre[t];return n?r.jsx(n,{className:e+" text-white/80",strokeWidth:1.8}):null}const bo=[{iconKey:"language",pre:"Which",highlight:"language",post:"do you use most day-to-day?",sub:"Choose one. Add others if youre comfortable."},{iconKey:"home",pre:"Where do you call",highlight:"home",post:"?",sub:"Pick your country, then state/region."},{iconKey:"moveBudget",pre:"Who youll live with, when you'll move-in, and",highlight:"what you can spend",post:"?",sub:"Used only to filter obvious mismatches."},{iconKey:"commute",pre:"How far from campus is okay, and how will you",highlight:"commute",post:"?",sub:"Pick a distance and one or more modes."},{iconKey:"sleep",pre:"Whats your",highlight:"sleep style",post:"and quiet hours?",sub:"We show compatibility bands, not exact times."},{iconKey:"clean",pre:"How",highlight:"tidy",post:"do you like shared spaces?",sub:"Rate 15 for expectations."},{iconKey:"diet",pre:"Tell us your",highlight:"diet",post:"and cooking rhythm.",sub:"Match what you do most weeks."},{iconKey:"habits",pre:"A few lifestyle",highlight:"habits",post:"to set expectations.",sub:"Smoking, drinking, parties."},{iconKey:"pets",pre:"Any",highlight:"pets or allergies",post:"?",sub:"Helps avoid conflicts."},{iconKey:"dealbreakers",pre:"Pick up to 3",highlight:"deal-breakers",post:".",sub:"Well flag conflicts transparently."},{iconKey:"finish",pre:"All set ",highlight:"Synapse",post:"is ready.",sub:"Badges now power housing & approvals."}];function jre({steps:t,current:e,onJump:n,meta:s={}}){return r.jsxs(OA,{className:"p-4 sm:p-5 h-full",children:[r.jsx("div",{className:"mb-3 text-[12px] font-bold tracking-wide text-white/70",children:"SETUP STEPS"}),r.jsx("ol",{className:"grid h-[calc(100%-8px)]",style:{gridTemplateRows:`repeat(${t.length}, 1fr)`},children:t.map((u,d)=>{var g;const h=d===e,p=d<e,m=!!((g=s==null?void 0:s[d])!=null&&g.sub);return r.jsxs("li",{className:"relative min-h-[34px]",style:{"--dot":"34px","--trk":"5px",paddingBottom:h&&m&&d<t.length-1?28:0},children:[d>0&&r.jsx("span",{"aria-hidden":!0,className:`absolute left-[calc(var(--dot)/2-var(--trk)/2)] w-[var(--trk)] rounded-full ${d<=e?"bg-emerald-400/85 shadow-[0_0_10px_rgba(16,185,129,.45)]":"bg-white/12"}`,style:{top:0,height:`calc(50% - ${34/2}px)`}}),d<t.length-1&&r.jsx("span",{"aria-hidden":!0,className:`absolute left-[calc(var(--dot)/2-var(--trk)/2)] w-[var(--trk)] rounded-full ${d<e?"bg-emerald-400/85 shadow-[0_0_10px_rgba(16,185,129,.45)]":"bg-white/12"}`,style:{bottom:0,height:`calc(50% - ${34/2}px)`}}),r.jsx("button",{type:"button",onClick:()=>n==null?void 0:n(d),"aria-current":h?"step":void 0,className:["absolute left-0 top-1/2 -translate-y-1/2 grid place-items-center rounded-full text-[12px] font-semibold transition",h?"bg-white text-black ring-2 ring-amber-300/70 shadow-[0_8px_24px_rgba(255,255,255,.18)]":p?"bg-emerald-400 text-black shadow-[0_0_16px_rgba(16,185,129,.55)]":"bg-white/[0.06] text-white/75 border border-white/20 shadow-[inset_0_0_0_1px_rgba(255,255,255,.08)]"].join(" "),style:{width:34,height:34},children:p?"":d+1}),r.jsx("div",{style:{paddingLeft:46,minHeight:34},children:r.jsx("div",{className:`flex items-center leading-none ${h?"text-white":"text-white/85"}`,style:{minHeight:34},children:r.jsx("span",{className:"text-[17px] md:text-[19px] font-semibold",children:u})})}),h&&m?d<t.length-1?r.jsx("p",{className:"absolute z-10 text-[12px] leading-snug text-white/65 max-w-[300px] pr-3 pointer-events-none",style:{left:46,top:`calc(25% + ${34/2}px + 4px)`},children:s[d].sub}):r.jsx("p",{className:"mt-1 text-[12px] text-white/65 max-w-[300px]",style:{paddingLeft:46},children:s[d].sub}):null]},u)})})]})}function Nre({step:t,total:e,title:n,sub:s,icon:i=null,loading:a=!1}){return r.jsx("div",{className:`relative nr-panel h-full p-0 overflow-hidden
                ring-1 ring-white/5
                shadow-[0_28px_80px_rgba(0,0,0,.55),0_8px_24px_rgba(0,0,0,.28)]`,children:r.jsx("div",{className:"grid h-full place-items-center px-8 text-center",children:r.jsxs("div",{className:"max-w-[760px] xl:max-w-[820px]",children:[i?r.jsx("div",{className:`mx-auto mb-4 grid h-14 w-14 place-items-center
                        rounded-full border border-white/15 bg-white/[0.05]
                        ring-1 ring-white/10 shadow-[0_0_18px_rgba(255,153,0,.14)]
                        transform-gpu scale-[1.5]`,children:r.jsx("span",{className:"text-2xl",children:i})}):null,a?r.jsx("div",{className:"text-white/90 text-base",children:r.jsxs("span",{className:"inline-flex gap-1","aria-live":"polite",children:[r.jsx("span",{className:"animate-pulse",children:""}),r.jsx("span",{className:"animate-pulse delay-150",children:""}),r.jsx("span",{className:"animate-pulse delay-300",children:""})]})}):r.jsxs(r.Fragment,{children:[r.jsx("h2",{className:`font-black tracking-tight text-white leading-[1.03]
                          text-[clamp(34px,min(4vw,6.2vh),60px)]
                          xl:text-[clamp(36px,min(3.6vw,6.6vh),64px)]
                          [text-wrap:balance] [text-shadow:0_10px_28px_rgba(255,153,0,.14)]`,children:n}),s?r.jsx("p",{className:"mx-auto mt-3 max-w-[640px] text-[14px] md:text-[15px] text-white/70",children:s}):null]})]})})})}function kre(){var de,ee,ye,xe,Ce;const t=pt(),[e,n]=f.useState(!0),[s,i]=f.useState(!1),[a,o]=f.useState(!1),[l,c]=f.useState(""),[u,d]=f.useState(0),h=f.useMemo(()=>["Language & Comfort","Country & Region","Move-in & Budget","Distance & Commute","Sleep & Quiet Hours","Cleanliness","Diet & Cooking","Habits","Pets","Deal-breakers","Finish"],[]),[p,m]=f.useState({culture:{primaryLanguage:"",otherLanguages:[],languageComfort:"either",home:{country:"",countryISO:"",region:"",city:""},visibility:{showAvatarInPreviews:!1,shareCultureInPreviews:"banded"}},logistics:{moveInMonth:null,leaseMonths:12,budgetMax:null,maxDistanceMiles:2,commuteMode:[]},lifestyle:{sleepPattern:"",quietAfter:"22:00",quietUntil:"07:00",cleanliness:3,cleanlinessDetail:{bathroom:3,kitchen:3,dishes:3,trash:3}},habits:{diet:"",cookingFreq:"sometimes",smoking:"no",drinking:"social",partying:"occasionally"},pets:{hasPets:!1,okWithPets:!0,allergies:[]},dealbreakers:[],matching:{roommateGender:"any"}});f.useEffect(()=>{let X=!0;return(async()=>{var A;try{const Z=new URLSearchParams(window.location.search).get("edit")==="true",ae=await ge.get("/synapse/completion-status"),ue=ae==null?void 0:ae.data;if(X&&(ue!=null&&ue.completed)&&!Z){t("/Synapsematches",{replace:!0});return}const he=await ge.get("/synapse/preferences");X&&((A=he==null?void 0:he.data)!=null&&A.preferences)&&(m(je=>({...je,...he.data.preferences})),ue!=null&&ue.lastStep&&ue.lastStep>0&&d(ue.lastStep)),Z&&(ue!=null&&ue.completed)&&d(0)}catch(Y){console.error("Error loading Synapse data:",Y)}finally{X&&n(!1)}})(),()=>{X=!1}},[]);const g=async X=>{var A,Y;o(!0),c("");try{const Z=typeof X=="function"?X(p):{...p,...X};m(Z),await ge.post("/synapse/preferences",Z)}catch(Z){c(((Y=(A=Z==null?void 0:Z.response)==null?void 0:A.data)==null?void 0:Y.message)||"Failed to save. Please try again.")}finally{o(!1)}},x=X=>g({culture:{...p.culture,...X}}),b=X=>g({logistics:{...p.logistics,...X}}),v=X=>g({lifestyle:{...p.lifestyle,...X}}),y=X=>g({habits:{...p.habits,...X}}),w=X=>g({pets:{...p.pets,...X}}),k=X=>g({matching:{...p.matching,...X}}),N=async()=>{i(!0),await new Promise(A=>setTimeout(A,220+Math.random()*280)),i(!1);const X=Math.min(u+1,h.length-1);d(X);try{const A=Math.round((X+1)/h.length*100);await ge.post("/synapse/progress",{step:X,completionPercentage:A})}catch(A){console.error("Error updating progress:",A)}},S=()=>d(X=>Math.max(0,X-1)),M=X=>d(Math.max(0,Math.min(X,h.length-1))),j=[{code:"en",label:"English"},{code:"es",label:"Spanish"},{code:"hi",label:"Hindi"},{code:"ta",label:"Tamil"},{code:"te",label:"Telugu"},{code:"kn",label:"Kannada"},{code:"ml",label:"Malayalam"},{code:"zh",label:"Mandarin"},{code:"ar",label:"Arabic"},{code:"fr",label:"French"},{code:"bn",label:"Bengali"}],C=()=>{const[X,A]=f.useState(()=>{const he=p.culture.primaryLanguage,je=j.some(Ee=>Ee.code===he);return he&&!je?String(he):""});f.useEffect(()=>{const he=p.culture.primaryLanguage,je=j.some(Ee=>Ee.code===he);he&&!je&&A(String(he))},[p.culture.primaryLanguage]);const Y=j.some(he=>he.code===p.culture.primaryLanguage),Z=!!p.culture.primaryLanguage&&!Y,ae=he=>{const je=p.culture.primaryLanguage===he?"":he;je&&je!==p.culture.primaryLanguage&&A("");const Ee=(p.culture.otherLanguages||[]).filter(Oe=>Oe!==je);x({primaryLanguage:je,otherLanguages:Ee})},ue=()=>{const he=(X||"").trim();if(!he)return;const je=(p.culture.otherLanguages||[]).filter(Ee=>Ee!==he);x({primaryLanguage:he,otherLanguages:je})};return r.jsxs("div",{className:"grid gap-6 md:grid-cols-[minmax(0,1.2fr)_minmax(0,.8fr)] items-start max-w-[920px]",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"mb-2 flex items-baseline gap-2",children:[r.jsx("span",{className:"text-[16px] md:text-[18px] font-semibold text-white/95",children:"Daily language"}),r.jsx(ure,{children:"Used for vibe only"})]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[j.map(he=>{const je=p.culture.primaryLanguage===he.code;return r.jsx(Rt,{active:je,onClick:()=>ae(he.code),children:he.label},he.code)}),Z&&r.jsxs(Rt,{active:!0,onClick:()=>{x({primaryLanguage:""})},children:[String(p.culture.primaryLanguage)," "]})]}),r.jsx("div",{className:"mt-3 max-w-[560px]",children:r.jsx(fi,{className:"w-full",placeholder:"Search or type another language (press Enter)",value:X,onChange:he=>A(he.target.value),onKeyDown:he=>{he.key==="Enter"&&(he.preventDefault(),ue())}})}),r.jsxs("div",{className:"mt-6",children:[r.jsx("div",{className:"mb-2 text-[13px] font-semibold",children:"Also comfortable with (optional)"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:j.map(he=>{const je=p.culture.otherLanguages||[],Ee=je.includes(he.code);return r.jsx(Rt,{active:Ee,onClick:()=>{he.code!==p.culture.primaryLanguage&&x({otherLanguages:Ee?je.filter(Oe=>Oe!==he.code):[...je,he.code]})},children:he.label},he.code)})})]})]}),r.jsxs("aside",{className:"rounded-3xl border border-white/12 bg-white/[0.03] p-4 sm:p-5 w-full max-w-[320px]",children:[r.jsxs("h3",{className:"text-white text-[20px] sm:text-[22px] font-bold leading-tight mb-3",children:["Language",r.jsx("br",{})," comfort with",r.jsx("br",{})," roommates"]}),r.jsx("div",{className:"grid gap-3",children:[{k:"same",t:"Prefer same language"},{k:"either",t:"Either is fine"},{k:"learn",t:"Happy to learn/teach"}].map(({k:he,t:je})=>{const Ee=p.culture.languageComfort===he;return r.jsx(Rt,{size:"lg",className:"w-full h-[48px] justify-center",active:Ee,onClick:()=>x({languageComfort:he}),children:je},he)})}),r.jsx("p",{className:"mt-3 text-[12px] text-white/55",children:"Used only to improve matching. You can change this anytime."})]})]})},[L,O]=f.useState([]),[F,$]=f.useState([]),[I,_]=f.useState([]);f.useEffect(()=>{(async()=>{try{const X=await xre();O(X)}catch(X){console.warn("Countries fetch failed",X)}})()},[]);const P=()=>{const X=f.useMemo(()=>{if(!p.culture.home.country)return null;const he=L.find(Ee=>Ee.iso2===p.culture.home.countryISO)||null,je=L.find(Ee=>Ee.label===p.culture.home.country)||null;return he||je||{value:p.culture.home.country,label:p.culture.home.country,iso2:p.culture.home.countryISO,flag:by(p.culture.home.countryISO)}},[p.culture.home.country,p.culture.home.countryISO,L]),A=he=>(he==null?void 0:he.label)??"",Y=he=>he?r.jsx("span",{className:"text-lg leading-none",children:he.flag||by(he.iso2)}):null,Z=async he=>{x({home:{country:he.label,countryISO:he.iso2,region:"",city:""}});try{$(await vre(he.label)),_([])}catch{$([]),_([])}},ae=async he=>{x({home:{...p.culture.home,region:he.value,city:""}});try{_(await yre(p.culture.home.country,he.value))}catch{_([])}},ue=he=>x({home:{...p.culture.home,city:he.value}});return r.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[r.jsx(I0,{label:"Country",value:X,onChange:Z,options:L,format:A,left:Y}),r.jsx(I0,{label:"State / Region",value:p.culture.home.region?{value:p.culture.home.region,label:p.culture.home.region}:null,onChange:ae,options:F,disabled:!p.culture.home.country}),r.jsx(I0,{label:"Home city (optional)",value:p.culture.home.city?{value:p.culture.home.city,label:p.culture.home.city}:null,onChange:ue,options:I,disabled:!p.culture.home.region})]})},E=()=>{const X=f.useRef(null),A=f.useRef(null),[Y,Z]=f.useState(p.logistics.budgetMax!=null?String(p.logistics.budgetMax):"");f.useEffect(()=>{document.activeElement!==A.current&&Z(p.logistics.budgetMax!=null?String(p.logistics.budgetMax):"")},[p.logistics.budgetMax]);const ae=()=>{const ue=Y.replace(/[^\d]/g,""),he=ue===""?null:Number(ue);b({budgetMax:he})};return r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"mb-2 flex items-baseline gap-2",children:[r.jsx("span",{className:"text-[15px] md:text-[16px] font-semibold text-white",children:"Who are you comfortable sharing a home with?"}),r.jsx("span",{className:"text-[12px] text-white/60",children:"Used only for matching  kept private"})]}),r.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{k:"female",t:"Female roommates only",icon:"/src/assets/icons/woman.png"},{k:"male",t:"Male roommates only",icon:"/src/assets/icons/man.png"},{k:"any",t:"Any gender is fine",icon:"/src/assets/icons/man_women.png"}].map(({k:ue,t:he,icon:je})=>{var Oe;const Ee=(((Oe=p.matching)==null?void 0:Oe.roommateGender)??"any")===ue;return r.jsx(gre,{active:Ee,onClick:()=>k({roommateGender:ue}),icon:je,children:he},ue)})})]}),r.jsxs("div",{className:"relative grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"mb-2 flex items-baseline gap-2",children:[r.jsx("span",{className:"text-[15px] md:text-[16px] font-semibold text-white",children:"Move-in month"}),r.jsx("span",{className:"text-[12px] text-white/60",children:"Used only to match timing"})]}),r.jsxs("div",{className:"relative max-w-[400px] cursor-text",role:"button","aria-label":"Open month picker",onClick:()=>{const ue=X.current;ue&&(typeof ue.showPicker=="function"?ue.showPicker():ue.focus())},children:[r.jsx(fi,{ref:X,type:"month",className:"nr-month pr-20",placeholder:"Select month",value:p.logistics.moveInMonth||"",onFocus:ue=>{const he=ue.currentTarget;typeof he.showPicker=="function"&&he.showPicker()},onKeyDown:ue=>{if(ue.key==="Enter"||ue.key===" "){ue.preventDefault();const he=X.current;if(!he)return;typeof he.showPicker=="function"&&he.showPicker()}},onChange:ue=>b({moveInMonth:(ue.target.value||"").slice(0,7)}),"aria-haspopup":"dialog","aria-expanded":"false"}),r.jsx("span",{className:"pointer-events-none absolute inset-y-0 right-3 grid place-items-center","aria-hidden":"true",children:r.jsx(lT,{size:18,className:"text-white/80"})}),p.logistics.moveInMonth?r.jsx("button",{type:"button",onClick:ue=>{ue.stopPropagation(),b({moveInMonth:null});const he=X.current;he&&he.focus()},className:`absolute inset-y-0 right-10 my-[4px] grid place-items-center rounded-lg px-2
                           text-white/70 hover:text-white focus-visible:outline-none focus-visible:ring-2
                           focus-visible:ring-amber-400/60`,"aria-label":"Clear selected month",children:""}):null]})]}),r.jsx("div",{className:"hidden lg:block absolute left-1/2 top-0 bottom-0 w-px border-l-2 border-dotted border-white/20 transform -translate-x-1/2"}),r.jsxs("div",{className:"pl-3",children:[r.jsx("div",{className:"mb-2 text-[15px] md:text-[16px] font-semibold text-white",children:"Lease length"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx(Rt,{active:p.logistics.leaseMonths===6,onClick:()=>b({leaseMonths:6}),children:"69 mo"}),r.jsx(Rt,{active:p.logistics.leaseMonths===12,onClick:()=>b({leaseMonths:12}),children:"1012 mo"}),r.jsx(Rt,{active:p.logistics.leaseMonths===15,onClick:()=>b({leaseMonths:15}),children:"12+ mo"})]})]})]}),r.jsxs("div",{children:[r.jsx("div",{className:"mb-2 text-[15px] md:text-[16px] font-semibold text-white",children:"Max monthly budget (USD)"}),r.jsxs("div",{className:"grid gap-3 md:grid-cols-2 items-start",children:[r.jsxs("div",{className:"relative max-w-[540px]",children:[r.jsx("span",{className:"pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 text-white/55",children:"$"}),r.jsx(fi,{ref:A,type:"text",inputMode:"numeric",pattern:"[0-9]*",className:"pl-7",placeholder:"e.g., 900",value:Y,onChange:ue=>Z(ue.target.value.replace(/[^\d]/g,"")),onBlur:ae,onKeyDown:ue=>{ue.key==="Enter"&&(ue.preventDefault(),ae(),ue.currentTarget.blur())},"aria-label":"Maximum monthly budget in USD"})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:[600,800,1e3,1200].map(ue=>r.jsxs(Rt,{active:p.logistics.budgetMax===ue,onClick:()=>{Z(String(ue)),b({budgetMax:ue})},children:[" $",ue]},ue))})]})]})]})},T=()=>r.jsxs("div",{children:[r.jsx("div",{className:"mb-2 text-[13px] font-semibold",children:"Max distance to campus"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:[.8,2,5,10].map(X=>r.jsx(Rt,{active:p.logistics.maxDistanceMiles===X,onClick:()=>b({maxDistanceMiles:X}),children:X<=.8?"Walkable (<0.8 mi)":` ${X} mi`},X))}),r.jsx(kh,{}),r.jsx("div",{className:"mb-2 text-[13px] font-semibold",children:"Commute mode (multi-select)"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:["walk","bus","car","bike"].map(X=>{const A=p.logistics.commuteMode.includes(X);return r.jsx(Rt,{active:A,onClick:()=>b({commuteMode:A?p.logistics.commuteMode.filter(Y=>Y!==X):[...p.logistics.commuteMode,X]}),children:X},X)})})]}),D=()=>r.jsxs("div",{children:[r.jsx("div",{className:"mb-2 text-[13px] font-semibold",children:"Sleep pattern"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:[{k:"early_bird",t:"Early bird"},{k:"flex",t:"Flexible"},{k:"night_owl",t:"Night owl"}].map(X=>r.jsx(Rt,{active:p.lifestyle.sleepPattern===X.k,onClick:()=>v({sleepPattern:X.k}),children:X.t},X.k))}),r.jsx(kh,{}),r.jsx("div",{className:"mb-2 text-[13px] font-semibold",children:"Quiet hours (weeknights)"}),r.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[r.jsx("div",{className:"relative cursor-text",role:"button","aria-label":"Open quiet after time picker",onClick:()=>{const X=document.querySelector('input[name="quietAfter"]');X&&(typeof X.showPicker=="function"?X.showPicker():X.focus())},children:r.jsx(fi,{name:"quietAfter",type:"time",value:p.lifestyle.quietAfter,onChange:X=>v({quietAfter:X.target.value}),onFocus:X=>{const A=X.currentTarget;typeof A.showPicker=="function"&&A.showPicker()},onKeyDown:X=>{if(X.key==="Enter"||X.key===" "){X.preventDefault();const A=X.currentTarget;typeof A.showPicker=="function"&&A.showPicker()}}})}),r.jsx("div",{className:"relative cursor-text",role:"button","aria-label":"Open quiet until time picker",onClick:()=>{const X=document.querySelector('input[name="quietUntil"]');X&&(typeof X.showPicker=="function"?X.showPicker():X.focus())},children:r.jsx(fi,{name:"quietUntil",type:"time",value:p.lifestyle.quietUntil,onChange:X=>v({quietUntil:X.target.value}),onFocus:X=>{const A=X.currentTarget;typeof A.showPicker=="function"&&A.showPicker()},onKeyDown:X=>{if(X.key==="Enter"||X.key===" "){X.preventDefault();const A=X.currentTarget;typeof A.showPicker=="function"&&A.showPicker()}}})})]})]}),R=({children:X,hint:A})=>r.jsxs("div",{className:"mb-1.5 flex items-baseline gap-2",children:[r.jsx("span",{className:"text-[16px] md:text-[18px] font-semibold text-white/95",children:X}),A?r.jsx("span",{className:"text-[11px] text-white/55",children:A}):null]});function z({count:X=0,limit:A=3}){return r.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:A}).map((Y,Z)=>r.jsx("span",{className:["inline-block h-2.5 w-2.5 rounded-full",Z<X?"bg-amber-400 shadow-[0_0_10px_rgba(251,191,36,.55)]":"bg-white/18"].join(" ")},Z))})}function q({Base:X,banned:A,size:Y="md"}){const Z=Y==="lg"?"h-4 w-4 -right-1 -bottom-1.5":"h-3.5 w-3.5 -right-1 -bottom-1";return r.jsxs("span",{className:"relative inline-grid place-items-center",children:[r.jsx(X,{className:"h-4 w-4 text-white/85"}),A&&r.jsx(dh,{className:`absolute ${Z} text-rose-400 drop-shadow`})]})}function H(X){switch(X){case 1:return{text:"text-rose-300",bg:"bg-rose-500/10",ring:"ring-rose-400/30",dot:"bg-rose-400",label:"Very relaxed"};case 2:return{text:"text-orange-300",bg:"bg-orange-500/10",ring:"ring-orange-400/30",dot:"bg-orange-400",label:"Relaxed"};case 3:return{text:"text-amber-300",bg:"bg-amber-500/10",ring:"ring-amber-400/30",dot:"bg-amber-400",label:"Moderate"};case 4:return{text:"text-lime-300",bg:"bg-lime-500/10",ring:"ring-lime-400/30",dot:"bg-lime-400",label:"High"};default:case 5:return{text:"text-emerald-300",bg:"bg-emerald-500/10",ring:"ring-emerald-400/30",dot:"bg-emerald-400",label:"Very high"}}}function U({value:X}){const A=H(Number(X)||0);return r.jsxs("span",{title:A.label,className:["inline-flex items-center gap-1 rounded-full border border-white/10 px-2 py-[2px]","text-[12px] font-semibold ring-1",A.text,A.bg,A.ring].join(" "),children:[r.jsx("span",{className:`h-1.5 w-1.5 rounded-full ${A.dot}`}),X]})}function B({label:X,minLabel:A,maxLabel:Y,value:Z=3,onChange:ae,className:ue=""}){return r.jsxs("div",{className:`py-1 ${ue}`,children:[r.jsxs("div",{className:"flex items-center justify-between gap-3",children:[r.jsx("div",{className:"text-[14px] md:text-[15px] font-semibold text-white",children:X}),r.jsx(U,{value:Z})]}),r.jsxs("div",{className:"mt-1",children:[r.jsx("input",{type:"range",min:1,max:5,step:1,value:Z,onChange:he=>ae(Number(he.target.value)),className:"w-full accent-white"}),r.jsxs("div",{className:"mt-1 flex justify-between text-[11px] text-white/55 leading-none",children:[r.jsx("span",{className:"truncate pr-2",children:A}),r.jsx("span",{className:"truncate pl-2",children:Y})]})]})]})}const V=()=>{const X=p.lifestyle||{};return r.jsx("div",{className:"max-w-[820px]",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-2",children:[r.jsx(B,{className:"md:col-span-2",label:"Overall cleanliness",minLabel:"Laid-back",maxLabel:"Meticulous",value:X.cleanliness??3,onChange:A=>v({cleanliness:A})}),r.jsx(B,{label:"Bathroom upkeep",minLabel:"OK if clean weekly",maxLabel:"Spotless daily",value:X.bathroomUpkeep??3,onChange:A=>v({bathroomUpkeep:A})}),r.jsx(B,{label:"Kitchen cleanup",minLabel:"Tidy later",maxLabel:"Clean after cooking",value:X.kitchenCleanup??3,onChange:A=>v({kitchenCleanup:A})}),r.jsx(B,{label:"Dishes turnaround",minLabel:"Within 2448h",maxLabel:"After each meal",value:X.dishesTurnaround??3,onChange:A=>v({dishesTurnaround:A})}),r.jsx(B,{label:"Trash & recycling cadence",minLabel:"When full",maxLabel:"Every 12 days",value:X.trashCadence??3,onChange:A=>v({trashCadence:A})})]})})},G=()=>r.jsxs("div",{className:"space-y-7",children:[r.jsxs("div",{children:[r.jsx(R,{children:"Diet"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:[{k:"veg",t:"Vegetarian"},{k:"vegan",t:"Vegan"},{k:"nonveg",t:"Non-veg"}].map(X=>r.jsx(Rt,{size:"lg",active:p.habits.diet===X.k,onClick:()=>y({diet:X.k}),children:X.t},X.k))})]}),r.jsx(kh,{}),r.jsxs("div",{children:[r.jsx(R,{children:"Cooking frequency"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:[{k:"rare",t:"Cook rarely",I:ad},{k:"sometimes",t:"Cook sometimes",I:BY},{k:"often",t:"Cook often",I:Fv}].map(({k:X,t:A,I:Y})=>{const Z=p.habits.cookingFreq===X;return r.jsxs(Rt,{size:"lg",active:Z,onClick:()=>y({cookingFreq:X}),children:[r.jsx(Y,{className:`h-4 w-4 ${Z?"text-black/80":"text-white/80"}`,strokeWidth:1.8}),r.jsx("span",{children:A})]},X)})})]})]}),Q=()=>r.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-15",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(R,{hint:"No judgement  just setting expectations",children:"Smoking"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:[{k:"no",t:"No",I:YG},{k:"outdoor_only",t:"Outdoor only",I:Jg},{k:"yes",t:"Yes",I:Jg}].map(({k:X,t:A,I:Y})=>{const Z=p.habits.smoking===X;return r.jsxs(Rt,{active:Z,onClick:()=>y({smoking:X}),children:[r.jsx(Y,{className:`${Z?"text-black/80":"text-white/80"} h-4 w-4`,strokeWidth:1.8}),r.jsx("span",{children:A})]},X)})}),r.jsx("p",{className:"text-[12px] text-white/45",children:"Outdoor only = balconies/porches, never indoors."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(R,{children:"Drinking"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:[{k:"no",t:"No",I:dh},{k:"social",t:"Social",I:t0},{k:"frequent",t:"Frequent",I:t0}].map(({k:X,t:A,I:Y})=>{const Z=p.habits.drinking===X;return r.jsxs(Rt,{active:Z,onClick:()=>y({drinking:X}),children:[r.jsx(Y,{className:`${Z?"text-black/80":"text-white/80"} h-4 w-4`,strokeWidth:1.8}),r.jsx("span",{children:A})]},X)})})]}),r.jsxs("div",{className:"space-y-2 xl:col-span-2",children:[r.jsx(R,{children:"Parties"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:[{k:"no",t:"No parties",I:dh},{k:"occasionally",t:"Occasionally",I:rp},{k:"frequent",t:"Frequent",I:rp}].map(({k:X,t:A,I:Y})=>{const Z=p.habits.partying===X;return r.jsxs(Rt,{active:Z,onClick:()=>y({partying:X}),children:[r.jsx(Y,{className:`${Z?"text-black/80":"text-white/80"} h-4 w-4`,strokeWidth:1.8}),r.jsx("span",{children:A})]},X)})})]})]}),se=()=>{const X=["cats","dogs","birds","rabbits","rodents","reptiles","fish"],A=Z=>{const ae=(Z||"").trim();if(!ae)return;const ue=p.pets.allergies||[];ue.includes(ae)||w({allergies:[...ue,ae]})},Y=Z=>w({allergies:(p.pets.allergies||[]).filter(ae=>ae!==Z)});return r.jsxs("div",{className:"space-y-6 max-w-[760px]",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(R,{children:"Pets"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsxs(Rt,{active:p.pets.hasPets,onClick:()=>w({hasPets:!p.pets.hasPets}),children:[r.jsx(of,{className:`${p.pets.hasPets?"text-black/80":"text-white/85"} h-4 w-4`}),"I have pets"]}),r.jsxs(Rt,{active:p.pets.okWithPets,onClick:()=>w({okWithPets:!p.pets.okWithPets}),children:[p.pets.okWithPets?r.jsx(N4,{className:"h-4 w-4 text-black/80"}):r.jsx(N4,{className:"h-4 w-4 text-white/85"}),"Im okay with pets"]}),!p.pets.okWithPets&&r.jsxs("span",{className:"ml-1 inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/[0.04] px-2 py-1 text-[11px] text-white/60",children:[r.jsx(dh,{className:"h-3.5 w-3.5"})," roommates pets not preferred"]})]}),r.jsx("p",{className:"text-[11px] text-white/45",children:"This helps us match you with owners and roommates who align with your comfort."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(R,{children:"Allergies"}),r.jsx("div",{className:"relative w-full",children:r.jsx(fi,{placeholder:"Type an allergy and press Enter (e.g., cats)",onKeyDown:Z=>{Z.key==="Enter"&&(Z.preventDefault(),A(Z.currentTarget.value),Z.currentTarget.value="")},"aria-label":"Add a pet allergy"})}),r.jsx("div",{className:"flex flex-wrap gap-2",children:X.map(Z=>r.jsx(pre,{onClick:()=>A(Z),disabled:(p.pets.allergies||[]).includes(Z),children:Z},Z))}),(p.pets.allergies||[]).length>0?r.jsx("div",{className:"flex flex-wrap gap-2 pt-1",children:(p.pets.allergies||[]).map(Z=>r.jsx(fre,{label:Z,onRemove:()=>Y(Z)},Z))}):r.jsx("div",{className:"text-[12px] text-white/45",children:"No allergies added."})]})]})},te=()=>{const X=[{k:"no_smoking_indoors",t:"No smoking indoors",Base:Jg,banned:!0},{k:"no_late_night_parties",t:"No late-night parties",Base:rp,banned:!0},{k:"no_pets",t:"No pets",Base:of,banned:!0},{k:"quiet_after_22",t:"Quiet after 10PM",Base:ad,banned:!1},{k:"no_heavy_drinking",t:"No heavy drinking",Base:t0,banned:!0}],A=3,Y=p.dealbreakers||[],Z=Y.length,ae=Z>=A,ue=he=>{Y.includes(he)?g({dealbreakers:Y.filter(je=>je!==he)}):ae||g({dealbreakers:[...Y,he]})};return r.jsxs("div",{className:"space-y-4 max-w-[780px]",children:[r.jsxs("div",{className:"flex items-baseline justify-between gap-3",children:[r.jsx("div",{className:"text-[16px] md:text-[18px] font-semibold",children:"Deal-breakers"}),r.jsxs("div",{className:"flex items-center gap-2 text-[12px]",children:[r.jsx(z,{count:Z,limit:A}),r.jsxs("span",{className:ae?"text-rose-300":"text-white/65",children:["You chose ",Z," / ",A]})]})]}),r.jsx("p",{className:"text-[12px] text-white/55 -mt-2",children:"Pick up to 3 non-negotiables."}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:X.map(({k:he,t:je,Base:Ee,banned:Oe})=>{const qe=Y.includes(he),rt=!qe&&ae;return r.jsxs(Rt,{size:"lg",className:"w-full min-h-[52px]",active:qe,disabled:rt,onClick:()=>ue(he),children:[r.jsx(q,{Base:Ee,banned:Oe,size:"lg"}),r.jsx("span",{className:"ml-1 leading-tight",children:je})]},he)})}),Z>0&&r.jsxs("div",{className:"pt-1 text-[12px] text-white/60",children:["Selected:",X.filter(he=>Y.includes(he.k)).map(he=>he.t).join("  ")]})]})},K=()=>{f.useEffect(()=>{const A=setTimeout(()=>{mre()},800);return()=>clearTimeout(A)},[]);const X=({children:A})=>r.jsx("span",{className:"inline-flex items-center gap-1 rounded-full border border-white/12 bg-white/[0.06] px-2.5 py-1 text-[12px] text-white/80",children:A});return r.jsxs("div",{className:"relative",children:[r.jsxs("div",{className:`rounded-2xl ring-1 ring-white/10 p-4 sm:p-5 mb-4
                      bg-gradient-to-r from-emerald-400/10 via-amber-400/10 to-fuchsia-400/10`,children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"shrink-0 grid h-10 w-10 place-items-center rounded-full bg-white text-black shadow-lg",children:""}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xl md:text-2xl font-bold",children:"Synapse is set!"}),r.jsx("div",{className:"text-white/75 text-sm md:text-[15px]",children:"Compatibility badges will appear on housing cards and owner approvals."})]})]}),r.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[r.jsxs(X,{children:[r.jsx(mT,{className:"h-4 w-4"})," Clean & tidy"]}),r.jsxs(X,{children:[r.jsx(ad,{className:"h-4 w-4"})," Quiet hours"]}),r.jsxs(X,{children:[r.jsx(Fv,{className:"h-4 w-4"})," Cooking rhythm"]}),r.jsxs(X,{children:[r.jsx(fT,{className:"h-4 w-4"})," Commute"]}),r.jsx(X,{children:"Roommate comfort saved"})]})]}),r.jsx(kh,{}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"text-[15px] md:text-[16px] font-semibold",children:"Visibility"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx(Rt,{active:p.culture.visibility.showAvatarInPreviews,onClick:()=>x({visibility:{...p.culture.visibility,showAvatarInPreviews:!p.culture.visibility.showAvatarInPreviews}}),children:"Show my name & avatar in previews"}),r.jsx(Rt,{active:p.culture.visibility.shareCultureInPreviews==="banded",onClick:()=>x({visibility:{...p.culture.visibility,shareCultureInPreviews:"banded"}}),children:"Share only compatibility badges"}),r.jsx(Rt,{active:p.culture.visibility.shareCultureInPreviews==="details",onClick:()=>x({visibility:{...p.culture.visibility,shareCultureInPreviews:"details"}}),children:"Share brief details"})]}),r.jsx("p",{className:"text-[12px] text-white/55",children:"Youre in control. Change these anytime in Settings. We never share your contact info without consent."})]})]})},J=()=>{switch(u){case 0:return r.jsx(C,{});case 1:return r.jsx(P,{});case 2:return r.jsx(E,{});case 3:return r.jsx(T,{});case 4:return r.jsx(D,{});case 5:return r.jsx(V,{});case 6:return r.jsx(G,{});case 7:return r.jsx(Q,{});case 8:return r.jsx(se,{});case 9:return r.jsx(te,{});case 10:return r.jsx(K,{});default:return null}},le=!f.useMemo(()=>{var X,A,Y,Z,ae,ue,he,je,Ee,Oe;switch(u){case 0:return(X=p==null?void 0:p.culture)!=null&&X.primaryLanguage?"":"Select your daily language to continue.";case 1:return(Y=(A=p==null?void 0:p.culture)==null?void 0:A.home)!=null&&Y.country&&((ae=(Z=p==null?void 0:p.culture)==null?void 0:Z.home)!=null&&ae.region)?"":"Pick your country and state/region to continue.";case 2:return(ue=p==null?void 0:p.logistics)!=null&&ue.moveInMonth&&(((he=p==null?void 0:p.logistics)==null?void 0:he.budgetMax)??null)!==null?"":"Add your move-in month and a max monthly budget to continue.";case 3:return(((je=p==null?void 0:p.logistics)==null?void 0:je.commuteMode)||[]).length>0?"":"Choose at least one commute mode to continue.";case 4:return(Ee=p==null?void 0:p.lifestyle)!=null&&Ee.sleepPattern?"":"Pick your sleep pattern to continue.";case 6:return(Oe=p==null?void 0:p.habits)!=null&&Oe.diet?"":"Select your diet to continue.";default:return""}},[u,p]);if(e)return r.jsxs("div",{className:"nr-dots-page min-h-screen text-white",children:[r.jsx(ht,{}),r.jsx("main",{className:"min-h-[60vh] grid place-items-center",children:"Loading Synapse"})]});const ce=`calc(100vh - ${HS+cre}px)`,ne=u===0,ie=ne?lre:HS;return r.jsxs("div",{className:"nr-dots-page text-white",style:{height:"100vh",overflow:"hidden",position:"relative"},children:[r.jsx("style",{jsx:!0,children:`
        @keyframes gradientShift {
          0% { background-position: 200% 50%; }
          100% { background-position: 0% 50%; }
        }
      `}),r.jsx(ht,{}),r.jsx("section",{className:"nr-hero-bg",style:{paddingTop:20,paddingBottom:20},children:r.jsx("div",{className:"mx-auto max-w-7xl px-4",children:r.jsxs("div",{className:"flex items-start justify-between gap-8",children:[r.jsx("div",{className:"flex-1",children:r.jsx("h1",{className:"text-[36px] md:text-[48px] lg:text-[56px] font-black tracking-tight leading-[1.1]",children:new URLSearchParams(window.location.search).get("edit")==="true"?r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:"text-white",children:"Update your"}),r.jsx("div",{className:"drop-shadow-[0_0_20px_rgba(59,130,246,0.5)] drop-shadow-[0_0_40px_rgba(59,130,246,0.3)]",style:{background:"linear-gradient(90deg, #2563eb, #1e40af, #000000, #2563eb)",backgroundSize:"200% 100%",animation:"gradientShift 3s ease-in-out infinite",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Synapse preferences."})]}):r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:"text-white",children:"Let's tune your"}),r.jsx("div",{className:"drop-shadow-[0_0_20px_rgba(59,130,246,0.5)] drop-shadow-[0_0_40px_rgba(59,130,246,0.3)]",style:{background:"linear-gradient(90deg, #2563eb, #1e40af, #000000, #2563eb)",backgroundSize:"200% 100%",animation:"gradientShift 3s ease-in-out infinite",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Synapse profile."})]})})}),new URLSearchParams(window.location.search).get("edit")==="true"?r.jsx("div",{className:"flex-shrink-0",children:r.jsxs("div",{className:"relative bg-black border border-green-400/30 rounded-2xl p-5 w-[300px] shadow-lg shadow-green-500/10 overflow-hidden",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500/30 to-green-600/30 rounded-xl flex items-center justify-center flex-shrink-0 shadow-md",children:r.jsx($Y,{className:"text-green-300 text-xl"})}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:"text-green-300 font-bold text-lg",children:"Edit Mode"}),r.jsx("div",{className:"text-green-400/70 text-sm",children:"Auto-saved changes"})]})]}),r.jsx(km,{size:200,duration:4,colorFrom:"#10b981",colorTo:"#000000",borderWidth:2,delay:0,initialOffset:0,reverse:!1})]})}):null]})})}),r.jsx("section",{className:`mx-auto ${ne?"max-w-[106rem] 2xl:max-w-[116rem]":"max-w-[88rem] 2xl:max-w-[96rem]"} px-3 sm:px-4`,style:{position:"absolute",top:ie,left:0,right:0,height:ce},children:r.jsxs("div",{id:"roommateGrid",className:"grid h-full items-start",style:{gridTemplateColumns:ne?"0.7fr 0.75fr 1.3fr":"1fr 1.35fr 1.75fr",gap:dre},children:[r.jsx("aside",{className:`hidden lg:block h-full min-h-0 ${ne?"ml-0":"-ml-8 xl:-ml-12 2xl:-ml-16"}`,children:r.jsx(jre,{steps:h,current:u,onJump:M,meta:bo})}),r.jsx("div",{className:"h-full min-h-0",children:r.jsx(Nre,{step:u,total:h.length,loading:s,icon:r.jsx(wre,{kind:(de=bo[u])==null?void 0:de.iconKey,className:"h-8 w-8 md:h-9 md:w-9 text-white/80"}),title:r.jsxs(r.Fragment,{children:[(ee=bo[u])==null?void 0:ee.pre," ",r.jsx(hre,{children:(ye=bo[u])==null?void 0:ye.highlight})," ",(xe=bo[u])==null?void 0:xe.post]}),sub:(Ce=bo[u])==null?void 0:Ce.sub})}),r.jsx("div",{className:"h-full min-h-0",children:r.jsxs(OA,{className:"h-full p-0 flex flex-col",children:[r.jsx("div",{className:"p-4 sm:p-5 grow overflow-auto stealth-scroll min-h-0",children:J()}),r.jsxs("div",{className:"border-t border-white/10 bg-[#0f1115]/80 p-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"text-[12px] text-white/55",children:a?"Saving":"Autosaved"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:S,disabled:u===0,className:["inline-flex items-center gap-2 rounded-xl border px-3 py-2 text-sm","border-white/15 bg-white/5 text-white/80 hover:bg-white/10 transition",u===0?"opacity-40 cursor-not-allowed":""].join(" "),children:" Back"}),u<h.length-1?r.jsx("button",{onClick:()=>{le&&N()},disabled:!le,className:["inline-flex items-center gap-2 rounded-xl px-4 py-2 text-sm font-semibold transition",le?"bg-white text-black active:translate-y-[1px]":"bg-white/10 text-white/50 cursor-not-allowed border border-white/15"].join(" "),"aria-disabled":!le,children:"Continue "}):r.jsx("button",{onClick:async()=>{try{await ge.post("/synapse/mark-complete"),t("/Synapsematches")}catch(X){console.error("Error marking as complete:",X),t("/Synapsematches")}},className:"inline-flex items-center gap-2 rounded-xl bg-white text-black px-4 py-2 text-sm font-semibold hover:bg-gray-100 transition-colors",children:"See matches "})]})]}),l?r.jsx("div",{className:"mt-2 text-[12px] text-red-300",children:l}):null]})]})})]})}),r.jsx("style",{children:`
        .stealth-scroll { scrollbar-width: none; }
        .stealth-scroll::-webkit-scrollbar { width: 0; height: 0; }
      `})]})}function Sre({count:t=120,maxSpeed:e=.35,repelRadius:n=120,repelStrength:s=.9}){const i=f.useRef(null),a=f.useRef(0),o=f.useRef(1),l=f.useRef({x:-9999,y:-9999,active:!1}),c=f.useRef([]),u=()=>{const p=i.current;if(!p)return;const{innerWidth:m,innerHeight:g,devicePixelRatio:x=1}=window;o.current=Math.min(2,x),p.width=Math.floor(m*o.current),p.height=Math.floor(g*o.current),p.style.width=m+"px",p.style.height=g+"px"},d=()=>{const p=i.current;if(!p)return;const{width:m,height:g}=p,x=(b,v)=>b+Math.random()*(v-b);c.current=Array.from({length:t},()=>({x:x(0,m),y:x(0,g),vx:x(-e,e),vy:x(-e,e),size:x(1.2,2.8)*o.current,hue:200+Math.floor(Math.random()*80)}))},h=()=>{const p=i.current;if(!p)return;const m=p.getContext("2d"),{width:g,height:x}=p;m.clearRect(0,0,g,x);const b=m.createRadialGradient(g*.5,x*.35,0,g*.5,x*.35,Math.max(g,x)*.8);b.addColorStop(0,"rgba(46, 64, 200, 0.08)"),b.addColorStop(1,"rgba(11, 12, 15, 0)"),m.fillStyle=b,m.fillRect(0,0,g,x);const v=l.current;for(const y of c.current){if(v.active){const w=y.x-v.x*o.current,k=y.y-v.y*o.current,N=Math.hypot(w,k);if(N<n*o.current&&N>.01){const S=(n*o.current-N)/(n*o.current);y.vx+=w/N*S*s*.2,y.vy+=k/N*S*s*.2}}y.vx*=.99,y.vy*=.99,y.x+=y.vx,y.y+=y.vy,y.x<0&&(y.x=g),y.x>g&&(y.x=0),y.y<0&&(y.y=x),y.y>x&&(y.y=0),m.beginPath(),m.fillStyle=`hsla(${y.hue}, 100%, 65%, 0.55)`,m.arc(y.x,y.y,y.size,0,Math.PI*2),m.fill()}a.current=requestAnimationFrame(h)};return f.useEffect(()=>{u(),d(),a.current=requestAnimationFrame(h);const p=()=>{u(),d()},m=x=>{l.current={x:x.clientX,y:x.clientY,active:!0}},g=()=>{l.current.active=!1,l.current.x=-9999,l.current.y=-9999};return window.addEventListener("resize",p),window.addEventListener("pointermove",m,{passive:!0}),window.addEventListener("pointerleave",g),()=>{cancelAnimationFrame(a.current),window.removeEventListener("resize",p),window.removeEventListener("pointermove",m),window.removeEventListener("pointerleave",g)}},[t,e,n,s]),r.jsx("canvas",{ref:i,className:"pointer-events-none fixed inset-0 z-0","aria-hidden":"true"})}function Cre({when:t="Feb 2025"}){return r.jsxs("div",{className:"inline-flex items-center gap-3 rounded-full border border-white/10 bg-white/5 px-3 py-1 text-sm text-white/80 backdrop-blur",children:[r.jsx("span",{className:"inline-flex items-center rounded-full bg-[#2f64ff] px-2 py-0.5 text-xs font-semibold text-white",children:"Soon"}),r.jsxs("span",{className:"tracking-wide",children:["Launch in ",r.jsx("span",{className:"text-white/90",children:t})]})]})}function Ere(){const[t,e]=f.useState(""),[n,s]=f.useState(""),[i,a]=f.useState(!1),[o,l]=f.useState(!1),[c,u]=f.useState(""),d="h-11 w-full rounded-lg border border-white/10 bg-white/[0.05] px-3 text-[14px] text-white placeholder:text-white/45 outline-none focus:border-sky-500 focus:ring-4 focus:ring-sky-500/10";async function h(p){var m,g;if(p.preventDefault(),u(""),!t||!/^\S+@\S+\.\S+$/.test(t)){u("Please enter a valid email.");return}if(!n.trim()){u("Please add your university.");return}try{l(!0),await It.post("/waitlist",{email:t,university:n}),a(!0)}catch(x){u(((g=(m=x==null?void 0:x.response)==null?void 0:m.data)==null?void 0:g.message)||"Could not join the waitlist. Try again.")}finally{l(!1)}}return r.jsxs("div",{className:"relative min-h-screen overflow-hidden",children:[r.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10",children:[r.jsx("video",{src:"https://framerusercontent.com/assets/aMPvRVYHFQxBoB0v2qyJln83jI.mp4",autoPlay:!0,muted:!0,loop:!0,playsInline:!0,preload:"auto",className:"h-full w-full object-cover",style:{filter:"brightness(0.75) saturate(110%)"}}),r.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_center,rgba(0,0,0,0)_0%,rgba(0,0,0,0.35)_65%)]"})]}),r.jsx(Sre,{}),r.jsx("main",{className:"relative z-10 mx-auto flex min-h-screen max-w-6xl items-center justify-center px-4",children:r.jsxs("div",{className:"w-full max-w-lg rounded-2xl border border-white/10 bg-black/30 p-8 shadow-[0_40px_120px_rgba(0,0,0,0.45)] backdrop-blur-xl",children:[r.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[r.jsx("h1",{className:`
                brand-script text-5xl leading-none
                bg-gradient-to-r from-blue-600 to-teal-500
                bg-clip-text text-transparent
              `,children:"NewRun"}),r.jsx(Cre,{when:"Feb 2025"})]}),r.jsx("p",{className:"mb-6 text-[15px] leading-6 text-white/80",children:"Be first to try NewRun  housing, essentials, and community hand-picked for your campus. Join the waitlist and well notify you the moment we open your university."}),i?r.jsx("div",{className:"rounded-lg border border-emerald-400/30 bg-emerald-400/10 px-4 py-3 text-emerald-200",children:"Youre on the list! Well email you as soon as we go live. "}):r.jsxs("form",{onSubmit:h,className:"space-y-3",children:[r.jsx("input",{className:d,type:"email",placeholder:"University email",value:t,onChange:p=>e(p.target.value),autoComplete:"email"}),r.jsx("input",{className:d,type:"text",placeholder:"University (e.g., Northeastern)",value:n,onChange:p=>s(p.target.value)}),c&&r.jsx("div",{className:"rounded-md border border-red-500/40 bg-red-500/10 px-3 py-2 text-red-300",children:c}),r.jsx("button",{type:"submit",disabled:o,className:"inline-flex h-11 w-full items-center justify-center rounded-lg bg-[#2f64ff] text-[15px] font-medium text-white hover:bg-[#2958e3] disabled:opacity-60",children:o?"Joining":"Join the waitlist"})]}),r.jsxs("div",{className:"mt-6 text-center text-sm text-white/60",children:["By joining you agree to our"," ",r.jsx(Ie,{to:"/terms",className:"text-sky-400 hover:underline",children:"Terms"})," ","and"," ",r.jsx(Ie,{to:"/privacy",className:"text-sky-400 hover:underline",children:"Privacy Policy"}),"."]})]})})]})}const qS=({value:t,onChange:e,placeholder:n,suggestions:s=[],onSearch:i,className:a="",type:o="text"})=>{const[l,c]=f.useState(!1),[u,d]=f.useState([]),[h,p]=f.useState(-1),m=f.useRef(null),g=f.useRef(null);f.useEffect(()=>{if(t&&s.length>0){const y=s.filter(w=>w.toLowerCase().includes(t.toLowerCase()));d(y.slice(0,5))}else d([])},[t,s]),f.useEffect(()=>{const y=w=>{g.current&&!g.current.contains(w.target)&&m.current&&!m.current.contains(w.target)&&c(!1)};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[]);const x=y=>{const w=y.target.value;e(w),w.length>1?(c(!0),i&&i(w)):c(!1)},b=y=>{e(y),c(!1),p(-1)},v=y=>{if(l)switch(y.key){case"ArrowDown":y.preventDefault(),p(w=>w<u.length-1?w+1:0);break;case"ArrowUp":y.preventDefault(),p(w=>w>0?w-1:u.length-1);break;case"Enter":y.preventDefault(),h>=0&&u[h]&&b(u[h]);break;case"Escape":c(!1),p(-1);break}};return r.jsxs("div",{className:"relative w-full",children:[r.jsx("input",{ref:m,type:o,value:t,onChange:x,onKeyDown:v,onFocus:()=>{u.length>0&&c(!0)},placeholder:n,className:a,autoComplete:"off"}),l&&u.length>0&&r.jsx("div",{ref:g,className:"absolute z-50 w-full mt-1 bg-white/10 backdrop-blur-sm border border-white/20 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:u.map((y,w)=>r.jsx("div",{onClick:()=>b(y),className:`px-4 py-3 cursor-pointer text-white hover:bg-white/10 transition-colors ${w===h?"bg-white/20":""}`,children:y},y))})]})},Pre=["New York","Los Angeles","Chicago","Houston","Phoenix","Philadelphia","San Antonio","San Diego","Dallas","San Jose","Austin","Jacksonville","Fort Worth","Columbus","Charlotte","San Francisco","Indianapolis","Seattle","Denver","Washington","Boston","El Paso","Nashville","Detroit","Oklahoma City","Portland","Las Vegas","Memphis","Louisville","Baltimore","Milwaukee","Albuquerque","Tucson","Fresno","Sacramento","Mesa","Kansas City","Atlanta","Long Beach","Colorado Springs","Raleigh","Miami","Virginia Beach","Omaha","Oakland","Minneapolis","Tulsa","Arlington","Tampa","New Orleans","Wichita","Cleveland","Bakersfield","Aurora","Anaheim","Honolulu","Santa Ana","Corpus Christi","Riverside","Lexington","Stockton","Henderson","Saint Paul","St. Louis","Milwaukee","Milwaukee","Milwaukee","Milwaukee","Milwaukee","Milwaukee","Dekalb","Champaign","Urbana","Bloomington","Normal","Carbondale","Edwardsville","Charleston","Macomb","Peoria","Rockford","Springfield"],_re=["University of Illinois at Urbana-Champaign","University of Illinois at Chicago","University of Illinois at Springfield","Northern Illinois University","Illinois State University","Southern Illinois University","Western Illinois University","Eastern Illinois University","Northeastern Illinois University","Chicago State University","Governors State University","University of Chicago","Northwestern University","DePaul University","Loyola University Chicago","Illinois Institute of Technology","Roosevelt University","Columbia College Chicago","Benedictine University","Elmhurst University","Aurora University","Lewis University","North Central College","Olivet Nazarene University","Quincy University","Rockford University","Saint Xavier University","University of St. Francis","Wheaton College","Bradley University","Illinois Wesleyan University","Knox College","Lake Forest College","Monmouth College","Principia College","University of Illinois at Chicago","Harvard University","Stanford University","Massachusetts Institute of Technology","California Institute of Technology","Princeton University","Yale University","Columbia University","University of Pennsylvania","Duke University","Johns Hopkins University","Northwestern University","Brown University","Cornell University","Rice University","Vanderbilt University","Washington University in St. Louis","Emory University","Georgetown University","Carnegie Mellon University","University of Southern California","University of California, Berkeley","University of California, Los Angeles","University of Michigan","University of Virginia","University of North Carolina","Wake Forest University","New York University","Boston University","Northeastern University","Tulane University","University of Miami","University of Florida","University of Georgia","Georgia Institute of Technology","University of Texas at Austin","Texas A&M University","Rice University","University of Washington","University of Oregon","Oregon State University","University of Colorado Boulder","University of Utah","Arizona State University","University of Arizona","University of Nevada, Las Vegas","University of Hawaii","University of Alaska","University of Montana","University of Wyoming","University of North Dakota","University of South Dakota","University of Nebraska","University of Kansas","University of Oklahoma","University of Arkansas","University of Missouri","University of Iowa","University of Wisconsin","University of Minnesota","University of North Dakota","University of South Dakota","University of Nebraska","University of Kansas","University of Oklahoma","University of Arkansas","University of Missouri","University of Iowa","University of Wisconsin","University of Minnesota"],Mre=async t=>{if(t.length<2)return[];const e=Pre.filter(n=>n.toLowerCase().includes(t.toLowerCase()));return e.length>=5?e.slice(0,5):e},Tre=async t=>{if(t.length<2)return[];const e=_re.filter(n=>n.toLowerCase().includes(t.toLowerCase()));return e.length>=5?e.slice(0,5):e},Lre=new Set(["university"]),Are=({value:t,onChange:e,placeholder:n,university:s,className:i})=>{const[a,o]=f.useState([]),[l,c]=f.useState(!1),[u,d]=f.useState(!1),[h,p]=f.useState(-1),m=f.useRef(null),g=f.useCallback(async k=>{var S;if(!k)return;(S=m.current)==null||S.abort();const N=new AbortController;m.current=N,d(!0);try{const j=await(await fetch(`https://api.newrun.club/api/universities/${encodeURIComponent(k)}/majors`,{signal:N.signal})).json();j.success&&o(j.majors||[])}catch(M){M.name!=="AbortError"&&(console.error("Error fetching majors:",M),o([]))}finally{d(!1)}},[]);f.useEffect(()=>{const k=setTimeout(()=>{s&&g(s)},300);return()=>clearTimeout(k)},[s,g]);const x=k=>{const N=k.target.value;e(N),c(N.length>0),p(-1)},b=k=>{e(k),c(!1),p(-1)},v=k=>{if(!(!l||w.length===0))switch(k.key){case"ArrowDown":k.preventDefault(),p(N=>N<w.length-1?N+1:0);break;case"ArrowUp":k.preventDefault(),p(N=>N>0?N-1:w.length-1);break;case"Enter":k.preventDefault(),h>=0&&h<w.length&&b(w[h]);break;case"Escape":c(!1),p(-1);break}},y=()=>{setTimeout(()=>{c(!1),p(-1)},150)},w=a.filter(k=>k.toLowerCase().includes(t.toLowerCase()));return r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:t,onChange:x,onKeyDown:v,onFocus:()=>c(t.length>0),onBlur:y,placeholder:n,className:i,role:"combobox","aria-expanded":l,"aria-haspopup":"listbox","aria-activedescendant":l&&h>=0?`major-opt-${h}`:void 0}),u&&r.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2","aria-live":"polite","aria-label":"Loading suggestions",children:r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white/40 border-t-white"})}),l&&w.length>0&&r.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-gray-800 border border-white/20 rounded-lg shadow-lg z-50 max-h-48 overflow-y-auto",role:"listbox",children:w.map((k,N)=>r.jsx("button",{id:`major-opt-${N}`,onClick:()=>b(k),className:`w-full px-4 py-2 text-left text-white hover:bg-white/10 transition-colors ${N===h?"bg-white/20":""}`,role:"option","aria-selected":N===h,children:k},N))})]})},R0=[{id:"welcome",title:"Welcome to NewRun! ",subtitle:"Let's get you set up in just a few steps",type:"welcome"},{id:"us_status",title:"Are you currently in the US?",subtitle:"This helps us provide relevant resources",type:"selection",field:"usStatus",options:[{label:"Yes, I'm in the US",icon:j4,description:"Already in the United States",value:"in_us"},{label:"No, coming to the US",icon:k4,description:"Arriving from another country",value:"coming_to_us"}]},{id:"birthday",title:"What's your birthday?",subtitle:"This helps us verify your age and provide age-appropriate services",type:"date",field:"birthday"},{id:"academic_level",title:"What's your academic level?",subtitle:"This helps us tailor your experience",type:"selection",field:"academicLevel",options:[{label:"Undergraduate",icon:Ac,description:"Bachelor's degree student",value:"undergraduate"},{label:"Graduate Student",icon:S4,description:"Master's or PhD student",value:"graduate"},{label:"Alumni",icon:e0,description:"Graduated and working",value:"alumni"}]},{id:"university",title:t=>t.academicLevel==="alumni"?"Which university did you attend?":"Which university are you attending?",subtitle:"We'll customize your experience",type:"text",field:"university",placeholder:"Enter your university name",conditional:t=>["undergraduate","graduate","alumni"].includes(t.academicLevel)},{id:"current_situation",title:"What's your current situation?",subtitle:"Help us understand your needs",type:"selection",field:"currentSituation",options:t=>t.academicLevel==="alumni"?[{label:"Currently Working",icon:Qg,description:"Already employed, looking for services",value:"working"},{label:"Job Relocation",icon:id,description:"Got job offer, relocating",value:"relocation"},{label:"Graduate School",icon:Ac,description:"Going to graduate school",value:"grad_school"},{label:"Job Search",icon:ip,description:"Looking for job opportunities",value:"job_search"}]:[{label:"Incoming Student",icon:k4,description:"Starting university soon",value:"incoming"},{label:"Current Student",icon:uh,description:"Already studying, looking for housing",value:"current"},{label:"Transfer Student",icon:id,description:"Transferring to new university",value:"transfer"}]},{id:"major",title:"What's your field of study?",subtitle:"Help us connect you with relevant communities",type:"autocomplete",field:"major",placeholder:"e.g., Computer Science, Business, Engineering",conditional:t=>["undergraduate","graduate","alumni"].includes(t.academicLevel)},{id:"intake",title:t=>t.academicLevel==="alumni"?"When did you graduate?":"What's your intake/semester?",subtitle:t=>t.academicLevel==="alumni"?"Help us understand your background":"Help us understand your timeline",type:"selection",field:"intake",conditional:t=>["undergraduate","graduate","alumni"].includes(t.academicLevel),options:t=>t.academicLevel==="alumni"?[{label:"Spring 2020",icon:wt,description:"Graduated Spring 2020",value:"spring_2020"},{label:"Summer 2020",icon:wt,description:"Graduated Summer 2020",value:"summer_2020"},{label:"Fall 2020",icon:wt,description:"Graduated Fall 2020",value:"fall_2020"},{label:"Spring 2021",icon:wt,description:"Graduated Spring 2021",value:"spring_2021"},{label:"Summer 2021",icon:wt,description:"Graduated Summer 2021",value:"summer_2021"},{label:"Fall 2021",icon:wt,description:"Graduated Fall 2021",value:"fall_2021"},{label:"Spring 2022",icon:wt,description:"Graduated Spring 2022",value:"spring_2022"},{label:"Summer 2022",icon:wt,description:"Graduated Summer 2022",value:"summer_2022"},{label:"Fall 2022",icon:wt,description:"Graduated Fall 2022",value:"fall_2022"},{label:"Spring 2023",icon:wt,description:"Graduated Spring 2023",value:"spring_2023"},{label:"Summer 2023",icon:wt,description:"Graduated Summer 2023",value:"summer_2023"},{label:"Fall 2023",icon:wt,description:"Graduated Fall 2023",value:"fall_2023"},{label:"Spring 2024",icon:wt,description:"Graduated Spring 2024",value:"spring_2024"},{label:"Summer 2024",icon:wt,description:"Graduated Summer 2024",value:"summer_2024"},{label:"Fall 2024",icon:wt,description:"Graduated Fall 2024",value:"fall_2024"}]:[{label:"Spring 2024",icon:wt,description:"Starting Spring 2024",value:"spring_2024"},{label:"Summer 2024",icon:wt,description:"Starting Summer 2024",value:"summer_2024"},{label:"Fall 2024",icon:wt,description:"Starting Fall 2024",value:"fall_2024"},{label:"Spring 2025",icon:wt,description:"Starting Spring 2025",value:"spring_2025"},{label:"Summer 2025",icon:wt,description:"Starting Summer 2025",value:"summer_2025"},{label:"Fall 2025",icon:wt,description:"Starting Fall 2025",value:"fall_2025"},{label:"Spring 2026",icon:wt,description:"Starting Spring 2026",value:"spring_2026"},{label:"Summer 2026",icon:wt,description:"Starting Summer 2026",value:"summer_2026"},{label:"Fall 2026",icon:wt,description:"Starting Fall 2026",value:"fall_2026"}]},{id:"graduation_date",title:t=>t.currentSituation==="current"?"Confirm your graduation date":"When do you expect to graduate?",subtitle:"Help us plan your academic journey",type:"date",field:"graduationDate",conditional:t=>["undergraduate","graduate"].includes(t.academicLevel)},{id:"essentials",title:"What essentials do you need?",subtitle:"Help us prepare everything you need for your new life",type:"multi_selection",field:"essentials",conditional:t=>["undergraduate","graduate","alumni"].includes(t.academicLevel),options:[{label:"SIM Card",icon:ip,description:"US phone number and data plan",value:"sim_card",category:"communication"},{label:"Banking",icon:iY,description:"US bank account and debit card",value:"banking",category:"financial"},{label:"Cookware",icon:uh,description:"Kitchen essentials and cooking supplies",value:"cookware",category:"home"},{label:"Transportation",icon:id,description:"Public transit pass or bike",value:"transportation",category:"mobility"},{label:"Bedding",icon:uh,description:"Sheets, pillows, and comfort items",value:"bedding",category:"home"},{label:"Electronics",icon:ip,description:"Laptop accessories and adapters",value:"electronics",category:"tech"},{label:"Clothing",icon:uh,description:"Weather-appropriate clothing",value:"clothing",category:"personal"},{label:"Study Materials",icon:Ac,description:"Textbooks and school supplies",value:"study_materials",category:"academic"}]},{id:"us_entry_date",title:t=>t.currentSituation==="incoming"?"When will you arrive in the US?":"When did you first arrive in the US?",subtitle:"This helps us provide relevant resources",type:"date",field:"usEntryDate",conditional:t=>["undergraduate","graduate","alumni"].includes(t.academicLevel)},{id:"visa_status",title:"What's your visa/status?",subtitle:"This helps us provide relevant resources",type:"selection",field:"visaStatus",options:[{label:"F1 Student Visa",icon:Ac,description:"International student",value:"F1",category:"international"},{label:"CPT (F-1)",icon:b4,description:"Curricular Practical Training",value:"CPT",category:"international"},{label:"OPT / STEM-OPT (F-1)",icon:b4,description:"Post-completion OPT or STEM-OPT",value:"OPT_STEM",category:"international"},{label:"H1B Work Visa",icon:Qg,description:"Professional worker",value:"H1B",category:"professional"},{label:"US Citizen/Green Card",icon:j4,description:"US citizen or permanent resident",value:"citizen",category:"domestic"}]},{id:"location",title:"Where are you located?",subtitle:"Help us find the best local options",type:"text",field:"city",placeholder:"Enter your current city"},{id:"budget",title:"What's your monthly budget?",subtitle:"This helps us find the best options for you",type:"budget",field:"budget_range"},{id:"housing_needs",title:"What are your housing needs?",subtitle:"Choose what fits your situation",type:"selection",field:"housingNeeds",options:[{label:"On-campus",icon:Qg,description:"University housing"},{label:"Off-campus",icon:w4,description:"Private apartments/houses"},{label:"Sublet",icon:uT,description:"Temporary housing"},{label:"Need roommate",icon:e0,description:"Looking for roommate"},{label:"Have roommate",icon:_s,description:"Already have someone"},{label:"Undecided",icon:tY,description:"I need help deciding"}]},{id:"focus",title:"Where should we start?",subtitle:"Choose what you want to see first (you can select multiple)",type:"multi_selection",field:"focus",options:[{label:"Housing",icon:w4,description:"Find places near campus",value:"Housing"},{label:"Roommate",icon:e0,description:"Compatibility-based matches",value:"Roommate"},{label:"Essentials",icon:OY,description:"SIM, bank, bedding & more",value:"Essentials"},{label:"Community",icon:bY,description:"Clubs, events, groups",value:"Community"},{label:"Everything",icon:S4,description:"Show me all the things",value:"Everything"}]},{id:"completion",title:"You're all set! ",subtitle:"Welcome to the NewRun community",type:"completion"}],KS=()=>({academicLevel:null,visaStatus:null,currentSituation:null,usStatus:null,usEntryDate:"",university:"",major:"",intake:"",graduationDate:"",graduationSemester:"",graduationYear:"",essentials:[],birthday:"",moveDate:"",city:"",budget_range:{min:null,max:null},housingNeeds:null,focus:[],currentStepId:null,completed:!1,startedAt:new Date().toISOString(),completedAt:null});function Ire(){const t=pt(),[e,n]=f.useState(0),[s,i]=f.useState(()=>{try{const H=localStorage.getItem("nr_onboarding");if(H){const U=JSON.parse(H);if(U.visaStatus==="CPT_OPT"&&(U.visaStatus="OPT_STEM"),U.completed){const B=new URLSearchParams(window.location.search).get("from")||"/dashboard";return setTimeout(()=>t(B,{replace:!0}),100),U}return U}return KS()}catch{return KS()}}),[a,o]=f.useState(!1),[l,c]=f.useState(!0),[u,d]=f.useState([]),[h,p]=f.useState([]),m=f.useCallback(()=>{var V;if((V=window.matchMedia)!=null&&V.call(window,"(prefers-reduced-motion: reduce)").matches)return;const H=Date.now()+3*1e3,U=["#a786ff","#fd8bbc","#eca184","#f8deb1","#4ecdc4","#45b7d1","#96ceb4","#feca57"],B=()=>{Date.now()>H||($f({particleCount:2,angle:60,spread:55,startVelocity:60,origin:{x:0,y:.5},colors:U}),$f({particleCount:2,angle:120,spread:55,startVelocity:60,origin:{x:1,y:.5},colors:U}),requestAnimationFrame(B))};B()},[]);f.useEffect(()=>{localStorage.setItem("nr_onboarding",JSON.stringify(s))},[s]),f.useEffect(()=>{i(H=>({...H,currentStep:e}))},[e]),f.useEffect(()=>{s.currentStep&&s.currentStep<R0.length&&!s.completed&&n(s.currentStep)},[s.currentStep,s.completed]),f.useEffect(()=>{(async()=>{try{c(!0);const U=pv();if(!U){console.log(" No authentication token found for completion check"),c(!1);return}const B=localStorage.getItem("debug_mode")==="true",V=new URLSearchParams(window.location.search).get("force")==="true";if(B||V){console.log(" Debug mode enabled - allowing onboarding access"),c(!1);return}const Q=await fetch("https://api.newrun.club/onboarding-data",{headers:{Authorization:`Bearer ${U}`,"Content-Type":"application/json"}});if(Q.ok){const se=await Q.json();if(se.onboardingData&&se.onboardingData.completed){const te=new URLSearchParams(window.location.search).get("from")||"/dashboard";t(te,{replace:!0});return}}}catch(U){console.error("Error checking onboarding status:",U)}finally{c(!1)}})()},[t]);const g=f.useCallback(H=>H.conditional?H.conditional(s):!0,[s]),x=f.useMemo(()=>R0.filter(H=>g(H)),[g]);f.useEffect(()=>{if(s.currentStepId){const H=x.findIndex(U=>U.id===s.currentStepId);H>=0&&n(H)}},[s.currentStepId,x]);const v=((H,U)=>Math.max(0,Math.min(H,U.length-1)))(e,x),y=x[v]||R0[0],w=x.findIndex(H=>H.id===y.id),k=x.length,N=Math.max(0,k-2),S=Math.max(0,w-1),M=w<=0?"Welcome":w===k-1?"Complete":N===0?"Getting started":`Step ${Math.min(S,N)} of ${N}`,j=w<=0?0:Math.round(S/Math.max(1,N)*100),C=w===0,L=w===k-1;f.useEffect(()=>{if(L){const H=setTimeout(m,300);return()=>clearTimeout(H)}},[L,m]);const O=H=>{switch(H){case"Housing":return"We'll show you verified housing options near your campus. Browse properties, schedule viewings, and find your perfect place!";case"Roommate":return"Take our compatibility quiz to find your ideal roommate. We'll match you with students who share your lifestyle and preferences.";case"Essentials":return"Browse our marketplace for everything you need. From SIM cards to bedding, we've got your essentials covered with student-friendly prices.";case"Community":return"Connect with your campus community! Join clubs, attend events, and meet students who share your interests.";case"Everything":return"We'll guide you through everything step by step. From housing to roommates to essentials, we've got your entire journey covered.";default:return"We'll personalize your experience based on your needs. Explore our features and let us know how we can help!"}},F=f.useCallback(()=>{var H,U;if(!y||y.conditional&&!y.conditional(s))return!0;switch(y.id){case"university":case"major":return["undergraduate","graduate","alumni"].includes(s.academicLevel)&&!!((H=s[y.field])!=null&&H.trim());case"intake":return["undergraduate","graduate","alumni"].includes(s.academicLevel)&&!!s[y.field];case"essentials":return["undergraduate","graduate","alumni"].includes(s.academicLevel)&&Array.isArray(s[y.field])&&s[y.field].length>0;case"us_status":return!!s.usStatus;case"us_entry_date":{const G=s.usEntryDate&&new Date(s.usEntryDate);if(!G||Number.isNaN(G.getTime()))return!1;const Q=new Date;return Q.setHours(0,0,0,0),s.currentSituation==="incoming"?G>=Q:G<=Q}case"budget":const{min:B,max:V}=s.budget_range||{};return Number.isFinite(+B)&&Number.isFinite(+V)&&+B>=0&&+V>=+B;default:switch(y.type){case"welcome":return!0;case"selection":return s[y.field]!=null;case"date":return!!s[y.field];case"text":return!!((U=s[y.field])!=null&&U.trim());case"budget":return s.budget_range.min!==null&&s.budget_range.max!==null;case"boolean":return s[y.field]!==null;case"multi-select":case"multi_selection":return Array.isArray(s[y.field])&&s[y.field].length>0;case"completion":return!0;default:return!0}}},[s,y]),$=f.useCallback(async()=>{var H,U;if(!a){o(!0);try{const B={...s,completed:!0,completedAt:new Date().toISOString()};i(B),localStorage.setItem("nr_onboarding",JSON.stringify(B));try{const Q=(()=>{if(!s.usEntryDate)return null;const fe=new Date(s.usEntryDate);if(Number.isNaN(fe.getTime()))return null;const le=String(fe.getMonth()+1).padStart(2,"0"),ce=String(fe.getDate()).padStart(2,"0");return`${le}-${ce}`})(),se={birthday:s.birthday?new Date(s.birthday):null,academicLevel:s.academicLevel,university:s.university||"",major:s.major||"",intake:s.intake||null,graduationDate:s.graduationDate?new Date(s.graduationDate):null,currentSituation:s.currentSituation,usStatus:s.usStatus||null,usEntryDate:s.usEntryDate?new Date(s.usEntryDate):null,visaStatus:s.visaStatus,city:s.city||"",budgetRange:{min:(H=s.budget_range)!=null&&H.min?parseInt(s.budget_range.min):null,max:(U=s.budget_range)!=null&&U.max?parseInt(s.budget_range.max):null},housingNeeds:s.housingNeeds||"Undecided",essentials:s.essentials||[],focus:s.focus||["Everything"],arrivalAnniversaryMMDD:Q,completed:!0,completedAt:new Date},te=pv();if(console.log(" ONBOARDING COMPLETION - Sending data to backend"),console.log(" Token present:",!!te),console.log(" Onboarding payload:",JSON.stringify(se,null,2)),!te){console.error(" No authentication token found! Cannot save onboarding data.");return}const J=await fetch("https://api.newrun.club/save-onboarding",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${te}`},body:JSON.stringify({onboardingData:se})});if(console.log(" Response status:",J.status),console.log(" Response ok:",J.ok),J.ok){const fe=await J.json();console.log(" Onboarding data saved successfully:",fe),localStorage.removeItem("nr_onboarding"),localStorage.removeItem("nr_onboarding_focus"),localStorage.removeItem("profileCompleted")}else{const fe=await J.text();console.error(" Failed to save onboarding data to backend:",fe)}}catch(Q){console.error(" Error saving onboarding data:",Q)}const V=setTimeout(()=>{try{switch(s.focus){case"Housing":t("/all-properties",{state:{from:"onboarding"}});break;case"Roommate":t("/Synapsematches",{state:{from:"onboarding"}});break;case"Essentials":t("/marketplace",{state:{from:"onboarding",category:"essentials"}});break;case"Community":t("/community",{state:{from:"onboarding"}});break;default:t("/dashboard",{state:{from:"onboarding"}})}}catch(Q){console.error("Navigation error:",Q),t("/dashboard",{state:{from:"onboarding"}})}},3e3),G=setTimeout(()=>{a&&(console.warn("Onboarding completion timeout, forcing redirect"),t("/dashboard",{state:{from:"onboarding"}}))},1e4);return()=>{clearTimeout(V),clearTimeout(G)}}catch(B){console.error("Error during completion:",B),o(!1)}}},[s,t,a]),I=f.useCallback(()=>{const H=x.findIndex(B=>B.id===y.id),U=x.length-1;if(H>=U)$();else{const B=H+1;n(B),i(V=>({...V,currentStepId:x[B].id})),localStorage.setItem("nr_onboarding",JSON.stringify({...s,currentStepId:x[B].id}))}},[s,x,y,$]),_=f.useCallback(()=>{const H=x.findIndex(U=>U.id===y.id);H>0&&n(H-1)},[x,y]);f.useEffect(()=>{const H=U=>{var se,te,K,J,fe,le,ce,ne,ie;const B=(((se=U.target)==null?void 0:se.tagName)||"").toLowerCase(),V=B==="input"||B==="textarea",G=((K=(te=U.target)==null?void 0:te.getAttribute)==null?void 0:K.call(te,"role"))==="combobox"||((fe=(J=U.target)==null?void 0:J.closest)==null?void 0:fe.call(J,'[role="listbox"]')),Q=((ce=(le=U.target)==null?void 0:le.tagName)==null?void 0:ce.toLowerCase())==="button"&&((ie=(ne=U.target)==null?void 0:ne.closest)==null?void 0:ie.call(ne,'[role="listbox"]'));if(U.key==="Enter"){if(V||G||Q)return;y.type==="completion"&&!a?$():(y.type==="welcome"||F())&&I()}};return window.addEventListener("keydown",H),()=>window.removeEventListener("keydown",H)},[y.type,F,I,$,a]);const P=(H,U)=>{i(B=>{const V={...B,[H]:U};if(H==="academicLevel"&&Object.assign(V,{currentSituation:null,university:"",major:"",intake:"",graduationDate:"",usStatus:null,arrivalDate:""}),H==="currentSituation"){if(U!=="incoming"){V.usStatus=null;const G=V.usEntryDate?new Date(V.usEntryDate):null;G&&G>new Date&&(V.usEntryDate="")}U!=="current"&&(V.graduationDate=""),U!=="transfer"&&(V.intake="")}return H==="focus"&&U==="Everything"&&(V.housingSelected=!0,V.roommateSelected=!0,V.essentialsSelected=!0,V.communitySelected=!0),V})},E=(H,U)=>{i(B=>({...B,[H]:B[H].includes(U)?B[H].filter(V=>V!==U):[...B[H],U]}))},T=(H,U)=>{const B=U===""?null:Number(U);i(V=>({...V,budget_range:{...V.budget_range,[H]:B}}))},D=H=>{if(!H.usEntryDate)return"";const U=new Date(H.usEntryDate);if(Number.isNaN(U.getTime()))return"Enter a valid date.";const B=new Date;return B.setHours(0,0,0,0),H.currentSituation==="incoming"&&U<B?"Arrival must be today or in the future.":H.currentSituation!=="incoming"&&U>B?"Arrived date cannot be in the future.":""},R=async H=>{const U=await Mre(H);d(U)},z=async H=>{const U=await Tre(H);p(U)},q=()=>{var H,U;switch(y.type){case"welcome":return r.jsxs("div",{className:"text-center",children:[r.jsx(we.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},className:"text-6xl mb-6",children:""}),r.jsx("p",{className:"text-white/70 text-lg mb-8",children:"We're excited to help you get started with your university journey!"}),r.jsx(we.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{I()},className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-4 rounded-xl font-semibold text-lg transition-all duration-200 shadow-lg hover:shadow-blue-500/25 cursor-pointer",children:"Let's Get Started! "}),r.jsx("p",{className:"text-white/50 text-sm mt-4",children:"Click the button above or press Enter to begin your setup"})]});case"selection":return y.id==="intake"&&s.academicLevel==="alumni"?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-blue-400 text-base font-semibold mb-4",children:"Semester"}),r.jsxs("select",{value:s.graduationSemester||"",onChange:G=>{const Q=G.target.value,se=s.graduationYear||"",te=Q&&se?`${Q}_${se}`:"";P("graduationSemester",Q),P("intake",te)},className:"w-full p-4 rounded-xl border-2 border-white/20 bg-black/40 text-white placeholder-white/50 focus:border-blue-500 focus:bg-black/60 transition-all duration-200 hover:border-white/40 hover:bg-black/50",style:{backgroundImage:`url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e")`,backgroundPosition:"right 12px center",backgroundRepeat:"no-repeat",backgroundSize:"16px"},children:[r.jsx("option",{value:"",className:"bg-black text-white",children:"Select semester"}),r.jsx("option",{value:"spring",className:"bg-black text-white",children:"Spring"}),r.jsx("option",{value:"summer",className:"bg-black text-white",children:"Summer"}),r.jsx("option",{value:"fall",className:"bg-black text-white",children:"Fall"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-blue-400 text-base font-semibold mb-4",children:"Year"}),r.jsxs("select",{value:s.graduationYear||"",onChange:G=>{const Q=G.target.value,se=s.graduationSemester||"",te=se&&Q?`${se}_${Q}`:"";P("graduationYear",Q),P("intake",te)},className:"w-full p-4 rounded-xl border-2 border-white/20 bg-black/40 text-white placeholder-white/50 focus:border-blue-500 focus:bg-black/60 transition-all duration-200 hover:border-white/40 hover:bg-black/50",style:{backgroundImage:`url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e")`,backgroundPosition:"right 12px center",backgroundRepeat:"no-repeat",backgroundSize:"16px"},children:[r.jsx("option",{value:"",className:"bg-black text-white",children:"Select year"}),r.jsx("option",{value:"2020",className:"bg-black text-white",children:"2020"}),r.jsx("option",{value:"2021",className:"bg-black text-white",children:"2021"}),r.jsx("option",{value:"2022",className:"bg-black text-white",children:"2022"}),r.jsx("option",{value:"2023",className:"bg-black text-white",children:"2023"}),r.jsx("option",{value:"2024",className:"bg-black text-white",children:"2024"})]})]})]}),s.intake&&r.jsx("div",{className:"text-center",children:r.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-blue-500/10 border border-blue-500/20",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),r.jsxs("p",{className:"text-white/90 text-sm",children:["Selected: ",r.jsx("span",{className:"text-blue-400 font-medium capitalize",children:s.intake.replace("_"," ")})]})]})})]}):r.jsx("div",{children:r.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:(typeof y.options=="function"?y.options(s):y.options).map(G=>r.jsx(we.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{const Q=G.value||G.label;P(y.field,Q),setTimeout(I,300)},className:`p-6 rounded-2xl border-2 transition-all duration-200 text-left ${s[y.field]===(G.value||G.label)?"border-blue-500 bg-blue-500/10 text-white":"border-white/20 hover:border-white/40 hover:bg-white/5 text-white/90"}`,children:r.jsxs("div",{className:"flex items-center gap-4",children:[G.icon&&r.jsx(G.icon,{size:24,className:"text-blue-400"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-lg text-white",children:G.label}),r.jsx("p",{className:"text-white/70 text-sm",children:G.description})]}),s[y.field]===(G.value||G.label)&&r.jsx(_s,{size:20,className:"text-green-400"})]})},G.label))})});case"multi_selection":return r.jsxs("div",{children:[r.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:y.options.map(G=>{var se;const Q=(se=s[y.field])==null?void 0:se.includes(G.value);return r.jsx(we.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{const te=s[y.field]||[];let K;G.value==="Everything"?Q?K=[]:K=y.options.filter(J=>J.value!=="Everything").map(J=>J.value):(K=Q?te.filter(J=>J!==G.value):[...te,G.value],te.includes("Everything")&&Q&&(K=K.filter(J=>J!=="Everything"))),P(y.field,K)},className:`p-6 rounded-2xl border-2 transition-all duration-200 text-left ${Q?"border-blue-500 bg-blue-500/10 text-white":"border-white/20 hover:border-white/40 hover:bg-white/5 text-white/90"}`,children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"p-3 rounded-xl bg-blue-500/20",children:r.jsx(G.icon,{size:24,className:"text-blue-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-lg mb-1",children:G.label}),r.jsx("p",{className:"text-white/70 text-sm",children:G.description})]}),Q&&r.jsx(_s,{size:24,className:"text-blue-400"})]})},G.label)})}),r.jsx("div",{className:"mt-6 text-center",children:r.jsxs("button",{onClick:I,disabled:!((H=s[y.field])!=null&&H.length),className:"px-8 py-3 bg-blue-500 text-white rounded-xl font-semibold hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:["Continue (",((U=s[y.field])==null?void 0:U.length)||0," selected)"]})})]});case"date":const B=y.id==="us_entry_date",V=B?D(s):"";return r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx("input",{type:"date",value:s[y.field],onChange:G=>P(y.field,G.target.value),"aria-invalid":!!V,className:`w-full p-4 rounded-xl bg-white/10 border text-white text-center text-lg focus:outline-none ${V?"border-red-500 focus:border-red-500":"border-white/30 focus:border-blue-500"}`}),B&&V&&r.jsx("p",{className:"mt-2 text-sm text-red-400",role:"alert",children:V})]});case"autocomplete":return r.jsx("div",{className:"max-w-md mx-auto",children:y.field==="major"?r.jsx(Are,{value:s[y.field],onChange:G=>P(y.field,G),placeholder:y.placeholder,university:s.university,className:"w-full p-4 rounded-xl bg-white/10 border border-white/30 text-white text-center text-lg focus:outline-none focus:border-blue-500 placeholder-white/50"}):r.jsx("input",{type:"text",value:s[y.field],onChange:G=>P(y.field,G.target.value),placeholder:y.placeholder,className:"w-full p-4 rounded-xl bg-white/10 border border-white/30 text-white text-center text-lg focus:outline-none focus:border-blue-500 placeholder-white/50"})});case"text":return r.jsx("div",{className:"max-w-md mx-auto",children:y.field==="city"?r.jsx(qS,{value:s[y.field],onChange:G=>P(y.field,G),onSearch:R,suggestions:u,placeholder:y.placeholder,className:"w-full p-4 rounded-xl bg-white/10 border border-white/30 text-white text-center text-lg focus:outline-none focus:border-blue-500 placeholder-white/50"}):y.field==="university"?r.jsx(qS,{value:s[y.field],onChange:G=>P(y.field,G),onSearch:z,suggestions:h,placeholder:y.placeholder,className:"w-full p-4 rounded-xl bg-white/10 border border-white/30 text-white text-center text-lg focus:outline-none focus:border-blue-500 placeholder-white/50"}):r.jsx("input",{type:"text",value:s[y.field],onChange:G=>P(y.field,G.target.value),placeholder:y.placeholder,className:"w-full p-4 rounded-xl bg-white/10 border border-white/30 text-white text-center text-lg focus:outline-none focus:border-blue-500 placeholder-white/50"})});case"budget":return r.jsxs("div",{className:"max-w-md mx-auto space-y-4",children:[r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{className:"block text-white text-sm mb-2 font-medium",children:"Min Budget"}),r.jsx("input",{type:"number",value:s.budget_range.min,onChange:G=>T("min",G.target.value),placeholder:"0",className:"w-full p-3 rounded-lg bg-white/10 border border-white/30 text-white text-center focus:outline-none focus:border-blue-500 placeholder-white/50"})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{className:"block text-white text-sm mb-2 font-medium",children:"Max Budget"}),r.jsx("input",{type:"number",value:s.budget_range.max,onChange:G=>T("max",G.target.value),placeholder:"1000",className:"w-full p-3 rounded-lg bg-white/10 border border-white/30 text-white text-center focus:outline-none focus:border-blue-500 placeholder-white/50"})]})]}),r.jsx("p",{className:"text-white/60 text-sm text-center",children:"Per month in your local currency"})]});case"boolean":return r.jsxs("div",{className:"flex gap-6 justify-center",children:[r.jsx(we.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{P(y.field,!0),setTimeout(I,300)},className:`px-8 py-4 rounded-xl font-semibold transition-all ${s[y.field]===!0?"bg-green-600 text-white":"bg-white/10 text-white/70 hover:bg-white/20"}`,children:"Yes"}),r.jsx(we.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{P(y.field,!1),setTimeout(I,300)},className:`px-8 py-4 rounded-xl font-semibold transition-all ${s[y.field]===!1?"bg-red-600 text-white":"bg-white/10 text-white/70 hover:bg-white/20"}`,children:"No"})]});case"multi-select":return r.jsx("div",{className:"grid gap-3",children:y.options.map(G=>r.jsx(we.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>E(y.field,G.value),className:`p-4 rounded-xl border-2 transition-all duration-200 text-left ${s[y.field].includes(G.value)?"border-blue-500 bg-blue-500/10 text-white":"border-white/20 hover:border-white/40 hover:bg-white/5 text-white/90"}`,children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center ${s[y.field].includes(G.value)?"border-blue-500 bg-blue-500":"border-white/40"}`,children:s[y.field].includes(G.value)&&r.jsx(_s,{size:16,className:"text-white"})}),r.jsx("span",{className:"font-medium text-white",children:G.label})]})},G.value))});case"completion":return r.jsxs("div",{className:"text-center",children:[r.jsx(we.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{duration:.8,delay:.2,type:"spring",bounce:.6},className:"relative mb-8",children:r.jsx(we.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.6,delay:.8},className:"w-24 h-24 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center shadow-2xl mx-auto",children:r.jsx(_s,{size:48,className:"text-white"})})}),r.jsx("h2",{className:"text-3xl font-bold mb-4 text-white",children:"Welcome to NewRun!"}),r.jsx("p",{className:"text-white/80 text-lg mb-8",children:"Your profile is complete. Let's get started with your personalized experience!"}),r.jsxs("div",{className:"bg-white/5 rounded-xl p-6 mb-8 border border-white/10",children:[r.jsx("h3",{className:"text-xl font-semibold mb-3 text-white",children:"What's Next?"}),r.jsx("p",{className:"text-white/70 text-sm mb-4",children:O(s.focus)}),a&&r.jsxs("div",{className:"flex items-center justify-center gap-2 text-blue-400 text-sm",children:[r.jsx("div",{className:"w-4 h-4 border-2 border-blue-400 border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Setting up your experience..."})]})]}),r.jsx(we.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:$,disabled:a,className:`flex items-center gap-2 px-8 py-4 rounded-xl font-semibold transition-all mx-auto ${a?"opacity-50 cursor-not-allowed bg-gray-600":"bg-blue-600 text-white hover:bg-blue-700"}`,children:a?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Setting up..."]}):r.jsxs(r.Fragment,{children:["Continue to NewRun",r.jsx(id,{size:20})]})})]});default:return null}};return l?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-800 flex items-center justify-center p-6",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-white/70 text-sm",children:"Checking onboarding status..."})]})}):r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-800 flex items-center justify-center p-6",children:r.jsxs("div",{className:"w-full max-w-2xl",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex justify-between text-sm text-white/60 mb-2",children:[r.jsx("span",{children:M}),r.jsxs("span",{children:[j,"%"]})]}),r.jsx("div",{className:"w-full bg-white/10 rounded-full h-2",children:r.jsx(we.div,{className:"bg-blue-500 h-2 rounded-full",initial:{width:0},animate:{width:`${j}%`},transition:{duration:.3}})})]}),r.jsxs(we.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"bg-white/5 backdrop-blur-sm border border-white/10 rounded-3xl p-8 md:p-10",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4 text-white",children:typeof y.title=="function"?y.title(s):y.title}),r.jsx("p",{className:"text-white/80 text-lg",children:typeof y.subtitle=="function"?y.subtitle(s):y.subtitle})]}),r.jsx("div",{className:"mb-8",children:q()}),y.type!=="welcome"&&y.type!=="completion"&&r.jsxs("div",{className:"flex justify-between",children:[r.jsxs(we.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:_,disabled:C,className:`flex items-center gap-2 px-6 py-3 rounded-xl font-semibold transition-all ${C?"opacity-50 cursor-not-allowed":"bg-white/10 text-white hover:bg-white/20"}`,children:[r.jsx(ao,{size:20}),"Back"]}),r.jsxs(we.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:I,disabled:!F(),className:`flex items-center gap-2 px-6 py-3 rounded-xl font-semibold transition-all ${F()?"bg-blue-600 text-white hover:bg-blue-700":"opacity-50 cursor-not-allowed bg-gray-600"}`,children:[L?"Complete":"Next",r.jsx(id,{size:20})]})]}),y.type==="text"&&!Lre.has(y.id)&&r.jsx("div",{className:"text-center mt-4",children:r.jsx("button",{onClick:I,className:"text-white/60 hover:text-white/80 text-sm underline",children:"Skip this step"})})]},y.id)]})})}function Ore(){const[t,e]=f.useState([]),[n,s]=f.useState("pending"),[i,a]=f.useState(!0),o=async(c=n)=>{var u;a(!0);try{const d=await ge.get(`/contact-access/inbox?status=${c}`);e(((u=d.data)==null?void 0:u.items)||[])}catch(d){console.error(d)}finally{a(!1)}};f.useEffect(()=>{o()},[n]),f.useEffect(()=>{let c;return(async()=>{var m;const{io:u}=await hm(async()=>{const{io:g}=await Promise.resolve().then(()=>Ow);return{io:g}},void 0);c=u("http://localhost:8000",{transports:["websocket"],withCredentials:!0});const h=localStorage.getItem("user"),p=h?(m=JSON.parse(h))==null?void 0:m._id:null;p&&c.emit("registerUser",p),c.on("contact_request:new",()=>{n==="pending"&&o("pending")}),c.on("contact_request:updated",()=>{o(n)})})(),()=>{c&&c.disconnect()}},[n]);const l=async(c,u)=>{try{await ge.post(`/contact-access/${c}/${u}`),o(n)}catch(d){console.error(d)}};return r.jsxs("div",{className:"min-h-screen bg-[#0b0c0f] text-white",children:[r.jsx(ht,{}),r.jsxs("div",{className:"mx-auto max-w-5xl px-4 py-8",children:[r.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[r.jsx("h1",{className:"text-2xl font-semibold",children:"Contact requests"}),r.jsx("div",{className:"ml-auto flex items-center gap-2",children:["pending","approved","denied"].map(c=>r.jsx("button",{onClick:()=>s(c),className:`rounded-md px-3 py-1.5 text-sm ${n===c?"bg-white/20":"bg-white/10 hover:bg-white/15"}`,children:c},c))})]}),i?r.jsx("div",{className:"text-white/70",children:"Loading"}):t.length===0?r.jsxs("div",{className:"text-white/60",children:["No ",n," requests."]}):r.jsx("div",{className:"space-y-3",children:t.map(c=>{var u,d,h,p;return r.jsx("div",{className:"rounded-xl border border-white/10 p-4 bg-white/[0.03]",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium",children:((u=c==null?void 0:c.propertyId)==null?void 0:u.title)||"Property"}),r.jsxs("div",{className:"text-sm text-white/70",children:["From: ",(d=c==null?void 0:c.requesterId)==null?void 0:d.firstName," ",(h=c==null?void 0:c.requesterId)==null?void 0:h.lastName," (",(p=c==null?void 0:c.requesterId)==null?void 0:p.email,")"]}),r.jsxs("div",{className:"text-xs text-white/50",children:["Requested ",new Date(c.createdAt).toLocaleString()]})]}),n==="pending"?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{className:"rounded-lg bg-emerald-500 px-3 py-1.5 text-sm font-semibold text-white hover:bg-emerald-600",onClick:()=>l(c._id,"approve"),children:"Approve"}),r.jsx("button",{className:"rounded-lg bg-rose-500 px-3 py-1.5 text-sm font-semibold text-white hover:bg-rose-600",onClick:()=>l(c._id,"deny"),children:"Deny"})]}):r.jsxs("div",{className:"text-sm text-white/70",children:["Status: ",c.status,c.status==="approved"&&(c.phone||c.email)?r.jsxs("span",{className:"ml-2",children:[" shared: ",c.phone||""," ",c.email?` ${c.email}`:""]}):null]})]})},c._id)})})]})]})}const Rre="radial-gradient(farthest-side circle at var(--pointer-x) var(--pointer-y),hsla(266,100%,90%,var(--card-opacity)) 4%,hsla(266,50%,80%,calc(var(--card-opacity)*0.75)) 10%,hsla(266,25%,70%,calc(var(--card-opacity)*0.5)) 50%,hsla(266,0%,60%,0) 100%),radial-gradient(35% 52% at 55% 20%,#00ffaa64 0%,#073aff00 100%),radial-gradient(100% 100% at 50% 50%,#00c1ff64 1%,#073aff00 76%)",Dre="linear-gradient(145deg,#60496e4c 0%,#71C4FF22 100%)",wc={SMOOTH_DURATION:600,INITIAL_DURATION:1500,INITIAL_X_OFFSET:70,INITIAL_Y_OFFSET:60,DEVICE_BETA_OFFSET:20},Sh=(t,e=0,n=100)=>Math.min(Math.max(t,e),n),wy=(t,e=3)=>parseFloat(t.toFixed(e)),Ch=(t,e,n,s,i)=>wy(s+(i-s)*(t-e)/(n-e)),$re=t=>t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2,Fre=({avatarUrl:t="<Placeholder for avatar URL>",iconUrl:e="<Placeholder for icon URL>",grainUrl:n="<Placeholder for grain URL>",behindGradient:s,innerGradient:i,showBehindGradient:a=!0,className:o="",enableTilt:l=!0,enableMobileTilt:c=!1,mobileTiltSensitivity:u=5,miniAvatarUrl:d,name:h="Javi A. Torres",title:p="Software Engineer",handle:m="javicodes",status:g="Online",contactText:x="Contact",showUserInfo:b=!0,onContactClick:v,children:y})=>{const w=f.useRef(null),k=f.useRef(null),N=f.useMemo(()=>{if(!l)return null;let F=null;const $=(_,P,E,T)=>{const D=E.clientWidth,R=E.clientHeight,z=Sh(100/D*_),q=Sh(100/R*P),H=z-50,U=q-50,B={"--pointer-x":`${z}%`,"--pointer-y":`${q}%`,"--background-x":`${Ch(z,0,100,35,65)}%`,"--background-y":`${Ch(q,0,100,35,65)}%`,"--pointer-from-center":`${Sh(Math.hypot(q-50,z-50)/50,0,1)}`,"--pointer-from-top":`${q/100}`,"--pointer-from-left":`${z/100}`,"--rotate-x":`${wy(-(H/5))}deg`,"--rotate-y":`${wy(U/4)}deg`};Object.entries(B).forEach(([V,G])=>{T.style.setProperty(V,G)})};return{updateCardTransform:$,createSmoothAnimation:(_,P,E,T,D)=>{const R=performance.now(),z=D.clientWidth/2,q=D.clientHeight/2,H=U=>{const B=U-R,V=Sh(B/_),G=$re(V),Q=Ch(G,0,1,P,z),se=Ch(G,0,1,E,q);$(Q,se,T,D),V<1&&(F=requestAnimationFrame(H))};F=requestAnimationFrame(H)},cancelAnimation:()=>{F&&(cancelAnimationFrame(F),F=null)}}},[l]),S=f.useCallback(F=>{const $=k.current,I=w.current;if(!$||!I||!N)return;const _=$.getBoundingClientRect();N.updateCardTransform(F.clientX-_.left,F.clientY-_.top,$,I)},[N]),M=f.useCallback(()=>{const F=k.current,$=w.current;!F||!$||!N||(N.cancelAnimation(),$.classList.add("active"),F.classList.add("active"))},[N]),j=f.useCallback(F=>{const $=k.current,I=w.current;!$||!I||!N||(N.createSmoothAnimation(wc.SMOOTH_DURATION,F.offsetX,F.offsetY,$,I),I.classList.remove("active"),$.classList.remove("active"))},[N]),C=f.useCallback(F=>{const $=k.current,I=w.current;if(!$||!I||!N)return;const{beta:_,gamma:P}=F;!_||!P||N.updateCardTransform($.clientHeight/2+P*u,$.clientWidth/2+(_-wc.DEVICE_BETA_OFFSET)*u,$,I)},[N,u]);f.useEffect(()=>{if(!l||!N)return;const F=k.current,$=w.current;if(!F||!$)return;const I=S,_=M,P=j,E=C,T=()=>{!c||location.protocol!=="https:"||(typeof window.DeviceMotionEvent.requestPermission=="function"?window.DeviceMotionEvent.requestPermission().then(z=>{z==="granted"&&window.addEventListener("deviceorientation",E)}).catch(z=>console.error(z)):window.addEventListener("deviceorientation",E))};F.addEventListener("pointerenter",_),F.addEventListener("pointermove",I),F.addEventListener("pointerleave",P),F.addEventListener("click",T);const D=$.clientWidth-wc.INITIAL_X_OFFSET,R=wc.INITIAL_Y_OFFSET;return N.updateCardTransform(D,R,F,$),N.createSmoothAnimation(wc.INITIAL_DURATION,D,R,F,$),()=>{F.removeEventListener("pointerenter",_),F.removeEventListener("pointermove",I),F.removeEventListener("pointerleave",P),F.removeEventListener("click",T),window.removeEventListener("deviceorientation",E),N.cancelAnimation()}},[l,c,N,S,M,j,C]);const L=f.useMemo(()=>({"--icon":e?`url(${e})`:"none","--grain":n?`url(${n})`:"none","--behind-gradient":a?s??Rre:"none","--inner-gradient":i??Dre}),[e,n,a,s,i]),O=f.useCallback(F=>{v==null||v(F)},[v]);return r.jsx("div",{ref:w,className:`pc-card-wrapper ${o}`.trim(),style:L,children:r.jsx("section",{ref:k,className:"pc-card",children:r.jsxs("div",{className:"pc-inside",children:[r.jsx("div",{className:"pc-shine"}),r.jsx("div",{className:"pc-glare"}),r.jsxs("div",{className:"pc-content pc-avatar-content",children:[r.jsx("img",{className:"avatar",src:t,alt:`${h||"User"} avatar`,loading:"lazy",onError:F=>{const $=F.target;$.style.display="none"}}),b&&r.jsxs("div",{className:"pc-user-info",children:[r.jsxs("div",{className:"pc-user-details",children:[r.jsx("div",{className:"pc-mini-avatar",children:r.jsx("img",{src:d||t,alt:`${h||"User"} mini avatar`,loading:"lazy",onError:F=>{const $=F.target;$.style.opacity="0.5",$.src=t}})}),r.jsxs("div",{className:"pc-user-text",children:[r.jsxs("div",{className:"pc-handle",children:["@",m]}),r.jsx("div",{className:"pc-status",children:g})]})]}),r.jsx("button",{className:"pc-contact-btn",onClick:O,style:{pointerEvents:"auto"},type:"button","aria-label":`Contact ${h||"user"}`,children:x})]})]}),r.jsx("div",{className:"pc-overlay-slot",children:y}),r.jsx("div",{className:"pc-content",children:r.jsxs("div",{className:"pc-details",children:[r.jsx("h3",{children:h}),r.jsx("p",{children:p})]})})]})})})},zre=_e.memo(Fre),RA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEqUlEQVR4nO2Z20+aZxzH3/ZiHmACShFQDjarnduF+wOWmEjVeqoKyFFRwHTJbvYnkIjDQ1cQFZSqYFtbrIebJo12m96ZLNnabBfatOnU9GKRddU168WatfkuD7Or1sPLC7zYC77Jc/1+vg+/53l+vy8UlVZaaSVdirC1Wh5uW5CF27cLw5Zt2U3LQsGkpZp636UI20vkt6x35FPtkIfbIQu3QXbTgsIbFhROtkJ63bwonTR9dtycVOG0Pbdo1t6jnLE9UMzYnyunbVBMW6G4ZcVh8AXXW/5b18yQXjVDOmGCJGR4LgkaV8VBQ7fcbxKkBP709EV50VzHhnLWDuWMHXHDTxghCRkhDhogHjdANKpblwb1MnbpHY6Tyjn7crLh88f0yB/TQTTavEy+wRp/0WyHnT14HURXmiEMaGyswBffvihUzNgibMKLAloIA9qIJGAUJo8c1AnlXIdFMWPbZBv+FFkjGgj96mdCn/qrhMuJHFh2a163H344agB5vibkDTUtC3wNsvivShZum5jhfU3IHWpE7mDjGs9fy/yKLZrr6H0P4CEYaIBg4IKLsQHySKUEflgDoU8N4Q74AfDg99evxGHA/oJ1eL8aEo8aX9zuw2mvHnmDjfvgBd4L4Hnq/mJsQDFte8k2vNjdhPlHP4Do0R9PcHbQjFxvwx54fn89+O66v+MwYH3F6s671fju8Y/Yrfu/PQS/t2YvvKcOPHfdP4zglVPW0lTDvzVQ/S48eO5a8C/Xlsa++1PWb2nhr5ogDZogDcVfNrv18OkTFHsNEHjq98HnXK7Fh5eql2IfRujgQyZ8PNaOL+fdkI0YIBk3JLTzq5F1fNSvPxQ+55saYoAs+qGITFJ08J+O2bD6dCP68aWN+5D5dBCP6lnZ+Zy38OD2nV+gNUDGwKNqXuxvxi+bj/dAfL/2EwoGm5FPoNnZeXD7zoPTW/UnrYGdGfbQAyv2afHzOwbemJAOaCEa0bICz+2tAqencov+F7jROn/kbTNuwCej7f+X0G4trd1DgVcTfV2TWDYg8NyeKnC6K+ZpDZD0gPaqHNOjJNB2oInFtXuQ9mtYgK9Edk9FbMlGwbWWu7T3/BUdSgKWA02QkklW2XDfwLsqF2OC3zFQGtMjFWjGWX8rVn9f3webzJ3nEAPdlbE/ZETSCfOrmF7YYQ2KfS1YOcJEwvCuCmatBJEkZHrJ5IUtHjJjJbLOBjyyu1TMmzlJyPCC0TAy1IQzA8Y9JpIC//U5ZHWdY95Oi4OGB4wnqcFGnPEao00ZWfEeWM5eeGR1qpgPNCTui2sM9DZEW+JoV5kMeKcKGU5VF2MDJKskcV+cM+yBLXE88JnO8l953Z/Hl5uSrJLEfccFn9GpWs5ylBVSCQnUiVPDWotwRLOZKvhMZ/mzDzrLEw+2dovEfXnDmkgK4CNcR1kSo8VdEvrU9hSUjY1iTQ7HSRL3sVnzFJvxOhHJKkncx8Ztk5XwgY1RJKskcR9JzPie+i2+p/Y1c3jV60ynaos8UhnOchfPUcanjltcT01JzqWaO0e1xNldFcf/Jx+dSHpABnBOT9U2p7tqm+OqXIh5GEkrrbQoJvoXZTdWgBhNh8sAAAAASUVORK5CYII=",GS={"northern illinois university":"niu.edu"},mp=new Map;function $w(t=""){return String(t||"").trim().toLowerCase()}function Bre(t=""){const e=$w(t);if(!e)return"";if(GS[e])return GS[e];const n=e.replace(/[^a-z0-9]+/g,"");return n?`${n}.edu`:""}function Ure(t){return t?`https://logo.clearbit.com/${t}`:""}const jy="nr:uniLogo:";function Ny(t){const e=$w(t);if(!e)return"";const n=mp.get(e);if(n)return n;try{const i=localStorage.getItem(jy+e);if(i)return mp.set(e,i),i}catch{}const s=Ure(Bre(t));return s&&mp.set(e,s),s}function Vre(t){const e=$w(t);if(!e)return;const n=Ny(t);if(!n)return;try{if(localStorage.getItem(jy+e))return}catch{}const s=new Image;s.referrerPolicy="no-referrer",s.onload=()=>{try{localStorage.setItem(jy+e,n)}catch{}mp.set(e,n)},s.onerror=()=>{},s.src=n}const Wre=({full:t="",firstName:e="",lastName:n=""}={})=>{const s=l=>String(l).trim().split(/\s+/).filter(Boolean),i=s(e),a=s(n);if(i.length||a.length){if(i.length>=2)return`${i[0]} ${i[1]}`.trim();if(i.length===1&&a.length>=2)return`${i[0]} ${a[a.length-1]}`.trim();const l=i[0]||"",c=a[a.length-1]||"";return`${l} ${c}`.trim()||(t||"").trim()}const o=s(t);return o.length<=2?o.join(" ").trim():`${o[0]} ${o[1]}`.trim()},Hre=t=>{try{const e=Date.now()-new Date(t).getTime(),n=Math.floor(e/6e4);if(n<1)return"just now";if(n<60)return`${n}m ago`;const s=Math.floor(n/60);return s<24?`${s}h ago`:`${Math.floor(s/24)}d ago`}catch{return"recently"}},qre=({item:t,onOpen:e,onMessage:n,className:s="",hideOverlays:i=!1})=>{var m;const a=Wre({full:t.name,firstName:t.firstName,lastName:t.lastName}),o=typeof t.budget=="number",l=o?`$${t.budget}/month`:"Budget not specified",c=a.toLowerCase().replace(/\s+/g,""),u=t.lastActive?Hre(t.lastActive):"Recently active",d=t.university?`${t.university}  ${l}`:l;f.useEffect(()=>{t.university&&Vre(t.university)},[t.university]);const h=g=>{var y;g&&(g.preventDefault(),g.stopPropagation(),g.nativeEvent&&g.nativeEvent.stopImmediatePropagation());const x=((y=t.reasons)==null?void 0:y.slice(0,3).map(w=>w.text).join(", "))||"We have compatible preferences",b=`Hi ${a}!  

I found you through NewRun's roommate matching and we have a ${Math.round(t.matchScore||0)}% compatibility score! 

Here's why I think we'd be great roommates:
 ${x}

${t.university?`I see you're also at ${t.university} - that's awesome!`:""}
${o?`My budget is around $${t.budget}/month.`:""}

Would you be interested in chatting about potentially being roommates? I'd love to learn more about what you're looking for! 

Looking forward to hearing from you! `,v=encodeURIComponent(b).replace(/'/g,"%27");n?n(t.userId,b):window.location.assign(`/messaging?to=${t.userId}&ctx=roommate&message=${v}`)},p=g=>{g.target.closest(".pc-contact-btn")||e&&e(t)};return r.jsx("div",{className:`match-card-wrapper ${s}`,onClick:p,style:{cursor:"pointer"},children:r.jsxs(zre,{avatarUrl:t.avatarUrl||"",name:a,title:d,handle:c,status:u,contactText:"Message",showUserInfo:!0,onContactClick:h,enableTilt:!0,enableMobileTilt:!1,className:"roommate-match-card",children:[!i&&t.matchScore&&r.jsx("div",{className:"match-score-overlay",children:r.jsx("div",{className:"match-score-ring",style:{"--score":t.matchScore,"--ring-color":`hsl(${Math.round(Math.max(0,Math.min(100,t.matchScore))*1.2)}, 85%, 55%)`},children:r.jsxs("div",{className:"match-score-text",children:[Math.round(t.matchScore),"%"]})})}),!i&&t.matchScore>=85&&r.jsxs("div",{className:"top-match-badge",children:[r.jsx("div",{className:"badge-dot"}),r.jsx("span",{children:"Top Match"})]}),!i&&t.university&&r.jsx("div",{className:"university-badge",children:r.jsx("img",{className:"university-logo-img",src:Ny(t.university),alt:t.university,onError:g=>{g.currentTarget.style.display="none"}})}),!i&&t.university&&r.jsx("img",{"aria-hidden":!0,className:"university-watermark",src:Ny(t.university),alt:"",onError:g=>{g.currentTarget.style.display="none"}}),!i&&((m=t.verified)==null?void 0:m.edu)&&r.jsx("div",{className:"verification-badge",children:r.jsx("img",{src:RA,alt:"Verified",className:"verified-icon"})})]})})};let Ff=null;try{const t=typeof navigator<"u"&&navigator.language?[navigator.language]:["en"];Ff=new Intl.DisplayNames(t,{type:"language"})}catch{Ff=null}let ky=null;try{ky=require("iso-639-1")}catch{}function DA(t){const e=String(t||"").trim().toLowerCase();if(!e)return"";try{const n=Ff&&Ff.of(e);if(n&&n!==e)return n}catch{}try{if(ky){const n=ky.getName(e);if(n&&n!==e)return n}}catch{}return e}function Kre(t){return(Array.isArray(t)?t:[]).map(DA).filter(Boolean)}function Gre(t){return t?String(t).replace(/\b([a-z]{2,3})(?=[,\s]|$)/gi,e=>DA(e)||e):""}const Yre=56,Xre=56,Cr=(...t)=>t.filter(Boolean).join(" "),$A=t=>Math.max(0,Math.min(100,Number(t)||0)),Zre=t=>{try{const e=Date.now()-new Date(t).getTime(),n=Math.floor(e/6e4);if(n<1)return"just now";if(n<60)return`${n}m ago`;const s=Math.floor(n/60);return s<24?`${s}h ago`:`${Math.floor(s/24)}d ago`}catch{return"recently"}};function Qre({value:t=0,size:e=64,animated:n=!0}){const[s,i]=f.useState(0);f.useEffect(()=>{if(n){const u=setTimeout(()=>i(t),100);return()=>clearTimeout(u)}else i(t)},[t,n]);const o=`hsl(${Math.round(Math.max(0,Math.min(100,s))*1.2)}, 85%, 55%)`,l=s>=80,c=s>=60;return r.jsxs("div",{"aria-label":`Match score ${Math.round(s)}%`,className:"relative shrink-0 rounded-full transition-all duration-500 ease-out",style:{width:e,height:e,backgroundImage:`conic-gradient(${o} ${Math.max(0,Math.min(100,s))*3.6}deg, rgba(255,255,255,0.08) 0deg)`,filter:l?"drop-shadow(0 0 8px rgba(34, 197, 94, 0.3))":c?"drop-shadow(0 0 6px rgba(251, 191, 36, 0.2))":"none"},children:[r.jsx("div",{className:"absolute",style:{inset:4,borderRadius:"9999px",background:"#10131a"}}),r.jsxs("div",{className:"absolute inset-0 flex items-center justify-center text-[12px] font-semibold text-white/90",children:[Math.round(s),"%"]}),l&&r.jsx("div",{className:"absolute -top-1 -right-1 h-3 w-3 rounded-full bg-emerald-400 animate-pulse"})]})}const Jre={"Northern Illinois University":"niu.edu","University of Illinois Urbana-Champaign":"illinois.edu","University of Illinois Chicago":"uic.edu","Northwestern University":"northwestern.edu","University of Chicago":"uchicago.edu","DePaul University":"depaul.edu","Loyola University Chicago":"luc.edu","Illinois Institute of Technology":"iit.edu","Stanford University":"stanford.edu","University of California Berkeley":"berkeley.edu","University of California Los Angeles":"ucla.edu","University of Southern California":"usc.edu","University of Texas Austin":"utexas.edu","University of Texas Dallas":"utdallas.edu","University of Texas San Antonio":"utsa.edu","University of Texas Arlington":"uta.edu","University of Texas Dallas":"utdallas.edu","University of Texas San Antonio":"utsa.edu","University of Texas Arlington":"uta.edu","University of Texas Dallas":"utdallas.edu","University of Texas San Antonio":"utsa.edu","University of Texas Arlington":"uta.edu"},eie=(t="")=>{const e=String(t||"").trim();return e?`https://logo.clearbit.com/${Jre[e]||`${e.toLowerCase().replace(/[^a-z0-9]+/g,"")}.edu`}`:""};function tie({university:t,size:e=56}){if(!t)return null;const n=eie(t);return n?r.jsx("div",{className:"shrink-0 overflow-hidden rounded-full border border-white/10 bg-transparent",style:{width:e,height:e},title:t,"aria-label":`University: ${t}`,children:r.jsx("img",{src:n,alt:"",className:"h-full w-full rounded-full object-contain",style:{padding:Math.round(e*.06)},onError:s=>{s.currentTarget.style.display="none"}})}):null}function nie({title:t,defaultOpen:e=!1,children:n}){const[s,i]=_e.useState(e);return r.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/[0.03]",children:[r.jsxs("button",{onClick:()=>i(a=>!a),className:"flex w-full items-center justify-between px-4 py-3 text-sm font-medium",children:[r.jsx("span",{className:"bg-gradient-to-r from-emerald-300 to-cyan-300 bg-clip-text text-transparent",children:t}),r.jsx("span",{className:"text-white/60",children:s?"Hide":"Show"})]}),s&&r.jsx("div",{className:"border-t border-white/10 px-4 py-3",children:n})]})}function YS({part:t}){const e=t.max?Math.max(0,Math.min(100,t.got/t.max*100)):0,s=`hsl(${Math.round(e*1.2)},85%,55%)`;return r.jsxs("div",{className:"rounded-xl border border-white/10 bg-gradient-to-br from-white/5 to-white/0 px-3 py-2",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("span",{className:"font-medium flex items-center gap-2",children:[r.jsx("span",{className:"inline-block h-2.5 w-2.5 rounded-full",style:{background:s}}),t.label]}),r.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-0.5 text-xs text-white/70",children:[t.got," / ",t.max]})]}),t.note&&r.jsx("div",{className:"mt-0.5 text-xs text-white/60",children:t.note}),r.jsx("div",{className:"mt-2 h-2 w-full overflow-hidden rounded-full bg-white/10",children:r.jsx("div",{className:"h-full rounded-full",style:{width:`${e}%`,background:s}})})]})}const sie=({full:t="",firstName:e="",lastName:n=""}={})=>{const s=l=>String(l).trim().split(/\s+/).filter(Boolean),i=s(e),a=s(n);if(i.length||a.length){if(i.length>=2)return`${i[0]} ${i[1]}`.trim();if(i.length===1&&a.length>=2)return`${i[0]} ${a[a.length-1]}`.trim();const l=i[0]||"",c=a[a.length-1]||"";return`${l} ${c}`.trim()||(t||"").trim()}const o=s(t);return o.length<=2?o.join(" ").trim():`${o[0]} ${o[1]}`.trim()},Ci=t=>Array.isArray(t)?t:[],Sy=(t=[],e=[])=>{const n=new Set(e);return t.filter(s=>n.has(s))},rie=(t,e)=>{const n=Number.isFinite(t)?Number(t):3,s=Number.isFinite(e)?Number(e):3;return Math.abs(n-s)<=1};function iie(t,e){var o,l,c,u,d,h,p,m,g,x,b,v,y,w,k,N;const n=(t==null?void 0:t.synapse)||{},s=e||{},i={primaryLanguage:((o=n==null?void 0:n.culture)==null?void 0:o.primaryLanguage)&&((l=s==null?void 0:s.culture)==null?void 0:l.primaryLanguage)&&n.culture.primaryLanguage===s.culture.primaryLanguage,otherLanguages:Sy(Ci((c=n==null?void 0:n.culture)==null?void 0:c.otherLanguages),Ci((u=s==null?void 0:s.culture)==null?void 0:u.otherLanguages)),commute:Sy(Ci((d=n==null?void 0:n.logistics)==null?void 0:d.commuteMode),Ci((h=s==null?void 0:s.logistics)==null?void 0:h.commuteMode)),sleep:(p=n==null?void 0:n.lifestyle)!=null&&p.sleepPattern&&((m=s==null?void 0:s.lifestyle)!=null&&m.sleepPattern)&&n.lifestyle.sleepPattern===s.lifestyle.sleepPattern?"good":void 0,clean:rie((g=n==null?void 0:n.lifestyle)==null?void 0:g.cleanliness,(x=s==null?void 0:s.lifestyle)==null?void 0:x.cleanliness),petsOk:!!((b=n==null?void 0:n.pets)!=null&&b.okWithPets&&((v=s==null?void 0:s.pets)!=null&&v.okWithPets))},a=[];return i.primaryLanguage&&a.push({type:"positive",text:"Same daily language"}),i.otherLanguages.length&&a.push({type:"positive",text:`Both speak ${i.otherLanguages.join(", ")}`}),(y=i.commute)!=null&&y.length&&a.push({type:"positive",text:`Overlap: ${i.commute.join(" / ")}`}),i.sleep==="good"&&a.push({type:"positive",text:"Similar sleep hours"}),i.clean&&a.push({type:"positive",text:"Clean & tidy"}),(k=(w=t==null?void 0:t.synapse)==null?void 0:w.pets)!=null&&k.okWithPets&&(((N=e==null?void 0:e.pets)==null?void 0:N.okWithPets)??!0)&&a.push({type:"positive",text:"Pets are okay"}),{overlap:i,reasons:a}}const FA=t=>typeof t=="string"?{type:"positive",text:t}:t,mt={langPrimarySame:25,langCrossOK:15,comfortBonus:10,country:10,region:8,city:6,commuteMode:6,sleep:6,cleanlinessNear:8,dietSame:4,smokingSame:3,drinkingSame:3,partiesSame:3,petsCompat:7};function aie(t={},e={}){var M,j,C,L,O,F;const n=t||{},s=e||{},i=[],a=s.culture||{},o=s.logistics||{},l=s.lifestyle||{},c=s.habits||{},u=s.pets||{},d=n.culture||{},h=n.logistics||{},p=n.lifestyle||{},m=n.habits||{},g=n.pets||{},x=(a.primaryLanguage||"").trim(),b=Ci(a.otherLanguages),v=a.languageComfort||"either",y=Ci(o.commuteMode),w=Number.isFinite(l.cleanliness)?Number(l.cleanliness):null;if(x&&d.primaryLanguage){const $=d.primaryLanguage===x;i.push({key:"langPrimarySame",label:"Same primary language",got:$?mt.langPrimarySame:0,max:mt.langPrimarySame,note:$?`Both ${x}`:d.primaryLanguage?`You: ${x||""}  Them: ${d.primaryLanguage}`:"Candidate missing primary language"})}if(x){const $=Ci(d.otherLanguages).includes(x);i.push({key:"langCrossOK_theirOthers",label:"Language cross-match (your primary in their others)",got:$?mt.langCrossOK:0,max:mt.langCrossOK,note:$?`They also speak ${x}`:""})}if(d.primaryLanguage){const $=b.includes(d.primaryLanguage);i.push({key:"langCrossOK_myOthers",label:"Language cross-match (their primary in your others)",got:$?mt.langCrossOK:0,max:mt.langCrossOK,note:$?`You also speak ${d.primaryLanguage}`:""})}v!=="same"&&i.push({key:"comfortBonus",label:"Language comfort bonus",got:mt.comfortBonus,max:mt.comfortBonus,note:`Comfort: ${v}`});const k=Sy(Ci(h.commuteMode),y);if(i.push({key:"commuteMode",label:"Commute mode overlap",got:k.length>0?mt.commuteMode:0,max:mt.commuteMode,note:k.length?k.join(" / "):""}),l.sleepPattern&&p.sleepPattern){const $=l.sleepPattern===p.sleepPattern;i.push({key:"sleep",label:"Sleep pattern match",got:$?mt.sleep:0,max:mt.sleep,note:$?l.sleepPattern:`You: ${l.sleepPattern}  Them: ${p.sleepPattern}`})}if(w!==null&&Number.isFinite(p.cleanliness)){const $=Math.abs(Number(p.cleanliness)-w)<=1;i.push({key:"cleanlinessNear",label:"Cleanliness within 1",got:$?mt.cleanlinessNear:0,max:mt.cleanlinessNear,note:`You ${w}  Them ${p.cleanliness}`})}[["dietSame","Diet",mt.dietSame,"diet"],["smokingSame","Smoking",mt.smokingSame,"smoking"],["drinkingSame","Drinking",mt.drinkingSame,"drinking"],["partiesSame","Partying",mt.partiesSame,"partying"]].forEach(([$,I,_,P])=>{if(((c==null?void 0:c[P])??"")!==""&&((m==null?void 0:m[P])??"")!==""){const E=String(c[P])===String(m[P]);i.push({key:$,label:`${I} preference`,got:E?_:0,max:_,note:E?String(c[P]):`You: ${c[P]}  Them: ${m[P]}`})}});const N=(g.okWithPets??!0)===(u.okWithPets??!0);if(i.push({key:"petsCompat",label:"Pets compatibility",got:N?mt.petsCompat:0,max:mt.petsCompat,note:N?"Both OK":""}),(M=a==null?void 0:a.home)!=null&&M.country){const $=(((j=d==null?void 0:d.home)==null?void 0:j.country)||"")===a.home.country;i.push({key:"country",label:"Same country",got:$?mt.country:0,max:mt.country,note:$?a.home.country:""})}if((C=a==null?void 0:a.home)!=null&&C.region){const $=(((L=d==null?void 0:d.home)==null?void 0:L.region)||"")===a.home.region;i.push({key:"region",label:"Same region",got:$?mt.region:0,max:mt.region,note:$?a.home.region:""})}if((O=a==null?void 0:a.home)!=null&&O.city){const $=(((F=d==null?void 0:d.home)==null?void 0:F.city)||"")===a.home.city;i.push({key:"city",label:"Same city",got:$?mt.city:0,max:mt.city,note:$?a.home.city:""})}return{total:i.reduce(($,I)=>$+I.got,0),parts:i}}async function oie(t,e){var l,c;const[n,s]=await Promise.all([ge.get("/synapse/preferences",{signal:e}),ge.get("/synapse/matches",{params:{scope:t},signal:e})]),i=(n==null?void 0:n.data)||{},a=(i==null?void 0:i.preferences)||{},o=((l=s==null?void 0:s.data)==null?void 0:l.results)||((c=s==null?void 0:s.data)==null?void 0:c.matches)||[];return{prefs:a,raw:o,pData:i}}async function XS(t){try{return await ge.post("/synapse/save",{targetUserId:t}),{ok:!0}}catch(e){return{ok:!1,error:e==null?void 0:e.message}}}async function lie(t,e){try{return await ge.post("/synapse/hide",{targetUserId:t,reason:e}),{ok:!0}}catch(n){return{ok:!1,error:n==null?void 0:n.message}}}function cie({firstName:t="",onSkip:e}){const[n,s]=_e.useState(0),[i,a]=_e.useState(!1);_e.useEffect(()=>{const u=setInterval(()=>s(d=>Math.min(d+1,4)),1e3);return()=>clearInterval(u)},[]),_e.useEffect(()=>{const u=setTimeout(()=>a(!0),100);return()=>clearTimeout(u)},[]);const o=String(t||"").trim(),l=o?`${o}, we've crunched your preferences.`:"We've crunched your preferences.";return r.jsxs("section",{className:"nr-hero-bg nr-hero-starry relative flex min-h-[60vh] items-center overflow-hidden",children:[r.jsxs("div",{className:"absolute inset-0",children:[r.jsx("div",{className:"hero-orb absolute top-1/4 left-1/4 w-32 h-32 bg-gradient-to-r from-orange-500/10 to-cyan-500/10 rounded-full blur-3xl"}),r.jsx("div",{className:"hero-orb absolute bottom-1/4 right-1/4 w-48 h-48 bg-gradient-to-r from-blue-500/10 to-purple-500/10 rounded-full blur-3xl"}),r.jsx("div",{className:"hero-orb absolute top-1/2 right-1/3 w-24 h-24 bg-gradient-to-r from-emerald-500/10 to-teal-500/10 rounded-full blur-2xl"})]}),r.jsxs("div",{className:"mx-auto w-full max-w-[110rem] px-4 py-14 relative z-10",children:[r.jsx("div",{className:`text-center transition-all duration-1000 ${i?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,children:r.jsxs("h1",{className:"font-extrabold leading-[1.1] tracking-tight",children:[r.jsx("span",{className:"block text-[clamp(28px,4.5vw,48px)] mb-2",children:r.jsx("span",{className:"bg-gradient-to-r from-white via-white to-white/90 bg-clip-text text-transparent drop-shadow-lg",children:l})}),r.jsx("span",{className:"block text-[clamp(24px,4vw,44px)] mt-2",children:r.jsx("span",{className:"animated-gradient bg-clip-text text-transparent drop-shadow-lg",children:"Here are the roommates who match your lifestyle best."})})]})}),r.jsx("div",{className:`mt-6 text-center transition-all duration-1000 delay-300 ${i?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:r.jsxs("span",{className:"inline-flex items-center gap-2 text-[14px] text-white/80 rounded-full border border-white/20 bg-white/10 px-4 py-2 backdrop-blur-sm shadow-lg",children:[r.jsx("div",{className:"w-2 h-2 bg-emerald-400 rounded-full animate-pulse"}),"Transparent reasons  Quick actions  Safer connections"]})}),r.jsx("div",{className:`mt-8 text-center transition-all duration-1000 delay-500 ${i?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:r.jsxs("div",{className:"flex flex-col items-center gap-4",children:[r.jsxs("button",{onClick:()=>e==null?void 0:e("cta"),className:"hero-cta-button group relative inline-flex items-center gap-3 rounded-full bg-gradient-to-r from-orange-500 to-orange-600 px-8 py-4 text-base font-bold text-black shadow-[0_12px_32px_rgba(255,153,0,.4)] hover:shadow-[0_16px_40px_rgba(255,153,0,.5)] hover:scale-105 transition-all duration-300 hover:from-orange-400 hover:to-orange-500",type:"button",children:[r.jsx("span",{children:"See your matches"}),r.jsx("div",{className:"w-5 h-5 rounded-full bg-black/20 flex items-center justify-center group-hover:translate-x-1 transition-transform duration-200",children:r.jsx("div",{className:"w-2 h-2 bg-black rounded-full"})}),r.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-orange-500 to-orange-600 opacity-0 group-hover:opacity-20 blur-xl transition-opacity duration-300"})]}),r.jsxs("div",{className:"flex items-center gap-3 text-white/70",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-1 h-1 bg-white/60 rounded-full animate-bounce"}),r.jsx("div",{className:"w-1 h-1 bg-white/60 rounded-full animate-bounce delay-100"}),r.jsx("div",{className:"w-1 h-1 bg-white/60 rounded-full animate-bounce delay-200"})]}),r.jsx("span",{className:"text-sm font-medium",children:"Scroll down to explore"})]})]})}),r.jsx("div",{className:`mt-8 flex justify-center gap-3 transition-all duration-1000 delay-700 ${i?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:[0,1,2,3].map(u=>r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:`progress-dot block h-2 w-2 rounded-full transition-all duration-500 ${n>u?"bg-gradient-to-r from-orange-400 to-orange-500 shadow-lg shadow-orange-500/50 active":"bg-white/25"}`}),n>u&&r.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-orange-400 to-orange-500 animate-ping opacity-30"})]},u))}),r.jsx("div",{className:`mt-12 text-center transition-all duration-1000 delay-1000 ${i?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:r.jsxs("div",{className:"inline-flex items-center gap-6 text-sm text-white/60",children:[r.jsxs("div",{className:"social-proof-item flex items-center gap-2",children:[r.jsx("div",{className:"w-6 h-6 rounded-full bg-emerald-500/20 flex items-center justify-center",children:r.jsx("div",{className:"w-2 h-2 bg-emerald-400 rounded-full animate-pulse"})}),r.jsx("span",{children:"10,000+ students matched"})]}),r.jsx("div",{className:"w-px h-4 bg-white/20"}),r.jsxs("div",{className:"social-proof-item flex items-center gap-2",children:[r.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500/20 flex items-center justify-center",children:r.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse"})}),r.jsx("span",{children:"95% satisfaction rate"})]})]})})]})]})}function die(t){var a,o,l,c,u,d,h,p;const e=(m,g)=>{try{return g.split(".").reduce((x,b)=>x&&x[b]!=null?x[b]:void 0,m)}catch{return}},n=[e(t,"user.firstName"),e(t,"profile.firstName"),e(t,"preferences.profile.firstName"),e(t,"preferences.user.firstName"),e(t,"preferences.firstName"),e(t,"firstName"),(l=(o=(a=e(t,"profile.name")||e(t,"preferences.profile.name")||e(t,"name"))==null?void 0:a.split)==null?void 0:o.call(a,/\s+/))==null?void 0:l[0]].filter(Boolean);let s="";try{const m=["firstName","userFirstName","nr:firstName","nr_user","user","me","authUser"];for(const g of m){const x=localStorage.getItem(g);if(x){if(g==="firstName"||g==="userFirstName"||g==="nr:firstName"){s=x;break}try{const b=JSON.parse(x),v=(b==null?void 0:b.firstName)||((c=b==null?void 0:b.profile)==null?void 0:c.firstName)||((u=b==null?void 0:b.user)==null?void 0:u.firstName)||((p=(h=(d=b==null?void 0:b.name)==null?void 0:d.split)==null?void 0:h.call(d," "))==null?void 0:p[0]);if(v){s=v;break}}catch{}}}}catch{}const i=(n.find(Boolean)||s||"").toString().trim();return i?i[0].toUpperCase()+i.slice(1):""}function uie(){const t=pt(),[e,n]=f.useState(!0),[s,i]=f.useState(""),[a,o]=f.useState([]),[l,c]=f.useState(null),[u,d]=f.useState(""),[h,p]=f.useState("match"),[m,g]=f.useState({pets:"any",sleep:"any",scope:"school"}),[x,b]=f.useState(null),[v,y]=f.useState(-1),[w,k]=f.useState(()=>new Set),[N,S]=f.useState(()=>new Set),M=f.useRef(null),j=f.useRef(!1),[C,L]=f.useState("");f.useEffect(()=>{const I=new AbortController;return(async()=>{n(!0),i("");try{const{prefs:_,raw:P,pData:E}=await oie(m.scope,I.signal);c(_),L(D=>D||die(E));const T=P.map(D=>{var Q,se,te,K,J;const R=D.id||D._id||D.userId||String(Math.random()),z=D.firstName||"",q=D.lastName||"",H=D.name||[D.firstName,D.lastName].filter(Boolean).join(" ")||"Roommate",U=D.synapse||{},{reasons:B}=iie(D,_),V=typeof D.score=="number"?D.score:D.matchScore??0,G=Array.isArray(D.reasons)&&D.reasons.length?D.reasons:B;return{userId:R,firstName:z,lastName:q,name:H,avatarUrl:D.avatar||D.avatarUrl||"",university:D.university||((Q=U==null?void 0:U.education)==null?void 0:Q.university)||"",graduation:D.graduation||((se=U==null?void 0:U.education)==null?void 0:se.graduation)||void 0,verified:D.verified||{edu:!!D.university},lastActive:D.lastActive||D.updatedAt||void 0,distanceMi:typeof D.distanceMiles=="number"?D.distanceMiles:D.distanceMi,budget:D.budget,keyTraits:D.keyTraits||[],languages:((te=U==null?void 0:U.culture)==null?void 0:te.otherLanguages)||D.languages||[],petsOk:!!((K=U==null?void 0:U.pets)!=null&&K.okWithPets),sleepStyle:(J=U==null?void 0:U.lifestyle)==null?void 0:J.sleepPattern,matchScore:$A(V),reasons:G.map(FA),synapse:U}});o(T)}catch(_){console.error("GET /synapse data error:",_),i("Could not load matches right now."),o([])}finally{n(!1)}})(),()=>I.abort()},[m.scope]);const O=_e.useCallback(()=>{var _,P;if(!M.current)return;const I=(P=(_=window.matchMedia)==null?void 0:_.call(window,"(prefers-reduced-motion: reduce)"))==null?void 0:P.matches;M.current.scrollIntoView({behavior:I?"auto":"smooth",block:"start"}),j.current=!0},[]),F=_e.useCallback(()=>{O()},[O]),$=f.useMemo(()=>{let I=a.filter(_=>!N.has(_.userId));if(u){const _=u.toLowerCase();I=I.filter(P=>P.name.toLowerCase().includes(_)||(P.university||"").toLowerCase().includes(_)||(P.keyTraits||[]).some(E=>E.toLowerCase().includes(_)))}switch(h){case"distance":I=I.slice().sort((_,P)=>(_.distanceMi??1/0)-(P.distanceMi??1/0));break;case"activity":I=I.slice().sort((_,P)=>new Date(P.lastActive||0)-new Date(_.lastActive||0));break;default:I=I.slice().sort((_,P)=>(P.matchScore??0)-(_.matchScore??0))}return I},[a,N,u,h]);return f.useEffect(()=>{v>=0&&v<$.length&&b($[v])},[v,$]),f.useEffect(()=>{if(v<0)return;const I=_=>{const P=$[_];if(P!=null&&P.avatarUrl){const E=new Image;E.src=P.avatarUrl}};I(v-1),I(v+1)},[v,$]),r.jsxs("div",{className:"nr-dots-page min-h-screen text-white",children:[r.jsx(ht,{}),r.jsx(cie,{firstName:C,onSkip:F}),r.jsx("div",{className:"hero-to-main-transition pointer-events-none"}),r.jsx("div",{ref:M}),r.jsxs("main",{className:"mx-auto w-full max-w-[110rem] px-4 pb-24 pt-6",children:[r.jsx(hie,{count:$.length,query:u,setQuery:d,sort:h,setSort:p,filters:m,setFilters:g}),s?r.jsx("div",{className:"mb-4 rounded-xl border border-amber-400/30 bg-amber-400/10 p-3 text-sm text-amber-200",children:s}):null,e?r.jsx(fie,{}):r.jsx(pie,{items:$,saved:w,onSaveToggle:async I=>{const _=new Set(w);_.has(I)?_.delete(I):_.add(I),k(_);const P=await XS(I);P.ok||console.warn("Save failed:",P.error)},onHide:async I=>{S(P=>new Set(P).add(I));const _=await lie(I,"not a fit");_.ok||console.warn("Hide failed:",_.error)},onOpen:I=>y($.findIndex(_=>_.userId===I.userId)),drawerOpen:!!x,navigate:t})]}),r.jsx(mie,{match:x,prefs:l,onClose:()=>{b(null),y(-1)},onStartChat:I=>{var P;const _=$.find(E=>E.userId===I);if(_){const E=((P=_.reasons)==null?void 0:P.slice(0,3).map(q=>q.text).join(", "))||"We have compatible preferences",T=sie({full:_.name,firstName:_.firstName,lastName:_.lastName}),D=typeof _.budget=="number",R=`Hi ${T}!  

I found you through NewRun's roommate matching and we have a ${Math.round(_.matchScore||0)}% compatibility score! 

Here's why I think we'd be great roommates:
 ${E}

${_.university?`I see you're also at ${_.university} - that's awesome!`:""}
${D?`My budget is around $${_.budget}/month.`:""}

Would you be interested in chatting about potentially being roommates? I'd love to learn more about what you're looking for! 

Looking forward to hearing from you! `,z=encodeURIComponent(R).replace(/'/g,"%27");t(`/messaging?to=${I}&ctx=roommate&message=${z}`)}else t(`/messaging?to=${I}&ctx=roommate`)},onSaveToggle:async I=>{const _=new Set(w);_.has(I)?_.delete(I):_.add(I),k(_);const P=await XS(I);P.ok||console.warn("Save failed:",P.error)},isSaved:I=>w.has(I),onPrev:()=>y(I=>Math.max(0,I-1)),onNext:()=>y(I=>Math.min($.length-1,I+1)),hasPrev:v>0,hasNext:v>=0&&v<$.length-1})]})}function hie({count:t,query:e,setQuery:n,sort:s,setSort:i,filters:a,setFilters:o}){const l=()=>{i("match"),o({pets:"any",sleep:"any",scope:"school"})},c=[];return s!=="match"&&c.push({key:"sort",label:`Sort: ${s}`,onClear:()=>i("match")}),a.pets!=="any"&&c.push({key:"pets",label:`Pets: ${a.pets.toUpperCase()}`,onClear:()=>o(u=>({...u,pets:"any"}))}),a.sleep!=="any"&&c.push({key:"sleep",label:`Sleep: ${a.sleep}`,onClear:()=>o(u=>({...u,sleep:"any"}))}),a.scope!=="school"&&c.push({key:"scope",label:`Scope: ${a.scope}`,onClear:()=>o(u=>({...u,scope:"school"}))}),r.jsxs("section",{className:"mb-6 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-2xl font-semibold tracking-tight",children:["Top Matches ",r.jsxs("span",{className:"text-white/60",children:["(",t,")"]})]}),r.jsx("p",{className:"mt-1 text-sm text-white/60",children:"Transparent reasons  Quick actions  Safer connections"})]}),r.jsx("div",{className:"flex flex-col gap-3 md:flex-row md:items-center",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"relative",children:[r.jsx("input",{value:e,onChange:u=>n(u.target.value),placeholder:"Search by name, trait, university...",className:"w-72 rounded-xl border border-white/10 bg-white/5 px-4 py-2 text-sm outline-none placeholder-white/40 focus:bg-white/7"}),r.jsx("div",{className:"pointer-events-none absolute right-3 top-2.5 text-white/40",children:r.jsx(dY,{size:16})})]}),r.jsxs("div",{className:"inline-flex items-center gap-1 rounded-xl border border-white/10 bg-white/5 px-2 py-2",children:[r.jsx("button",{onClick:()=>i("match"),className:Cr("rounded-lg px-2 py-1 text-xs",s==="match"?"bg-white/10":"text-white/70"),children:"Best Match"}),r.jsx("button",{onClick:()=>i("distance"),className:Cr("rounded-lg px-2 py-1 text-xs",s==="distance"?"bg-white/10":"text-white/70"),children:"Distance"}),r.jsx("button",{onClick:()=>i("activity"),className:Cr("rounded-lg px-2 py-1 text-xs",s==="activity"?"bg-white/10":"text-white/70"),children:"Active"})]}),r.jsx(D0,{icon:r.jsx(of,{size:14}),label:"Pets",value:a.pets,options:[{k:"any",n:"Any"},{k:"ok",n:"OK"},{k:"no",n:"No"}],onChange:u=>o(d=>({...d,pets:u}))}),r.jsx(D0,{icon:r.jsx(ad,{size:14}),label:"Sleep",value:a.sleep,options:[{k:"any",n:"Any"},{k:"early",n:"Early"},{k:"mid",n:"Mid"},{k:"late",n:"Late"}],onChange:u=>o(d=>({...d,sleep:u}))}),r.jsx(D0,{icon:r.jsx(mY,{size:14}),label:"Scope",value:a.scope,options:[{k:"school",n:"School"},{k:"country",n:"Country"},{k:"any",n:"Any"}],onChange:u=>o(d=>({...d,scope:u}))})]})}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.map(u=>r.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-3 py-1 text-xs text-white/70",children:[u.label,r.jsx("button",{onClick:u.onClear,className:"rounded bg-white/10 px-1 text-white/70 hover:bg-white/20",children:""})]},u.key)),c.length>0&&r.jsx("button",{onClick:l,className:"rounded-full border border-white/10 bg-white/5 px-3 py-1 text-xs text-white/70 hover:bg-white/10",children:"Clear all"})]})]})}function D0({icon:t,label:e,value:n,options:s,onChange:i}){return r.jsxs("div",{className:"inline-flex items-center gap-2 rounded-xl border border-white/10 bg-white/5 px-3 py-2 text-xs",children:[r.jsxs("span",{className:"flex items-center gap-1 text-white/70",children:[t,e,":"]}),r.jsx("div",{className:"flex items-center gap-1",children:s.map(a=>r.jsx("button",{onClick:()=>i(a.k),className:Cr("rounded-md px-2 py-1",n===a.k?"bg-white/10":"text-white/70"),children:a.n},a.k))})]})}function pie({items:t,saved:e,onSaveToggle:n,onHide:s,onOpen:i,drawerOpen:a,navigate:o}){return t.length?r.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:t.map(l=>r.jsx(qre,{item:l,onOpen:()=>i(l),onMessage:(c,u)=>{if(u){const d=encodeURIComponent(u);o(`/messaging?to=${c}&ctx=roommate&message=${d}`)}else o(`/messaging?to=${c}&ctx=roommate`)},hideOverlays:a},l.userId))}):r.jsxs("div",{className:"mt-12 flex flex-col items-center justify-center rounded-2xl border border-white/10 bg-white/[0.03] p-12 text-center",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"No matches found"}),r.jsx("p",{className:"mt-2 max-w-xl text-sm text-white/70",children:"Try adjusting your Synapse preferences or expanding the scope."})]})}function fie(){return r.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-3",children:Array.from({length:8}).map((t,e)=>r.jsxs("div",{className:"animate-pulse rounded-2xl border border-white/10 bg-white/[0.03] p-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-12 w-12 rounded-full bg-white/10"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"h-3 w-40 rounded bg-white/10"}),r.jsx("div",{className:"mt-2 h-3 w-24 rounded bg-white/10"})]})]}),r.jsx("div",{className:"mt-4 h-3 w-24 rounded bg-white/10"}),r.jsxs("div",{className:"mt-4 flex gap-2",children:[r.jsx("div",{className:"h-6 w-20 rounded-full bg-white/10"}),r.jsx("div",{className:"h-6 w-16 rounded-full bg-white/10"}),r.jsx("div",{className:"h-6 w-24 rounded-full bg-white/10"})]}),r.jsx("div",{className:"mt-4 h-10 w-full rounded-xl bg-white/10"})]},e))})}function mie({match:t,prefs:e,onClose:n,onStartChat:s,onSaveToggle:i,isSaved:a,onPrev:o,onNext:l,hasPrev:c,hasNext:u}){const d=f.useRef(null),h=!!t;return f.useEffect(()=>{function p(m){m.key==="Escape"&&(n==null||n())}return window.addEventListener("keydown",p),()=>window.removeEventListener("keydown",p)},[n]),f.useEffect(()=>(h?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[h]),r.jsxs("div",{"aria-hidden":!h,className:Cr("fixed inset-0 z-50 transition",h?"pointer-events-auto":"pointer-events-none"),children:[r.jsx("div",{onClick:n,className:Cr("absolute inset-0 bg-black/50 backdrop-blur-sm transition-opacity",h?"opacity-100":"opacity-0")}),r.jsxs("aside",{ref:d,className:Cr("fixed right-0 top-0 bottom-0 w-full max-w-[700px] overflow-y-auto border-l border-white/10 bg-[#0d1017] shadow-2xl transition-transform will-change-transform",h?"translate-x-0":"translate-x-full"),style:{height:"100vh",maxHeight:"100vh",overflowY:"auto",WebkitOverflowScrolling:"touch"},role:"dialog","aria-modal":"true","aria-label":"Match details",children:[r.jsxs("div",{className:"sticky top-0 z-10 flex items-center justify-between border-b border-white/10 bg-[#0d1017]/95 px-5 py-4 backdrop-blur",children:[r.jsx("span",{className:"text-sm font-semibold",children:"Match details"}),r.jsx("button",{onClick:n,className:"rounded-lg border border-white/10 p-1.5 text-white/80 hover:bg-white/10","aria-label":"Close",children:r.jsx(zv,{size:16})})]}),t?r.jsx(xie,{profile:t,prefs:e,onStartChat:s,onSaveToggle:i,isSaved:a,hasPrev:c,hasNext:u,onPrev:o,onNext:l}):r.jsx(gie,{})]})]})}function gie(){return r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-14 w-14 rounded-full bg-white/10"}),r.jsxs("div",{children:[r.jsx("div",{className:"h-4 w-40 rounded bg-white/10"}),r.jsx("div",{className:"mt-2 h-3 w-28 rounded bg-white/10"})]})]}),r.jsx("div",{className:"mt-6 h-24 w-full rounded-xl bg-white/10"}),r.jsx("div",{className:"mt-6 space-y-3",children:Array.from({length:6}).map((t,e)=>r.jsx("div",{className:"h-6 w-full rounded bg-white/10"},e))})]})}function xie({profile:t,prefs:e,onStartChat:n,onSaveToggle:s,isSaved:i,hasPrev:a,hasNext:o,onPrev:l,onNext:c}){var w;const u=i(t.userId),{parts:d,total:h}=_e.useMemo(()=>aie(t.synapse,e||{}),[t.synapse,e]),p=$A(t.matchScore??h),g=(t.reasons||[]).map(FA).filter(k=>k.type!=="negative").slice(0,3),x=t.languages||[],b=(t.keyTraits||[]).slice(0,6),v=[...d].sort((k,N)=>N.got-k.got||N.max-k.max).slice(0,4),y=Kre(x);return r.jsxs("div",{className:"px-5 pb-10 pt-4",children:[r.jsx("div",{className:"rounded-2xl border border-white/10 bg-gradient-to-br from-white/5 via-white/2 to-white/0 p-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"relative h-14 w-14 overflow-hidden rounded-full bg-white/10",children:[t.avatarUrl?r.jsx("img",{src:t.avatarUrl,alt:t.name,className:"h-full w-full object-cover"}):r.jsx("div",{className:"flex h-full w-full items-center justify-center text-sm text-white/70",children:t.name.slice(0,1)}),((w=t.verified)==null?void 0:w.edu)&&r.jsx("img",{src:RA,alt:"Verified",className:"h-7 w-7 -mt-[1px] select-none"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h3",{className:"text-lg font-semibold leading-tight",children:t.name}),r.jsx(tie,{university:t.university,size:Xre})]}),r.jsxs("div",{className:"mt-1 flex items-center gap-2 text-xs text-white/60",children:[typeof t.distanceMi=="number"&&r.jsxs(r.Fragment,{children:[r.jsx(pT,{size:14})," ",t.distanceMi.toFixed(1)," mi ",r.jsx("span",{className:"text-white/30",children:""})]}),t.lastActive&&r.jsxs(r.Fragment,{children:[r.jsx(uT,{size:14})," ",Zre(t.lastActive)]})]})]})]}),r.jsx("div",{className:"rounded-2xl bg-black/40 p-2 border border-white/10 shadow-[0_0_30px_rgba(56,189,248,0.15)]",children:r.jsx(Qre,{value:p,size:Yre})})]})}),g.length>0&&r.jsxs("section",{className:"mt-6 rounded-2xl border border-white/10 bg-gradient-to-br from-emerald-500/5 to-cyan-500/5 p-4",children:[r.jsx("p",{className:"text-sm text-white/70",children:"Why this is a strong match"}),r.jsx("ul",{className:"mt-2 grid grid-cols-1 gap-1 text-sm",children:g.map((k,N)=>r.jsxs("li",{className:"inline-flex items-start gap-2",children:[r.jsx("span",{className:"inline-flex h-5 w-5 items-center justify-center rounded-full bg-emerald-500/15 text-emerald-300",children:r.jsx(HG,{size:14})}),r.jsx("span",{children:Gre(k.text)})]},N))})]}),r.jsxs("div",{className:"mt-6 rounded-2xl border border-white/10 bg-gradient-to-br from-white/5 to-white/0 p-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h4",{className:"text-sm font-semibold tracking-wide text-white/80",children:["About ",t.name.split(" ")[0]]}),typeof t.budget=="number"&&r.jsxs("span",{className:"text-xs text-white/60",children:["$",t.budget,"/mo"]})]}),r.jsx("p",{className:"mt-2 text-sm text-white/80",children:t.bio||"They havent written a bio yet  start a chat to learn what theyre looking for."}),r.jsxs("div",{className:"mt-3 flex flex-wrap gap-1.5",children:[x.length>0&&r.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-emerald-500/20 bg-emerald-500/10 px-2 py-1 text-[11px] text-emerald-200",children:[r.jsx(hT,{size:12})," ",y.join(", ")]}),b.map(k=>r.jsx("span",{className:"inline-flex items-center rounded-full border border-cyan-500/20 bg-cyan-500/10 px-2 py-1 text-[11px] text-cyan-200",children:k},k))]})]}),r.jsx("div",{className:"mt-6",children:r.jsx(nie,{title:"Detailed score breakdown",defaultOpen:!1,children:r.jsxs("div",{className:"space-y-2",children:[v.map(k=>r.jsx(YS,{part:k},k.key)),r.jsxs("details",{className:"mt-2",children:[r.jsx("summary",{className:"cursor-pointer text-sm text-white/70",children:"Show all factors"}),r.jsx("div",{className:"mt-2 space-y-2",children:d.filter(k=>!v.find(N=>N.key===k.key)).map(k=>r.jsx(YS,{part:k},k.key))})]})]})})}),r.jsx("div",{className:"mt-8",children:r.jsxs("div",{className:"border-t border-white/10 bg-[#0d1017] pt-4 pb-6",children:[r.jsxs("div",{className:"px-5 pt-3 pb-2 flex items-center justify-between",children:[r.jsxs("button",{disabled:!a,onClick:l,className:Cr("group inline-flex items-center gap-2 rounded-full px-4 py-2 text-sm border border-white/10",a?"bg-white/5 hover:bg-white/10":"opacity-40 cursor-default"),children:[r.jsx(cT,{size:16,className:"transition-transform group-hover:-translate-x-0.5"}),r.jsx("span",{children:"Prev"})]}),r.jsxs("button",{disabled:!o,onClick:c,className:Cr("group inline-flex items-center gap-2 rounded-full px-4 py-2 text-sm border border-white/10",o?"bg-white/5 hover:bg-white/10":"opacity-40 cursor-default"),children:[r.jsx("span",{children:"Next"}),r.jsx(dT,{size:16,className:"transition-transform group-hover:translate-x-0.5"})]})]}),r.jsxs("div",{className:"px-5 pb-3 flex gap-3",children:[r.jsx("button",{onClick:()=>n(t.userId),className:"flex-1 rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-sm font-medium hover:bg-white/10",children:"Start chat"}),r.jsx("button",{onClick:()=>s(t.userId),className:Cr("rounded-xl border border-white/10 px-4 py-3 text-sm font-medium",u?"bg-pink-500/10 text-pink-300":"bg-white/5 hover:bg-white/10"),children:u?"Saved":"Save match"})]})]})})]})}var Cy={exports:{}},Ja={},Ey={exports:{}},sr={},Py={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=d;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var n="none",s="contents",i=/^(input|select|textarea|button|object|iframe)$/;function a(h,p){return p.getPropertyValue("overflow")!=="visible"||h.scrollWidth<=0&&h.scrollHeight<=0}function o(h){var p=h.offsetWidth<=0&&h.offsetHeight<=0;if(p&&!h.innerHTML)return!0;try{var m=window.getComputedStyle(h),g=m.getPropertyValue("display");return p?g!==s&&a(h,m):g===n}catch{return console.warn("Failed to inspect element style"),!1}}function l(h){for(var p=h,m=h.getRootNode&&h.getRootNode();p&&p!==document.body;){if(m&&p===m&&(p=m.host.parentNode),o(p))return!1;p=p.parentNode}return!0}function c(h,p){var m=h.nodeName.toLowerCase(),g=i.test(m)&&!h.disabled||m==="a"&&h.href||p;return g&&l(h)}function u(h){var p=h.getAttribute("tabindex");p===null&&(p=void 0);var m=isNaN(p);return(m||p>=0)&&c(h,!m)}function d(h){var p=[].slice.call(h.querySelectorAll("*"),0).reduce(function(m,g){return m.concat(g.shadowRoot?d(g.shadowRoot):[g])},[]);return p.filter(u)}t.exports=e.default})(Py,Py.exports);var zA=Py.exports;Object.defineProperty(sr,"__esModule",{value:!0});sr.resetState=wie;sr.log=jie;sr.handleBlur=ru;sr.handleFocus=iu;sr.markForFocusLater=Nie;sr.returnFocus=kie;sr.popWithoutFocus=Sie;sr.setupScopedFocus=Cie;sr.teardownScopedFocus=Eie;var vie=zA,yie=bie(vie);function bie(t){return t&&t.__esModule?t:{default:t}}var _l=[],Xo=null,_y=!1;function wie(){_l=[]}function jie(){}function ru(){_y=!0}function iu(){if(_y){if(_y=!1,!Xo)return;setTimeout(function(){if(!Xo.contains(document.activeElement)){var t=(0,yie.default)(Xo)[0]||Xo;t.focus()}},0)}}function Nie(){_l.push(document.activeElement)}function kie(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=null;try{_l.length!==0&&(e=_l.pop(),e.focus({preventScroll:t}));return}catch{console.warn(["You tried to return focus to",e,"but it is not in the DOM anymore"].join(" "))}}function Sie(){_l.length>0&&_l.pop()}function Cie(t){Xo=t,window.addEventListener?(window.addEventListener("blur",ru,!1),document.addEventListener("focus",iu,!0)):(window.attachEvent("onBlur",ru),document.attachEvent("onFocus",iu))}function Eie(){Xo=null,window.addEventListener?(window.removeEventListener("blur",ru),document.removeEventListener("focus",iu)):(window.detachEvent("onBlur",ru),document.detachEvent("onFocus",iu))}var My={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var n=zA,s=i(n);function i(l){return l&&l.__esModule?l:{default:l}}function a(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return l.activeElement.shadowRoot?a(l.activeElement.shadowRoot):l.activeElement}function o(l,c){var u=(0,s.default)(l);if(!u.length){c.preventDefault();return}var d=void 0,h=c.shiftKey,p=u[0],m=u[u.length-1],g=a();if(l===g){if(!h)return;d=m}if(m===g&&!h&&(d=p),p===g&&h&&(d=m),d){c.preventDefault(),d.focus();return}var x=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),b=x!=null&&x[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(b){var v=u.indexOf(g);if(v>-1&&(v+=h?-1:1),d=u[v],typeof d>"u"){c.preventDefault(),d=h?m:p,d.focus();return}c.preventDefault(),d.focus()}}t.exports=e.default})(My,My.exports);var Pie=My.exports,rr={},_ie=function(){},Mie=_ie,Qs={},BA={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/(function(t){(function(){var e=!!(typeof window<"u"&&window.document&&window.document.createElement),n={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen};t.exports?t.exports=n:window.ExecutionEnvironment=n})()})(BA);var Tie=BA.exports;Object.defineProperty(Qs,"__esModule",{value:!0});Qs.canUseDOM=Qs.SafeNodeList=Qs.SafeHTMLCollection=void 0;var Lie=Tie,Aie=Iie(Lie);function Iie(t){return t&&t.__esModule?t:{default:t}}var Im=Aie.default,Oie=Im.canUseDOM?window.HTMLElement:{};Qs.SafeHTMLCollection=Im.canUseDOM?window.HTMLCollection:{};Qs.SafeNodeList=Im.canUseDOM?window.NodeList:{};Qs.canUseDOM=Im.canUseDOM;Qs.default=Oie;Object.defineProperty(rr,"__esModule",{value:!0});rr.resetState=zie;rr.log=Bie;rr.assertNodeList=UA;rr.setElement=Uie;rr.validateElement=Fw;rr.hide=Vie;rr.show=Wie;rr.documentNotReadyOrSSRTesting=Hie;var Rie=Mie,Die=Fie(Rie),$ie=Qs;function Fie(t){return t&&t.__esModule?t:{default:t}}var Ns=null;function zie(){Ns&&(Ns.removeAttribute?Ns.removeAttribute("aria-hidden"):Ns.length!=null?Ns.forEach(function(t){return t.removeAttribute("aria-hidden")}):document.querySelectorAll(Ns).forEach(function(t){return t.removeAttribute("aria-hidden")})),Ns=null}function Bie(){}function UA(t,e){if(!t||!t.length)throw new Error("react-modal: No elements were found for selector "+e+".")}function Uie(t){var e=t;if(typeof e=="string"&&$ie.canUseDOM){var n=document.querySelectorAll(e);UA(n,e),e=n}return Ns=e||Ns,Ns}function Fw(t){var e=t||Ns;return e?Array.isArray(e)||e instanceof HTMLCollection||e instanceof NodeList?e:[e]:((0,Die.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function Vie(t){var e=!0,n=!1,s=void 0;try{for(var i=Fw(t)[Symbol.iterator](),a;!(e=(a=i.next()).done);e=!0){var o=a.value;o.setAttribute("aria-hidden","true")}}catch(l){n=!0,s=l}finally{try{!e&&i.return&&i.return()}finally{if(n)throw s}}}function Wie(t){var e=!0,n=!1,s=void 0;try{for(var i=Fw(t)[Symbol.iterator](),a;!(e=(a=i.next()).done);e=!0){var o=a.value;o.removeAttribute("aria-hidden")}}catch(l){n=!0,s=l}finally{try{!e&&i.return&&i.return()}finally{if(n)throw s}}}function Hie(){Ns=null}var Kl={};Object.defineProperty(Kl,"__esModule",{value:!0});Kl.resetState=qie;Kl.log=Kie;var ud={},hd={};function ZS(t,e){t.classList.remove(e)}function qie(){var t=document.getElementsByTagName("html")[0];for(var e in ud)ZS(t,ud[e]);var n=document.body;for(var s in hd)ZS(n,hd[s]);ud={},hd={}}function Kie(){}var Gie=function(e,n){return e[n]||(e[n]=0),e[n]+=1,n},Yie=function(e,n){return e[n]&&(e[n]-=1),n},Xie=function(e,n,s){s.forEach(function(i){Gie(n,i),e.add(i)})},Zie=function(e,n,s){s.forEach(function(i){Yie(n,i),n[i]===0&&e.remove(i)})};Kl.add=function(e,n){return Xie(e.classList,e.nodeName.toLowerCase()=="html"?ud:hd,n.split(" "))};Kl.remove=function(e,n){return Zie(e.classList,e.nodeName.toLowerCase()=="html"?ud:hd,n.split(" "))};var Gl={};Object.defineProperty(Gl,"__esModule",{value:!0});Gl.log=Jie;Gl.resetState=eae;function Qie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var VA=function t(){var e=this;Qie(this,t),this.register=function(n){e.openInstances.indexOf(n)===-1&&(e.openInstances.push(n),e.emit("register"))},this.deregister=function(n){var s=e.openInstances.indexOf(n);s!==-1&&(e.openInstances.splice(s,1),e.emit("deregister"))},this.subscribe=function(n){e.subscribers.push(n)},this.emit=function(n){e.subscribers.forEach(function(s){return s(n,e.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},zf=new VA;function Jie(){console.log("portalOpenInstances ----------"),console.log(zf.openInstances.length),zf.openInstances.forEach(function(t){return console.log(t)}),console.log("end portalOpenInstances ----------")}function eae(){zf=new VA}Gl.default=zf;var zw={};Object.defineProperty(zw,"__esModule",{value:!0});zw.resetState=rae;zw.log=iae;var tae=Gl,nae=sae(tae);function sae(t){return t&&t.__esModule?t:{default:t}}var yn=void 0,qs=void 0,Va=[];function rae(){for(var t=[yn,qs],e=0;e<t.length;e++){var n=t[e];n&&n.parentNode&&n.parentNode.removeChild(n)}yn=qs=null,Va=[]}function iae(){console.log("bodyTrap ----------"),console.log(Va.length);for(var t=[yn,qs],e=0;e<t.length;e++){var n=t[e],s=n||{};console.log(s.nodeName,s.className,s.id)}console.log("edn bodyTrap ----------")}function QS(){Va.length!==0&&Va[Va.length-1].focusContent()}function aae(t,e){!yn&&!qs&&(yn=document.createElement("div"),yn.setAttribute("data-react-modal-body-trap",""),yn.style.position="absolute",yn.style.opacity="0",yn.setAttribute("tabindex","0"),yn.addEventListener("focus",QS),qs=yn.cloneNode(),qs.addEventListener("focus",QS)),Va=e,Va.length>0?(document.body.firstChild!==yn&&document.body.insertBefore(yn,document.body.firstChild),document.body.lastChild!==qs&&document.body.appendChild(qs)):(yn.parentElement&&yn.parentElement.removeChild(yn),qs.parentElement&&qs.parentElement.removeChild(qs))}nae.default.subscribe(aae);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(I){for(var _=1;_<arguments.length;_++){var P=arguments[_];for(var E in P)Object.prototype.hasOwnProperty.call(P,E)&&(I[E]=P[E])}return I},s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},i=function(){function I(_,P){for(var E=0;E<P.length;E++){var T=P[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(_,T.key,T)}}return function(_,P,E){return P&&I(_.prototype,P),E&&I(_,E),_}}(),a=f,o=bw,l=N(o),c=sr,u=k(c),d=Pie,h=N(d),p=rr,m=k(p),g=Kl,x=k(g),b=Qs,v=N(b),y=Gl,w=N(y);function k(I){if(I&&I.__esModule)return I;var _={};if(I!=null)for(var P in I)Object.prototype.hasOwnProperty.call(I,P)&&(_[P]=I[P]);return _.default=I,_}function N(I){return I&&I.__esModule?I:{default:I}}function S(I,_){if(!(I instanceof _))throw new TypeError("Cannot call a class as a function")}function M(I,_){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:I}function j(I,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);I.prototype=Object.create(_&&_.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(I,_):I.__proto__=_)}var C={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},L=function(_){return _.code==="Tab"||_.keyCode===9},O=function(_){return _.code==="Escape"||_.keyCode===27},F=0,$=function(I){j(_,I);function _(P){S(this,_);var E=M(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,P));return E.setOverlayRef=function(T){E.overlay=T,E.props.overlayRef&&E.props.overlayRef(T)},E.setContentRef=function(T){E.content=T,E.props.contentRef&&E.props.contentRef(T)},E.afterClose=function(){var T=E.props,D=T.appElement,R=T.ariaHideApp,z=T.htmlOpenClassName,q=T.bodyOpenClassName,H=T.parentSelector,U=H&&H().ownerDocument||document;q&&x.remove(U.body,q),z&&x.remove(U.getElementsByTagName("html")[0],z),R&&F>0&&(F-=1,F===0&&m.show(D)),E.props.shouldFocusAfterRender&&(E.props.shouldReturnFocusAfterClose?(u.returnFocus(E.props.preventScroll),u.teardownScopedFocus()):u.popWithoutFocus()),E.props.onAfterClose&&E.props.onAfterClose(),w.default.deregister(E)},E.open=function(){E.beforeOpen(),E.state.afterOpen&&E.state.beforeClose?(clearTimeout(E.closeTimer),E.setState({beforeClose:!1})):(E.props.shouldFocusAfterRender&&(u.setupScopedFocus(E.node),u.markForFocusLater()),E.setState({isOpen:!0},function(){E.openAnimationFrame=requestAnimationFrame(function(){E.setState({afterOpen:!0}),E.props.isOpen&&E.props.onAfterOpen&&E.props.onAfterOpen({overlayEl:E.overlay,contentEl:E.content})})}))},E.close=function(){E.props.closeTimeoutMS>0?E.closeWithTimeout():E.closeWithoutTimeout()},E.focusContent=function(){return E.content&&!E.contentHasFocus()&&E.content.focus({preventScroll:!0})},E.closeWithTimeout=function(){var T=Date.now()+E.props.closeTimeoutMS;E.setState({beforeClose:!0,closesAt:T},function(){E.closeTimer=setTimeout(E.closeWithoutTimeout,E.state.closesAt-Date.now())})},E.closeWithoutTimeout=function(){E.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},E.afterClose)},E.handleKeyDown=function(T){L(T)&&(0,h.default)(E.content,T),E.props.shouldCloseOnEsc&&O(T)&&(T.stopPropagation(),E.requestClose(T))},E.handleOverlayOnClick=function(T){E.shouldClose===null&&(E.shouldClose=!0),E.shouldClose&&E.props.shouldCloseOnOverlayClick&&(E.ownerHandlesClose()?E.requestClose(T):E.focusContent()),E.shouldClose=null},E.handleContentOnMouseUp=function(){E.shouldClose=!1},E.handleOverlayOnMouseDown=function(T){!E.props.shouldCloseOnOverlayClick&&T.target==E.overlay&&T.preventDefault()},E.handleContentOnClick=function(){E.shouldClose=!1},E.handleContentOnMouseDown=function(){E.shouldClose=!1},E.requestClose=function(T){return E.ownerHandlesClose()&&E.props.onRequestClose(T)},E.ownerHandlesClose=function(){return E.props.onRequestClose},E.shouldBeClosed=function(){return!E.state.isOpen&&!E.state.beforeClose},E.contentHasFocus=function(){return document.activeElement===E.content||E.content.contains(document.activeElement)},E.buildClassName=function(T,D){var R=(typeof D>"u"?"undefined":s(D))==="object"?D:{base:C[T],afterOpen:C[T]+"--after-open",beforeClose:C[T]+"--before-close"},z=R.base;return E.state.afterOpen&&(z=z+" "+R.afterOpen),E.state.beforeClose&&(z=z+" "+R.beforeClose),typeof D=="string"&&D?z+" "+D:z},E.attributesFromObject=function(T,D){return Object.keys(D).reduce(function(R,z){return R[T+"-"+z]=D[z],R},{})},E.state={afterOpen:!1,beforeClose:!1},E.shouldClose=null,E.moveFromContentToOverlay=null,E}return i(_,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(E,T){this.props.isOpen&&!E.isOpen?this.open():!this.props.isOpen&&E.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!T.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var E=this.props,T=E.appElement,D=E.ariaHideApp,R=E.htmlOpenClassName,z=E.bodyOpenClassName,q=E.parentSelector,H=q&&q().ownerDocument||document;z&&x.add(H.body,z),R&&x.add(H.getElementsByTagName("html")[0],R),D&&(F+=1,m.hide(T)),w.default.register(this)}},{key:"render",value:function(){var E=this.props,T=E.id,D=E.className,R=E.overlayClassName,z=E.defaultStyles,q=E.children,H=D?{}:z.content,U=R?{}:z.overlay;if(this.shouldBeClosed())return null;var B={ref:this.setOverlayRef,className:this.buildClassName("overlay",R),style:n({},U,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},V=n({id:T,ref:this.setContentRef,style:n({},H,this.props.style.content),className:this.buildClassName("content",D),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",n({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),G=this.props.contentElement(V,q);return this.props.overlayElement(B,G)}}]),_}(a.Component);$.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},$.propTypes={isOpen:l.default.bool.isRequired,defaultStyles:l.default.shape({content:l.default.object,overlay:l.default.object}),style:l.default.shape({content:l.default.object,overlay:l.default.object}),className:l.default.oneOfType([l.default.string,l.default.object]),overlayClassName:l.default.oneOfType([l.default.string,l.default.object]),parentSelector:l.default.func,bodyOpenClassName:l.default.string,htmlOpenClassName:l.default.string,ariaHideApp:l.default.bool,appElement:l.default.oneOfType([l.default.instanceOf(v.default),l.default.instanceOf(b.SafeHTMLCollection),l.default.instanceOf(b.SafeNodeList),l.default.arrayOf(l.default.instanceOf(v.default))]),onAfterOpen:l.default.func,onAfterClose:l.default.func,onRequestClose:l.default.func,closeTimeoutMS:l.default.number,shouldFocusAfterRender:l.default.bool,shouldCloseOnOverlayClick:l.default.bool,shouldReturnFocusAfterClose:l.default.bool,preventScroll:l.default.bool,role:l.default.string,contentLabel:l.default.string,aria:l.default.object,data:l.default.object,children:l.default.node,shouldCloseOnEsc:l.default.bool,overlayRef:l.default.func,contentRef:l.default.func,id:l.default.string,overlayElement:l.default.func,contentElement:l.default.func,testId:l.default.string},e.default=$,t.exports=e.default})(Ey,Ey.exports);var oae=Ey.exports;function WA(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function HA(t){function e(n){var s=this.constructor.getDerivedStateFromProps(t,n);return s??null}this.setState(e.bind(this))}function qA(t,e){try{var n=this.props,s=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,s)}finally{this.props=n,this.state=s}}WA.__suppressDeprecationWarning=!0;HA.__suppressDeprecationWarning=!0;qA.__suppressDeprecationWarning=!0;function lae(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var n=null,s=null,i=null;if(typeof e.componentWillMount=="function"?n="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?s="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(s="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?i="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),n!==null||s!==null||i!==null){var a=t.displayName||t.name,o=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+a+" uses "+o+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(s!==null?`
  `+s:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=WA,e.componentWillReceiveProps=HA),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=qA;var l=e.componentDidUpdate;e.componentDidUpdate=function(u,d,h){var p=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:h;l.call(this,u,d,p)}}return t}const cae=Object.freeze(Object.defineProperty({__proto__:null,polyfill:lae},Symbol.toStringTag,{value:"Module"})),dae=JA(cae);Object.defineProperty(Ja,"__esModule",{value:!0});Ja.bodyOpenClassName=Ja.portalClassName=void 0;var JS=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},uae=function(){function t(e,n){for(var s=0;s<n.length;s++){var i=n[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,s){return n&&t(e.prototype,n),s&&t(e,s),e}}(),KA=f,Bf=Cu(KA),hae=Xi,Uf=Cu(hae),pae=bw,Be=Cu(pae),fae=oae,e3=Cu(fae),mae=rr,gae=vae(mae),Ei=Qs,t3=Cu(Ei),xae=dae;function vae(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function Cu(t){return t&&t.__esModule?t:{default:t}}function yae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n3(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function bae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var wae=Ja.portalClassName="ReactModalPortal",jae=Ja.bodyOpenClassName="ReactModal__Body--open",ga=Ei.canUseDOM&&Uf.default.createPortal!==void 0,s3=function(e){return document.createElement(e)},r3=function(){return ga?Uf.default.createPortal:Uf.default.unstable_renderSubtreeIntoContainer};function Eh(t){return t()}var Eu=function(t){bae(e,t);function e(){var n,s,i,a;yae(this,e);for(var o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];return a=(s=(i=n3(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(l))),i),i.removePortal=function(){!ga&&Uf.default.unmountComponentAtNode(i.node);var u=Eh(i.props.parentSelector);u&&u.contains(i.node)?u.removeChild(i.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},i.portalRef=function(u){i.portal=u},i.renderPortal=function(u){var d=r3(),h=d(i,Bf.default.createElement(e3.default,JS({defaultStyles:e.defaultStyles},u)),i.node);i.portalRef(h)},s),n3(i,a)}return uae(e,[{key:"componentDidMount",value:function(){if(Ei.canUseDOM){ga||(this.node=s3("div")),this.node.className=this.props.portalClassName;var s=Eh(this.props.parentSelector);s.appendChild(this.node),!ga&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(s){var i=Eh(s.parentSelector),a=Eh(this.props.parentSelector);return{prevParent:i,nextParent:a}}},{key:"componentDidUpdate",value:function(s,i,a){if(Ei.canUseDOM){var o=this.props,l=o.isOpen,c=o.portalClassName;s.portalClassName!==c&&(this.node.className=c);var u=a.prevParent,d=a.nextParent;d!==u&&(u.removeChild(this.node),d.appendChild(this.node)),!(!s.isOpen&&!l)&&!ga&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!Ei.canUseDOM||!this.node||!this.portal)){var s=this.portal.state,i=Date.now(),a=s.isOpen&&this.props.closeTimeoutMS&&(s.closesAt||i+this.props.closeTimeoutMS);a?(s.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,a-i)):this.removePortal()}}},{key:"render",value:function(){if(!Ei.canUseDOM||!ga)return null;!this.node&&ga&&(this.node=s3("div"));var s=r3();return s(Bf.default.createElement(e3.default,JS({ref:this.portalRef,defaultStyles:e.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(s){gae.setElement(s)}}]),e}(KA.Component);Eu.propTypes={isOpen:Be.default.bool.isRequired,style:Be.default.shape({content:Be.default.object,overlay:Be.default.object}),portalClassName:Be.default.string,bodyOpenClassName:Be.default.string,htmlOpenClassName:Be.default.string,className:Be.default.oneOfType([Be.default.string,Be.default.shape({base:Be.default.string.isRequired,afterOpen:Be.default.string.isRequired,beforeClose:Be.default.string.isRequired})]),overlayClassName:Be.default.oneOfType([Be.default.string,Be.default.shape({base:Be.default.string.isRequired,afterOpen:Be.default.string.isRequired,beforeClose:Be.default.string.isRequired})]),appElement:Be.default.oneOfType([Be.default.instanceOf(t3.default),Be.default.instanceOf(Ei.SafeHTMLCollection),Be.default.instanceOf(Ei.SafeNodeList),Be.default.arrayOf(Be.default.instanceOf(t3.default))]),onAfterOpen:Be.default.func,onRequestClose:Be.default.func,closeTimeoutMS:Be.default.number,ariaHideApp:Be.default.bool,shouldFocusAfterRender:Be.default.bool,shouldCloseOnOverlayClick:Be.default.bool,shouldReturnFocusAfterClose:Be.default.bool,preventScroll:Be.default.bool,parentSelector:Be.default.func,aria:Be.default.object,data:Be.default.object,role:Be.default.string,contentLabel:Be.default.string,shouldCloseOnEsc:Be.default.bool,overlayRef:Be.default.func,contentRef:Be.default.func,id:Be.default.string,overlayElement:Be.default.func,contentElement:Be.default.func};Eu.defaultProps={isOpen:!1,portalClassName:wae,bodyOpenClassName:jae,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(e,n){return Bf.default.createElement("div",e,n)},contentElement:function(e,n){return Bf.default.createElement("div",e,n)}};Eu.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}};(0,xae.polyfill)(Eu);Ja.default=Eu;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Ja,s=i(n);function i(a){return a&&a.__esModule?a:{default:a}}e.default=s.default,t.exports=e.default})(Cy,Cy.exports);var Nae=Cy.exports;const kae=Ty(Nae),Sae=({tags:t,setTags:e})=>{const[n,s]=f.useState(""),i=c=>{s(c.target.value)},a=()=>{n.trim()!==""&&(e([...t,n.trim()]),s(""))},o=c=>{c.key==="Enter"&&a()},l=c=>{e(t.filter(u=>u!==c))};return r.jsxs("div",{children:[(t==null?void 0:t.length)>0&&r.jsx("div",{className:"flex items-center gap-2 flex-wrap mt-2",children:t.map((c,u)=>r.jsxs("span",{className:"flex items-center gap-2 text-sm text-yellow-300 bg-blue-800 px-3 py-1 rounded",children:["# ",c,r.jsx("button",{onClick:()=>{l(c)},children:r.jsx(Nr,{})})]},u))}),r.jsxs("div",{className:" flex items-center gap-4 mt-3",children:[r.jsx("input",{type:"text",value:n,className:"text-sm bg-transparent border px-3 py-2 rounded outline-none",placeholder:"Add tags",onChange:i,onKeyDown:o}),r.jsx("button",{className:"w-8 h-8 flex items-center justify-center rounded border border-blue-700 hover:bg-blue-700",onClick:()=>{a()},children:r.jsx(S_,{className:"text-2xl text-blue-700 hover:text-white"})})]})]})},Cae=({propertyData:t,type:e,getAllProperties:n,showToastMessage:s,onClose:i})=>{const[a,o]=f.useState((t==null?void 0:t.title)||""),[l,c]=f.useState((t==null?void 0:t.content)||""),[u,d]=f.useState((t==null?void 0:t.tags)||[]),[h,p]=f.useState((t==null?void 0:t.price)||0),[m,g]=f.useState((t==null?void 0:t.bedrooms)||1),[x,b]=f.useState((t==null?void 0:t.bathrooms)||1),[v,y]=f.useState((t==null?void 0:t.distanceFromUniversity)||0),[w,k]=f.useState((t==null?void 0:t.address)||{street:"",city:"",state:"",zipCode:""}),[N,S]=f.useState((t==null?void 0:t.availabilityStatus)||"available"),[M,j]=f.useState((t==null?void 0:t.contactInfo)||{name:"",phone:"",email:""}),[C,L]=f.useState((t==null?void 0:t.description)||""),[O,F]=f.useState((t==null?void 0:t.isFeatured)||!1),[$,I]=f.useState(null),[_,P]=f.useState([]),E=U=>{P([..._,...U])},{getRootProps:T,getInputProps:D}=Su({onDrop:E,accept:"image/*"}),R=async()=>{const U=new FormData;_.forEach(B=>{U.append("images",B)});try{return(await ge.post("/upload-images",U,{headers:{"Content-Type":"multipart/form-data"}})).data.imageUrls}catch(B){throw console.error("Error uploading images:",B),new Error("Failed to upload images")}},z=async()=>{try{const U=await R(),B=await ge.post("/add-property",{title:a,content:l,tags:u,price:h,bedrooms:m,bathrooms:x,distanceFromUniversity:v,address:w,availabilityStatus:N,contactInfo:M,description:C,isFeatured:O,images:U});B.data&&B.data.property&&(s("Property Added Successfully"),n(),i())}catch(U){U.response&&U.response.data&&U.response.data.message&&I(U.response.data.message)}},q=async()=>{const U=t._id;try{const B=await R(),V=await ge.put("/edit-property/"+U,{title:a,content:l,tags:u,price:h,bedrooms:m,bathrooms:x,distanceFromUniversity:v,address:w,availabilityStatus:N,contactInfo:M,description:C,isFeatured:O,images:B});V.data&&V.data.property&&(s("Property Updated Successfully"),n(),i())}catch(B){B.response&&B.response.data&&B.response.data.message&&I(B.response.data.message)}},H=()=>{if(!a){I("Please enter the title");return}if(!l){I("Please enter the content");return}I(""),e==="edit"?q():z()};return r.jsxs("div",{className:"relative p-4 max-w-4xl mx-auto bg-white rounded-lg shadow-lg",children:[r.jsx("button",{className:"absolute top-3 right-3 text-gray-400 hover:text-gray-600",onClick:i,children:r.jsx(Nr,{size:24})}),r.jsxs("div",{className:"grid grid-cols-4 gap-x-6 gap-y-4 p-4",children:[r.jsxs("div",{className:"col-span-2",children:[r.jsx("label",{children:"Title:"}),r.jsx("input",{type:"text",value:a,onChange:({target:U})=>o(U.value),className:"w-full p-2 border rounded",placeholder:"Enter the property title"})]}),r.jsxs("div",{className:"col-span-2",children:[r.jsx("label",{children:"Content:"}),r.jsx("textarea",{value:l,onChange:({target:U})=>c(U.value),className:"w-full p-2 border rounded",rows:"3",placeholder:"Describe the property"})]}),r.jsxs("div",{className:"col-span-2",children:[r.jsx("label",{children:"Upload Images:"}),r.jsxs("div",{...T(),className:"border-dashed border-2 p-4 text-center",children:[r.jsx("input",{...D()}),r.jsx("p",{children:"Drag & drop images here, or click to select files"})]}),r.jsx("div",{className:"mt-4",children:_.map((U,B)=>r.jsx("div",{className:"mt-2",children:U.name},B))})]}),r.jsxs("div",{children:[r.jsx("label",{children:"Price ($):"}),r.jsx("input",{type:"number",value:h,onChange:({target:U})=>p(Number(U.value)),className:"w-full p-2 border rounded"})]}),r.jsxs("div",{children:[r.jsx("label",{children:"Bedrooms:"}),r.jsx("input",{type:"number",value:m,onChange:({target:U})=>g(Number(U.value)),className:"w-full p-2 border rounded"})]}),r.jsxs("div",{children:[r.jsx("label",{children:"Bathrooms:"}),r.jsx("input",{type:"number",value:x,onChange:({target:U})=>b(Number(U.value)),className:"w-full p-2 border rounded"})]}),r.jsxs("div",{children:[r.jsx("label",{children:"Distance from University (miles):"}),r.jsx("input",{type:"number",value:v,onChange:({target:U})=>y(Number(U.value)),className:"w-full p-2 border rounded"})]}),r.jsxs("div",{className:"col-span-2",children:[r.jsx("label",{children:"Address:"}),r.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[r.jsx("input",{type:"text",value:w.street,onChange:({target:U})=>k({...w,street:U.value}),className:"col-span-2 p-2 border rounded",placeholder:"Street"}),r.jsx("input",{type:"text",value:w.city,onChange:({target:U})=>k({...w,city:U.value}),className:"p-2 border rounded",placeholder:"City"}),r.jsx("input",{type:"text",value:w.state,onChange:({target:U})=>k({...w,state:U.value}),className:"p-2 border rounded",placeholder:"State"}),r.jsx("input",{type:"text",value:w.zipCode,onChange:({target:U})=>k({...w,zipCode:U.value}),className:"p-2 border rounded",placeholder:"Zip Code"})]})]}),r.jsxs("div",{className:"col-span-2",children:[r.jsx("label",{children:"Contact Information:"}),r.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[r.jsx("input",{type:"text",value:M.name,onChange:({target:U})=>j({...M,name:U.value}),className:"p-2 border rounded",placeholder:"Contact Name"}),r.jsx("input",{type:"text",value:M.phone,onChange:({target:U})=>j({...M,phone:U.value}),className:"p-2 border rounded",placeholder:"Contact Phone"}),r.jsx("input",{type:"email",value:M.email,onChange:({target:U})=>j({...M,email:U.value}),className:"p-2 border rounded",placeholder:"Contact Email"})]})]}),r.jsxs("div",{className:"col-span-2 flex items-center",children:[r.jsx("input",{type:"checkbox",checked:O,onChange:({target:U})=>F(U.checked),className:"mr-2"}),r.jsx("label",{children:"Feature this property"})]}),r.jsxs("div",{className:"col-span-2",children:[r.jsx("label",{children:"Availability Status:"}),r.jsxs("select",{value:N,onChange:({target:U})=>S(U.value),className:"w-full p-2 border rounded",children:[r.jsx("option",{value:"available",children:"Available"}),r.jsx("option",{value:"rented",children:"Rented"})]})]}),r.jsxs("div",{className:"col-span-2",children:[r.jsx("label",{children:"Tags:"}),r.jsx(Sae,{tags:u,setTags:d})]}),$&&r.jsx("p",{className:"text-red-500",children:$}),r.jsx("button",{className:"col-span-2 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",onClick:H,children:e==="edit"?"Update":"Add"})]})]})},Eae=!1,Ph=(...t)=>t.filter(Boolean).join(" "),ci=t=>typeof t=="number"&&!Number.isNaN(t)?`$${t.toLocaleString()}`:null;var d3;const i3=(((d3=ge==null?void 0:ge.defaults)==null?void 0:d3.baseURL)||"").replace(/\/+$/,""),Pae=(t="")=>/^https?:\/\//i.test(t),_ae=(t="")=>{if(!t)return"";if(Pae(t))return t;if(!i3)return t.startsWith("/")?t:`/${t}`;const e=t.startsWith("/")?t:`/${t}`;return`${i3}${e}`},GA=t=>{const e=t??{};let n=[];return Array.isArray(e.images)?n=e.images:Array.isArray(e.photos)?n=e.photos:typeof e.image=="string"?n=[e.image]:typeof e.thumbnailUrl=="string"&&(n=[e.thumbnailUrl]),n.filter(Boolean).map(_ae)},a3=t=>{const e=GA(t);return e.length?e[0]:""},$0=(...t)=>{const e=[];for(const n of t)e.push(...GA(n));return Array.from(new Set(e))},F0=t=>`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`,o3=t=>{if(!t)return null;const e=new Date(t);if(Number.isNaN(e.getTime()))return null;const n=Math.floor((Date.now()-e.getTime())/(1e3*60*60*24));return n<0?null:n===0?"Today":n===1?"1 day ago":`${n} days ago`},l3=(t,e)=>{if(!t||!e)return null;const n=d=>d*Math.PI/180,s=3958.8,i=n(e.lat-t.lat),a=n(e.lng-t.lng),o=n(t.lat),l=n(e.lat),c=Math.sin(i/2)**2+Math.cos(o)*Math.cos(l)*Math.sin(a/2)**2,u=2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c));return Math.round(s*u*10)/10},c3=t=>typeof t=="number"&&t>0?ci(t):"Not set";function _h({children:t,onClick:e}){return r.jsx("button",{type:"button",onClick:e,className:"inline-flex items-center gap-2 rounded-full border border-black/10 bg-black/[0.04] px-3 py-1 text-sm text-black/80 hover:bg-black/[0.08]",children:t})}function z0({label:t,type:e="number",value:n,onChange:s,onApply:i,min:a}){return r.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[r.jsx("label",{className:"text-sm text-black/70 w-24",children:t}),r.jsx("input",{type:e,min:a,value:n??"",onChange:o=>s==null?void 0:s(o.target.value),className:"w-40 rounded-md border border-black/10 bg-white px-2 py-1 text-sm outline-none"}),r.jsx("button",{onClick:i,className:"rounded-md bg-black px-3 py-1 text-sm text-white hover:bg-black/90",children:"Apply"})]})}function Mh({children:t,onClick:e}){return r.jsx("button",{onClick:e,className:"inline-flex items-center rounded-full bg-black/5 px-2.5 py-1 text-xs hover:bg-black/10",children:t})}function Mae({agent:t,onAnswer:e,loading:n}){return t?r.jsxs("div",{className:"space-y-2",children:[(t.messages||[]).map((s,i)=>r.jsx("div",{className:s.role==="assistant"?"rounded-lg bg-black/[0.04] p-3 text-sm":"rounded-lg border border-black/10 p-3 text-sm",children:s.text},i)),n&&r.jsx("div",{className:"rounded-lg bg-black/[0.03] p-3 text-sm text-black/60",children:"Working searching sources and ranking matches."}),!!(t.questions||[]).length&&r.jsx("div",{className:"grid grid-cols-1 gap-2 sm:grid-cols-2 items-start",children:(t.questions||[]).map((s,i)=>r.jsxs("div",{className:"h-full rounded-lg border border-black/10 bg-white px-3 py-2",children:[r.jsx("div",{className:"mb-1 text-xs font-semibold text-black/70",children:s.text}),r.jsx("div",{className:"flex flex-wrap gap-2",children:(s.options||[]).map((a,o)=>r.jsx("button",{className:"rounded-full bg-black/5 px-3 py-1 text-sm hover:bg-black/10",onClick:()=>e==null?void 0:e(a),children:a.label},o))})]},i))})]}):null}function Tae({firstName:t,value:e,setValue:n,onSubmit:s,onNewProperty:i,onNewItem:a}){const o=_e.useRef(null),[l,c]=f.useState(!1),u=f.useRef(""),[d,h]=f.useState(!1);function p({onPickTemplate:g,getValue:x,onAutoMicChanged:b}){const[v,y]=_e.useState(!1),[w,k]=_e.useState(!1),N=_e.useRef(null);_e.useEffect(()=>b==null?void 0:b(w),[w,b]),_e.useEffect(()=>{if(!v)return;const M=C=>{N.current&&!N.current.contains(C.target)&&y(!1)},j=C=>C.key==="Escape"&&y(!1);return document.addEventListener("mousedown",M),document.addEventListener("keydown",j),()=>{document.removeEventListener("mousedown",M),document.removeEventListener("keydown",j)}},[v]);const S=["Find me a room near campus under $900 for October","2BR within 1 mile under $1200, in-unit laundry","Short-term sublease OctDec, budget $800"];return r.jsxs("div",{ref:N,className:"relative",children:[r.jsxs("button",{type:"button",onClick:()=>y(M=>!M),"aria-expanded":v,className:"inline-flex items-center gap-1 rounded-md bg-white/10 px-2.5 py-1 text-xs hover:bg-white/15",children:[r.jsx(NV,{className:"text-sm"})," Templates"]}),v&&r.jsxs("div",{className:"absolute left-0 top-[115%] z-20 w-[min(520px,92vw)] rounded-xl border border-white/10 bg-black/70 p-3 text-white/90 shadow-lg backdrop-blur",children:[r.jsx("div",{className:"mb-1 text-[11px] uppercase tracking-wide text-white/60",children:"Templates"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[S.map((M,j)=>r.jsx("button",{type:"button",onClick:()=>{g==null||g(M),y(!1)},className:"rounded-full border border-white/15 bg-white/10 px-3 py-1 text-sm hover:bg-white/20",children:M},j)),r.jsx("button",{type:"button",onClick:()=>{g==null||g(((x==null?void 0:x())||"")+" near campus"),y(!1)},className:"rounded-full border border-white/15 bg-white/10 px-3 py-1 text-sm hover:bg-white/20",title:"Quick nudge",children:"+ near campus"})]}),r.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"checkbox",checked:w,onChange:M=>k(M.target.checked),className:"h-4 w-4 accent-white/80"}),"Auto-run after voice input"]}),r.jsx("button",{type:"button",onClick:()=>y(!1),className:"rounded-md bg-white/10 px-2 py-1 text-xs hover:bg-white/20",children:"Close"})]})]})]})}f.useEffect(()=>()=>{var g,x;try{(x=(g=o.current)==null?void 0:g.abort)==null||x.call(g)}catch{}},[]);const m=()=>{var b,v;if(l){try{(v=(b=o.current)==null?void 0:b.stop)==null||v.call(b)}catch{}return}const g=window.SpeechRecognition||window.webkitSpeechRecognition;if(!g){alert("Speech recognition isnt supported in this browser. Try Chrome or Edge.");return}const x=new g;x.lang="en-US",x.interimResults=!0,x.continuous=!1,x.onstart=()=>{u.current=e||"",c(!0)},x.onresult=y=>{let w="";for(let N=0;N<y.results.length;N++)w+=y.results[N][0].transcript;w=w.trim();const k=u.current.trim();n(k?`${k} ${w}`:w)},x.onerror=()=>{c(!1),o.current=null},x.onend=()=>{c(!1),o.current=null},o.current=x,x.start()};return r.jsx("section",{className:"nr-hero-bg nr-hero-starry",children:r.jsxs("div",{className:"mx-auto max-w-7xl px-4 pt-16 pb-10",children:[r.jsx("p",{className:"mb-2 text-center text-[11px] tracking-[0.18em] text-white/60 uppercase",children:"Limited Beta"}),r.jsxs("header",{className:"text-center",children:[r.jsxs("h1",{className:"text-[clamp(2.6rem,5vw,4rem)] font-extrabold leading-tight tracking-tight",children:["Master campus life in"," ",r.jsx("span",{className:"bg-gradient-to-r from-orange-400 to-amber-500 bg-clip-text text-transparent",children:"Solve Threads"}),t?`, ${t}`:""]}),r.jsx("p",{className:"mx-auto mt-2 max-w-3xl text-white/75",children:"Tell NewRun what you need. Well scout, message, and organize next steps for you."})]}),r.jsx("div",{className:"mx-auto mt-6 max-w-3xl",children:r.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/[0.05] p-2 backdrop-blur",children:[r.jsx("div",{className:"flex items-center justify-between px-2 pb-2 text-white/70",children:r.jsx(p,{onPickTemplate:g=>n(g),getValue:()=>e,onAutoMicChanged:g=>h(g)})}),r.jsxs("div",{className:"flex items-center gap-2 px-1 pb-1",children:[r.jsx("input",{value:e,onChange:g=>n(g.target.value),onKeyDown:g=>{g.key==="Enter"&&!g.shiftKey&&(g.preventDefault(),s==null||s())},placeholder:'Try: "Find me a room near campus under $900 for October"',className:"flex-1 rounded-xl bg-transparent px-4 py-3 text-[15px] text-white outline-none placeholder:text-white/40"}),r.jsx("button",{type:"button",onClick:m,className:"grid h-10 w-10 place-items-center rounded-xl text-white transition "+(l?"bg-white/20 ring-2 ring-amber-500 animate-pulse":"bg-white/10 hover:bg-white/15"),"aria-label":l?"Stop voice input":"Start voice input","aria-pressed":l,title:l?"Listening click to stop":"Voice",children:r.jsx(fV,{})}),r.jsxs("button",{onClick:()=>s==null?void 0:s(),className:"inline-flex items-center gap-2 rounded-xl bg-gradient-to-r from-orange-500 to-amber-500 px-4 py-2.5 text-sm font-semibold text-black hover:opacity-95",children:["Start solving ",r.jsx(bb,{className:"text-[14px]"})]})]})]})}),r.jsx("p",{className:"mt-5 text-center text-xs text-white/70",children:"Over 200+ campus requests solved this week."})]})})}function Lae({initialText:t,onCreateProperty:e,onClose:n}){const[s,i]=f.useState(!0),[a,o]=f.useState(null),[l,c]=f.useState([]),[u,d]=f.useState([]),[h,p]=f.useState(null),[m,g]=f.useState({}),[x,b]=f.useState(new Set),[v,y]=f.useState(null),[w,k]=f.useState(null),[N,S]=f.useState(!1),[M,j]=f.useState(0),[C,L]=f.useState(new Set),[O,F]=f.useState(new Set),[$,I]=f.useState(new Set),[_,P]=f.useState({}),[E,T]=f.useState(!1),[D,R]=f.useState({maxPrice:void 0,moveIn:void 0,distanceMiles:void 0}),z=12,[q,H]=f.useState(1),[U,B]=f.useState(!1),[V,G]=f.useState({messages:[],questions:[],relaxations:[]}),Q=W=>{const ve=[],oe=(W==null?void 0:W.criteria)||{},Me=[];typeof oe.maxPrice=="number"&&Me.push(` ${ci(oe.maxPrice)}`),oe.moveIn&&Me.push(`move-in ${oe.moveIn}`),typeof oe.distanceMiles=="number"&&Me.push(`${oe.distanceMiles} mi`),oe.campus&&Me.push(oe.campus),ve.push({role:"assistant",text:`I parsed your request${Me.length?`: ${Me.join("  ")}`:""}.`});const Pe=Array.isArray(W==null?void 0:W.plan)?W.plan:[];return Pe[0]&&ve.push({role:"assistant",text:Pe[0]}),ve},se=W=>{const ve=[],oe=(W==null?void 0:W.criteria)||{};if(!oe.moveIn){const Me=new Date,Pe=F0(Me),nn=F0(new Date(Me.getFullYear(),9,1));ve.push({id:"moveIn",text:"Do you have a move-in date?",options:[{label:"Oct 1",key:"moveIn",value:nn},{label:"This month",key:"moveIn",value:Pe},{label:"Skip",key:null,value:null}]})}return typeof oe.distanceMiles!="number"&&ve.push({id:"distanceMiles",text:"How close to campus?",options:[{label:" 0.5 mi",key:"distanceMiles",value:.5},{label:" 1 mi",key:"distanceMiles",value:1},{label:" 2 mi",key:"distanceMiles",value:2}]}),ve},te=W=>{if(!W||!W.key)return;const ve={...K(),[W.key]:W.value};R(oe=>({...oe,[W.key]:W.value})),ne({filters:ve,page:1,append:!1})},K=()=>{const W={};return typeof D.maxPrice=="number"&&D.maxPrice>0&&(W.maxPrice=D.maxPrice),D.moveIn&&(W.moveIn=D.moveIn),typeof D.distanceMiles=="number"&&D.distanceMiles>0&&(W.distanceMiles=D.distanceMiles),W},[J,fe]=f.useState(null),[le,ce]=f.useState(!1),ne=async(W={})=>{try{i(!0);const ve={prompt:t||"",page:W.page??1,limit:z};W.filters&&(ve.filters=W.filters);const{data:oe}=await ge.post("/solve/housing",ve);p((oe==null?void 0:oe.threadId)||null),o((oe==null?void 0:oe.criteria)||null),d(Array.isArray(oe==null?void 0:oe.plan)?oe.plan:[]);const Me=Array.isArray(oe==null?void 0:oe.candidates)?oe.candidates:[];G({messages:Array.isArray(oe==null?void 0:oe.messages)&&oe.messages.length?oe.messages:Q(oe),questions:Array.isArray(oe==null?void 0:oe.questions)?oe.questions:se(oe),relaxations:Array.isArray(oe==null?void 0:oe.suggestedRelaxations)?oe.suggestedRelaxations:[]}),c(Pe=>W.append?[...Pe,...Me]:Me),B(!!(oe!=null&&oe.hasMore)||Me.length===z),H(ve.page),R(Pe=>{var nn,Mn,zn;return{maxPrice:Pe.maxPrice!==void 0?Pe.maxPrice:typeof((nn=oe==null?void 0:oe.criteria)==null?void 0:nn.maxPrice)=="number"?oe.criteria.maxPrice:void 0,moveIn:Pe.moveIn!==void 0?Pe.moveIn:((Mn=oe==null?void 0:oe.criteria)==null?void 0:Mn.moveIn)||void 0,distanceMiles:Pe.distanceMiles!==void 0?Pe.distanceMiles:typeof((zn=oe==null?void 0:oe.criteria)==null?void 0:zn.distanceMiles)=="number"?oe.criteria.distanceMiles:void 0}})}catch{W.append||c([]),d([]),B(!1)}finally{i(!1)}},ie=(W={})=>{const ve={};return typeof W.maxPrice=="number"&&W.maxPrice>0&&(ve.maxPrice=W.maxPrice),W.moveIn&&(ve.moveIn=W.moveIn),typeof W.distanceMiles=="number"&&W.distanceMiles>0&&(ve.distanceMiles=W.distanceMiles),ve},de=()=>{const W={maxPrice:typeof(a==null?void 0:a.maxPrice)=="number"?a.maxPrice:void 0,moveIn:(a==null?void 0:a.moveIn)||void 0,distanceMiles:typeof(a==null?void 0:a.distanceMiles)=="number"?a.distanceMiles:void 0};R(W),ne({filters:ie(W),page:1,append:!1})},ee=typeof D.maxPrice=="number"&&D.maxPrice!==(a==null?void 0:a.maxPrice),ye=!!D.moveIn&&D.moveIn!==(a==null?void 0:a.moveIn),xe=typeof D.distanceMiles=="number"&&D.distanceMiles!==(a==null?void 0:a.distanceMiles),Ce=ee||ye||xe,X=f.useRef(!1);f.useEffect(()=>{const W=localStorage.getItem("solve:filters");if(W)try{const oe=JSON.parse(W);R(Me=>({...Me,...oe})),X.current=!0,ne({filters:{...typeof oe.maxPrice=="number"&&oe.maxPrice>0?{maxPrice:oe.maxPrice}:{},...oe.moveIn?{moveIn:oe.moveIn}:{},...typeof oe.distanceMiles=="number"&&oe.distanceMiles>0?{distanceMiles:oe.distanceMiles}:{}},page:1,append:!1})}catch{}const ve=localStorage.getItem("solve:threadId");ve&&p(ve)},[]),f.useEffect(()=>{X.current||(ne({page:1,append:!1}),X.current=!0)},[t]),f.useEffect(()=>{try{const W=JSON.parse(localStorage.getItem("solve:favs")||"[]"),ve=JSON.parse(localStorage.getItem("solve:hidden")||"[]"),oe=JSON.parse(localStorage.getItem("solve:notes")||"{}"),Me=JSON.parse(localStorage.getItem("solve:shortlistOnly")||"false");L(new Set(Array.isArray(W)?W:[])),F(new Set(Array.isArray(ve)?ve:[])),P(typeof oe=="object"&&oe?oe:{}),T(!!Me)}catch{}},[]),f.useEffect(()=>{localStorage.setItem("solve:favs",JSON.stringify([...C]))},[C]),f.useEffect(()=>{localStorage.setItem("solve:hidden",JSON.stringify([...O]))},[O]),f.useEffect(()=>{localStorage.setItem("solve:notes",JSON.stringify(_))},[_]),f.useEffect(()=>{localStorage.setItem("solve:shortlistOnly",JSON.stringify(E))},[E]),f.useEffect(()=>{localStorage.setItem("solve:filters",JSON.stringify(D))},[D]),f.useEffect(()=>{h&&localStorage.setItem("solve:threadId",h)},[h]),f.useEffect(()=>{const W=ve=>ve.key==="Escape"&&y(null);return window.addEventListener("keydown",W),()=>window.removeEventListener("keydown",W)},[]);const A=async()=>{await ne({filters:K(),page:1,append:!1}),fe(null)},Y=async W=>{try{g(oe=>({...oe,[W]:"requesting"}));const{data:ve}=await ge.post("/contact-access/request",{propertyId:W});ve!=null&&ve.self?g(oe=>({...oe,[W]:"self"})):ve!=null&&ve.approved?g(oe=>({...oe,[W]:"approved"})):ve!=null&&ve.pending||ve!=null&&ve.already?g(oe=>({...oe,[W]:"pending"})):g(oe=>({...oe,[W]:"pending"}))}catch{g(ve=>({...ve,[W]:"error"}))}},Z=W=>{switch(W){case"requesting":return"Requesting";case"pending":return"Requested";case"approved":return"Approved";case"self":return"You own this";case"error":return"Failed, retry";default:return"Request contact"}},ae=W=>W==="requesting"||W==="pending"||W==="approved"||W==="self",ue=W=>!(W==="requesting"||W==="pending"||W==="approved"||W==="self"),he=W=>{L(ve=>{const oe=new Set(ve);return oe.has(W)?oe.delete(W):oe.add(W),oe})},je=W=>{F(ve=>{const oe=new Set(ve);return oe.add(W),oe})},Ee=W=>{I(ve=>{const oe=new Set(ve);return oe.has(W)?oe.delete(W):oe.add(W),oe})},Oe=(W,ve)=>{P(oe=>({...oe,[W]:ve}))},qe=l.filter(W=>!(O.has(W._id)||E&&!C.has(W._id))),rt=(W,ve)=>{ve||b(oe=>{const Me=new Set(oe);return Me.has(W)?Me.delete(W):Me.add(W),Me})},ot=()=>b(new Set),lt=qe.filter(W=>ue(m[W._id])).map(W=>W._id);f.useEffect(()=>{const W=new Set(qe.map(ve=>ve._id));b(ve=>new Set([...ve].filter(oe=>W.has(oe))))},[qe]);const et=lt.length>0&&lt.every(W=>x.has(W)),Ot=()=>{b(W=>{if(et)return new Set;const ve=new Set(W);return lt.forEach(oe=>ve.add(oe)),ve})},xt=qe.filter(W=>x.has(W._id)).slice(0,4);f.useEffect(()=>{b(W=>new Set([...W].filter(oe=>{const Me=m[oe];return!(Me==="requesting"||Me==="pending"||Me==="approved"||Me==="self")})))},[m]),f.useEffect(()=>{if(!v)return;const W=ve=>{const oe=$0(w,v);oe.length&&(ve.key==="ArrowLeft"&&j(Me=>(Me-1+oe.length)%oe.length),ve.key==="ArrowRight"&&j(Me=>(Me+1)%oe.length))};return window.addEventListener("keydown",W),()=>window.removeEventListener("keydown",W)},[v,w]),f.useEffect(()=>{if(!v)return;const W=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=W}},[v]);const mn=async()=>{if(x.size){for(const W of Array.from(x))ue(m[W])&&await Y(W);ot()}},_n=Object.values(m).reduce((W,ve)=>(ve==="pending"&&(W.requested+=1),ve==="approved"&&(W.approved+=1),W),{requested:0,approved:0});f.useEffect(()=>{const W=l.map(Pe=>Pe._id).filter(Pe=>["requesting","pending"].includes(m[Pe]));if(!W.length)return;let ve=!1;const oe=async()=>{try{const{data:Pe}=await ge.post("/contact-access/status",{ids:W});if(ve||!(Pe!=null&&Pe.statuses))return;g(nn=>{const Mn={...nn};for(const zn of Pe.statuses){const{id:re,status:Ne,self:be}=zn||{};re&&(Mn[re]=be?"self":Ne==="approved"?"approved":Ne==="pending"?"pending":Ne==="requesting"?"requesting":nn[re])}return Mn})}catch{}};oe();const Me=setInterval(oe,8e3);return()=>{ve=!0,clearInterval(Me)}},[l,m]);const bt=[...x].filter(W=>ue(m[W])).length,Zt=W=>`/properties/${W}`,ts=async W=>{y(W),k(null),j(0);try{S(!0);const{data:ve}=await ge.get(Zt(W._id)),oe=(ve==null?void 0:ve.property)||ve;k(oe||null)}catch{k(null)}finally{S(!1)}},ln=()=>{const W=[];return D.maxPrice&&W.push(`under ${ci(D.maxPrice)}`),D.distanceMiles&&W.push(`within ${D.distanceMiles} mi`),D.moveIn&&W.push(`for ${D.moveIn}`),W.length?`No listings ${W.join(" ")}.`:"No listings matched your request."},Ds=a!=null&&a.campusLocation&&typeof a.campusLocation.lat=="number"&&typeof a.campusLocation.lng=="number"?{lat:a.campusLocation.lat,lng:a.campusLocation.lng}:null;return r.jsxs("div",{className:"space-y-5",children:[r.jsxs("header",{className:"flex items-center justify-between gap-3",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold",children:"Housing Solve Thread"}),r.jsx("p",{className:"mt-1 text-sm text-black/70",children:"We parsed your request and found matches. Well message owners via SafeContact. Typical replies: 2448h."}),r.jsxs("p",{className:"mt-1 text-xs text-black/60",children:["Requested: ",r.jsx("span",{className:"font-medium",children:_n.requested}),"  Approved:"," ",r.jsx("span",{className:"font-medium",children:_n.approved})]})]}),r.jsx("button",{onClick:e,className:"shrink-0 rounded-lg border border-black/10 bg-black text-white px-3 py-1.5 text-sm hover:bg-black/90",children:"Post my housing request"})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsxs(_h,{onClick:()=>fe(J==="budget"?null:"budget"),children:[r.jsx("span",{className:"text-xs uppercase text-black/60",children:"Budget:"}),r.jsx("span",{className:"font-medium",children:c3(D.maxPrice)}),ee&&r.jsx("span",{className:"text-xs text-black/50 ml-1",children:"(saved)"})]}),r.jsxs(_h,{onClick:()=>fe(J==="date"?null:"date"),children:[r.jsx("span",{className:"text-xs uppercase text-black/60",children:"Move-in:"}),r.jsx("span",{className:"font-medium",children:D.moveIn||"Not set"}),ye&&r.jsx("span",{className:"text-xs text-black/50 ml-1",children:"(saved)"})]}),r.jsxs(_h,{onClick:()=>fe(J==="distance"?null:"distance"),children:[r.jsx("span",{className:"text-xs uppercase text-black/60",children:"Distance:"}),r.jsx("span",{className:"font-medium",children:D.distanceMiles?`${D.distanceMiles} mi`:"Not set"}),xe&&r.jsx("span",{className:"text-xs text-black/50 ml-1",children:"(saved)"})]}),r.jsxs(_h,{onClick:()=>T(W=>!W),children:[r.jsx("span",{className:"text-xs uppercase text-black/60",children:"Shortlist:"}),r.jsx("span",{className:"font-medium",children:E?"On":"Off"})]}),Ce&&r.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[r.jsx("span",{className:"rounded-full bg-amber-100 text-amber-800 px-2 py-0.5 text-xs",children:"Filters override parsed"}),r.jsx("button",{onClick:de,className:"text-xs underline text-black/70 hover:text-black",children:"Use parsed"})]})]}),J==="budget"&&r.jsx(z0,{label:"Max budget ($)",type:"number",min:0,value:D.maxPrice??"",onChange:W=>R(ve=>({...ve,maxPrice:W===""?void 0:Number(W)})),onApply:A}),J==="date"&&r.jsx(z0,{label:"Move-in date",type:"date",value:D.moveIn??"",onChange:W=>R(ve=>({...ve,moveIn:W||void 0})),onApply:A}),J==="distance"&&r.jsx(z0,{label:"Within (mi)",type:"number",min:0,value:D.distanceMiles??"",onChange:W=>R(ve=>({...ve,distanceMiles:W===""?void 0:Number(W)})),onApply:A}),r.jsx(Mae,{agent:V,onAnswer:te,loading:s&&l.length===0}),r.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[r.jsxs("div",{className:"rounded-xl border border-black/10 bg-black/[0.03] p-3 text-sm",children:[r.jsx("div",{className:"text-xs font-semibold text-black/60",children:"Criteria"}),r.jsxs("ul",{className:"mt-1 list-disc pl-4",children:[r.jsxs("li",{children:["Max price: ",c3(a==null?void 0:a.maxPrice)]}),(a==null?void 0:a.moveIn)&&r.jsxs("li",{children:["Move-in: ",a.moveIn]}),typeof(a==null?void 0:a.distanceMiles)=="number"&&r.jsxs("li",{children:["Within ",a.distanceMiles," miles"]}),!!((a==null?void 0:a.keywords)||[]).length&&r.jsxs("li",{children:["Keywords: ",(a.keywords||[]).join(", ")]}),(a==null?void 0:a.campus)&&r.jsxs("li",{children:["Campus: ",a.campus]}),typeof(a==null?void 0:a.bedrooms)=="number"&&r.jsxs("li",{children:["Bedrooms: ",a.bedrooms,"+"]}),typeof(a==null?void 0:a.bathrooms)=="number"&&r.jsxs("li",{children:["Bathrooms: ",a.bathrooms,"+"]})]})]}),r.jsxs("div",{className:"rounded-xl border border-black/10 bg-black/[0.03] p-3 text-sm",children:[r.jsx("div",{className:"text-xs font-semibold text-black/60",children:"Plan"}),r.jsx("ul",{className:"mt-1 list-disc pl-4",children:(u.length?u:["We parsed your request into search criteria.","Here are matching listings  select ones you like.","Tap Request contact to ask owners (uses SafeContact).","Typical owner replies: 2448h."]).map((W,ve)=>r.jsx("li",{children:W},ve))})]})]}),s?r.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:Array.from({length:4}).map((W,ve)=>r.jsx("div",{className:"h-40 animate-pulse rounded-xl bg-black/5"},ve))}):qe.length===0?r.jsxs("div",{className:"rounded-xl border border-black/10 bg-black/[0.03] p-6 text-center text-black/80 space-y-3",children:[r.jsx("div",{children:ln()}),r.jsxs("div",{className:"flex flex-wrap justify-center gap-2",children:[r.jsx(Mh,{onClick:()=>R(W=>({...W,maxPrice:(Number(W.maxPrice)||0)+100})),children:"+ Increase budget by $100"}),r.jsx(Mh,{onClick:()=>R(W=>({...W,distanceMiles:(Number(W.distanceMiles)||0)+.5})),children:"+ Expand radius to +0.5 mi"}),r.jsx(Mh,{onClick:()=>R(W=>({...W,moveIn:W.moveIn||F0(new Date)})),children:"+ Set a move-in date"}),r.jsx(Mh,{onClick:A,children:"Apply nudges"})]}),r.jsx("div",{children:r.jsx("button",{className:"mt-2 rounded-lg bg-black px-4 py-2 text-sm text-white hover:bg-black/90",onClick:e,children:"Post my housing request"})})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:qe.map(W=>{var nn,Mn;const ve=a3(W),oe=m[W._id],Me=o3(W==null?void 0:W.createdAt);let Pe=null;if(typeof(W==null?void 0:W.distanceMiles)=="number")Pe=W.distanceMiles;else if(Ds&&((nn=W==null?void 0:W.location)!=null&&nn.coordinates)&&Array.isArray(W.location.coordinates)&&W.location.coordinates.length===2){const[zn,re]=W.location.coordinates,Ne=l3(Ds,{lat:re,lng:zn});typeof Ne=="number"&&(Pe=Ne)}return r.jsxs("div",{className:"overflow-hidden rounded-xl border border-black/10 bg-white",children:[r.jsx("div",{className:"aspect-[16/10] w-full bg-black/5",children:ve?r.jsx("img",{src:ve,alt:W.title,className:"h-full w-full object-cover",onError:zn=>{zn.currentTarget.style.display="none"}}):null}),r.jsxs("div",{className:"p-3",children:[r.jsxs("div",{className:"flex items-center justify-between gap-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox","aria-label":"Select listing",checked:x.has(W._id),disabled:!ue(oe),onChange:()=>rt(W._id,!ue(oe)),className:`h-4 w-4 accent-black ${ue(oe)?"":"opacity-50 cursor-not-allowed"}`}),r.jsx("h4",{className:"line-clamp-1 font-semibold",children:W.title})]}),typeof W.price=="number"&&r.jsx("span",{className:"rounded-full bg-black/5 px-2.5 py-0.5 text-sm font-medium",children:ci(W.price)}),typeof W.matchScore=="number"&&r.jsxs("span",{className:"rounded-full bg-black/5 px-2 py-0.5 text-[11px] text-black/70",children:[Math.round(W.matchScore),"% match"]}),r.jsx("button",{type:"button",onClick:()=>he(W._id),className:"grid h-8 w-8 place-items-center rounded-md bg-black/5 hover:bg-black/10",title:C.has(W._id)?"Remove from shortlist":"Add to shortlist","aria-pressed":C.has(W._id),children:C.has(W._id)?r.jsx(bm,{className:"text-rose-600"}):r.jsx(yb,{})}),r.jsx("button",{type:"button",onClick:()=>je(W._id),className:"grid h-8 w-8 place-items-center rounded-md bg-black/5 hover:bg-black/10",title:"Hide this listing",children:r.jsx(uV,{})})]}),r.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2 text-[12px] text-black/60",children:[Me&&r.jsxs("span",{children:["Posted ",Me]}),typeof Pe=="number"&&r.jsxs("span",{children:[" ",Pe," mi to campus"]}),Array.isArray(W.why)&&W.why.length>0&&r.jsxs("button",{type:"button",onClick:()=>Ee(W._id),className:"inline-flex items-center gap-1 underline decoration-dotted underline-offset-2",title:"Why this matched?",children:[r.jsx(oV,{})," Why?"]})]}),r.jsx("p",{className:"mt-1 line-clamp-2 text-[13.5px] text-black/70",children:((Mn=W.address)==null?void 0:Mn.street)||W.address||W.description||""}),$.has(W._id)&&Array.isArray(W.why)&&W.why.length>0&&r.jsxs("div",{className:"mt-2 rounded-lg border border-black/10 bg-black/[0.03] p-2",children:[r.jsx("div",{className:"mb-1 text-xs font-semibold text-black/60",children:"Why this match"}),r.jsx("ul",{className:"list-disc pl-5 text-[13px] text-black/80",children:W.why.map((zn,re)=>r.jsx("li",{children:zn},re))})]}),oe&&r.jsx("div",{className:Ph("mt-2 inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium",oe==="approved"?"bg-emerald-600 text-white":oe==="pending"?"bg-amber-400 text-black":oe==="self"?"bg-black text-white":oe==="error"?"bg-rose-600 text-white":"bg-black/5 text-black/70"),children:Z(oe)}),r.jsx("div",{className:"mt-3 flex items-center justify-between gap-2",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>Y(W._id),disabled:ae(oe),"aria-busy":oe==="requesting",className:Ph("rounded-lg px-3 py-1.5 text-sm font-medium",oe==="approved"?"bg-emerald-600 text-white":oe==="pending"?"bg-amber-500 text-black":oe==="self"?"bg-black text-white opacity-70":oe==="error"?"bg-rose-600 text-white":"bg-black text-white hover:bg-black/90"),children:Z(oe)}),r.jsx("button",{onClick:()=>ts(W),className:"rounded-lg bg-black/5 px-3 py-1.5 text-sm hover:bg-black/10",children:"View details"})]})})]})]},W._id)})}),!s&&U&&r.jsx("div",{className:"mt-3 flex justify-center",children:r.jsx("button",{onClick:()=>ne({filters:K(),page:q+1,append:!0}),disabled:s,className:"rounded-md bg-black px-4 py-2 text-white hover:bg-black/90 disabled:opacity-60",children:"Load more results"})})]}),v&&r.jsx("div",{className:"fixed inset-0 z-40 flex items-start justify-end bg-black/30 backdrop-blur-sm",onClick:()=>{y(null),k(null)},role:"dialog","aria-modal":"true",children:r.jsxs("div",{className:"h-full w-[min(560px,92vw)] overflow-auto bg-white p-4 text-black shadow-2xl",onClick:W=>W.stopPropagation(),children:[r.jsxs("div",{className:"mb-3 flex items-start justify-between",children:[r.jsxs("div",{className:"min-w-0",children:[r.jsx("h4",{className:"truncate text-lg font-semibold",children:(w==null?void 0:w.title)||(v==null?void 0:v.title)||"Listing"}),r.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2 text-sm",children:[typeof((w==null?void 0:w.price)??(v==null?void 0:v.price))=="number"&&r.jsx("span",{className:"rounded-full bg-black/5 px-2.5 py-0.5 font-medium",children:ci((w==null?void 0:w.price)??(v==null?void 0:v.price))}),(()=>{const W=o3((w==null?void 0:w.createdAt)||(v==null?void 0:v.createdAt));return W?r.jsxs("span",{className:"text-black/60",children:["Posted ",W]}):null})()]})]}),r.jsx("button",{className:"rounded-md bg-black/5 px-2 py-1 text-sm",onClick:()=>{y(null),k(null)},children:"Close"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-full overflow-hidden rounded-lg bg-black/5",children:r.jsx("div",{className:"h-[260px] sm:h-[300px] md:h-[340px] lg:h-[380px] max-h-[62vh]",children:(()=>{const W=$0(w,v),ve=W==null?void 0:W[M];return W!=null&&W.length?r.jsx("img",{src:ve,alt:(w==null?void 0:w.title)||(v==null?void 0:v.title),className:"h-full w-full object-cover",draggable:!1,onError:oe=>{oe.currentTarget.style.display="none"}}):r.jsx("div",{className:"grid h-full w-full place-items-center text-sm text-black/50",children:N?"Loading photos":"No photos yet"})})()})}),(()=>{const W=$0(w,v);if(!(W!=null&&W.length))return null;const ve=()=>j(Me=>(Me-1+W.length)%W.length),oe=()=>j(Me=>(Me+1)%W.length);return r.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[r.jsx("button",{onClick:ve,className:"rounded-md bg-black/5 px-2 py-1 text-sm hover:bg-black/10",children:"Prev"}),r.jsxs("div",{className:"text-xs text-black/60",children:[M+1," / ",W.length]}),r.jsx("button",{onClick:oe,className:"rounded-md bg-black/5 px-2 py-1 text-sm hover:bg-black/10",children:"Next"})]})})()]}),r.jsx("div",{className:"mt-4 grid grid-cols-2 gap-3 text-[14px] sm:grid-cols-3",children:(()=>{const W=w||v||{},ve=[{icon:r.jsx(__,{}),label:"Bedrooms",value:W.bedrooms},{icon:r.jsx(jb,{}),label:"Bathrooms",value:W.bathrooms},{icon:r.jsx(gV,{}),label:"Sq Ft",value:W.sqft||W.squareFeet},{icon:r.jsx(iV,{}),label:"Move-in",value:W.moveIn||W.availableFrom},{icon:r.jsx(kV,{}),label:"Laundry",value:W.laundry||(W.inUnitLaundry?"In-unit":W.onSiteLaundry?"On-site":null)},{icon:r.jsx(SV,{}),label:"Parking",value:W.parking||(W.parkingAvailable?"Available":null)},{icon:r.jsx(lV,{}),label:"Pets",value:W.pets||(W.petsAllowed?"Allowed":W.pets?W.pets:null)},{icon:r.jsx(ef,{}),label:"Distance",value:(()=>{var Me,Pe;let oe=W.distanceMiles;if(oe==null&&Ds&&((Pe=(Me=W==null?void 0:W.location)==null?void 0:Me.coordinates)==null?void 0:Pe.length)===2){const[nn,Mn]=W.location.coordinates;oe=l3(Ds,{lat:Mn,lng:nn})}return typeof oe=="number"?`${oe} mi to campus`:null})()}].filter(oe=>oe.value!==void 0&&oe.value!==null&&oe.value!=="");return ve.length?ve.map((oe,Me)=>r.jsxs("div",{className:"flex items-center gap-2 rounded-lg border border-black/10 bg-black/[0.03] px-2.5 py-2",children:[r.jsx("div",{className:"text-[18px] text-black/70",children:oe.icon}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"text-[12px] uppercase tracking-wide text-black/50",children:oe.label}),r.jsx("div",{className:"truncate",children:oe.value})]})]},Me)):null})()}),(()=>{const W=w||v||{},ve=Array.isArray(W.amenities)&&W.amenities||Array.isArray(W.features)&&W.features||[];return ve.length?r.jsxs("div",{className:"mt-4",children:[r.jsx("div",{className:"mb-1 text-sm font-semibold",children:"Amenities"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:ve.map((oe,Me)=>r.jsx("span",{className:"rounded-full bg-black/5 px-2.5 py-1 text-[13px]",children:oe},Me))})]}):null})(),(()=>{const W=w||v||{},ve=W.deposit||W.securityDeposit,oe=W.fees||W.applicationFee,Me=W.lease||W.leaseLength,Pe=(Array.isArray(W.utilitiesIncluded)&&W.utilitiesIncluded.length?W.utilitiesIncluded.join(", "):null)||(W.utilities&&typeof W.utilities=="string"?W.utilities:null);return!ve&&!oe&&!Me&&!Pe?null:r.jsxs("div",{className:"mt-4 space-y-1",children:[r.jsx("div",{className:"text-sm font-semibold",children:"Pricing & Terms"}),r.jsxs("ul",{className:"list-disc pl-5 text-[14px]",children:[Me&&r.jsxs("li",{children:["Lease: ",Me]}),ve&&r.jsxs("li",{children:["Security deposit: ",ci(Number(ve))||ve]}),oe&&r.jsxs("li",{children:["Application fee: ",ci(Number(oe))||oe]}),Pe&&r.jsxs("li",{children:["Utilities included: ",Pe]})]})]})})(),(()=>{const W=(w==null?void 0:w.description)||(v==null?void 0:v.description);return W?r.jsxs("div",{className:"mt-4",children:[r.jsx("div",{className:"mb-1 text-sm font-semibold",children:"About this place"}),r.jsx("p",{className:"whitespace-pre-wrap text-[14px] text-black/80",children:W})]}):null})(),(()=>{var ve,oe;const W=((ve=w==null?void 0:w.address)==null?void 0:ve.street)||(w==null?void 0:w.address)||((oe=v==null?void 0:v.address)==null?void 0:oe.street)||(v==null?void 0:v.address);return W?r.jsxs("div",{className:"mt-4 text-[14px]",children:[r.jsx("div",{className:"mb-1 text-sm font-semibold",children:"Address"}),r.jsx("div",{className:"text-black/80",children:W})]}):null})(),r.jsxs("div",{className:"mt-4",children:[r.jsx("div",{className:"mb-1 text-sm font-semibold",children:"Your notes"}),r.jsx("textarea",{rows:3,value:_[v._id]||"",onChange:W=>Oe(v._id,W.target.value),className:"w-full rounded-md border border-black/10 bg-white p-2 text-[14px] outline-none",placeholder:"e.g., Ask about utilities, FaceTime tour at 5pm, roommate likes cats"})]}),r.jsxs("div",{className:"mt-6",children:[(()=>{const W=m[v._id];return r.jsx("button",{onClick:()=>Y(v._id),disabled:ae(W),className:Ph("rounded-lg px-3 py-1.5 text-sm font-medium",W==="approved"?"bg-emerald-600 text-white":W==="pending"?"bg-amber-500 text-black":W==="self"?"bg-black text-white opacity-70":W==="error"?"bg-rose-600 text-white":"bg-black text-white hover:bg-black/90"),children:Z(W)})})(),N&&r.jsx("div",{className:"mt-2 text-xs text-black/60",children:"Loading more details"})]})]})}),le&&r.jsx("div",{className:"fixed inset-0 z-40 flex items-start justify-center bg-black/40 backdrop-blur-sm",onClick:()=>ce(!1),role:"dialog","aria-modal":"true",children:r.jsxs("div",{className:"mt-6 max-h-[85vh] w-[min(980px,96vw)] overflow-auto rounded-2xl bg-white p-4 text-black shadow-2xl",onClick:W=>W.stopPropagation(),children:[r.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[r.jsxs("h4",{className:"text-lg font-semibold",children:["Compare ",xt.length," places"]}),r.jsx("button",{className:"rounded-md bg-black/5 px-2 py-1 text-sm",onClick:()=>ce(!1),children:"Close"})]}),r.jsx("div",{className:"grid auto-cols-[minmax(220px,1fr)] grid-flow-col gap-3",children:xt.map(W=>{var Pe;const ve=a3(W),oe=m[W._id],Me=[];return typeof W.price=="number"&&Me.push(["Price",ci(W.price)]),typeof W.matchScore=="number"&&Me.push(["Match",`${Math.round(W.matchScore)}%`]),typeof W.bedrooms=="number"&&Me.push(["Bedrooms",W.bedrooms]),typeof W.bathrooms=="number"&&Me.push(["Bathrooms",W.bathrooms]),(typeof W.sqft=="number"||W.squareFeet)&&Me.push(["Sq Ft",W.sqft||W.squareFeet]),W.moveIn&&Me.push(["Move-in",W.moveIn]),typeof W.distanceMiles=="number"&&Me.push(["Distance",`${W.distanceMiles} mi`]),(W.laundry||W.inUnitLaundry||W.onSiteLaundry)&&Me.push(["Laundry",W.laundry||(W.inUnitLaundry?"In-unit":W.onSiteLaundry?"On-site":"")]),(W.parking||W.parkingAvailable)&&Me.push(["Parking",W.parking||(W.parkingAvailable?"Available":"")]),(W.pets||W.petsAllowed)&&Me.push(["Pets",W.pets||(W.petsAllowed?"Allowed":"")]),r.jsxs("div",{className:"rounded-xl border border-black/10 bg-black/[0.02]",children:[r.jsx("div",{className:"aspect-[16/10] w-full overflow-hidden rounded-t-xl bg-black/5",children:ve&&r.jsx("img",{src:ve,alt:"",className:"h-full w-full object-cover",onError:nn=>{nn.currentTarget.style.display="none"}})}),r.jsxs("div",{className:"p-3",children:[r.jsx("div",{className:"mb-1 line-clamp-1 font-semibold",children:W.title}),r.jsx("div",{className:"mb-2 line-clamp-2 text-[13px] text-black/60",children:((Pe=W.address)==null?void 0:Pe.street)||W.address||""}),r.jsx("dl",{className:"space-y-1 text-[13px]",children:Me.map(([nn,Mn],zn)=>r.jsxs("div",{className:"flex justify-between gap-2",children:[r.jsx("dt",{className:"text-black/60",children:nn}),r.jsx("dd",{className:"font-medium text-right",children:Mn})]},zn))}),r.jsx("div",{className:"mt-3",children:r.jsx("button",{onClick:()=>Y(W._id),disabled:ae(oe),className:Ph("w-full rounded-md px-3 py-1.5 text-sm",oe==="approved"?"bg-emerald-600 text-white":oe==="pending"?"bg-amber-500 text-black":oe==="self"?"bg-black text-white opacity-70":oe==="error"?"bg-rose-600 text-white":"bg-black text-white hover:bg-black/90"),children:Z(oe)})})]})]},W._id)})})]})}),x.size>0&&r.jsxs("div",{className:"sticky bottom-0 z-30 mt-2 flex items-center justify-between rounded-xl border border-black/10 bg-white px-3 py-2 text-sm shadow-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:Ot,className:"rounded-md bg-black/5 px-2 py-1",children:et?"Unselect all":"Select all on page"}),r.jsxs("span",{className:"text-black/70",children:[x.size," selected"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:ot,className:"rounded-md bg-black/5 px-3 py-1.5",children:"Clear"}),r.jsxs("button",{onClick:()=>ce(!0),disabled:xt.length<2,className:`rounded-md px-3 py-1.5 ${xt.length<2?"bg-black/30 text-white/70 cursor-not-allowed":"bg-black text-white hover:bg-black/90"}`,children:["Compare selected (",xt.length,")"]}),r.jsxs("button",{onClick:mn,disabled:bt===0,className:`rounded-md px-3 py-1.5 ${bt===0?"bg-black/30 text-white/70 cursor-not-allowed":"bg-black text-white hover:bg-black/90"}`,children:["Request contact for selected (",bt,")"]})]})]}),r.jsx("div",{className:"flex justify-end gap-2 pt-2",children:r.jsx("button",{onClick:n,className:"rounded-lg bg-black px-4 py-2 text-sm text-white hover:bg-black/90",children:"Done"})})]})}function Aae(){var p;const t=pt(),[e,n]=f.useState({isShown:!1,type:"add",data:null,modalType:""}),[s,i]=f.useState({isShown:!1,type:"add",message:""}),[a,o]=f.useState(null),[l,c]=f.useState(""),u=async()=>{var m,g;try{const x=await ge.get("/get-user");return((m=x==null?void 0:x.data)==null?void 0:m.user)||null}catch(x){return((g=x==null?void 0:x.response)==null?void 0:g.status)===401&&(localStorage.clear(),t("/login")),null}};f.useEffect(()=>{let m=!0;return(async()=>{const g=await u();m&&o(g)})(),()=>{m=!1}},[]);const d=(m,g)=>i({isShown:!0,message:m,type:g}),h=()=>i({isShown:!1,message:""});return r.jsxs("div",{className:"nr-dots-page min-h-screen text-white",children:[r.jsx(ht,{userInfo:a,handleClearSearch:()=>{}}),r.jsx(Tae,{firstName:a==null?void 0:a.firstName,value:l,setValue:c,onSubmit:()=>n({isShown:!0,type:"add",data:{__solveText:l},modalType:"solve-housing"})}),Eae,r.jsxs(kae,{isOpen:e.isShown,onRequestClose:()=>n({isShown:!1,type:"add",data:null,modalType:""}),ariaHideApp:!1,overlayClassName:"fixed inset-0 bg-black/30 backdrop-blur-sm",className:"mx-auto mt-14 w-[min(960px,92vw)] max-h-[90vh] overflow-auto rounded-2xl border border-white/10 bg-white p-5 text-black shadow-2xl outline-none",children:[e.modalType==="property"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"New Property"}),r.jsx("button",{className:"grid h-8 w-8 place-items-center rounded-full bg-black/5",onClick:()=>n({isShown:!1,type:"add",data:null,modalType:""}),children:r.jsx(Nr,{})})]}),r.jsx(Cae,{type:e.type,propertyData:e.data,onClose:()=>n({isShown:!1,type:"add",data:null,modalType:""}),getAllProperties:async()=>{},showToastMessage:(m,g)=>d(m,g||"add")})]}),e.modalType==="item"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"New Marketplace Item"}),r.jsx("button",{className:"grid h-8 w-8 place-items-center rounded-full bg-black/5",onClick:()=>n({isShown:!1,type:"add",data:null,modalType:""}),children:r.jsx(Nr,{})})]}),r.jsx(ly,{type:e.type,itemData:e.data,onClose:()=>n({isShown:!1,type:"add",data:null,modalType:""}),getAllItems:async()=>{},showToastMessage:(m,g)=>d(m,g||"add")})]}),e.modalType==="solve-housing"&&r.jsx(Lae,{initialText:((p=e==null?void 0:e.data)==null?void 0:p.__solveText)||"",onCreateProperty:()=>{var m;return n({isShown:!0,type:"add",data:{title:"Housing Request",description:((m=e==null?void 0:e.data)==null?void 0:m.__solveText)||""},modalType:"property"})},onClose:()=>n({isShown:!1,type:"add",data:null,modalType:""})})]}),r.jsx(yL,{isShown:s.isShown,message:s.message,type:s.type,onClose:h})]})}const Iae=()=>{const t=pt(),e={hidden:{opacity:0,y:28},show:(n=0)=>({opacity:1,y:0,transition:{duration:.65,ease:"easeOut",delay:n*.08}})};return r.jsxs("div",{className:"body-obsidian min-h-screen",children:[r.jsx(ht,{}),r.jsx("div",{className:"flex items-center justify-center min-h-[80vh] px-4",children:r.jsxs("div",{className:"text-center max-w-2xl mx-auto",children:[r.jsxs(we.div,{initial:"hidden",animate:"show",variants:e,className:"mb-8",children:[r.jsx("div",{className:"text-9xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-orange-400 to-cyan-400 mb-4",children:"404"}),r.jsx("div",{className:"w-24 h-1 bg-gradient-to-r from-orange-400 to-cyan-400 mx-auto rounded-full"})]}),r.jsxs(we.div,{initial:"hidden",animate:"show",variants:e,custom:1,className:"mb-8",children:[r.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Oops! Page Not Found"}),r.jsx("p",{className:"text-xl text-white/70 mb-2",children:"The page you're looking for doesn't exist or has been moved."}),r.jsx("p",{className:"text-white/50",children:"Don't worry, let's get you back on track!"})]}),r.jsxs(we.div,{initial:"hidden",animate:"show",variants:e,custom:2,className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[r.jsxs("button",{onClick:()=>t("/"),className:"group inline-flex items-center gap-2 rounded-full border border-white/20 bg-white/5 px-6 py-3 text-sm text-white/85 hover:bg-white/10 hover:border-white/30 transition-all duration-200",children:[r.jsx(xi,{className:"text-lg"}),"Go Home"]}),r.jsxs("button",{onClick:()=>t(-1),className:"group inline-flex items-center gap-2 rounded-full border border-white/20 bg-white/5 px-6 py-3 text-sm text-white/85 hover:bg-white/10 hover:border-white/30 transition-all duration-200",children:[r.jsx(E_,{className:"text-lg"}),"Go Back"]}),r.jsxs("button",{onClick:()=>t("/marketplace"),className:"group inline-flex items-center gap-2 rounded-full border border-white/20 bg-white/5 px-6 py-3 text-sm text-white/85 hover:bg-white/10 hover:border-white/30 transition-all duration-200",children:[r.jsx(Jp,{className:"text-lg"}),"Browse Marketplace"]})]}),r.jsxs(we.div,{initial:"hidden",animate:"show",variants:e,custom:3,className:"mt-12",children:[r.jsx("p",{className:"text-white/50 text-sm mb-4",children:"Popular pages:"}),r.jsx("div",{className:"flex flex-wrap justify-center gap-4",children:[{path:"/marketplace",label:"Marketplace"},{path:"/all-properties",label:"Properties"},{path:"/Synapsematches",label:"Roommate Matches"},{path:"/community",label:"Community"},{path:"/blogs",label:"Blogs"}].map((n,s)=>r.jsx("button",{onClick:()=>t(n.path),className:"text-orange-400 hover:text-orange-300 text-sm transition-colors duration-200",children:n.label},n.path))})]})]})}),r.jsx(Oa,{})]})},Oae=(t=!1)=>{const e=pt(),n=tr();f.useEffect(()=>{if(!t)return;const s=o=>{console.log(" History blocked - preventing back navigation"),window.history.pushState(null,"",window.location.href),e("/login",{replace:!0})},i=o=>{if(["/help","/terms","/privacy","/cookies","/cookies/settings"].some(d=>window.location.pathname.startsWith(d)))return;["/dashboard","/profile","/messaging","/Synapse","/marketplace/item","/marketplace/create","/marketplace/edit","/properties","/requests","/Synapsematches"].some(d=>window.location.pathname.startsWith(d))&&(localStorage.getItem("accessToken")||localStorage.getItem("token")||localStorage.getItem("userToken")||(console.log(" Unauthorized access to protected route via navigation"),e("/login",{replace:!0})))},a=o=>{if(["/help","/terms","/privacy","/cookies","/cookies/settings"].some(d=>window.location.pathname.startsWith(d)))return;if(["/dashboard","/profile","/messaging","/Synapse","/marketplace/item","/marketplace/create","/marketplace/edit","/properties","/requests","/Synapsematches"].some(d=>window.location.pathname.startsWith(d))&&!(localStorage.getItem("accessToken")||localStorage.getItem("token")||localStorage.getItem("userToken")))return console.log(" Unauthorized access attempt blocked"),o.preventDefault(),e("/login",{replace:!0}),!1};return window.addEventListener("popstate",s),window.addEventListener("beforeunload",a),window.addEventListener("hashchange",i),window.history.pushState(null,"",window.location.href),()=>{window.removeEventListener("popstate",s),window.removeEventListener("beforeunload",a),window.removeEventListener("hashchange",i)}},[t,e,n])},Rae=({children:t})=>{const e=tr(),n=pt(),{isAuthenticated:s,loading:i,setUser:a,setIsAuthenticated:o}=Ji(),[l,c]=f.useState(!1),u=f.useRef(null),d=f.useRef(0),h=async()=>{var v;const g=Date.now();if(g-d.current<5e3)return s;if(!(localStorage.getItem("accessToken")||localStorage.getItem("token")||localStorage.getItem("userToken")))return console.log("RouteGuard: No token found"),!1;try{c(!0),d.current=g;const y=await ge.get("/get-user");return y.data&&y.data.user?(console.log("RouteGuard: Token is valid"),a(y.data.user),o(!0),!0):(console.log("RouteGuard: Invalid response"),!1)}catch(y){return console.log("RouteGuard: Token validation failed:",(v=y.response)==null?void 0:v.status),localStorage.removeItem("accessToken"),localStorage.removeItem("token"),localStorage.removeItem("userToken"),a(null),o(!1),!1}finally{c(!1)}},m=!s&&!i&&!["/help","/terms","/privacy","/cookies","/cookies/settings"].some(g=>e.pathname.startsWith(g));return Oae(m),f.useEffect(()=>{if(!s&&!i)return["/help","/terms","/privacy","/cookies","/cookies/settings"].some(b=>e.pathname.startsWith(b))?void 0:ZU()},[s,i,e.pathname]),f.useEffect(()=>((async()=>{if(i||l)return;["/dashboard","/profile","/messaging","/Synapse","/marketplace/item","/marketplace/create","/marketplace/edit","/properties","/requests","/Synapsematches","/onboarding"].some(v=>e.pathname.startsWith(v))&&(console.log("RouteGuard: Checking authentication for protected route:",e.pathname),u.current&&clearTimeout(u.current),u.current=setTimeout(async()=>{await h()||(console.log("RouteGuard: Authentication failed, redirecting to login"),n("/login",{state:{from:e.pathname},replace:!0}))},100))})(),()=>{u.current&&clearTimeout(u.current)}),[e.pathname,i,l,s,n,a,o]),l?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#0b0c0f]",children:r.jsxs("div",{className:"flex flex-col items-center gap-4",children:[r.jsx("div",{className:"w-8 h-8 border-2 border-orange-500 border-t-transparent rounded-full animate-spin"}),r.jsx("p",{className:"text-white/70 text-sm",children:"Validating authentication..."})]})}):t};function Om({title:t,sections:e,children:n}){const[s,i]=f.useState(()=>{try{return localStorage.getItem("nr_legal_theme")||"dark"}catch{return"dark"}});f.useEffect(()=>{try{localStorage.setItem("nr_legal_theme",s)}catch{}},[s]);const a=s==="light";return r.jsx("main",{className:`min-h-screen ${a?"bg-white":"bg-black"}`,children:r.jsxs("div",{className:"mx-auto max-w-6xl px-4 py-10 md:py-12",children:[r.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[r.jsx("h1",{className:"brand-script text-5xl leading-none bg-gradient-to-r from-[#2F64FF] to-[#00D4FF] bg-clip-text text-transparent",children:"NewRun"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`${a?"text-black/70":"text-white/70"} text-xs`,children:"Dark"}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"sr-only peer",checked:a,onChange:o=>i(o.target.checked?"light":"dark")}),r.jsx("div",{className:"w-10 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:bg-[#2F64FF] transition-colors"}),r.jsx("div",{className:"absolute left-0.5 top-0.5 h-5 w-5 rounded-full bg-white transform transition-transform peer-checked:translate-x-4"})]}),r.jsx("span",{className:`${a?"text-black/70":"text-white/70"} text-xs`,children:"Light"})]})]}),r.jsx("h2",{className:`${a?"text-black":"text-white"} text-2xl font-semibold mt-2`,children:t}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[280px_minmax(0,1fr)] items-start gap-8 relative",style:a?{filter:"invert(1) hue-rotate(180deg)"}:{},children:[r.jsx("aside",{className:"md:sticky md:top-6 h-max z-0",children:r.jsxs("nav",{className:"rounded-xl border border-white/10 bg-white/[0.03] p-4",children:[r.jsx("div",{className:"text-white/70 text-xs uppercase tracking-wide mb-2",children:"On this page"}),r.jsx("ul",{className:"space-y-1 text-sm",children:e==null?void 0:e.map(o=>r.jsx("li",{children:r.jsx("a",{href:`#${o.id}`,className:"block rounded-md px-2 py-1 text-white/85 hover:bg-white/10",children:o.label})},o.id))})]})}),r.jsx("section",{className:"rounded-2xl border border-white/10 bg-white/[0.03] p-6 relative z-10",children:n})]})]})})}function Dae(){const t="October 1, 2025",e=({id:i,title:a,children:o})=>r.jsxs("section",{id:i,className:"scroll-mt-24",children:[r.jsx("h3",{className:"text-white text-xl font-semibold mt-8 mb-3",children:a}),r.jsx("div",{className:"text-white/85 text-sm leading-6 space-y-3",children:o})]}),n=({children:i})=>r.jsx("div",{className:"rounded-lg border border-white/10 bg-white/[0.03] p-3",children:i}),s=[{id:"what",label:"What we use"},{id:"where",label:"Where its used"},{id:"why",label:"Why we personalize"},{id:"dont",label:"What we dont use"},{id:"controls",label:"Your controls"},{id:"examples",label:"Examples"},{id:"handling",label:"Data handling & retention"},{id:"fairness",label:"Fairness, safety & reporting"},{id:"contact",label:"Questions? Contact us"}];return r.jsxs(Om,{title:"How personalization works",sections:s,children:[r.jsxs("p",{className:"text-white/60 text-xs mb-6",children:["Last updated: ",t]}),r.jsxs("div",{className:"text-white/85 text-sm leading-6 space-y-3 mb-6",children:[r.jsx("p",{children:"We use a few basic details to make NewRun more useful for youshowing housing, marketplace items, and community posts that fit your campus context. This page explains exactly what we use, why, and how to control it."}),r.jsx(n,{children:r.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[r.jsxs("li",{children:["We do ",r.jsx("span",{className:"text-white font-medium",children:"not"})," sell your personal information."]}),r.jsx("li",{children:"You can adjust personalization and analytics in Settings at any time."}),r.jsxs("li",{children:["For broader data practices, see our"," ",r.jsx(Ie,{to:"/privacy",className:"text-sky-400 hover:underline",children:"Privacy Policy"}),"."]})]})})]}),r.jsxs(e,{id:"what",title:"What basic details we use",children:[r.jsx("p",{children:"Only whats needed to tailor content to your university context:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Account & campus:"})," email domain (e.g., .edu), selected campus, class year, and program/major if you provide it."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Preferences:"})," housing filters (budget, distance), saved searches, language, notification choices."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Simple activity:"})," saves/likes, hides, basic search terms, and listing categories you viewused to rank relevance."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Device basics:"})," locale/timezone and app version to help us render the right content and fix issues."]})]})]}),r.jsx(e,{id:"where",title:"Where personalization is used",children:r.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Housing feed:"})," matches near campus, price range, and roommates with compatible preferences."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Marketplace:"})," items commonly bought by peers at your campus, filtered by your interests."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Search & discover:"})," quicker suggestions and recent searches."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Notifications:"})," activity on your posts, saved searches, safety alerts, and relevant product updates."]})]})}),r.jsx(e,{id:"why",title:"Why we personalize",children:r.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[r.jsx("li",{children:"Reduce noise and show relevant options faster."}),r.jsx("li",{children:"Improve safety by downranking spammy or low-quality content."}),r.jsx("li",{children:"Cut time-to-find for critical tasks (housing deadlines, move-in essentials)."})]})}),r.jsx(e,{id:"dont",title:"What we dont use",children:r.jsx(n,{children:r.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[r.jsx("li",{children:"No sensitive attributes (e.g., health, religion, sexual orientation) for recommendations."}),r.jsx("li",{children:"No contacts/media unless you explicitly opt in for features that need them."}),r.jsx("li",{children:"No third-party advertising cookies that sell your data."})]})})}),r.jsx(e,{id:"controls",title:"Your controls",children:r.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Edit preferences:"})," update housing filters, campus, interests, and notification choices in ",r.jsx(Ie,{to:"/settings",className:"text-sky-400 hover:underline",children:"Settings"}),"."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Turn off non-essential personalization/analytics:"})," manage in ",r.jsx(Ie,{to:"/cookies/settings",className:"text-sky-400 hover:underline",children:"Cookie Settings"})," (when available)."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Clear signals:"})," remove saved searches and history; clear cookies/local storage in your browser."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Emails & push:"})," use unsubscribe links or adjust notification toggles in Settings."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Your rights:"})," access/export/delete  see the ",r.jsx(Ie,{to:"/privacy#your-choices",className:"text-sky-400 hover:underline",children:"Privacy Policy"}),"."]})]})}),r.jsx(e,{id:"examples",title:"Examples",children:r.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[r.jsx("li",{children:"If you set rent  $900 and walkable to campus, we rank those listings higher in your feed."}),r.jsx("li",{children:"If you save desk + chair, well surface similar marketplace posts and restock alerts."}),r.jsx("li",{children:"If you mute pets allowed, we downrank pet-friendly places in your housing results."})]})}),r.jsxs(e,{id:"handling",title:"Data handling & retention",children:[r.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[r.jsx("li",{children:"Signals like saves/searches are retained while your account is active and then deleted or de-identified on a schedule."}),r.jsx("li",{children:"We work with service providers (hosting, analytics, payments) under contracts that limit their use to our instructions."}),r.jsx("li",{children:"We may review content and related metadata if its reported for safety or fraud."})]}),r.jsxs("p",{className:"text-white/70 text-xs",children:["See ",r.jsx(Ie,{to:"/privacy#retention",className:"text-sky-400 hover:underline",children:"Retention"})," for more detail."]})]}),r.jsx(e,{id:"fairness",title:"Fairness, safety & reporting",children:r.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[r.jsx("li",{children:"Ranking avoids protected attributes and includes anti-discrimination checks."}),r.jsx("li",{children:"Spam/scam signals reduce the visibility of bad actors; repeat violators may be removed."}),r.jsxs("li",{children:["Report concerns in-app or email ",r.jsx("a",{href:"mailto:safety@newrun.club",className:"text-sky-400 hover:underline",children:"safety@newrun.club"}),"."]})]})}),r.jsxs(e,{id:"contact",title:"Questions? Contact us",children:[r.jsxs("p",{children:["Email ",r.jsx("a",{href:"mailto:privacy@newrun.club",className:"text-sky-400 hover:underline",children:"privacy@newrun.club"})," for privacy questions, or ",r.jsx("a",{href:"mailto:support@newrun.club",className:"text-sky-400 hover:underline",children:"support@newrun.club"})," for product help."]}),r.jsxs("div",{className:"mt-2 text-white/85 text-sm",children:[r.jsxs("p",{children:[r.jsx("span",{className:"text-white",children:"Support hours:"})," MonFri, 9am6pm CT. Typical response within 2448 hours."]}),r.jsxs("p",{children:[r.jsx("span",{className:"text-white",children:"Safety issues:"})," Report inapp or email ",r.jsx("a",{href:"mailto:safety@newrun.club",className:"text-sky-400 hover:underline",children:"safety@newrun.club"}),"."]})]})]})]})}function $ae(){const t="October 1, 2025",e=({id:s,title:i,children:a})=>r.jsxs("section",{id:s,className:"scroll-mt-24",children:[r.jsx("h3",{className:"text-white text-xl font-semibold mt-8 mb-3",children:i}),r.jsx("div",{className:"text-white/85 text-sm leading-6 space-y-3",children:a})]}),n=[["acceptance","1. Acceptance of Terms"],["eligibility","2. Eligibility & Accounts"],["use","3. Permitted Use & Community Rules"],["content","4. Your Content & IP"],["listings","5. Listings, Housing & Marketplace"],["payments","6. Payments, Fees & Taxes"],["safety","7. Safety, Prohibited Items & Reporting"],["comm","8. Messaging & Notifications"],["thirdparty","9. Third-Party Services"],["termination","10. Suspension & Termination"],["warranty","11. Disclaimers"],["liability","12. Limitation of Liability"],["indemnity","13. Indemnification"],["law","14. Governing Law & Disputes"],["changes","15. Changes to the Service & Terms"],["consent","16. Consent & Versioning"],["misc","17. Miscellaneous"],["dmca","18. Copyright/DMCA"],["contact","19. Contact"]];return r.jsxs(Om,{title:"Terms of Service",sections:n.map(([s,i])=>({id:s,label:i})),children:[r.jsxs("p",{className:"text-white/60 text-xs mb-6",children:["Last updated: ",t]}),r.jsxs("div",{className:"text-white/85 text-sm leading-6 space-y-3 mb-6",children:[r.jsxs("p",{children:["Welcome to NewRun  a student-focused platform for housing, marketplace, and community. By using NewRun, you agree to these Terms. If you dont agree, do not use the service. Our ",r.jsx(Ie,{to:"/privacy",className:"text-sky-400 hover:underline",children:"Privacy Policy"})," explains how we handle your information."]}),r.jsx("div",{className:"rounded-lg border border-white/10 bg-white/[0.03] p-3",children:r.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[r.jsxs("li",{children:["NewRun does ",r.jsx("span",{className:"text-white font-medium",children:"not"})," sell your personal information."]}),r.jsx("li",{children:"Transactions occur between users unless we explicitly say otherwise."}),r.jsx("li",{children:"We can remove content or suspend accounts that violate these Terms or our policies."})]})})]}),r.jsx(e,{id:"acceptance",title:"1. Acceptance of Terms",children:r.jsx("p",{children:"These Terms form a binding agreement between you and NewRun. You accept them by creating an account, accessing, or using the service. Additional policies may apply to specific features (e.g., verification, payments). If there is a conflict, those feature-specific terms control."})}),r.jsx(e,{id:"eligibility",title:"2. Eligibility & Accounts",children:r.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[r.jsx("li",{children:"You must be at least 13 to use NewRun. If you are under the age of majority in your state or country, you must have a parent or guardians consent. Some features (e.g., payments, housing contracts) may require you to be 18+."}),r.jsx("li",{children:"You agree to provide accurate information and keep your account secure (no sharing passwords, enable security best practices). Youre responsible for activity on your account."}),r.jsx("li",{children:"University-affiliated features may require verification (e.g., .edu email or ID check)."})]})}),r.jsxs(e,{id:"use",title:"3. Permitted Use & Community Rules",children:[r.jsx("p",{children:"Use NewRun lawfully and respectfully. You agree not to:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[r.jsx("li",{children:"Harass, spam, impersonate others, or engage in hate, threats, or discrimination."}),r.jsx("li",{children:"Post illegal, misleading, or infringing content; scrape or reverse-engineer the service."}),r.jsx("li",{children:"Interfere with security or operations; attempt to bypass access controls."}),r.jsx("li",{children:"Use NewRun to facilitate unlawful activity or campus policy violations."})]})]}),r.jsx(e,{id:"content",title:"4. Your Content & Intellectual Property",children:r.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Your rights."})," You retain ownership of the content you post. You grant NewRun a worldwide, non-exclusive, royalty-free license to host, store, reproduce, adapt, publish, and display your content to operate, promote, and improve the service (including moderation, caching, and distribution)."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Our rights."})," The NewRun name, logos, code, and design are protected by IP laws. You may not use our marks without permission."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Feedback."})," If you send suggestions, you grant us a license to use them without obligation or compensation."]})]})}),r.jsx(e,{id:"listings",title:"5. Listings, Housing & Marketplace",children:r.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[r.jsx("li",{children:"Describe items/housing accurately, include required disclosures, and honor your offers."}),r.jsx("li",{children:"Housing and roommate posts must comply with applicable laws and campus rules, including anti-discrimination (e.g., fair housing) and local rental regulations. Do not request or offer unlawful deposits, fees, or terms."}),r.jsx("li",{children:"NewRun is typically not a party to user-to-user transactions; we provide tools to discover and communicate. You are responsible for evaluating listings, users, and terms of any transaction."}),r.jsx("li",{children:"Do not post stolen, counterfeit, unsafe, expired, recalled, or otherwise prohibited items."})]})}),r.jsx(e,{id:"payments",title:"6. Payments, Fees & Taxes",children:r.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[r.jsx("li",{children:"Payments and payouts may be processed by third-party processors (e.g., Stripe). Their terms and privacy policies govern those services."}),r.jsx("li",{children:"We may charge service fees disclosed at the point of use. You are responsible for any applicable taxes."}),r.jsx("li",{children:"Except as required by law, all fees are non-refundable unless stated otherwise."})]})}),r.jsx(e,{id:"safety",title:"7. Safety, Prohibited Items & Reporting",children:r.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[r.jsx("li",{children:"We use automated signals and human review to detect spam/fraud and may remove content or take action on accounts to protect the community."}),r.jsx("li",{children:"Prohibited items/activities include: weapons, drugs, alcohol, tobacco/vapes, hazardous materials, stolen or counterfeit goods, explicit content, financial instruments, and any illegal or regulated services without authorization."}),r.jsxs("li",{children:["If you see something concerning, report it in-app or email"," ",r.jsx("a",{className:"text-sky-400 hover:underline",href:"mailto:safety@newrun.club",children:"safety@newrun.club"}),"."]})]})}),r.jsx(e,{id:"comm",title:"8. Messaging & Notifications",children:r.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[r.jsx("li",{children:"NewRun offers messaging to coordinate listings and community interactions. Keep messages lawful and respectful."}),r.jsx("li",{children:"We may send transactional communications (e.g., account, security, listing activity). You can manage marketing preferences in Settings or via unsubscribe links."})]})}),r.jsx(e,{id:"thirdparty",title:"9. Third-Party Services",children:r.jsx("p",{children:"The service may link to or integrate third-party services (e.g., payments, identity verification, analytics). NewRun is not responsible for those services; their terms and privacy policies apply."})}),r.jsx(e,{id:"termination",title:"10. Suspension & Termination",children:r.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[r.jsx("li",{children:"We may suspend or terminate accounts, or remove content, for violations of these Terms or to protect users."}),r.jsx("li",{children:"You may stop using NewRun at any time. Certain sections survive termination (e.g., IP, disclaimers, liability, disputes)."})]})}),r.jsx(e,{id:"warranty",title:"11. Disclaimers",children:r.jsx("p",{children:"THE SERVICE IS PROVIDED AS IS AND AS AVAILABLE WITHOUT WARRANTIES OF ANY KIND, EXPRESS OR IMPLIED (INCLUDING MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, AND NON-INFRINGEMENT). We do not guarantee accuracy of listings, availability, or that users will complete transactions."})}),r.jsx(e,{id:"liability",title:"12. Limitation of Liability",children:r.jsx("p",{children:"TO THE MAXIMUM EXTENT PERMITTED BY LAW, NEWRUN AND ITS AFFILIATES WILL NOT BE LIABLE FOR INDIRECT, INCIDENTAL, SPECIAL, CONSEQUENTIAL, EXEMPLARY, OR PUNITIVE DAMAGES, OR ANY LOSS OF PROFITS, DATA, USE, OR GOODWILL, ARISING FROM OR RELATED TO YOUR USE OF THE SERVICE. Our aggregate liability will not exceed the greater of (a) amounts you paid to us for the service in the 12 months before the claim or (b) $100."})}),r.jsx(e,{id:"indemnity",title:"13. Indemnification",children:r.jsx("p",{children:"You agree to defend, indemnify, and hold NewRun harmless from claims, losses, liabilities, damages, and expenses (including reasonable attorneys fees) arising from your content, your use of the service, or your violation of these Terms or applicable law."})}),r.jsxs(e,{id:"law",title:"14. Governing Law & Disputes",children:[r.jsx("p",{children:"These Terms are governed by the laws of the State of Delaware, USA, without regard to its conflict of laws principles (update this to your companys jurisdiction if different). You agree to the exclusive jurisdiction and venue of the state and federal courts located in Delaware for any action not subject to arbitration (if arbitration is later added)."}),r.jsx("p",{className:"text-white/60 text-xs",children:"If your region mandates consumer dispute mechanisms, those rights are preserved to the extent required by law."})]}),r.jsx(e,{id:"changes",title:"15. Changes to the Service & Terms",children:r.jsx("p",{children:"We may update the service and these Terms from time to time. Well post changes here and, when appropriate, notify you in-app or by email. If you continue using NewRun after changes take effect, you accept the updated Terms."})}),r.jsx(e,{id:"consent",title:"16. Consent & Versioning",children:r.jsx("p",{children:"When you create an account, we record your acceptance of these Terms (version and timestamp). You can view the current version anytime on this page. If we materially change these Terms, well notify you and may request reacceptance in the app."})}),r.jsx(e,{id:"misc",title:"17. Miscellaneous",children:r.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Entire agreement."})," These Terms + policies referenced herein are the entire agreement between you and NewRun."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Severability."})," If any provision is unenforceable, the rest remain in effect."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"No waiver."})," Our failure to enforce a provision isnt a waiver."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Assignment."})," You may not assign these Terms without our consent; we may assign as part of a merger, acquisition, or asset sale."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"App stores."})," If you downloaded our app from an app store, their terms may apply in addition to these Terms."]})]})}),r.jsx(e,{id:"dmca",title:"18. Copyright/DMCA",children:r.jsxs("p",{children:["If you believe content infringes your copyright, send a notice to"," ",r.jsx("a",{href:"mailto:legal@newrun.club",className:"text-sky-400 hover:underline",children:"legal@newrun.club"})," ","with: (1) your contact info, (2) a description of the work and the allegedly infringing material, (3) the URL or sufficient detail to locate it, (4) a statement of good-faith belief, and (5) a statement under penalty of perjury that you are the owner or authorized to act, plus your physical or electronic signature. We may remove content and, in appropriate cases, terminate repeat infringers."]})}),r.jsxs(e,{id:"contact",title:"19. Contact",children:[r.jsxs("p",{children:["Questions about these Terms? Contact"," ",r.jsx("a",{href:"mailto:support@newrun.club",className:"text-sky-400 hover:underline",children:"support@newrun.club"}),"."]}),r.jsx("p",{className:"text-xs text-white/50",children:"This page provides general information and does not constitute legal advice. Please consult counsel for requirements applicable to your organization and jurisdiction."})]})]})}function Fae(){const t="October 1, 2025",e=({id:s,title:i,children:a})=>r.jsxs("section",{id:s,className:"scroll-mt-24",children:[r.jsx("h3",{className:"text-white text-xl font-semibold mt-8 mb-3",children:i}),r.jsx("div",{className:"text-white/85 text-sm leading-6 space-y-3",children:a})]}),n=[["what-we-collect","Information we collect"],["how-we-use","How we use information"],["sharing","How we share"],["legal-bases","Legal bases"],["retention","Retention"],["your-choices","Your choices"],["safety","Safety"],["cookies","Cookies"],["ai","AI"],["children","Children"],["security","Security"],["intl","International transfers"],["changes","Changes"],["contact","Contact"]];return r.jsxs(Om,{title:"Privacy Policy",sections:n.map(([s,i])=>({id:s,label:i})),children:[r.jsxs("p",{className:"text-white/60 text-xs mb-6",children:["Last updated: ",t]}),r.jsxs("div",{className:"text-white/85 text-sm leading-6 space-y-3 mb-6",children:[r.jsx("p",{children:"We built NewRun to help students find housing, essentials, and community within their university networks. Privacy and safety are core to that mission. This policy explains what we collect, why we collect it, how we use and share it, and the choices you have."}),r.jsx("div",{className:"rounded-lg border border-white/10 bg-white/[0.03] p-3",children:r.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[r.jsxs("li",{children:["We do ",r.jsx("span",{className:"text-white font-medium",children:"not"})," sell your personal information."]}),r.jsx("li",{children:"You control your profile visibility and communications."}),r.jsx("li",{children:"We use industry-standard security to protect your data."}),r.jsx("li",{children:"You can request access, export, correction, or deletion at any time."})]})})]}),r.jsxs(e,{id:"what-we-collect",title:"Information we collect",children:[r.jsx("p",{children:"We collect the minimum necessary to provide NewRuns services:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Account & profile."})," Name, username, email and/or mobile number, password (hashed), university affiliation, class year, profile photo, and preferences you add (e.g., housing filters, notification settings)."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Usage & activity."})," Listings you create, messages you send, likes/saves, searches, reports, and interactions with features (e.g., onboarding flows)."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Transactional."})," If you buy or sell through NewRun, payment and payout processing is handled by a third-party processor (e.g., Stripe). We receive limited transaction metadata (status, last4, timestamps) but not full card or bank details."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Device & technical."})," IP address, device type, OS/browser, app version, language, approximate location (derived from IP), and performance/crash logs."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Contacts & media (optional)."})," If you grant permission, we may access your contacts to help you find friends, and your camera/photos to upload images for listings or profile."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Verification (optional)."})," If you choose to verify (e.g., with a .edu email or ID check), we process the data required to confirm eligibility and keep the community safe."]})]})]}),r.jsx(e,{id:"how-we-use",title:"How we use information",children:r.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[r.jsx("li",{children:"Provide core features: account creation, login, listings, messaging, search, notifications."}),r.jsx("li",{children:"Personalize recommendations (e.g., housing near campus, relevant marketplace items)."}),r.jsx("li",{children:"Maintain safety: detect spam, fraud, and policy violations; support user reporting and appeals."}),r.jsx("li",{children:"Improve performance and reliability; fix bugs, analyze crashes, and run product experiments."}),r.jsx("li",{children:"Communicate with you about account activity, updates, and changes to our terms/policies."}),r.jsxs("li",{children:["Comply with legal obligations and enforce our ",r.jsx(Ie,{to:"/terms",className:"text-sky-400 hover:underline",children:"Terms"}),"."]})]})}),r.jsxs(e,{id:"sharing",title:"How we share information",children:[r.jsx("p",{children:"We share data only as needed to operate NewRun or when you ask us to:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"You and the community."})," Content you choose to make public (e.g., listings, profile username/photo) is visible to others. Direct messages are private to participants unless reported for safety review."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Service providers."})," Cloud hosting, analytics, crash reporting, content delivery, anti-abuse, and payment processors act under contracts that limit their use of your information to our instructions."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"University / eligibility checks (optional)."})," If you opt in to verification, we may confirm status via your .edu email or a verification vendor."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Legal & safety."})," We may disclose information to comply with law, respond to lawful requests, or protect the rights, safety, and property of users and NewRun."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Business transfers."})," If we undergo a merger, acquisition, or asset sale, your information may transfer as part of that transaction subject to this policy."]})]}),r.jsxs("p",{className:"text-white/85",children:["We do ",r.jsx("span",{className:"text-white font-medium",children:"not"})," sell your personal information."]})]}),r.jsxs(e,{id:"legal-bases",title:"Legal bases (EEA/UK)",children:[r.jsx("p",{children:"If you are in the EEA/UK, we process your data under these bases:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Contract."})," To provide the service you request."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Legitimate interests."})," Product improvement, security, and anti-abuse."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Consent."})," Optional features like contacts import, location, or marketing."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Legal obligation."})," Compliance with applicable laws and regulations."]})]})]}),r.jsx(e,{id:"retention",title:"Retention",children:r.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[r.jsx("li",{children:"We keep account data while your account is active."}),r.jsx("li",{children:"Content you delete is removed or anonymized from user-facing surfaces promptly; backups/logs roll off on a schedule."}),r.jsx("li",{children:"If you request deletion, we delete or de-identify your personal data except where we must retain it for legal, security, or fraud-prevention reasons."})]})}),r.jsx(e,{id:"verification",title:"Verification data (if you opt in)",children:r.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[r.jsx("li",{children:".edu email checks: we store the verified email and verification status."}),r.jsx("li",{children:"ID checks (if enabled in future): we store status and limited metadata; sensitive images are processed by the provider and not retained by NewRun."}),r.jsx("li",{children:"Retention: verification records are kept while your account remains verified and then deleted or archived per legal requirements."})]})}),r.jsxs(e,{id:"your-choices",title:"Your choices & rights",children:[r.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Access & export."})," You can request a copy of your data."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Correction."})," Update your profile and account information."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Deletion."})," Request deletion of your account and associated data."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Marketing controls."})," Manage emails, SMS, and push in Settings or via unsubscribe links."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Do-Not-Sell/Share (US state laws)."})," We do not sell personal information; where share is defined for cross-context advertising, you can opt out in Cookies settings."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"GDPR/EEA rights."})," You may object or restrict processing, and you have data portability rights and the right to lodge a complaint with your supervisory authority."]})]}),r.jsxs("p",{children:["To exercise any rights, contact us at"," ",r.jsx("a",{href:"mailto:privacy@newrun.club",className:"text-sky-400 hover:underline",children:"privacy@newrun.club"}),". We may need to verify your identity before fulfilling the request."]})]}),r.jsx(e,{id:"safety",title:"Safety, moderation, and reporting",children:r.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[r.jsx("li",{children:"We use automated signals and human review to detect spam, scams, and policy violations."}),r.jsx("li",{children:"Reported content may be reviewed by trained moderators. We retain related data to investigate and prevent abuse."}),r.jsxs("li",{children:["We may limit, suspend, or remove accounts involved in harmful behavior per our ",r.jsx(Ie,{to:"/terms",className:"text-sky-400 hover:underline",children:"Terms"}),"."]})]})}),r.jsxs(e,{id:"cookies",title:"Cookies, local storage, and analytics",children:[r.jsxs("p",{children:["We use cookies and similar technologies to keep you signed in, remember preferences, measure usage, and improve performance. You can control cookies in your browser and through our"," ",r.jsx(Ie,{to:"/cookies",className:"text-sky-400 hover:underline",children:"Cookies Policy"}),"."]}),r.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[r.jsx("li",{children:"Essential cookies for authentication and security are required to use NewRun."}),r.jsx("li",{children:"Analytics help us understand which features are working and where to improve."}),r.jsx("li",{children:"We do not use third-party advertising cookies that sell your data."})]})]}),r.jsx(e,{id:"ai",title:"AI features & data use",children:r.jsx("p",{children:"Some NewRun features may leverage AI (e.g., content suggestions, safety filtering). Unless we say otherwise, personal data processed for these features is used to operate the feature and improve NewRun. We do not allow third-party model providers to use your data to train their models for unrelated purposes without your consent."})}),r.jsx(e,{id:"children",title:"Children",children:r.jsx("p",{children:"NewRun is not intended for children under 13 (or the age of digital consent in your region). If we learn we have collected personal information from a child, we will take steps to delete it."})}),r.jsxs(e,{id:"security",title:"Security",children:[r.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[r.jsx("li",{children:"Encryption in transit (HTTPS) and at rest for key data stores."}),r.jsx("li",{children:"Strict access controls, audit logging, and least-privilege practices."}),r.jsx("li",{children:"Regular backups and disaster-recovery testing."}),r.jsx("li",{children:"Vulnerability management and third-party security tooling."})]}),r.jsxs("p",{children:["No system is 100% secure. If you suspect a security issue, please email"," ",r.jsx("a",{href:"mailto:security@newrun.club",className:"text-sky-400 hover:underline",children:"security@newrun.club"}),"."]})]}),r.jsx(e,{id:"intl",title:"International data transfers",children:r.jsx("p",{children:"We may process and store information in countries outside your own. Where required, we use appropriate safeguards for international transfers (e.g., standard contractual clauses)."})}),r.jsx(e,{id:"changes",title:"Changes to this policy",children:r.jsx("p",{children:"We may update this policy as NewRun evolves. We will post updates here and, when appropriate, notify you in-app or by email. If changes materially affect your rights, we will provide additional notice."})}),r.jsxs(e,{id:"contact",title:"Contact us",children:[r.jsxs("p",{children:["Questions or concerns? Contact our privacy team at"," ",r.jsx("a",{href:"mailto:privacy@newrun.club",className:"text-sky-400 hover:underline",children:"privacy@newrun.club"}),"."]}),r.jsx("div",{className:"mt-2 text-white/85 text-sm",children:r.jsxs("p",{children:[r.jsx("span",{className:"text-white",children:"Data Controller:"})," NewRun Labs, Inc. (update with your legal entity). Contact: ",r.jsx("a",{href:"mailto:privacy@newrun.club",className:"text-sky-400 hover:underline",children:"privacy@newrun.club"})]})}),r.jsx("p",{className:"text-xs text-white/50",children:"This page provides general information and does not constitute legal advice. Please consult counsel for requirements applicable to your organization and jurisdiction."})]})]})}function zae(){const t="October 1, 2025",e=({id:s,title:i,children:a})=>r.jsxs("section",{id:s,className:"scroll-mt-24",children:[r.jsx("h3",{className:"text-white text-xl font-semibold mt-8 mb-3",children:i}),r.jsx("div",{className:"text-white/85 text-sm leading-6 space-y-3",children:a})]}),n=[["what","What cookies are"],["how","How we use"],["types","Types we use"],["third","Thirdparty services"],["controls","Your choices"],["retention","Retention & expiry"],["signals","Do Not Track & GPC"],["changes","Changes"],["contact","Contact"]];return r.jsxs(Om,{title:"Cookies Policy",sections:n.map(([s,i])=>({id:s,label:i})),children:[r.jsxs("p",{className:"text-white/60 text-xs mb-6",children:["Last updated: ",t]}),r.jsxs("div",{className:"text-white/85 text-sm leading-6 space-y-3 mb-6",children:[r.jsxs("p",{children:["We use cookies and similar technologies so NewRun works reliably, stays secure, and feels personal. This page explains what these technologies are, how we use them, and the choices you have. For how we handle personal data more broadly, see our"," ",r.jsx(Ie,{to:"/privacy",className:"text-sky-400 hover:underline",children:"Privacy Policy"}),"."]}),r.jsx("div",{className:"rounded-lg border border-white/10 bg-white/[0.03] p-3",children:r.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[r.jsx("li",{children:"Essential cookies are required for login, security, and core features."}),r.jsx("li",{children:"We use privacy-respecting analytics to improve performance and reliability."}),r.jsx("li",{children:"You can control non-essential cookies via browser settings and in-app preferences."})]})})]}),r.jsx(e,{id:"what",title:"What cookies & similar technologies are",children:r.jsxs("p",{children:[r.jsx("span",{className:"text-white",children:"Cookies"})," are small text files placed on your device by your browser. We also use ",r.jsx("span",{className:"text-white",children:"localStorage/sessionStorage"})," (key-value storage in your browser),",r.jsx("span",{className:"text-white",children:" device identifiers"}),", and ",r.jsx("span",{className:"text-white",children:"pixels/web beacons"})," (tiny, invisible images). These help us keep you signed in, remember preferences, measure usage, secure the service, and improve performance."]})}),r.jsx(e,{id:"how",title:"How we use these technologies",children:r.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Authentication & sessions:"})," keep you logged in, route requests, prevent session hijacking."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Security & abuse prevention:"})," detect unusual activity, rate-limit, prevent spam/fraud."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Preferences:"})," remember settings like theme, campus, filters, notification choices."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Performance & analytics:"})," understand feature usage, fix bugs, improve reliability and speed."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Feature personalization:"})," recommend housing and marketplace content relevant to your university context."]})]})}),r.jsx(e,{id:"types",title:"Types of cookies we use",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-medium",children:"1) Essential (required)"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[r.jsx("li",{children:"Login/session tokens, CSRF protection, load balancing, bot/spam defense."}),r.jsx("li",{children:"These are necessary for NewRun to function; you cannot opt out of essentials."})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-medium",children:"2) Preferences"}),r.jsx("ul",{className:"list-disc list-inside space-y-1",children:r.jsx("li",{children:"Language, campus, saved filters, UI theme, dismissed tips/tooltips."})})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-medium",children:"3) Performance & analytics"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[r.jsx("li",{children:"Anonymous or pseudonymous metrics to improve reliability and product quality."}),r.jsx("li",{children:"Crash diagnostics and latency measurements to troubleshoot issues."})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-medium",children:"4) Communications"}),r.jsx("ul",{className:"list-disc list-inside space-y-1",children:r.jsx("li",{children:"Controls for email/SMS/push preferences and delivery reliability."})})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-medium",children:"5) Payments & verification (as applicable)"}),r.jsx("ul",{className:"list-disc list-inside space-y-1",children:r.jsx("li",{children:"When you use payments or identity checks, third-party providers may set their own cookies to operate those features securely."})})]})]})}),r.jsxs(e,{id:"third",title:"Third-party services & analytics",children:[r.jsx("p",{children:"We partner with service providers for hosting, analytics, crash reporting, content delivery, anti-abuse, payments, and (optionally) verification. Examples include cloud infrastructure, basic product analytics, and payment processors (e.g., Stripe). These providers may set their own cookies or read ours to provide their services on our behalf under contracts that limit their use of data to our instructions. We dont allow third-party ad networks to sell your personal information."}),r.jsx("p",{className:"text-white/70 text-xs",children:"The specific providers we use can change as we improve NewRun. Where required, we will update this page or surface provider details in-app."})]}),r.jsxs(e,{id:"controls",title:"Your choices & controls",children:[r.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"In-app settings:"})," Manage non-essential cookies and analytics in"," ",r.jsx(Ie,{to:"/cookies/settings",className:"text-sky-400 hover:underline",children:"Cookie Settings"})," (when available)."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Browser controls:"})," Most browsers let you block/delete cookies. See: Settings  Privacy/Security  Cookies & site data. Blocking essentials may break login."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Private mode / clearing:"})," Use private windows or clear browsing data to remove stored cookies and localStorage."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Mobile OS:"})," On iOS/Android, manage WebView/browser cookies in system settings."]})]}),r.jsxs("p",{children:["You can also adjust marketing emails and push notifications in"," ",r.jsx(Ie,{to:"/settings",className:"text-sky-400 hover:underline",children:"Settings"})," or via unsubscribe links."]})]}),r.jsx(e,{id:"retention",title:"Retention & expiry",children:r.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[r.jsx("li",{children:"Session cookies expire when you close the browser or after a short period of inactivity."}),r.jsx("li",{children:"Persistent cookies/localStorage keys may remain for weeks to months (e.g., remembering campus or preferences) unless you clear them."}),r.jsx("li",{children:"Where we rely on consent, we periodically re-prompt or honor your revocation in settings."})]})}),r.jsx(e,{id:"signals",title:"Do Not Track & Global Privacy Control (GPC)",children:r.jsxs("p",{children:["Some browsers send ",r.jsx("span",{className:"text-white",children:"Do Not Track"})," or ",r.jsx("span",{className:"text-white",children:"Global Privacy Control"})," signals. We honor legally required signals (including GPC for certain jurisdictions) for non-essential cookies and cross-context signals, and we do not sell personal information. You can still fine-tune cookie preferences in settings."]})}),r.jsx(e,{id:"changes",title:"Changes to this policy",children:r.jsx("p",{children:"We may update this Cookies Policy as NewRun evolves. Well post updates here and, when appropriate, notify you in-app. If changes materially affect your choices, we will provide additional notice."})}),r.jsxs(e,{id:"contact",title:"Contact us",children:[r.jsxs("p",{children:["Questions about cookies at NewRun? Contact"," ",r.jsx("a",{href:"mailto:privacy@newrun.club",className:"text-sky-400 hover:underline",children:"privacy@newrun.club"}),"."]}),r.jsx("p",{className:"text-xs text-white/50",children:"This page provides general information and does not constitute legal advice."})]})]})}function Bae(){return r.jsx("main",{className:"min-h-screen bg-black",children:r.jsx("div",{className:"mx-auto max-w-3xl px-4 py-12",children:r.jsxs("div",{className:"rounded-2xl border border-white/10 bg-transparent p-6",children:[r.jsx("h1",{className:"brand-script text-5xl leading-none bg-gradient-to-r from-blue-600 to-teal-500 bg-clip-text text-transparent mb-2",children:"NewRun"}),r.jsx("h2",{className:"text-white text-2xl font-semibold mb-3",children:"Cookie Settings (Coming Soon)"}),r.jsx("p",{className:"text-white/70 text-sm",children:"Were building fine-grained controls for nonessential cookies and analytics. For now, you can manage cookies in your browser settings. Essential cookies are required for login and security."})]})})})}const zs=({children:t})=>{const e=tr(),{isAuthenticated:n,loading:s,setUser:i,setIsAuthenticated:a}=Ji(),[o,l]=f.useState(!1),[c,u]=f.useState(!1),d=f.useRef(null),h=f.useRef(0),p=async()=>{var b;const m=Date.now();if(m-h.current<5e3)return n;if(!(localStorage.getItem("accessToken")||localStorage.getItem("token")||localStorage.getItem("userToken")))return console.log("ProtectedRoute: No token found"),!1;try{l(!0),h.current=m;const v=await ge.get("/get-user");return v.data&&v.data.user?(console.log("ProtectedRoute: Token is valid"),i(v.data.user),a(!0),!0):(console.log("ProtectedRoute: Invalid response"),!1)}catch(v){return console.log("ProtectedRoute: Token validation failed:",(b=v.response)==null?void 0:b.status),localStorage.removeItem("accessToken"),localStorage.removeItem("token"),localStorage.removeItem("userToken"),i(null),a(!1),!1}finally{l(!1),u(!0)}};return f.useEffect(()=>(!s&&!c?(d.current&&clearTimeout(d.current),d.current=setTimeout(async()=>{await p()},100)):n&&u(!0),()=>{d.current&&clearTimeout(d.current)}),[s,c,n]),s||o||!c?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#0b0c0f]",children:r.jsxs("div",{className:"flex flex-col items-center gap-4",children:[r.jsx("div",{className:"w-8 h-8 border-2 border-orange-500 border-t-transparent rounded-full animate-spin"}),r.jsx("p",{className:"text-white/70 text-sm",children:o?"Validating authentication...":"Checking authentication..."})]})}):n?t:(localStorage.clear(),sessionStorage.clear(),r.jsx($z,{to:"/login",state:{from:e.pathname},replace:!0}))},Uae=()=>r.jsx(AU,{children:r.jsx(zU,{children:r.jsx(VU,{children:r.jsx(uP,{children:r.jsx(Gz,{children:r.jsx(Rae,{children:r.jsxs(zz,{children:[r.jsx(Je,{path:"/",element:r.jsx(E4,{})}),r.jsx(Je,{path:"/home",element:r.jsx(E4,{})}),r.jsx(Je,{path:"/login",element:r.jsx(bZ,{})}),r.jsx(Je,{path:"/forgot",element:r.jsx(_Z,{})}),r.jsx(Je,{path:"/verify-email",element:r.jsx(LZ,{})}),r.jsx(Je,{path:"/reset-password",element:r.jsx(AZ,{})}),r.jsx(Je,{path:"/signup",element:r.jsx(YQ,{})}),r.jsx(Je,{path:"/help",element:r.jsx(Dae,{})}),r.jsx(Je,{path:"/terms",element:r.jsx($ae,{})}),r.jsx(Je,{path:"/privacy",element:r.jsx(Fae,{})}),r.jsx(Je,{path:"/cookies",element:r.jsx(zae,{})}),r.jsx(Je,{path:"/cookies/settings",element:r.jsx(Bae,{})}),r.jsx(Je,{path:"/marketplace",element:r.jsx(LJ,{})}),r.jsx(Je,{path:"/blogs",element:r.jsx(nJ,{})}),r.jsx(Je,{path:"/community",element:r.jsx(NJ,{})}),r.jsx(Je,{path:"/community/thread/:id",element:r.jsx(SJ,{})}),r.jsx(Je,{path:"/university",element:r.jsx(XQ,{})}),r.jsx(Je,{path:"/all-properties",element:r.jsx(FQ,{})}),r.jsx(Je,{path:"/onboarding",element:r.jsx(zs,{children:r.jsx(Ire,{})})}),r.jsx(Je,{path:"/waitlist",element:r.jsx(Ere,{})}),r.jsx(Je,{path:"/marketplace/item/:id",element:r.jsx(zs,{children:r.jsx(RJ,{})})}),r.jsx(Je,{path:"/marketplace/create",element:r.jsx(zs,{children:r.jsx(ly,{isEdit:!1})})}),r.jsx(Je,{path:"/marketplace/edit/:id",element:r.jsx(zs,{children:r.jsx(ly,{isEdit:!0})})}),r.jsx(Je,{path:"/properties/:id",element:r.jsx(zs,{children:r.jsx(Dte,{})})}),r.jsx(Je,{path:"/dashboard",element:r.jsx(zs,{children:r.jsx(GQ,{})})}),r.jsx(Je,{path:"/profile",element:r.jsx(zs,{children:r.jsx(hne,{})})}),r.jsx(Je,{path:"/messaging",element:r.jsx(zs,{children:r.jsx(WS,{})})}),r.jsx(Je,{path:"/messaging/:conversationId",element:r.jsx(zs,{children:r.jsx(WS,{})})}),r.jsx(Je,{path:"/Synapse",element:r.jsx(zs,{children:r.jsx(kre,{})})}),r.jsx(Je,{path:"/solve-threads",element:r.jsx(zs,{children:r.jsx(Aae,{})})}),r.jsx(Je,{path:"/requests",element:r.jsx(Ore,{})}),r.jsx(Je,{path:"/Synapsematches",element:r.jsx(uie,{})}),r.jsx(Je,{path:"*",element:r.jsx(Iae,{})})]})})})})})})});B0.createRoot(document.getElementById("root")).render(r.jsx(_e.StrictMode,{children:r.jsx(uP,{children:r.jsx(Uae,{})})}));export{r as j};
