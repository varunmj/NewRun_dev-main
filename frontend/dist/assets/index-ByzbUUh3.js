var iA=Object.defineProperty;var aA=(t,e,n)=>e in t?iA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var wr=(t,e,n)=>aA(t,typeof e!="symbol"?e+"":e,n);function oA(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(s,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function oy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function lA(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var i=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:function(){return t[s]}})}),n}var zS={exports:{}},Nm={},BS={exports:{}},Ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gd=Symbol.for("react.element"),cA=Symbol.for("react.portal"),dA=Symbol.for("react.fragment"),uA=Symbol.for("react.strict_mode"),hA=Symbol.for("react.profiler"),pA=Symbol.for("react.provider"),mA=Symbol.for("react.context"),fA=Symbol.for("react.forward_ref"),gA=Symbol.for("react.suspense"),xA=Symbol.for("react.memo"),vA=Symbol.for("react.lazy"),gw=Symbol.iterator;function yA(t){return t===null||typeof t!="object"?null:(t=gw&&t[gw]||t["@@iterator"],typeof t=="function"?t:null)}var VS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},US=Object.assign,WS={};function xl(t,e,n){this.props=t,this.context=e,this.refs=WS,this.updater=n||VS}xl.prototype.isReactComponent={};xl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};xl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function HS(){}HS.prototype=xl.prototype;function ly(t,e,n){this.props=t,this.context=e,this.refs=WS,this.updater=n||VS}var cy=ly.prototype=new HS;cy.constructor=ly;US(cy,xl.prototype);cy.isPureReactComponent=!0;var xw=Array.isArray,qS=Object.prototype.hasOwnProperty,dy={current:null},GS={key:!0,ref:!0,__self:!0,__source:!0};function KS(t,e,n){var s,i={},a=null,o=null;if(e!=null)for(s in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)qS.call(e,s)&&!GS.hasOwnProperty(s)&&(i[s]=e[s]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(t&&t.defaultProps)for(s in l=t.defaultProps,l)i[s]===void 0&&(i[s]=l[s]);return{$$typeof:Gd,type:t,key:a,ref:o,props:i,_owner:dy.current}}function bA(t,e){return{$$typeof:Gd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function uy(t){return typeof t=="object"&&t!==null&&t.$$typeof===Gd}function wA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var vw=/\/+/g;function xf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?wA(""+t.key):e.toString(36)}function yh(t,e,n,s,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Gd:case cA:o=!0}}if(o)return o=t,i=i(o),t=s===""?"."+xf(o,0):s,xw(i)?(n="",t!=null&&(n=t.replace(vw,"$&/")+"/"),yh(i,e,n,"",function(d){return d})):i!=null&&(uy(i)&&(i=bA(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(vw,"$&/")+"/")+t)),e.push(i)),1;if(o=0,s=s===""?".":s+":",xw(t))for(var l=0;l<t.length;l++){a=t[l];var c=s+xf(a,l);o+=yh(a,e,n,c,i)}else if(c=yA(t),typeof c=="function")for(t=c.call(t),l=0;!(a=t.next()).done;)a=a.value,c=s+xf(a,l++),o+=yh(a,e,n,c,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function gu(t,e,n){if(t==null)return t;var s=[],i=0;return yh(t,s,"","",function(a){return e.call(n,a,i++)}),s}function jA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Tn={current:null},bh={transition:null},NA={ReactCurrentDispatcher:Tn,ReactCurrentBatchConfig:bh,ReactCurrentOwner:dy};function YS(){throw Error("act(...) is not supported in production builds of React.")}Ke.Children={map:gu,forEach:function(t,e,n){gu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return gu(t,function(){e++}),e},toArray:function(t){return gu(t,function(e){return e})||[]},only:function(t){if(!uy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ke.Component=xl;Ke.Fragment=dA;Ke.Profiler=hA;Ke.PureComponent=ly;Ke.StrictMode=uA;Ke.Suspense=gA;Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NA;Ke.act=YS;Ke.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=US({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=dy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)qS.call(e,c)&&!GS.hasOwnProperty(c)&&(s[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:Gd,type:t.type,key:i,ref:a,props:s,_owner:o}};Ke.createContext=function(t){return t={$$typeof:mA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:pA,_context:t},t.Consumer=t};Ke.createElement=KS;Ke.createFactory=function(t){var e=KS.bind(null,t);return e.type=t,e};Ke.createRef=function(){return{current:null}};Ke.forwardRef=function(t){return{$$typeof:fA,render:t}};Ke.isValidElement=uy;Ke.lazy=function(t){return{$$typeof:vA,_payload:{_status:-1,_result:t},_init:jA}};Ke.memo=function(t,e){return{$$typeof:xA,type:t,compare:e===void 0?null:e}};Ke.startTransition=function(t){var e=bh.transition;bh.transition={};try{t()}finally{bh.transition=e}};Ke.unstable_act=YS;Ke.useCallback=function(t,e){return Tn.current.useCallback(t,e)};Ke.useContext=function(t){return Tn.current.useContext(t)};Ke.useDebugValue=function(){};Ke.useDeferredValue=function(t){return Tn.current.useDeferredValue(t)};Ke.useEffect=function(t,e){return Tn.current.useEffect(t,e)};Ke.useId=function(){return Tn.current.useId()};Ke.useImperativeHandle=function(t,e,n){return Tn.current.useImperativeHandle(t,e,n)};Ke.useInsertionEffect=function(t,e){return Tn.current.useInsertionEffect(t,e)};Ke.useLayoutEffect=function(t,e){return Tn.current.useLayoutEffect(t,e)};Ke.useMemo=function(t,e){return Tn.current.useMemo(t,e)};Ke.useReducer=function(t,e,n){return Tn.current.useReducer(t,e,n)};Ke.useRef=function(t){return Tn.current.useRef(t)};Ke.useState=function(t){return Tn.current.useState(t)};Ke.useSyncExternalStore=function(t,e,n){return Tn.current.useSyncExternalStore(t,e,n)};Ke.useTransition=function(){return Tn.current.useTransition()};Ke.version="18.3.1";BS.exports=Ke;var p=BS.exports;const Fe=oy(p),kA=oA({__proto__:null,default:Fe},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SA=p,CA=Symbol.for("react.element"),PA=Symbol.for("react.fragment"),EA=Object.prototype.hasOwnProperty,_A=SA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,MA={key:!0,ref:!0,__self:!0,__source:!0};function XS(t,e,n){var s,i={},a=null,o=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(s in e)EA.call(e,s)&&!MA.hasOwnProperty(s)&&(i[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)i[s]===void 0&&(i[s]=e[s]);return{$$typeof:CA,type:t,key:a,ref:o,props:i,_owner:_A.current}}Nm.Fragment=PA;Nm.jsx=XS;Nm.jsxs=XS;zS.exports=Nm;var r=zS.exports,vx={},ZS={exports:{}},os={},QS={exports:{}},JS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,$){var O=M.length;M.push($);e:for(;0<O;){var L=O-1>>>1,Y=M[L];if(0<i(Y,$))M[L]=$,M[O]=Y,O=L;else break e}}function n(M){return M.length===0?null:M[0]}function s(M){if(M.length===0)return null;var $=M[0],O=M.pop();if(O!==$){M[0]=O;e:for(var L=0,Y=M.length,K=Y>>>1;L<K;){var B=2*(L+1)-1,U=M[B],V=B+1,G=M[V];if(0>i(U,O))V<Y&&0>i(G,U)?(M[L]=G,M[V]=O,L=V):(M[L]=U,M[B]=O,L=B);else if(V<Y&&0>i(G,O))M[L]=G,M[V]=O,L=V;else break e}}return $}function i(M,$){var O=M.sortIndex-$.sortIndex;return O!==0?O:M.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,m=3,f=!1,x=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(M){for(var $=n(d);$!==null;){if($.callback===null)s(d);else if($.startTime<=M)s(d),$.sortIndex=$.expirationTime,e(c,$);else break;$=n(d)}}function N(M){if(g=!1,w(M),!x)if(n(c)!==null)x=!0,z(j);else{var $=n(d);$!==null&&I(N,$.startTime-M)}}function j(M,$){x=!1,g&&(g=!1,y(S),S=-1),f=!0;var O=m;try{for(w($),h=n(c);h!==null&&(!(h.expirationTime>$)||M&&!W());){var L=h.callback;if(typeof L=="function"){h.callback=null,m=h.priorityLevel;var Y=L(h.expirationTime<=$);$=t.unstable_now(),typeof Y=="function"?h.callback=Y:h===n(c)&&s(c),w($)}else s(c);h=n(c)}if(h!==null)var K=!0;else{var B=n(d);B!==null&&I(N,B.startTime-$),K=!1}return K}finally{h=null,m=O,f=!1}}var k=!1,P=null,S=-1,E=5,T=-1;function W(){return!(t.unstable_now()-T<E)}function F(){if(P!==null){var M=t.unstable_now();T=M;var $=!0;try{$=P(!0,M)}finally{$?D():(k=!1,P=null)}}else k=!1}var D;if(typeof v=="function")D=function(){v(F)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,_=A.port2;A.port1.onmessage=F,D=function(){_.postMessage(null)}}else D=function(){b(F,0)};function z(M){P=M,k||(k=!0,D())}function I(M,$){S=b(function(){M(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){x||f||(x=!0,z(j))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(M){switch(m){case 1:case 2:case 3:var $=3;break;default:$=m}var O=m;m=$;try{return M()}finally{m=O}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,$){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var O=m;m=M;try{return $()}finally{m=O}},t.unstable_scheduleCallback=function(M,$,O){var L=t.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?L+O:L):O=L,M){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=O+Y,M={id:u++,callback:$,priorityLevel:M,startTime:O,expirationTime:Y,sortIndex:-1},O>L?(M.sortIndex=O,e(d,M),n(c)===null&&M===n(d)&&(g?(y(S),S=-1):g=!0,I(N,O-L))):(M.sortIndex=Y,e(c,M),x||f||(x=!0,z(j))),M},t.unstable_shouldYield=W,t.unstable_wrapCallback=function(M){var $=m;return function(){var O=m;m=$;try{return M.apply(this,arguments)}finally{m=O}}}})(JS);QS.exports=JS;var TA=QS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LA=p,ss=TA;function Ne(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var eC=new Set,ed={};function Ua(t,e){Xo(t,e),Xo(t+"Capture",e)}function Xo(t,e){for(ed[t]=e,t=0;t<e.length;t++)eC.add(e[t])}var Or=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yx=Object.prototype.hasOwnProperty,AA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yw={},bw={};function IA(t){return yx.call(bw,t)?!0:yx.call(yw,t)?!1:AA.test(t)?bw[t]=!0:(yw[t]=!0,!1)}function OA(t,e,n,s){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function RA(t,e,n,s){if(e===null||typeof e>"u"||OA(t,e,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ln(t,e,n,s,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var dn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){dn[t]=new Ln(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];dn[e]=new Ln(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){dn[t]=new Ln(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){dn[t]=new Ln(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){dn[t]=new Ln(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){dn[t]=new Ln(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){dn[t]=new Ln(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){dn[t]=new Ln(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){dn[t]=new Ln(t,5,!1,t.toLowerCase(),null,!1,!1)});var hy=/[\-:]([a-z])/g;function py(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(hy,py);dn[e]=new Ln(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(hy,py);dn[e]=new Ln(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(hy,py);dn[e]=new Ln(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){dn[t]=new Ln(t,1,!1,t.toLowerCase(),null,!1,!1)});dn.xlinkHref=new Ln("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){dn[t]=new Ln(t,1,!1,t.toLowerCase(),null,!0,!0)});function my(t,e,n,s){var i=dn.hasOwnProperty(e)?dn[e]:null;(i!==null?i.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(RA(e,n,i,s)&&(n=null),s||i===null?IA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,s=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,s?t.setAttributeNS(s,e,n):t.setAttribute(e,n))))}var Ur=LA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xu=Symbol.for("react.element"),lo=Symbol.for("react.portal"),co=Symbol.for("react.fragment"),fy=Symbol.for("react.strict_mode"),bx=Symbol.for("react.profiler"),tC=Symbol.for("react.provider"),nC=Symbol.for("react.context"),gy=Symbol.for("react.forward_ref"),wx=Symbol.for("react.suspense"),jx=Symbol.for("react.suspense_list"),xy=Symbol.for("react.memo"),ti=Symbol.for("react.lazy"),sC=Symbol.for("react.offscreen"),ww=Symbol.iterator;function Rl(t){return t===null||typeof t!="object"?null:(t=ww&&t[ww]||t["@@iterator"],typeof t=="function"?t:null)}var Et=Object.assign,vf;function cc(t){if(vf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);vf=e&&e[1]||""}return`
`+vf+t}var yf=!1;function bf(t,e){if(!t||yf)return"";yf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var s=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){s=d}t.call(e.prototype)}else{try{throw Error()}catch(d){s=d}t()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),a=s.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{yf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?cc(t):""}function DA(t){switch(t.tag){case 5:return cc(t.type);case 16:return cc("Lazy");case 13:return cc("Suspense");case 19:return cc("SuspenseList");case 0:case 2:case 15:return t=bf(t.type,!1),t;case 11:return t=bf(t.type.render,!1),t;case 1:return t=bf(t.type,!0),t;default:return""}}function Nx(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case co:return"Fragment";case lo:return"Portal";case bx:return"Profiler";case fy:return"StrictMode";case wx:return"Suspense";case jx:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case nC:return(t.displayName||"Context")+".Consumer";case tC:return(t._context.displayName||"Context")+".Provider";case gy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case xy:return e=t.displayName||null,e!==null?e:Nx(t.type)||"Memo";case ti:e=t._payload,t=t._init;try{return Nx(t(e))}catch{}}return null}function $A(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Nx(e);case 8:return e===fy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Mi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function rC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function FA(t){var e=rC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){s=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function vu(t){t._valueTracker||(t._valueTracker=FA(t))}function iC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=rC(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function sp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function kx(t,e){var n=e.checked;return Et({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function jw(t,e){var n=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;n=Mi(e.value!=null?e.value:n),t._wrapperState={initialChecked:s,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function aC(t,e){e=e.checked,e!=null&&my(t,"checked",e,!1)}function Sx(t,e){aC(t,e);var n=Mi(e.value),s=e.type;if(n!=null)s==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Cx(t,e.type,n):e.hasOwnProperty("defaultValue")&&Cx(t,e.type,Mi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Nw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Cx(t,e,n){(e!=="number"||sp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var dc=Array.isArray;function $o(t,e,n,s){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&s&&(t[n].defaultSelected=!0)}else{for(n=""+Mi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,s&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Px(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ne(91));return Et({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function kw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Ne(92));if(dc(n)){if(1<n.length)throw Error(Ne(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Mi(n)}}function oC(t,e){var n=Mi(e.value),s=Mi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),s!=null&&(t.defaultValue=""+s)}function Sw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function lC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ex(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?lC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var yu,cC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,s,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,s,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(yu=yu||document.createElement("div"),yu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=yu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function td(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Sc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zA=["Webkit","ms","Moz","O"];Object.keys(Sc).forEach(function(t){zA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Sc[e]=Sc[t]})});function dC(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Sc.hasOwnProperty(t)&&Sc[t]?(""+e).trim():e+"px"}function uC(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var s=n.indexOf("--")===0,i=dC(n,e[n],s);n==="float"&&(n="cssFloat"),s?t.setProperty(n,i):t[n]=i}}var BA=Et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _x(t,e){if(e){if(BA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ne(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ne(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ne(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ne(62))}}function Mx(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tx=null;function vy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Lx=null,Fo=null,zo=null;function Cw(t){if(t=Xd(t)){if(typeof Lx!="function")throw Error(Ne(280));var e=t.stateNode;e&&(e=Em(e),Lx(t.stateNode,t.type,e))}}function hC(t){Fo?zo?zo.push(t):zo=[t]:Fo=t}function pC(){if(Fo){var t=Fo,e=zo;if(zo=Fo=null,Cw(t),e)for(t=0;t<e.length;t++)Cw(e[t])}}function mC(t,e){return t(e)}function fC(){}var wf=!1;function gC(t,e,n){if(wf)return t(e,n);wf=!0;try{return mC(t,e,n)}finally{wf=!1,(Fo!==null||zo!==null)&&(fC(),pC())}}function nd(t,e){var n=t.stateNode;if(n===null)return null;var s=Em(n);if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Ne(231,e,typeof n));return n}var Ax=!1;if(Or)try{var Dl={};Object.defineProperty(Dl,"passive",{get:function(){Ax=!0}}),window.addEventListener("test",Dl,Dl),window.removeEventListener("test",Dl,Dl)}catch{Ax=!1}function VA(t,e,n,s,i,a,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(u){this.onError(u)}}var Cc=!1,rp=null,ip=!1,Ix=null,UA={onError:function(t){Cc=!0,rp=t}};function WA(t,e,n,s,i,a,o,l,c){Cc=!1,rp=null,VA.apply(UA,arguments)}function HA(t,e,n,s,i,a,o,l,c){if(WA.apply(this,arguments),Cc){if(Cc){var d=rp;Cc=!1,rp=null}else throw Error(Ne(198));ip||(ip=!0,Ix=d)}}function Wa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function xC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Pw(t){if(Wa(t)!==t)throw Error(Ne(188))}function qA(t){var e=t.alternate;if(!e){if(e=Wa(t),e===null)throw Error(Ne(188));return e!==t?null:t}for(var n=t,s=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(s=i.return,s!==null){n=s;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Pw(i),t;if(a===s)return Pw(i),e;a=a.sibling}throw Error(Ne(188))}if(n.return!==s.return)n=i,s=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,s=a;break}if(l===s){o=!0,s=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,s=i;break}if(l===s){o=!0,s=a,n=i;break}l=l.sibling}if(!o)throw Error(Ne(189))}}if(n.alternate!==s)throw Error(Ne(190))}if(n.tag!==3)throw Error(Ne(188));return n.stateNode.current===n?t:e}function vC(t){return t=qA(t),t!==null?yC(t):null}function yC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=yC(t);if(e!==null)return e;t=t.sibling}return null}var bC=ss.unstable_scheduleCallback,Ew=ss.unstable_cancelCallback,GA=ss.unstable_shouldYield,KA=ss.unstable_requestPaint,Ft=ss.unstable_now,YA=ss.unstable_getCurrentPriorityLevel,yy=ss.unstable_ImmediatePriority,wC=ss.unstable_UserBlockingPriority,ap=ss.unstable_NormalPriority,XA=ss.unstable_LowPriority,jC=ss.unstable_IdlePriority,km=null,dr=null;function ZA(t){if(dr&&typeof dr.onCommitFiberRoot=="function")try{dr.onCommitFiberRoot(km,t,void 0,(t.current.flags&128)===128)}catch{}}var Bs=Math.clz32?Math.clz32:e8,QA=Math.log,JA=Math.LN2;function e8(t){return t>>>=0,t===0?32:31-(QA(t)/JA|0)|0}var bu=64,wu=4194304;function uc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function op(t,e){var n=t.pendingLanes;if(n===0)return 0;var s=0,i=t.suspendedLanes,a=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?s=uc(l):(a&=o,a!==0&&(s=uc(a)))}else o=n&~i,o!==0?s=uc(o):a!==0&&(s=uc(a));if(s===0)return 0;if(e!==0&&e!==s&&!(e&i)&&(i=s&-s,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(s&4&&(s|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=s;0<e;)n=31-Bs(e),i=1<<n,s|=t[n],e&=~i;return s}function t8(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function n8(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-Bs(a),l=1<<o,c=i[o];c===-1?(!(l&n)||l&s)&&(i[o]=t8(l,e)):c<=e&&(t.expiredLanes|=l),a&=~l}}function Ox(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function NC(){var t=bu;return bu<<=1,!(bu&4194240)&&(bu=64),t}function jf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Kd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Bs(e),t[e]=n}function s8(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Bs(n),a=1<<i;e[i]=0,s[i]=-1,t[i]=-1,n&=~a}}function by(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-Bs(n),i=1<<s;i&e|t[s]&e&&(t[s]|=e),n&=~i}}var rt=0;function kC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var SC,wy,CC,PC,EC,Rx=!1,ju=[],xi=null,vi=null,yi=null,sd=new Map,rd=new Map,ii=[],r8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _w(t,e){switch(t){case"focusin":case"focusout":xi=null;break;case"dragenter":case"dragleave":vi=null;break;case"mouseover":case"mouseout":yi=null;break;case"pointerover":case"pointerout":sd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":rd.delete(e.pointerId)}}function $l(t,e,n,s,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Xd(e),e!==null&&wy(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function i8(t,e,n,s,i){switch(e){case"focusin":return xi=$l(xi,t,e,n,s,i),!0;case"dragenter":return vi=$l(vi,t,e,n,s,i),!0;case"mouseover":return yi=$l(yi,t,e,n,s,i),!0;case"pointerover":var a=i.pointerId;return sd.set(a,$l(sd.get(a)||null,t,e,n,s,i)),!0;case"gotpointercapture":return a=i.pointerId,rd.set(a,$l(rd.get(a)||null,t,e,n,s,i)),!0}return!1}function _C(t){var e=ca(t.target);if(e!==null){var n=Wa(e);if(n!==null){if(e=n.tag,e===13){if(e=xC(n),e!==null){t.blockedOn=e,EC(t.priority,function(){CC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Dx(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);Tx=s,n.target.dispatchEvent(s),Tx=null}else return e=Xd(n),e!==null&&wy(e),t.blockedOn=n,!1;e.shift()}return!0}function Mw(t,e,n){wh(t)&&n.delete(e)}function a8(){Rx=!1,xi!==null&&wh(xi)&&(xi=null),vi!==null&&wh(vi)&&(vi=null),yi!==null&&wh(yi)&&(yi=null),sd.forEach(Mw),rd.forEach(Mw)}function Fl(t,e){t.blockedOn===e&&(t.blockedOn=null,Rx||(Rx=!0,ss.unstable_scheduleCallback(ss.unstable_NormalPriority,a8)))}function id(t){function e(i){return Fl(i,t)}if(0<ju.length){Fl(ju[0],t);for(var n=1;n<ju.length;n++){var s=ju[n];s.blockedOn===t&&(s.blockedOn=null)}}for(xi!==null&&Fl(xi,t),vi!==null&&Fl(vi,t),yi!==null&&Fl(yi,t),sd.forEach(e),rd.forEach(e),n=0;n<ii.length;n++)s=ii[n],s.blockedOn===t&&(s.blockedOn=null);for(;0<ii.length&&(n=ii[0],n.blockedOn===null);)_C(n),n.blockedOn===null&&ii.shift()}var Bo=Ur.ReactCurrentBatchConfig,lp=!0;function o8(t,e,n,s){var i=rt,a=Bo.transition;Bo.transition=null;try{rt=1,jy(t,e,n,s)}finally{rt=i,Bo.transition=a}}function l8(t,e,n,s){var i=rt,a=Bo.transition;Bo.transition=null;try{rt=4,jy(t,e,n,s)}finally{rt=i,Bo.transition=a}}function jy(t,e,n,s){if(lp){var i=Dx(t,e,n,s);if(i===null)Lf(t,e,s,cp,n),_w(t,s);else if(i8(i,t,e,n,s))s.stopPropagation();else if(_w(t,s),e&4&&-1<r8.indexOf(t)){for(;i!==null;){var a=Xd(i);if(a!==null&&SC(a),a=Dx(t,e,n,s),a===null&&Lf(t,e,s,cp,n),a===i)break;i=a}i!==null&&s.stopPropagation()}else Lf(t,e,s,null,n)}}var cp=null;function Dx(t,e,n,s){if(cp=null,t=vy(s),t=ca(t),t!==null)if(e=Wa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=xC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return cp=t,null}function MC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(YA()){case yy:return 1;case wC:return 4;case ap:case XA:return 16;case jC:return 536870912;default:return 16}default:return 16}}var li=null,Ny=null,jh=null;function TC(){if(jh)return jh;var t,e=Ny,n=e.length,s,i="value"in li?li.value:li.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(s=1;s<=o&&e[n-s]===i[a-s];s++);return jh=i.slice(t,1<s?1-s:void 0)}function Nh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Nu(){return!0}function Tw(){return!1}function ls(t){function e(n,s,i,a,o){this._reactName=n,this._targetInst=i,this.type=s,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Nu:Tw,this.isPropagationStopped=Tw,this}return Et(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Nu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Nu)},persist:function(){},isPersistent:Nu}),e}var vl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ky=ls(vl),Yd=Et({},vl,{view:0,detail:0}),c8=ls(Yd),Nf,kf,zl,Sm=Et({},Yd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zl&&(zl&&t.type==="mousemove"?(Nf=t.screenX-zl.screenX,kf=t.screenY-zl.screenY):kf=Nf=0,zl=t),Nf)},movementY:function(t){return"movementY"in t?t.movementY:kf}}),Lw=ls(Sm),d8=Et({},Sm,{dataTransfer:0}),u8=ls(d8),h8=Et({},Yd,{relatedTarget:0}),Sf=ls(h8),p8=Et({},vl,{animationName:0,elapsedTime:0,pseudoElement:0}),m8=ls(p8),f8=Et({},vl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),g8=ls(f8),x8=Et({},vl,{data:0}),Aw=ls(x8),v8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},y8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},b8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function w8(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=b8[t])?!!e[t]:!1}function Sy(){return w8}var j8=Et({},Yd,{key:function(t){if(t.key){var e=v8[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Nh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?y8[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sy,charCode:function(t){return t.type==="keypress"?Nh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Nh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),N8=ls(j8),k8=Et({},Sm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Iw=ls(k8),S8=Et({},Yd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sy}),C8=ls(S8),P8=Et({},vl,{propertyName:0,elapsedTime:0,pseudoElement:0}),E8=ls(P8),_8=Et({},Sm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),M8=ls(_8),T8=[9,13,27,32],Cy=Or&&"CompositionEvent"in window,Pc=null;Or&&"documentMode"in document&&(Pc=document.documentMode);var L8=Or&&"TextEvent"in window&&!Pc,LC=Or&&(!Cy||Pc&&8<Pc&&11>=Pc),Ow=" ",Rw=!1;function AC(t,e){switch(t){case"keyup":return T8.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function IC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var uo=!1;function A8(t,e){switch(t){case"compositionend":return IC(e);case"keypress":return e.which!==32?null:(Rw=!0,Ow);case"textInput":return t=e.data,t===Ow&&Rw?null:t;default:return null}}function I8(t,e){if(uo)return t==="compositionend"||!Cy&&AC(t,e)?(t=TC(),jh=Ny=li=null,uo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return LC&&e.locale!=="ko"?null:e.data;default:return null}}var O8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!O8[t.type]:e==="textarea"}function OC(t,e,n,s){hC(s),e=dp(e,"onChange"),0<e.length&&(n=new ky("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var Ec=null,ad=null;function R8(t){qC(t,0)}function Cm(t){var e=mo(t);if(iC(e))return t}function D8(t,e){if(t==="change")return e}var RC=!1;if(Or){var Cf;if(Or){var Pf="oninput"in document;if(!Pf){var $w=document.createElement("div");$w.setAttribute("oninput","return;"),Pf=typeof $w.oninput=="function"}Cf=Pf}else Cf=!1;RC=Cf&&(!document.documentMode||9<document.documentMode)}function Fw(){Ec&&(Ec.detachEvent("onpropertychange",DC),ad=Ec=null)}function DC(t){if(t.propertyName==="value"&&Cm(ad)){var e=[];OC(e,ad,t,vy(t)),gC(R8,e)}}function $8(t,e,n){t==="focusin"?(Fw(),Ec=e,ad=n,Ec.attachEvent("onpropertychange",DC)):t==="focusout"&&Fw()}function F8(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Cm(ad)}function z8(t,e){if(t==="click")return Cm(e)}function B8(t,e){if(t==="input"||t==="change")return Cm(e)}function V8(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ws=typeof Object.is=="function"?Object.is:V8;function od(t,e){if(Ws(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var i=n[s];if(!yx.call(e,i)||!Ws(t[i],e[i]))return!1}return!0}function zw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Bw(t,e){var n=zw(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=zw(n)}}function $C(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?$C(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function FC(){for(var t=window,e=sp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=sp(t.document)}return e}function Py(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function U8(t){var e=FC(),n=t.focusedElem,s=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&$C(n.ownerDocument.documentElement,n)){if(s!==null&&Py(n)){if(e=s.start,t=s.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(s.start,i);s=s.end===void 0?a:Math.min(s.end,i),!t.extend&&a>s&&(i=s,s=a,a=i),i=Bw(n,a);var o=Bw(n,s);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>s?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var W8=Or&&"documentMode"in document&&11>=document.documentMode,ho=null,$x=null,_c=null,Fx=!1;function Vw(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Fx||ho==null||ho!==sp(s)||(s=ho,"selectionStart"in s&&Py(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),_c&&od(_c,s)||(_c=s,s=dp($x,"onSelect"),0<s.length&&(e=new ky("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=ho)))}function ku(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var po={animationend:ku("Animation","AnimationEnd"),animationiteration:ku("Animation","AnimationIteration"),animationstart:ku("Animation","AnimationStart"),transitionend:ku("Transition","TransitionEnd")},Ef={},zC={};Or&&(zC=document.createElement("div").style,"AnimationEvent"in window||(delete po.animationend.animation,delete po.animationiteration.animation,delete po.animationstart.animation),"TransitionEvent"in window||delete po.transitionend.transition);function Pm(t){if(Ef[t])return Ef[t];if(!po[t])return t;var e=po[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in zC)return Ef[t]=e[n];return t}var BC=Pm("animationend"),VC=Pm("animationiteration"),UC=Pm("animationstart"),WC=Pm("transitionend"),HC=new Map,Uw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $i(t,e){HC.set(t,e),Ua(e,[t])}for(var _f=0;_f<Uw.length;_f++){var Mf=Uw[_f],H8=Mf.toLowerCase(),q8=Mf[0].toUpperCase()+Mf.slice(1);$i(H8,"on"+q8)}$i(BC,"onAnimationEnd");$i(VC,"onAnimationIteration");$i(UC,"onAnimationStart");$i("dblclick","onDoubleClick");$i("focusin","onFocus");$i("focusout","onBlur");$i(WC,"onTransitionEnd");Xo("onMouseEnter",["mouseout","mouseover"]);Xo("onMouseLeave",["mouseout","mouseover"]);Xo("onPointerEnter",["pointerout","pointerover"]);Xo("onPointerLeave",["pointerout","pointerover"]);Ua("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ua("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ua("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ua("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ua("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ua("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),G8=new Set("cancel close invalid load scroll toggle".split(" ").concat(hc));function Ww(t,e,n){var s=t.type||"unknown-event";t.currentTarget=n,HA(s,e,void 0,t),t.currentTarget=null}function qC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],i=s.event;s=s.listeners;e:{var a=void 0;if(e)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;Ww(i,l,d),a=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;Ww(i,l,d),a=c}}}if(ip)throw t=Ix,ip=!1,Ix=null,t}function mt(t,e){var n=e[Wx];n===void 0&&(n=e[Wx]=new Set);var s=t+"__bubble";n.has(s)||(GC(e,t,2,!1),n.add(s))}function Tf(t,e,n){var s=0;e&&(s|=4),GC(n,t,s,e)}var Su="_reactListening"+Math.random().toString(36).slice(2);function ld(t){if(!t[Su]){t[Su]=!0,eC.forEach(function(n){n!=="selectionchange"&&(G8.has(n)||Tf(n,!1,t),Tf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Su]||(e[Su]=!0,Tf("selectionchange",!1,e))}}function GC(t,e,n,s){switch(MC(e)){case 1:var i=o8;break;case 4:i=l8;break;default:i=jy}n=i.bind(null,e,n,t),i=void 0,!Ax||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),s?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Lf(t,e,n,s,i){var a=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=ca(l),o===null)return;if(c=o.tag,c===5||c===6){s=a=o;continue e}l=l.parentNode}}s=s.return}gC(function(){var d=a,u=vy(n),h=[];e:{var m=HC.get(t);if(m!==void 0){var f=ky,x=t;switch(t){case"keypress":if(Nh(n)===0)break e;case"keydown":case"keyup":f=N8;break;case"focusin":x="focus",f=Sf;break;case"focusout":x="blur",f=Sf;break;case"beforeblur":case"afterblur":f=Sf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Lw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=u8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=C8;break;case BC:case VC:case UC:f=m8;break;case WC:f=E8;break;case"scroll":f=c8;break;case"wheel":f=M8;break;case"copy":case"cut":case"paste":f=g8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Iw}var g=(e&4)!==0,b=!g&&t==="scroll",y=g?m!==null?m+"Capture":null:m;g=[];for(var v=d,w;v!==null;){w=v;var N=w.stateNode;if(w.tag===5&&N!==null&&(w=N,y!==null&&(N=nd(v,y),N!=null&&g.push(cd(v,N,w)))),b)break;v=v.return}0<g.length&&(m=new f(m,x,null,n,u),h.push({event:m,listeners:g}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",m&&n!==Tx&&(x=n.relatedTarget||n.fromElement)&&(ca(x)||x[Rr]))break e;if((f||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,f?(x=n.relatedTarget||n.toElement,f=d,x=x?ca(x):null,x!==null&&(b=Wa(x),x!==b||x.tag!==5&&x.tag!==6)&&(x=null)):(f=null,x=d),f!==x)){if(g=Lw,N="onMouseLeave",y="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(g=Iw,N="onPointerLeave",y="onPointerEnter",v="pointer"),b=f==null?m:mo(f),w=x==null?m:mo(x),m=new g(N,v+"leave",f,n,u),m.target=b,m.relatedTarget=w,N=null,ca(u)===d&&(g=new g(y,v+"enter",x,n,u),g.target=w,g.relatedTarget=b,N=g),b=N,f&&x)t:{for(g=f,y=x,v=0,w=g;w;w=Qa(w))v++;for(w=0,N=y;N;N=Qa(N))w++;for(;0<v-w;)g=Qa(g),v--;for(;0<w-v;)y=Qa(y),w--;for(;v--;){if(g===y||y!==null&&g===y.alternate)break t;g=Qa(g),y=Qa(y)}g=null}else g=null;f!==null&&Hw(h,m,f,g,!1),x!==null&&b!==null&&Hw(h,b,x,g,!0)}}e:{if(m=d?mo(d):window,f=m.nodeName&&m.nodeName.toLowerCase(),f==="select"||f==="input"&&m.type==="file")var j=D8;else if(Dw(m))if(RC)j=B8;else{j=F8;var k=$8}else(f=m.nodeName)&&f.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(j=z8);if(j&&(j=j(t,d))){OC(h,j,n,u);break e}k&&k(t,m,d),t==="focusout"&&(k=m._wrapperState)&&k.controlled&&m.type==="number"&&Cx(m,"number",m.value)}switch(k=d?mo(d):window,t){case"focusin":(Dw(k)||k.contentEditable==="true")&&(ho=k,$x=d,_c=null);break;case"focusout":_c=$x=ho=null;break;case"mousedown":Fx=!0;break;case"contextmenu":case"mouseup":case"dragend":Fx=!1,Vw(h,n,u);break;case"selectionchange":if(W8)break;case"keydown":case"keyup":Vw(h,n,u)}var P;if(Cy)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else uo?AC(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(LC&&n.locale!=="ko"&&(uo||S!=="onCompositionStart"?S==="onCompositionEnd"&&uo&&(P=TC()):(li=u,Ny="value"in li?li.value:li.textContent,uo=!0)),k=dp(d,S),0<k.length&&(S=new Aw(S,t,null,n,u),h.push({event:S,listeners:k}),P?S.data=P:(P=IC(n),P!==null&&(S.data=P)))),(P=L8?A8(t,n):I8(t,n))&&(d=dp(d,"onBeforeInput"),0<d.length&&(u=new Aw("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:d}),u.data=P))}qC(h,e)})}function cd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function dp(t,e){for(var n=e+"Capture",s=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=nd(t,n),a!=null&&s.unshift(cd(t,a,i)),a=nd(t,e),a!=null&&s.push(cd(t,a,i))),t=t.return}return s}function Qa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Hw(t,e,n,s,i){for(var a=e._reactName,o=[];n!==null&&n!==s;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&d!==null&&(l=d,i?(c=nd(n,a),c!=null&&o.unshift(cd(n,c,l))):i||(c=nd(n,a),c!=null&&o.push(cd(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var K8=/\r\n?/g,Y8=/\u0000|\uFFFD/g;function qw(t){return(typeof t=="string"?t:""+t).replace(K8,`
`).replace(Y8,"")}function Cu(t,e,n){if(e=qw(e),qw(t)!==e&&n)throw Error(Ne(425))}function up(){}var zx=null,Bx=null;function Vx(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ux=typeof setTimeout=="function"?setTimeout:void 0,X8=typeof clearTimeout=="function"?clearTimeout:void 0,Gw=typeof Promise=="function"?Promise:void 0,Z8=typeof queueMicrotask=="function"?queueMicrotask:typeof Gw<"u"?function(t){return Gw.resolve(null).then(t).catch(Q8)}:Ux;function Q8(t){setTimeout(function(){throw t})}function Af(t,e){var n=e,s=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(s===0){t.removeChild(i),id(e);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=i}while(n);id(e)}function bi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Kw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var yl=Math.random().toString(36).slice(2),ar="__reactFiber$"+yl,dd="__reactProps$"+yl,Rr="__reactContainer$"+yl,Wx="__reactEvents$"+yl,J8="__reactListeners$"+yl,eI="__reactHandles$"+yl;function ca(t){var e=t[ar];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Rr]||n[ar]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Kw(t);t!==null;){if(n=t[ar])return n;t=Kw(t)}return e}t=n,n=t.parentNode}return null}function Xd(t){return t=t[ar]||t[Rr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function mo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ne(33))}function Em(t){return t[dd]||null}var Hx=[],fo=-1;function Fi(t){return{current:t}}function ft(t){0>fo||(t.current=Hx[fo],Hx[fo]=null,fo--)}function pt(t,e){fo++,Hx[fo]=t.current,t.current=e}var Ti={},jn=Fi(Ti),$n=Fi(!1),Aa=Ti;function Zo(t,e){var n=t.type.contextTypes;if(!n)return Ti;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Fn(t){return t=t.childContextTypes,t!=null}function hp(){ft($n),ft(jn)}function Yw(t,e,n){if(jn.current!==Ti)throw Error(Ne(168));pt(jn,e),pt($n,n)}function KC(t,e,n){var s=t.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var i in s)if(!(i in e))throw Error(Ne(108,$A(t)||"Unknown",i));return Et({},n,s)}function pp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ti,Aa=jn.current,pt(jn,t),pt($n,$n.current),!0}function Xw(t,e,n){var s=t.stateNode;if(!s)throw Error(Ne(169));n?(t=KC(t,e,Aa),s.__reactInternalMemoizedMergedChildContext=t,ft($n),ft(jn),pt(jn,t)):ft($n),pt($n,n)}var Pr=null,_m=!1,If=!1;function YC(t){Pr===null?Pr=[t]:Pr.push(t)}function tI(t){_m=!0,YC(t)}function zi(){if(!If&&Pr!==null){If=!0;var t=0,e=rt;try{var n=Pr;for(rt=1;t<n.length;t++){var s=n[t];do s=s(!0);while(s!==null)}Pr=null,_m=!1}catch(i){throw Pr!==null&&(Pr=Pr.slice(t+1)),bC(yy,zi),i}finally{rt=e,If=!1}}return null}var go=[],xo=0,mp=null,fp=0,xs=[],vs=0,Ia=null,_r=1,Mr="";function Ji(t,e){go[xo++]=fp,go[xo++]=mp,mp=t,fp=e}function XC(t,e,n){xs[vs++]=_r,xs[vs++]=Mr,xs[vs++]=Ia,Ia=t;var s=_r;t=Mr;var i=32-Bs(s)-1;s&=~(1<<i),n+=1;var a=32-Bs(e)+i;if(30<a){var o=i-i%5;a=(s&(1<<o)-1).toString(32),s>>=o,i-=o,_r=1<<32-Bs(e)+i|n<<i|s,Mr=a+t}else _r=1<<a|n<<i|s,Mr=t}function Ey(t){t.return!==null&&(Ji(t,1),XC(t,1,0))}function _y(t){for(;t===mp;)mp=go[--xo],go[xo]=null,fp=go[--xo],go[xo]=null;for(;t===Ia;)Ia=xs[--vs],xs[vs]=null,Mr=xs[--vs],xs[vs]=null,_r=xs[--vs],xs[vs]=null}var ts=null,Jn=null,xt=!1,zs=null;function ZC(t,e){var n=bs(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Zw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ts=t,Jn=bi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ts=t,Jn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ia!==null?{id:_r,overflow:Mr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=bs(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ts=t,Jn=null,!0):!1;default:return!1}}function qx(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Gx(t){if(xt){var e=Jn;if(e){var n=e;if(!Zw(t,e)){if(qx(t))throw Error(Ne(418));e=bi(n.nextSibling);var s=ts;e&&Zw(t,e)?ZC(s,n):(t.flags=t.flags&-4097|2,xt=!1,ts=t)}}else{if(qx(t))throw Error(Ne(418));t.flags=t.flags&-4097|2,xt=!1,ts=t}}}function Qw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ts=t}function Pu(t){if(t!==ts)return!1;if(!xt)return Qw(t),xt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Vx(t.type,t.memoizedProps)),e&&(e=Jn)){if(qx(t))throw QC(),Error(Ne(418));for(;e;)ZC(t,e),e=bi(e.nextSibling)}if(Qw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ne(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Jn=bi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Jn=null}}else Jn=ts?bi(t.stateNode.nextSibling):null;return!0}function QC(){for(var t=Jn;t;)t=bi(t.nextSibling)}function Qo(){Jn=ts=null,xt=!1}function My(t){zs===null?zs=[t]:zs.push(t)}var nI=Ur.ReactCurrentBatchConfig;function Bl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ne(309));var s=n.stateNode}if(!s)throw Error(Ne(147,t));var i=s,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(Ne(284));if(!n._owner)throw Error(Ne(290,t))}return t}function Eu(t,e){throw t=Object.prototype.toString.call(e),Error(Ne(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Jw(t){var e=t._init;return e(t._payload)}function JC(t){function e(y,v){if(t){var w=y.deletions;w===null?(y.deletions=[v],y.flags|=16):w.push(v)}}function n(y,v){if(!t)return null;for(;v!==null;)e(y,v),v=v.sibling;return null}function s(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function i(y,v){return y=ki(y,v),y.index=0,y.sibling=null,y}function a(y,v,w){return y.index=w,t?(w=y.alternate,w!==null?(w=w.index,w<v?(y.flags|=2,v):w):(y.flags|=2,v)):(y.flags|=1048576,v)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function l(y,v,w,N){return v===null||v.tag!==6?(v=Bf(w,y.mode,N),v.return=y,v):(v=i(v,w),v.return=y,v)}function c(y,v,w,N){var j=w.type;return j===co?u(y,v,w.props.children,N,w.key):v!==null&&(v.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ti&&Jw(j)===v.type)?(N=i(v,w.props),N.ref=Bl(y,v,w),N.return=y,N):(N=Mh(w.type,w.key,w.props,null,y.mode,N),N.ref=Bl(y,v,w),N.return=y,N)}function d(y,v,w,N){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=Vf(w,y.mode,N),v.return=y,v):(v=i(v,w.children||[]),v.return=y,v)}function u(y,v,w,N,j){return v===null||v.tag!==7?(v=ya(w,y.mode,N,j),v.return=y,v):(v=i(v,w),v.return=y,v)}function h(y,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Bf(""+v,y.mode,w),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case xu:return w=Mh(v.type,v.key,v.props,null,y.mode,w),w.ref=Bl(y,null,v),w.return=y,w;case lo:return v=Vf(v,y.mode,w),v.return=y,v;case ti:var N=v._init;return h(y,N(v._payload),w)}if(dc(v)||Rl(v))return v=ya(v,y.mode,w,null),v.return=y,v;Eu(y,v)}return null}function m(y,v,w,N){var j=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:l(y,v,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case xu:return w.key===j?c(y,v,w,N):null;case lo:return w.key===j?d(y,v,w,N):null;case ti:return j=w._init,m(y,v,j(w._payload),N)}if(dc(w)||Rl(w))return j!==null?null:u(y,v,w,N,null);Eu(y,w)}return null}function f(y,v,w,N,j){if(typeof N=="string"&&N!==""||typeof N=="number")return y=y.get(w)||null,l(v,y,""+N,j);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case xu:return y=y.get(N.key===null?w:N.key)||null,c(v,y,N,j);case lo:return y=y.get(N.key===null?w:N.key)||null,d(v,y,N,j);case ti:var k=N._init;return f(y,v,w,k(N._payload),j)}if(dc(N)||Rl(N))return y=y.get(w)||null,u(v,y,N,j,null);Eu(v,N)}return null}function x(y,v,w,N){for(var j=null,k=null,P=v,S=v=0,E=null;P!==null&&S<w.length;S++){P.index>S?(E=P,P=null):E=P.sibling;var T=m(y,P,w[S],N);if(T===null){P===null&&(P=E);break}t&&P&&T.alternate===null&&e(y,P),v=a(T,v,S),k===null?j=T:k.sibling=T,k=T,P=E}if(S===w.length)return n(y,P),xt&&Ji(y,S),j;if(P===null){for(;S<w.length;S++)P=h(y,w[S],N),P!==null&&(v=a(P,v,S),k===null?j=P:k.sibling=P,k=P);return xt&&Ji(y,S),j}for(P=s(y,P);S<w.length;S++)E=f(P,y,S,w[S],N),E!==null&&(t&&E.alternate!==null&&P.delete(E.key===null?S:E.key),v=a(E,v,S),k===null?j=E:k.sibling=E,k=E);return t&&P.forEach(function(W){return e(y,W)}),xt&&Ji(y,S),j}function g(y,v,w,N){var j=Rl(w);if(typeof j!="function")throw Error(Ne(150));if(w=j.call(w),w==null)throw Error(Ne(151));for(var k=j=null,P=v,S=v=0,E=null,T=w.next();P!==null&&!T.done;S++,T=w.next()){P.index>S?(E=P,P=null):E=P.sibling;var W=m(y,P,T.value,N);if(W===null){P===null&&(P=E);break}t&&P&&W.alternate===null&&e(y,P),v=a(W,v,S),k===null?j=W:k.sibling=W,k=W,P=E}if(T.done)return n(y,P),xt&&Ji(y,S),j;if(P===null){for(;!T.done;S++,T=w.next())T=h(y,T.value,N),T!==null&&(v=a(T,v,S),k===null?j=T:k.sibling=T,k=T);return xt&&Ji(y,S),j}for(P=s(y,P);!T.done;S++,T=w.next())T=f(P,y,S,T.value,N),T!==null&&(t&&T.alternate!==null&&P.delete(T.key===null?S:T.key),v=a(T,v,S),k===null?j=T:k.sibling=T,k=T);return t&&P.forEach(function(F){return e(y,F)}),xt&&Ji(y,S),j}function b(y,v,w,N){if(typeof w=="object"&&w!==null&&w.type===co&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case xu:e:{for(var j=w.key,k=v;k!==null;){if(k.key===j){if(j=w.type,j===co){if(k.tag===7){n(y,k.sibling),v=i(k,w.props.children),v.return=y,y=v;break e}}else if(k.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ti&&Jw(j)===k.type){n(y,k.sibling),v=i(k,w.props),v.ref=Bl(y,k,w),v.return=y,y=v;break e}n(y,k);break}else e(y,k);k=k.sibling}w.type===co?(v=ya(w.props.children,y.mode,N,w.key),v.return=y,y=v):(N=Mh(w.type,w.key,w.props,null,y.mode,N),N.ref=Bl(y,v,w),N.return=y,y=N)}return o(y);case lo:e:{for(k=w.key;v!==null;){if(v.key===k)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(y,v.sibling),v=i(v,w.children||[]),v.return=y,y=v;break e}else{n(y,v);break}else e(y,v);v=v.sibling}v=Vf(w,y.mode,N),v.return=y,y=v}return o(y);case ti:return k=w._init,b(y,v,k(w._payload),N)}if(dc(w))return x(y,v,w,N);if(Rl(w))return g(y,v,w,N);Eu(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(n(y,v.sibling),v=i(v,w),v.return=y,y=v):(n(y,v),v=Bf(w,y.mode,N),v.return=y,y=v),o(y)):n(y,v)}return b}var Jo=JC(!0),e3=JC(!1),gp=Fi(null),xp=null,vo=null,Ty=null;function Ly(){Ty=vo=xp=null}function Ay(t){var e=gp.current;ft(gp),t._currentValue=e}function Kx(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function Vo(t,e){xp=t,Ty=vo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Rn=!0),t.firstContext=null)}function Es(t){var e=t._currentValue;if(Ty!==t)if(t={context:t,memoizedValue:e,next:null},vo===null){if(xp===null)throw Error(Ne(308));vo=t,xp.dependencies={lanes:0,firstContext:t}}else vo=vo.next=t;return e}var da=null;function Iy(t){da===null?da=[t]:da.push(t)}function t3(t,e,n,s){var i=e.interleaved;return i===null?(n.next=n,Iy(e)):(n.next=i.next,i.next=n),e.interleaved=n,Dr(t,s)}function Dr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ni=!1;function Oy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function n3(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Lr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function wi(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,Je&2){var i=s.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),s.pending=e,Dr(t,n)}return i=s.interleaved,i===null?(e.next=e,Iy(s)):(e.next=i.next,i.next=e),s.interleaved=e,Dr(t,n)}function kh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,by(t,n)}}function e2(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:s.shared,effects:s.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function vp(t,e,n,s){var i=t.updateQueue;ni=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?a=d:o.next=d,o=c;var u=t.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(a!==null){var h=i.baseState;o=0,u=d=c=null,l=a;do{var m=l.lane,f=l.eventTime;if((s&m)===m){u!==null&&(u=u.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=t,g=l;switch(m=e,f=n,g.tag){case 1:if(x=g.payload,typeof x=="function"){h=x.call(f,h,m);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=g.payload,m=typeof x=="function"?x.call(f,h,m):x,m==null)break e;h=Et({},h,m);break e;case 2:ni=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else f={eventTime:f,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=f,c=h):u=u.next=f,o|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(u===null&&(c=h),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Ra|=o,t.lanes=o,t.memoizedState=h}}function t2(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var s=t[e],i=s.callback;if(i!==null){if(s.callback=null,s=n,typeof i!="function")throw Error(Ne(191,i));i.call(s)}}}var Zd={},ur=Fi(Zd),ud=Fi(Zd),hd=Fi(Zd);function ua(t){if(t===Zd)throw Error(Ne(174));return t}function Ry(t,e){switch(pt(hd,e),pt(ud,t),pt(ur,Zd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ex(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ex(e,t)}ft(ur),pt(ur,e)}function el(){ft(ur),ft(ud),ft(hd)}function s3(t){ua(hd.current);var e=ua(ur.current),n=Ex(e,t.type);e!==n&&(pt(ud,t),pt(ur,n))}function Dy(t){ud.current===t&&(ft(ur),ft(ud))}var jt=Fi(0);function yp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Of=[];function $y(){for(var t=0;t<Of.length;t++)Of[t]._workInProgressVersionPrimary=null;Of.length=0}var Sh=Ur.ReactCurrentDispatcher,Rf=Ur.ReactCurrentBatchConfig,Oa=0,Pt=null,Kt=null,en=null,bp=!1,Mc=!1,pd=0,sI=0;function un(){throw Error(Ne(321))}function Fy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ws(t[n],e[n]))return!1;return!0}function zy(t,e,n,s,i,a){if(Oa=a,Pt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Sh.current=t===null||t.memoizedState===null?oI:lI,t=n(s,i),Mc){a=0;do{if(Mc=!1,pd=0,25<=a)throw Error(Ne(301));a+=1,en=Kt=null,e.updateQueue=null,Sh.current=cI,t=n(s,i)}while(Mc)}if(Sh.current=wp,e=Kt!==null&&Kt.next!==null,Oa=0,en=Kt=Pt=null,bp=!1,e)throw Error(Ne(300));return t}function By(){var t=pd!==0;return pd=0,t}function rr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?Pt.memoizedState=en=t:en=en.next=t,en}function _s(){if(Kt===null){var t=Pt.alternate;t=t!==null?t.memoizedState:null}else t=Kt.next;var e=en===null?Pt.memoizedState:en.next;if(e!==null)en=e,Kt=t;else{if(t===null)throw Error(Ne(310));Kt=t,t={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},en===null?Pt.memoizedState=en=t:en=en.next=t}return en}function md(t,e){return typeof e=="function"?e(t):e}function Df(t){var e=_s(),n=e.queue;if(n===null)throw Error(Ne(311));n.lastRenderedReducer=t;var s=Kt,i=s.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}s.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,s=s.baseState;var l=o=null,c=null,d=a;do{var u=d.lane;if((Oa&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:t(s,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=s):c=c.next=h,Pt.lanes|=u,Ra|=u}d=d.next}while(d!==null&&d!==a);c===null?o=s:c.next=l,Ws(s,e.memoizedState)||(Rn=!0),e.memoizedState=s,e.baseState=o,e.baseQueue=c,n.lastRenderedState=s}if(t=n.interleaved,t!==null){i=t;do a=i.lane,Pt.lanes|=a,Ra|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function $f(t){var e=_s(),n=e.queue;if(n===null)throw Error(Ne(311));n.lastRenderedReducer=t;var s=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);Ws(a,e.memoizedState)||(Rn=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,s]}function r3(){}function i3(t,e){var n=Pt,s=_s(),i=e(),a=!Ws(s.memoizedState,i);if(a&&(s.memoizedState=i,Rn=!0),s=s.queue,Vy(l3.bind(null,n,s,t),[t]),s.getSnapshot!==e||a||en!==null&&en.memoizedState.tag&1){if(n.flags|=2048,fd(9,o3.bind(null,n,s,i,e),void 0,null),tn===null)throw Error(Ne(349));Oa&30||a3(n,e,i)}return i}function a3(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Pt.updateQueue,e===null?(e={lastEffect:null,stores:null},Pt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function o3(t,e,n,s){e.value=n,e.getSnapshot=s,c3(e)&&d3(t)}function l3(t,e,n){return n(function(){c3(e)&&d3(t)})}function c3(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ws(t,n)}catch{return!0}}function d3(t){var e=Dr(t,1);e!==null&&Vs(e,t,1,-1)}function n2(t){var e=rr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:md,lastRenderedState:t},e.queue=t,t=t.dispatch=aI.bind(null,Pt,t),[e.memoizedState,t]}function fd(t,e,n,s){return t={tag:t,create:e,destroy:n,deps:s,next:null},e=Pt.updateQueue,e===null?(e={lastEffect:null,stores:null},Pt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t)),t}function u3(){return _s().memoizedState}function Ch(t,e,n,s){var i=rr();Pt.flags|=t,i.memoizedState=fd(1|e,n,void 0,s===void 0?null:s)}function Mm(t,e,n,s){var i=_s();s=s===void 0?null:s;var a=void 0;if(Kt!==null){var o=Kt.memoizedState;if(a=o.destroy,s!==null&&Fy(s,o.deps)){i.memoizedState=fd(e,n,a,s);return}}Pt.flags|=t,i.memoizedState=fd(1|e,n,a,s)}function s2(t,e){return Ch(8390656,8,t,e)}function Vy(t,e){return Mm(2048,8,t,e)}function h3(t,e){return Mm(4,2,t,e)}function p3(t,e){return Mm(4,4,t,e)}function m3(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function f3(t,e,n){return n=n!=null?n.concat([t]):null,Mm(4,4,m3.bind(null,e,t),n)}function Uy(){}function g3(t,e){var n=_s();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&Fy(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function x3(t,e){var n=_s();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&Fy(e,s[1])?s[0]:(t=t(),n.memoizedState=[t,e],t)}function v3(t,e,n){return Oa&21?(Ws(n,e)||(n=NC(),Pt.lanes|=n,Ra|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Rn=!0),t.memoizedState=n)}function rI(t,e){var n=rt;rt=n!==0&&4>n?n:4,t(!0);var s=Rf.transition;Rf.transition={};try{t(!1),e()}finally{rt=n,Rf.transition=s}}function y3(){return _s().memoizedState}function iI(t,e,n){var s=Ni(t);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},b3(t))w3(e,n);else if(n=t3(t,e,n,s),n!==null){var i=_n();Vs(n,t,s,i),j3(n,e,s)}}function aI(t,e,n){var s=Ni(t),i={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(b3(t))w3(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,l=a(o,n);if(i.hasEagerState=!0,i.eagerState=l,Ws(l,o)){var c=e.interleaved;c===null?(i.next=i,Iy(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=t3(t,e,i,s),n!==null&&(i=_n(),Vs(n,t,s,i),j3(n,e,s))}}function b3(t){var e=t.alternate;return t===Pt||e!==null&&e===Pt}function w3(t,e){Mc=bp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function j3(t,e,n){if(n&4194240){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,by(t,n)}}var wp={readContext:Es,useCallback:un,useContext:un,useEffect:un,useImperativeHandle:un,useInsertionEffect:un,useLayoutEffect:un,useMemo:un,useReducer:un,useRef:un,useState:un,useDebugValue:un,useDeferredValue:un,useTransition:un,useMutableSource:un,useSyncExternalStore:un,useId:un,unstable_isNewReconciler:!1},oI={readContext:Es,useCallback:function(t,e){return rr().memoizedState=[t,e===void 0?null:e],t},useContext:Es,useEffect:s2,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ch(4194308,4,m3.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ch(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ch(4,2,t,e)},useMemo:function(t,e){var n=rr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var s=rr();return e=n!==void 0?n(e):e,s.memoizedState=s.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},s.queue=t,t=t.dispatch=iI.bind(null,Pt,t),[s.memoizedState,t]},useRef:function(t){var e=rr();return t={current:t},e.memoizedState=t},useState:n2,useDebugValue:Uy,useDeferredValue:function(t){return rr().memoizedState=t},useTransition:function(){var t=n2(!1),e=t[0];return t=rI.bind(null,t[1]),rr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var s=Pt,i=rr();if(xt){if(n===void 0)throw Error(Ne(407));n=n()}else{if(n=e(),tn===null)throw Error(Ne(349));Oa&30||a3(s,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,s2(l3.bind(null,s,a,t),[t]),s.flags|=2048,fd(9,o3.bind(null,s,a,n,e),void 0,null),n},useId:function(){var t=rr(),e=tn.identifierPrefix;if(xt){var n=Mr,s=_r;n=(s&~(1<<32-Bs(s)-1)).toString(32)+n,e=":"+e+"R"+n,n=pd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=sI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},lI={readContext:Es,useCallback:g3,useContext:Es,useEffect:Vy,useImperativeHandle:f3,useInsertionEffect:h3,useLayoutEffect:p3,useMemo:x3,useReducer:Df,useRef:u3,useState:function(){return Df(md)},useDebugValue:Uy,useDeferredValue:function(t){var e=_s();return v3(e,Kt.memoizedState,t)},useTransition:function(){var t=Df(md)[0],e=_s().memoizedState;return[t,e]},useMutableSource:r3,useSyncExternalStore:i3,useId:y3,unstable_isNewReconciler:!1},cI={readContext:Es,useCallback:g3,useContext:Es,useEffect:Vy,useImperativeHandle:f3,useInsertionEffect:h3,useLayoutEffect:p3,useMemo:x3,useReducer:$f,useRef:u3,useState:function(){return $f(md)},useDebugValue:Uy,useDeferredValue:function(t){var e=_s();return Kt===null?e.memoizedState=t:v3(e,Kt.memoizedState,t)},useTransition:function(){var t=$f(md)[0],e=_s().memoizedState;return[t,e]},useMutableSource:r3,useSyncExternalStore:i3,useId:y3,unstable_isNewReconciler:!1};function Rs(t,e){if(t&&t.defaultProps){e=Et({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Yx(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:Et({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Tm={isMounted:function(t){return(t=t._reactInternals)?Wa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var s=_n(),i=Ni(t),a=Lr(s,i);a.payload=e,n!=null&&(a.callback=n),e=wi(t,a,i),e!==null&&(Vs(e,t,i,s),kh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=_n(),i=Ni(t),a=Lr(s,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=wi(t,a,i),e!==null&&(Vs(e,t,i,s),kh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=_n(),s=Ni(t),i=Lr(n,s);i.tag=2,e!=null&&(i.callback=e),e=wi(t,i,s),e!==null&&(Vs(e,t,s,n),kh(e,t,s))}};function r2(t,e,n,s,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,a,o):e.prototype&&e.prototype.isPureReactComponent?!od(n,s)||!od(i,a):!0}function N3(t,e,n){var s=!1,i=Ti,a=e.contextType;return typeof a=="object"&&a!==null?a=Es(a):(i=Fn(e)?Aa:jn.current,s=e.contextTypes,a=(s=s!=null)?Zo(t,i):Ti),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Tm,t.stateNode=e,e._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function i2(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&Tm.enqueueReplaceState(e,e.state,null)}function Xx(t,e,n,s){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Oy(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Es(a):(a=Fn(e)?Aa:jn.current,i.context=Zo(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Yx(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Tm.enqueueReplaceState(i,i.state,null),vp(t,n,i,s),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function tl(t,e){try{var n="",s=e;do n+=DA(s),s=s.return;while(s);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function Ff(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Zx(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var dI=typeof WeakMap=="function"?WeakMap:Map;function k3(t,e,n){n=Lr(-1,n),n.tag=3,n.payload={element:null};var s=e.value;return n.callback=function(){Np||(Np=!0,o0=s),Zx(t,e)},n}function S3(t,e,n){n=Lr(-1,n),n.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var i=e.value;n.payload=function(){return s(i)},n.callback=function(){Zx(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Zx(t,e),typeof s!="function"&&(ji===null?ji=new Set([this]):ji.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function a2(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new dI;var i=new Set;s.set(e,i)}else i=s.get(e),i===void 0&&(i=new Set,s.set(e,i));i.has(n)||(i.add(n),t=kI.bind(null,t,e,n),e.then(t,t))}function o2(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function l2(t,e,n,s,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Lr(-1,1),e.tag=2,wi(n,e,1))),n.lanes|=1),t)}var uI=Ur.ReactCurrentOwner,Rn=!1;function Cn(t,e,n,s){e.child=t===null?e3(e,null,n,s):Jo(e,t.child,n,s)}function c2(t,e,n,s,i){n=n.render;var a=e.ref;return Vo(e,i),s=zy(t,e,n,s,a,i),n=By(),t!==null&&!Rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,$r(t,e,i)):(xt&&n&&Ey(e),e.flags|=1,Cn(t,e,s,i),e.child)}function d2(t,e,n,s,i){if(t===null){var a=n.type;return typeof a=="function"&&!Zy(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,C3(t,e,a,s,i)):(t=Mh(n.type,null,s,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:od,n(o,s)&&t.ref===e.ref)return $r(t,e,i)}return e.flags|=1,t=ki(a,s),t.ref=e.ref,t.return=e,e.child=t}function C3(t,e,n,s,i){if(t!==null){var a=t.memoizedProps;if(od(a,s)&&t.ref===e.ref)if(Rn=!1,e.pendingProps=s=a,(t.lanes&i)!==0)t.flags&131072&&(Rn=!0);else return e.lanes=t.lanes,$r(t,e,i)}return Qx(t,e,n,s,i)}function P3(t,e,n){var s=e.pendingProps,i=s.children,a=t!==null?t.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},pt(bo,Yn),Yn|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,pt(bo,Yn),Yn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=a!==null?a.baseLanes:n,pt(bo,Yn),Yn|=s}else a!==null?(s=a.baseLanes|n,e.memoizedState=null):s=n,pt(bo,Yn),Yn|=s;return Cn(t,e,i,n),e.child}function E3(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Qx(t,e,n,s,i){var a=Fn(n)?Aa:jn.current;return a=Zo(e,a),Vo(e,i),n=zy(t,e,n,s,a,i),s=By(),t!==null&&!Rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,$r(t,e,i)):(xt&&s&&Ey(e),e.flags|=1,Cn(t,e,n,i),e.child)}function u2(t,e,n,s,i){if(Fn(n)){var a=!0;pp(e)}else a=!1;if(Vo(e,i),e.stateNode===null)Ph(t,e),N3(e,n,s),Xx(e,n,s,i),s=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Es(d):(d=Fn(n)?Aa:jn.current,d=Zo(e,d));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==d)&&i2(e,o,s,d),ni=!1;var m=e.memoizedState;o.state=m,vp(e,s,o,i),c=e.memoizedState,l!==s||m!==c||$n.current||ni?(typeof u=="function"&&(Yx(e,n,u,s),c=e.memoizedState),(l=ni||r2(e,n,l,s,m,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=c),o.props=s,o.state=c,o.context=d,s=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{o=e.stateNode,n3(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:Rs(e.type,l),o.props=d,h=e.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Es(c):(c=Fn(n)?Aa:jn.current,c=Zo(e,c));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||m!==c)&&i2(e,o,s,c),ni=!1,m=e.memoizedState,o.state=m,vp(e,s,o,i);var x=e.memoizedState;l!==h||m!==x||$n.current||ni?(typeof f=="function"&&(Yx(e,n,f,s),x=e.memoizedState),(d=ni||r2(e,n,d,s,m,x,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,x,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=x),o.props=s,o.state=x,o.context=c,s=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),s=!1)}return Jx(t,e,n,s,a,i)}function Jx(t,e,n,s,i,a){E3(t,e);var o=(e.flags&128)!==0;if(!s&&!o)return i&&Xw(e,n,!1),$r(t,e,a);s=e.stateNode,uI.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,t!==null&&o?(e.child=Jo(e,t.child,null,a),e.child=Jo(e,null,l,a)):Cn(t,e,l,a),e.memoizedState=s.state,i&&Xw(e,n,!0),e.child}function _3(t){var e=t.stateNode;e.pendingContext?Yw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Yw(t,e.context,!1),Ry(t,e.containerInfo)}function h2(t,e,n,s,i){return Qo(),My(i),e.flags|=256,Cn(t,e,n,s),e.child}var e0={dehydrated:null,treeContext:null,retryLane:0};function t0(t){return{baseLanes:t,cachePool:null,transitions:null}}function M3(t,e,n){var s=e.pendingProps,i=jt.current,a=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),pt(jt,i&1),t===null)return Gx(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=s.children,t=s.fallback,a?(s=e.mode,a=e.child,o={mode:"hidden",children:o},!(s&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Im(o,s,0,null),t=ya(t,s,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=t0(n),e.memoizedState=e0,t):Wy(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return hI(t,e,o,s,l,i,n);if(a){a=s.fallback,o=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&e.child!==i?(s=e.child,s.childLanes=0,s.pendingProps=c,e.deletions=null):(s=ki(i,c),s.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=ki(l,a):(a=ya(a,o,n,null),a.flags|=2),a.return=e,s.return=e,s.sibling=a,e.child=s,s=a,a=e.child,o=t.child.memoizedState,o=o===null?t0(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~n,e.memoizedState=e0,s}return a=t.child,t=a.sibling,s=ki(a,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=n),s.return=e,s.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=s,e.memoizedState=null,s}function Wy(t,e){return e=Im({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function _u(t,e,n,s){return s!==null&&My(s),Jo(e,t.child,null,n),t=Wy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function hI(t,e,n,s,i,a,o){if(n)return e.flags&256?(e.flags&=-257,s=Ff(Error(Ne(422))),_u(t,e,o,s)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=s.fallback,i=e.mode,s=Im({mode:"visible",children:s.children},i,0,null),a=ya(a,i,o,null),a.flags|=2,s.return=e,a.return=e,s.sibling=a,e.child=s,e.mode&1&&Jo(e,t.child,null,o),e.child.memoizedState=t0(o),e.memoizedState=e0,a);if(!(e.mode&1))return _u(t,e,o,null);if(i.data==="$!"){if(s=i.nextSibling&&i.nextSibling.dataset,s)var l=s.dgst;return s=l,a=Error(Ne(419)),s=Ff(a,s,void 0),_u(t,e,o,s)}if(l=(o&t.childLanes)!==0,Rn||l){if(s=tn,s!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(s.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Dr(t,i),Vs(s,t,i,-1))}return Xy(),s=Ff(Error(Ne(421))),_u(t,e,o,s)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=SI.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Jn=bi(i.nextSibling),ts=e,xt=!0,zs=null,t!==null&&(xs[vs++]=_r,xs[vs++]=Mr,xs[vs++]=Ia,_r=t.id,Mr=t.overflow,Ia=e),e=Wy(e,s.children),e.flags|=4096,e)}function p2(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),Kx(t.return,e,n)}function zf(t,e,n,s,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=n,a.tailMode=i)}function T3(t,e,n){var s=e.pendingProps,i=s.revealOrder,a=s.tail;if(Cn(t,e,s.children,n),s=jt.current,s&2)s=s&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&p2(t,n,e);else if(t.tag===19)p2(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(pt(jt,s),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&yp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),zf(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&yp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}zf(e,!0,n,null,a);break;case"together":zf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ph(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function $r(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ra|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ne(153));if(e.child!==null){for(t=e.child,n=ki(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ki(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function pI(t,e,n){switch(e.tag){case 3:_3(e),Qo();break;case 5:s3(e);break;case 1:Fn(e.type)&&pp(e);break;case 4:Ry(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,i=e.memoizedProps.value;pt(gp,s._currentValue),s._currentValue=i;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(pt(jt,jt.current&1),e.flags|=128,null):n&e.child.childLanes?M3(t,e,n):(pt(jt,jt.current&1),t=$r(t,e,n),t!==null?t.sibling:null);pt(jt,jt.current&1);break;case 19:if(s=(n&e.childLanes)!==0,t.flags&128){if(s)return T3(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),pt(jt,jt.current),s)break;return null;case 22:case 23:return e.lanes=0,P3(t,e,n)}return $r(t,e,n)}var L3,n0,A3,I3;L3=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};n0=function(){};A3=function(t,e,n,s){var i=t.memoizedProps;if(i!==s){t=e.stateNode,ua(ur.current);var a=null;switch(n){case"input":i=kx(t,i),s=kx(t,s),a=[];break;case"select":i=Et({},i,{value:void 0}),s=Et({},s,{value:void 0}),a=[];break;case"textarea":i=Px(t,i),s=Px(t,s),a=[];break;default:typeof i.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=up)}_x(n,s);var o;n=null;for(d in i)if(!s.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ed.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in s){var c=s[d];if(l=i!=null?i[d]:void 0,s.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ed.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&mt("scroll",t),a||l===c||(a=[])):(a=a||[]).push(d,c))}n&&(a=a||[]).push("style",n);var d=a;(e.updateQueue=d)&&(e.flags|=4)}};I3=function(t,e,n,s){n!==s&&(e.flags|=4)};function Vl(t,e){if(!xt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function hn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags&14680064,s|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function mI(t,e,n){var s=e.pendingProps;switch(_y(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hn(e),null;case 1:return Fn(e.type)&&hp(),hn(e),null;case 3:return s=e.stateNode,el(),ft($n),ft(jn),$y(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Pu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zs!==null&&(d0(zs),zs=null))),n0(t,e),hn(e),null;case 5:Dy(e);var i=ua(hd.current);if(n=e.type,t!==null&&e.stateNode!=null)A3(t,e,n,s,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(Ne(166));return hn(e),null}if(t=ua(ur.current),Pu(e)){s=e.stateNode,n=e.type;var a=e.memoizedProps;switch(s[ar]=e,s[dd]=a,t=(e.mode&1)!==0,n){case"dialog":mt("cancel",s),mt("close",s);break;case"iframe":case"object":case"embed":mt("load",s);break;case"video":case"audio":for(i=0;i<hc.length;i++)mt(hc[i],s);break;case"source":mt("error",s);break;case"img":case"image":case"link":mt("error",s),mt("load",s);break;case"details":mt("toggle",s);break;case"input":jw(s,a),mt("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},mt("invalid",s);break;case"textarea":kw(s,a),mt("invalid",s)}_x(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?s.textContent!==l&&(a.suppressHydrationWarning!==!0&&Cu(s.textContent,l,t),i=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Cu(s.textContent,l,t),i=["children",""+l]):ed.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&mt("scroll",s)}switch(n){case"input":vu(s),Nw(s,a,!0);break;case"textarea":vu(s),Sw(s);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(s.onclick=up)}s=i,e.updateQueue=s,s!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=lC(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=o.createElement(n,{is:s.is}):(t=o.createElement(n),n==="select"&&(o=t,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):t=o.createElementNS(t,n),t[ar]=e,t[dd]=s,L3(t,e,!1,!1),e.stateNode=t;e:{switch(o=Mx(n,s),n){case"dialog":mt("cancel",t),mt("close",t),i=s;break;case"iframe":case"object":case"embed":mt("load",t),i=s;break;case"video":case"audio":for(i=0;i<hc.length;i++)mt(hc[i],t);i=s;break;case"source":mt("error",t),i=s;break;case"img":case"image":case"link":mt("error",t),mt("load",t),i=s;break;case"details":mt("toggle",t),i=s;break;case"input":jw(t,s),i=kx(t,s),mt("invalid",t);break;case"option":i=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},i=Et({},s,{value:void 0}),mt("invalid",t);break;case"textarea":kw(t,s),i=Px(t,s),mt("invalid",t);break;default:i=s}_x(n,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?uC(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&cC(t,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&td(t,c):typeof c=="number"&&td(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ed.hasOwnProperty(a)?c!=null&&a==="onScroll"&&mt("scroll",t):c!=null&&my(t,a,c,o))}switch(n){case"input":vu(t),Nw(t,s,!1);break;case"textarea":vu(t),Sw(t);break;case"option":s.value!=null&&t.setAttribute("value",""+Mi(s.value));break;case"select":t.multiple=!!s.multiple,a=s.value,a!=null?$o(t,!!s.multiple,a,!1):s.defaultValue!=null&&$o(t,!!s.multiple,s.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=up)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return hn(e),null;case 6:if(t&&e.stateNode!=null)I3(t,e,t.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(Ne(166));if(n=ua(hd.current),ua(ur.current),Pu(e)){if(s=e.stateNode,n=e.memoizedProps,s[ar]=e,(a=s.nodeValue!==n)&&(t=ts,t!==null))switch(t.tag){case 3:Cu(s.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Cu(s.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[ar]=e,e.stateNode=s}return hn(e),null;case 13:if(ft(jt),s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(xt&&Jn!==null&&e.mode&1&&!(e.flags&128))QC(),Qo(),e.flags|=98560,a=!1;else if(a=Pu(e),s!==null&&s.dehydrated!==null){if(t===null){if(!a)throw Error(Ne(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Ne(317));a[ar]=e}else Qo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;hn(e),a=!1}else zs!==null&&(d0(zs),zs=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(s=s!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(t===null||jt.current&1?Yt===0&&(Yt=3):Xy())),e.updateQueue!==null&&(e.flags|=4),hn(e),null);case 4:return el(),n0(t,e),t===null&&ld(e.stateNode.containerInfo),hn(e),null;case 10:return Ay(e.type._context),hn(e),null;case 17:return Fn(e.type)&&hp(),hn(e),null;case 19:if(ft(jt),a=e.memoizedState,a===null)return hn(e),null;if(s=(e.flags&128)!==0,o=a.rendering,o===null)if(s)Vl(a,!1);else{if(Yt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=yp(t),o!==null){for(e.flags|=128,Vl(a,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=n,n=e.child;n!==null;)a=n,t=s,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return pt(jt,jt.current&1|2),e.child}t=t.sibling}a.tail!==null&&Ft()>nl&&(e.flags|=128,s=!0,Vl(a,!1),e.lanes=4194304)}else{if(!s)if(t=yp(o),t!==null){if(e.flags|=128,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Vl(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!xt)return hn(e),null}else 2*Ft()-a.renderingStartTime>nl&&n!==1073741824&&(e.flags|=128,s=!0,Vl(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(n=a.last,n!==null?n.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Ft(),e.sibling=null,n=jt.current,pt(jt,s?n&1|2:n&1),e):(hn(e),null);case 22:case 23:return Yy(),s=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?Yn&1073741824&&(hn(e),e.subtreeFlags&6&&(e.flags|=8192)):hn(e),null;case 24:return null;case 25:return null}throw Error(Ne(156,e.tag))}function fI(t,e){switch(_y(e),e.tag){case 1:return Fn(e.type)&&hp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return el(),ft($n),ft(jn),$y(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Dy(e),null;case 13:if(ft(jt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ne(340));Qo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ft(jt),null;case 4:return el(),null;case 10:return Ay(e.type._context),null;case 22:case 23:return Yy(),null;case 24:return null;default:return null}}var Mu=!1,fn=!1,gI=typeof WeakSet=="function"?WeakSet:Set,_e=null;function yo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){It(t,e,s)}else n.current=null}function s0(t,e,n){try{n()}catch(s){It(t,e,s)}}var m2=!1;function xI(t,e){if(zx=lp,t=FC(),Py(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var i=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=t,m=null;t:for(;;){for(var f;h!==n||i!==0&&h.nodeType!==3||(l=o+i),h!==a||s!==0&&h.nodeType!==3||(c=o+s),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)m=h,h=f;for(;;){if(h===t)break t;if(m===n&&++d===i&&(l=o),m===a&&++u===s&&(c=o),(f=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=f}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Bx={focusedElem:t,selectionRange:n},lp=!1,_e=e;_e!==null;)if(e=_e,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,_e=t;else for(;_e!==null;){e=_e;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var g=x.memoizedProps,b=x.memoizedState,y=e.stateNode,v=y.getSnapshotBeforeUpdate(e.elementType===e.type?g:Rs(e.type,g),b);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ne(163))}}catch(N){It(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,_e=t;break}_e=e.return}return x=m2,m2=!1,x}function Tc(t,e,n){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&s0(e,n,a)}i=i.next}while(i!==s)}}function Lm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var s=n.create;n.destroy=s()}n=n.next}while(n!==e)}}function r0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function O3(t){var e=t.alternate;e!==null&&(t.alternate=null,O3(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ar],delete e[dd],delete e[Wx],delete e[J8],delete e[eI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function R3(t){return t.tag===5||t.tag===3||t.tag===4}function f2(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||R3(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function i0(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=up));else if(s!==4&&(t=t.child,t!==null))for(i0(t,e,n),t=t.sibling;t!==null;)i0(t,e,n),t=t.sibling}function a0(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(a0(t,e,n),t=t.sibling;t!==null;)a0(t,e,n),t=t.sibling}var an=null,$s=!1;function qr(t,e,n){for(n=n.child;n!==null;)D3(t,e,n),n=n.sibling}function D3(t,e,n){if(dr&&typeof dr.onCommitFiberUnmount=="function")try{dr.onCommitFiberUnmount(km,n)}catch{}switch(n.tag){case 5:fn||yo(n,e);case 6:var s=an,i=$s;an=null,qr(t,e,n),an=s,$s=i,an!==null&&($s?(t=an,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):an.removeChild(n.stateNode));break;case 18:an!==null&&($s?(t=an,n=n.stateNode,t.nodeType===8?Af(t.parentNode,n):t.nodeType===1&&Af(t,n),id(t)):Af(an,n.stateNode));break;case 4:s=an,i=$s,an=n.stateNode.containerInfo,$s=!0,qr(t,e,n),an=s,$s=i;break;case 0:case 11:case 14:case 15:if(!fn&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){i=s=s.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&s0(n,e,o),i=i.next}while(i!==s)}qr(t,e,n);break;case 1:if(!fn&&(yo(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(l){It(n,e,l)}qr(t,e,n);break;case 21:qr(t,e,n);break;case 22:n.mode&1?(fn=(s=fn)||n.memoizedState!==null,qr(t,e,n),fn=s):qr(t,e,n);break;default:qr(t,e,n)}}function g2(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new gI),e.forEach(function(s){var i=CI.bind(null,t,s);n.has(s)||(n.add(s),s.then(i,i))})}}function Ls(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var i=n[s];try{var a=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:an=l.stateNode,$s=!1;break e;case 3:an=l.stateNode.containerInfo,$s=!0;break e;case 4:an=l.stateNode.containerInfo,$s=!0;break e}l=l.return}if(an===null)throw Error(Ne(160));D3(a,o,i),an=null,$s=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){It(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)$3(e,t),e=e.sibling}function $3(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ls(e,t),Js(t),s&4){try{Tc(3,t,t.return),Lm(3,t)}catch(g){It(t,t.return,g)}try{Tc(5,t,t.return)}catch(g){It(t,t.return,g)}}break;case 1:Ls(e,t),Js(t),s&512&&n!==null&&yo(n,n.return);break;case 5:if(Ls(e,t),Js(t),s&512&&n!==null&&yo(n,n.return),t.flags&32){var i=t.stateNode;try{td(i,"")}catch(g){It(t,t.return,g)}}if(s&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=n!==null?n.memoizedProps:a,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&aC(i,a),Mx(l,o);var d=Mx(l,a);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?uC(i,h):u==="dangerouslySetInnerHTML"?cC(i,h):u==="children"?td(i,h):my(i,u,h,d)}switch(l){case"input":Sx(i,a);break;case"textarea":oC(i,a);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var f=a.value;f!=null?$o(i,!!a.multiple,f,!1):m!==!!a.multiple&&(a.defaultValue!=null?$o(i,!!a.multiple,a.defaultValue,!0):$o(i,!!a.multiple,a.multiple?[]:"",!1))}i[dd]=a}catch(g){It(t,t.return,g)}}break;case 6:if(Ls(e,t),Js(t),s&4){if(t.stateNode===null)throw Error(Ne(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(g){It(t,t.return,g)}}break;case 3:if(Ls(e,t),Js(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{id(e.containerInfo)}catch(g){It(t,t.return,g)}break;case 4:Ls(e,t),Js(t);break;case 13:Ls(e,t),Js(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Gy=Ft())),s&4&&g2(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(fn=(d=fn)||u,Ls(e,t),fn=d):Ls(e,t),Js(t),s&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!u&&t.mode&1)for(_e=t,u=t.child;u!==null;){for(h=_e=u;_e!==null;){switch(m=_e,f=m.child,m.tag){case 0:case 11:case 14:case 15:Tc(4,m,m.return);break;case 1:yo(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){s=m,n=m.return;try{e=s,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(g){It(s,n,g)}}break;case 5:yo(m,m.return);break;case 22:if(m.memoizedState!==null){v2(h);continue}}f!==null?(f.return=m,_e=f):v2(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,d?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=dC("display",o))}catch(g){It(t,t.return,g)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(g){It(t,t.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ls(e,t),Js(t),s&4&&g2(t);break;case 21:break;default:Ls(e,t),Js(t)}}function Js(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(R3(n)){var s=n;break e}n=n.return}throw Error(Ne(160))}switch(s.tag){case 5:var i=s.stateNode;s.flags&32&&(td(i,""),s.flags&=-33);var a=f2(t);a0(t,a,i);break;case 3:case 4:var o=s.stateNode.containerInfo,l=f2(t);i0(t,l,o);break;default:throw Error(Ne(161))}}catch(c){It(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function vI(t,e,n){_e=t,F3(t)}function F3(t,e,n){for(var s=(t.mode&1)!==0;_e!==null;){var i=_e,a=i.child;if(i.tag===22&&s){var o=i.memoizedState!==null||Mu;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||fn;l=Mu;var d=fn;if(Mu=o,(fn=c)&&!d)for(_e=i;_e!==null;)o=_e,c=o.child,o.tag===22&&o.memoizedState!==null?y2(i):c!==null?(c.return=o,_e=c):y2(i);for(;a!==null;)_e=a,F3(a),a=a.sibling;_e=i,Mu=l,fn=d}x2(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,_e=a):x2(t)}}function x2(t){for(;_e!==null;){var e=_e;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:fn||Lm(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!fn)if(n===null)s.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Rs(e.type,n.memoizedProps);s.componentDidUpdate(i,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&t2(e,a,s);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}t2(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&id(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ne(163))}fn||e.flags&512&&r0(e)}catch(m){It(e,e.return,m)}}if(e===t){_e=null;break}if(n=e.sibling,n!==null){n.return=e.return,_e=n;break}_e=e.return}}function v2(t){for(;_e!==null;){var e=_e;if(e===t){_e=null;break}var n=e.sibling;if(n!==null){n.return=e.return,_e=n;break}_e=e.return}}function y2(t){for(;_e!==null;){var e=_e;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Lm(4,e)}catch(c){It(e,n,c)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var i=e.return;try{s.componentDidMount()}catch(c){It(e,i,c)}}var a=e.return;try{r0(e)}catch(c){It(e,a,c)}break;case 5:var o=e.return;try{r0(e)}catch(c){It(e,o,c)}}}catch(c){It(e,e.return,c)}if(e===t){_e=null;break}var l=e.sibling;if(l!==null){l.return=e.return,_e=l;break}_e=e.return}}var yI=Math.ceil,jp=Ur.ReactCurrentDispatcher,Hy=Ur.ReactCurrentOwner,Cs=Ur.ReactCurrentBatchConfig,Je=0,tn=null,Wt=null,ln=0,Yn=0,bo=Fi(0),Yt=0,gd=null,Ra=0,Am=0,qy=0,Lc=null,On=null,Gy=0,nl=1/0,kr=null,Np=!1,o0=null,ji=null,Tu=!1,ci=null,kp=0,Ac=0,l0=null,Eh=-1,_h=0;function _n(){return Je&6?Ft():Eh!==-1?Eh:Eh=Ft()}function Ni(t){return t.mode&1?Je&2&&ln!==0?ln&-ln:nI.transition!==null?(_h===0&&(_h=NC()),_h):(t=rt,t!==0||(t=window.event,t=t===void 0?16:MC(t.type)),t):1}function Vs(t,e,n,s){if(50<Ac)throw Ac=0,l0=null,Error(Ne(185));Kd(t,n,s),(!(Je&2)||t!==tn)&&(t===tn&&(!(Je&2)&&(Am|=n),Yt===4&&ai(t,ln)),zn(t,s),n===1&&Je===0&&!(e.mode&1)&&(nl=Ft()+500,_m&&zi()))}function zn(t,e){var n=t.callbackNode;n8(t,e);var s=op(t,t===tn?ln:0);if(s===0)n!==null&&Ew(n),t.callbackNode=null,t.callbackPriority=0;else if(e=s&-s,t.callbackPriority!==e){if(n!=null&&Ew(n),e===1)t.tag===0?tI(b2.bind(null,t)):YC(b2.bind(null,t)),Z8(function(){!(Je&6)&&zi()}),n=null;else{switch(kC(s)){case 1:n=yy;break;case 4:n=wC;break;case 16:n=ap;break;case 536870912:n=jC;break;default:n=ap}n=G3(n,z3.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function z3(t,e){if(Eh=-1,_h=0,Je&6)throw Error(Ne(327));var n=t.callbackNode;if(Uo()&&t.callbackNode!==n)return null;var s=op(t,t===tn?ln:0);if(s===0)return null;if(s&30||s&t.expiredLanes||e)e=Sp(t,s);else{e=s;var i=Je;Je|=2;var a=V3();(tn!==t||ln!==e)&&(kr=null,nl=Ft()+500,va(t,e));do try{jI();break}catch(l){B3(t,l)}while(!0);Ly(),jp.current=a,Je=i,Wt!==null?e=0:(tn=null,ln=0,e=Yt)}if(e!==0){if(e===2&&(i=Ox(t),i!==0&&(s=i,e=c0(t,i))),e===1)throw n=gd,va(t,0),ai(t,s),zn(t,Ft()),n;if(e===6)ai(t,s);else{if(i=t.current.alternate,!(s&30)&&!bI(i)&&(e=Sp(t,s),e===2&&(a=Ox(t),a!==0&&(s=a,e=c0(t,a))),e===1))throw n=gd,va(t,0),ai(t,s),zn(t,Ft()),n;switch(t.finishedWork=i,t.finishedLanes=s,e){case 0:case 1:throw Error(Ne(345));case 2:ea(t,On,kr);break;case 3:if(ai(t,s),(s&130023424)===s&&(e=Gy+500-Ft(),10<e)){if(op(t,0)!==0)break;if(i=t.suspendedLanes,(i&s)!==s){_n(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ux(ea.bind(null,t,On,kr),e);break}ea(t,On,kr);break;case 4:if(ai(t,s),(s&4194240)===s)break;for(e=t.eventTimes,i=-1;0<s;){var o=31-Bs(s);a=1<<o,o=e[o],o>i&&(i=o),s&=~a}if(s=i,s=Ft()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*yI(s/1960))-s,10<s){t.timeoutHandle=Ux(ea.bind(null,t,On,kr),s);break}ea(t,On,kr);break;case 5:ea(t,On,kr);break;default:throw Error(Ne(329))}}}return zn(t,Ft()),t.callbackNode===n?z3.bind(null,t):null}function c0(t,e){var n=Lc;return t.current.memoizedState.isDehydrated&&(va(t,e).flags|=256),t=Sp(t,e),t!==2&&(e=On,On=n,e!==null&&d0(e)),t}function d0(t){On===null?On=t:On.push.apply(On,t)}function bI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var i=n[s],a=i.getSnapshot;i=i.value;try{if(!Ws(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ai(t,e){for(e&=~qy,e&=~Am,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Bs(e),s=1<<n;t[n]=-1,e&=~s}}function b2(t){if(Je&6)throw Error(Ne(327));Uo();var e=op(t,0);if(!(e&1))return zn(t,Ft()),null;var n=Sp(t,e);if(t.tag!==0&&n===2){var s=Ox(t);s!==0&&(e=s,n=c0(t,s))}if(n===1)throw n=gd,va(t,0),ai(t,e),zn(t,Ft()),n;if(n===6)throw Error(Ne(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ea(t,On,kr),zn(t,Ft()),null}function Ky(t,e){var n=Je;Je|=1;try{return t(e)}finally{Je=n,Je===0&&(nl=Ft()+500,_m&&zi())}}function Da(t){ci!==null&&ci.tag===0&&!(Je&6)&&Uo();var e=Je;Je|=1;var n=Cs.transition,s=rt;try{if(Cs.transition=null,rt=1,t)return t()}finally{rt=s,Cs.transition=n,Je=e,!(Je&6)&&zi()}}function Yy(){Yn=bo.current,ft(bo)}function va(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,X8(n)),Wt!==null)for(n=Wt.return;n!==null;){var s=n;switch(_y(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&hp();break;case 3:el(),ft($n),ft(jn),$y();break;case 5:Dy(s);break;case 4:el();break;case 13:ft(jt);break;case 19:ft(jt);break;case 10:Ay(s.type._context);break;case 22:case 23:Yy()}n=n.return}if(tn=t,Wt=t=ki(t.current,null),ln=Yn=e,Yt=0,gd=null,qy=Am=Ra=0,On=Lc=null,da!==null){for(e=0;e<da.length;e++)if(n=da[e],s=n.interleaved,s!==null){n.interleaved=null;var i=s.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,s.next=o}n.pending=s}da=null}return t}function B3(t,e){do{var n=Wt;try{if(Ly(),Sh.current=wp,bp){for(var s=Pt.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}bp=!1}if(Oa=0,en=Kt=Pt=null,Mc=!1,pd=0,Hy.current=null,n===null||n.return===null){Yt=1,gd=e,Wt=null;break}e:{var a=t,o=n.return,l=n,c=e;if(e=ln,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=o2(o);if(f!==null){f.flags&=-257,l2(f,o,l,a,e),f.mode&1&&a2(a,d,e),e=f,c=d;var x=e.updateQueue;if(x===null){var g=new Set;g.add(c),e.updateQueue=g}else x.add(c);break e}else{if(!(e&1)){a2(a,d,e),Xy();break e}c=Error(Ne(426))}}else if(xt&&l.mode&1){var b=o2(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),l2(b,o,l,a,e),My(tl(c,l));break e}}a=c=tl(c,l),Yt!==4&&(Yt=2),Lc===null?Lc=[a]:Lc.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var y=k3(a,c,e);e2(a,y);break e;case 1:l=c;var v=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ji===null||!ji.has(w)))){a.flags|=65536,e&=-e,a.lanes|=e;var N=S3(a,l,e);e2(a,N);break e}}a=a.return}while(a!==null)}W3(n)}catch(j){e=j,Wt===n&&n!==null&&(Wt=n=n.return);continue}break}while(!0)}function V3(){var t=jp.current;return jp.current=wp,t===null?wp:t}function Xy(){(Yt===0||Yt===3||Yt===2)&&(Yt=4),tn===null||!(Ra&268435455)&&!(Am&268435455)||ai(tn,ln)}function Sp(t,e){var n=Je;Je|=2;var s=V3();(tn!==t||ln!==e)&&(kr=null,va(t,e));do try{wI();break}catch(i){B3(t,i)}while(!0);if(Ly(),Je=n,jp.current=s,Wt!==null)throw Error(Ne(261));return tn=null,ln=0,Yt}function wI(){for(;Wt!==null;)U3(Wt)}function jI(){for(;Wt!==null&&!GA();)U3(Wt)}function U3(t){var e=q3(t.alternate,t,Yn);t.memoizedProps=t.pendingProps,e===null?W3(t):Wt=e,Hy.current=null}function W3(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=fI(n,e),n!==null){n.flags&=32767,Wt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Yt=6,Wt=null;return}}else if(n=mI(n,e,Yn),n!==null){Wt=n;return}if(e=e.sibling,e!==null){Wt=e;return}Wt=e=t}while(e!==null);Yt===0&&(Yt=5)}function ea(t,e,n){var s=rt,i=Cs.transition;try{Cs.transition=null,rt=1,NI(t,e,n,s)}finally{Cs.transition=i,rt=s}return null}function NI(t,e,n,s){do Uo();while(ci!==null);if(Je&6)throw Error(Ne(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Ne(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(s8(t,a),t===tn&&(Wt=tn=null,ln=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Tu||(Tu=!0,G3(ap,function(){return Uo(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Cs.transition,Cs.transition=null;var o=rt;rt=1;var l=Je;Je|=4,Hy.current=null,xI(t,n),$3(n,t),U8(Bx),lp=!!zx,Bx=zx=null,t.current=n,vI(n),KA(),Je=l,rt=o,Cs.transition=a}else t.current=n;if(Tu&&(Tu=!1,ci=t,kp=i),a=t.pendingLanes,a===0&&(ji=null),ZA(n.stateNode),zn(t,Ft()),e!==null)for(s=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],s(i.value,{componentStack:i.stack,digest:i.digest});if(Np)throw Np=!1,t=o0,o0=null,t;return kp&1&&t.tag!==0&&Uo(),a=t.pendingLanes,a&1?t===l0?Ac++:(Ac=0,l0=t):Ac=0,zi(),null}function Uo(){if(ci!==null){var t=kC(kp),e=Cs.transition,n=rt;try{if(Cs.transition=null,rt=16>t?16:t,ci===null)var s=!1;else{if(t=ci,ci=null,kp=0,Je&6)throw Error(Ne(331));var i=Je;for(Je|=4,_e=t.current;_e!==null;){var a=_e,o=a.child;if(_e.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(_e=d;_e!==null;){var u=_e;switch(u.tag){case 0:case 11:case 15:Tc(8,u,a)}var h=u.child;if(h!==null)h.return=u,_e=h;else for(;_e!==null;){u=_e;var m=u.sibling,f=u.return;if(O3(u),u===d){_e=null;break}if(m!==null){m.return=f,_e=m;break}_e=f}}}var x=a.alternate;if(x!==null){var g=x.child;if(g!==null){x.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}_e=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,_e=o;else e:for(;_e!==null;){if(a=_e,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Tc(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,_e=y;break e}_e=a.return}}var v=t.current;for(_e=v;_e!==null;){o=_e;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,_e=w;else e:for(o=v;_e!==null;){if(l=_e,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Lm(9,l)}}catch(j){It(l,l.return,j)}if(l===o){_e=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,_e=N;break e}_e=l.return}}if(Je=i,zi(),dr&&typeof dr.onPostCommitFiberRoot=="function")try{dr.onPostCommitFiberRoot(km,t)}catch{}s=!0}return s}finally{rt=n,Cs.transition=e}}return!1}function w2(t,e,n){e=tl(n,e),e=k3(t,e,1),t=wi(t,e,1),e=_n(),t!==null&&(Kd(t,1,e),zn(t,e))}function It(t,e,n){if(t.tag===3)w2(t,t,n);else for(;e!==null;){if(e.tag===3){w2(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ji===null||!ji.has(s))){t=tl(n,t),t=S3(e,t,1),e=wi(e,t,1),t=_n(),e!==null&&(Kd(e,1,t),zn(e,t));break}}e=e.return}}function kI(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),e=_n(),t.pingedLanes|=t.suspendedLanes&n,tn===t&&(ln&n)===n&&(Yt===4||Yt===3&&(ln&130023424)===ln&&500>Ft()-Gy?va(t,0):qy|=n),zn(t,e)}function H3(t,e){e===0&&(t.mode&1?(e=wu,wu<<=1,!(wu&130023424)&&(wu=4194304)):e=1);var n=_n();t=Dr(t,e),t!==null&&(Kd(t,e,n),zn(t,n))}function SI(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),H3(t,n)}function CI(t,e){var n=0;switch(t.tag){case 13:var s=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(Ne(314))}s!==null&&s.delete(e),H3(t,n)}var q3;q3=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||$n.current)Rn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Rn=!1,pI(t,e,n);Rn=!!(t.flags&131072)}else Rn=!1,xt&&e.flags&1048576&&XC(e,fp,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;Ph(t,e),t=e.pendingProps;var i=Zo(e,jn.current);Vo(e,n),i=zy(null,e,s,t,i,n);var a=By();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Fn(s)?(a=!0,pp(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Oy(e),i.updater=Tm,e.stateNode=i,i._reactInternals=e,Xx(e,s,t,n),e=Jx(null,e,s,!0,a,n)):(e.tag=0,xt&&a&&Ey(e),Cn(null,e,i,n),e=e.child),e;case 16:s=e.elementType;e:{switch(Ph(t,e),t=e.pendingProps,i=s._init,s=i(s._payload),e.type=s,i=e.tag=EI(s),t=Rs(s,t),i){case 0:e=Qx(null,e,s,t,n);break e;case 1:e=u2(null,e,s,t,n);break e;case 11:e=c2(null,e,s,t,n);break e;case 14:e=d2(null,e,s,Rs(s.type,t),n);break e}throw Error(Ne(306,s,""))}return e;case 0:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:Rs(s,i),Qx(t,e,s,i,n);case 1:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:Rs(s,i),u2(t,e,s,i,n);case 3:e:{if(_3(e),t===null)throw Error(Ne(387));s=e.pendingProps,a=e.memoizedState,i=a.element,n3(t,e),vp(e,s,null,n);var o=e.memoizedState;if(s=o.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=tl(Error(Ne(423)),e),e=h2(t,e,s,n,i);break e}else if(s!==i){i=tl(Error(Ne(424)),e),e=h2(t,e,s,n,i);break e}else for(Jn=bi(e.stateNode.containerInfo.firstChild),ts=e,xt=!0,zs=null,n=e3(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qo(),s===i){e=$r(t,e,n);break e}Cn(t,e,s,n)}e=e.child}return e;case 5:return s3(e),t===null&&Gx(e),s=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,Vx(s,i)?o=null:a!==null&&Vx(s,a)&&(e.flags|=32),E3(t,e),Cn(t,e,o,n),e.child;case 6:return t===null&&Gx(e),null;case 13:return M3(t,e,n);case 4:return Ry(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=Jo(e,null,s,n):Cn(t,e,s,n),e.child;case 11:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:Rs(s,i),c2(t,e,s,i,n);case 7:return Cn(t,e,e.pendingProps,n),e.child;case 8:return Cn(t,e,e.pendingProps.children,n),e.child;case 12:return Cn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(s=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,pt(gp,s._currentValue),s._currentValue=o,a!==null)if(Ws(a.value,o)){if(a.children===i.children&&!$n.current){e=$r(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(a.tag===1){c=Lr(-1,n&-n),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),Kx(a.return,n,e),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(Ne(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Kx(o,n,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Cn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,s=e.pendingProps.children,Vo(e,n),i=Es(i),s=s(i),e.flags|=1,Cn(t,e,s,n),e.child;case 14:return s=e.type,i=Rs(s,e.pendingProps),i=Rs(s.type,i),d2(t,e,s,i,n);case 15:return C3(t,e,e.type,e.pendingProps,n);case 17:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:Rs(s,i),Ph(t,e),e.tag=1,Fn(s)?(t=!0,pp(e)):t=!1,Vo(e,n),N3(e,s,i),Xx(e,s,i,n),Jx(null,e,s,!0,t,n);case 19:return T3(t,e,n);case 22:return P3(t,e,n)}throw Error(Ne(156,e.tag))};function G3(t,e){return bC(t,e)}function PI(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bs(t,e,n,s){return new PI(t,e,n,s)}function Zy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function EI(t){if(typeof t=="function")return Zy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===gy)return 11;if(t===xy)return 14}return 2}function ki(t,e){var n=t.alternate;return n===null?(n=bs(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Mh(t,e,n,s,i,a){var o=2;if(s=t,typeof t=="function")Zy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case co:return ya(n.children,i,a,e);case fy:o=8,i|=8;break;case bx:return t=bs(12,n,e,i|2),t.elementType=bx,t.lanes=a,t;case wx:return t=bs(13,n,e,i),t.elementType=wx,t.lanes=a,t;case jx:return t=bs(19,n,e,i),t.elementType=jx,t.lanes=a,t;case sC:return Im(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case tC:o=10;break e;case nC:o=9;break e;case gy:o=11;break e;case xy:o=14;break e;case ti:o=16,s=null;break e}throw Error(Ne(130,t==null?t:typeof t,""))}return e=bs(o,n,e,i),e.elementType=t,e.type=s,e.lanes=a,e}function ya(t,e,n,s){return t=bs(7,t,s,e),t.lanes=n,t}function Im(t,e,n,s){return t=bs(22,t,s,e),t.elementType=sC,t.lanes=n,t.stateNode={isHidden:!1},t}function Bf(t,e,n){return t=bs(6,t,null,e),t.lanes=n,t}function Vf(t,e,n){return e=bs(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function _I(t,e,n,s,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jf(0),this.expirationTimes=jf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jf(0),this.identifierPrefix=s,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Qy(t,e,n,s,i,a,o,l,c){return t=new _I(t,e,n,l,c),e===1?(e=1,a===!0&&(e|=8)):e=0,a=bs(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oy(a),t}function MI(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:lo,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}function K3(t){if(!t)return Ti;t=t._reactInternals;e:{if(Wa(t)!==t||t.tag!==1)throw Error(Ne(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Fn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ne(171))}if(t.tag===1){var n=t.type;if(Fn(n))return KC(t,n,e)}return e}function Y3(t,e,n,s,i,a,o,l,c){return t=Qy(n,s,!0,t,i,a,o,l,c),t.context=K3(null),n=t.current,s=_n(),i=Ni(n),a=Lr(s,i),a.callback=e??null,wi(n,a,i),t.current.lanes=i,Kd(t,i,s),zn(t,s),t}function Om(t,e,n,s){var i=e.current,a=_n(),o=Ni(i);return n=K3(n),e.context===null?e.context=n:e.pendingContext=n,e=Lr(a,o),e.payload={element:t},s=s===void 0?null:s,s!==null&&(e.callback=s),t=wi(i,e,o),t!==null&&(Vs(t,i,o,a),kh(t,i,o)),o}function Cp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function j2(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Jy(t,e){j2(t,e),(t=t.alternate)&&j2(t,e)}function TI(){return null}var X3=typeof reportError=="function"?reportError:function(t){console.error(t)};function eb(t){this._internalRoot=t}Rm.prototype.render=eb.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ne(409));Om(t,e,null,null)};Rm.prototype.unmount=eb.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Da(function(){Om(null,t,null,null)}),e[Rr]=null}};function Rm(t){this._internalRoot=t}Rm.prototype.unstable_scheduleHydration=function(t){if(t){var e=PC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ii.length&&e!==0&&e<ii[n].priority;n++);ii.splice(n,0,t),n===0&&_C(t)}};function tb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Dm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function N2(){}function LI(t,e,n,s,i){if(i){if(typeof s=="function"){var a=s;s=function(){var d=Cp(o);a.call(d)}}var o=Y3(e,s,t,0,null,!1,!1,"",N2);return t._reactRootContainer=o,t[Rr]=o.current,ld(t.nodeType===8?t.parentNode:t),Da(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof s=="function"){var l=s;s=function(){var d=Cp(c);l.call(d)}}var c=Qy(t,0,!1,null,null,!1,!1,"",N2);return t._reactRootContainer=c,t[Rr]=c.current,ld(t.nodeType===8?t.parentNode:t),Da(function(){Om(e,c,n,s)}),c}function $m(t,e,n,s,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=Cp(o);l.call(c)}}Om(e,o,t,i)}else o=LI(n,e,t,i,s);return Cp(o)}SC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=uc(e.pendingLanes);n!==0&&(by(e,n|1),zn(e,Ft()),!(Je&6)&&(nl=Ft()+500,zi()))}break;case 13:Da(function(){var s=Dr(t,1);if(s!==null){var i=_n();Vs(s,t,1,i)}}),Jy(t,1)}};wy=function(t){if(t.tag===13){var e=Dr(t,134217728);if(e!==null){var n=_n();Vs(e,t,134217728,n)}Jy(t,134217728)}};CC=function(t){if(t.tag===13){var e=Ni(t),n=Dr(t,e);if(n!==null){var s=_n();Vs(n,t,e,s)}Jy(t,e)}};PC=function(){return rt};EC=function(t,e){var n=rt;try{return rt=t,e()}finally{rt=n}};Lx=function(t,e,n){switch(e){case"input":if(Sx(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var i=Em(s);if(!i)throw Error(Ne(90));iC(s),Sx(s,i)}}}break;case"textarea":oC(t,n);break;case"select":e=n.value,e!=null&&$o(t,!!n.multiple,e,!1)}};mC=Ky;fC=Da;var AI={usingClientEntryPoint:!1,Events:[Xd,mo,Em,hC,pC,Ky]},Ul={findFiberByHostInstance:ca,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},II={bundleType:Ul.bundleType,version:Ul.version,rendererPackageName:Ul.rendererPackageName,rendererConfig:Ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ur.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=vC(t),t===null?null:t.stateNode},findFiberByHostInstance:Ul.findFiberByHostInstance||TI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lu.isDisabled&&Lu.supportsFiber)try{km=Lu.inject(II),dr=Lu}catch{}}os.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AI;os.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tb(e))throw Error(Ne(200));return MI(t,e,null,n)};os.createRoot=function(t,e){if(!tb(t))throw Error(Ne(299));var n=!1,s="",i=X3;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Qy(t,1,!1,null,null,n,!1,s,i),t[Rr]=e.current,ld(t.nodeType===8?t.parentNode:t),new eb(e)};os.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ne(188)):(t=Object.keys(t).join(","),Error(Ne(268,t)));return t=vC(e),t=t===null?null:t.stateNode,t};os.flushSync=function(t){return Da(t)};os.hydrate=function(t,e,n){if(!Dm(e))throw Error(Ne(200));return $m(null,t,e,!0,n)};os.hydrateRoot=function(t,e,n){if(!tb(t))throw Error(Ne(405));var s=n!=null&&n.hydratedSources||null,i=!1,a="",o=X3;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Y3(e,null,t,1,n??null,i,!1,a,o),t[Rr]=e.current,ld(t),s)for(t=0;t<s.length;t++)n=s[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Rm(e)};os.render=function(t,e,n){if(!Dm(e))throw Error(Ne(200));return $m(null,t,e,!1,n)};os.unmountComponentAtNode=function(t){if(!Dm(t))throw Error(Ne(40));return t._reactRootContainer?(Da(function(){$m(null,null,t,!1,function(){t._reactRootContainer=null,t[Rr]=null})}),!0):!1};os.unstable_batchedUpdates=Ky;os.unstable_renderSubtreeIntoContainer=function(t,e,n,s){if(!Dm(n))throw Error(Ne(200));if(t==null||t._reactInternals===void 0)throw Error(Ne(38));return $m(t,e,n,!1,s)};os.version="18.3.1-next-f1338f8080-20240426";function Z3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Z3)}catch(t){console.error(t)}}Z3(),ZS.exports=os;var Bi=ZS.exports,k2=Bi;vx.createRoot=k2.createRoot,vx.hydrateRoot=k2.hydrateRoot;function OI(t={}){const{strict:e=!0,errorMessage:n="useContext: `context` is undefined. Seems you forgot to wrap component within the Provider",name:s}=t,i=p.createContext(void 0);i.displayName=s;function a(){var o;const l=p.useContext(i);if(!l&&e){const c=new Error(n);throw c.name="ContextError",(o=Error.captureStackTrace)==null||o.call(Error,c,a),c}return l}return[i.Provider,a,i]}var[RI,Oie]=OI({name:"ProviderContext",strict:!1});const DI=new Set(["Arab","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),$I=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]);function Q3(t){if(Intl.Locale){let n=new Intl.Locale(t).maximize(),s=typeof n.getTextInfo=="function"?n.getTextInfo():n.textInfo;if(s)return s.direction==="rtl";if(n.script)return DI.has(n.script)}let e=t.split("-")[0];return $I.has(e)}const J3={prefix:String(Math.round(Math.random()*1e10)),current:0},eP=Fe.createContext(J3),FI=Fe.createContext(!1);let Uf=new WeakMap;function zI(t=!1){let e=p.useContext(eP),n=p.useRef(null);if(n.current===null&&!t){var s,i;let a=(i=Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||i===void 0||(s=i.ReactCurrentOwner)===null||s===void 0?void 0:s.current;if(a){let o=Uf.get(a);o==null?Uf.set(a,{id:e.current,state:a.memoizedState}):a.memoizedState!==o.state&&(e.current=o.id,Uf.delete(a))}n.current=++e.current}return n.current}function BI(t){let e=p.useContext(eP),n=zI(!!t),s=`react-aria${e.prefix}`;return t||`${s}-${n}`}function VI(t){let e=Fe.useId(),[n]=p.useState(tP()),s=n?"react-aria":`react-aria${J3.prefix}`;return t||`${s}-${e}`}Fe.useId;function UI(){return!1}function WI(){return!0}function HI(t){return()=>{}}function tP(){return typeof Fe.useSyncExternalStore=="function"?Fe.useSyncExternalStore(HI,UI,WI):p.useContext(FI)}const qI=Symbol.for("react-aria.i18n.locale");function nP(){let t=typeof window<"u"&&window[qI]||typeof navigator<"u"&&(navigator.language||navigator.userLanguage)||"en-US";try{Intl.DateTimeFormat.supportedLocalesOf([t])}catch{t="en-US"}return{locale:t,direction:Q3(t)?"rtl":"ltr"}}let u0=nP(),pc=new Set;function S2(){u0=nP();for(let t of pc)t(u0)}function GI(){let t=tP(),[e,n]=p.useState(u0);return p.useEffect(()=>(pc.size===0&&window.addEventListener("languagechange",S2),pc.add(n),()=>{pc.delete(n),pc.size===0&&window.removeEventListener("languagechange",S2)}),[]),t?{locale:"en-US",direction:"ltr"}:e}const KI=Fe.createContext(null);function YI(t){let{locale:e,children:n}=t,s=GI(),i=Fe.useMemo(()=>e?{locale:e,direction:Q3(e)?"rtl":"ltr"}:s,[s,e]);return Fe.createElement(KI.Provider,{value:i},n)}function Ha(t,e,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((s=s.apply(t,e||[])).next())})}function XI(t){if(ZI())t.focus({preventScroll:!0});else{let e=QI(t);t.focus(),JI(e)}}let Au=null;function ZI(){if(Au==null){Au=!1;try{document.createElement("div").focus({get preventScroll(){return Au=!0,!0}})}catch{}}return Au}function QI(t){let e=t.parentNode,n=[],s=document.scrollingElement||document.documentElement;for(;e instanceof HTMLElement&&e!==s;)(e.offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)&&n.push({element:e,scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}),e=e.parentNode;return s instanceof HTMLElement&&n.push({element:s,scrollTop:s.scrollTop,scrollLeft:s.scrollLeft}),n}function JI(t){for(let{element:e,scrollTop:n,scrollLeft:s}of t)e.scrollTop=n,e.scrollLeft=s}function nb(t){var e;if(typeof window>"u"||window.navigator==null)return!1;let n=(e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands;return Array.isArray(n)&&n.some(s=>t.test(s.brand))||t.test(window.navigator.userAgent)}function sP(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function Qd(t){let e=null;return()=>(e==null&&(e=t()),e)}const h0=Qd(function(){return sP(/^Mac/i)}),eO=Qd(function(){return sP(/^iPad/i)||h0()&&navigator.maxTouchPoints>1}),tO=Qd(function(){return nb(/AppleWebKit/i)&&!nO()}),nO=Qd(function(){return nb(/Chrome/i)}),sO=Qd(function(){return nb(/Firefox/i)}),rO=p.createContext({isNative:!0,open:oO,useHref:t=>t});function iO(t){let{children:e,navigate:n,useHref:s}=t,i=p.useMemo(()=>({isNative:!1,open:(a,o,l,c)=>{rP(a,d=>{aO(d,o)?n(l,c):xd(d,o)})},useHref:s||(a=>a)}),[n,s]);return Fe.createElement(rO.Provider,{value:i},e)}function aO(t,e){let n=t.getAttribute("target");return(!n||n==="_self")&&t.origin===location.origin&&!t.hasAttribute("download")&&!e.metaKey&&!e.ctrlKey&&!e.altKey&&!e.shiftKey}function xd(t,e,n=!0){var s,i;let{metaKey:a,ctrlKey:o,altKey:l,shiftKey:c}=e;sO()&&(!((i=window.event)===null||i===void 0||(s=i.type)===null||s===void 0)&&s.startsWith("key"))&&t.target==="_blank"&&(h0()?a=!0:o=!0);let d=tO()&&h0()&&!eO()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:a,ctrlKey:o,altKey:l,shiftKey:c}):new MouseEvent("click",{metaKey:a,ctrlKey:o,altKey:l,shiftKey:c,bubbles:!0,cancelable:!0});xd.isOpening=n,XI(t),t.dispatchEvent(d),xd.isOpening=!1}xd.isOpening=!1;function rP(t,e){if(t instanceof HTMLAnchorElement)e(t);else if(t.hasAttribute("data-href")){let n=document.createElement("a");n.href=t.getAttribute("data-href"),t.hasAttribute("data-target")&&(n.target=t.getAttribute("data-target")),t.hasAttribute("data-rel")&&(n.rel=t.getAttribute("data-rel")),t.hasAttribute("data-download")&&(n.download=t.getAttribute("data-download")),t.hasAttribute("data-ping")&&(n.ping=t.getAttribute("data-ping")),t.hasAttribute("data-referrer-policy")&&(n.referrerPolicy=t.getAttribute("data-referrer-policy")),t.appendChild(n),e(n),t.removeChild(n)}}function oO(t,e){rP(t,n=>xd(n,e))}const sb=p.createContext({});function qa(t){const e=p.useRef(null);return e.current===null&&(e.current=t()),e.current}const Fm=p.createContext(null),sl=p.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class lO extends p.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function cO({children:t,isPresent:e}){const n=p.useId(),s=p.useRef(null),i=p.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=p.useContext(sl);return p.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:d}=i.current;if(e||!s.current||!o||!l)return;s.current.dataset.motionPopId=n;const u=document.createElement("style");return a&&(u.nonce=a),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${d}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),r.jsx(lO,{isPresent:e,childRef:s,sizeRef:i,children:p.cloneElement(t,{ref:s})})}const dO=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:i,presenceAffectsLayout:a,mode:o})=>{const l=qa(uO),c=p.useId(),d=p.useCallback(h=>{l.set(h,!0);for(const m of l.values())if(!m)return;s&&s()},[l,s]),u=p.useMemo(()=>({id:c,initial:e,isPresent:n,custom:i,onExitComplete:d,register:h=>(l.set(h,!1),()=>l.delete(h))}),a?[Math.random(),d]:[n,d]);return p.useMemo(()=>{l.forEach((h,m)=>l.set(m,!1))},[n]),p.useEffect(()=>{!n&&!l.size&&s&&s()},[n]),o==="popLayout"&&(t=r.jsx(cO,{isPresent:n,children:t})),r.jsx(Fm.Provider,{value:u,children:t})};function uO(){return new Map}function iP(t=!0){const e=p.useContext(Fm);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:i}=e,a=p.useId();p.useEffect(()=>{t&&i(a)},[t]);const o=p.useCallback(()=>t&&s&&s(a),[a,s,t]);return!n&&s?[!1,o]:[!0]}const Iu=t=>t.key||"";function C2(t){const e=[];return p.Children.forEach(t,n=>{p.isValidElement(n)&&e.push(n)}),e}const rb=typeof window<"u",zm=rb?p.useLayoutEffect:p.useEffect,ib=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:a="sync",propagate:o=!1})=>{const[l,c]=iP(o),d=p.useMemo(()=>C2(t),[t]),u=o&&!l?[]:d.map(Iu),h=p.useRef(!0),m=p.useRef(d),f=qa(()=>new Map),[x,g]=p.useState(d),[b,y]=p.useState(d);zm(()=>{h.current=!1,m.current=d;for(let N=0;N<b.length;N++){const j=Iu(b[N]);u.includes(j)?f.delete(j):f.get(j)!==!0&&f.set(j,!1)}},[b,u.length,u.join("-")]);const v=[];if(d!==x){let N=[...d];for(let j=0;j<b.length;j++){const k=b[j],P=Iu(k);u.includes(P)||(N.splice(j,0,k),v.push(k))}a==="wait"&&v.length&&(N=v),y(C2(N)),g(d);return}const{forceRender:w}=p.useContext(sb);return r.jsx(r.Fragment,{children:b.map(N=>{const j=Iu(N),k=o&&!l?!1:d===b||u.includes(j),P=()=>{if(f.has(j))f.set(j,!0);else return;let S=!0;f.forEach(E=>{E||(S=!1)}),S&&(w==null||w(),y(m.current),o&&(c==null||c()),s&&s())};return r.jsx(dO,{isPresent:k,initial:!h.current||n?void 0:!1,custom:k?void 0:e,presenceAffectsLayout:i,mode:a,onExitComplete:k?void 0:P,children:N},j)})})},Mn=t=>t;let hO=Mn,aP=Mn;function ab(t){let e;return()=>(e===void 0&&(e=t()),e)}const $a=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s},Ar=t=>t*1e3,Ir=t=>t/1e3,ob={skipAnimations:!1,useManualTiming:!1};function pO(t){let e=new Set,n=new Set,s=!1,i=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(d){a.has(d)&&(c.schedule(d),t()),d(o)}const c={schedule:(d,u=!1,h=!1)=>{const f=h&&s?e:n;return u&&a.add(d),f.has(d)||f.add(d),d},cancel:d=>{n.delete(d),a.delete(d)},process:d=>{if(o=d,s){i=!0;return}s=!0,[e,n]=[n,e],e.forEach(l),e.clear(),s=!1,i&&(i=!1,c.process(d))}};return c}const Ou=["read","resolveKeyframes","update","preRender","render","postRender"],mO=40;function oP(t,e){let n=!1,s=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=Ou.reduce((y,v)=>(y[v]=pO(a),y),{}),{read:l,resolveKeyframes:c,update:d,preRender:u,render:h,postRender:m}=o,f=()=>{const y=performance.now();n=!1,i.delta=s?1e3/60:Math.max(Math.min(y-i.timestamp,mO),1),i.timestamp=y,i.isProcessing=!0,l.process(i),c.process(i),d.process(i),u.process(i),h.process(i),m.process(i),i.isProcessing=!1,n&&e&&(s=!1,t(f))},x=()=>{n=!0,s=!0,i.isProcessing||t(f)};return{schedule:Ou.reduce((y,v)=>{const w=o[v];return y[v]=(N,j=!1,k=!1)=>(n||x(),w.schedule(N,j,k)),y},{}),cancel:y=>{for(let v=0;v<Ou.length;v++)o[Ou[v]].cancel(y)},state:i,steps:o}}const{schedule:nt,cancel:Hs,state:Jt,steps:Wf}=oP(typeof requestAnimationFrame<"u"?requestAnimationFrame:Mn,!0),lP=p.createContext({strict:!1}),P2={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},rl={};for(const t in P2)rl[t]={isEnabled:e=>P2[t].some(n=>!!e[n])};function fO(t){for(const e in t)rl[e]={...rl[e],...t[e]}}const gO=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Pp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||gO.has(t)}let cP=t=>!Pp(t);function dP(t){t&&(cP=e=>e.startsWith("on")?!Pp(e):t(e))}try{dP(require("@emotion/is-prop-valid").default)}catch{}function xO(t,e,n){const s={};for(const i in t)i==="values"&&typeof t.values=="object"||(cP(i)||n===!0&&Pp(i)||!e&&!Pp(i)||t.draggable&&i.startsWith("onDrag"))&&(s[i]=t[i]);return s}function vO({children:t,isValidProp:e,...n}){e&&dP(e),n={...p.useContext(sl),...n},n.isStatic=qa(()=>n.isStatic);const s=p.useMemo(()=>n,[JSON.stringify(n.transition),n.transformPagePoint,n.reducedMotion]);return r.jsx(sl.Provider,{value:s,children:t})}function yO(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...s)=>t(...s);return new Proxy(n,{get:(s,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const Bm=p.createContext({});function vd(t){return typeof t=="string"||Array.isArray(t)}function Vm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const lb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],cb=["initial",...lb];function Um(t){return Vm(t.animate)||cb.some(e=>vd(t[e]))}function uP(t){return!!(Um(t)||t.variants)}function bO(t,e){if(Um(t)){const{initial:n,animate:s}=t;return{initial:n===!1||vd(n)?n:void 0,animate:vd(s)?s:void 0}}return t.inherit!==!1?e:{}}function wO(t){const{initial:e,animate:n}=bO(t,p.useContext(Bm));return p.useMemo(()=>({initial:e,animate:n}),[E2(e),E2(n)])}function E2(t){return Array.isArray(t)?t.join(" "):t}const jO=Symbol.for("motionComponentSymbol");function wo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function NO(t,e,n){return p.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):wo(n)&&(n.current=s))},[e])}const db=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),kO="framerAppearId",hP="data-"+db(kO),{schedule:ub}=oP(queueMicrotask,!1),pP=p.createContext({});function SO(t,e,n,s,i){var a,o;const{visualElement:l}=p.useContext(Bm),c=p.useContext(lP),d=p.useContext(Fm),u=p.useContext(sl).reducedMotion,h=p.useRef(null);s=s||c.renderer,!h.current&&s&&(h.current=s(t,{visualState:e,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:u}));const m=h.current,f=p.useContext(pP);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&CO(h.current,n,i,f);const x=p.useRef(!1);p.useInsertionEffect(()=>{m&&x.current&&m.update(n,d)});const g=n[hP],b=p.useRef(!!g&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,g))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,g)));return zm(()=>{m&&(x.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),ub.render(m.render),b.current&&m.animationState&&m.animationState.animateChanges())}),p.useEffect(()=>{m&&(!b.current&&m.animationState&&m.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)===null||y===void 0||y.call(window,g)}),b.current=!1))}),m}function CO(t,e,n,s){const{layoutId:i,layout:a,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:mP(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||l&&wo(l),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:s,layoutScroll:c,layoutRoot:d})}function mP(t){if(t)return t.options.allowProjection!==!1?t.projection:mP(t.parent)}function PO({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:s,Component:i}){var a,o;t&&fO(t);function l(d,u){let h;const m={...p.useContext(sl),...d,layoutId:EO(d)},{isStatic:f}=m,x=wO(d),g=s(d,f);if(!f&&rb){_O();const b=MO(m);h=b.MeasureLayout,x.visualElement=SO(i,g,m,e,b.ProjectionNode)}return r.jsxs(Bm.Provider,{value:x,children:[h&&x.visualElement?r.jsx(h,{visualElement:x.visualElement,...m}):null,n(i,d,NO(g,x.visualElement,u),g,f,x.visualElement)]})}l.displayName=`motion.${typeof i=="string"?i:`create(${(o=(a=i.displayName)!==null&&a!==void 0?a:i.name)!==null&&o!==void 0?o:""})`}`;const c=p.forwardRef(l);return c[jO]=i,c}function EO({layoutId:t}){const e=p.useContext(sb).id;return e&&t!==void 0?e+"-"+t:t}function _O(t,e){p.useContext(lP).strict}function MO(t){const{drag:e,layout:n}=rl;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const TO=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function hb(t){return typeof t!="string"||t.includes("-")?!1:!!(TO.indexOf(t)>-1||/[A-Z]/u.test(t))}function _2(t){const e=[{},{}];return t==null||t.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function pb(t,e,n,s){if(typeof e=="function"){const[i,a]=_2(s);e=e(n!==void 0?n:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=_2(s);e=e(n!==void 0?n:t.custom,i,a)}return e}const p0=t=>Array.isArray(t),LO=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),AO=t=>p0(t)?t[t.length-1]||0:t,yn=t=>!!(t&&t.getVelocity);function Th(t){const e=yn(t)?t.get():t;return LO(e)?e.toValue():e}function IO({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},s,i,a){const o={latestValues:OO(s,i,a,t),renderState:e()};return n&&(o.onMount=l=>n({props:s,current:l,...o}),o.onUpdate=l=>n(l)),o}const fP=t=>(e,n)=>{const s=p.useContext(Bm),i=p.useContext(Fm),a=()=>IO(t,e,s,i);return n?a():qa(a)};function OO(t,e,n,s){const i={},a=s(t,{});for(const m in a)i[m]=Th(a[m]);let{initial:o,animate:l}=t;const c=Um(t),d=uP(t);e&&d&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const h=u?l:o;if(h&&typeof h!="boolean"&&!Vm(h)){const m=Array.isArray(h)?h:[h];for(let f=0;f<m.length;f++){const x=pb(t,m[f]);if(x){const{transitionEnd:g,transition:b,...y}=x;for(const v in y){let w=y[v];if(Array.isArray(w)){const N=u?w.length-1:0;w=w[N]}w!==null&&(i[v]=w)}for(const v in g)i[v]=g[v]}}}return i}const bl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ga=new Set(bl),gP=t=>e=>typeof e=="string"&&e.startsWith(t),xP=gP("--"),RO=gP("var(--"),mb=t=>RO(t)?DO.test(t.split("/*")[0].trim()):!1,DO=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,vP=(t,e)=>e&&typeof t=="number"?e.transform(t):t,xr=(t,e,n)=>n>e?e:n<t?t:n,wl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},yd={...wl,transform:t=>xr(0,1,t)},Ru={...wl,default:1},Jd=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Yr=Jd("deg"),hr=Jd("%"),Re=Jd("px"),$O=Jd("vh"),FO=Jd("vw"),M2={...hr,parse:t=>hr.parse(t)/100,transform:t=>hr.transform(t*100)},zO={borderWidth:Re,borderTopWidth:Re,borderRightWidth:Re,borderBottomWidth:Re,borderLeftWidth:Re,borderRadius:Re,radius:Re,borderTopLeftRadius:Re,borderTopRightRadius:Re,borderBottomRightRadius:Re,borderBottomLeftRadius:Re,width:Re,maxWidth:Re,height:Re,maxHeight:Re,top:Re,right:Re,bottom:Re,left:Re,padding:Re,paddingTop:Re,paddingRight:Re,paddingBottom:Re,paddingLeft:Re,margin:Re,marginTop:Re,marginRight:Re,marginBottom:Re,marginLeft:Re,backgroundPositionX:Re,backgroundPositionY:Re},BO={rotate:Yr,rotateX:Yr,rotateY:Yr,rotateZ:Yr,scale:Ru,scaleX:Ru,scaleY:Ru,scaleZ:Ru,skew:Yr,skewX:Yr,skewY:Yr,distance:Re,translateX:Re,translateY:Re,translateZ:Re,x:Re,y:Re,z:Re,perspective:Re,transformPerspective:Re,opacity:yd,originX:M2,originY:M2,originZ:Re},T2={...wl,transform:Math.round},fb={...zO,...BO,zIndex:T2,size:Re,fillOpacity:yd,strokeOpacity:yd,numOctaves:T2},VO={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},UO=bl.length;function WO(t,e,n){let s="",i=!0;for(let a=0;a<UO;a++){const o=bl[a],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const d=vP(l,fb[o]);if(!c){i=!1;const u=VO[o]||o;s+=`${u}(${d}) `}n&&(e[o]=d)}}return s=s.trim(),n?s=n(e,i?"":s):i&&(s="none"),s}function gb(t,e,n){const{style:s,vars:i,transformOrigin:a}=t;let o=!1,l=!1;for(const c in e){const d=e[c];if(Ga.has(c)){o=!0;continue}else if(xP(c)){i[c]=d;continue}else{const u=vP(d,fb[c]);c.startsWith("origin")?(l=!0,a[c]=u):s[c]=u}}if(e.transform||(o||n?s.transform=WO(e,t.transform,n):s.transform&&(s.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=a;s.transformOrigin=`${c} ${d} ${u}`}}const HO={offset:"stroke-dashoffset",array:"stroke-dasharray"},qO={offset:"strokeDashoffset",array:"strokeDasharray"};function GO(t,e,n=1,s=0,i=!0){t.pathLength=1;const a=i?HO:qO;t[a.offset]=Re.transform(-s);const o=Re.transform(e),l=Re.transform(n);t[a.array]=`${o} ${l}`}function L2(t,e,n){return typeof t=="string"?t:Re.transform(e+n*t)}function KO(t,e,n){const s=L2(e,t.x,t.width),i=L2(n,t.y,t.height);return`${s} ${i}`}function xb(t,{attrX:e,attrY:n,attrScale:s,originX:i,originY:a,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...d},u,h){if(gb(t,d,h),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:f,dimensions:x}=t;m.transform&&(x&&(f.transform=m.transform),delete m.transform),x&&(i!==void 0||a!==void 0||f.transform)&&(f.transformOrigin=KO(x,i!==void 0?i:.5,a!==void 0?a:.5)),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),s!==void 0&&(m.scale=s),o!==void 0&&GO(m,o,l,c,!1)}const vb=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),yP=()=>({...vb(),attrs:{}}),yb=t=>typeof t=="string"&&t.toLowerCase()==="svg";function bP(t,{style:e,vars:n},s,i){Object.assign(t.style,e,i&&i.getProjectionStyles(s));for(const a in n)t.style.setProperty(a,n[a])}const wP=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function jP(t,e,n,s){bP(t,e,void 0,s);for(const i in e.attrs)t.setAttribute(wP.has(i)?i:db(i),e.attrs[i])}const Ep={};function YO(t){Object.assign(Ep,t)}function NP(t,{layout:e,layoutId:n}){return Ga.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Ep[t]||t==="opacity")}function bb(t,e,n){var s;const{style:i}=t,a={};for(const o in i)(yn(i[o])||e.style&&yn(e.style[o])||NP(o,t)||((s=n==null?void 0:n.getValue(o))===null||s===void 0?void 0:s.liveStyle)!==void 0)&&(a[o]=i[o]);return a}function kP(t,e,n){const s=bb(t,e,n);for(const i in t)if(yn(t[i])||yn(e[i])){const a=bl.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;s[a]=t[i]}return s}function XO(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const A2=["x","y","width","height","cx","cy","r"],ZO={useVisualState:fP({scrapeMotionValuesFromProps:kP,createRenderState:yP,onUpdate:({props:t,prevProps:e,current:n,renderState:s,latestValues:i})=>{if(!n)return;let a=!!t.drag;if(!a){for(const l in i)if(Ga.has(l)){a=!0;break}}if(!a)return;let o=!e;if(e)for(let l=0;l<A2.length;l++){const c=A2[l];t[c]!==e[c]&&(o=!0)}o&&nt.read(()=>{XO(n,s),nt.render(()=>{xb(s,i,yb(n.tagName),t.transformTemplate),jP(n,s)})})}})},QO={useVisualState:fP({scrapeMotionValuesFromProps:bb,createRenderState:vb})};function SP(t,e,n){for(const s in e)!yn(e[s])&&!NP(s,n)&&(t[s]=e[s])}function JO({transformTemplate:t},e){return p.useMemo(()=>{const n=vb();return gb(n,e,t),Object.assign({},n.vars,n.style)},[e])}function eR(t,e){const n=t.style||{},s={};return SP(s,n,t),Object.assign(s,JO(t,e)),s}function tR(t,e){const n={},s=eR(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}function nR(t,e,n,s){const i=p.useMemo(()=>{const a=yP();return xb(a,e,yb(s),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};SP(a,t.style,t),i.style={...a,...i.style}}return i}function sR(t=!1){return(n,s,i,{latestValues:a},o)=>{const c=(hb(n)?nR:tR)(s,a,o,n),d=xO(s,typeof n=="string",t),u=n!==p.Fragment?{...d,...c,ref:i}:{},{children:h}=s,m=p.useMemo(()=>yn(h)?h.get():h,[h]);return p.createElement(n,{...u,children:m})}}function rR(t,e){return function(s,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...hb(s)?ZO:QO,preloadedFeatures:t,useRender:sR(i),createVisualElement:e,Component:s};return PO(o)}}function CP(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}function Wm(t,e,n){const s=t.getProps();return pb(s,e,n!==void 0?n:s.custom,t)}const PP=ab(()=>window.ScrollTimeline!==void 0);class iR{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let s=0;s<this.animations.length;s++)this.animations[s][e]=n}attachTimeline(e,n){const s=this.animations.map(i=>{if(PP()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{s.forEach((i,a)=>{i&&i(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class aR extends iR{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function wb(t,e){return t?t[e]||t.default||t:void 0}const m0=2e4;function EP(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<m0;)e+=n,s=t.next(e);return e>=m0?1/0:e}function jb(t){return typeof t=="function"}function I2(t,e){t.timeline=e,t.onfinish=null}const Nb=t=>Array.isArray(t)&&typeof t[0]=="number",oR={linearEasing:void 0};function lR(t,e){const n=ab(t);return()=>{var s;return(s=oR[e])!==null&&s!==void 0?s:n()}}const _p=lR(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),_P=(t,e,n=10)=>{let s="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)s+=t($a(0,i-1,a))+", ";return`linear(${s.substring(0,s.length-2)})`};function MP(t){return!!(typeof t=="function"&&_p()||!t||typeof t=="string"&&(t in f0||_p())||Nb(t)||Array.isArray(t)&&t.every(MP))}const mc=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,f0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:mc([0,.65,.55,1]),circOut:mc([.55,0,1,.45]),backIn:mc([.31,.01,.66,-.59]),backOut:mc([.33,1.53,.69,.99])};function TP(t,e){if(t)return typeof t=="function"&&_p()?_P(t,e):Nb(t)?mc(t):Array.isArray(t)?t.map(n=>TP(n,e)||f0.easeOut):f0[t]}const Is={x:!1,y:!1};function LP(){return Is.x||Is.y}function AP(t,e,n){var s;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const a=(s=void 0)!==null&&s!==void 0?s:i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}function IP(t,e){const n=AP(t),s=new AbortController,i={passive:!0,...e,signal:s.signal};return[n,i,()=>s.abort()]}function O2(t){return e=>{e.pointerType==="touch"||LP()||t(e)}}function cR(t,e,n={}){const[s,i,a]=IP(t,n),o=O2(l=>{const{target:c}=l,d=e(l);if(typeof d!="function"||!c)return;const u=O2(h=>{d(h),c.removeEventListener("pointerleave",u)});c.addEventListener("pointerleave",u,i)});return s.forEach(l=>{l.addEventListener("pointerenter",o,i)}),a}const OP=(t,e)=>e?t===e?!0:OP(t,e.parentElement):!1,kb=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,dR=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function uR(t){return dR.has(t.tagName)||t.tabIndex!==-1}const fc=new WeakSet;function R2(t){return e=>{e.key==="Enter"&&t(e)}}function Hf(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const hR=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=R2(()=>{if(fc.has(n))return;Hf(n,"down");const i=R2(()=>{Hf(n,"up")}),a=()=>Hf(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function D2(t){return kb(t)&&!LP()}function pR(t,e,n={}){const[s,i,a]=IP(t,n),o=l=>{const c=l.currentTarget;if(!D2(l)||fc.has(c))return;fc.add(c);const d=e(l),u=(f,x)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",m),!(!D2(f)||!fc.has(c))&&(fc.delete(c),typeof d=="function"&&d(f,{success:x}))},h=f=>{u(f,n.useGlobalTarget||OP(c,f.target))},m=f=>{u(f,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",m,i)};return s.forEach(l=>{!uR(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,i),l.addEventListener("focus",d=>hR(d,i),i)}),a}function mR(t){return t==="x"||t==="y"?Is[t]?null:(Is[t]=!0,()=>{Is[t]=!1}):Is.x||Is.y?null:(Is.x=Is.y=!0,()=>{Is.x=Is.y=!1})}const RP=new Set(["width","height","top","left","right","bottom",...bl]);let Lh;function fR(){Lh=void 0}const pr={now:()=>(Lh===void 0&&pr.set(Jt.isProcessing||ob.useManualTiming?Jt.timestamp:performance.now()),Lh),set:t=>{Lh=t,queueMicrotask(fR)}};function Sb(t,e){t.indexOf(e)===-1&&t.push(e)}function Cb(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let Pb=class{constructor(){this.subscriptions=[]}add(e){return Sb(this.subscriptions,e),()=>Cb(this.subscriptions,e)}notify(e,n,s){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,s);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}};function Eb(t,e){return e?t*(1e3/e):0}const $2=30,gR=t=>!isNaN(parseFloat(t)),Ic={current:void 0};let xR=class{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,i=!0)=>{const a=pr.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=pr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=gR(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Pb);const s=this.events[e].add(n);return e==="change"?()=>{s(),nt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Ic.current&&Ic.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=pr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>$2)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,$2);return Eb(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}};function lr(t,e){return new xR(t,e)}function vR(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,lr(n))}function yR(t,e){const n=Wm(t,e);let{transitionEnd:s={},transition:i={},...a}=n||{};a={...a,...s};for(const o in a){const l=AO(a[o]);vR(t,o,l)}}function bR(t){return!!(yn(t)&&t.add)}function g0(t,e){const n=t.getValue("willChange");if(bR(n))return n.add(e)}function DP(t){return t.props[hP]}const $P=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,wR=1e-7,jR=12;function NR(t,e,n,s,i){let a,o,l=0;do o=e+(n-e)/2,a=$P(o,s,i)-t,a>0?n=o:e=o;while(Math.abs(a)>wR&&++l<jR);return o}function eu(t,e,n,s){if(t===e&&n===s)return Mn;const i=a=>NR(a,0,1,t,n);return a=>a===0||a===1?a:$P(i(a),e,s)}const FP=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,zP=t=>e=>1-t(1-e),BP=eu(.33,1.53,.69,.99),_b=zP(BP),VP=FP(_b),UP=t=>(t*=2)<1?.5*_b(t):.5*(2-Math.pow(2,-10*(t-1))),Mb=t=>1-Math.sin(Math.acos(t)),WP=zP(Mb),HP=FP(Mb),qP=t=>/^0[^.\s]+$/u.test(t);function kR(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||qP(t):!0}const Oc=t=>Math.round(t*1e5)/1e5,Tb=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function SR(t){return t==null}const CR=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Lb=(t,e)=>n=>!!(typeof n=="string"&&CR.test(n)&&n.startsWith(t)||e&&!SR(n)&&Object.prototype.hasOwnProperty.call(n,e)),GP=(t,e,n)=>s=>{if(typeof s!="string")return s;const[i,a,o,l]=s.match(Tb);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},PR=t=>xr(0,255,t),qf={...wl,transform:t=>Math.round(PR(t))},ha={test:Lb("rgb","red"),parse:GP("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+qf.transform(t)+", "+qf.transform(e)+", "+qf.transform(n)+", "+Oc(yd.transform(s))+")"};function ER(t){let e="",n="",s="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,s+=s,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:i?parseInt(i,16)/255:1}}const x0={test:Lb("#"),parse:ER,transform:ha.transform},jo={test:Lb("hsl","hue"),parse:GP("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+hr.transform(Oc(e))+", "+hr.transform(Oc(n))+", "+Oc(yd.transform(s))+")"},mn={test:t=>ha.test(t)||x0.test(t)||jo.test(t),parse:t=>ha.test(t)?ha.parse(t):jo.test(t)?jo.parse(t):x0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ha.transform(t):jo.transform(t)},_R=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function MR(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Tb))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(_R))===null||n===void 0?void 0:n.length)||0)>0}const KP="number",YP="color",TR="var",LR="var(",F2="${}",AR=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function bd(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},i=[];let a=0;const l=e.replace(AR,c=>(mn.test(c)?(s.color.push(a),i.push(YP),n.push(mn.parse(c))):c.startsWith(LR)?(s.var.push(a),i.push(TR),n.push(c)):(s.number.push(a),i.push(KP),n.push(parseFloat(c))),++a,F2)).split(F2);return{values:n,split:l,indexes:s,types:i}}function XP(t){return bd(t).values}function ZP(t){const{split:e,types:n}=bd(t),s=e.length;return i=>{let a="";for(let o=0;o<s;o++)if(a+=e[o],i[o]!==void 0){const l=n[o];l===KP?a+=Oc(i[o]):l===YP?a+=mn.transform(i[o]):a+=i[o]}return a}}const IR=t=>typeof t=="number"?0:t;function OR(t){const e=XP(t);return ZP(t)(e.map(IR))}const Li={test:MR,parse:XP,createTransformer:ZP,getAnimatableNone:OR},RR=new Set(["brightness","contrast","saturate","opacity"]);function DR(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(Tb)||[];if(!s)return t;const i=n.replace(s,"");let a=RR.has(e)?1:0;return s!==n&&(a*=100),e+"("+a+i+")"}const $R=/\b([a-z-]*)\(.*?\)/gu,v0={...Li,getAnimatableNone:t=>{const e=t.match($R);return e?e.map(DR).join(" "):t}},FR={...fb,color:mn,backgroundColor:mn,outlineColor:mn,fill:mn,stroke:mn,borderColor:mn,borderTopColor:mn,borderRightColor:mn,borderBottomColor:mn,borderLeftColor:mn,filter:v0,WebkitFilter:v0},Ab=t=>FR[t];function QP(t,e){let n=Ab(t);return n!==v0&&(n=Li),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const zR=new Set(["auto","none","0"]);function BR(t,e,n){let s=0,i;for(;s<t.length&&!i;){const a=t[s];typeof a=="string"&&!zR.has(a)&&bd(a).values.length&&(i=t[s]),s++}if(i&&n)for(const a of e)t[a]=QP(n,i)}const z2=t=>t===wl||t===Re,B2=(t,e)=>parseFloat(t.split(", ")[e]),V2=(t,e)=>(n,{transform:s})=>{if(s==="none"||!s)return 0;const i=s.match(/^matrix3d\((.+)\)$/u);if(i)return B2(i[1],e);{const a=s.match(/^matrix\((.+)\)$/u);return a?B2(a[1],t):0}},VR=new Set(["x","y","z"]),UR=bl.filter(t=>!VR.has(t));function WR(t){const e=[];return UR.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const il={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:V2(4,13),y:V2(5,14)};il.translateX=il.x;il.translateY=il.y;const ba=new Set;let y0=!1,b0=!1;function JP(){if(b0){const t=Array.from(ba).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const i=WR(s);i.length&&(n.set(s,i),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const i=n.get(s);i&&i.forEach(([a,o])=>{var l;(l=s.getValue(a))===null||l===void 0||l.set(o)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}b0=!1,y0=!1,ba.forEach(t=>t.complete()),ba.clear()}function eE(){ba.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(b0=!0)})}function HR(){eE(),JP()}let Ib=class{constructor(e,n,s,i,a,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ba.add(this),y0||(y0=!0,nt.read(eE),nt.resolveKeyframes(JP))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:i}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const o=i==null?void 0:i.get(),l=e[e.length-1];if(o!==void 0)e[0]=o;else if(s&&n){const c=s.readValue(n,l);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=l),i&&o===void 0&&i.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ba.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ba.delete(this))}resume(){this.isComplete||this.scheduleResolve()}};const tE=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),qR=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function GR(t){const e=qR.exec(t);if(!e)return[,];const[,n,s,i]=e;return[`--${n??s}`,i]}function nE(t,e,n=1){const[s,i]=GR(t);if(!s)return;const a=window.getComputedStyle(e).getPropertyValue(s);if(a){const o=a.trim();return tE(o)?parseFloat(o):o}return mb(i)?nE(i,e,n+1):i}const sE=t=>e=>e.test(t),KR={test:t=>t==="auto",parse:t=>t},rE=[wl,Re,hr,Yr,FO,$O,KR],U2=t=>rE.find(sE(t));let iE=class extends Ib{constructor(e,n,s,i,a){super(e,n,s,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),mb(d))){const u=nE(d,n.current);u!==void 0&&(e[c]=u),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!RP.has(s)||e.length!==2)return;const[i,a]=e,o=U2(i),l=U2(a);if(o!==l)if(z2(o)&&z2(l))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let i=0;i<e.length;i++)kR(e[i])&&s.push(i);s.length&&BR(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=il[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(s,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:s,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const a=n.getValue(s);a&&a.jump(this.measuredOrigin,!1);const o=i.length-1,l=i[o];i[o]=il[s](n.measureViewportBox(),window.getComputedStyle(n.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([c,d])=>{n.getValue(c).set(d)}),this.resolveNoneKeyframes()}};const W2=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Li.test(t)||t==="0")&&!t.startsWith("url("));function YR(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function XR(t,e,n,s){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],o=W2(i,e),l=W2(a,e);return!o||!l?!1:YR(t)||(n==="spring"||jb(n))&&s}const ZR=t=>t!==null;function Hm(t,{repeat:e,repeatType:n="loop"},s){const i=t.filter(ZR),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||s===void 0?i[a]:s}const QR=40;class aE{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=pr.now(),this.options={autoplay:e,delay:n,type:s,repeat:i,repeatDelay:a,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>QR?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&HR(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=pr.now(),this.hasAttemptedResolve=!0;const{name:s,type:i,velocity:a,delay:o,onComplete:l,onUpdate:c,isGenerator:d}=this.options;if(!d&&!XR(e,s,i,a))if(o)this.options.duration=0;else{c&&c(Hm(e,this.options,n)),l&&l(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,n);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const kt=(t,e,n)=>t+(e-t)*n;function Gf(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function JR({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let i=0,a=0,o=0;if(!e)i=a=o=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;i=Gf(c,l,t+1/3),a=Gf(c,l,t),o=Gf(c,l,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:s}}function Mp(t,e){return n=>n>0?e:t}const Kf=(t,e,n)=>{const s=t*t,i=n*(e*e-s)+s;return i<0?0:Math.sqrt(i)},eD=[x0,ha,jo],tD=t=>eD.find(e=>e.test(t));function H2(t){const e=tD(t);if(!e)return!1;let n=e.parse(t);return e===jo&&(n=JR(n)),n}const q2=(t,e)=>{const n=H2(t),s=H2(e);if(!n||!s)return Mp(t,e);const i={...n};return a=>(i.red=Kf(n.red,s.red,a),i.green=Kf(n.green,s.green,a),i.blue=Kf(n.blue,s.blue,a),i.alpha=kt(n.alpha,s.alpha,a),ha.transform(i))},nD=(t,e)=>n=>e(t(n)),tu=(...t)=>t.reduce(nD),w0=new Set(["none","hidden"]);function sD(t,e){return w0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function rD(t,e){return n=>kt(t,e,n)}function Ob(t){return typeof t=="number"?rD:typeof t=="string"?mb(t)?Mp:mn.test(t)?q2:oD:Array.isArray(t)?oE:typeof t=="object"?mn.test(t)?q2:iD:Mp}function oE(t,e){const n=[...t],s=n.length,i=t.map((a,o)=>Ob(a)(a,e[o]));return a=>{for(let o=0;o<s;o++)n[o]=i[o](a);return n}}function iD(t,e){const n={...t,...e},s={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(s[i]=Ob(t[i])(t[i],e[i]));return i=>{for(const a in s)n[a]=s[a](i);return n}}function aD(t,e){var n;const s=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const o=e.types[a],l=t.indexes[o][i[o]],c=(n=t.values[l])!==null&&n!==void 0?n:0;s[a]=c,i[o]++}return s}const oD=(t,e)=>{const n=Li.createTransformer(e),s=bd(t),i=bd(e);return s.indexes.var.length===i.indexes.var.length&&s.indexes.color.length===i.indexes.color.length&&s.indexes.number.length>=i.indexes.number.length?w0.has(t)&&!i.values.length||w0.has(e)&&!s.values.length?sD(t,e):tu(oE(aD(s,i),i.values),n):Mp(t,e)};function lE(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?kt(t,e,n):Ob(t)(t,e)}const lD=5;function cE(t,e,n){const s=Math.max(e-lD,0);return Eb(n-t(s),e-s)}const Lt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Yf=.001;function cD({duration:t=Lt.duration,bounce:e=Lt.bounce,velocity:n=Lt.velocity,mass:s=Lt.mass}){let i,a,o=1-e;o=xr(Lt.minDamping,Lt.maxDamping,o),t=xr(Lt.minDuration,Lt.maxDuration,Ir(t)),o<1?(i=d=>{const u=d*o,h=u*t,m=u-n,f=j0(d,o),x=Math.exp(-h);return Yf-m/f*x},a=d=>{const h=d*o*t,m=h*n+n,f=Math.pow(o,2)*Math.pow(d,2)*t,x=Math.exp(-h),g=j0(Math.pow(d,2),o);return(-i(d)+Yf>0?-1:1)*((m-f)*x)/g}):(i=d=>{const u=Math.exp(-d*t),h=(d-n)*t+1;return-Yf+u*h},a=d=>{const u=Math.exp(-d*t),h=(n-d)*(t*t);return u*h});const l=5/t,c=uD(i,a,l);if(t=Ar(t),isNaN(c))return{stiffness:Lt.stiffness,damping:Lt.damping,duration:t};{const d=Math.pow(c,2)*s;return{stiffness:d,damping:o*2*Math.sqrt(s*d),duration:t}}}const dD=12;function uD(t,e,n){let s=n;for(let i=1;i<dD;i++)s=s-t(s)/e(s);return s}function j0(t,e){return t*Math.sqrt(1-e*e)}const hD=["duration","bounce"],pD=["stiffness","damping","mass"];function G2(t,e){return e.some(n=>t[n]!==void 0)}function mD(t){let e={velocity:Lt.velocity,stiffness:Lt.stiffness,damping:Lt.damping,mass:Lt.mass,isResolvedFromDuration:!1,...t};if(!G2(t,pD)&&G2(t,hD))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),i=s*s,a=2*xr(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Lt.mass,stiffness:i,damping:a}}else{const n=cD(t);e={...e,...n,mass:Lt.mass},e.isResolvedFromDuration=!0}return e}function dE(t=Lt.visualDuration,e=Lt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:i}=n;const a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:d,mass:u,duration:h,velocity:m,isResolvedFromDuration:f}=mD({...n,velocity:-Ir(n.velocity||0)}),x=m||0,g=d/(2*Math.sqrt(c*u)),b=o-a,y=Ir(Math.sqrt(c/u)),v=Math.abs(b)<5;s||(s=v?Lt.restSpeed.granular:Lt.restSpeed.default),i||(i=v?Lt.restDelta.granular:Lt.restDelta.default);let w;if(g<1){const j=j0(y,g);w=k=>{const P=Math.exp(-g*y*k);return o-P*((x+g*y*b)/j*Math.sin(j*k)+b*Math.cos(j*k))}}else if(g===1)w=j=>o-Math.exp(-y*j)*(b+(x+y*b)*j);else{const j=y*Math.sqrt(g*g-1);w=k=>{const P=Math.exp(-g*y*k),S=Math.min(j*k,300);return o-P*((x+g*y*b)*Math.sinh(S)+j*b*Math.cosh(S))/j}}const N={calculatedDuration:f&&h||null,next:j=>{const k=w(j);if(f)l.done=j>=h;else{let P=0;g<1&&(P=j===0?Ar(x):cE(w,j,k));const S=Math.abs(P)<=s,E=Math.abs(o-k)<=i;l.done=S&&E}return l.value=l.done?o:k,l},toString:()=>{const j=Math.min(EP(N),m0),k=_P(P=>N.next(j*P).value,j,30);return j+"ms "+k}};return N}function K2({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const h=t[0],m={done:!1,value:h},f=S=>l!==void 0&&S<l||c!==void 0&&S>c,x=S=>l===void 0?c:c===void 0||Math.abs(l-S)<Math.abs(c-S)?l:c;let g=n*e;const b=h+g,y=o===void 0?b:o(b);y!==b&&(g=y-h);const v=S=>-g*Math.exp(-S/s),w=S=>y+v(S),N=S=>{const E=v(S),T=w(S);m.done=Math.abs(E)<=d,m.value=m.done?y:T};let j,k;const P=S=>{f(m.value)&&(j=S,k=dE({keyframes:[m.value,x(m.value)],velocity:cE(w,S,m.value),damping:i,stiffness:a,restDelta:d,restSpeed:u}))};return P(0),{calculatedDuration:null,next:S=>{let E=!1;return!k&&j===void 0&&(E=!0,N(S),P(S)),j!==void 0&&S>=j?k.next(S-j):(!E&&N(S),m)}}}const fD=eu(.42,0,1,1),gD=eu(0,0,.58,1),uE=eu(.42,0,.58,1),xD=t=>Array.isArray(t)&&typeof t[0]!="number",vD={linear:Mn,easeIn:fD,easeInOut:uE,easeOut:gD,circIn:Mb,circInOut:HP,circOut:WP,backIn:_b,backInOut:VP,backOut:BP,anticipate:UP},Y2=t=>{if(Nb(t)){aP(t.length===4);const[e,n,s,i]=t;return eu(e,n,s,i)}else if(typeof t=="string")return vD[t];return t};function yD(t,e,n){const s=[],i=n||lE,a=t.length-1;for(let o=0;o<a;o++){let l=i(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||Mn:e;l=tu(c,l)}s.push(l)}return s}function Rb(t,e,{clamp:n=!0,ease:s,mixer:i}={}){const a=t.length;if(aP(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=yD(e,s,i),c=l.length,d=u=>{if(o&&u<t[0])return e[0];let h=0;if(c>1)for(;h<t.length-2&&!(u<t[h+1]);h++);const m=$a(t[h],t[h+1],u);return l[h](m)};return n?u=>d(xr(t[0],t[a-1],u)):d}function bD(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const i=$a(0,e,s);t.push(kt(n,1,i))}}function hE(t){const e=[0];return bD(e,t.length-1),e}function wD(t,e){return t.map(n=>n*e)}function jD(t,e){return t.map(()=>e||uE).splice(0,t.length-1)}function Tp({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const i=xD(s)?s.map(Y2):Y2(s),a={done:!1,value:e[0]},o=wD(n&&n.length===e.length?n:hE(e),t),l=Rb(o,e,{ease:Array.isArray(i)?i:jD(e,i)});return{calculatedDuration:t,next:c=>(a.value=l(c),a.done=c>=t,a)}}const ND=t=>{const e=({timestamp:n})=>t(n);return{start:()=>nt.update(e,!0),stop:()=>Hs(e),now:()=>Jt.isProcessing?Jt.timestamp:pr.now()}},kD={decay:K2,inertia:K2,tween:Tp,keyframes:Tp,spring:dE},SD=t=>t/100;class Db extends aE{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:s,element:i,keyframes:a}=this.options,o=(i==null?void 0:i.KeyframeResolver)||Ib,l=(c,d)=>this.onKeyframesResolved(c,d);this.resolver=new o(a,l,n,s,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=this.options,l=jb(n)?n:kD[n]||Tp;let c,d;l!==Tp&&typeof e[0]!="number"&&(c=tu(SD,lE(e[0],e[1])),e=[0,100]);const u=l({...this.options,keyframes:e});a==="mirror"&&(d=l({...this.options,keyframes:[...e].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=EP(u));const{calculatedDuration:h}=u,m=h+i,f=m*(s+1)-i;return{generator:u,mirroredGenerator:d,mapPercentToKeyframes:c,calculatedDuration:h,resolvedDuration:m,totalDuration:f}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:s}=this;if(!s){const{keyframes:S}=this.options;return{done:!0,value:S[S.length-1]}}const{finalKeyframe:i,generator:a,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:d,totalDuration:u,resolvedDuration:h}=s;if(this.startTime===null)return a.next(0);const{delay:m,repeat:f,repeatType:x,repeatDelay:g,onUpdate:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const y=this.currentTime-m*(this.speed>=0?1:-1),v=this.speed>=0?y<0:y>u;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let w=this.currentTime,N=a;if(f){const S=Math.min(this.currentTime,u)/h;let E=Math.floor(S),T=S%1;!T&&S>=1&&(T=1),T===1&&E--,E=Math.min(E,f+1),!!(E%2)&&(x==="reverse"?(T=1-T,g&&(T-=g/h)):x==="mirror"&&(N=o)),w=xr(0,1,T)*h}const j=v?{done:!1,value:c[0]}:N.next(w);l&&(j.value=l(j.value));let{done:k}=j;!v&&d!==null&&(k=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return P&&i!==void 0&&(j.value=Hm(c,this.options,i)),b&&b(j.value),P&&this.finish(),j}get duration(){const{resolved:e}=this;return e?Ir(e.calculatedDuration):0}get time(){return Ir(this.currentTime)}set time(e){e=Ar(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ir(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=ND,onPlay:n,startTime:s}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=s??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const CD=new Set(["opacity","clipPath","filter","transform"]);function PD(t,e,n,{delay:s=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const d={[e]:n};c&&(d.offset=c);const u=TP(l,i);return Array.isArray(u)&&(d.easing=u),t.animate(d,{delay:s,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}const ED=ab(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Lp=10,_D=2e4;function MD(t){return jb(t.type)||t.type==="spring"||!MP(t.ease)}function TD(t,e){const n=new Db({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let s={done:!1,value:t[0]};const i=[];let a=0;for(;!s.done&&a<_D;)s=n.sample(a),i.push(s.value),a+=Lp;return{times:void 0,keyframes:i,duration:a-Lp,ease:"linear"}}const pE={anticipate:UP,backInOut:VP,circInOut:HP};function LD(t){return t in pE}class X2 extends aE{constructor(e){super(e);const{name:n,motionValue:s,element:i,keyframes:a}=this.options;this.resolver=new iE(a,(o,l)=>this.onKeyframesResolved(o,l),n,s,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:s=300,times:i,ease:a,type:o,motionValue:l,name:c,startTime:d}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof a=="string"&&_p()&&LD(a)&&(a=pE[a]),MD(this.options)){const{onComplete:h,onUpdate:m,motionValue:f,element:x,...g}=this.options,b=TD(e,g);e=b.keyframes,e.length===1&&(e[1]=e[0]),s=b.duration,i=b.times,a=b.ease,o="keyframes"}const u=PD(l.owner.current,c,e,{...this.options,duration:s,times:i,ease:a});return u.startTime=d??this.calcStartTime(),this.pendingTimeline?(I2(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:h}=this.options;l.set(Hm(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:s,times:i,type:o,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Ir(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Ir(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.currentTime=Ar(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Mn;const{animation:s}=n;I2(s,e)}return Mn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:s,duration:i,type:a,ease:o,times:l}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:u,onComplete:h,element:m,...f}=this.options,x=new Db({...f,keyframes:s,duration:i,type:a,ease:o,times:l,isGenerator:!0}),g=Ar(this.time);d.setWithVelocity(x.sample(g-Lp).value,x.sample(g).value,Lp)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:s,repeatDelay:i,repeatType:a,damping:o,type:l}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=n.owner.getProps();return ED()&&s&&CD.has(s)&&!c&&!d&&!i&&a!=="mirror"&&o!==0&&l!=="inertia"}}const AD={type:"spring",stiffness:500,damping:25,restSpeed:10},ID=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),OD={type:"keyframes",duration:.8},RD={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},DD=(t,{keyframes:e})=>e.length>2?OD:Ga.has(t)?t.startsWith("scale")?ID(e[1]):AD:RD;function $D({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const $b=(t,e,n,s={},i,a)=>o=>{const l=wb(s,t)||{},c=l.delay||s.delay||0;let{elapsed:d=0}=s;d=d-Ar(c);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:m=>{e.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:a?void 0:i};$D(l)||(u={...u,...DD(t,u)}),u.duration&&(u.duration=Ar(u.duration)),u.repeatDelay&&(u.repeatDelay=Ar(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(h=!0)),ob.skipAnimations&&(h=!0,u.duration=0,u.delay=0),h&&!a&&e.get()!==void 0){const m=Hm(u.keyframes,l);if(m!==void 0)return nt.update(()=>{u.onUpdate(m),u.onComplete()}),new aR([])}return!a&&X2.supports(u)?new X2(u):new Db(u)};function FD({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function mE(t,e,{delay:n=0,transitionOverride:s,type:i}={}){var a;let{transition:o=t.getDefaultTransition(),transitionEnd:l,...c}=e;s&&(o=s);const d=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const h in c){const m=t.getValue(h,(a=t.latestValues[h])!==null&&a!==void 0?a:null),f=c[h];if(f===void 0||u&&FD(u,h))continue;const x={delay:n,...wb(o||{},h)};let g=!1;if(window.MotionHandoffAnimation){const y=DP(t);if(y){const v=window.MotionHandoffAnimation(y,h,nt);v!==null&&(x.startTime=v,g=!0)}}g0(t,h),m.start($b(h,m,f,t.shouldReduceMotion&&RP.has(h)?{type:!1}:x,t,g));const b=m.animation;b&&d.push(b)}return l&&Promise.all(d).then(()=>{nt.update(()=>{l&&yR(t,l)})}),d}function N0(t,e,n={}){var s;const i=Wm(t,e,n.type==="exit"?(s=t.presenceContext)===null||s===void 0?void 0:s.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const o=i?()=>Promise.all(mE(t,i,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:m}=a;return zD(t,e,u+d,h,m,n)}:()=>Promise.resolve(),{when:c}=a;if(c){const[d,u]=c==="beforeChildren"?[o,l]:[l,o];return d().then(()=>u())}else return Promise.all([o(),l(n.delay)])}function zD(t,e,n=0,s=0,i=1,a){const o=[],l=(t.variantChildren.size-1)*s,c=i===1?(d=0)=>d*s:(d=0)=>l-d*s;return Array.from(t.variantChildren).sort(BD).forEach((d,u)=>{d.notify("AnimationStart",e),o.push(N0(d,e,{...a,delay:n+c(u)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(o)}function BD(t,e){return t.sortNodePosition(e)}function VD(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const i=e.map(a=>N0(t,a,n));s=Promise.all(i)}else if(typeof e=="string")s=N0(t,e,n);else{const i=typeof e=="function"?Wm(t,e,n.custom):e;s=Promise.all(mE(t,i,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}const UD=cb.length;function fE(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?fE(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<UD;n++){const s=cb[n],i=t.props[s];(vd(i)||i===!1)&&(e[s]=i)}return e}const WD=[...lb].reverse(),HD=lb.length;function qD(t){return e=>Promise.all(e.map(({animation:n,options:s})=>VD(t,n,s)))}function GD(t){let e=qD(t),n=Z2(),s=!0;const i=c=>(d,u)=>{var h;const m=Wm(t,u,c==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(m){const{transition:f,transitionEnd:x,...g}=m;d={...d,...g,...x}}return d};function a(c){e=c(t)}function o(c){const{props:d}=t,u=fE(t.parent)||{},h=[],m=new Set;let f={},x=1/0;for(let b=0;b<HD;b++){const y=WD[b],v=n[y],w=d[y]!==void 0?d[y]:u[y],N=vd(w),j=y===c?v.isActive:null;j===!1&&(x=b);let k=w===u[y]&&w!==d[y]&&N;if(k&&s&&t.manuallyAnimateOnMount&&(k=!1),v.protectedKeys={...f},!v.isActive&&j===null||!w&&!v.prevProp||Vm(w)||typeof w=="boolean")continue;const P=KD(v.prevProp,w);let S=P||y===c&&v.isActive&&!k&&N||b>x&&N,E=!1;const T=Array.isArray(w)?w:[w];let W=T.reduce(i(y),{});j===!1&&(W={});const{prevResolvedValues:F={}}=v,D={...F,...W},A=I=>{S=!0,m.has(I)&&(E=!0,m.delete(I)),v.needsAnimating[I]=!0;const M=t.getValue(I);M&&(M.liveStyle=!1)};for(const I in D){const M=W[I],$=F[I];if(f.hasOwnProperty(I))continue;let O=!1;p0(M)&&p0($)?O=!CP(M,$):O=M!==$,O?M!=null?A(I):m.add(I):M!==void 0&&m.has(I)?A(I):v.protectedKeys[I]=!0}v.prevProp=w,v.prevResolvedValues=W,v.isActive&&(f={...f,...W}),s&&t.blockInitialAnimation&&(S=!1),S&&(!(k&&P)||E)&&h.push(...T.map(I=>({animation:I,options:{type:y}})))}if(m.size){const b={};m.forEach(y=>{const v=t.getBaseTarget(y),w=t.getValue(y);w&&(w.liveStyle=!0),b[y]=v??null}),h.push({animation:b})}let g=!!h.length;return s&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(g=!1),s=!1,g?e(h):Promise.resolve()}function l(c,d){var u;if(n[c].isActive===d)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(m=>{var f;return(f=m.animationState)===null||f===void 0?void 0:f.setActive(c,d)}),n[c].isActive=d;const h=o(c);for(const m in n)n[m].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>n,reset:()=>{n=Z2(),s=!0}}}function KD(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!CP(e,t):!1}function Gi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Z2(){return{animate:Gi(!0),whileInView:Gi(),whileHover:Gi(),whileTap:Gi(),whileDrag:Gi(),whileFocus:Gi(),exit:Gi()}}let Vi=class{constructor(e){this.isMounted=!1,this.node=e}update(){}},YD=class extends Vi{constructor(e){super(e),e.animationState||(e.animationState=GD(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Vm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}},XD=0,ZD=class extends Vi{constructor(){super(...arguments),this.id=XD++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}};const QD={animation:{Feature:YD},exit:{Feature:ZD}};function wd(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function nu(t){return{point:{x:t.pageX,y:t.pageY}}}const JD=t=>e=>kb(e)&&t(e,nu(e));function Rc(t,e,n,s){return wd(t,e,JD(n),s)}const Q2=(t,e)=>Math.abs(t-e);function e7(t,e){const n=Q2(t.x,e.x),s=Q2(t.y,e.y);return Math.sqrt(n**2+s**2)}let gE=class{constructor(e,n,{transformPagePoint:s,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Zf(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,f=e7(h.offset,{x:0,y:0})>=3;if(!m&&!f)return;const{point:x}=h,{timestamp:g}=Jt;this.history.push({...x,timestamp:g});const{onStart:b,onMove:y}=this.handlers;m||(b&&b(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Xf(m,this.transformPagePoint),nt.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:f,onSessionEnd:x,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Zf(h.type==="pointercancel"?this.lastMoveEventInfo:Xf(m,this.transformPagePoint),this.history);this.startEvent&&f&&f(h,b),x&&x(h,b)},!kb(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=s,this.contextWindow=i||window;const o=nu(e),l=Xf(o,this.transformPagePoint),{point:c}=l,{timestamp:d}=Jt;this.history=[{...c,timestamp:d}];const{onSessionStart:u}=n;u&&u(e,Zf(l,this.history)),this.removeListeners=tu(Rc(this.contextWindow,"pointermove",this.handlePointerMove),Rc(this.contextWindow,"pointerup",this.handlePointerUp),Rc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Hs(this.updatePoint)}};function Xf(t,e){return e?{point:e(t.point)}:t}function J2(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Zf({point:t},e){return{point:t,delta:J2(t,xE(e)),offset:J2(t,t7(e)),velocity:n7(e,.1)}}function t7(t){return t[0]}function xE(t){return t[t.length-1]}function n7(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const i=xE(t);for(;n>=0&&(s=t[n],!(i.timestamp-s.timestamp>Ar(e)));)n--;if(!s)return{x:0,y:0};const a=Ir(i.timestamp-s.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-s.x)/a,y:(i.y-s.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const vE=1e-4,s7=1-vE,r7=1+vE,yE=.01,i7=0-yE,a7=0+yE;function rs(t){return t.max-t.min}function o7(t,e,n){return Math.abs(t-e)<=n}function ej(t,e,n,s=.5){t.origin=s,t.originPoint=kt(e.min,e.max,t.origin),t.scale=rs(n)/rs(e),t.translate=kt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=s7&&t.scale<=r7||isNaN(t.scale))&&(t.scale=1),(t.translate>=i7&&t.translate<=a7||isNaN(t.translate))&&(t.translate=0)}function Dc(t,e,n,s){ej(t.x,e.x,n.x,s?s.originX:void 0),ej(t.y,e.y,n.y,s?s.originY:void 0)}function tj(t,e,n){t.min=n.min+e.min,t.max=t.min+rs(e)}function l7(t,e,n){tj(t.x,e.x,n.x),tj(t.y,e.y,n.y)}function nj(t,e,n){t.min=e.min-n.min,t.max=t.min+rs(e)}function $c(t,e,n){nj(t.x,e.x,n.x),nj(t.y,e.y,n.y)}function c7(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?kt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?kt(n,t,s.max):Math.min(t,n)),t}function sj(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function d7(t,{top:e,left:n,bottom:s,right:i}){return{x:sj(t.x,n,i),y:sj(t.y,e,s)}}function rj(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function u7(t,e){return{x:rj(t.x,e.x),y:rj(t.y,e.y)}}function h7(t,e){let n=.5;const s=rs(t),i=rs(e);return i>s?n=$a(e.min,e.max-s,t.min):s>i&&(n=$a(t.min,t.max-i,e.min)),xr(0,1,n)}function p7(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const k0=.35;function m7(t=k0){return t===!1?t=0:t===!0&&(t=k0),{x:ij(t,"left","right"),y:ij(t,"top","bottom")}}function ij(t,e,n){return{min:aj(t,e),max:aj(t,n)}}function aj(t,e){return typeof t=="number"?t:t[e]||0}const oj=()=>({translate:0,scale:1,origin:0,originPoint:0}),No=()=>({x:oj(),y:oj()}),lj=()=>({min:0,max:0}),Rt=()=>({x:lj(),y:lj()});function hs(t){return[t("x"),t("y")]}function bE({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function f7({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function g7(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Qf(t){return t===void 0||t===1}function S0({scale:t,scaleX:e,scaleY:n}){return!Qf(t)||!Qf(e)||!Qf(n)}function ta(t){return S0(t)||wE(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function wE(t){return cj(t.x)||cj(t.y)}function cj(t){return t&&t!=="0%"}function Ap(t,e,n){const s=t-n,i=e*s;return n+i}function dj(t,e,n,s,i){return i!==void 0&&(t=Ap(t,i,s)),Ap(t,n,s)+e}function C0(t,e=0,n=1,s,i){t.min=dj(t.min,e,n,s,i),t.max=dj(t.max,e,n,s,i)}function jE(t,{x:e,y:n}){C0(t.x,e.translate,e.scale,e.originPoint),C0(t.y,n.translate,n.scale,n.originPoint)}const uj=.999999999999,hj=1.0000000000001;function x7(t,e,n,s=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,o;for(let l=0;l<i;l++){a=n[l],o=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&a.options.layoutScroll&&a.scroll&&a!==a.root&&So(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,jE(t,o)),s&&ta(a.latestValues)&&So(t,a.latestValues))}e.x<hj&&e.x>uj&&(e.x=1),e.y<hj&&e.y>uj&&(e.y=1)}function ko(t,e){t.min=t.min+e,t.max=t.max+e}function pj(t,e,n,s,i=.5){const a=kt(t.min,t.max,i);C0(t,e,n,a,s)}function So(t,e){pj(t.x,e.x,e.scaleX,e.scale,e.originX),pj(t.y,e.y,e.scaleY,e.scale,e.originY)}function NE(t,e){return bE(g7(t.getBoundingClientRect(),e))}function v7(t,e,n){const s=NE(t,n),{scroll:i}=e;return i&&(ko(s.x,i.offset.x),ko(s.y,i.offset.y)),s}const kE=({current:t})=>t?t.ownerDocument.defaultView:null,y7=new WeakMap;let b7=class{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Rt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(nu(u).point)},a=(u,h)=>{const{drag:m,dragPropagation:f,onDragStart:x}=this.getProps();if(m&&!f&&(this.openDragLock&&this.openDragLock(),this.openDragLock=mR(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),hs(b=>{let y=this.getAxisMotionValue(b).get()||0;if(hr.test(y)){const{projection:v}=this.visualElement;if(v&&v.layout){const w=v.layout.layoutBox[b];w&&(y=rs(w)*(parseFloat(y)/100))}}this.originPoint[b]=y}),x&&nt.postRender(()=>x(u,h)),g0(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(u,h)=>{const{dragPropagation:m,dragDirectionLock:f,onDirectionLock:x,onDrag:g}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:b}=h;if(f&&this.currentDirection===null){this.currentDirection=w7(b),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",h.point,b),this.updateAxis("y",h.point,b),this.visualElement.render(),g&&g(u,h)},l=(u,h)=>this.stop(u,h),c=()=>hs(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new gE(e,{onSessionStart:i,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:kE(this.visualElement)})}stop(e,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&nt.postRender(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:i}=this.getProps();if(!s||!Du(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let o=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(o=c7(o,this.constraints[e],this.elastic[e])),a.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:s}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&wo(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=d7(i.layoutBox,n):this.constraints=!1,this.elastic=m7(s),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&hs(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=p7(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!wo(e))return!1;const s=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=v7(s,i.root,this.visualElement.getTransformPagePoint());let o=u7(i.layout.layoutBox,a);if(n){const l=n(f7(o));this.hasMutatedConstraints=!!l,l&&(o=bE(l))}return o}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=hs(u=>{if(!Du(u,n,this.currentDirection))return;let h=c&&c[u]||{};o&&(h={min:0,max:0});const m=i?200:1e6,f=i?40:1e7,x={type:"inertia",velocity:s?e[u]:0,bounceStiffness:m,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(u,x)});return Promise.all(d).then(l)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return g0(this.visualElement,e),s.start($b(e,s,0,n,this.visualElement,!1))}stopAnimation(){hs(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){hs(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),i=s[n];return i||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){hs(n=>{const{drag:s}=this.getProps();if(!Du(n,s,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[n];a.set(e[n]-kt(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!wo(n)||!s||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};hs(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();i[o]=h7({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),hs(o=>{if(!Du(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(kt(c,d,i[o]))})}addListeners(){if(!this.visualElement.current)return;y7.set(this.visualElement,this);const e=this.visualElement.current,n=Rc(e,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();wo(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",s);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),nt.read(s);const o=wd(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(hs(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=c[u].translate,h.set(h.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),n(),a(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=k0,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:l}}};function Du(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function w7(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}let j7=class extends Vi{constructor(e){super(e),this.removeGroupControls=Mn,this.removeListeners=Mn,this.controls=new b7(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Mn}unmount(){this.removeGroupControls(),this.removeListeners()}};const mj=t=>(e,n)=>{t&&nt.postRender(()=>t(e,n))};let N7=class extends Vi{constructor(){super(...arguments),this.removePointerDownListener=Mn}onPointerDown(e){this.session=new gE(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:kE(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:mj(e),onStart:mj(n),onMove:s,onEnd:(a,o)=>{delete this.session,i&&nt.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=Rc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}};const Ah={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function fj(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Wl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Re.test(t))t=parseFloat(t);else return t;const n=fj(t,e.target.x),s=fj(t,e.target.y);return`${n}% ${s}%`}},k7={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,i=Li.parse(t);if(i.length>5)return s;const a=Li.createTransformer(t),o=typeof i[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;i[0+o]/=l,i[1+o]/=c;const d=kt(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=d),typeof i[3+o]=="number"&&(i[3+o]/=d),a(i)}};let S7=class extends p.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:i}=this.props,{projection:a}=e;YO(C7),a&&(n.group&&n.group.add(a),s&&s.register&&i&&s.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Ah.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:i,isPresent:a}=this.props,o=s.projection;return o&&(o.isPresent=a,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?o.promote():o.relegate()||nt.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ub.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}};function SE(t){const[e,n]=iP(),s=p.useContext(sb);return r.jsx(S7,{...t,layoutGroup:s,switchLayoutGroup:p.useContext(pP),isPresent:e,safeToRemove:n})}const C7={borderRadius:{...Wl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Wl,borderTopRightRadius:Wl,borderBottomLeftRadius:Wl,borderBottomRightRadius:Wl,boxShadow:k7};function P7(t,e,n){const s=yn(t)?t:lr(t);return s.start($b("",s,e,n)),s.animation}function E7(t){return t instanceof SVGElement&&t.tagName!=="svg"}const _7=(t,e)=>t.depth-e.depth;let M7=class{constructor(){this.children=[],this.isDirty=!1}add(e){Sb(this.children,e),this.isDirty=!0}remove(e){Cb(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(_7),this.isDirty=!1,this.children.forEach(e)}};function T7(t,e){const n=pr.now(),s=({timestamp:i})=>{const a=i-n;a>=e&&(Hs(s),t(a-e))};return nt.read(s,!0),()=>Hs(s)}const CE=["TopLeft","TopRight","BottomLeft","BottomRight"],L7=CE.length,gj=t=>typeof t=="string"?parseFloat(t):t,xj=t=>typeof t=="number"||Re.test(t);function A7(t,e,n,s,i,a){i?(t.opacity=kt(0,n.opacity!==void 0?n.opacity:1,I7(s)),t.opacityExit=kt(e.opacity!==void 0?e.opacity:1,0,O7(s))):a&&(t.opacity=kt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,s));for(let o=0;o<L7;o++){const l=`border${CE[o]}Radius`;let c=vj(e,l),d=vj(n,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||xj(c)===xj(d)?(t[l]=Math.max(kt(gj(c),gj(d),s),0),(hr.test(d)||hr.test(c))&&(t[l]+="%")):t[l]=d}(e.rotate||n.rotate)&&(t.rotate=kt(e.rotate||0,n.rotate||0,s))}function vj(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const I7=PE(0,.5,WP),O7=PE(.5,.95,Mn);function PE(t,e,n){return s=>s<t?0:s>e?1:n($a(t,e,s))}function yj(t,e){t.min=e.min,t.max=e.max}function ds(t,e){yj(t.x,e.x),yj(t.y,e.y)}function bj(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function wj(t,e,n,s,i){return t-=e,t=Ap(t,1/n,s),i!==void 0&&(t=Ap(t,1/i,s)),t}function R7(t,e=0,n=1,s=.5,i,a=t,o=t){if(hr.test(e)&&(e=parseFloat(e),e=kt(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=kt(a.min,a.max,s);t===a&&(l-=e),t.min=wj(t.min,e,n,l,i),t.max=wj(t.max,e,n,l,i)}function jj(t,e,[n,s,i],a,o){R7(t,e[n],e[s],e[i],e.scale,a,o)}const D7=["x","scaleX","originX"],$7=["y","scaleY","originY"];function Nj(t,e,n,s){jj(t.x,e,D7,n?n.x:void 0,s?s.x:void 0),jj(t.y,e,$7,n?n.y:void 0,s?s.y:void 0)}function kj(t){return t.translate===0&&t.scale===1}function EE(t){return kj(t.x)&&kj(t.y)}function Sj(t,e){return t.min===e.min&&t.max===e.max}function F7(t,e){return Sj(t.x,e.x)&&Sj(t.y,e.y)}function Cj(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function _E(t,e){return Cj(t.x,e.x)&&Cj(t.y,e.y)}function Pj(t){return rs(t.x)/rs(t.y)}function Ej(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}let z7=class{constructor(){this.members=[]}add(e){Sb(this.members,e),e.scheduleRender()}remove(e){if(Cb(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let s;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){s=a;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}};function B7(t,e,n){let s="";const i=t.x.translate/e.x,a=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||a||o)&&(s=`translate3d(${i}px, ${a}px, ${o}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:u,rotateX:h,rotateY:m,skewX:f,skewY:x}=n;d&&(s=`perspective(${d}px) ${s}`),u&&(s+=`rotate(${u}deg) `),h&&(s+=`rotateX(${h}deg) `),m&&(s+=`rotateY(${m}deg) `),f&&(s+=`skewX(${f}deg) `),x&&(s+=`skewY(${x}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(s+=`scale(${l}, ${c})`),s||"none"}const na={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},gc=typeof window<"u"&&window.MotionDebug!==void 0,Jf=["","X","Y","Z"],V7={visibility:"hidden"},_j=1e3;let U7=0;function eg(t,e,n,s){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),s&&(s[t]=0))}function ME(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=DP(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",nt,!(i||a))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&ME(s)}function TE({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(o={},l=e==null?void 0:e()){this.id=U7++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,gc&&(na.totalNodes=na.resolvedTargetDeltas=na.recalculatedProjection=0),this.nodes.forEach(q7),this.nodes.forEach(Z7),this.nodes.forEach(Q7),this.nodes.forEach(G7),gc&&window.MotionDebug.record(na)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new M7)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Pb),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=E7(o),this.instance=o;const{layoutId:c,layout:d,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||c)&&(this.isLayoutDirty=!0),t){let h;const m=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=T7(m,250),Ah.hasAnimatedSinceResize&&(Ah.hasAnimatedSinceResize=!1,this.nodes.forEach(Tj))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||d)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeTargetChanged:f,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||s9,{onLayoutAnimationStart:b,onLayoutAnimationComplete:y}=u.getProps(),v=!this.targetLayout||!_E(this.targetLayout,x)||f,w=!m&&f;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||m&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,w);const N={...wb(g,"layout"),onPlay:b,onComplete:y};(u.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N)}else m||Tj(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Hs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(J7),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&ME(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Mj);return}this.isUpdating||this.nodes.forEach(Y7),this.isUpdating=!1,this.nodes.forEach(X7),this.nodes.forEach(W7),this.nodes.forEach(H7),this.clearAllSnapshots();const l=pr.now();Jt.delta=xr(0,1e3/60,l-Jt.timestamp),Jt.timestamp=l,Jt.isProcessing=!0,Wf.update.process(Jt),Wf.preRender.process(Jt),Wf.render.process(Jt),Jt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ub.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(K7),this.sharedNodes.forEach(e9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,nt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){nt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Rt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!EE(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&(l||ta(this.latestValues)||u)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),r9(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return Rt();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(i9))){const{scroll:u}=this.root;u&&(ko(c.x,u.offset.x),ko(c.y,u.offset.y))}return c}removeElementScroll(o){var l;const c=Rt();if(ds(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:h,options:m}=u;u!==this.root&&h&&m.layoutScroll&&(h.wasRoot&&ds(c,o),ko(c.x,h.offset.x),ko(c.y,h.offset.y))}return c}applyTransform(o,l=!1){const c=Rt();ds(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&So(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),ta(u.latestValues)&&So(c,u.latestValues)}return ta(this.latestValues)&&So(c,this.latestValues),c}removeTransform(o){const l=Rt();ds(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!ta(d.latestValues))continue;S0(d.latestValues)&&d.updateSnapshot();const u=Rt(),h=d.measurePageBox();ds(u,h),Nj(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return ta(this.latestValues)&&Nj(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Jt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:m}=this.options;if(!(!this.layout||!(h||m))){if(this.resolvedRelativeTargetAt=Jt.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Rt(),this.relativeTargetOrigin=Rt(),$c(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),ds(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Rt(),this.targetWithTransforms=Rt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),l7(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ds(this.target,this.layout.layoutBox),jE(this.target,this.targetDelta)):ds(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Rt(),this.relativeTargetOrigin=Rt(),$c(this.relativeTargetOrigin,this.target,f.target),ds(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}gc&&na.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||S0(this.parent.latestValues)||wE(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Jt.timestamp&&(d=!1),d)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;ds(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,f=this.treeScale.y;x7(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Rt());const{target:x}=l;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(bj(this.prevProjectionDelta.x,this.projectionDelta.x),bj(this.prevProjectionDelta.y,this.projectionDelta.y)),Dc(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==f||!Ej(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ej(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),gc&&na.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=No(),this.projectionDelta=No(),this.projectionDeltaWithTransform=No()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},h=No();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=Rt(),f=c?c.source:void 0,x=this.layout?this.layout.source:void 0,g=f!==x,b=this.getStack(),y=!b||b.members.length<=1,v=!!(g&&!y&&this.options.crossfade===!0&&!this.path.some(n9));this.animationProgress=0;let w;this.mixTargetDelta=N=>{const j=N/1e3;Lj(h.x,o.x,j),Lj(h.y,o.y,j),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&($c(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),t9(this.relativeTarget,this.relativeTargetOrigin,m,j),w&&F7(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Rt()),ds(w,this.relativeTarget)),g&&(this.animationValues=u,A7(u,d,this.latestValues,j,v,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Hs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=nt.update(()=>{Ah.hasAnimatedSinceResize=!0,this.currentAnimation=P7(0,_j,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(_j),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&LE(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Rt();const h=rs(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const m=rs(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+m}ds(l,c),So(l,u),Dc(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new z7),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&eg("z",o,d,this.animationValues);for(let u=0;u<Jf.length;u++)eg(`rotate${Jf[u]}`,o,d,this.animationValues),eg(`skew${Jf[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return V7;const d={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=Th(o==null?void 0:o.pointerEvents)||"",d.transform=u?u(this.latestValues,""):"none",d;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=Th(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ta(this.latestValues)&&(g.transform=u?u({},""):"none",this.hasProjected=!1),g}const m=h.animationValues||h.latestValues;this.applyTransformsToTarget(),d.transform=B7(this.projectionDeltaWithTransform,this.treeScale,m),u&&(d.transform=u(m,d.transform));const{x:f,y:x}=this.projectionDelta;d.transformOrigin=`${f.origin*100}% ${x.origin*100}% 0`,h.animationValues?d.opacity=h===this?(c=(l=m.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:d.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const g in Ep){if(m[g]===void 0)continue;const{correct:b,applyTo:y}=Ep[g],v=d.transform==="none"?m[g]:b(m[g],h);if(y){const w=y.length;for(let N=0;N<w;N++)d[y[N]]=v}else d[g]=v}return this.options.layoutId&&(d.pointerEvents=h===this?Th(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(Mj),this.root.sharedNodes.clear()}}}function W7(t){t.updateLayout()}function H7(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:i}=t.layout,{animationType:a}=t.options,o=n.source!==t.layout.source;a==="size"?hs(h=>{const m=o?n.measuredBox[h]:n.layoutBox[h],f=rs(m);m.min=s[h].min,m.max=m.min+f}):LE(a,n.layoutBox,s)&&hs(h=>{const m=o?n.measuredBox[h]:n.layoutBox[h],f=rs(s[h]);m.max=m.min+f,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+f)});const l=No();Dc(l,s,n.layoutBox);const c=No();o?Dc(c,t.applyTransform(i,!0),n.measuredBox):Dc(c,s,n.layoutBox);const d=!EE(l);let u=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:f}=h;if(m&&f){const x=Rt();$c(x,n.layoutBox,m.layoutBox);const g=Rt();$c(g,s,f.layoutBox),_E(x,g)||(u=!0),h.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=x,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function q7(t){gc&&na.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function G7(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function K7(t){t.clearSnapshot()}function Mj(t){t.clearMeasurements()}function Y7(t){t.isLayoutDirty=!1}function X7(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Tj(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Z7(t){t.resolveTargetDelta()}function Q7(t){t.calcProjection()}function J7(t){t.resetSkewAndRotation()}function e9(t){t.removeLeadSnapshot()}function Lj(t,e,n){t.translate=kt(e.translate,0,n),t.scale=kt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Aj(t,e,n,s){t.min=kt(e.min,n.min,s),t.max=kt(e.max,n.max,s)}function t9(t,e,n,s){Aj(t.x,e.x,n.x,s),Aj(t.y,e.y,n.y,s)}function n9(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const s9={duration:.45,ease:[.4,0,.1,1]},Ij=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Oj=Ij("applewebkit/")&&!Ij("chrome/")?Math.round:Mn;function Rj(t){t.min=Oj(t.min),t.max=Oj(t.max)}function r9(t){Rj(t.x),Rj(t.y)}function LE(t,e,n){return t==="position"||t==="preserve-aspect"&&!o7(Pj(e),Pj(n),.2)}function i9(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const a9=TE({attachResizeListener:(t,e)=>wd(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),tg={current:void 0},AE=TE({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!tg.current){const t=new a9({});t.mount(window),t.setOptions({layoutScroll:!0}),tg.current=t}return tg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),o9={pan:{Feature:N7},drag:{Feature:j7,ProjectionNode:AE,MeasureLayout:SE}};function Dj(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=s[i];a&&nt.postRender(()=>a(e,nu(e)))}let l9=class extends Vi{mount(){const{current:e}=this.node;e&&(this.unmount=cR(e,n=>(Dj(this.node,n,"Start"),s=>Dj(this.node,s,"End"))))}unmount(){}},c9=class extends Vi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=tu(wd(this.node.current,"focus",()=>this.onFocus()),wd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}};function $j(t,e,n){const{props:s}=t;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=s[i];a&&nt.postRender(()=>a(e,nu(e)))}let d9=class extends Vi{mount(){const{current:e}=this.node;e&&(this.unmount=pR(e,n=>($j(this.node,n,"Start"),(s,{success:i})=>$j(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}};const P0=new WeakMap,ng=new WeakMap,u9=t=>{const e=P0.get(t.target);e&&e(t)},h9=t=>{t.forEach(u9)};function p9({root:t,...e}){const n=t||document;ng.has(n)||ng.set(n,{});const s=ng.get(n),i=JSON.stringify(e);return s[i]||(s[i]=new IntersectionObserver(h9,{root:t,...e})),s[i]}function m9(t,e,n){const s=p9(e);return P0.set(t,n),s.observe(t),()=>{P0.delete(t),s.unobserve(t)}}const f9={some:0,all:1};let g9=class extends Vi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:i="some",once:a}=e,o={root:n?n.current:void 0,rootMargin:s,threshold:typeof i=="number"?i:f9[i]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),m=d?u:h;m&&m(c)};return m9(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(x9(e,n))&&this.startObserver()}unmount(){}};function x9({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const v9={inView:{Feature:g9},tap:{Feature:d9},focus:{Feature:c9},hover:{Feature:l9}},y9={layout:{ProjectionNode:AE,MeasureLayout:SE}},E0={current:null},IE={current:!1};function b9(){if(IE.current=!0,!!rb)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>E0.current=t.matches;t.addListener(e),e()}else E0.current=!1}const w9=[...rE,mn,Li],j9=t=>w9.find(sE(t)),Fj=new WeakMap;function N9(t,e,n){for(const s in e){const i=e[s],a=n[s];if(yn(i))t.addValue(s,i);else if(yn(a))t.addValue(s,lr(i,{owner:t}));else if(a!==i)if(t.hasValue(s)){const o=t.getValue(s);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(s);t.addValue(s,lr(o!==void 0?o:i,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const zj=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let k9=class{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:i,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ib,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=pr.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,nt.render(this.render,!1,!0))};const{latestValues:c,renderState:d,onUpdate:u}=o;this.onUpdate=u,this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=Um(n),this.isVariantNode=uP(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in m){const x=m[f];c[f]!==void 0&&yn(x)&&x.set(c[f],!1)}}mount(e){this.current=e,Fj.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),IE.current||b9(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:E0.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Fj.delete(this.current),this.projection&&this.projection.unmount(),Hs(this.notifyUpdate),Hs(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Ga.has(e),i=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&nt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in rl){const n=rl[e];if(!n)continue;const{isEnabled:s,Feature:i}=n;if(!this.features[e]&&i&&s(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Rt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<zj.length;s++){const i=zj[s];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=e[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=N9(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=lr(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){var s;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(s=this.getBaseTargetFromProps(this.props,e))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(tE(i)||qP(i))?i=parseFloat(i):!j9(i)&&Li.test(n)&&(i=QP(e,n)),this.setBaseTarget(e,yn(i)?i.get():i)),yn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:s}=this.props;let i;if(typeof s=="string"||typeof s=="object"){const o=pb(this.props,s,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(s&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!yn(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Pb),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}},OE=class extends k9{constructor(){super(...arguments),this.KeyframeResolver=iE}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;yn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}};function S9(t){return window.getComputedStyle(t)}let C9=class extends OE{constructor(){super(...arguments),this.type="html",this.renderInstance=bP}readValueFromInstance(e,n){if(Ga.has(n)){const s=Ab(n);return s&&s.default||0}else{const s=S9(e),i=(xP(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return NE(e,n)}build(e,n,s){gb(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return bb(e,n,s)}},P9=class extends OE{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Rt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ga.has(n)){const s=Ab(n);return s&&s.default||0}return n=wP.has(n)?n:db(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return kP(e,n,s)}build(e,n,s){xb(e,n,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,s,i){jP(e,n,s,i)}mount(e){this.isSVGTag=yb(e.tagName),super.mount(e)}};const E9=(t,e)=>hb(t)?new P9(e):new C9(e,{allowProjection:t!==p.Fragment}),_9=rR({...QD,...v9,...o9,...y9},E9),ye=yO(_9);function RE(t,e){let n;const s=()=>{const{currentTime:i}=e,o=(i===null?0:i.value)/100;n!==o&&t(o),n=o};return nt.update(s,!0),()=>Hs(s)}const Ih=new WeakMap;let Xr;function M9(t,e){if(e){const{inlineSize:n,blockSize:s}=e[0];return{width:n,height:s}}else return t instanceof SVGElement&&"getBBox"in t?t.getBBox():{width:t.offsetWidth,height:t.offsetHeight}}function T9({target:t,contentRect:e,borderBoxSize:n}){var s;(s=Ih.get(t))===null||s===void 0||s.forEach(i=>{i({target:t,contentSize:e,get size(){return M9(t,n)}})})}function L9(t){t.forEach(T9)}function A9(){typeof ResizeObserver>"u"||(Xr=new ResizeObserver(L9))}function I9(t,e){Xr||A9();const n=AP(t);return n.forEach(s=>{let i=Ih.get(s);i||(i=new Set,Ih.set(s,i)),i.add(e),Xr==null||Xr.observe(s)}),()=>{n.forEach(s=>{const i=Ih.get(s);i==null||i.delete(e),i!=null&&i.size||Xr==null||Xr.unobserve(s)})}}const Oh=new Set;let Fc;function O9(){Fc=()=>{const t={width:window.innerWidth,height:window.innerHeight},e={target:window,size:t,contentSize:t};Oh.forEach(n=>n(e))},window.addEventListener("resize",Fc)}function R9(t){return Oh.add(t),Fc||O9(),()=>{Oh.delete(t),!Oh.size&&Fc&&(Fc=void 0)}}function D9(t,e){return typeof t=="function"?R9(t):I9(t,e)}const $9=50,Bj=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),F9=()=>({time:0,x:Bj(),y:Bj()}),z9={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function Vj(t,e,n,s){const i=n[e],{length:a,position:o}=z9[e],l=i.current,c=n.time;i.current=t[`scroll${o}`],i.scrollLength=t[`scroll${a}`]-t[`client${a}`],i.offset.length=0,i.offset[0]=0,i.offset[1]=i.scrollLength,i.progress=$a(0,i.scrollLength,i.current);const d=s-c;i.velocity=d>$9?0:Eb(i.current-l,d)}function B9(t,e,n){Vj(t,"x",e,n),Vj(t,"y",e,n),e.time=n}function V9(t,e){const n={x:0,y:0};let s=t;for(;s&&s!==e;)if(s instanceof HTMLElement)n.x+=s.offsetLeft,n.y+=s.offsetTop,s=s.offsetParent;else if(s.tagName==="svg"){const i=s.getBoundingClientRect();s=s.parentElement;const a=s.getBoundingClientRect();n.x+=i.left-a.left,n.y+=i.top-a.top}else if(s instanceof SVGGraphicsElement){const{x:i,y:a}=s.getBBox();n.x+=i,n.y+=a;let o=null,l=s.parentNode;for(;!o;)l.tagName==="svg"&&(o=l),l=s.parentNode;s=o}else break;return n}const _0={start:0,center:.5,end:1};function Uj(t,e,n=0){let s=0;if(t in _0&&(t=_0[t]),typeof t=="string"){const i=parseFloat(t);t.endsWith("px")?s=i:t.endsWith("%")?t=i/100:t.endsWith("vw")?s=i/100*document.documentElement.clientWidth:t.endsWith("vh")?s=i/100*document.documentElement.clientHeight:t=i}return typeof t=="number"&&(s=e*t),n+s}const U9=[0,0];function W9(t,e,n,s){let i=Array.isArray(t)?t:U9,a=0,o=0;return typeof t=="number"?i=[t,t]:typeof t=="string"&&(t=t.trim(),t.includes(" ")?i=t.split(" "):i=[t,_0[t]?t:"0"]),a=Uj(i[0],n,s),o=Uj(i[1],e),a-o}const H9={All:[[0,0],[1,1]]},q9={x:0,y:0};function G9(t){return"getBBox"in t&&t.tagName!=="svg"?t.getBBox():{width:t.clientWidth,height:t.clientHeight}}function K9(t,e,n){const{offset:s=H9.All}=n,{target:i=t,axis:a="y"}=n,o=a==="y"?"height":"width",l=i!==t?V9(i,t):q9,c=i===t?{width:t.scrollWidth,height:t.scrollHeight}:G9(i),d={width:t.clientWidth,height:t.clientHeight};e[a].offset.length=0;let u=!e[a].interpolate;const h=s.length;for(let m=0;m<h;m++){const f=W9(s[m],d[o],c[o],l[a]);!u&&f!==e[a].interpolatorOffsets[m]&&(u=!0),e[a].offset[m]=f}u&&(e[a].interpolate=Rb(e[a].offset,hE(s),{clamp:!1}),e[a].interpolatorOffsets=[...e[a].offset]),e[a].progress=xr(0,1,e[a].interpolate(e[a].current))}function Y9(t,e=t,n){if(n.x.targetOffset=0,n.y.targetOffset=0,e!==t){let s=e;for(;s&&s!==t;)n.x.targetOffset+=s.offsetLeft,n.y.targetOffset+=s.offsetTop,s=s.offsetParent}n.x.targetLength=e===t?e.scrollWidth:e.clientWidth,n.y.targetLength=e===t?e.scrollHeight:e.clientHeight,n.x.containerLength=t.clientWidth,n.y.containerLength=t.clientHeight}function X9(t,e,n,s={}){return{measure:()=>Y9(t,s.target,n),update:i=>{B9(t,n,i),(s.offset||s.target)&&K9(t,n,s)},notify:()=>e(n)}}const Hl=new WeakMap,Wj=new WeakMap,sg=new WeakMap,Hj=t=>t===document.documentElement?window:t;function Fb(t,{container:e=document.documentElement,...n}={}){let s=sg.get(e);s||(s=new Set,sg.set(e,s));const i=F9(),a=X9(e,t,i,n);if(s.add(a),!Hl.has(e)){const l=()=>{for(const m of s)m.measure()},c=()=>{for(const m of s)m.update(Jt.timestamp)},d=()=>{for(const m of s)m.notify()},u=()=>{nt.read(l,!1,!0),nt.read(c,!1,!0),nt.update(d,!1,!0)};Hl.set(e,u);const h=Hj(e);window.addEventListener("resize",u,{passive:!0}),e!==document.documentElement&&Wj.set(e,D9(e,u)),h.addEventListener("scroll",u,{passive:!0})}const o=Hl.get(e);return nt.read(o,!1,!0),()=>{var l;Hs(o);const c=sg.get(e);if(!c||(c.delete(a),c.size))return;const d=Hl.get(e);Hl.delete(e),d&&(Hj(e).removeEventListener("scroll",d),(l=Wj.get(e))===null||l===void 0||l(),window.removeEventListener("resize",d))}}function Z9({source:t,container:e,axis:n="y"}){t&&(e=t);const s={value:0},i=Fb(a=>{s.value=a[n].progress*100},{container:e,axis:n});return{currentTime:s,cancel:i}}const rg=new Map;function DE({source:t,container:e=document.documentElement,axis:n="y"}={}){t&&(e=t),rg.has(e)||rg.set(e,{});const s=rg.get(e);return s[n]||(s[n]=PP()?new ScrollTimeline({source:e,axis:n}):Z9({source:e,axis:n})),s[n]}function Q9(t){return t.length===2}function $E(t){return t&&(t.target||t.offset)}function J9(t,e){return Q9(t)||$E(e)?Fb(n=>{t(n[e.axis].progress,n)},e):RE(t,DE(e))}function e$(t,e){if(t.flatten(),$E(e))return t.pause(),Fb(n=>{t.time=t.duration*n[e.axis].progress},e);{const n=DE(e);return t.attachTimeline?t.attachTimeline(n,s=>(s.pause(),RE(i=>{s.time=s.duration*i},n))):Mn}}function t$(t,{axis:e="y",...n}={}){const s={axis:e,...n};return typeof t=="function"?J9(t,s):e$(t,s)}function qj(t,e){hO(!!(!e||e.current))}const n$=()=>({scrollX:lr(0),scrollY:lr(0),scrollXProgress:lr(0),scrollYProgress:lr(0)});function s$({container:t,target:e,layoutEffect:n=!0,...s}={}){const i=qa(n$);return(n?zm:p.useEffect)(()=>(qj("target",e),qj("container",t),t$((o,{x:l,y:c})=>{i.scrollX.set(l.current),i.scrollXProgress.set(l.progress),i.scrollY.set(c.current),i.scrollYProgress.set(c.progress)},{...s,container:(t==null?void 0:t.current)||void 0,target:(e==null?void 0:e.current)||void 0})),[t,e,JSON.stringify(s.offset)]),i}function r$(t){const e=qa(()=>lr(t)),{isStatic:n}=p.useContext(sl);if(n){const[,s]=p.useState(t);p.useEffect(()=>e.on("change",s),[])}return e}function FE(t,e){const n=r$(e()),s=()=>n.set(e());return s(),zm(()=>{const i=()=>nt.preRender(s,!1,!0),a=t.map(o=>o.on("change",i));return()=>{a.forEach(o=>o()),Hs(s)}}),n}const i$=t=>t&&typeof t=="object"&&t.mix,a$=t=>i$(t)?t.mix:void 0;function o$(...t){const e=!Array.isArray(t[0]),n=e?0:-1,s=t[0+n],i=t[1+n],a=t[2+n],o=t[3+n],l=Rb(i,a,{mixer:a$(a[0]),...o});return e?l(s):l}function l$(t){Ic.current=[],t();const e=FE(Ic.current,t);return Ic.current=void 0,e}function Gj(t,e,n,s){if(typeof t=="function")return l$(t);const i=typeof e=="function"?e:o$(e,n,s);return Array.isArray(t)?Kj(t,i):Kj([t],([a])=>i(a))}function Kj(t,e){const n=qa(()=>[]);return FE(t,()=>{n.length=0;const s=t.length;for(let i=0;i<s;i++)n[i]=t[i].get();return e(n)})}const M0=Fe.createContext(null);function c$(t){let{children:e}=t,n=p.useContext(M0),[s,i]=p.useState(0),a=p.useMemo(()=>({parent:n,modalCount:s,addModal(){i(o=>o+1),n&&n.addModal()},removeModal(){i(o=>o-1),n&&n.removeModal()}}),[n,s]);return Fe.createElement(M0.Provider,{value:a},e)}function d$(){let t=p.useContext(M0);return{modalProviderProps:{"aria-hidden":t&&t.modalCount>0?!0:void 0}}}function u$(t){let{modalProviderProps:e}=d$();return Fe.createElement("div",{"data-overlay-container":!0,...t,...e})}function h$(t){return Fe.createElement(c$,null,Fe.createElement(u$,t))}var zE=({children:t,navigate:e,disableAnimation:n,useHref:s,disableRipple:i=!1,skipFramerMotionAnimations:a=n,reducedMotion:o="never",validationBehavior:l,locale:c="en-US",labelPlacement:d,defaultDates:u,createCalendar:h,spinnerVariant:m,...f})=>{let x=t;e&&(x=r.jsx(iO,{navigate:e,useHref:s,children:x}));const g=p.useMemo(()=>(n&&a&&(ob.skipAnimations=!0),{createCalendar:h,defaultDates:u,disableAnimation:n,disableRipple:i,validationBehavior:l,labelPlacement:d,spinnerVariant:m}),[h,u==null?void 0:u.maxDate,u==null?void 0:u.minDate,n,i,l,d,m]);return r.jsx(RI,{value:g,children:r.jsx(YI,{locale:c,children:r.jsx(vO,{reducedMotion:o,children:r.jsx(h$,{...f,children:x})})})})},p$={".spinner-bar-animation":{"animation-delay":"calc(-1.2s + (0.1s * var(--bar-index)))",transform:"rotate(calc(30deg * var(--bar-index)))translate(140%)"},".spinner-dot-animation":{"animation-delay":"calc(250ms * var(--dot-index))"},".spinner-dot-blink-animation":{"animation-delay":"calc(200ms * var(--dot-index))"}},m$={".leading-inherit":{"line-height":"inherit"},".bg-img-inherit":{"background-image":"inherit"},".bg-clip-inherit":{"background-clip":"inherit"},".text-fill-inherit":{"-webkit-text-fill-color":"inherit"},".tap-highlight-transparent":{"-webkit-tap-highlight-color":"transparent"},".input-search-cancel-button-none":{"&::-webkit-search-cancel-button":{"-webkit-appearance":"none"}}},f$={".scrollbar-hide":{"-ms-overflow-style":"none","scrollbar-width":"none","&::-webkit-scrollbar":{display:"none"}},".scrollbar-default":{"-ms-overflow-style":"auto","scrollbar-width":"auto","&::-webkit-scrollbar":{display:"block"}}},g$={".text-tiny":{"font-size":"var(--heroui-font-size-tiny)","line-height":"var(--heroui-line-height-tiny)"},".text-small":{"font-size":"var(--heroui-font-size-small)","line-height":"var(--heroui-line-height-small)"},".text-medium":{"font-size":"var(--heroui-font-size-medium)","line-height":"var(--heroui-line-height-medium)"},".text-large":{"font-size":"var(--heroui-font-size-large)","line-height":"var(--heroui-line-height-large)"}},er="250ms",x$={".transition-background":{"transition-property":"background","transition-timing-function":"ease","transition-duration":er},".transition-colors-opacity":{"transition-property":"color, background-color, border-color, text-decoration-color, fill, stroke, opacity","transition-timing-function":"ease","transition-duration":er},".transition-width":{"transition-property":"width","transition-timing-function":"ease","transition-duration":er},".transition-height":{"transition-property":"height","transition-timing-function":"ease","transition-duration":er},".transition-size":{"transition-property":"width, height","transition-timing-function":"ease","transition-duration":er},".transition-left":{"transition-property":"left","transition-timing-function":"ease","transition-duration":er},".transition-transform-opacity":{"transition-property":"transform, scale, opacity rotate","transition-timing-function":"ease","transition-duration":er},".transition-transform-background":{"transition-property":"transform, scale, background","transition-timing-function":"ease","transition-duration":er},".transition-transform-colors":{"transition-property":"transform, scale, color, background, background-color, border-color, text-decoration-color, fill, stroke","transition-timing-function":"ease","transition-duration":er},".transition-transform-colors-opacity":{"transition-property":"transform, scale, color, background, background-color, border-color, text-decoration-color, fill, stroke, opacity","transition-timing-function":"ease","transition-duration":er}},v$={...m$,...x$,...f$,...g$,...p$},$u=["small","medium","large"],y$={theme:{spacing:["divider"],radius:$u},classGroups:{shadow:[{shadow:$u}],opacity:[{opacity:["disabled"]}],"font-size":[{text:["tiny",...$u]}],"border-w":[{border:$u}],"bg-image":["bg-stripe-gradient-default","bg-stripe-gradient-primary","bg-stripe-gradient-secondary","bg-stripe-gradient-success","bg-stripe-gradient-warning","bg-stripe-gradient-danger"],transition:Object.keys(v$).filter(t=>t.includes(".transition")).map(t=>t.replace(".",""))}};const zb="-",b$=t=>{const e=j$(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:o=>{const l=o.split(zb);return l[0]===""&&l.length!==1&&l.shift(),BE(l,e)||w$(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&s[o]?[...c,...s[o]]:c}}},BE=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],s=e.nextPart.get(n),i=s?BE(t.slice(1),s):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(zb);return(o=e.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},Yj=/^\[(.+)\]$/,w$=t=>{if(Yj.test(t)){const e=Yj.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},j$=t=>{const{theme:e,classGroups:n}=t,s={nextPart:new Map,validators:[]};for(const i in n)T0(n[i],s,i,e);return s},T0=(t,e,n,s)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:Xj(e,i);a.classGroupId=n;return}if(typeof i=="function"){if(N$(i)){T0(i(s),e,n,s);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,o])=>{T0(o,Xj(e,a),n,s)})})},Xj=(t,e)=>{let n=t;return e.split(zb).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},N$=t=>t.isThemeGetter,k$=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,s=new Map;const i=(a,o)=>{n.set(a,o),e++,e>t&&(e=0,s=n,n=new Map)};return{get(a){let o=n.get(a);if(o!==void 0)return o;if((o=s.get(a))!==void 0)return i(a,o),o},set(a,o){n.has(a)?n.set(a,o):i(a,o)}}},L0="!",A0=":",S$=A0.length,C$=t=>{const{prefix:e,experimentalParseClassName:n}=t;let s=i=>{const a=[];let o=0,l=0,c=0,d;for(let x=0;x<i.length;x++){let g=i[x];if(o===0&&l===0){if(g===A0){a.push(i.slice(c,x)),c=x+S$;continue}if(g==="/"){d=x;continue}}g==="["?o++:g==="]"?o--:g==="("?l++:g===")"&&l--}const u=a.length===0?i:i.substring(c),h=P$(u),m=h!==u,f=d&&d>c?d-c:void 0;return{modifiers:a,hasImportantModifier:m,baseClassName:h,maybePostfixModifierPosition:f}};if(e){const i=e+A0,a=s;s=o=>o.startsWith(i)?a(o.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const i=s;s=a=>n({className:a,parseClassName:i})}return s},P$=t=>t.endsWith(L0)?t.substring(0,t.length-1):t.startsWith(L0)?t.substring(1):t,E$=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const i=[];let a=[];return s.forEach(o=>{o[0]==="["||e[o]?(i.push(...a.sort(),o),a=[]):a.push(o)}),i.push(...a.sort()),i}},_$=t=>({cache:k$(t.cacheSize),parseClassName:C$(t),sortModifiers:E$(t),...b$(t)}),M$=/\s+/,T$=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:i,sortModifiers:a}=e,o=[],l=t.trim().split(M$);let c="";for(let d=l.length-1;d>=0;d-=1){const u=l[d],{isExternal:h,modifiers:m,hasImportantModifier:f,baseClassName:x,maybePostfixModifierPosition:g}=n(u);if(h){c=u+(c.length>0?" "+c:c);continue}let b=!!g,y=s(b?x.substring(0,g):x);if(!y){if(!b){c=u+(c.length>0?" "+c:c);continue}if(y=s(x),!y){c=u+(c.length>0?" "+c:c);continue}b=!1}const v=a(m).join(":"),w=f?v+L0:v,N=w+y;if(o.includes(N))continue;o.push(N);const j=i(y,b);for(let k=0;k<j.length;++k){const P=j[k];o.push(w+P)}c=u+(c.length>0?" "+c:c)}return c};function L$(){let t=0,e,n,s="";for(;t<arguments.length;)(e=arguments[t++])&&(n=VE(e))&&(s&&(s+=" "),s+=n);return s}const VE=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=VE(t[s]))&&(n&&(n+=" "),n+=e);return n};function Zj(t,...e){let n,s,i,a=o;function o(c){const d=e.reduce((u,h)=>h(u),t());return n=_$(d),s=n.cache.get,i=n.cache.set,a=l,l(c)}function l(c){const d=s(c);if(d)return d;const u=T$(c,n);return i(c,u),u}return function(){return a(L$.apply(null,arguments))}}const Gt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},UE=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,WE=/^\((?:(\w[\w-]*):)?(.+)\)$/i,A$=/^\d+\/\d+$/,I$=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,O$=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,R$=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,D$=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,$$=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ja=t=>A$.test(t),We=t=>!!t&&!Number.isNaN(Number(t)),Gr=t=>!!t&&Number.isInteger(Number(t)),ig=t=>t.endsWith("%")&&We(t.slice(0,-1)),jr=t=>I$.test(t),F$=()=>!0,z$=t=>O$.test(t)&&!R$.test(t),HE=()=>!1,B$=t=>D$.test(t),V$=t=>$$.test(t),U$=t=>!Me(t)&&!Te(t),W$=t=>jl(t,KE,HE),Me=t=>UE.test(t),Ki=t=>jl(t,YE,z$),ag=t=>jl(t,Y$,We),Qj=t=>jl(t,qE,HE),H$=t=>jl(t,GE,V$),Fu=t=>jl(t,XE,B$),Te=t=>WE.test(t),ql=t=>Nl(t,YE),q$=t=>Nl(t,X$),Jj=t=>Nl(t,qE),G$=t=>Nl(t,KE),K$=t=>Nl(t,GE),zu=t=>Nl(t,XE,!0),jl=(t,e,n)=>{const s=UE.exec(t);return s?s[1]?e(s[1]):n(s[2]):!1},Nl=(t,e,n=!1)=>{const s=WE.exec(t);return s?s[1]?e(s[1]):n:!1},qE=t=>t==="position"||t==="percentage",GE=t=>t==="image"||t==="url",KE=t=>t==="length"||t==="size"||t==="bg-size",YE=t=>t==="length",Y$=t=>t==="number",X$=t=>t==="family-name",XE=t=>t==="shadow",eN=()=>{const t=Gt("color"),e=Gt("font"),n=Gt("text"),s=Gt("font-weight"),i=Gt("tracking"),a=Gt("leading"),o=Gt("breakpoint"),l=Gt("container"),c=Gt("spacing"),d=Gt("radius"),u=Gt("shadow"),h=Gt("inset-shadow"),m=Gt("text-shadow"),f=Gt("drop-shadow"),x=Gt("blur"),g=Gt("perspective"),b=Gt("aspect"),y=Gt("ease"),v=Gt("animate"),w=()=>["auto","avoid","all","avoid-page","page","left","right","column"],N=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],j=()=>[...N(),Te,Me],k=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto","contain","none"],S=()=>[Te,Me,c],E=()=>[Ja,"full","auto",...S()],T=()=>[Gr,"none","subgrid",Te,Me],W=()=>["auto",{span:["full",Gr,Te,Me]},Gr,Te,Me],F=()=>[Gr,"auto",Te,Me],D=()=>["auto","min","max","fr",Te,Me],A=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],_=()=>["start","end","center","stretch","center-safe","end-safe"],z=()=>["auto",...S()],I=()=>[Ja,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],M=()=>[t,Te,Me],$=()=>[...N(),Jj,Qj,{position:[Te,Me]}],O=()=>["no-repeat",{repeat:["","x","y","space","round"]}],L=()=>["auto","cover","contain",G$,W$,{size:[Te,Me]}],Y=()=>[ig,ql,Ki],K=()=>["","none","full",d,Te,Me],B=()=>["",We,ql,Ki],U=()=>["solid","dashed","dotted","double"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],G=()=>[We,ig,Jj,Qj],X=()=>["","none",x,Te,Me],oe=()=>["none",We,Te,Me],ne=()=>["none",We,Te,Me],H=()=>[We,Te,Me],Z=()=>[Ja,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[jr],breakpoint:[jr],color:[F$],container:[jr],"drop-shadow":[jr],ease:["in","out","in-out"],font:[U$],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[jr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[jr],shadow:[jr],spacing:["px",We],text:[jr],"text-shadow":[jr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ja,Me,Te,b]}],container:["container"],columns:[{columns:[We,Me,Te,l]}],"break-after":[{"break-after":w()}],"break-before":[{"break-before":w()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:j()}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:E()}],"inset-x":[{"inset-x":E()}],"inset-y":[{"inset-y":E()}],start:[{start:E()}],end:[{end:E()}],top:[{top:E()}],right:[{right:E()}],bottom:[{bottom:E()}],left:[{left:E()}],visibility:["visible","invisible","collapse"],z:[{z:[Gr,"auto",Te,Me]}],basis:[{basis:[Ja,"full","auto",l,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[We,Ja,"auto","initial","none",Me]}],grow:[{grow:["",We,Te,Me]}],shrink:[{shrink:["",We,Te,Me]}],order:[{order:[Gr,"first","last","none",Te,Me]}],"grid-cols":[{"grid-cols":T()}],"col-start-end":[{col:W()}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":T()}],"row-start-end":[{row:W()}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":D()}],"auto-rows":[{"auto-rows":D()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...A(),"normal"]}],"justify-items":[{"justify-items":[..._(),"normal"]}],"justify-self":[{"justify-self":["auto",..._()]}],"align-content":[{content:["normal",...A()]}],"align-items":[{items:[..._(),{baseline:["","last"]}]}],"align-self":[{self:["auto",..._(),{baseline:["","last"]}]}],"place-content":[{"place-content":A()}],"place-items":[{"place-items":[..._(),"baseline"]}],"place-self":[{"place-self":["auto",..._()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:z()}],mx:[{mx:z()}],my:[{my:z()}],ms:[{ms:z()}],me:[{me:z()}],mt:[{mt:z()}],mr:[{mr:z()}],mb:[{mb:z()}],ml:[{ml:z()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:I()}],w:[{w:[l,"screen",...I()]}],"min-w":[{"min-w":[l,"screen","none",...I()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...I()]}],h:[{h:["screen","lh",...I()]}],"min-h":[{"min-h":["screen","lh","none",...I()]}],"max-h":[{"max-h":["screen","lh",...I()]}],"font-size":[{text:["base",n,ql,Ki]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,Te,ag]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",ig,Me]}],"font-family":[{font:[q$,Me,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Te,Me]}],"line-clamp":[{"line-clamp":[We,"none",Te,ag]}],leading:[{leading:[a,...S()]}],"list-image":[{"list-image":["none",Te,Me]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Te,Me]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:M()}],"text-color":[{text:M()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:[We,"from-font","auto",Te,Ki]}],"text-decoration-color":[{decoration:M()}],"underline-offset":[{"underline-offset":[We,"auto",Te,Me]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Te,Me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Te,Me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:$()}],"bg-repeat":[{bg:O()}],"bg-size":[{bg:L()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Gr,Te,Me],radial:["",Te,Me],conic:[Gr,Te,Me]},K$,H$]}],"bg-color":[{bg:M()}],"gradient-from-pos":[{from:Y()}],"gradient-via-pos":[{via:Y()}],"gradient-to-pos":[{to:Y()}],"gradient-from":[{from:M()}],"gradient-via":[{via:M()}],"gradient-to":[{to:M()}],rounded:[{rounded:K()}],"rounded-s":[{"rounded-s":K()}],"rounded-e":[{"rounded-e":K()}],"rounded-t":[{"rounded-t":K()}],"rounded-r":[{"rounded-r":K()}],"rounded-b":[{"rounded-b":K()}],"rounded-l":[{"rounded-l":K()}],"rounded-ss":[{"rounded-ss":K()}],"rounded-se":[{"rounded-se":K()}],"rounded-ee":[{"rounded-ee":K()}],"rounded-es":[{"rounded-es":K()}],"rounded-tl":[{"rounded-tl":K()}],"rounded-tr":[{"rounded-tr":K()}],"rounded-br":[{"rounded-br":K()}],"rounded-bl":[{"rounded-bl":K()}],"border-w":[{border:B()}],"border-w-x":[{"border-x":B()}],"border-w-y":[{"border-y":B()}],"border-w-s":[{"border-s":B()}],"border-w-e":[{"border-e":B()}],"border-w-t":[{"border-t":B()}],"border-w-r":[{"border-r":B()}],"border-w-b":[{"border-b":B()}],"border-w-l":[{"border-l":B()}],"divide-x":[{"divide-x":B()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":B()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...U(),"hidden","none"]}],"divide-style":[{divide:[...U(),"hidden","none"]}],"border-color":[{border:M()}],"border-color-x":[{"border-x":M()}],"border-color-y":[{"border-y":M()}],"border-color-s":[{"border-s":M()}],"border-color-e":[{"border-e":M()}],"border-color-t":[{"border-t":M()}],"border-color-r":[{"border-r":M()}],"border-color-b":[{"border-b":M()}],"border-color-l":[{"border-l":M()}],"divide-color":[{divide:M()}],"outline-style":[{outline:[...U(),"none","hidden"]}],"outline-offset":[{"outline-offset":[We,Te,Me]}],"outline-w":[{outline:["",We,ql,Ki]}],"outline-color":[{outline:M()}],shadow:[{shadow:["","none",u,zu,Fu]}],"shadow-color":[{shadow:M()}],"inset-shadow":[{"inset-shadow":["none",h,zu,Fu]}],"inset-shadow-color":[{"inset-shadow":M()}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:M()}],"ring-offset-w":[{"ring-offset":[We,Ki]}],"ring-offset-color":[{"ring-offset":M()}],"inset-ring-w":[{"inset-ring":B()}],"inset-ring-color":[{"inset-ring":M()}],"text-shadow":[{"text-shadow":["none",m,zu,Fu]}],"text-shadow-color":[{"text-shadow":M()}],opacity:[{opacity:[We,Te,Me]}],"mix-blend":[{"mix-blend":[...V(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":V()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[We]}],"mask-image-linear-from-pos":[{"mask-linear-from":G()}],"mask-image-linear-to-pos":[{"mask-linear-to":G()}],"mask-image-linear-from-color":[{"mask-linear-from":M()}],"mask-image-linear-to-color":[{"mask-linear-to":M()}],"mask-image-t-from-pos":[{"mask-t-from":G()}],"mask-image-t-to-pos":[{"mask-t-to":G()}],"mask-image-t-from-color":[{"mask-t-from":M()}],"mask-image-t-to-color":[{"mask-t-to":M()}],"mask-image-r-from-pos":[{"mask-r-from":G()}],"mask-image-r-to-pos":[{"mask-r-to":G()}],"mask-image-r-from-color":[{"mask-r-from":M()}],"mask-image-r-to-color":[{"mask-r-to":M()}],"mask-image-b-from-pos":[{"mask-b-from":G()}],"mask-image-b-to-pos":[{"mask-b-to":G()}],"mask-image-b-from-color":[{"mask-b-from":M()}],"mask-image-b-to-color":[{"mask-b-to":M()}],"mask-image-l-from-pos":[{"mask-l-from":G()}],"mask-image-l-to-pos":[{"mask-l-to":G()}],"mask-image-l-from-color":[{"mask-l-from":M()}],"mask-image-l-to-color":[{"mask-l-to":M()}],"mask-image-x-from-pos":[{"mask-x-from":G()}],"mask-image-x-to-pos":[{"mask-x-to":G()}],"mask-image-x-from-color":[{"mask-x-from":M()}],"mask-image-x-to-color":[{"mask-x-to":M()}],"mask-image-y-from-pos":[{"mask-y-from":G()}],"mask-image-y-to-pos":[{"mask-y-to":G()}],"mask-image-y-from-color":[{"mask-y-from":M()}],"mask-image-y-to-color":[{"mask-y-to":M()}],"mask-image-radial":[{"mask-radial":[Te,Me]}],"mask-image-radial-from-pos":[{"mask-radial-from":G()}],"mask-image-radial-to-pos":[{"mask-radial-to":G()}],"mask-image-radial-from-color":[{"mask-radial-from":M()}],"mask-image-radial-to-color":[{"mask-radial-to":M()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":N()}],"mask-image-conic-pos":[{"mask-conic":[We]}],"mask-image-conic-from-pos":[{"mask-conic-from":G()}],"mask-image-conic-to-pos":[{"mask-conic-to":G()}],"mask-image-conic-from-color":[{"mask-conic-from":M()}],"mask-image-conic-to-color":[{"mask-conic-to":M()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:$()}],"mask-repeat":[{mask:O()}],"mask-size":[{mask:L()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Te,Me]}],filter:[{filter:["","none",Te,Me]}],blur:[{blur:X()}],brightness:[{brightness:[We,Te,Me]}],contrast:[{contrast:[We,Te,Me]}],"drop-shadow":[{"drop-shadow":["","none",f,zu,Fu]}],"drop-shadow-color":[{"drop-shadow":M()}],grayscale:[{grayscale:["",We,Te,Me]}],"hue-rotate":[{"hue-rotate":[We,Te,Me]}],invert:[{invert:["",We,Te,Me]}],saturate:[{saturate:[We,Te,Me]}],sepia:[{sepia:["",We,Te,Me]}],"backdrop-filter":[{"backdrop-filter":["","none",Te,Me]}],"backdrop-blur":[{"backdrop-blur":X()}],"backdrop-brightness":[{"backdrop-brightness":[We,Te,Me]}],"backdrop-contrast":[{"backdrop-contrast":[We,Te,Me]}],"backdrop-grayscale":[{"backdrop-grayscale":["",We,Te,Me]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[We,Te,Me]}],"backdrop-invert":[{"backdrop-invert":["",We,Te,Me]}],"backdrop-opacity":[{"backdrop-opacity":[We,Te,Me]}],"backdrop-saturate":[{"backdrop-saturate":[We,Te,Me]}],"backdrop-sepia":[{"backdrop-sepia":["",We,Te,Me]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Te,Me]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[We,"initial",Te,Me]}],ease:[{ease:["linear","initial",y,Te,Me]}],delay:[{delay:[We,Te,Me]}],animate:[{animate:["none",v,Te,Me]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[g,Te,Me]}],"perspective-origin":[{"perspective-origin":j()}],rotate:[{rotate:oe()}],"rotate-x":[{"rotate-x":oe()}],"rotate-y":[{"rotate-y":oe()}],"rotate-z":[{"rotate-z":oe()}],scale:[{scale:ne()}],"scale-x":[{"scale-x":ne()}],"scale-y":[{"scale-y":ne()}],"scale-z":[{"scale-z":ne()}],"scale-3d":["scale-3d"],skew:[{skew:H()}],"skew-x":[{"skew-x":H()}],"skew-y":[{"skew-y":H()}],transform:[{transform:[Te,Me,"","none","gpu","cpu"]}],"transform-origin":[{origin:j()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Z()}],"translate-x":[{"translate-x":Z()}],"translate-y":[{"translate-y":Z()}],"translate-z":[{"translate-z":Z()}],"translate-none":["translate-none"],accent:[{accent:M()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:M()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Te,Me]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Te,Me]}],fill:[{fill:["none",...M()]}],"stroke-w":[{stroke:[We,ql,Ki,ag]}],stroke:[{stroke:["none",...M()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Z$=(t,{cacheSize:e,prefix:n,experimentalParseClassName:s,extend:i={},override:a={}})=>(xc(t,"cacheSize",e),xc(t,"prefix",n),xc(t,"experimentalParseClassName",s),Bu(t.theme,a.theme),Bu(t.classGroups,a.classGroups),Bu(t.conflictingClassGroups,a.conflictingClassGroups),Bu(t.conflictingClassGroupModifiers,a.conflictingClassGroupModifiers),xc(t,"orderSensitiveModifiers",a.orderSensitiveModifiers),Vu(t.theme,i.theme),Vu(t.classGroups,i.classGroups),Vu(t.conflictingClassGroups,i.conflictingClassGroups),Vu(t.conflictingClassGroupModifiers,i.conflictingClassGroupModifiers),ZE(t,i,"orderSensitiveModifiers"),t),xc=(t,e,n)=>{n!==void 0&&(t[e]=n)},Bu=(t,e)=>{if(e)for(const n in e)xc(t,n,e[n])},Vu=(t,e)=>{if(e)for(const n in e)ZE(t,e,n)},ZE=(t,e,n)=>{const s=e[n];s!==void 0&&(t[n]=t[n]?t[n].concat(s):s)},Q$=(t,...e)=>typeof t=="function"?Zj(eN,t,...e):Zj(()=>Z$(eN(),t),...e);function QE(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=QE(t[e]))&&(s&&(s+=" "),s+=n);else for(e in t)t[e]&&(s&&(s+=" "),s+=e);return s}function J$(){for(var t,e,n=0,s="";n<arguments.length;)(t=arguments[n++])&&(e=QE(t))&&(s&&(s+=" "),s+=e);return s}var eF=Q$({extend:y$});function tF(...t){return eF(J$(t))}const nF="modulepreload",sF=function(t){return"/"+t},tN={},qm=function(e,n,s){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=sF(c),c in tN)return;tN[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":nF,d||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((m,f)=>{h.addEventListener("load",m),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return e().catch(a)})};/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jd(){return jd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},jd.apply(this,arguments)}var di;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(di||(di={}));const nN="popstate";function rF(t){t===void 0&&(t={});function e(s,i){let{pathname:a,search:o,hash:l}=s.location;return I0("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){return typeof i=="string"?i:Ip(i)}return aF(e,n,null,t)}function zt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function JE(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function iF(){return Math.random().toString(36).substr(2,8)}function sN(t,e){return{usr:t.state,key:t.key,idx:e}}function I0(t,e,n,s){return n===void 0&&(n=null),jd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?kl(e):e,{state:n,key:e&&e.key||s||iF()})}function Ip(t){let{pathname:e="/",search:n="",hash:s=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function kl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}function aF(t,e,n,s){s===void 0&&(s={});let{window:i=document.defaultView,v5Compat:a=!1}=s,o=i.history,l=di.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(jd({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function h(){l=di.Pop;let b=u(),y=b==null?null:b-d;d=b,c&&c({action:l,location:g.location,delta:y})}function m(b,y){l=di.Push;let v=I0(g.location,b,y);d=u()+1;let w=sN(v,d),N=g.createHref(v);try{o.pushState(w,"",N)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(N)}a&&c&&c({action:l,location:g.location,delta:1})}function f(b,y){l=di.Replace;let v=I0(g.location,b,y);d=u();let w=sN(v,d),N=g.createHref(v);o.replaceState(w,"",N),a&&c&&c({action:l,location:g.location,delta:0})}function x(b){let y=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof b=="string"?b:Ip(b);return v=v.replace(/ $/,"%20"),zt(y,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,y)}let g={get action(){return l},get location(){return t(i,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(nN,h),c=b,()=>{i.removeEventListener(nN,h),c=null}},createHref(b){return e(i,b)},createURL:x,encodeLocation(b){let y=x(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:m,replace:f,go(b){return o.go(b)}};return g}var rN;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(rN||(rN={}));function oF(t,e,n){return n===void 0&&(n="/"),lF(t,e,n)}function lF(t,e,n,s){let i=typeof e=="string"?kl(e):e,a=Bb(i.pathname||"/",n);if(a==null)return null;let o=e_(t);cF(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=wF(a);l=vF(o[c],d)}return l}function e_(t,e,n,s){e===void 0&&(e=[]),n===void 0&&(n=[]),s===void 0&&(s="");let i=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(zt(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let d=Si([s,c.relativePath]),u=n.concat(c);a.children&&a.children.length>0&&(zt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),e_(a.children,e,u,d)),!(a.path==null&&!a.index)&&e.push({path:d,score:gF(d,a.index),routesMeta:u})};return t.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let c of t_(a.path))i(a,o,c)}),e}function t_(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(s.length===0)return i?[a,""]:[a];let o=t_(s.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function cF(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:xF(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const dF=/^:[\w-]+$/,uF=3,hF=2,pF=1,mF=10,fF=-2,iN=t=>t==="*";function gF(t,e){let n=t.split("/"),s=n.length;return n.some(iN)&&(s+=fF),e&&(s+=hF),n.filter(i=>!iN(i)).reduce((i,a)=>i+(dF.test(a)?uF:a===""?pF:mF),s)}function xF(t,e){return t.length===e.length&&t.slice(0,-1).every((s,i)=>s===e[i])?t[t.length-1]-e[e.length-1]:0}function vF(t,e,n){let{routesMeta:s}=t,i={},a="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],d=l===s.length-1,u=a==="/"?e:e.slice(a.length)||"/",h=yF({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),m=c.route;if(!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Si([a,h.pathname]),pathnameBase:SF(Si([a,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(a=Si([a,h.pathnameBase]))}return o}function yF(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=bF(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:s.reduce((d,u,h)=>{let{paramName:m,isOptional:f}=u;if(m==="*"){let g=l[h]||"";o=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const x=l[h];return f&&!x?d[m]=void 0:d[m]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:o,pattern:t}}function bF(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),JE(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),s]}function wF(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return JE(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Bb(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function jF(t,e){e===void 0&&(e="/");let{pathname:n,search:s="",hash:i=""}=typeof t=="string"?kl(t):t;return{pathname:n?n.startsWith("/")?n:NF(n,e):e,search:CF(s),hash:PF(i)}}function NF(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function og(t,e,n,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function kF(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Vb(t,e){let n=kF(t);return e?n.map((s,i)=>i===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function Ub(t,e,n,s){s===void 0&&(s=!1);let i;typeof t=="string"?i=kl(t):(i=jd({},t),zt(!i.pathname||!i.pathname.includes("?"),og("?","pathname","search",i)),zt(!i.pathname||!i.pathname.includes("#"),og("#","pathname","hash",i)),zt(!i.search||!i.search.includes("#"),og("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=n;else{let h=e.length-1;if(!s&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;i.pathname=m.join("/")}l=h>=0?e[h]:"/"}let c=jF(i,l),d=o&&o!=="/"&&o.endsWith("/"),u=(a||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Si=t=>t.join("/").replace(/\/\/+/g,"/"),SF=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),CF=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,PF=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function EF(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const n_=["post","put","patch","delete"];new Set(n_);const _F=["get",...n_];new Set(_F);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nd(){return Nd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Nd.apply(this,arguments)}const Wb=p.createContext(null),MF=p.createContext(null),Ui=p.createContext(null),Gm=p.createContext(null),Wr=p.createContext({outlet:null,matches:[],isDataRoute:!1}),s_=p.createContext(null);function TF(t,e){let{relative:n}=e===void 0?{}:e;Sl()||zt(!1);let{basename:s,navigator:i}=p.useContext(Ui),{hash:a,pathname:o,search:l}=i_(t,{relative:n}),c=o;return s!=="/"&&(c=o==="/"?s:Si([s,o])),i.createHref({pathname:c,search:l,hash:a})}function Sl(){return p.useContext(Gm)!=null}function qs(){return Sl()||zt(!1),p.useContext(Gm).location}function r_(t){p.useContext(Ui).static||p.useLayoutEffect(t)}function dt(){let{isDataRoute:t}=p.useContext(Wr);return t?WF():LF()}function LF(){Sl()||zt(!1);let t=p.useContext(Wb),{basename:e,future:n,navigator:s}=p.useContext(Ui),{matches:i}=p.useContext(Wr),{pathname:a}=qs(),o=JSON.stringify(Vb(i,n.v7_relativeSplatPath)),l=p.useRef(!1);return r_(()=>{l.current=!0}),p.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){s.go(d);return}let h=Ub(d,JSON.parse(o),a,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Si([e,h.pathname])),(u.replace?s.replace:s.push)(h,u.state,u)},[e,s,o,a,t])}function Hb(){let{matches:t}=p.useContext(Wr),e=t[t.length-1];return e?e.params:{}}function i_(t,e){let{relative:n}=e===void 0?{}:e,{future:s}=p.useContext(Ui),{matches:i}=p.useContext(Wr),{pathname:a}=qs(),o=JSON.stringify(Vb(i,s.v7_relativeSplatPath));return p.useMemo(()=>Ub(t,JSON.parse(o),a,n==="path"),[t,o,a,n])}function AF(t,e){return IF(t,e)}function IF(t,e,n,s){Sl()||zt(!1);let{navigator:i}=p.useContext(Ui),{matches:a}=p.useContext(Wr),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=qs(),u;if(e){var h;let b=typeof e=="string"?kl(e):e;c==="/"||(h=b.pathname)!=null&&h.startsWith(c)||zt(!1),u=b}else u=d;let m=u.pathname||"/",f=m;if(c!=="/"){let b=c.replace(/^\//,"").split("/");f="/"+m.replace(/^\//,"").split("/").slice(b.length).join("/")}let x=oF(t,{pathname:f}),g=FF(x&&x.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:Si([c,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Si([c,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),a,n,s);return e&&g?p.createElement(Gm.Provider,{value:{location:Nd({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:di.Pop}},g):g}function OF(){let t=UF(),e=EF(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},e),n?p.createElement("pre",{style:i},n):null,null)}const RF=p.createElement(OF,null);class DF extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?p.createElement(Wr.Provider,{value:this.props.routeContext},p.createElement(s_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $F(t){let{routeContext:e,match:n,children:s}=t,i=p.useContext(Wb);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(Wr.Provider,{value:e},s)}function FF(t,e,n,s){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),s===void 0&&(s=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=s)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let u=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);u>=0||zt(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(n&&s&&s.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:m,errors:f}=n,x=h.route.loader&&m[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||x){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,h,m)=>{let f,x=!1,g=null,b=null;n&&(f=l&&h.route.id?l[h.route.id]:void 0,g=h.route.errorElement||RF,c&&(d<0&&m===0?(HF("route-fallback"),x=!0,b=null):d===m&&(x=!0,b=h.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,m+1)),v=()=>{let w;return f?w=g:x?w=b:h.route.Component?w=p.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=u,p.createElement($F,{match:h,routeContext:{outlet:u,matches:y,isDataRoute:n!=null},children:w})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?p.createElement(DF,{location:n.location,revalidation:n.revalidation,component:g,error:f,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):v()},null)}var a_=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(a_||{}),o_=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(o_||{});function zF(t){let e=p.useContext(Wb);return e||zt(!1),e}function BF(t){let e=p.useContext(MF);return e||zt(!1),e}function VF(t){let e=p.useContext(Wr);return e||zt(!1),e}function l_(t){let e=VF(),n=e.matches[e.matches.length-1];return n.route.id||zt(!1),n.route.id}function UF(){var t;let e=p.useContext(s_),n=BF(),s=l_();return e!==void 0?e:(t=n.errors)==null?void 0:t[s]}function WF(){let{router:t}=zF(a_.UseNavigateStable),e=l_(o_.UseNavigateStable),n=p.useRef(!1);return r_(()=>{n.current=!0}),p.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Nd({fromRouteId:e},a)))},[t,e])}const aN={};function HF(t,e,n){aN[t]||(aN[t]=!0)}function qF(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function GF(t){let{to:e,replace:n,state:s,relative:i}=t;Sl()||zt(!1);let{future:a,static:o}=p.useContext(Ui),{matches:l}=p.useContext(Wr),{pathname:c}=qs(),d=dt(),u=Ub(e,Vb(l,a.v7_relativeSplatPath),c,i==="path"),h=JSON.stringify(u);return p.useEffect(()=>d(JSON.parse(h),{replace:n,state:s,relative:i}),[d,h,i,n,s]),null}function Qe(t){zt(!1)}function KF(t){let{basename:e="/",children:n=null,location:s,navigationType:i=di.Pop,navigator:a,static:o=!1,future:l}=t;Sl()&&zt(!1);let c=e.replace(/^\/*/,"/"),d=p.useMemo(()=>({basename:c,navigator:a,static:o,future:Nd({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof s=="string"&&(s=kl(s));let{pathname:u="/",search:h="",hash:m="",state:f=null,key:x="default"}=s,g=p.useMemo(()=>{let b=Bb(u,c);return b==null?null:{location:{pathname:b,search:h,hash:m,state:f,key:x},navigationType:i}},[c,u,h,m,f,x,i]);return g==null?null:p.createElement(Ui.Provider,{value:d},p.createElement(Gm.Provider,{children:n,value:g}))}function YF(t){let{children:e,location:n}=t;return AF(O0(e),n)}new Promise(()=>{});function O0(t,e){e===void 0&&(e=[]);let n=[];return p.Children.forEach(t,(s,i)=>{if(!p.isValidElement(s))return;let a=[...e,i];if(s.type===p.Fragment){n.push.apply(n,O0(s.props.children,a));return}s.type!==Qe&&zt(!1),!s.props.index||!s.props.children||zt(!1);let o={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=O0(s.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function R0(){return R0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},R0.apply(this,arguments)}function XF(t,e){if(t==null)return{};var n={},s=Object.keys(t),i,a;for(a=0;a<s.length;a++)i=s[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ZF(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function QF(t,e){return t.button===0&&(!e||e==="_self")&&!ZF(t)}function D0(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let s=t[n];return e.concat(Array.isArray(s)?s.map(i=>[n,i]):[[n,s]])},[]))}function JF(t,e){let n=D0(t);return e&&e.forEach((s,i)=>{n.has(i)||e.getAll(i).forEach(a=>{n.append(i,a)})}),n}const ez=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],tz="6";try{window.__reactRouterVersion=tz}catch{}const nz="startTransition",oN=kA[nz];function sz(t){let{basename:e,children:n,future:s,window:i}=t,a=p.useRef();a.current==null&&(a.current=rF({window:i,v5Compat:!0}));let o=a.current,[l,c]=p.useState({action:o.action,location:o.location}),{v7_startTransition:d}=s||{},u=p.useCallback(h=>{d&&oN?oN(()=>c(h)):c(h)},[c,d]);return p.useLayoutEffect(()=>o.listen(u),[o,u]),p.useEffect(()=>qF(s),[s]),p.createElement(KF,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:s})}const rz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",iz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ae=p.forwardRef(function(e,n){let{onClick:s,relative:i,reloadDocument:a,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:h}=e,m=XF(e,ez),{basename:f}=p.useContext(Ui),x,g=!1;if(typeof d=="string"&&iz.test(d)&&(x=d,rz))try{let w=new URL(window.location.href),N=d.startsWith("//")?new URL(w.protocol+d):new URL(d),j=Bb(N.pathname,f);N.origin===w.origin&&j!=null?d=j+N.search+N.hash:g=!0}catch{}let b=TF(d,{relative:i}),y=az(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:i,viewTransition:h});function v(w){s&&s(w),w.defaultPrevented||y(w)}return p.createElement("a",R0({},m,{href:x||b,onClick:g||a?s:v,ref:n,target:c}))});var lN;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(lN||(lN={}));var cN;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(cN||(cN={}));function az(t,e){let{target:n,replace:s,state:i,preventScrollReset:a,relative:o,viewTransition:l}=e===void 0?{}:e,c=dt(),d=qs(),u=i_(t,{relative:o});return p.useCallback(h=>{if(QF(h,n)){h.preventDefault();let m=s!==void 0?s:Ip(d)===Ip(u);c(t,{replace:m,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[d,c,u,s,i,n,t,a,o,l])}function qb(t){let e=p.useRef(D0(t)),n=p.useRef(!1),s=qs(),i=p.useMemo(()=>JF(s.search,n.current?null:e.current),[s.search]),a=dt(),o=p.useCallback((l,c)=>{const d=D0(typeof l=="function"?l(i):l);n.current=!0,a("?"+d,c)},[a,i]);return[i,o]}function c_(t,e){return function(){return t.apply(e,arguments)}}const{toString:oz}=Object.prototype,{getPrototypeOf:Gb}=Object,{iterator:Km,toStringTag:d_}=Symbol,Ym=(t=>e=>{const n=oz.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Gs=t=>(t=t.toLowerCase(),e=>Ym(e)===t),Xm=t=>e=>typeof e===t,{isArray:Cl}=Array,kd=Xm("undefined");function su(t){return t!==null&&!kd(t)&&t.constructor!==null&&!kd(t.constructor)&&Bn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const u_=Gs("ArrayBuffer");function lz(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&u_(t.buffer),e}const cz=Xm("string"),Bn=Xm("function"),h_=Xm("number"),ru=t=>t!==null&&typeof t=="object",dz=t=>t===!0||t===!1,Rh=t=>{if(Ym(t)!=="object")return!1;const e=Gb(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(d_ in t)&&!(Km in t)},uz=t=>{if(!ru(t)||su(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},hz=Gs("Date"),pz=Gs("File"),mz=Gs("Blob"),fz=Gs("FileList"),gz=t=>ru(t)&&Bn(t.pipe),xz=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Bn(t.append)&&((e=Ym(t))==="formdata"||e==="object"&&Bn(t.toString)&&t.toString()==="[object FormData]"))},vz=Gs("URLSearchParams"),[yz,bz,wz,jz]=["ReadableStream","Request","Response","Headers"].map(Gs),Nz=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function iu(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let s,i;if(typeof t!="object"&&(t=[t]),Cl(t))for(s=0,i=t.length;s<i;s++)e.call(null,t[s],s,t);else{if(su(t))return;const a=n?Object.getOwnPropertyNames(t):Object.keys(t),o=a.length;let l;for(s=0;s<o;s++)l=a[s],e.call(null,t[l],l,t)}}function p_(t,e){if(su(t))return null;e=e.toLowerCase();const n=Object.keys(t);let s=n.length,i;for(;s-- >0;)if(i=n[s],e===i.toLowerCase())return i;return null}const pa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,m_=t=>!kd(t)&&t!==pa;function $0(){const{caseless:t}=m_(this)&&this||{},e={},n=(s,i)=>{const a=t&&p_(e,i)||i;Rh(e[a])&&Rh(s)?e[a]=$0(e[a],s):Rh(s)?e[a]=$0({},s):Cl(s)?e[a]=s.slice():e[a]=s};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&iu(arguments[s],n);return e}const kz=(t,e,n,{allOwnKeys:s}={})=>(iu(e,(i,a)=>{n&&Bn(i)?t[a]=c_(i,n):t[a]=i},{allOwnKeys:s}),t),Sz=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Cz=(t,e,n,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Pz=(t,e,n,s)=>{let i,a,o;const l={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),a=i.length;a-- >0;)o=i[a],(!s||s(o,t,e))&&!l[o]&&(e[o]=t[o],l[o]=!0);t=n!==!1&&Gb(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Ez=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const s=t.indexOf(e,n);return s!==-1&&s===n},_z=t=>{if(!t)return null;if(Cl(t))return t;let e=t.length;if(!h_(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Mz=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Gb(Uint8Array)),Tz=(t,e)=>{const s=(t&&t[Km]).call(t);let i;for(;(i=s.next())&&!i.done;){const a=i.value;e.call(t,a[0],a[1])}},Lz=(t,e)=>{let n;const s=[];for(;(n=t.exec(e))!==null;)s.push(n);return s},Az=Gs("HTMLFormElement"),Iz=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,i){return s.toUpperCase()+i}),dN=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Oz=Gs("RegExp"),f_=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),s={};iu(n,(i,a)=>{let o;(o=e(i,a,t))!==!1&&(s[a]=o||i)}),Object.defineProperties(t,s)},Rz=t=>{f_(t,(e,n)=>{if(Bn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=t[n];if(Bn(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Dz=(t,e)=>{const n={},s=i=>{i.forEach(a=>{n[a]=!0})};return Cl(t)?s(t):s(String(t).split(e)),n},$z=()=>{},Fz=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function zz(t){return!!(t&&Bn(t.append)&&t[d_]==="FormData"&&t[Km])}const Bz=t=>{const e=new Array(10),n=(s,i)=>{if(ru(s)){if(e.indexOf(s)>=0)return;if(su(s))return s;if(!("toJSON"in s)){e[i]=s;const a=Cl(s)?[]:{};return iu(s,(o,l)=>{const c=n(o,i+1);!kd(c)&&(a[l]=c)}),e[i]=void 0,a}}return s};return n(t,0)},Vz=Gs("AsyncFunction"),Uz=t=>t&&(ru(t)||Bn(t))&&Bn(t.then)&&Bn(t.catch),g_=((t,e)=>t?setImmediate:e?((n,s)=>(pa.addEventListener("message",({source:i,data:a})=>{i===pa&&a===n&&s.length&&s.shift()()},!1),i=>{s.push(i),pa.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Bn(pa.postMessage)),Wz=typeof queueMicrotask<"u"?queueMicrotask.bind(pa):typeof process<"u"&&process.nextTick||g_,Hz=t=>t!=null&&Bn(t[Km]),he={isArray:Cl,isArrayBuffer:u_,isBuffer:su,isFormData:xz,isArrayBufferView:lz,isString:cz,isNumber:h_,isBoolean:dz,isObject:ru,isPlainObject:Rh,isEmptyObject:uz,isReadableStream:yz,isRequest:bz,isResponse:wz,isHeaders:jz,isUndefined:kd,isDate:hz,isFile:pz,isBlob:mz,isRegExp:Oz,isFunction:Bn,isStream:gz,isURLSearchParams:vz,isTypedArray:Mz,isFileList:fz,forEach:iu,merge:$0,extend:kz,trim:Nz,stripBOM:Sz,inherits:Cz,toFlatObject:Pz,kindOf:Ym,kindOfTest:Gs,endsWith:Ez,toArray:_z,forEachEntry:Tz,matchAll:Lz,isHTMLForm:Az,hasOwnProperty:dN,hasOwnProp:dN,reduceDescriptors:f_,freezeMethods:Rz,toObjectSet:Dz,toCamelCase:Iz,noop:$z,toFiniteNumber:Fz,findKey:p_,global:pa,isContextDefined:m_,isSpecCompliantForm:zz,toJSONObject:Bz,isAsyncFn:Vz,isThenable:Uz,setImmediate:g_,asap:Wz,isIterable:Hz};function Be(t,e,n,s,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),s&&(this.request=s),i&&(this.response=i,this.status=i.status?i.status:null)}he.inherits(Be,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:he.toJSONObject(this.config),code:this.code,status:this.status}}});const x_=Be.prototype,v_={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{v_[t]={value:t}});Object.defineProperties(Be,v_);Object.defineProperty(x_,"isAxiosError",{value:!0});Be.from=(t,e,n,s,i,a)=>{const o=Object.create(x_);return he.toFlatObject(t,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),Be.call(o,t.message,e,n,s,i),o.cause=t,o.name=t.name,a&&Object.assign(o,a),o};const qz=null;function F0(t){return he.isPlainObject(t)||he.isArray(t)}function y_(t){return he.endsWith(t,"[]")?t.slice(0,-2):t}function uN(t,e,n){return t?t.concat(e).map(function(i,a){return i=y_(i),!n&&a?"["+i+"]":i}).join(n?".":""):e}function Gz(t){return he.isArray(t)&&!t.some(F0)}const Kz=he.toFlatObject(he,{},null,function(e){return/^is[A-Z]/.test(e)});function Zm(t,e,n){if(!he.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=he.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,b){return!he.isUndefined(b[g])});const s=n.metaTokens,i=n.visitor||u,a=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&he.isSpecCompliantForm(e);if(!he.isFunction(i))throw new TypeError("visitor must be a function");function d(x){if(x===null)return"";if(he.isDate(x))return x.toISOString();if(he.isBoolean(x))return x.toString();if(!c&&he.isBlob(x))throw new Be("Blob is not supported. Use a Buffer instead.");return he.isArrayBuffer(x)||he.isTypedArray(x)?c&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function u(x,g,b){let y=x;if(x&&!b&&typeof x=="object"){if(he.endsWith(g,"{}"))g=s?g:g.slice(0,-2),x=JSON.stringify(x);else if(he.isArray(x)&&Gz(x)||(he.isFileList(x)||he.endsWith(g,"[]"))&&(y=he.toArray(x)))return g=y_(g),y.forEach(function(w,N){!(he.isUndefined(w)||w===null)&&e.append(o===!0?uN([g],N,a):o===null?g:g+"[]",d(w))}),!1}return F0(x)?!0:(e.append(uN(b,g,a),d(x)),!1)}const h=[],m=Object.assign(Kz,{defaultVisitor:u,convertValue:d,isVisitable:F0});function f(x,g){if(!he.isUndefined(x)){if(h.indexOf(x)!==-1)throw Error("Circular reference detected in "+g.join("."));h.push(x),he.forEach(x,function(y,v){(!(he.isUndefined(y)||y===null)&&i.call(e,y,he.isString(v)?v.trim():v,g,m))===!0&&f(y,g?g.concat(v):[v])}),h.pop()}}if(!he.isObject(t))throw new TypeError("data must be an object");return f(t),e}function hN(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function Kb(t,e){this._pairs=[],t&&Zm(t,this,e)}const b_=Kb.prototype;b_.append=function(e,n){this._pairs.push([e,n])};b_.toString=function(e){const n=e?function(s){return e.call(this,s,hN)}:hN;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function Yz(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function w_(t,e,n){if(!e)return t;const s=n&&n.encode||Yz;he.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let a;if(i?a=i(e,n):a=he.isURLSearchParams(e)?e.toString():new Kb(e,n).toString(s),a){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class pN{constructor(){this.handlers=[]}use(e,n,s){return this.handlers.push({fulfilled:e,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){he.forEach(this.handlers,function(s){s!==null&&e(s)})}}const j_={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Xz=typeof URLSearchParams<"u"?URLSearchParams:Kb,Zz=typeof FormData<"u"?FormData:null,Qz=typeof Blob<"u"?Blob:null,Jz={isBrowser:!0,classes:{URLSearchParams:Xz,FormData:Zz,Blob:Qz},protocols:["http","https","file","blob","url","data"]},Yb=typeof window<"u"&&typeof document<"u",z0=typeof navigator=="object"&&navigator||void 0,eB=Yb&&(!z0||["ReactNative","NativeScript","NS"].indexOf(z0.product)<0),tB=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",nB=Yb&&window.location.href||"http://localhost",sB=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Yb,hasStandardBrowserEnv:eB,hasStandardBrowserWebWorkerEnv:tB,navigator:z0,origin:nB},Symbol.toStringTag,{value:"Module"})),xn={...sB,...Jz};function rB(t,e){return Zm(t,new xn.classes.URLSearchParams,{visitor:function(n,s,i,a){return xn.isNode&&he.isBuffer(n)?(this.append(s,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...e})}function iB(t){return he.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function aB(t){const e={},n=Object.keys(t);let s;const i=n.length;let a;for(s=0;s<i;s++)a=n[s],e[a]=t[a];return e}function N_(t){function e(n,s,i,a){let o=n[a++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=a>=n.length;return o=!o&&he.isArray(i)?i.length:o,c?(he.hasOwnProp(i,o)?i[o]=[i[o],s]:i[o]=s,!l):((!i[o]||!he.isObject(i[o]))&&(i[o]=[]),e(n,s,i[o],a)&&he.isArray(i[o])&&(i[o]=aB(i[o])),!l)}if(he.isFormData(t)&&he.isFunction(t.entries)){const n={};return he.forEachEntry(t,(s,i)=>{e(iB(s),i,n,0)}),n}return null}function oB(t,e,n){if(he.isString(t))try{return(e||JSON.parse)(t),he.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(t)}const au={transitional:j_,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const s=n.getContentType()||"",i=s.indexOf("application/json")>-1,a=he.isObject(e);if(a&&he.isHTMLForm(e)&&(e=new FormData(e)),he.isFormData(e))return i?JSON.stringify(N_(e)):e;if(he.isArrayBuffer(e)||he.isBuffer(e)||he.isStream(e)||he.isFile(e)||he.isBlob(e)||he.isReadableStream(e))return e;if(he.isArrayBufferView(e))return e.buffer;if(he.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(a){if(s.indexOf("application/x-www-form-urlencoded")>-1)return rB(e,this.formSerializer).toString();if((l=he.isFileList(e))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Zm(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return a||i?(n.setContentType("application/json",!1),oB(e)):e}],transformResponse:[function(e){const n=this.transitional||au.transitional,s=n&&n.forcedJSONParsing,i=this.responseType==="json";if(he.isResponse(e)||he.isReadableStream(e))return e;if(e&&he.isString(e)&&(s&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?Be.from(l,Be.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:xn.classes.FormData,Blob:xn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};he.forEach(["delete","get","head","post","put","patch"],t=>{au.headers[t]={}});const lB=he.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),cB=t=>{const e={};let n,s,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),s=o.substring(i+1).trim(),!(!n||e[n]&&lB[n])&&(n==="set-cookie"?e[n]?e[n].push(s):e[n]=[s]:e[n]=e[n]?e[n]+", "+s:s)}),e},mN=Symbol("internals");function Gl(t){return t&&String(t).trim().toLowerCase()}function Dh(t){return t===!1||t==null?t:he.isArray(t)?t.map(Dh):String(t)}function dB(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(t);)e[s[1]]=s[2];return e}const uB=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function lg(t,e,n,s,i){if(he.isFunction(s))return s.call(this,e,n);if(i&&(e=n),!!he.isString(e)){if(he.isString(s))return e.indexOf(s)!==-1;if(he.isRegExp(s))return s.test(e)}}function hB(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,s)=>n.toUpperCase()+s)}function pB(t,e){const n=he.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+n,{value:function(i,a,o){return this[s].call(this,e,i,a,o)},configurable:!0})})}let Vn=class{constructor(e){e&&this.set(e)}set(e,n,s){const i=this;function a(l,c,d){const u=Gl(c);if(!u)throw new Error("header name must be a non-empty string");const h=he.findKey(i,u);(!h||i[h]===void 0||d===!0||d===void 0&&i[h]!==!1)&&(i[h||c]=Dh(l))}const o=(l,c)=>he.forEach(l,(d,u)=>a(d,u,c));if(he.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(he.isString(e)&&(e=e.trim())&&!uB(e))o(cB(e),n);else if(he.isObject(e)&&he.isIterable(e)){let l={},c,d;for(const u of e){if(!he.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[d=u[0]]=(c=l[d])?he.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}o(l,n)}else e!=null&&a(n,e,s);return this}get(e,n){if(e=Gl(e),e){const s=he.findKey(this,e);if(s){const i=this[s];if(!n)return i;if(n===!0)return dB(i);if(he.isFunction(n))return n.call(this,i,s);if(he.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Gl(e),e){const s=he.findKey(this,e);return!!(s&&this[s]!==void 0&&(!n||lg(this,this[s],s,n)))}return!1}delete(e,n){const s=this;let i=!1;function a(o){if(o=Gl(o),o){const l=he.findKey(s,o);l&&(!n||lg(s,s[l],l,n))&&(delete s[l],i=!0)}}return he.isArray(e)?e.forEach(a):a(e),i}clear(e){const n=Object.keys(this);let s=n.length,i=!1;for(;s--;){const a=n[s];(!e||lg(this,this[a],a,e,!0))&&(delete this[a],i=!0)}return i}normalize(e){const n=this,s={};return he.forEach(this,(i,a)=>{const o=he.findKey(s,a);if(o){n[o]=Dh(i),delete n[a];return}const l=e?hB(a):String(a).trim();l!==a&&delete n[a],n[l]=Dh(i),s[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return he.forEach(this,(s,i)=>{s!=null&&s!==!1&&(n[i]=e&&he.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const s=new this(e);return n.forEach(i=>s.set(i)),s}static accessor(e){const s=(this[mN]=this[mN]={accessors:{}}).accessors,i=this.prototype;function a(o){const l=Gl(o);s[l]||(pB(i,o),s[l]=!0)}return he.isArray(e)?e.forEach(a):a(e),this}};Vn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);he.reduceDescriptors(Vn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[n]=s}}});he.freezeMethods(Vn);function cg(t,e){const n=this||au,s=e||n,i=Vn.from(s.headers);let a=s.data;return he.forEach(t,function(l){a=l.call(n,a,i.normalize(),e?e.status:void 0)}),i.normalize(),a}function k_(t){return!!(t&&t.__CANCEL__)}function Pl(t,e,n){Be.call(this,t??"canceled",Be.ERR_CANCELED,e,n),this.name="CanceledError"}he.inherits(Pl,Be,{__CANCEL__:!0});function S_(t,e,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?t(n):e(new Be("Request failed with status code "+n.status,[Be.ERR_BAD_REQUEST,Be.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function mB(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function fB(t,e){t=t||10;const n=new Array(t),s=new Array(t);let i=0,a=0,o;return e=e!==void 0?e:1e3,function(c){const d=Date.now(),u=s[a];o||(o=d),n[i]=c,s[i]=d;let h=a,m=0;for(;h!==i;)m+=n[h++],h=h%t;if(i=(i+1)%t,i===a&&(a=(a+1)%t),d-o<e)return;const f=u&&d-u;return f?Math.round(m*1e3/f):void 0}}function gB(t,e){let n=0,s=1e3/e,i,a;const o=(d,u=Date.now())=>{n=u,i=null,a&&(clearTimeout(a),a=null),t(...d)};return[(...d)=>{const u=Date.now(),h=u-n;h>=s?o(d,u):(i=d,a||(a=setTimeout(()=>{a=null,o(i)},s-h)))},()=>i&&o(i)]}const Op=(t,e,n=3)=>{let s=0;const i=fB(50,250);return gB(a=>{const o=a.loaded,l=a.lengthComputable?a.total:void 0,c=o-s,d=i(c),u=o<=l;s=o;const h={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&u?(l-o)/d:void 0,event:a,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(h)},n)},fN=(t,e)=>{const n=t!=null;return[s=>e[0]({lengthComputable:n,total:t,loaded:s}),e[1]]},gN=t=>(...e)=>he.asap(()=>t(...e)),xB=xn.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,xn.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(xn.origin),xn.navigator&&/(msie|trident)/i.test(xn.navigator.userAgent)):()=>!0,vB=xn.hasStandardBrowserEnv?{write(t,e,n,s,i,a){const o=[t+"="+encodeURIComponent(e)];he.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),he.isString(s)&&o.push("path="+s),he.isString(i)&&o.push("domain="+i),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function yB(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function bB(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function C_(t,e,n){let s=!yB(e);return t&&(s||n==!1)?bB(t,e):e}const xN=t=>t instanceof Vn?{...t}:t;function Fa(t,e){e=e||{};const n={};function s(d,u,h,m){return he.isPlainObject(d)&&he.isPlainObject(u)?he.merge.call({caseless:m},d,u):he.isPlainObject(u)?he.merge({},u):he.isArray(u)?u.slice():u}function i(d,u,h,m){if(he.isUndefined(u)){if(!he.isUndefined(d))return s(void 0,d,h,m)}else return s(d,u,h,m)}function a(d,u){if(!he.isUndefined(u))return s(void 0,u)}function o(d,u){if(he.isUndefined(u)){if(!he.isUndefined(d))return s(void 0,d)}else return s(void 0,u)}function l(d,u,h){if(h in e)return s(d,u);if(h in t)return s(void 0,d)}const c={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,u,h)=>i(xN(d),xN(u),h,!0)};return he.forEach(Object.keys({...t,...e}),function(u){const h=c[u]||i,m=h(t[u],e[u],u);he.isUndefined(m)&&h!==l||(n[u]=m)}),n}const P_=t=>{const e=Fa({},t);let{data:n,withXSRFToken:s,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:l}=e;e.headers=o=Vn.from(o),e.url=w_(C_(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(he.isFormData(n)){if(xn.hasStandardBrowserEnv||xn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[d,...u]=c?c.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([d||"multipart/form-data",...u].join("; "))}}if(xn.hasStandardBrowserEnv&&(s&&he.isFunction(s)&&(s=s(e)),s||s!==!1&&xB(e.url))){const d=i&&a&&vB.read(a);d&&o.set(i,d)}return e},wB=typeof XMLHttpRequest<"u",jB=wB&&function(t){return new Promise(function(n,s){const i=P_(t);let a=i.data;const o=Vn.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=i,u,h,m,f,x;function g(){f&&f(),x&&x(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let b=new XMLHttpRequest;b.open(i.method.toUpperCase(),i.url,!0),b.timeout=i.timeout;function y(){if(!b)return;const w=Vn.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),j={data:!l||l==="text"||l==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:w,config:t,request:b};S_(function(P){n(P),g()},function(P){s(P),g()},j),b=null}"onloadend"in b?b.onloadend=y:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(y)},b.onabort=function(){b&&(s(new Be("Request aborted",Be.ECONNABORTED,t,b)),b=null)},b.onerror=function(){s(new Be("Network Error",Be.ERR_NETWORK,t,b)),b=null},b.ontimeout=function(){let N=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const j=i.transitional||j_;i.timeoutErrorMessage&&(N=i.timeoutErrorMessage),s(new Be(N,j.clarifyTimeoutError?Be.ETIMEDOUT:Be.ECONNABORTED,t,b)),b=null},a===void 0&&o.setContentType(null),"setRequestHeader"in b&&he.forEach(o.toJSON(),function(N,j){b.setRequestHeader(j,N)}),he.isUndefined(i.withCredentials)||(b.withCredentials=!!i.withCredentials),l&&l!=="json"&&(b.responseType=i.responseType),d&&([m,x]=Op(d,!0),b.addEventListener("progress",m)),c&&b.upload&&([h,f]=Op(c),b.upload.addEventListener("progress",h),b.upload.addEventListener("loadend",f)),(i.cancelToken||i.signal)&&(u=w=>{b&&(s(!w||w.type?new Pl(null,t,b):w),b.abort(),b=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const v=mB(i.url);if(v&&xn.protocols.indexOf(v)===-1){s(new Be("Unsupported protocol "+v+":",Be.ERR_BAD_REQUEST,t));return}b.send(a||null)})},NB=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let s=new AbortController,i;const a=function(d){if(!i){i=!0,l();const u=d instanceof Error?d:this.reason;s.abort(u instanceof Be?u:new Pl(u instanceof Error?u.message:u))}};let o=e&&setTimeout(()=>{o=null,a(new Be(`timeout ${e} of ms exceeded`,Be.ETIMEDOUT))},e);const l=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(a):d.removeEventListener("abort",a)}),t=null)};t.forEach(d=>d.addEventListener("abort",a));const{signal:c}=s;return c.unsubscribe=()=>he.asap(l),c}},kB=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let s=0,i;for(;s<n;)i=s+e,yield t.slice(s,i),s=i},SB=async function*(t,e){for await(const n of CB(t))yield*kB(n,e)},CB=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:s}=await e.read();if(n)break;yield s}}finally{await e.cancel()}},vN=(t,e,n,s)=>{const i=SB(t,e);let a=0,o,l=c=>{o||(o=!0,s&&s(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await i.next();if(d){l(),c.close();return}let h=u.byteLength;if(n){let m=a+=h;n(m)}c.enqueue(new Uint8Array(u))}catch(d){throw l(d),d}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},Qm=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",E_=Qm&&typeof ReadableStream=="function",PB=Qm&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),__=(t,...e)=>{try{return!!t(...e)}catch{return!1}},EB=E_&&__(()=>{let t=!1;const e=new Request(xn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),yN=64*1024,B0=E_&&__(()=>he.isReadableStream(new Response("").body)),Rp={stream:B0&&(t=>t.body)};Qm&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Rp[e]&&(Rp[e]=he.isFunction(t[e])?n=>n[e]():(n,s)=>{throw new Be(`Response type '${e}' is not supported`,Be.ERR_NOT_SUPPORT,s)})})})(new Response);const _B=async t=>{if(t==null)return 0;if(he.isBlob(t))return t.size;if(he.isSpecCompliantForm(t))return(await new Request(xn.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(he.isArrayBufferView(t)||he.isArrayBuffer(t))return t.byteLength;if(he.isURLSearchParams(t)&&(t=t+""),he.isString(t))return(await PB(t)).byteLength},MB=async(t,e)=>{const n=he.toFiniteNumber(t.getContentLength());return n??_B(e)},TB=Qm&&(async t=>{let{url:e,method:n,data:s,signal:i,cancelToken:a,timeout:o,onDownloadProgress:l,onUploadProgress:c,responseType:d,headers:u,withCredentials:h="same-origin",fetchOptions:m}=P_(t);d=d?(d+"").toLowerCase():"text";let f=NB([i,a&&a.toAbortSignal()],o),x;const g=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let b;try{if(c&&EB&&n!=="get"&&n!=="head"&&(b=await MB(u,s))!==0){let j=new Request(e,{method:"POST",body:s,duplex:"half"}),k;if(he.isFormData(s)&&(k=j.headers.get("content-type"))&&u.setContentType(k),j.body){const[P,S]=fN(b,Op(gN(c)));s=vN(j.body,yN,P,S)}}he.isString(h)||(h=h?"include":"omit");const y="credentials"in Request.prototype;x=new Request(e,{...m,signal:f,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:s,duplex:"half",credentials:y?h:void 0});let v=await fetch(x,m);const w=B0&&(d==="stream"||d==="response");if(B0&&(l||w&&g)){const j={};["status","statusText","headers"].forEach(E=>{j[E]=v[E]});const k=he.toFiniteNumber(v.headers.get("content-length")),[P,S]=l&&fN(k,Op(gN(l),!0))||[];v=new Response(vN(v.body,yN,P,()=>{S&&S(),g&&g()}),j)}d=d||"text";let N=await Rp[he.findKey(Rp,d)||"text"](v,t);return!w&&g&&g(),await new Promise((j,k)=>{S_(j,k,{data:N,headers:Vn.from(v.headers),status:v.status,statusText:v.statusText,config:t,request:x})})}catch(y){throw g&&g(),y&&y.name==="TypeError"&&/Load failed|fetch/i.test(y.message)?Object.assign(new Be("Network Error",Be.ERR_NETWORK,t,x),{cause:y.cause||y}):Be.from(y,y&&y.code,t,x)}}),V0={http:qz,xhr:jB,fetch:TB};he.forEach(V0,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const bN=t=>`- ${t}`,LB=t=>he.isFunction(t)||t===null||t===!1,M_={getAdapter:t=>{t=he.isArray(t)?t:[t];const{length:e}=t;let n,s;const i={};for(let a=0;a<e;a++){n=t[a];let o;if(s=n,!LB(n)&&(s=V0[(o=String(n)).toLowerCase()],s===void 0))throw new Be(`Unknown adapter '${o}'`);if(s)break;i[o||"#"+a]=s}if(!s){const a=Object.entries(i).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?a.length>1?`since :
`+a.map(bN).join(`
`):" "+bN(a[0]):"as no adapter specified";throw new Be("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s},adapters:V0};function dg(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Pl(null,t)}function wN(t){return dg(t),t.headers=Vn.from(t.headers),t.data=cg.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),M_.getAdapter(t.adapter||au.adapter)(t).then(function(s){return dg(t),s.data=cg.call(t,t.transformResponse,s),s.headers=Vn.from(s.headers),s},function(s){return k_(s)||(dg(t),s&&s.response&&(s.response.data=cg.call(t,t.transformResponse,s.response),s.response.headers=Vn.from(s.response.headers))),Promise.reject(s)})}const T_="1.11.0",Jm={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Jm[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});const jN={};Jm.transitional=function(e,n,s){function i(a,o){return"[Axios v"+T_+"] Transitional option '"+a+"'"+o+(s?". "+s:"")}return(a,o,l)=>{if(e===!1)throw new Be(i(o," has been removed"+(n?" in "+n:"")),Be.ERR_DEPRECATED);return n&&!jN[o]&&(jN[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(a,o,l):!0}};Jm.spelling=function(e){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function AB(t,e,n){if(typeof t!="object")throw new Be("options must be an object",Be.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let i=s.length;for(;i-- >0;){const a=s[i],o=e[a];if(o){const l=t[a],c=l===void 0||o(l,a,t);if(c!==!0)throw new Be("option "+a+" must be "+c,Be.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Be("Unknown option "+a,Be.ERR_BAD_OPTION)}}const $h={assertOptions:AB,validators:Jm},tr=$h.validators;let wa=class{constructor(e){this.defaults=e||{},this.interceptors={request:new pN,response:new pN}}async request(e,n){try{return await this._request(e,n)}catch(s){if(s instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{s.stack?a&&!String(s.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+a):s.stack=a}catch{}}throw s}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Fa(this.defaults,n);const{transitional:s,paramsSerializer:i,headers:a}=n;s!==void 0&&$h.assertOptions(s,{silentJSONParsing:tr.transitional(tr.boolean),forcedJSONParsing:tr.transitional(tr.boolean),clarifyTimeoutError:tr.transitional(tr.boolean)},!1),i!=null&&(he.isFunction(i)?n.paramsSerializer={serialize:i}:$h.assertOptions(i,{encode:tr.function,serialize:tr.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),$h.assertOptions(n,{baseUrl:tr.spelling("baseURL"),withXsrfToken:tr.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=a&&he.merge(a.common,a[n.method]);a&&he.forEach(["delete","get","head","post","put","patch","common"],x=>{delete a[x]}),n.headers=Vn.concat(o,a);const l=[];let c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(c=c&&g.synchronous,l.unshift(g.fulfilled,g.rejected))});const d=[];this.interceptors.response.forEach(function(g){d.push(g.fulfilled,g.rejected)});let u,h=0,m;if(!c){const x=[wN.bind(this),void 0];for(x.unshift(...l),x.push(...d),m=x.length,u=Promise.resolve(n);h<m;)u=u.then(x[h++],x[h++]);return u}m=l.length;let f=n;for(h=0;h<m;){const x=l[h++],g=l[h++];try{f=x(f)}catch(b){g.call(this,b);break}}try{u=wN.call(this,f)}catch(x){return Promise.reject(x)}for(h=0,m=d.length;h<m;)u=u.then(d[h++],d[h++]);return u}getUri(e){e=Fa(this.defaults,e);const n=C_(e.baseURL,e.url,e.allowAbsoluteUrls);return w_(n,e.params,e.paramsSerializer)}};he.forEach(["delete","get","head","options"],function(e){wa.prototype[e]=function(n,s){return this.request(Fa(s||{},{method:e,url:n,data:(s||{}).data}))}});he.forEach(["post","put","patch"],function(e){function n(s){return function(a,o,l){return this.request(Fa(l||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}wa.prototype[e]=n(),wa.prototype[e+"Form"]=n(!0)});let IB=class L_{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const s=this;this.promise.then(i=>{if(!s._listeners)return;let a=s._listeners.length;for(;a-- >0;)s._listeners[a](i);s._listeners=null}),this.promise.then=i=>{let a;const o=new Promise(l=>{s.subscribe(l),a=l}).then(i);return o.cancel=function(){s.unsubscribe(a)},o},e(function(a,o,l){s.reason||(s.reason=new Pl(a,o,l),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=s=>{e.abort(s)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new L_(function(i){e=i}),cancel:e}}};function OB(t){return function(n){return t.apply(null,n)}}function RB(t){return he.isObject(t)&&t.isAxiosError===!0}const U0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(U0).forEach(([t,e])=>{U0[e]=t});function A_(t){const e=new wa(t),n=c_(wa.prototype.request,e);return he.extend(n,wa.prototype,e,{allOwnKeys:!0}),he.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return A_(Fa(t,i))},n}const _t=A_(au);_t.Axios=wa;_t.CanceledError=Pl;_t.CancelToken=IB;_t.isCancel=k_;_t.VERSION=T_;_t.toFormData=Zm;_t.AxiosError=Be;_t.Cancel=_t.CanceledError;_t.all=function(e){return Promise.all(e)};_t.spread=OB;_t.isAxiosError=RB;_t.mergeConfig=Fa;_t.AxiosHeaders=Vn;_t.formToJSON=t=>N_(he.isHTMLForm(t)?new FormData(t):t);_t.getAdapter=M_.getAdapter;_t.HttpStatusCode=U0;_t.default=_t;const{Axios:oae,AxiosError:lae,CanceledError:cae,isCancel:dae,CancelToken:uae,VERSION:hae,all:pae,Cancel:mae,isAxiosError:fae,spread:gae,toFormData:xae,AxiosHeaders:vae,HttpStatusCode:yae,formToJSON:bae,getAdapter:wae,mergeConfig:jae}=_t;function DB(t){window.location.assign(t)}const $B={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"https://api.newrun.club",VITE_GOOGLE_MAPS_API_KEY:"AIzaSyCmNIb_QRLF9sdOA5MsB3AQbsE-QYI70PE"};var ug={};const FB=typeof import.meta<"u"&&$B&&"https://api.newrun.club",zB=typeof process<"u"&&ug&&(ug.REACT_APP_API_BASE_URL||ug.API_BASE_URL);let I_=FB||zB||typeof window<"u"&&window.__API_BASE_URL__||(typeof window<"u"&&window.location.hostname==="localhost"?"http://localhost:8000":"https://api.newrun.club");if(typeof window<"u"){const t=/(^|\.)newrun\.club$/.test(window.location.hostname),e=I_.startsWith("http://localhost");t&&e&&console.error("[axios] Missing VITE_API_BASE_URL in prod. Refusing to use localhost. Set VITE_API_BASE_URL=https://api.newrun.club in Vercel.")}function W0(){return localStorage.getItem("accessToken")||localStorage.getItem("token")||localStorage.getItem("userToken")||""}const ge=_t.create({baseURL:I_.replace(/\/+$/,""),withCredentials:!1});ge.interceptors.request.use(t=>{const e=W0();return e?e.startsWith("eyJ")?(t.headers.Authorization=`Bearer ${e}`,console.log(" Adding auth header to request:",t.url,"Token:",e.substring(0,20)+"...")):console.log(" Invalid token format (not JWT):",t.url,"Token:",e.substring(0,20)+"..."):console.log(" No token found for request:",t.url),t});let hg=!1,Uu=null;ge.interceptors.response.use(t=>t,t=>{var a,o,l,c,d,u;const e=(a=t==null?void 0:t.response)==null?void 0:a.status,n=((l=(o=t==null?void 0:t.response)==null?void 0:o.data)==null?void 0:l.message)||t.message||"An error occurred",s=((c=t==null?void 0:t.config)==null?void 0:c.url)||"";return e===401&&!s.includes("/send-email-verification")&&!s.includes("/verify-email-code")&&!s.includes("/verify-email")&&!hg&&(hg=!0,console.warn("401 Unauthorized - clearing tokens and redirecting to login"),localStorage.removeItem("accessToken"),localStorage.removeItem("token"),localStorage.removeItem("userToken"),Uu&&clearTimeout(Uu),Uu=setTimeout(()=>{try{DB("/login?error=session_expired")}finally{hg=!1,Uu=null}},100)),e===403&&console.warn("403 Forbidden - insufficient permissions"),e>=500&&console.error("Server error:",n),console.error("API Error:",{status:e,message:n,url:(d=t.config)==null?void 0:d.url,method:(u=t.config)==null?void 0:u.method}),Promise.reject(t)});const O_=p.createContext(),BB=({children:t})=>{const[e,n]=p.useState(!1),[s,i]=p.useState(null),[a,o]=p.useState(!0),[l,c]=p.useState(null);p.useEffect(()=>{(async()=>{try{const x=localStorage.getItem("accessToken")||localStorage.getItem("token");if(x){c(x),n(!0);try{const g=await ge.get("/get-user");if(g.data&&g.data.user)i(g.data.user);else throw new Error("Invalid user data")}catch(g){console.error("Error fetching user data:",g),localStorage.removeItem("accessToken"),localStorage.removeItem("token"),localStorage.removeItem("userToken"),c(null),i(null),n(!1)}}else c(null),i(null),n(!1)}catch(x){console.error("Error checking auth status:",x),localStorage.removeItem("accessToken"),localStorage.removeItem("token"),localStorage.removeItem("userToken"),c(null),i(null),n(!1)}finally{o(!1)}})()},[]),p.useEffect(()=>{const f=x=>{(x.key==="accessToken"||x.key==="token")&&(x.newValue||(c(null),i(null),n(!1)))};return window.addEventListener("storage",f),()=>window.removeEventListener("storage",f)},[]);const m={isAuthenticated:e,user:s,token:l,loading:a,login:async(f,x)=>{try{return localStorage.setItem("accessToken",x),localStorage.removeItem("token"),localStorage.removeItem("userToken"),c(x),i(f),n(!0),window.dispatchEvent(new CustomEvent("authStateChange",{detail:{type:"login",user:f,token:x}})),{success:!0}}catch(g){return console.error("Login error:",g),{success:!1,error:g.message}}},logout:()=>{try{return localStorage.removeItem("accessToken"),localStorage.removeItem("token"),localStorage.removeItem("userToken"),c(null),i(null),n(!1),sessionStorage.clear(),window.dispatchEvent(new CustomEvent("authStateChange",{detail:{type:"logout"}})),{success:!0}}catch(f){return console.error("Logout error:",f),{success:!1,error:f.message}}},updateUser:f=>{i(f)},setIsAuthenticated:n,setUser:i};return r.jsx(O_.Provider,{value:m,children:t})},Ka=()=>{const t=p.useContext(O_);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},nr="nr-ai-",Wu=50,VB=5*60*1e3,NN=24*60*60*1e3;class UB{constructor(){this.cleanupInterval=setInterval(this.cleanup.bind(this),VB),this.invalidationTriggers=new Set,this.cacheVersion=Date.now()}generateUserDataHash(e){var i,a,o;if(!e)return"no-data";const n=JSON.stringify({university:e==null?void 0:e.university,major:e==null?void 0:e.major,onboardingData:e==null?void 0:e.onboardingData,dashboardData:e==null?void 0:e.dashboardData,userInfo:{id:(i=e==null?void 0:e.userInfo)==null?void 0:i.id,university:(a=e==null?void 0:e.userInfo)==null?void 0:a.university,major:(o=e==null?void 0:e.userInfo)==null?void 0:o.major}});let s=0;for(let l=0;l<n.length;l++){const c=n.charCodeAt(l);s=(s<<5)-s+c,s=s&s}return Math.abs(s).toString(36)}generateSmartCacheKey(e,n,s){const i=this.generateUserDataHash(s);return`${e}-${n}-${i}`}read(e,{maxAgeMs:n=24*60*60*1e3,obVer:s,cacheVersion:i}={}){var a,o,l;try{const c=localStorage.getItem(nr+e);if(!c)return null;const d=JSON.parse(c),u=Date.now()-(((a=d._meta)==null?void 0:a.ts)||0)<n,h=!s||((o=d._meta)==null?void 0:o.obVer)===s,m=!i||((l=d._meta)==null?void 0:l.cacheVersion)===i;if(u&&h&&m)return d._meta.lastAccess=Date.now(),localStorage.setItem(nr+e,JSON.stringify(d)),d.payload;(!u||!m)&&localStorage.removeItem(nr+e)}catch(c){console.warn("Cache read error:",c),localStorage.removeItem(nr+e)}return null}write(e,n,{obVer:s,ver:i="v1",cacheVersion:a}={}){try{const o={payload:n,_meta:{ts:Date.now(),lastAccess:Date.now(),obVer:s,ver:i,cacheVersion:a||this.cacheVersion}};localStorage.setItem(nr+e,JSON.stringify(o))}catch(o){console.warn("Cache write error:",o),this.cleanup();try{localStorage.setItem(nr+e,JSON.stringify(obj))}catch(l){console.error("Cache write failed after cleanup:",l)}}}cleanup(){try{const e=Object.keys(localStorage).filter(i=>i.startsWith(nr));if(e.length<=Wu)return;const n=e.map(i=>{var a,o;try{const l=localStorage.getItem(i),c=JSON.parse(l);return{key:i,lastAccess:((a=c._meta)==null?void 0:a.lastAccess)||((o=c._meta)==null?void 0:o.ts)||0,size:l.length}}catch{return{key:i,lastAccess:0,size:0}}});n.sort((i,a)=>i.lastAccess-a.lastAccess);const s=n.slice(0,n.length-Wu);s.forEach(i=>{localStorage.removeItem(i.key)}),console.log(`Cache cleanup: removed ${s.length} entries`)}catch(e){console.warn("Cache cleanup error:",e)}}clear(){try{Object.keys(localStorage).filter(n=>n.startsWith(nr)).forEach(n=>localStorage.removeItem(n)),this.cacheVersion=Date.now(),console.log(" AI cache cleared")}catch(e){console.warn("Cache clear error:",e)}}invalidate(e="manual"){console.log(` Cache invalidation: ${e}`),this.clear(),this.cacheVersion=Date.now(),this.invalidationTriggers.forEach(n=>{try{n(e)}catch(s){console.error("Cache invalidation callback error:",s)}})}onInvalidation(e){return this.invalidationTriggers.add(e),()=>this.invalidationTriggers.delete(e)}getVersion(){return this.cacheVersion}getCachedInsights(e,n){try{const s=this.generateSmartCacheKey("insights",e,n),i=this.read(s,{maxAgeMs:NN});return i?(console.log(" Cache HIT: Using cached AI insights"),i):(console.log(" Cache MISS: No valid insights cache found"),null)}catch(s){return console.error("Insights cache get error:",s),null}}setCachedInsights(e,n,s){try{const i=this.generateSmartCacheKey("insights",e,n);return this.write(i,s,{ver:"insights-v2",cacheVersion:this.cacheVersion}),console.log(" Cache SET: Stored AI insights"),!0}catch(i){return console.error("Insights cache set error:",i),!1}}getCachedActions(e,n){try{const s=this.generateSmartCacheKey("actions",e,n),i=this.read(s,{maxAgeMs:NN});return i?(console.log(" Cache HIT: Using cached AI actions"),i):(console.log(" Cache MISS: No valid actions cache found"),null)}catch(s){return console.error("Actions cache get error:",s),null}}setCachedActions(e,n,s){try{const i=this.generateSmartCacheKey("actions",e,n);return this.write(i,s,{ver:"actions-v2",cacheVersion:this.cacheVersion}),console.log(" Cache SET: Stored AI actions"),!0}catch(i){return console.error("Actions cache set error:",i),!1}}invalidateUserCache(e){try{const n=Object.keys(localStorage).filter(s=>s.startsWith(nr)&&s.includes(`-${e}-`));return n.forEach(s=>{localStorage.removeItem(s)}),console.log(` Cache INVALIDATED: Removed ${n.length} entries for user ${e}`),n.length}catch(n){return console.error("User cache invalidation error:",n),0}}getStats(){try{const e=Object.keys(localStorage).filter(s=>s.startsWith(nr)),n=e.reduce((s,i)=>{var a;try{return s+(((a=localStorage.getItem(i))==null?void 0:a.length)||0)}catch{return s}},0);return{entries:e.length,totalSize:n,maxEntries:Wu}}catch{return{entries:0,totalSize:0,maxEntries:Wu}}}}const Ya=new UB,WB=(t,e)=>Ya.read(t,e),HB=(t,e,n)=>Ya.write(t,e,n),qB=()=>Ya.clear(),R_=(t,e)=>Ya.getCachedInsights(t,e),D_=(t,e,n)=>Ya.setCachedInsights(t,e,n),$_=(t,e)=>Ya.getCachedActions(t,e),F_=(t,e,n)=>Ya.setCachedActions(t,e,n);class GB{constructor(){this.axios=ge}async _get(e){var n,s,i;try{const a=await this.axios.get(e);return{ok:!0,data:a.data,status:a.status}}catch(a){const o=(n=a==null?void 0:a.response)==null?void 0:n.status,l=((i=(s=a==null?void 0:a.response)==null?void 0:s.data)==null?void 0:i.message)||a.message||"Unknown error";if(o===401)throw console.warn(`[AI] 401 on ${e}  bubbling to interceptor`),a;const c=o===429||o>=500||!o;return console.warn(`[AI] GET ${e} failed`,{status:o,msg:l,recoverable:c}),{ok:!1,status:o,message:l,recoverable:c}}}async _post(e,n){var s,i,a;try{const o=await this.axios.post(e,n);return{ok:!0,data:o.data,status:o.status}}catch(o){const l=(s=o==null?void 0:o.response)==null?void 0:s.status,c=((a=(i=o==null?void 0:o.response)==null?void 0:i.data)==null?void 0:a.message)||o.message||"Unknown error";if(l===401)throw console.warn(`[AI] 401 on ${e}  bubbling to interceptor`),o;const d=l===429||l>=500||!l;return console.warn(`[AI] POST ${e} failed`,{status:l,msg:c,recoverable:d}),{ok:!1,status:l,message:c,recoverable:d}}}_validateArray(e,n){return e&&Array.isArray(e[n])?e[n]:null}_transformRealDataInsights(e,n){try{const s=e.insights||"",i=e.confidence||.85,a=e.dataSource||"Real NewRun Database",o=[{id:"real-data-insight-1",title:"AI-Powered Insights from Your Real Data",description:s,type:"insight",priority:"high",confidence:i,dataSource:a,timestamp:new Date().toISOString(),category:"ai-analysis",icon:"MdInsights",actionable:!0,personalized:!0}];if(e.realData){const l=e.realData;o.push({id:"real-data-stats-1",title:"Your Platform Statistics",description:`Your platform has ${l.totalUsers} users, ${l.totalProperties} properties, and ${l.totalMarketplaceItems} marketplace items.`,type:"statistics",priority:"medium",confidence:1,dataSource:"Real Database",timestamp:new Date().toISOString(),category:"platform-stats",icon:"MdAnalytics",actionable:!1,personalized:!1,stats:l})}return console.log(" Transformed real data insights:",o),o}catch(s){return console.error(" Error transforming real data insights:",s),this.getFallbackInsights(n,{})}}_validateString(e,n){return e&&typeof e[n]=="string"?e[n]:null}async generatePersonalizedInsights(e,n){var i;console.debug(" NewRunAI: generatePersonalizedInsights()");const s=await this._post("/api/ai/insights",{dashboardData:n});if(s.ok){const a=this._validateArray(s.data,"insights");return((i=s.data)==null?void 0:i.success)===!0&&a?a:(console.warn("[AI] Invalid response format from /api/ai/insights",s.data),this.getFallbackInsights(e,n))}return s.recoverable?this.getFallbackInsights(e,n):this.getFallbackInsights(e,n)}async generatePersonalizedActions(e){var i;console.debug(" NewRunAI: generatePersonalizedActions()");const n=(e==null?void 0:e.dashboardData)||(e==null?void 0:e.dashboardStats)||{};console.debug(" NewRunAI: Sending dashboardData:",n);const s=await this._post("/api/ai/actions",{dashboardData:n});if(s.ok){const a=this._validateArray(s.data,"actions");return((i=s.data)==null?void 0:i.success)===!0&&a?a:(console.warn("[AI] Invalid response format from /api/ai/actions",s.data),this.getFallbackActions())}return s.recoverable?this.getFallbackActions():this.getFallbackActions()}async generateConversationalResponse(e,n,s){var i,a,o;try{const l=await this._post("/api/ai/chat",{message:e,context:s});if(l.ok){const c=((i=l.data)==null?void 0:i.success)===!0,d=this._validateString(l.data,"response");return c&&d?d:(console.warn("[AI] Invalid response format from /api/ai/chat",l.data),"I'm having trouble processing that. Please try again in a moment.")}if(l.status===401)throw new Error("Unauthorized");return"I'm having trouble processing that. Please try again in a moment."}catch(l){if(((a=l==null?void 0:l.response)==null?void 0:a.status)===401)throw l;return console.error("NewRun AI Conversation Error:",(o=l==null?void 0:l.response)==null?void 0:o.status,l==null?void 0:l.message),"I'm having trouble processing that. Please try again in a moment."}}async explainInsight(e,n){var i,a,o,l,c;console.debug(" NewRunAI: explainInsight()",{id:e==null?void 0:e.id,title:e==null?void 0:e.title});const s=await this._post("/api/ai/explain-insight",{insight:e,dashboardData:n});if(s.ok){const d=((i=s.data)==null?void 0:i.success)===!0,u=this._validateString(s.data,"explanation");return d&&u?{explanation:u,insight:((a=s.data)==null?void 0:a.insight)??e,aiGenerated:!!((o=s.data)!=null&&o.aiGenerated),fallback:!!((l=s.data)!=null&&l.fallback),structured:((c=s.data)==null?void 0:c.structured)??null}:(console.warn("[AI] Invalid response format from /api/ai/explain-insight",s.data),this._fallbackExplanation(e))}if(s.status===401){const d=new Error("Unauthorized");throw d.response={status:401},d}return this._fallbackExplanation(e)}async generateArrivalTimeline(e){var n;try{const s=(n=e==null?void 0:e.onboardingData)==null?void 0:n.arrivalDate;if(!s)return null;const i=Math.ceil((new Date(s)-new Date)/(1e3*60*60*24));return{timeline:`Arriving in ${i} days`,criticalTasks:["Secure housing","Set up banking","Get essentials"],recommendations:["Start housing search immediately","Contact university for resources"],urgency:i<=7?"urgent":"important"}}catch(s){return console.error("NewRun AI Timeline Error:",s),null}}async generateMarketAnalysis(){try{return{budgetAnalysis:"Budget analysis unavailable",trends:"Market trends loading...",opportunities:"Analyzing opportunities...",recommendations:"Generating recommendations...",marketScore:"good"}}catch(e){return console.error("NewRun AI Market Analysis Error:",e),null}}async generateSuccessPredictions(){try{return{overallScore:"good",predictions:"AI analysis in progress...",risks:"Evaluating potential risks...",recommendations:"Generating personalized recommendations...",successFactors:"Analyzing success factors..."}}catch(e){return console.error("NewRun AI Predictions Error:",e),null}}getFallbackInsights(e,n){var o,l,c,d;const s=[];if((o=e==null?void 0:e.onboardingData)!=null&&o.arrivalDate){const u=Math.ceil((new Date(e.onboardingData.arrivalDate)-new Date)/864e5);Number.isFinite(u)&&u<=30&&s.push({id:"fallback-arrival",type:"urgent",title:"Arrival Approaching!",message:`${u} days until you arrive in ${e.onboardingData.city||"your city"}`,priority:"high",icon:"schedule",cta:{label:"Complete housing search",route:"/properties"}})}const i=(l=n==null?void 0:n.propertiesStats)==null?void 0:l.averagePrice,a=(d=(c=e==null?void 0:e.onboardingData)==null?void 0:c.budgetRange)==null?void 0:d.max;return typeof i=="number"&&typeof a=="number"&&i>a&&s.push({id:"fallback-budget",type:"warning",title:"Budget Alert",message:`Average property price ($${i}) exceeds your budget ($${a})`,priority:"high",icon:"money",cta:{label:"Expand search",route:"/properties"}}),s.length===0&&s.push({id:"fallback-service",type:"info",title:"AI Service Unavailable",message:"AI insights are temporarily unavailable. Please try again later.",cta:{label:"Refresh",route:"/dashboard"},priority:"low",icon:"info"}),s}getFallbackActions(){return[{label:"List Property",description:"Add a new property listing",path:"/dashboard",icon:"home",color:"blue",priority:"high"},{label:"Browse Properties",description:"Find your perfect place",path:"/all-properties",icon:"search",color:"green",priority:"high"},{label:"Find Roommate",description:"Connect with potential roommates",path:"/Synapse",icon:"people",color:"purple",priority:"medium"},{label:"Browse Marketplace",description:"Shop for essentials",path:"/marketplace",icon:"shopping",color:"orange",priority:"medium"}]}_fallbackExplanation(e){return{explanation:`This recommendation is important for your success. ${(e==null?void 0:e.title)||"This item"} is a ${(e==null?void 0:e.priority)||"key"} priority that will help you stay on track with your goals.`,insight:e,aiGenerated:!1,fallback:!0}}}const Sr=new GB,z_=p.createContext(),KB=({children:t})=>{console.log("UnifiedStateProvider: Initializing...");const[e,n]=p.useState({userInfo:null,onboardingData:null,dashboardData:null,conversations:[],synapseProfile:null,aiInsights:[],aiActions:[],aiTimeline:null,aiMarketAnalysis:null,aiPredictions:null,loading:{user:!1,dashboard:!1,ai:!1,onboarding:!1,conversations:!1,synapse:!1},errors:{user:null,dashboard:null,ai:null,onboarding:null,conversations:null,synapse:null},initialized:{user:!1,dashboard:!1,ai:!1,onboarding:!1,conversations:!1,synapse:!1},cacheVersion:Date.now(),activeRequests:new Set}),s=p.useRef(new Map),i=p.useRef(new Set),a=p.useMemo(()=>e.initialized.user&&e.initialized.dashboard&&e.initialized.onboarding,[e.initialized]),o=p.useMemo(()=>Object.values(e.errors).some(F=>F!==null),[e.errors]),l=p.useMemo(()=>Object.values(e.loading).some(F=>F),[e.loading]),c=p.useCallback(F=>{try{n(D=>{const A={...D};return Object.keys(F).forEach(_=>{typeof F[_]=="object"&&F[_]!==null&&!Array.isArray(F[_])?A[_]={...D[_],...F[_]}:A[_]=F[_]}),A})}catch(D){console.error("Error updating state:",D),n(A=>({...A,...F}))}},[]),d=p.useCallback((F="data_change")=>{console.log(` Cache invalidation triggered: ${F}`),qB(),c({cacheVersion:Date.now(),initialized:{...e.initialized,ai:!1}}),i.current.forEach(D=>{try{D(F)}catch(A){console.error("Cache invalidation callback error:",A)}})},[e.initialized,c]),u=p.useCallback(async(F,D)=>{if(s.current.has(F))return console.log(` Request already in progress: ${F}`),s.current.get(F);const A=(async()=>{try{return await D()}finally{s.current.delete(F)}})();return s.current.set(F,A),A},[]),h=p.useCallback(async()=>u("fetchUserData",async()=>{var A;if(!(localStorage.getItem("accessToken")||localStorage.getItem("token")||localStorage.getItem("userToken")))return console.log("No token found, skipping user data fetch"),c({userInfo:null,initialized:{...e.initialized,user:!0},loading:{...e.loading,user:!1},errors:{...e.errors,user:null}}),null;c({loading:{...e.loading,user:!0}});try{const _=await ge.get("/get-user"),z=((A=_==null?void 0:_.data)==null?void 0:A.user)||null;return c({userInfo:z,initialized:{...e.initialized,user:!0},loading:{...e.loading,user:!1},errors:{...e.errors,user:null}}),z&&d("user_data_change"),z}catch(_){throw console.error("User data fetch error:",_),c({loading:{...e.loading,user:!1},errors:{...e.errors,user:_.message}}),_}}),[e.loading,e.initialized,e.errors,c,d,u]),m=p.useCallback(async()=>u("fetchOnboardingData",async()=>{if(!(localStorage.getItem("accessToken")||localStorage.getItem("token")||localStorage.getItem("userToken")))return console.log("No token found, skipping onboarding data fetch"),c({onboardingData:null,initialized:{...e.initialized,onboarding:!0},loading:{...e.loading,onboarding:!1},errors:{...e.errors,onboarding:null}}),null;c({loading:{...e.loading,onboarding:!0}});try{const A=await ge.get("/onboarding-data"),_=A.data.error?null:A.data.onboardingData;return c({onboardingData:_,initialized:{...e.initialized,onboarding:!0},loading:{...e.loading,onboarding:!1},errors:{...e.errors,onboarding:null}}),_&&d("onboarding_data_change"),_}catch(A){throw console.error("Onboarding data fetch error:",A),c({loading:{...e.loading,onboarding:!1},errors:{...e.errors,onboarding:A.message}}),A}}),[e.loading,e.initialized,e.errors,c,d,u]),f=p.useCallback(async()=>u("fetchDashboardData",async()=>{if(!(localStorage.getItem("accessToken")||localStorage.getItem("token")||localStorage.getItem("userToken")))return console.log("No token found, skipping dashboard data fetch"),c({dashboardData:null,initialized:{...e.initialized,dashboard:!0},loading:{...e.loading,dashboard:!1},errors:{...e.errors,dashboard:null}}),null;c({loading:{...e.loading,dashboard:!0}});try{const _=(await ge.get("/dashboard/overview")).data;return c({dashboardData:_,initialized:{...e.initialized,dashboard:!0},loading:{...e.loading,dashboard:!1},errors:{...e.errors,dashboard:null}}),_&&d("dashboard_data_change"),_}catch(A){throw console.error("Dashboard data fetch error:",A),c({loading:{...e.loading,dashboard:!1},errors:{...e.errors,dashboard:A.message}}),A}}),[e.loading,e.initialized,e.errors,c,d,u]),x=p.useCallback(async()=>u("fetchConversations",async()=>{if(!(localStorage.getItem("accessToken")||localStorage.getItem("token")||localStorage.getItem("userToken")))return console.log("No token found, skipping conversations fetch"),c({conversations:[],initialized:{...e.initialized,conversations:!0},loading:{...e.loading,conversations:!1},errors:{...e.errors,conversations:null}}),[];c({loading:{...e.loading,conversations:!0}});try{const A=await ge.get("/conversations"),_=A.data.success?A.data.data:[];return c({conversations:_,initialized:{...e.initialized,conversations:!0},loading:{...e.loading,conversations:!1},errors:{...e.errors,conversations:null}}),_}catch(A){throw console.error("Conversations fetch error:",A),c({loading:{...e.loading,conversations:!1},errors:{...e.errors,conversations:A.message}}),A}}),[e.loading,e.initialized,e.errors,c,u]),g=p.useCallback(async()=>u("fetchSynapseProfile",async()=>{if(!(localStorage.getItem("accessToken")||localStorage.getItem("token")||localStorage.getItem("userToken")))return console.log("No token found, skipping synapse profile fetch"),c({synapseProfile:null,initialized:{...e.initialized,synapse:!0},loading:{...e.loading,synapse:!1},errors:{...e.errors,synapse:null}}),null;c({loading:{...e.loading,synapse:!0}});try{const _=(await ge.get("/synapse/preferences")).data.preferences||{};return c({synapseProfile:_,initialized:{...e.initialized,synapse:!0},loading:{...e.loading,synapse:!1},errors:{...e.errors,synapse:null}}),_}catch(A){throw console.error("Synapse profile fetch error:",A),c({loading:{...e.loading,synapse:!1},errors:{...e.errors,synapse:A.message}}),A}}),[e.loading,e.initialized,e.errors,c,u]),b=p.useCallback(F=>{if(!F||typeof F!="object")return 0;const D=[{weight:25,fields:["culture.primaryLanguage","culture.home.country","culture.home.region","culture.home.city"]},{weight:20,fields:["logistics.moveInMonth","logistics.budgetMax","logistics.commuteMode"]},{weight:25,fields:["lifestyle.sleepPattern","lifestyle.cleanliness","lifestyle.quietAfter","lifestyle.quietUntil"]},{weight:20,fields:["habits.diet","habits.cookingFreq","habits.smoking","habits.drinking","habits.partying"]},{weight:10,fields:["pets.hasPets","pets.okWithPets"]}];let A=0;return D.forEach(_=>{let z=0,I=0;_.fields.forEach(M=>{const $=M.split(".").reduce((O,L)=>O==null?void 0:O[L],F);$!=null&&$!==""&&!(Array.isArray($)&&$.length===0)&&I++}),z=I/_.fields.length*_.weight,A+=z}),Math.round(A)},[]),y=p.useCallback(async()=>{const F=`fetchAIData_${e.cacheVersion}`;return u(F,async()=>{var A,_,z,I,M,$,O,L,Y,K,B,U,V,G,X,oe,ne;if(!(localStorage.getItem("accessToken")||localStorage.getItem("token")||localStorage.getItem("userToken")))return console.log("No token found, skipping AI data fetch"),c({aiInsights:[],aiActions:[],aiTimeline:null,aiMarketAnalysis:null,aiPredictions:null,initialized:{...e.initialized,ai:!0},loading:{...e.loading,ai:!1},errors:{...e.errors,ai:null}}),null;if(!e.userInfo||!e.dashboardData||!e.onboardingData)return console.log(" AI data fetch skipped: missing required data"),null;c({loading:{...e.loading,ai:!0}});try{const H=`ai-data-${e.userInfo.id||"anon"}`,Z=((A=e.onboardingData)==null?void 0:A.updatedAt)||JSON.stringify(e.onboardingData||{}),fe=WB(H,{maxAgeMs:6*60*60*1e3,obVer:Z});if(fe)return console.log(" Using cached AI data"),c({...fe,initialized:{...e.initialized,ai:!0},loading:{...e.loading,ai:!1},errors:{...e.errors,ai:null}}),fe;const ce={...e.userInfo,onboardingData:e.onboardingData,dashboardStats:{propertiesCount:((_=e.dashboardData)==null?void 0:_.propertiesCount)||0,marketplaceCount:((z=e.dashboardData)==null?void 0:z.marketplaceCount)||0,averagePropertyPrice:((M=(I=e.dashboardData)==null?void 0:I.propertiesStats)==null?void 0:M.averagePrice)||0,totalViews:((O=($=e.dashboardData)==null?void 0:$.propertiesStats)==null?void 0:O.totalViews)||0,availableProperties:((Y=(L=e.dashboardData)==null?void 0:L.propertiesStats)==null?void 0:Y.availableProperties)||0,marketplaceItems:((B=(K=e.dashboardData)==null?void 0:K.marketplaceStats)==null?void 0:B.totalItems)||0,marketplaceViews:((V=(U=e.dashboardData)==null?void 0:U.marketplaceStats)==null?void 0:V.totalViews)||0},userProperties:((X=(G=e.dashboardData)==null?void 0:G.myProperties)==null?void 0:X.items)||[],userMarketplaceItems:((ne=(oe=e.dashboardData)==null?void 0:oe.myMarketplace)==null?void 0:ne.items)||[]},[de,te]=await Promise.allSettled([Sr.generatePersonalizedInsights(ce,e.dashboardData),Sr.generatePersonalizedActions(ce)]),le=de.status==="fulfilled"?de.value||[]:[],pe=te.status==="fulfilled"?te.value||[]:[],Q={aiInsights:le,aiActions:pe,aiTimeline:null,aiMarketAnalysis:null,aiPredictions:null,initialized:{...e.initialized,ai:!0},loading:{...e.loading,ai:!1},errors:{...e.errors,ai:null}};return c(Q),HB(H,{aiInsights:le,aiActions:pe},{obVer:Z,ver:"unified-v1"}),Q}catch(H){throw console.error("AI data fetch error:",H),c({loading:{...e.loading,ai:!1},errors:{...e.errors,ai:H.message}}),H}})},[e.userInfo,e.dashboardData,e.onboardingData,e.cacheVersion,e.loading,e.initialized,e.errors,c,u]),v=p.useCallback(async()=>{console.log(" Starting coordinated initialization...");try{const[F,D]=await Promise.allSettled([h(),m()]),[A,_,z]=await Promise.allSettled([f(),x(),g()]);F.status==="fulfilled"&&D.status==="fulfilled"&&A.status==="fulfilled"&&await y(),console.log(" Coordinated initialization complete")}catch(F){console.error(" Initialization error:",F)}},[h,m,f,x,y]),w=p.useCallback(async()=>{console.log(" Refreshing all data..."),d("manual_refresh"),await v()},[d,v]),N=p.useCallback(async()=>{d("user_refresh"),await h()},[d,h]),j=p.useCallback(async()=>{d("dashboard_refresh"),await f()},[d,f]),k=p.useCallback(async()=>{d("ai_refresh"),await y()},[d,y]),P=p.useCallback(async()=>{d("conversations_refresh"),await x()},[d,x]),S=p.useCallback(async()=>{d("synapse_refresh"),await g()},[d,g]),E=p.useCallback(F=>(i.current.add(F),()=>i.current.delete(F)),[]),T=p.useRef(!1);p.useEffect(()=>{T.current||(T.current=!0,v())},[]),p.useEffect(()=>{const F=D=>{var A,_;((A=D.detail)==null?void 0:A.type)==="login"?(console.log(" Login event detected, triggering re-initialization..."),T.current=!1,setTimeout(()=>{T.current=!0,v()},100)):((_=D.detail)==null?void 0:_.type)==="logout"&&(console.log(" Logout event detected, clearing state..."),T.current=!1,c({userInfo:null,onboardingData:null,dashboardData:null,conversations:[],synapseProfile:null,aiInsights:[],aiActions:[],aiTimeline:null,aiMarketAnalysis:null,aiPredictions:null,initialized:{user:!1,dashboard:!1,ai:!1,onboarding:!1,conversations:!1,synapse:!1},loading:{user:!1,dashboard:!1,ai:!1,onboarding:!1,conversations:!1,synapse:!1},errors:{user:null,dashboard:null,ai:null,onboarding:null,conversations:null,synapse:null}}))};return window.addEventListener("authStateChange",F),()=>window.removeEventListener("authStateChange",F)},[c,v]),p.useEffect(()=>{const F=D=>{(D.key==="accessToken"||D.key==="token"||D.key==="userToken")&&(D.newValue?D.newValue&&!T.current&&(console.log(" Token detected, triggering re-initialization..."),T.current=!0,v()):(T.current=!1,c({userInfo:null,onboardingData:null,dashboardData:null,conversations:[],synapseProfile:null,aiInsights:[],aiActions:[],aiTimeline:null,aiMarketAnalysis:null,aiPredictions:null,initialized:{user:!1,dashboard:!1,ai:!1,onboarding:!1,conversations:!1,synapse:!1},loading:{user:!1,dashboard:!1,ai:!1,onboarding:!1,conversations:!1,synapse:!1},errors:{user:null,dashboard:null,ai:null,onboarding:null,conversations:null,synapse:null}})))};return window.addEventListener("storage",F),()=>window.removeEventListener("storage",F)},[c,v]),p.useEffect(()=>{if(a){const F=setInterval(()=>{s.current.size===0&&j()},3e4);return()=>clearInterval(F)}},[a,j]);const W={state:e,isFullyInitialized:a,hasAnyErrors:o,isLoading:l,userInfo:e.userInfo,onboardingData:e.onboardingData,dashboardData:e.dashboardData,conversations:e.conversations,synapseProfile:e.synapseProfile,aiInsights:e.aiInsights,aiActions:e.aiActions,aiTimeline:e.aiTimeline,aiMarketAnalysis:e.aiMarketAnalysis,aiPredictions:e.aiPredictions,loading:e.loading,errors:e.errors,initialized:e.initialized,fetchUserData:h,fetchOnboardingData:m,fetchDashboardData:f,fetchConversations:x,fetchSynapseProfile:g,fetchAIData:y,initializeAll:v,refreshAll:w,refreshUserData:N,refreshDashboardData:j,refreshConversations:P,refreshSynapseProfile:S,refreshAIData:k,invalidateCache:d,subscribeToCacheInvalidation:E,updateState:c,calculateProfileCompletion:b};return r.jsx(z_.Provider,{value:W,children:t})},YB=()=>{const t=p.useContext(z_);if(!t)throw new Error("useUnifiedState must be used within a UnifiedStateProvider");return t},XB=p.createContext(),ZB=({children:t})=>{const[e,n]=p.useState(!1),[s,i]=p.useState(""),f={isLoading:e,error:s,sendOTP:async(x,g="login")=>{var b,y;n(!0),i("");try{const v=await ge.post("/send-otp",{email:x,purpose:g});if(v.data.error)throw new Error(v.data.message||"Failed to send OTP");return{success:!0,data:v.data}}catch(v){const w=((y=(b=v==null?void 0:v.response)==null?void 0:b.data)==null?void 0:y.message)||v.message||"Failed to send OTP";return i(w),{success:!1,error:w}}finally{n(!1)}},verifyOTP:async(x,g,b="login")=>{var y,v;n(!0),i("");try{const w=await ge.post("/verify-otp",{email:x,otp:g,purpose:b});if(w.data.error)throw new Error(w.data.message||"Invalid OTP");return{success:!0,data:w.data}}catch(w){const N=((v=(y=w==null?void 0:w.response)==null?void 0:y.data)==null?void 0:v.message)||w.message||"Invalid OTP";return i(N),{success:!1,error:N}}finally{n(!1)}},sendEmailVerification:async()=>{var x,g;n(!0),i("");try{const b=await ge.post("/send-email-verification");if(b.data.error)throw new Error(b.data.message||"Failed to send verification email");return{success:!0,data:b.data}}catch(b){const y=((g=(x=b==null?void 0:b.response)==null?void 0:x.data)==null?void 0:g.message)||b.message||"Failed to send verification email";return i(y),{success:!1,error:y}}finally{n(!1)}},verifyEmail:async x=>{var g,b;n(!0),i("");try{const y=await ge.post("/verify-email",{token:x});if(y.data.error)throw new Error(y.data.message||"Invalid verification token");return{success:!0,data:y.data}}catch(y){const v=((b=(g=y==null?void 0:y.response)==null?void 0:g.data)==null?void 0:b.message)||y.message||"Invalid verification token";return i(v),{success:!1,error:v}}finally{n(!1)}},forgotPassword:async x=>{var g,b;n(!0),i("");try{const y=await ge.post("/forgot-password",{email:x});if(y.data.error)throw new Error(y.data.message||"Failed to send password reset email");return{success:!0,data:y.data}}catch(y){const v=((b=(g=y==null?void 0:y.response)==null?void 0:g.data)==null?void 0:b.message)||y.message||"Failed to send password reset email";return i(v),{success:!1,error:v}}finally{n(!1)}},resetPassword:async(x,g,b)=>{var y,v;n(!0),i("");try{const w=await ge.post("/reset-password",{email:x,otp:g,newPassword:b});if(w.data.error)throw new Error(w.data.message||"Failed to reset password");return{success:!0,data:w.data}}catch(w){const N=((v=(y=w==null?void 0:w.response)==null?void 0:y.data)==null?void 0:v.message)||w.message||"Failed to reset password";return i(N),{success:!1,error:N}}finally{n(!1)}},sendWelcomeEmail:async(x,g)=>{var b,y;n(!0),i("");try{const v=await ge.post("/send-welcome-email",{userEmail:x,userName:g});if(v.data.error)throw new Error(v.data.message||"Failed to send welcome email");return{success:!0,data:v.data}}catch(v){const w=((y=(b=v==null?void 0:v.response)==null?void 0:b.data)==null?void 0:y.message)||v.message||"Failed to send welcome email";return i(w),{success:!1,error:w}}finally{n(!1)}},clearError:()=>{i("")}};return r.jsx(XB.Provider,{value:f,children:t})};function B_(t,e,n){return Math.max(t,Math.min(e,n))}class QB{advance(e){var l;if(!this.isRunning)return;let n=!1;if(this.lerp)this.value=(s=this.value,i=this.to,a=60*this.lerp,o=e,function(c,d,u){return(1-u)*c+u*d}(s,i,1-Math.exp(-a*o))),Math.round(this.value)===this.to&&(this.value=this.to,n=!0);else{this.currentTime+=e;const c=B_(0,this.currentTime/this.duration,1);n=c>=1;const d=n?1:this.easing(c);this.value=this.from+(this.to-this.from)*d}var s,i,a,o;(l=this.onUpdate)==null||l.call(this,this.value,n),n&&this.stop()}stop(){this.isRunning=!1}fromTo(e,n,{lerp:s=.1,duration:i=1,easing:a=c=>c,onStart:o,onUpdate:l}){this.from=this.value=e,this.to=n,this.lerp=s,this.duration=i,this.easing=a,this.currentTime=0,this.isRunning=!0,o==null||o(),this.onUpdate=l}}class JB{constructor({wrapper:e,content:n,autoResize:s=!0,debounce:i=250}={}){wr(this,"resize",()=>{this.onWrapperResize(),this.onContentResize()});wr(this,"onWrapperResize",()=>{this.wrapper===window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)});wr(this,"onContentResize",()=>{this.wrapper===window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)});this.wrapper=e,this.content=n,s&&(this.debouncedResize=function(a,o){let l;return function(){let c=arguments,d=this;clearTimeout(l),l=setTimeout(function(){a.apply(d,c)},o)}}(this.resize,i),this.wrapper===window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}destroy(){var e,n;(e=this.wrapperResizeObserver)==null||e.disconnect(),(n=this.contentResizeObserver)==null||n.disconnect(),window.removeEventListener("resize",this.debouncedResize,!1)}get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}}let V_=class{constructor(){this.events={}}emit(e,...n){let s=this.events[e]||[];for(let i=0,a=s.length;i<a;i++)s[i](...n)}on(e,n){var s;return(s=this.events[e])!=null&&s.push(n)||(this.events[e]=[n]),()=>{var i;this.events[e]=(i=this.events[e])==null?void 0:i.filter(a=>n!==a)}}off(e,n){var s;this.events[e]=(s=this.events[e])==null?void 0:s.filter(i=>n!==i)}destroy(){this.events={}}};const kN=100/6;class eV{constructor(e,{wheelMultiplier:n=1,touchMultiplier:s=1}){wr(this,"onTouchStart",e=>{const{clientX:n,clientY:s}=e.targetTouches?e.targetTouches[0]:e;this.touchStart.x=n,this.touchStart.y=s,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:e})});wr(this,"onTouchMove",e=>{const{clientX:n,clientY:s}=e.targetTouches?e.targetTouches[0]:e,i=-(n-this.touchStart.x)*this.touchMultiplier,a=-(s-this.touchStart.y)*this.touchMultiplier;this.touchStart.x=n,this.touchStart.y=s,this.lastDelta={x:i,y:a},this.emitter.emit("scroll",{deltaX:i,deltaY:a,event:e})});wr(this,"onTouchEnd",e=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:e})});wr(this,"onWheel",e=>{let{deltaX:n,deltaY:s,deltaMode:i}=e;n*=i===1?kN:i===2?this.windowWidth:1,s*=i===1?kN:i===2?this.windowHeight:1,n*=this.wheelMultiplier,s*=this.wheelMultiplier,this.emitter.emit("scroll",{deltaX:n,deltaY:s,event:e})});wr(this,"onWindowResize",()=>{this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight});this.element=e,this.wheelMultiplier=n,this.touchMultiplier=s,this.touchStart={x:null,y:null},this.emitter=new V_,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,{passive:!1}),this.element.addEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.addEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.addEventListener("touchend",this.onTouchEnd,{passive:!1})}on(e,n){return this.emitter.on(e,n)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel,{passive:!1}),this.element.removeEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.removeEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.removeEventListener("touchend",this.onTouchEnd,{passive:!1})}}class tV{constructor({wrapper:e=window,content:n=document.documentElement,wheelEventsTarget:s=e,eventsTarget:i=s,smoothWheel:a=!0,syncTouch:o=!1,syncTouchLerp:l=.075,touchInertiaMultiplier:c=35,duration:d,easing:u=w=>Math.min(1,1.001-Math.pow(2,-10*w)),lerp:h=!d&&.1,infinite:m=!1,orientation:f="vertical",gestureOrientation:x="vertical",touchMultiplier:g=1,wheelMultiplier:b=1,autoResize:y=!0,__experimental__naiveDimensions:v=!1}={}){this.__isSmooth=!1,this.__isScrolling=!1,this.__isStopped=!1,this.__isLocked=!1,this.onVirtualScroll=({deltaX:w,deltaY:N,event:j})=>{if(j.ctrlKey)return;const k=j.type.includes("touch"),P=j.type.includes("wheel");if(this.options.syncTouch&&k&&j.type==="touchstart"&&!this.isStopped&&!this.isLocked)return void this.reset();const S=w===0&&N===0,E=this.options.gestureOrientation==="vertical"&&N===0||this.options.gestureOrientation==="horizontal"&&w===0;if(S||E)return;let T=j.composedPath();if(T=T.slice(0,T.indexOf(this.rootElement)),T.find(A=>{var _,z,I,M,$;return((_=A.hasAttribute)===null||_===void 0?void 0:_.call(A,"data-lenis-prevent"))||k&&((z=A.hasAttribute)===null||z===void 0?void 0:z.call(A,"data-lenis-prevent-touch"))||P&&((I=A.hasAttribute)===null||I===void 0?void 0:I.call(A,"data-lenis-prevent-wheel"))||((M=A.classList)===null||M===void 0?void 0:M.contains("lenis"))&&!(!(($=A.classList)===null||$===void 0)&&$.contains("lenis-stopped"))}))return;if(this.isStopped||this.isLocked)return void j.preventDefault();if(this.isSmooth=this.options.syncTouch&&k||this.options.smoothWheel&&P,!this.isSmooth)return this.isScrolling=!1,void this.animate.stop();j.preventDefault();let W=N;this.options.gestureOrientation==="both"?W=Math.abs(N)>Math.abs(w)?N:w:this.options.gestureOrientation==="horizontal"&&(W=w);const F=k&&this.options.syncTouch,D=k&&j.type==="touchend"&&Math.abs(W)>5;D&&(W=this.velocity*this.options.touchInertiaMultiplier),this.scrollTo(this.targetScroll+W,Object.assign({programmatic:!1},F?{lerp:D?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}))},this.onNativeScroll=()=>{if(!this.__preventNextScrollEvent&&!this.isScrolling){const w=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.velocity=0,this.direction=Math.sign(this.animatedScroll-w),this.emit()}},window.lenisVersion="1.0.42",e!==document.documentElement&&e!==document.body||(e=window),this.options={wrapper:e,content:n,wheelEventsTarget:s,eventsTarget:i,smoothWheel:a,syncTouch:o,syncTouchLerp:l,touchInertiaMultiplier:c,duration:d,easing:u,lerp:h,infinite:m,gestureOrientation:x,orientation:f,touchMultiplier:g,wheelMultiplier:b,autoResize:y,__experimental__naiveDimensions:v},this.animate=new QB,this.emitter=new V_,this.dimensions=new JB({wrapper:e,content:n,autoResize:y}),this.toggleClassName("lenis",!0),this.velocity=0,this.isLocked=!1,this.isStopped=!1,this.isSmooth=o||a,this.isScrolling=!1,this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.virtualScroll=new eV(i,{touchMultiplier:g,wheelMultiplier:b}),this.virtualScroll.on("scroll",this.onVirtualScroll)}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.toggleClassName("lenis",!1),this.toggleClassName("lenis-smooth",!1),this.toggleClassName("lenis-scrolling",!1),this.toggleClassName("lenis-stopped",!1),this.toggleClassName("lenis-locked",!1)}on(e,n){return this.emitter.on(e,n)}off(e,n){return this.emitter.off(e,n)}setScroll(e){this.isHorizontal?this.rootElement.scrollLeft=e:this.rootElement.scrollTop=e}resize(){this.dimensions.resize()}emit(){this.emitter.emit("scroll",this)}reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.velocity=0,this.animate.stop()}start(){this.isStopped&&(this.isStopped=!1,this.reset())}stop(){this.isStopped||(this.isStopped=!0,this.animate.stop(),this.reset())}raf(e){const n=e-(this.time||e);this.time=e,this.animate.advance(.001*n)}scrollTo(e,{offset:n=0,immediate:s=!1,lock:i=!1,duration:a=this.options.duration,easing:o=this.options.easing,lerp:l=!a&&this.options.lerp,onComplete:c,force:d=!1,programmatic:u=!0}={}){if(!this.isStopped&&!this.isLocked||d){if(["top","left","start"].includes(e))e=0;else if(["bottom","right","end"].includes(e))e=this.limit;else{let h;if(typeof e=="string"?h=document.querySelector(e):e!=null&&e.nodeType&&(h=e),h){if(this.options.wrapper!==window){const f=this.options.wrapper.getBoundingClientRect();n-=this.isHorizontal?f.left:f.top}const m=h.getBoundingClientRect();e=(this.isHorizontal?m.left:m.top)+this.animatedScroll}}if(typeof e=="number"){if(e+=n,e=Math.round(e),this.options.infinite?u&&(this.targetScroll=this.animatedScroll=this.scroll):e=B_(0,e,this.limit),s)return this.animatedScroll=this.targetScroll=e,this.setScroll(this.scroll),this.reset(),void(c==null||c(this));if(!u){if(e===this.targetScroll)return;this.targetScroll=e}this.animate.fromTo(this.animatedScroll,e,{duration:a,easing:o,lerp:l,onStart:()=>{i&&(this.isLocked=!0),this.isScrolling=!0},onUpdate:(h,m)=>{this.isScrolling=!0,this.velocity=h-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=h,this.setScroll(this.scroll),u&&(this.targetScroll=h),m||this.emit(),m&&(this.reset(),this.emit(),c==null||c(this),this.__preventNextScrollEvent=!0,requestAnimationFrame(()=>{delete this.__preventNextScrollEvent}))}})}}}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.__experimental__naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return this.options.orientation==="horizontal"}get actualScroll(){return this.isHorizontal?this.rootElement.scrollLeft:this.rootElement.scrollTop}get scroll(){return this.options.infinite?(e=this.animatedScroll,n=this.limit,(e%n+n)%n):this.animatedScroll;var e,n}get progress(){return this.limit===0?1:this.scroll/this.limit}get isSmooth(){return this.__isSmooth}set isSmooth(e){this.__isSmooth!==e&&(this.__isSmooth=e,this.toggleClassName("lenis-smooth",e))}get isScrolling(){return this.__isScrolling}set isScrolling(e){this.__isScrolling!==e&&(this.__isScrolling=e,this.toggleClassName("lenis-scrolling",e))}get isStopped(){return this.__isStopped}set isStopped(e){this.__isStopped!==e&&(this.__isStopped=e,this.toggleClassName("lenis-stopped",e))}get isLocked(){return this.__isLocked}set isLocked(e){this.__isLocked!==e&&(this.__isLocked=e,this.toggleClassName("lenis-locked",e))}get className(){let e="lenis";return this.isStopped&&(e+=" lenis-stopped"),this.isLocked&&(e+=" lenis-locked"),this.isScrolling&&(e+=" lenis-scrolling"),this.isSmooth&&(e+=" lenis-smooth"),e}toggleClassName(e,n){this.rootElement.classList.toggle(e,n),this.emitter.emit("className change",this)}}function nV(t,e){p.useEffect(()=>{const n=s=>{t.current&&(t.current.contains(s.target)||e==null||e())};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),()=>{document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}},[t,e])}function sV({label:t="Products",items:e=[]}){const[n,s]=p.useState(!1),i=p.useRef(null);nV(i,()=>s(!1));const a=()=>setTimeout(()=>s(!0),60),o=()=>setTimeout(()=>s(!1),120);return r.jsxs("div",{ref:i,className:"relative",onMouseEnter:a,onMouseLeave:o,children:[r.jsxs("button",{onClick:()=>s(l=>!l),className:"group inline-flex items-center gap-1 rounded-lg px-3 py-1.5 text-sm font-medium text-white/80 hover:text-white","aria-expanded":n,"aria-haspopup":"menu",children:[t,r.jsx("svg",{className:"transition group-aria-expanded:rotate-180",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:r.jsx("path",{d:"M6 9l6 6 6-6",stroke:"currentColor",strokeWidth:"1.7",strokeLinecap:"round"})})]}),r.jsx(ib,{children:n&&r.jsxs(r.Fragment,{children:[r.jsx(ye.div,{className:"fixed inset-0 z-[-1]",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>s(!1)}),r.jsx(ye.div,{role:"menu",initial:{opacity:0,y:6,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:6,scale:.98},transition:{duration:.16},className:`absolute left-0 top-full z-50 mt-2 w-[720px] max-w-[min(92vw,720px)]
                         rounded-2xl border border-white/10 bg-[#0F1115]/95 backdrop-blur-md
                         shadow-2xl ring-1 ring-black/5`,children:r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 p-4",children:e.map(l=>r.jsxs(Ae,{to:l.to||"#",className:"group flex gap-3 rounded-xl p-3 transition hover:bg-white/5",onClick:()=>s(!1),children:[r.jsx("div",{className:`mt-1 flex h-10 w-10 shrink-0 items-center justify-center rounded-xl
                                    bg-white/5 ring-1 ring-white/10`,children:typeof l.icon=="function"?r.jsx(l.icon,{size:18}):l.icon}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-white",children:l.title}),r.jsx("div",{className:"text-sm text-white/60",children:l.desc})]})]},l.title))})})]})})]})}const rV="nr_onboarding";function iV(){try{return JSON.parse(localStorage.getItem(rV)||"null")}catch{return null}}function aV(){const t=iV();return!!(t&&!t.completed)}const oV=()=>{console.log(" FORCE LOGOUT: Clearing everything and redirecting"),localStorage.clear(),sessionStorage.clear(),document.cookie.split(";").forEach(t=>{document.cookie=t.replace(/^ +/,"").replace(/=.*/,"=;expires="+new Date().toUTCString()+";path=/")}),window.location.href="/login",setTimeout(()=>{window.location.replace("/login")},100)},lV=()=>{window.history.pushState(null,"",window.location.href);const t=e=>{["/help","/terms","/privacy","/cookies","/cookies/settings"].some(s=>window.location.pathname.startsWith(s))||(console.log(" BACK BUTTON BLOCKED: Redirecting to login"),localStorage.clear(),sessionStorage.clear(),window.location.href="/login")};return window.addEventListener("popstate",t),()=>{window.removeEventListener("popstate",t)}};var U_={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},SN=Fe.createContext&&Fe.createContext(U_),cV=["attr","size","title"];function dV(t,e){if(t==null)return{};var n=uV(t,e),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)s=a[i],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function uV(t,e){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;n[s]=t[s]}return n}function Dp(){return Dp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Dp.apply(this,arguments)}function CN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function $p(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CN(Object(n),!0).forEach(function(s){hV(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CN(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function hV(t,e,n){return e=pV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pV(t){var e=mV(t,"string");return typeof e=="symbol"?e:e+""}function mV(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function W_(t){return t&&t.map((e,n)=>Fe.createElement(e.tag,$p({key:n},e.attr),W_(e.child)))}function ke(t){return e=>Fe.createElement(fV,Dp({attr:$p({},t.attr)},e),W_(t.child))}function fV(t){var e=n=>{var{attr:s,size:i,title:a}=t,o=dV(t,cV),l=i||n.size||"1em",c;return n.className&&(c=n.className),t.className&&(c=(c?c+" ":"")+t.className),Fe.createElement("svg",Dp({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,o,{className:c,style:$p($p({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&Fe.createElement("title",null,a),t.children)};return SN!==void 0?Fe.createElement(SN.Consumer,null,n=>e(n)):e(U_)}function Hu(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-5h2v5zm4 0h-2v-3h2v3zm0-5h-2v-2h2v2zm4 5h-2V7h2v10z"},child:[]}]})(t)}function PN(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 4h5v8l-2.5-1.5L6 12V4z"},child:[]}]})(t)}function gV(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 18H4V8h16v13z"},child:[]}]})(t)}function ja(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"},child:[]}]})(t)}function xV(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(t)}function H0(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(t)}function EN(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"},child:[]}]})(t)}function Xb(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"},child:[]}]})(t)}function ef(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"},child:[]}]})(t)}function oi(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"},child:[]}]})(t)}function vV(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M11 7h2v2h-2V7zm0 4h2v6h-2v-6zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"},child:[]}]})(t)}function _N(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"},child:[]}]})(t)}function Kl(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M9 21c0 .5.4 1 1 1h4c.6 0 1-.5 1-1v-1H9v1zm3-19C8.1 2 5 5.1 5 9c0 2.4 1.2 4.5 3 5.7V17c0 .5.4 1 1 1h6c.6 0 1-.5 1-1v-2.3c1.8-1.3 3-3.4 3-5.7 0-3.9-3.1-7-7-7z"},child:[]}]})(t)}function yV(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"},child:[]}]})(t)}function bV(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"circle",attr:{cx:"4.5",cy:"9.5",r:"2.5"},child:[]},{tag:"circle",attr:{cx:"9",cy:"5.5",r:"2.5"},child:[]},{tag:"circle",attr:{cx:"15",cy:"5.5",r:"2.5"},child:[]},{tag:"circle",attr:{cx:"19.5",cy:"9.5",r:"2.5"},child:[]},{tag:"path",attr:{d:"M17.34 14.86c-.87-1.02-1.6-1.89-2.48-2.91-.46-.54-1.05-1.08-1.75-1.32-.11-.04-.22-.07-.33-.09-.25-.04-.52-.04-.78-.04s-.53 0-.79.05c-.11.02-.22.05-.33.09-.7.24-1.28.78-1.75 1.32-.87 1.02-1.6 1.89-2.48 2.91-1.31 1.31-2.92 2.76-2.62 4.79.29 1.02 1.02 2.03 2.33 2.32.73.15 3.06-.44 5.54-.44h.18c2.48 0 4.81.58 5.54.44 1.31-.29 2.04-1.31 2.33-2.32.31-2.04-1.3-3.49-2.61-4.8z"},child:[]}]})(t)}function Fh(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2.5s4.5 2.04 4.5 10.5c0 2.49-1.04 5.57-1.6 7H9.1c-.56-1.43-1.6-4.51-1.6-7C7.5 4.54 12 2.5 12 2.5zm2 8.5c0-1.1-.9-2-2-2s-2 .9-2 2 .9 2 2 2 2-.9 2-2zm-6.31 9.52c-.48-1.23-1.52-4.17-1.67-6.87l-1.13.75c-.56.38-.89 1-.89 1.67V22l3.69-1.48zM20 22v-5.93c0-.67-.33-1.29-.89-1.66l-1.13-.75c-.15 2.69-1.2 5.64-1.67 6.87L20 22z"},child:[]}]})(t)}function Co(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"},child:[]},{tag:"path",attr:{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},child:[]}]})(t)}function Fp(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"},child:[]}]})(t)}function zp(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 0 0 .12-.61l-1.92-3.32a.488.488 0 0 0-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 0 0-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58a.49.49 0 0 0-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"},child:[]}]})(t)}function Na(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 6h-2c0-2.21-1.79-4-4-4S8 3.79 8 6H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-8 4c0 .55-.45 1-1 1s-1-.45-1-1V8h2v2zm2-6c1.1 0 2 .9 2 2h-4c0-1.1.9-2 2-2zm4 6c0 .55-.45 1-1 1s-1-.45-1-1V8h2v2z"},child:[]}]})(t)}function wV(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M23 8c0 1.1-.9 2-2 2a1.7 1.7 0 0 1-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56A1.7 1.7 0 0 1 19 8c0-1.1.9-2 2-2s2 .9 2 2z"},child:[]}]})(t)}function jV(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"},child:[]}]})(t)}function q0(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m23 12-2.44-2.79.34-3.69-3.61-.82-1.89-3.2L12 2.96 8.6 1.5 6.71 4.69 3.1 5.5l.34 3.7L1 12l2.44 2.79-.34 3.7 3.61.82L8.6 22.5l3.4-1.47 3.4 1.46 1.89-3.19 3.61-.82-.34-3.69L23 12zm-12.91 4.72-3.8-3.81 1.48-1.48 2.32 2.33 5.85-5.87 1.48 1.48-7.33 7.35z"},child:[]}]})(t)}function NV(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0zm0 0h24v24H0zm0 0h24v24H0zm0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46A11.804 11.804 0 0 0 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"},child:[]}]})(t)}function MN(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"},child:[]}]})(t)}function TN(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{fillRule:"evenodd",d:"M14 6V4h-4v2h4zM4 8v11h16V8H4zm16-2c1.11 0 2 .89 2 2v11c0 1.11-.89 2-2 2H4c-1.11 0-2-.89-2-2l.01-11c0-1.11.88-2 1.99-2h4V4c0-1.11.89-2 2-2h4c1.11 0 2 .89 2 2v2h4z"},child:[]}]})(t)}function zc(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"},child:[]}]})(t)}function kV(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm-1.2-9.1c0-.66.54-1.2 1.2-1.2.66 0 1.2.54 1.2 1.2l-.01 6.2c0 .66-.53 1.2-1.19 1.2-.66 0-1.2-.54-1.2-1.2V4.9zm6.5 6.1c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"},child:[]}]})(t)}function SV(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-5 14H4v-4h11v4zm0-5H4V9h11v4zm5 5h-4V9h4v9z"},child:[]}]})(t)}function Po(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 9h12v2H6V9zm8 5H6v-2h8v2zm4-6H6V6h12v2z"},child:[]}]})(t)}function LN(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"},child:[]}]})(t)}function Bp(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5a2.5 2.5 0 0 1 0-5 2.5 2.5 0 0 1 0 5z"},child:[]}]})(t)}function AN(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"},child:[]}]})(t)}function H_(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"},child:[]}]})(t)}function qu(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M21 8c-1.45 0-2.26 1.44-1.93 2.51l-3.55 3.56c-.3-.09-.74-.09-1.04 0l-2.55-2.55C12.27 10.45 11.46 9 10 9c-1.45 0-2.27 1.44-1.93 2.52l-4.56 4.55C2.44 15.74 1 16.55 1 18c0 1.1.9 2 2 2 1.45 0 2.26-1.44 1.93-2.51l4.55-4.56c.3.09.74.09 1.04 0l2.55 2.55C12.73 16.55 13.54 18 15 18c1.45 0 2.27-1.44 1.93-2.52l3.56-3.55c1.07.33 2.51-.48 2.51-1.93 0-1.1-.9-2-2-2z"},child:[]},{tag:"path",attr:{d:"m15 9 .94-2.07L18 6l-2.06-.93L15 3l-.92 2.07L12 6l2.08.93zM3.5 11 4 9l2-.5L4 8l-.5-2L3 8l-2 .5L3 9z"},child:[]}]})(t)}function CV(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m17.66 17.66-1.06 1.06-.71-.71 1.06-1.06-1.94-1.94-1.06 1.06-.71-.71 1.06-1.06-1.94-1.94-1.06 1.06-.71-.71 1.06-1.06L9.7 9.7l-1.06 1.06-.71-.71 1.06-1.06-1.94-1.94-1.06 1.06-.71-.71 1.06-1.06L4 4v14c0 1.1.9 2 2 2h14l-2.34-2.34zM7 17v-5.76L12.76 17H7z"},child:[]}]})(t)}function PV(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"},child:[]}]})(t)}function EV(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11 7H2v2h9V7zm0 8H2v2h9v-2zm5.34-4L12.8 7.46l1.41-1.41 2.12 2.12 4.24-4.24L22 5.34 16.34 11zm0 8-3.54-3.54 1.41-1.41 2.12 2.12 4.24-4.24L22 13.34 16.34 19z"},child:[]}]})(t)}function _V(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M22 7h-9v2h9V7zm0 8h-9v2h9v-2zM5.54 11 2 7.46l1.41-1.41 2.12 2.12 4.24-4.24 1.41 1.41L5.54 11zm0 8L2 15.46l1.41-1.41 2.12 2.12 4.24-4.24 1.41 1.41L5.54 19z"},child:[]}]})(t)}function MV(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M5 20h14v-2H5v2zm0-10h4v6h6v-6h4l-7-7-7 7z"},child:[]}]})(t)}function IN(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m19 9 1.25-2.75L23 5l-2.75-1.25L19 1l-1.25 2.75L15 5l2.75 1.25L19 9zm-7.5.5L9 4 6.5 9.5 1 12l5.5 2.5L9 20l2.5-5.5L17 12l-5.5-2.5zM19 15l-1.25 2.75L15 19l2.75 1.25L19 23l1.25-2.75L23 19l-2.75-1.25L19 15z"},child:[]}]})(t)}function G0(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a.996.996 0 0 0 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"},child:[]}]})(t)}function TV(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z"},child:[]}]})(t)}function Gu(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m16.24 11.51 1.57-1.57-3.75-3.75-1.57 1.57-4.14-4.13c-.78-.78-2.05-.78-2.83 0l-1.9 1.9c-.78.78-.78 2.05 0 2.83l4.13 4.13L3 17.25V21h3.75l4.76-4.76 4.13 4.13c.95.95 2.23.6 2.83 0l1.9-1.9c.78-.78.78-2.05 0-2.83l-4.13-4.13zm-7.06-.44L5.04 6.94l1.89-1.9L8.2 6.31 7.02 7.5l1.41 1.41 1.19-1.19 1.45 1.45-1.89 1.9zm7.88 7.89-4.13-4.13 1.9-1.9 1.45 1.45-1.19 1.19 1.41 1.41 1.19-1.19 1.27 1.27-1.9 1.9zM20.71 7.04a.996.996 0 0 0 0-1.41l-2.34-2.34c-.47-.47-1.12-.29-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"},child:[]}]})(t)}function LV(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M9.17 16.83a4.008 4.008 0 0 0 5.66 0 4.008 4.008 0 0 0 0-5.66l-5.66 5.66zM18 2.01 6 2c-1.11 0-2 .89-2 2v16c0 1.11.89 2 2 2h12c1.11 0 2-.89 2-2V4c0-1.11-.89-1.99-2-1.99zM10 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM7 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm5 16c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6z"},child:[]}]})(t)}function AV(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M13 3H6v18h4v-6h3c3.31 0 6-2.69 6-6s-2.69-6-6-6zm.2 8H10V7h3.2c1.1 0 2 .9 2 2s-.9 2-2 2z"},child:[]}]})(t)}function ON(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M5 8h2v8H5zm7 0H9c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V9c0-.55-.45-1-1-1zm-1 6h-1v-4h1v4zm7-6h-3c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V9c0-.55-.45-1-1-1zm-1 6h-1v-4h1v4z"},child:[]},{tag:"path",attr:{fill:"none",d:"M4 6h16v12H4z"},child:[]},{tag:"path",attr:{d:"M2 4v16h20V4H2zm2 14V6h16v12H4z"},child:[]}]})(t)}function zh(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5a2.5 2.5 0 0 1 0-5 2.5 2.5 0 0 1 0 5z"},child:[]}]})(t)}function q_(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"},child:[]}]})(t)}function pg(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m7 10 5 5 5-5z"},child:[]}]})(t)}function Zb(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"},child:[]}]})(t)}function IV(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"},child:[]}]})(t)}function OV(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"},child:[]}]})(t)}function Qb(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"},child:[]}]})(t)}function Ci(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"},child:[]}]})(t)}function RV(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M1 11v10h5v-6h4v6h5V11L8 6z"},child:[]},{tag:"path",attr:{d:"M10 3v1.97l7 5V11h2v2h-2v2h2v2h-2v4h6V3H10zm9 6h-2V7h2v2z"},child:[]}]})(t)}function Jb(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"circle",attr:{cx:"7",cy:"7",r:"2"},child:[]},{tag:"path",attr:{d:"M20 13V4.83C20 3.27 18.73 2 17.17 2c-.75 0-1.47.3-2 .83l-1.25 1.25c-.16-.05-.33-.08-.51-.08-.4 0-.77.12-1.08.32l2.76 2.76c.2-.31.32-.68.32-1.08 0-.18-.03-.34-.07-.51l1.25-1.25a.828.828 0 0 1 1.41.59V13h-6.85c-.3-.21-.57-.45-.82-.72l-1.4-1.55c-.19-.21-.43-.38-.69-.5A2.251 2.251 0 0 0 5 12.25V13H2v6c0 1.1.9 2 2 2 0 .55.45 1 1 1h14c.55 0 1-.45 1-1 1.1 0 2-.9 2-2v-6h-2z"},child:[]}]})(t)}function DV(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM9 18c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm0-3c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm3 3c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm0-3c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm3 3c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm0-3c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm2-3H7v-1c0-2.76 2.24-5 5-5s5 2.24 5 5v1z"},child:[]}]})(t)}function G_(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M21 10.78V8c0-1.65-1.35-3-3-3h-4c-.77 0-1.47.3-2 .78-.53-.48-1.23-.78-2-.78H6C4.35 5 3 6.35 3 8v2.78c-.61.55-1 1.34-1 2.22v6h2v-2h16v2h2v-6c0-.88-.39-1.67-1-2.22zM14 7h4c.55 0 1 .45 1 1v2h-6V8c0-.55.45-1 1-1zM5 8c0-.55.45-1 1-1h4c.55 0 1 .45 1 1v2H5V8z"},child:[]}]})(t)}function $V(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6.32 13.01c.96.02 1.85.5 2.45 1.34A3.961 3.961 0 0 0 12 16c1.29 0 2.5-.62 3.23-1.66.6-.84 1.49-1.32 2.45-1.34-.72-1.22-3.6-2-5.68-2-2.07 0-4.96.78-5.68 2.01zM4 13c1.66 0 3-1.34 3-3S5.66 7 4 7s-3 1.34-3 3 1.34 3 3 3zM20 13c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3zM12 10c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3z"},child:[]},{tag:"path",attr:{d:"M21 14h-3.27c-.77 0-1.35.45-1.68.92-.04.06-1.36 2.08-4.05 2.08-1.43 0-3.03-.64-4.05-2.08-.39-.55-1-.92-1.68-.92H3c-1.1 0-2 .9-2 2v4h7v-2.26c1.15.8 2.54 1.26 4 1.26s2.85-.46 4-1.26V20h7v-4c0-1.1-.9-2-2-2z"},child:[]}]})(t)}function FV(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"},child:[]}]})(t)}function K0(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 12.75c1.63 0 3.07.39 4.24.9 1.08.48 1.76 1.56 1.76 2.73V18H6v-1.61c0-1.18.68-2.26 1.76-2.73 1.17-.52 2.61-.91 4.24-.91zM4 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm1.13 1.1c-.37-.06-.74-.1-1.13-.1-.99 0-1.93.21-2.78.58A2.01 2.01 0 0 0 0 16.43V18h4.5v-1.61c0-.83.23-1.61.63-2.29zM20 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm4 3.43c0-.81-.48-1.53-1.22-1.85A6.95 6.95 0 0 0 20 14c-.39 0-.76.04-1.13.1.4.68.63 1.46.63 2.29V18H24v-1.57zM12 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3z"},child:[]}]})(t)}function K_(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{fill:"none",d:"M6 7h5v3H6zM13 7h5v3h-5z"},child:[]},{tag:"path",attr:{d:"M20 10V7c0-1.1-.9-2-2-2H6c-1.1 0-2 .9-2 2v3c-1.1 0-2 .9-2 2v5h1.33L4 19h1l.67-2h12.67l.66 2h1l.67-2H22v-5c0-1.1-.9-2-2-2zm-9 0H6V7h5v3zm7 0h-5V7h5v3z"},child:[]}]})(t)}function zV(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"},child:[]}]})(t)}function BV(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 22c1.1 0 2-.9 2-2h-4a2 2 0 0 0 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"},child:[]}]})(t)}function ma(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"},child:[]}]})(t)}function Tr(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"},child:[]}]})(t)}function RN(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M5 13.18v4L12 21l7-3.82v-4L12 17l-7-3.82zM12 3 1 9l11 6 9-4.91V17h2V9L12 3z"},child:[]}]})(t)}function VV(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"},child:[]}]})(t)}function Bh(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"},child:[]}]})(t)}function Ku(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-2.5-3.5 7-4.5-7-4.5v9z"},child:[]}]})(t)}function UV(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11 21h-1l1-7H7.5c-.88 0-.33-.75-.31-.78C8.48 10.94 10.42 7.54 13.01 3h1l-1 7h3.51c.4 0 .62.19.4.66C12.97 17.55 11 21 11 21z"},child:[]}]})(t)}function DN(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6zm-2 0-8 4.99L4 6h16zm0 12H4V8l8 5 8-5v10z"},child:[]}]})(t)}function mg(t){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"},child:[]}]})(t)}const WV=t=>{try{const e=Math.max(0,Date.now()-new Date(t).getTime()),n=Math.floor(e/6e4);if(n<1)return"now";if(n<60)return`${n}m`;const s=Math.floor(n/60);return s<24?`${s}h`:`${Math.floor(s/24)}d`}catch{return""}},Y_=t=>[t==null?void 0:t.firstName,t==null?void 0:t.lastName].filter(Boolean).join(" ").trim()||(t==null?void 0:t.email)||"Someone",X_=t=>{const e=[t==null?void 0:t.firstName,t==null?void 0:t.lastName].filter(Boolean).join(" ").trim();return e?e.split(/\s+/).map(n=>{var s;return(s=n[0])==null?void 0:s.toUpperCase()}).slice(0,2).join(""):((t==null?void 0:t.email)||"?").slice(0,1).toUpperCase()};function HV({onLogout:t}){const[e,n]=p.useState(!1),[s,i]=p.useState(null),a=p.useRef(null);p.useEffect(()=>{(async()=>{var c;try{const d=await ge.get("/get-user");i((c=d.data)==null?void 0:c.user)}catch(d){console.error("Error fetching user data:",d)}})()},[]);const o=p.useMemo(()=>s&&X_(s)||"NR",[s]);return p.useEffect(()=>{const l=d=>{a.current&&(a.current.contains(d.target)||n(!1))},c=d=>d.key==="Escape"&&n(!1);return document.addEventListener("mousedown",l),document.addEventListener("keydown",c),()=>{document.removeEventListener("mousedown",l),document.removeEventListener("keydown",c)}},[]),r.jsxs("div",{className:"relative",ref:a,children:[r.jsx("button",{type:"button","aria-haspopup":"menu","aria-expanded":e,onClick:()=>n(l=>!l),className:"flex h-9 w-9 items-center justify-center rounded-full bg-white/10 text-xs font-semibold text-white/90 ring-1 ring-white/10 hover:bg-white/15 focus:outline-none focus:ring-2 focus:ring-sky-500",children:o}),e&&r.jsxs("div",{role:"menu",className:"absolute right-0 mt-2 w-56 rounded-xl border border-white/10 bg-[#0b0c0f] p-1.5 shadow-xl ring-1 ring-black/5",children:[s&&r.jsxs("div",{className:"px-3 py-2 border-b border-white/10 mb-1",children:[r.jsx("div",{className:"text-sm font-semibold text-white",children:Y_(s)}),r.jsx("div",{className:"text-xs text-white/60",children:s.email})]}),r.jsxs(Ae,{to:"/profile",role:"menuitem",onClick:()=>n(!1),className:"flex items-center gap-3 rounded-lg px-3 py-2 text-sm text-white/90 hover:bg-white/5",children:[r.jsx(Tr,{className:"text-white/60"})," Profile"]}),r.jsxs(Ae,{to:"/settings",role:"menuitem",onClick:()=>n(!1),className:"flex items-center gap-3 rounded-lg px-3 py-2 text-sm text-white/90 hover:bg-white/5",children:[r.jsx(zp,{className:"text-white/60"})," Settings"]}),r.jsxs(Ae,{to:"/Dashboard",role:"menuitem",onClick:()=>n(!1),className:"flex items-center gap-3 rounded-lg px-3 py-2 text-sm text-white/90 hover:bg-white/5",children:[r.jsx(zp,{className:"text-white/60"})," Dashboard"]}),r.jsx("div",{className:"my-1 h-px bg-white/10"}),r.jsxs("button",{role:"menuitem",onClick:()=>{n(!1),t==null||t()},className:"flex w-full items-center gap-3 rounded-lg px-3 py-2 text-left text-sm text-red-300 hover:bg-red-500/10",children:[r.jsx(yV,{})," Log out"]})]})]})}function qV(){const[t,e]=p.useState(!1),[n,s]=p.useState(0),[i,a]=p.useState([]),[o,l]=p.useState([]),[c,d]=p.useState(0),u=p.useRef(null),h=p.useRef(null),m=async()=>{var w;try{const N=await ge.get("/contact-access/inbox?status=pending"),j=((w=N==null?void 0:N.data)==null?void 0:w.items)||[];a(j),s(j.length)}catch{a([]),s(0)}},f=async()=>{var w;try{const N=await ge.get("/api/user/verification-status"),j=((w=N==null?void 0:N.data)==null?void 0:w.notifications)||[];l(j)}catch{l([])}};p.useEffect(()=>{let w;(async()=>{var k,P;await Promise.all([m(),f()]);try{const{io:S}=await qm(async()=>{const{io:T}=await Promise.resolve().then(()=>dw);return{io:T}},void 0);w=S("http://localhost:8000",{transports:["websocket"],withCredentials:!0});try{const T=await ge.get("/get-user"),W=(P=(k=T==null?void 0:T.data)==null?void 0:k.user)==null?void 0:P._id;W&&w.emit("registerUser",W)}catch{}w.on("contact_request:new",m),w.on("contact_request:updated",m)}catch{}})();const N=k=>{u.current&&!u.current.contains(k.target)&&h.current&&!h.current.contains(k.target)&&e(!1)},j=k=>k.key==="Escape"&&e(!1);return document.addEventListener("mousedown",N),document.addEventListener("keydown",j),()=>{document.removeEventListener("mousedown",N),document.removeEventListener("keydown",j)}},[]),p.useEffect(()=>{d(n+o.length)},[n,o.length]);const x=w=>{switch(w.id){case"email_verification":window.location.href="/verify-email";break;case"phone_verification":window.location.href="/add-phone";break;default:console.log("Unknown verification notification:",w)}},g=async w=>{await ge.post("/contact-access/approve",{requestId:w})},b=async w=>{await ge.post("/contact-access/deny",{requestId:w})},y=async w=>{var N;a(j=>j.map(k=>k._id===w?{...k,_busy:!0,_err:""}:k));try{await g(w),a(j=>j.filter(k=>k._id!==w)),s(j=>Math.max(0,j-1))}catch(j){const k=(N=j==null?void 0:j.response)==null?void 0:N.status,P=k===401?"Session expired. Please sign in.":k===404?"Request not found.":"Approve failed. Try again.";a(S=>S.map(E=>E._id===w?{...E,_busy:!1,_err:P}:E))}},v=async w=>{var N;a(j=>j.map(k=>k._id===w?{...k,_busy:!0,_err:""}:k));try{await b(w),a(j=>j.filter(k=>k._id!==w)),s(j=>Math.max(0,j-1))}catch(j){const k=(N=j==null?void 0:j.response)==null?void 0:N.status,P=k===401?"Session expired. Please sign in.":k===404?"Request not found.":"Deny failed. Try again.";a(S=>S.map(E=>E._id===w?{...E,_busy:!1,_err:P}:E))}};return r.jsxs("div",{className:"relative",children:[r.jsxs("button",{ref:h,onClick:()=>e(w=>!w),className:"relative grid h-10 w-10 place-items-center rounded-2xl backdrop-blur-sm bg-white/10 border border-white/20 text-white/90 hover:bg-white/15 hover:scale-105 transition-all duration-200 shadow-lg hover:shadow-xl",style:{background:"linear-gradient(135deg, rgba(255,255,255,0.15) 0%, rgba(255,255,255,0.05) 100%)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.2)"},"aria-label":"Notifications",children:[r.jsx(zV,{className:"text-xl"}),c>0&&r.jsx("span",{className:"absolute -right-1 -top-1 grid h-5 min-w-5 place-items-center rounded-full bg-gradient-to-r from-red-500 to-pink-500 px-1.5 text-[10px] font-bold text-white shadow-lg animate-pulse border-2 border-white/20",children:c>9?"9+":c})]}),t&&r.jsx("div",{ref:u,className:"absolute right-0 top-11 z-50 w-[320px] max-h-[60vh] overflow-hidden rounded-2xl backdrop-blur-2xl border border-white/10 shadow-xl",style:{background:"rgba(255, 255, 255, 0.08)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",boxShadow:"0 20px 40px -12px rgba(0, 0, 0, 0.3), 0 0 0 1px rgba(255, 255, 255, 0.05)"},children:i.length===0&&o.length===0?r.jsx("div",{className:"px-4 py-8 text-center",children:r.jsx("div",{className:"text-sm text-white/60",children:"No notifications"})}):r.jsxs("div",{className:"py-2",children:[i.map((w,N)=>{var k;const j=w.requesterId||{};return r.jsxs("div",{children:[r.jsx("div",{className:"px-4 py-3 hover:bg-white/5 transition-colors duration-200",children:r.jsxs("div",{className:"flex gap-3",children:[r.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-lg text-sm font-semibold border border-white/10",style:{background:"#000000",color:"#2563eb"},children:X_(j)}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("span",{className:"text-sm font-semibold text-white truncate",children:Y_(j)}),w.createdAt&&r.jsx("span",{className:"text-xs text-white/50",children:WV(w.createdAt)})]}),r.jsxs("div",{className:"text-xs text-white/70 mb-3",children:["wants to view your contact info",((k=w.propertyId)==null?void 0:k.title)&&r.jsxs("span",{className:"block text-white/60",children:["for ",w.propertyId.title]})]}),w._err&&r.jsx("div",{className:"mb-3 p-2 rounded-lg text-xs text-red-300",style:{background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.2)"},children:w._err}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>y(w._id),disabled:w._busy,className:"flex-1 rounded-lg px-3 py-1.5 text-xs font-medium text-white disabled:opacity-60 transition-all duration-200",style:{background:"#2563eb"},children:w._busy?r.jsxs("div",{className:"flex items-center justify-center gap-1",children:[r.jsx("div",{className:"w-2 h-2 border border-white border-t-transparent rounded-full animate-spin"}),"Working"]}):"Approve"}),r.jsx("button",{onClick:()=>v(w._id),disabled:w._busy,className:"flex-1 rounded-lg border border-white/20 px-3 py-1.5 text-xs font-medium text-white/80 hover:border-white/30 disabled:opacity-60 transition-all duration-200",style:{background:"rgba(255, 255, 255, 0.05)"},children:"Deny"})]})]})]})}),N<i.length-1&&r.jsx("div",{className:"mx-4 h-px bg-gradient-to-r from-transparent via-white/10 to-transparent"})]},w._id)}),o.map((w,N)=>r.jsxs("div",{children:[r.jsx("div",{className:"px-4 py-3 hover:bg-white/5 transition-colors duration-200",children:r.jsxs("div",{className:"flex gap-3",children:[r.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-lg text-lg border border-white/10",style:{background:w.type==="warning"?"rgba(245, 158, 11, 0.2)":"rgba(59, 130, 246, 0.2)",color:w.type==="warning"?"#f59e0b":"#3b82f6"},children:w.avatar}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("div",{className:"flex items-center justify-between mb-1",children:r.jsx("span",{className:"text-sm font-semibold text-white truncate",children:w.title})}),r.jsx("div",{className:"text-xs text-white/70 mb-3",children:w.message}),r.jsx("div",{className:"flex gap-2",children:r.jsx("button",{onClick:()=>x(w),className:"flex-1 rounded-lg px-3 py-1.5 text-xs font-medium text-white transition-all duration-200",style:{background:w.type==="warning"?"#f59e0b":"#3b82f6"},children:w.action})})]})]})}),N<o.length-1&&r.jsx("div",{className:"mx-4 h-px bg-gradient-to-r from-transparent via-white/10 to-transparent"})]},w.id))]})})]})}function ct(){const t=dt(),e=qs(),[n,s]=p.useState(!1),{logout:i}=Ka();p.useEffect(()=>{(async()=>{var l,c;try{const u=((c=(l=(await ge.get("/onboarding-data")).data)==null?void 0:l.onboardingData)==null?void 0:c.completed)||!1;s(!u)}catch(d){console.error("Error checking onboarding status:",d),s(aV())}})()},[]);const a=[{title:"Solve Threads",desc:"AI-powered campus life solutions.",to:"/solve-threads",icon:IN,featured:!0},{title:"Housing",desc:"Verified listings near campus.",to:"/all-properties",icon:RV},{title:"Roommate matcher",desc:"2-minute quiz for a great fit.",to:"/Synapse",icon:ma},{title:"Essentials pack",desc:"Day-1 kit: buy or rent.",to:"/marketplace",icon:Na},{title:"Arrival checklist",desc:"7-day plan + airport transit.",to:"/dashboard",icon:EV},{title:"Community",desc:"Clubs, events, and groups.",to:"/community",icon:$V},{title:"Build my plan",desc:"Let AI craft everything for me.",to:"/onboarding",icon:IN}];return r.jsx("header",{className:"sticky top-0 z-40 w-full",children:r.jsxs("div",{className:"mx-auto mt-3 flex max-w-7xl items-center justify-between rounded-2xl bg-[#0b0c0f]/90 px-4 py-2.5 backdrop-blur border border-white/5",children:[r.jsx(Ae,{to:"/",className:"inline-flex items-center",children:r.jsx("span",{className:"brand-script text-3xl leading-none bg-gradient-to-r from-blue-600 to-teal-500 bg-clip-text text-transparent drop-shadow-[0_1px_0_rgba(255,255,255,0.06)]",children:"NewRun"})}),r.jsxs("nav",{className:"hidden items-center gap-8 md:flex",children:[r.jsx(sV,{label:"Products",items:a}),r.jsx(Ae,{to:"/solve-threads",className:`text-sm font-semibold ${e.pathname.startsWith("/solve-threads")?"text-orange-400":"text-orange-400/80 hover:text-orange-400"}`,children:"Solve Threads"}),r.jsx(Ae,{to:"/blogs",className:`text-sm ${e.pathname.startsWith("/blogs")?"text-white":"text-white/80 hover:text-white"}`,children:"Blogs"}),r.jsx(Ae,{to:"/community",className:`text-sm ${e.pathname.startsWith("/community")?"text-white":"text-white/80 hover:text-white"}`,children:"Community"}),r.jsx(Ae,{to:"/marketplace",className:`text-sm ${e.pathname.startsWith("/marketplace")?"text-white":"text-white/80 hover:text-white"}`,children:"Marketplace"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[n&&r.jsx("button",{onClick:()=>t("/onboarding",{state:{from:"navbar_resume"}}),className:"rounded-full border border-white/10 bg-white/5 px-3 py-1.5 text-sm text-white/85 hover:bg-white/10",title:"Pick up where you left off",children:"Resume setup"}),r.jsx(qV,{}),r.jsx(HV,{onLogout:async()=>{try{await i()}catch(o){console.error("AuthContext logout error:",o)}setTimeout(()=>{oV()},100)}})]})]})})}function ka(){return r.jsxs("footer",{className:"relative mt-24 text-white",role:"contentinfo",children:[r.jsx("div",{"aria-hidden":"true",className:"pointer-events-none absolute inset-x-0 -top-28 h-64 w-full",style:{background:"radial-gradient(60% 80% at 50% 0%, rgba(47,100,255,0.20) 0%, rgba(0,0,0,0) 70%), radial-gradient(60% 80% at 50% 0%, rgba(0,212,255,0.12) 0%, rgba(0,0,0,0) 80%)"}}),r.jsxs("div",{className:"mx-auto max-w-7xl px-6",children:[r.jsx("div",{className:"rounded-2xl border border-white/10 bg-transparent p-6 backdrop-blur-xl",children:r.jsxs("div",{className:"grid gap-6 md:grid-cols-3 md:items-center",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("h3",{className:"text-xl font-semibold bg-gradient-to-r from-[#2F64FF] to-[#00D4FF] bg-clip-text text-transparent",children:"Join our newsletter"}),r.jsx("p",{className:"mt-1 text-white/70",children:"Get exclusive content and become a part of the NewRun community."})]}),r.jsx(GV,{})]})}),r.jsxs("div",{className:"mt-14 grid gap-10 md:grid-cols-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"brand-script text-5xl leading-none bg-gradient-to-r from-[#2F64FF] to-[#00D4FF] bg-clip-text text-transparent",children:"NewRun"}),r.jsx("p",{className:"mt-3 max-w-sm text-white/70",children:"Housing, essentials, and community  curated by your university."})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-semibold uppercase tracking-wider text-white/70",children:"Product"}),r.jsxs("ul",{className:"mt-4 space-y-3 text-white/85",children:[r.jsx("li",{children:r.jsx(Ae,{to:"/marketplace",className:"hover:text-white",children:"Marketplace"})}),r.jsx("li",{children:r.jsx(Ae,{to:"/properties",className:"hover:text-white",children:"Housing"})}),r.jsx("li",{children:r.jsx(Ae,{to:"/messaging",className:"hover:text-white",children:"Messaging"})}),r.jsx("li",{children:r.jsx(Ae,{to:"/Synapse",className:"hover:text-white",children:"Roommate Match"})})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-semibold uppercase tracking-wider text-white/70",children:"Company"}),r.jsxs("ul",{className:"mt-4 space-y-3 text-white/85",children:[r.jsx("li",{children:r.jsx(Ae,{to:"/blogs",className:"hover:text-white",children:"Blog"})}),r.jsx("li",{children:r.jsx(Ae,{to:"/about",className:"hover:text-white",children:"About"})}),r.jsx("li",{children:r.jsx(Ae,{to:"/contact",className:"hover:text-white",children:"Contact"})}),r.jsx("li",{children:r.jsx(Ae,{to:"/signin",className:"hover:text-white",children:"Sign in"})}),r.jsx("li",{children:r.jsx(Ae,{to:"/signup",className:"hover:text-white",children:"Sign up"})})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-semibold uppercase tracking-wider text-white/70",children:"Legal"}),r.jsxs("ul",{className:"mt-4 space-y-3 text-white/85",children:[r.jsx("li",{children:r.jsx(Ae,{to:"/privacy",className:"hover:text-white",children:"Privacy Policy"})}),r.jsx("li",{children:r.jsx(Ae,{to:"/terms",className:"hover:text-white",children:"Terms of Service"})}),r.jsx("li",{children:r.jsx(Ae,{to:"/cookies",className:"hover:text-white",children:"Cookies Policy"})}),r.jsx("li",{children:r.jsx(Ae,{to:"/cookies/settings",className:"hover:text-white",children:"Cookie Settings"})}),r.jsx("li",{children:r.jsx(Ae,{to:"/help",className:"hover:text-white",children:"Help Center"})})]})]})]}),r.jsxs("div",{className:"mt-12 flex flex-col items-center justify-between gap-6 border-t border-white/10 py-6 text-sm text-white/60 md:flex-row",children:[r.jsxs("div",{children:[" ",new Date().getFullYear()," NewRun. All rights reserved."]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("a",{href:"https://instagram.com","aria-label":"Instagram",className:"group inline-flex h-9 w-9 items-center justify-center rounded-full border border-white/15 bg-white/5 backdrop-blur hover:bg-white/10",target:"_blank",rel:"noreferrer",children:r.jsx("svg",{viewBox:"0 0 24 24",className:"h-4 w-4 fill-white/80 group-hover:fill-white",children:r.jsx("path",{d:"M12 2.2c3.2 0 3.6 0 4.8.1 1.2.1 1.9.2 2.3.4.6.3 1 .6 1.5 1 .4.4.8.9 1 1.5.2.4.3 1.1.4 2.3.1 1.2.1 1.6.1 4.8s0 3.6-.1 4.8c-.1 1.2-.2 1.9-.4 2.3a3.9 3.9 0 0 1-1 1.5 3.9 3.9 0 0 1-1.5 1c-.4.2-1.1.3-2.3.4-1.2.1-1.6.1-4.8.1s-3.6 0-4.8-.1c-1.2-.1-1.9-.2-2.3-.4a3.9 3.9 0 0 1-1.5-1 3.9 3.9 0 0 1-1-1.5c-.2-.4-.3-1.1-.4-2.3C2.2 15.6 2.2 15.2 2.2 12s0-3.6.1-4.8c.1-1.2.2-1.9.4-2.3.3-.6.6-1 1-1.5.4-.4.9-.8 1.5-1 .4-.2 1.1-.3 2.3-.4C8.4 2.2 8.8 2.2 12 2.2Zm0 1.8c-3.1 0-3.5 0-4.7.1-1 .1-1.6.2-1.9.3-.5.2-.9.4-1.2.8-.4.4-.6.7-.8 1.2-.1.3-.2.9-.2 1.9-.1 1.2-.1 1.6-.1 4.7s0 3.5.1 4.7c.1 1 .2 1.6.3 1.9.2.5.5.9.8 1.2.3.2.9.4 1.9.5 1.2.1 1.6.1 4.7.1s3.5 0 4.7-.1c1-.1 1.6-.2 1.9-.5.5-.2.9-.5 1.2-.8.2-.3.4-.9.5-1.9.1-1.2.1-1.6.1-4.7s0-3.5-.1-4.7c-.1-1-.2-1.6-.5-1.9a3 3 0 0 0-.8-1.2c-.3-.3-.9-.5-1.9-.6-1.2 0-1.6-.1-4.7-.1Zm0 3.2a4.8 4.8 0 1 1 0 9.6 4.8 4.8 0 0 1 0-9.6Zm0 1.8a3 3 0 1 0 0 6 3 3 0 0 0 0-6Zm5.2-2.6a1.1 1.1 0 1 1 0 2.2 1.1 1.1 0 0 1 0-2.2Z"})})}),r.jsx("a",{href:"https://x.com","aria-label":"Twitter / X",className:"group inline-flex h-9 w-9 items-center justify-center rounded-full border border-white/15 bg-white/5 backdrop-blur hover:bg-white/10",target:"_blank",rel:"noreferrer",children:r.jsx("svg",{viewBox:"0 0 24 24",className:"h-4 w-4 fill-white/80 group-hover:fill-white",children:r.jsx("path",{d:"M18.2 2H21l-6.3 7.2L22 22h-5.9l-4.6-6-5.3 6H2.4l6.8-7.6L2 2.1h6l4.2 5.6L18.2 2Zm-1 17.5h1.6L8.9 4.3H7.2l10 15.2Z"})})}),r.jsx("a",{href:"https://linkedin.com","aria-label":"LinkedIn",className:"group inline-flex h-9 w-9 items-center justify-center rounded-full border border-white/15 bg-white/5 backdrop-blur hover:bg-white/10",target:"_blank",rel:"noreferrer",children:r.jsx("svg",{viewBox:"0 0 24 24",className:"h-4 w-4 fill-white/80 group-hover:fill-white",children:r.jsx("path",{d:"M4.98 3.5C4.98 4.88 3.86 6 2.5 6S0 4.88 0 3.5 1.12 1 2.5 1s2.48 1.12 2.48 2.5zM0 8h5v15H0V8zm7.5 0h4.8v2.1h.1c.7-1.2 2.5-2.5 5-2.5 5.3 0 6.3 3.5 6.3 8.1V23H18V16c0-1.7 0-3.9-2.4-3.9-2.4 0-2.7 1.8-2.7 3.8V23H7.5V8z"})})})]})]})]})]})}function GV(){const[t,e]=Fe.useState("idle"),[n,s]=Fe.useState(""),[i,a]=Fe.useState("");async function o(l){if(l.preventDefault(),!i)try{e("loading"),await ge.post("/newsletter",{email:n,source:"footer"}),e("success"),s("")}catch{e("error")}}return r.jsxs("form",{onSubmit:o,className:"flex w-full flex-col gap-3 md:flex-row md:items-center","aria-live":"polite",children:[r.jsx("input",{type:"text",value:i,onChange:l=>a(l.target.value),className:"hidden",tabIndex:-1,"aria-hidden":"true"}),r.jsx("input",{type:"email",required:!0,placeholder:"Email address",value:n,onChange:l=>s(l.target.value),className:"w-full rounded-xl border border-white/15 bg-black/30 px-4 py-3 text-white placeholder-white/50 outline-none focus:border-[#00D4FF]","aria-label":"Email address"}),r.jsx("button",{type:"submit",className:"whitespace-nowrap rounded-xl bg-gradient-to-r from-[#2F64FF] to-[#00D4FF] px-5 py-3 font-semibold text-white shadow-[0_0_18px_rgba(47,100,255,0.35)] transition hover:scale-[1.02] active:scale-[0.99]",disabled:t==="loading",children:t==="loading"?"Subscribing":"Subscribe"}),t==="success"&&r.jsx("span",{className:"text-sm text-emerald-400",children:"Thanks! Youre on the list."}),t==="error"&&r.jsx("span",{className:"text-sm text-red-400",children:"Something went wrong. Please try again."})]})}const KV="/assets/memoji-vm-DisM4q8L.png",YV="/assets/memoji-sj-B_PlOjSS.png",gn={House:t=>r.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",...t,children:[r.jsx("path",{d:"M3 11.5 12 4l9 7.5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"}),r.jsx("path",{d:"M5 10.5v8.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-8.5",stroke:"currentColor",strokeWidth:"1.6"}),r.jsx("path",{d:"M9.5 20v-4.5h5V20",stroke:"currentColor",strokeWidth:"1.6"})]}),Users:t=>r.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",...t,children:[r.jsx("circle",{cx:"9",cy:"8",r:"3.2",stroke:"currentColor",strokeWidth:"1.6"}),r.jsx("path",{d:"M14.5 9a3 3 0 1 0 0-6",stroke:"currentColor",strokeWidth:"1.6"}),r.jsx("path",{d:"M3.5 19a5.5 5.5 0 0 1 11 0",stroke:"currentColor",strokeWidth:"1.6"}),r.jsx("path",{d:"M15 16.5a4 4 0 0 1 5.5 3.5",stroke:"currentColor",strokeWidth:"1.6"})]}),Cart:t=>r.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",...t,children:[r.jsx("path",{d:"M3 4h2l2.2 11.5a1 1 0 0 0 1 .8h7.8a1 1 0 0 0 1-.7l2-7.1H7.8",stroke:"currentColor",strokeWidth:"1.6"}),r.jsx("circle",{cx:"10",cy:"20",r:"1.6",fill:"currentColor"}),r.jsx("circle",{cx:"17",cy:"20",r:"1.6",fill:"currentColor"})]}),Calendar:t=>r.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",...t,children:[r.jsx("rect",{x:"3",y:"5",width:"18",height:"16",rx:"2",stroke:"currentColor",strokeWidth:"1.6"}),r.jsx("path",{d:"M8 3v4M16 3v4M3 9.5h18",stroke:"currentColor",strokeWidth:"1.6"}),r.jsx("rect",{x:"7",y:"12",width:"4",height:"3",rx:"0.6",fill:"currentColor"}),r.jsx("rect",{x:"13",y:"12",width:"4",height:"3",rx:"0.6",fill:"currentColor",opacity:".65"})]}),Shield:t=>r.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",...t,children:[r.jsx("path",{d:"M12 3 5 5.5v6.2c0 4.2 3.1 7.7 7 8.8 3.9-1.1 7-4.6 7-8.8V5.5L12 3Z",stroke:"currentColor",strokeWidth:"1.6"}),r.jsx("path",{d:"M8.5 12l2.2 2.2L15.5 9",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]}),Plane:t=>r.jsx("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",...t,children:r.jsx("path",{d:"M2 12l19.5-6-6.4 8.4L9 14l-2.5 4-1.5-.5L7 13l-5-.8z",stroke:"currentColor",strokeWidth:"1.6"})}),Link:t=>r.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",...t,children:[r.jsx("path",{d:"M10 14a3 3 0 0 0 4.2 0l3.6-3.6a3 3 0 1 0-4.2-4.2L12 7.6",stroke:"currentColor",strokeWidth:"1.6"}),r.jsx("path",{d:"M14 10a3 3 0 0 0-4.2 0L6.2 13.6a3 3 0 1 0 4.2 4.2L12 16.4",stroke:"currentColor",strokeWidth:"1.6"})]}),Check:t=>r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",...t,children:r.jsx("path",{d:"M5 12.5l4 4L19 7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})},eo=({title:t,desc:e,icon:n,children:s})=>r.jsxs("div",{className:"rounded-2xl border border-white/10 bg-[#0F1115]/90 p-5 backdrop-blur-md shadow-lg",children:[r.jsxs("div",{className:"mb-3 flex items-center gap-3",children:[r.jsx("div",{className:"grid h-10 w-10 place-items-center rounded-xl bg-white/5 ring-1 ring-white/10 text-white/90",children:n}),r.jsxs("div",{children:[r.jsx("div",{className:"text-white font-semibold",children:t}),r.jsx("div",{className:"text-xs text-white/60",children:e})]})]}),s]}),XV=({children:t,delay:e=0})=>r.jsx(ye.div,{initial:{y:6,opacity:0},animate:{y:0,opacity:1},transition:{delay:e,duration:.4,ease:"easeOut"},className:"rounded-full bg-white/8 text-white/80 border border-white/10 px-2.5 py-1 text-xs",children:t}),ZV=()=>r.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/[0.03] p-4",children:[r.jsxs("div",{className:"mb-3 flex items-center gap-2 text-sky-300/90",children:[r.jsx(gn.House,{}),r.jsx("div",{className:"text-sm text-white/85",children:"Verified housing only"})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:["1.2 mi","$1095","2 Bed"].map((t,e)=>r.jsx(XV,{delay:.12*e,children:t},t))}),r.jsx(ye.div,{className:"mt-4 h-2 w-full overflow-hidden rounded-full bg-white/10",animate:{backgroundPositionX:["0%","200%"]},transition:{repeat:1/0,duration:2.2,ease:"linear"},style:{backgroundImage:"linear-gradient(90deg, rgba(255,255,255,.08) 0%, rgba(255,255,255,.35) 50%, rgba(255,255,255,.08) 100%)",backgroundSize:"200% 100%"}})]}),QV=()=>r.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/[0.03] p-4",children:[r.jsxs("div",{className:"mb-3 flex items-center gap-2 text-emerald-300/90",children:[r.jsx(gn.Users,{}),r.jsx("div",{className:"text-sm text-white/85",children:"AI roommate matching"})]}),r.jsxs("div",{className:"relative flex items-center justify-between px-2",children:[r.jsx(ye.img,{src:KV,alt:"Roommate candidate VM",className:"h-14 w-14 rounded-full object-cover ring-1 ring-white/10 shadow-[0_0_0_2px_rgba(255,255,255,0.05)]",animate:{y:[-2,2,-2],rotate:[-1,1,-1]},transition:{repeat:1/0,duration:2.4,ease:"easeInOut"},onError:t=>{t.currentTarget.replaceWith(Object.assign(document.createElement("div"),{className:"grid h-14 w-14 place-items-center rounded-full bg-gradient-to-br from-[#1b2a4a] to-[#1b4a3a] text-white/90 ring-1 ring-white/10 text-sm font-medium",innerText:"VM"}))}}),r.jsxs("div",{className:"relative mx-2 flex h-5 w-28 items-center justify-center",children:[r.jsx("div",{className:"h-0.5 w-full rounded-full bg-gradient-to-r from-emerald-400/40 via-emerald-300/50 to-sky-400/40"}),r.jsx(ye.span,{className:"absolute h-2 w-2 rounded-full bg-emerald-300 shadow-[0_0_12px_3px_rgba(16,185,129,0.6)]",animate:{x:["-56px","56px","-56px"],opacity:[.4,1,.4]},transition:{repeat:1/0,duration:1.8,ease:"easeInOut"}})]}),r.jsx(ye.img,{src:YV,alt:"Roommate candidate SJ",className:"h-14 w-14 rounded-full object-cover ring-1 ring-white/10 shadow-[0_0_0_2px_rgba(255,255,255,0.05)]",animate:{y:[2,-2,2],rotate:[1,-1,1]},transition:{repeat:1/0,duration:2.4,ease:"easeInOut"},onError:t=>{t.currentTarget.replaceWith(Object.assign(document.createElement("div"),{className:"grid h-14 w-14 place-items-center rounded-full bg-gradient-to-br from-[#2b2a4a] to-[#1b3a6a] text-white/90 ring-1 ring-white/10 text-sm font-medium",innerText:"SJ"}))}})]}),r.jsxs("div",{className:"mt-4 flex items-center gap-2 text-white/80",children:[r.jsx(gn.Link,{}),r.jsx("div",{className:"text-xs",children:"Shared quiet hours  Similar budget"})]})]}),JV=()=>{const t=[{label:"SIM",icon:""},{label:"Bank",icon:""},{label:"Transit",icon:""}],e=.35,n=1.15,s=2700,i=1800;return r.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/[0.03] p-4",children:[r.jsxs("div",{className:"mb-3 flex items-center gap-2 text-indigo-300/90",children:[r.jsx(gn.Cart,{}),r.jsx("div",{className:"text-sm text-white/85",children:"Essentials pack(Day-1 ready)"})]}),r.jsxs("div",{className:"relative h-24 w-full rounded-lg border border-white/10 bg-white/[0.02] p-3",children:[r.jsx("div",{className:"absolute left-8 right-24 top-1/2 h-px -translate-y-1/2 bg-white/15"}),t.map((a,o)=>r.jsx(ye.div,{initial:{x:0,y:0,opacity:0,scale:1},animate:{x:[0,120,210,240],y:[0,0,0,8],opacity:[0,1,1,0],scale:[1,1,1,.92]},transition:{duration:s/1e3,ease:[.22,1,.36,1],delay:e+o*n,repeat:1/0,repeatDelay:i/1e3+(t.length-1-o)*n,times:[0,.75,.92,1]},className:"absolute left-8 top-1/2 -translate-y-1/2 overflow-hidden rounded-lg border border-white/15 bg-white/[0.05] px-3 py-2 backdrop-blur-sm",children:r.jsxs("div",{className:"flex items-center gap-2 text-white/85",children:[r.jsx("span",{className:"text-base leading-none",children:a.icon}),r.jsx("span",{className:"text-sm",children:a.label})]})},a.label+o)),r.jsx(ye.div,{className:"absolute right-4 top-1/2 grid h-16 w-20 -translate-y-1/2 place-items-center rounded-lg border border-white/15 bg-white/[0.05]",animate:{boxShadow:["0 0 0 0 rgba(99,102,241,0)","0 0 24px 10px rgba(99,102,241,.18)","0 0 0 0 rgba(99,102,241,0)"]},transition:{duration:s/1e3,ease:"easeOut",delay:e+(t.length-1)*n,repeat:1/0,repeatDelay:i/1e3},children:r.jsx(gn.Cart,{className:"scale-[1.25]"})})]}),r.jsxs("div",{className:"mt-4 flex items-center gap-2 text-white/70",children:[r.jsx("span",{className:"relative inline-flex h-2 w-2 items-center justify-center",children:r.jsx("span",{className:"absolute inline-flex h-2 w-2 rounded-full bg-indigo-400/70"})}),r.jsx("span",{className:"text-sm",children:"Packing your Day-1 kit"}),r.jsxs("div",{className:"ml-auto flex gap-3",children:[r.jsx("div",{className:"h-3 w-10 rounded-full bg-white/12"}),r.jsx("div",{className:"h-3 w-10 rounded-full bg-white/12"}),r.jsx("div",{className:"h-3 w-10 rounded-full bg-indigo-400/30"})]})]})]})},eU=()=>r.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/[0.03] p-4",children:[r.jsxs("div",{className:"mb-3 flex items-center gap-2 text-fuchsia-300/90",children:[r.jsx(gn.Calendar,{}),r.jsx("div",{className:"text-sm text-white/85",children:"Community & events"})]}),r.jsxs("div",{className:"relative mt-1 h-20 rounded-lg bg-white/5 ring-1 ring-white/10",children:[[0,1,2,3].map(t=>r.jsx(ye.span,{initial:{scale:0,opacity:0},animate:{scale:[0,1,1,0],opacity:[0,1,1,0]},transition:{delay:t*.4,duration:2.2,repeat:1/0},className:"absolute h-2.5 w-2.5 rounded-full bg-fuchsia-300",style:{top:12+t*12,left:14+t%2*40}},t)),r.jsx(ye.div,{initial:{y:8,opacity:0},animate:{y:[8,0,0,8],opacity:[0,1,1,0]},transition:{duration:2.4,repeat:1/0,repeatDelay:.4},className:"absolute bottom-2 right-2 rounded-full border border-white/10 bg-white/8 px-2.5 py-1 text-xs text-white/80",children:"RSVP sent"})]})]}),tU=()=>r.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/[0.03] p-4",children:[r.jsxs("div",{className:"mb-3 flex items-center gap-2 text-emerald-300/90",children:[r.jsx(gn.Shield,{}),r.jsx("div",{className:"text-sm text-white/85",children:"Verified students  Safe trades"})]}),r.jsx(ye.div,{animate:{scale:[1,1.06,1]},transition:{duration:1.8,repeat:1/0},className:"grid h-20 w-full place-items-center rounded-lg bg-white/6 ring-1 ring-white/10",children:r.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-emerald-400/20 bg-emerald-400/10 px-3 py-1.5 text-emerald-300",children:[r.jsx(gn.Check,{}),"Verified only"]})}),r.jsxs("div",{className:"mt-3 flex items-center justify-between rounded-lg border border-white/10 bg-white/6 px-3 py-2",children:[r.jsx("div",{className:"text-xs text-white/75",children:"Marketplace protections"}),r.jsx(ye.div,{initial:{x:0,backgroundColor:"#2a2f38"},animate:{x:[0,24,0],backgroundColor:["#2a2f38","#22d3ee","#2a2f38"]},transition:{duration:2.4,repeat:1/0,ease:"easeInOut"},className:"relative h-6 w-12 rounded-full",children:r.jsx("span",{className:"absolute top-0.5 left-0.5 h-5 w-5 rounded-full bg-white shadow"})})]})]}),nU=()=>r.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/[0.03] p-4",children:[r.jsxs("div",{className:"mb-3 flex items-center gap-2 text-sky-300/90",children:[r.jsx(gn.Plane,{}),r.jsx("div",{className:"text-sm text-white/85",children:"Arrival checklist (pre-flight  day-7)"})]}),r.jsx("div",{className:"relative h-10 overflow-hidden rounded-lg bg-white/6 ring-1 ring-white/10",children:r.jsx(ye.div,{className:"absolute left-2 top-1.5 text-sky-300",animate:{x:["0%","88%","0%"]},transition:{duration:3.4,repeat:1/0,ease:"easeInOut"},children:r.jsx(gn.Plane,{})})}),r.jsx("div",{className:"mt-3 space-y-2",children:["Airport pickup","SIM & banking","Campus ID"].map((t,e)=>r.jsxs(ye.div,{initial:{opacity:.4},animate:{opacity:[.4,1,.4]},transition:{delay:e*.35,duration:2.2,repeat:1/0},className:"flex items-center gap-2 text-sm text-white/80",children:[r.jsx("span",{className:"h-2 w-2 rounded-full bg-sky-300/80"}),t]},t))})]});function sU(){return r.jsxs("section",{className:"mx-auto max-w-7xl px-6 py-20",children:[r.jsxs("div",{className:"mx-auto max-w-4xl text-center mb-12",children:[r.jsx("span",{className:"inline-flex items-center rounded-full border border-white/10 bg-white/5 px-3 py-1 text-sm text-white/70",children:"How NewRun helps"}),r.jsx("h2",{className:"mt-4 text-4xl font-extrabold tracking-tight text-white md:text-5xl",children:"Start strong. Settle fast."}),r.jsx("p",{className:"mt-3 text-[17px] leading-relaxed text-white/70",children:"AI-guided onboarding to secure verified housing, find a compatible roommate, grab your essentials, and plug into your campus community  all in one flow."})]}),r.jsxs("div",{className:"grid gap-5 md:grid-cols-3",children:[r.jsx(eo,{title:"Housing",desc:"Verified near-campus listings",icon:r.jsx(gn.House,{}),children:r.jsx(ZV,{})}),r.jsx(eo,{title:"Roommates",desc:"Match by lifestyle & budget",icon:r.jsx(gn.Users,{}),children:r.jsx(QV,{})}),r.jsx(eo,{title:"Essentials",desc:"Prebuilt packs for day-1",icon:r.jsx(gn.Cart,{}),children:r.jsx(JV,{})}),r.jsx(eo,{title:"Community",desc:"Events and clubs youll like",icon:r.jsx(gn.Calendar,{}),children:r.jsx(eU,{})}),r.jsx(eo,{title:"Safety",desc:"Student-only, protected trades",icon:r.jsx(gn.Shield,{}),children:r.jsx(tU,{})}),r.jsx(eo,{title:"Arrival",desc:"Simple, guided checklist",icon:r.jsx(gn.Plane,{}),children:r.jsx(nU,{})})]})]})}const Z_=p.createContext({});function rU(t){const e=p.useRef(null);return e.current===null&&(e.current=t()),e.current}const e1=typeof window<"u",iU=e1?p.useLayoutEffect:p.useEffect,t1=p.createContext(null);function n1(t,e){t.indexOf(e)===-1&&t.push(e)}function s1(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Fr=(t,e,n)=>n>e?e:n<t?t:n;let r1=()=>{};const zr={},Q_=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function J_(t){return typeof t=="object"&&t!==null}const eM=t=>/^0[^.\s]+$/u.test(t);function i1(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ps=t=>t,aU=(t,e)=>n=>e(t(n)),ou=(...t)=>t.reduce(aU),Sd=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class a1{constructor(){this.subscriptions=[]}add(e){return n1(this.subscriptions,e),()=>s1(this.subscriptions,e)}notify(e,n,s){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,s);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const mr=t=>t*1e3,ws=t=>t/1e3;function tM(t,e){return e?t*(1e3/e):0}const nM=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,oU=1e-7,lU=12;function cU(t,e,n,s,i){let a,o,l=0;do o=e+(n-e)/2,a=nM(o,s,i)-t,a>0?n=o:e=o;while(Math.abs(a)>oU&&++l<lU);return o}function lu(t,e,n,s){if(t===e&&n===s)return Ps;const i=a=>cU(a,0,1,t,n);return a=>a===0||a===1?a:nM(i(a),e,s)}const sM=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,rM=t=>e=>1-t(1-e),iM=lu(.33,1.53,.69,.99),o1=rM(iM),aM=sM(o1),oM=t=>(t*=2)<1?.5*o1(t):.5*(2-Math.pow(2,-10*(t-1))),l1=t=>1-Math.sin(Math.acos(t)),lM=rM(l1),cM=sM(l1),dU=lu(.42,0,1,1),uU=lu(0,0,.58,1),dM=lu(.42,0,.58,1),hU=t=>Array.isArray(t)&&typeof t[0]!="number",uM=t=>Array.isArray(t)&&typeof t[0]=="number",pU={linear:Ps,easeIn:dU,easeInOut:dM,easeOut:uU,circIn:l1,circInOut:cM,circOut:lM,backIn:o1,backInOut:aM,backOut:iM,anticipate:oM},mU=t=>typeof t=="string",$N=t=>{if(uM(t)){r1(t.length===4);const[e,n,s,i]=t;return lu(e,n,s,i)}else if(mU(t))return pU[t];return t},Yu=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function fU(t,e){let n=new Set,s=new Set,i=!1,a=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(u){o.has(u)&&(d.schedule(u),t()),u(l)}const d={schedule:(u,h=!1,m=!1)=>{const x=m&&i?n:s;return h&&o.add(u),x.has(u)||x.add(u),u},cancel:u=>{s.delete(u),o.delete(u)},process:u=>{if(l=u,i){a=!0;return}i=!0,[n,s]=[s,n],n.forEach(c),n.clear(),i=!1,a&&(a=!1,d.process(u))}};return d}const gU=40;function hM(t,e){let n=!1,s=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=Yu.reduce((w,N)=>(w[N]=fU(a),w),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:u,update:h,preRender:m,render:f,postRender:x}=o,g=()=>{const w=zr.useManualTiming?i.timestamp:performance.now();n=!1,zr.useManualTiming||(i.delta=s?1e3/60:Math.max(Math.min(w-i.timestamp,gU),1)),i.timestamp=w,i.isProcessing=!0,l.process(i),c.process(i),d.process(i),u.process(i),h.process(i),m.process(i),f.process(i),x.process(i),i.isProcessing=!1,n&&e&&(s=!1,t(g))},b=()=>{n=!0,s=!0,i.isProcessing||t(g)};return{schedule:Yu.reduce((w,N)=>{const j=o[N];return w[N]=(k,P=!1,S=!1)=>(n||b(),j.schedule(k,P,S)),w},{}),cancel:w=>{for(let N=0;N<Yu.length;N++)o[Yu[N]].cancel(w)},state:i,steps:o}}const{schedule:yt,cancel:Ai,state:on,steps:fg}=hM(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ps,!0);let Vh;function xU(){Vh=void 0}const Dn={now:()=>(Vh===void 0&&Dn.set(on.isProcessing||zr.useManualTiming?on.timestamp:performance.now()),Vh),set:t=>{Vh=t,queueMicrotask(xU)}},pM=t=>e=>typeof e=="string"&&e.startsWith(t),c1=pM("--"),vU=pM("var(--"),d1=t=>vU(t)?yU.test(t.split("/*")[0].trim()):!1,yU=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,El={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Cd={...El,transform:t=>Fr(0,1,t)},Xu={...El,default:1},Bc=t=>Math.round(t*1e5)/1e5,u1=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function bU(t){return t==null}const wU=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,h1=(t,e)=>n=>!!(typeof n=="string"&&wU.test(n)&&n.startsWith(t)||e&&!bU(n)&&Object.prototype.hasOwnProperty.call(n,e)),mM=(t,e,n)=>s=>{if(typeof s!="string")return s;const[i,a,o,l]=s.match(u1);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},jU=t=>Fr(0,255,t),gg={...El,transform:t=>Math.round(jU(t))},fa={test:h1("rgb","red"),parse:mM("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+gg.transform(t)+", "+gg.transform(e)+", "+gg.transform(n)+", "+Bc(Cd.transform(s))+")"};function NU(t){let e="",n="",s="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,s+=s,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:i?parseInt(i,16)/255:1}}const Y0={test:h1("#"),parse:NU,transform:fa.transform},cu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Zr=cu("deg"),fr=cu("%"),$e=cu("px"),kU=cu("vh"),SU=cu("vw"),FN={...fr,parse:t=>fr.parse(t)/100,transform:t=>fr.transform(t*100)},Eo={test:h1("hsl","hue"),parse:mM("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+fr.transform(Bc(e))+", "+fr.transform(Bc(n))+", "+Bc(Cd.transform(s))+")"},Bt={test:t=>fa.test(t)||Y0.test(t)||Eo.test(t),parse:t=>fa.test(t)?fa.parse(t):Eo.test(t)?Eo.parse(t):Y0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?fa.transform(t):Eo.transform(t),getAnimatableNone:t=>{const e=Bt.parse(t);return e.alpha=0,Bt.transform(e)}},CU=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function PU(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(u1))==null?void 0:e.length)||0)+(((n=t.match(CU))==null?void 0:n.length)||0)>0}const fM="number",gM="color",EU="var",_U="var(",zN="${}",MU=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Pd(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},i=[];let a=0;const l=e.replace(MU,c=>(Bt.test(c)?(s.color.push(a),i.push(gM),n.push(Bt.parse(c))):c.startsWith(_U)?(s.var.push(a),i.push(EU),n.push(c)):(s.number.push(a),i.push(fM),n.push(parseFloat(c))),++a,zN)).split(zN);return{values:n,split:l,indexes:s,types:i}}function xM(t){return Pd(t).values}function vM(t){const{split:e,types:n}=Pd(t),s=e.length;return i=>{let a="";for(let o=0;o<s;o++)if(a+=e[o],i[o]!==void 0){const l=n[o];l===fM?a+=Bc(i[o]):l===gM?a+=Bt.transform(i[o]):a+=i[o]}return a}}const TU=t=>typeof t=="number"?0:Bt.test(t)?Bt.getAnimatableNone(t):t;function LU(t){const e=xM(t);return vM(t)(e.map(TU))}const Ii={test:PU,parse:xM,createTransformer:vM,getAnimatableNone:LU};function xg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function AU({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let i=0,a=0,o=0;if(!e)i=a=o=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;i=xg(c,l,t+1/3),a=xg(c,l,t),o=xg(c,l,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:s}}function Vp(t,e){return n=>n>0?e:t}const St=(t,e,n)=>t+(e-t)*n,vg=(t,e,n)=>{const s=t*t,i=n*(e*e-s)+s;return i<0?0:Math.sqrt(i)},IU=[Y0,fa,Eo],OU=t=>IU.find(e=>e.test(t));function BN(t){const e=OU(t);if(!e)return!1;let n=e.parse(t);return e===Eo&&(n=AU(n)),n}const VN=(t,e)=>{const n=BN(t),s=BN(e);if(!n||!s)return Vp(t,e);const i={...n};return a=>(i.red=vg(n.red,s.red,a),i.green=vg(n.green,s.green,a),i.blue=vg(n.blue,s.blue,a),i.alpha=St(n.alpha,s.alpha,a),fa.transform(i))},X0=new Set(["none","hidden"]);function RU(t,e){return X0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function DU(t,e){return n=>St(t,e,n)}function p1(t){return typeof t=="number"?DU:typeof t=="string"?d1(t)?Vp:Bt.test(t)?VN:zU:Array.isArray(t)?yM:typeof t=="object"?Bt.test(t)?VN:$U:Vp}function yM(t,e){const n=[...t],s=n.length,i=t.map((a,o)=>p1(a)(a,e[o]));return a=>{for(let o=0;o<s;o++)n[o]=i[o](a);return n}}function $U(t,e){const n={...t,...e},s={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(s[i]=p1(t[i])(t[i],e[i]));return i=>{for(const a in s)n[a]=s[a](i);return n}}function FU(t,e){const n=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],o=t.indexes[a][s[a]],l=t.values[o]??0;n[i]=l,s[a]++}return n}const zU=(t,e)=>{const n=Ii.createTransformer(e),s=Pd(t),i=Pd(e);return s.indexes.var.length===i.indexes.var.length&&s.indexes.color.length===i.indexes.color.length&&s.indexes.number.length>=i.indexes.number.length?X0.has(t)&&!i.values.length||X0.has(e)&&!s.values.length?RU(t,e):ou(yM(FU(s,i),i.values),n):Vp(t,e)};function bM(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?St(t,e,n):p1(t)(t,e)}const BU=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>yt.update(e,n),stop:()=>Ai(e),now:()=>on.isProcessing?on.timestamp:Dn.now()}},wM=(t,e,n=10)=>{let s="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)s+=Math.round(t(a/(i-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Up=2e4;function m1(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<Up;)e+=n,s=t.next(e);return e>=Up?1/0:e}function VU(t,e=100,n){const s=n({...t,keyframes:[0,e]}),i=Math.min(m1(s),Up);return{type:"keyframes",ease:a=>s.next(i*a).value/e,duration:ws(i)}}const UU=5;function jM(t,e,n){const s=Math.max(e-UU,0);return tM(n-t(s),e-s)}const At={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},yg=.001;function WU({duration:t=At.duration,bounce:e=At.bounce,velocity:n=At.velocity,mass:s=At.mass}){let i,a,o=1-e;o=Fr(At.minDamping,At.maxDamping,o),t=Fr(At.minDuration,At.maxDuration,ws(t)),o<1?(i=d=>{const u=d*o,h=u*t,m=u-n,f=Z0(d,o),x=Math.exp(-h);return yg-m/f*x},a=d=>{const h=d*o*t,m=h*n+n,f=Math.pow(o,2)*Math.pow(d,2)*t,x=Math.exp(-h),g=Z0(Math.pow(d,2),o);return(-i(d)+yg>0?-1:1)*((m-f)*x)/g}):(i=d=>{const u=Math.exp(-d*t),h=(d-n)*t+1;return-yg+u*h},a=d=>{const u=Math.exp(-d*t),h=(n-d)*(t*t);return u*h});const l=5/t,c=qU(i,a,l);if(t=mr(t),isNaN(c))return{stiffness:At.stiffness,damping:At.damping,duration:t};{const d=Math.pow(c,2)*s;return{stiffness:d,damping:o*2*Math.sqrt(s*d),duration:t}}}const HU=12;function qU(t,e,n){let s=n;for(let i=1;i<HU;i++)s=s-t(s)/e(s);return s}function Z0(t,e){return t*Math.sqrt(1-e*e)}const GU=["duration","bounce"],KU=["stiffness","damping","mass"];function UN(t,e){return e.some(n=>t[n]!==void 0)}function YU(t){let e={velocity:At.velocity,stiffness:At.stiffness,damping:At.damping,mass:At.mass,isResolvedFromDuration:!1,...t};if(!UN(t,KU)&&UN(t,GU))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),i=s*s,a=2*Fr(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:At.mass,stiffness:i,damping:a}}else{const n=WU(t);e={...e,...n,mass:At.mass},e.isResolvedFromDuration=!0}return e}function Wp(t=At.visualDuration,e=At.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:i}=n;const a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:d,mass:u,duration:h,velocity:m,isResolvedFromDuration:f}=YU({...n,velocity:-ws(n.velocity||0)}),x=m||0,g=d/(2*Math.sqrt(c*u)),b=o-a,y=ws(Math.sqrt(c/u)),v=Math.abs(b)<5;s||(s=v?At.restSpeed.granular:At.restSpeed.default),i||(i=v?At.restDelta.granular:At.restDelta.default);let w;if(g<1){const j=Z0(y,g);w=k=>{const P=Math.exp(-g*y*k);return o-P*((x+g*y*b)/j*Math.sin(j*k)+b*Math.cos(j*k))}}else if(g===1)w=j=>o-Math.exp(-y*j)*(b+(x+y*b)*j);else{const j=y*Math.sqrt(g*g-1);w=k=>{const P=Math.exp(-g*y*k),S=Math.min(j*k,300);return o-P*((x+g*y*b)*Math.sinh(S)+j*b*Math.cosh(S))/j}}const N={calculatedDuration:f&&h||null,next:j=>{const k=w(j);if(f)l.done=j>=h;else{let P=j===0?x:0;g<1&&(P=j===0?mr(x):jM(w,j,k));const S=Math.abs(P)<=s,E=Math.abs(o-k)<=i;l.done=S&&E}return l.value=l.done?o:k,l},toString:()=>{const j=Math.min(m1(N),Up),k=wM(P=>N.next(j*P).value,j,30);return j+"ms "+k},toTransition:()=>{}};return N}Wp.applyToOptions=t=>{const e=VU(t,100,Wp);return t.ease=e.ease,t.duration=mr(e.duration),t.type="keyframes",t};function Q0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const h=t[0],m={done:!1,value:h},f=S=>l!==void 0&&S<l||c!==void 0&&S>c,x=S=>l===void 0?c:c===void 0||Math.abs(l-S)<Math.abs(c-S)?l:c;let g=n*e;const b=h+g,y=o===void 0?b:o(b);y!==b&&(g=y-h);const v=S=>-g*Math.exp(-S/s),w=S=>y+v(S),N=S=>{const E=v(S),T=w(S);m.done=Math.abs(E)<=d,m.value=m.done?y:T};let j,k;const P=S=>{f(m.value)&&(j=S,k=Wp({keyframes:[m.value,x(m.value)],velocity:jM(w,S,m.value),damping:i,stiffness:a,restDelta:d,restSpeed:u}))};return P(0),{calculatedDuration:null,next:S=>{let E=!1;return!k&&j===void 0&&(E=!0,N(S),P(S)),j!==void 0&&S>=j?k.next(S-j):(!E&&N(S),m)}}}function XU(t,e,n){const s=[],i=n||zr.mix||bM,a=t.length-1;for(let o=0;o<a;o++){let l=i(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||Ps:e;l=ou(c,l)}s.push(l)}return s}function ZU(t,e,{clamp:n=!0,ease:s,mixer:i}={}){const a=t.length;if(r1(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=XU(e,s,i),c=l.length,d=u=>{if(o&&u<t[0])return e[0];let h=0;if(c>1)for(;h<t.length-2&&!(u<t[h+1]);h++);const m=Sd(t[h],t[h+1],u);return l[h](m)};return n?u=>d(Fr(t[0],t[a-1],u)):d}function QU(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const i=Sd(0,e,s);t.push(St(n,1,i))}}function JU(t){const e=[0];return QU(e,t.length-1),e}function eW(t,e){return t.map(n=>n*e)}function tW(t,e){return t.map(()=>e||dM).splice(0,t.length-1)}function Vc({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const i=hU(s)?s.map($N):$N(s),a={done:!1,value:e[0]},o=eW(n&&n.length===e.length?n:JU(e),t),l=ZU(o,e,{ease:Array.isArray(i)?i:tW(e,i)});return{calculatedDuration:t,next:c=>(a.value=l(c),a.done=c>=t,a)}}const nW=t=>t!==null;function f1(t,{repeat:e,repeatType:n="loop"},s,i=1){const a=t.filter(nW),l=i<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!l||s===void 0?a[l]:s}const sW={decay:Q0,inertia:Q0,tween:Vc,keyframes:Vc,spring:Wp};function NM(t){typeof t.type=="string"&&(t.type=sW[t.type])}class g1{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const rW=t=>t/100;class x1 extends g1{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,i;const{motionValue:n}=this.options;n&&n.updatedAt!==Dn.now()&&this.tick(Dn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(s=this.options).onStop)==null||i.call(s))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;NM(e);const{type:n=Vc,repeat:s=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=e;let{keyframes:l}=e;const c=n||Vc;c!==Vc&&typeof l[0]!="number"&&(this.mixKeyframes=ou(rW,bM(l[0],l[1])),l=[0,100]);const d=c({...e,keyframes:l});a==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=m1(d));const{calculatedDuration:u}=d;this.calculatedDuration=u,this.resolvedDuration=u+i,this.totalDuration=this.resolvedDuration*(s+1)-i,this.generator=d}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:i,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return s.next(0);const{delay:d=0,keyframes:u,repeat:h,repeatType:m,repeatDelay:f,type:x,onUpdate:g,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const y=this.currentTime-d*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?y<0:y>i;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let w=this.currentTime,N=s;if(h){const S=Math.min(this.currentTime,i)/l;let E=Math.floor(S),T=S%1;!T&&S>=1&&(T=1),T===1&&E--,E=Math.min(E,h+1),!!(E%2)&&(m==="reverse"?(T=1-T,f&&(T-=f/l)):m==="mirror"&&(N=o)),w=Fr(0,1,T)*l}const j=v?{done:!1,value:u[0]}:N.next(w);a&&(j.value=a(j.value));let{done:k}=j;!v&&c!==null&&(k=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return P&&x!==Q0&&(j.value=f1(u,this.options,b,this.speed)),g&&g(j.value),P&&this.finish(),j}then(e,n){return this.finished.then(e,n)}get duration(){return ws(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ws(e)}get time(){return ws(this.currentTime)}set time(e){var n;e=mr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Dn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ws(this.currentTime))}play(){var i,a;if(this.isStopped)return;const{driver:e=BU,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(a=(i=this.options).onPlay)==null||a.call(i);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Dn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function iW(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ga=t=>t*180/Math.PI,J0=t=>{const e=ga(Math.atan2(t[1],t[0]));return ev(e)},aW={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:J0,rotateZ:J0,skewX:t=>ga(Math.atan(t[1])),skewY:t=>ga(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},ev=t=>(t=t%360,t<0&&(t+=360),t),WN=J0,HN=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),qN=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),oW={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:HN,scaleY:qN,scale:t=>(HN(t)+qN(t))/2,rotateX:t=>ev(ga(Math.atan2(t[6],t[5]))),rotateY:t=>ev(ga(Math.atan2(-t[2],t[0]))),rotateZ:WN,rotate:WN,skewX:t=>ga(Math.atan(t[4])),skewY:t=>ga(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function tv(t){return t.includes("scale")?1:0}function nv(t,e){if(!t||t==="none")return tv(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,i;if(n)s=oW,i=n;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=aW,i=l}if(!i)return tv(e);const a=s[e],o=i[1].split(",").map(cW);return typeof a=="function"?a(o):o[a]}const lW=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return nv(n,e)};function cW(t){return parseFloat(t.trim())}const _l=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ml=new Set(_l),GN=t=>t===El||t===$e,dW=new Set(["x","y","z"]),uW=_l.filter(t=>!dW.has(t));function hW(t){const e=[];return uW.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Sa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>nv(e,"x"),y:(t,{transform:e})=>nv(e,"y")};Sa.translateX=Sa.x;Sa.translateY=Sa.y;const Ca=new Set;let sv=!1,rv=!1,iv=!1;function kM(){if(rv){const t=Array.from(Ca).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const i=hW(s);i.length&&(n.set(s,i),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const i=n.get(s);i&&i.forEach(([a,o])=>{var l;(l=s.getValue(a))==null||l.set(o)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}rv=!1,sv=!1,Ca.forEach(t=>t.complete(iv)),Ca.clear()}function SM(){Ca.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(rv=!0)})}function pW(){iv=!0,SM(),kM(),iv=!1}class v1{constructor(e,n,s,i,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Ca.add(this),sv||(sv=!0,yt.read(SM),yt.resolveKeyframes(kM))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:i}=this;if(e[0]===null){const a=i==null?void 0:i.get(),o=e[e.length-1];if(a!==void 0)e[0]=a;else if(s&&n){const l=s.readValue(n,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),i&&a===void 0&&i.set(e[0])}iW(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ca.delete(this)}cancel(){this.state==="scheduled"&&(Ca.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const mW=t=>t.startsWith("--");function fW(t,e,n){mW(e)?t.style.setProperty(e,n):t.style[e]=n}const gW=i1(()=>window.ScrollTimeline!==void 0),xW={};function vW(t,e){const n=i1(t);return()=>xW[e]??n()}const CM=vW(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),vc=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,KN={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:vc([0,.65,.55,1]),circOut:vc([.55,0,1,.45]),backIn:vc([.31,.01,.66,-.59]),backOut:vc([.33,1.53,.69,.99])};function PM(t,e){if(t)return typeof t=="function"?CM()?wM(t,e):"ease-out":uM(t)?vc(t):Array.isArray(t)?t.map(n=>PM(n,e)||KN.easeOut):KN[t]}function yW(t,e,n,{delay:s=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:l="easeOut",times:c}={},d=void 0){const u={[e]:n};c&&(u.offset=c);const h=PM(l,i);Array.isArray(h)&&(u.easing=h);const m={delay:s,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return d&&(m.pseudoElement=d),t.animate(u,m)}function EM(t){return typeof t=="function"&&"applyToOptions"in t}function bW({type:t,...e}){return EM(t)&&CM()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class wW extends g1{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:i,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=e,r1(typeof e.type!="string");const d=bW(e);this.animation=yW(n,s,i,d,a),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const u=f1(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(u):fW(n,s,u),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,s;const e=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return ws(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ws(e)}get time(){return ws(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=mr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&gW()?(this.animation.timeline=e,Ps):n(this)}}const _M={anticipate:oM,backInOut:aM,circInOut:cM};function jW(t){return t in _M}function NW(t){typeof t.ease=="string"&&jW(t.ease)&&(t.ease=_M[t.ease])}const YN=10;class kW extends wW{constructor(e){NW(e),NM(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:i,element:a,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const l=new x1({...o,autoplay:!1}),c=mr(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-YN).value,l.sample(c).value,YN),l.stop()}}const XN=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ii.test(t)||t==="0")&&!t.startsWith("url("));function SW(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function CW(t,e,n,s){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],o=XN(i,e),l=XN(a,e);return!o||!l?!1:SW(t)||(n==="spring"||EM(n))&&s}function av(t){t.duration=0,t.type="keyframes"}const PW=new Set(["opacity","clipPath","filter","transform"]),EW=i1(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function _W(t){var u;const{motionValue:e,name:n,repeatDelay:s,repeatType:i,damping:a,type:o}=t;if(!(((u=e==null?void 0:e.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=e.owner.getProps();return EW()&&n&&PW.has(n)&&(n!=="transform"||!d)&&!c&&!s&&i!=="mirror"&&a!==0&&o!=="inertia"}const MW=40;class TW extends g1{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:u,...h}){var x;super(),this.stop=()=>{var g,b;this._animation&&(this._animation.stop(),(g=this.stopTimeline)==null||g.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=Dn.now();const m={autoplay:e,delay:n,type:s,repeat:i,repeatDelay:a,repeatType:o,name:c,motionValue:d,element:u,...h},f=(u==null?void 0:u.KeyframeResolver)||v1;this.keyframeResolver=new f(l,(g,b,y)=>this.onKeyframesResolved(g,b,m,!y),c,d,u),(x=this.keyframeResolver)==null||x.scheduleResolve()}onKeyframesResolved(e,n,s,i){this.keyframeResolver=void 0;const{name:a,type:o,velocity:l,delay:c,isHandoff:d,onUpdate:u}=s;this.resolvedAt=Dn.now(),CW(e,a,o,l)||((zr.instantAnimations||!c)&&(u==null||u(f1(e,s,n))),e[0]=e[e.length-1],av(s),s.repeat=0);const m={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>MW?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},f=!d&&_W(m)?new kW({...m,element:m.motionValue.owner.current}):new x1(m);f.finished.then(()=>this.notifyFinished()).catch(Ps),this.pendingTimeline&&(this.stopTimeline=f.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=f}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),pW()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const LW=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function AW(t){const e=LW.exec(t);if(!e)return[,];const[,n,s,i]=e;return[`--${n??s}`,i]}function MM(t,e,n=1){const[s,i]=AW(t);if(!s)return;const a=window.getComputedStyle(e).getPropertyValue(s);if(a){const o=a.trim();return Q_(o)?parseFloat(o):o}return d1(i)?MM(i,e,n+1):i}function y1(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const TM=new Set(["width","height","top","left","right","bottom",..._l]),IW={test:t=>t==="auto",parse:t=>t},LM=t=>e=>e.test(t),AM=[El,$e,fr,Zr,SU,kU,IW],ZN=t=>AM.find(LM(t));function OW(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||eM(t):!0}const RW=new Set(["brightness","contrast","saturate","opacity"]);function DW(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(u1)||[];if(!s)return t;const i=n.replace(s,"");let a=RW.has(e)?1:0;return s!==n&&(a*=100),e+"("+a+i+")"}const $W=/\b([a-z-]*)\(.*?\)/gu,ov={...Ii,getAnimatableNone:t=>{const e=t.match($W);return e?e.map(DW).join(" "):t}},QN={...El,transform:Math.round},FW={rotate:Zr,rotateX:Zr,rotateY:Zr,rotateZ:Zr,scale:Xu,scaleX:Xu,scaleY:Xu,scaleZ:Xu,skew:Zr,skewX:Zr,skewY:Zr,distance:$e,translateX:$e,translateY:$e,translateZ:$e,x:$e,y:$e,z:$e,perspective:$e,transformPerspective:$e,opacity:Cd,originX:FN,originY:FN,originZ:$e},b1={borderWidth:$e,borderTopWidth:$e,borderRightWidth:$e,borderBottomWidth:$e,borderLeftWidth:$e,borderRadius:$e,radius:$e,borderTopLeftRadius:$e,borderTopRightRadius:$e,borderBottomRightRadius:$e,borderBottomLeftRadius:$e,width:$e,maxWidth:$e,height:$e,maxHeight:$e,top:$e,right:$e,bottom:$e,left:$e,padding:$e,paddingTop:$e,paddingRight:$e,paddingBottom:$e,paddingLeft:$e,margin:$e,marginTop:$e,marginRight:$e,marginBottom:$e,marginLeft:$e,backgroundPositionX:$e,backgroundPositionY:$e,...FW,zIndex:QN,fillOpacity:Cd,strokeOpacity:Cd,numOctaves:QN},zW={...b1,color:Bt,backgroundColor:Bt,outlineColor:Bt,fill:Bt,stroke:Bt,borderColor:Bt,borderTopColor:Bt,borderRightColor:Bt,borderBottomColor:Bt,borderLeftColor:Bt,filter:ov,WebkitFilter:ov},IM=t=>zW[t];function OM(t,e){let n=IM(t);return n!==ov&&(n=Ii),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const BW=new Set(["auto","none","0"]);function VW(t,e,n){let s=0,i;for(;s<t.length&&!i;){const a=t[s];typeof a=="string"&&!BW.has(a)&&Pd(a).values.length&&(i=t[s]),s++}if(i&&n)for(const a of e)t[a]=OM(n,i)}class UW extends v1{constructor(e,n,s,i,a){super(e,n,s,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),d1(d))){const u=MM(d,n.current);u!==void 0&&(e[c]=u),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!TM.has(s)||e.length!==2)return;const[i,a]=e,o=ZN(i),l=ZN(a);if(o!==l)if(GN(o)&&GN(l))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else Sa[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let i=0;i<e.length;i++)(e[i]===null||OW(e[i]))&&s.push(i);s.length&&VW(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Sa[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(s,i).jump(i,!1)}measureEndState(){var l;const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=s.length-1,o=s[a];s[a]=Sa[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,d])=>{e.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function WW(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const i=(n==null?void 0:n[t])??s.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const RM=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function HW(t){return J_(t)&&"offsetHeight"in t}const JN=30,qW=t=>!isNaN(parseFloat(t));class GW{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var a;const i=Dn.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Dn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=qW(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new a1);const s=this.events[e].add(n);return e==="change"?()=>{s(),yt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Dn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>JN)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,JN);return tM(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function al(t,e){return new GW(t,e)}const{schedule:w1}=hM(queueMicrotask,!1),Os={x:!1,y:!1};function DM(){return Os.x||Os.y}function KW(t){return t==="x"||t==="y"?Os[t]?null:(Os[t]=!0,()=>{Os[t]=!1}):Os.x||Os.y?null:(Os.x=Os.y=!0,()=>{Os.x=Os.y=!1})}function $M(t,e){const n=WW(t),s=new AbortController,i={passive:!0,...e,signal:s.signal};return[n,i,()=>s.abort()]}function ek(t){return!(t.pointerType==="touch"||DM())}function YW(t,e,n={}){const[s,i,a]=$M(t,n),o=l=>{if(!ek(l))return;const{target:c}=l,d=e(c,l);if(typeof d!="function"||!c)return;const u=h=>{ek(h)&&(d(h),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,i)};return s.forEach(l=>{l.addEventListener("pointerenter",o,i)}),a}const FM=(t,e)=>e?t===e?!0:FM(t,e.parentElement):!1,j1=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,XW=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ZW(t){return XW.has(t.tagName)||t.tabIndex!==-1}const Uh=new WeakSet;function tk(t){return e=>{e.key==="Enter"&&t(e)}}function bg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const QW=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=tk(()=>{if(Uh.has(n))return;bg(n,"down");const i=tk(()=>{bg(n,"up")}),a=()=>bg(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function nk(t){return j1(t)&&!DM()}function JW(t,e,n={}){const[s,i,a]=$M(t,n),o=l=>{const c=l.currentTarget;if(!nk(l))return;Uh.add(c);const d=e(c,l),u=(f,x)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",m),Uh.has(c)&&Uh.delete(c),nk(f)&&typeof d=="function"&&d(f,{success:x})},h=f=>{u(f,c===window||c===document||n.useGlobalTarget||FM(c,f.target))},m=f=>{u(f,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",m,i)};return s.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,i),HW(l)&&(l.addEventListener("focus",d=>QW(d,i)),!ZW(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),a}function zM(t){return J_(t)&&"ownerSVGElement"in t}function eH(t){return zM(t)&&t.tagName==="svg"}const bn=t=>!!(t&&t.getVelocity),tH=[...AM,Bt,Ii],nH=t=>tH.find(LM(t)),BM=p.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function sH(t=!0){const e=p.useContext(t1);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:i}=e,a=p.useId();p.useEffect(()=>{if(t)return i(a)},[t]);const o=p.useCallback(()=>t&&s&&s(a),[a,s,t]);return!n&&s?[!1,o]:[!0]}const VM=p.createContext({strict:!1}),sk={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ol={};for(const t in sk)ol[t]={isEnabled:e=>sk[t].some(n=>!!e[n])};function rH(t){for(const e in t)ol[e]={...ol[e],...t[e]}}const iH=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Hp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||iH.has(t)}let UM=t=>!Hp(t);function aH(t){typeof t=="function"&&(UM=e=>e.startsWith("on")?!Hp(e):t(e))}try{aH(require("@emotion/is-prop-valid").default)}catch{}function oH(t,e,n){const s={};for(const i in t)i==="values"&&typeof t.values=="object"||(UM(i)||n===!0&&Hp(i)||!e&&!Hp(i)||t.draggable&&i.startsWith("onDrag"))&&(s[i]=t[i]);return s}const tf=p.createContext({});function nf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ed(t){return typeof t=="string"||Array.isArray(t)}const N1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],k1=["initial",...N1];function sf(t){return nf(t.animate)||k1.some(e=>Ed(t[e]))}function WM(t){return!!(sf(t)||t.variants)}function lH(t,e){if(sf(t)){const{initial:n,animate:s}=t;return{initial:n===!1||Ed(n)?n:void 0,animate:Ed(s)?s:void 0}}return t.inherit!==!1?e:{}}function cH(t){const{initial:e,animate:n}=lH(t,p.useContext(tf));return p.useMemo(()=>({initial:e,animate:n}),[rk(e),rk(n)])}function rk(t){return Array.isArray(t)?t.join(" "):t}const _d={};function dH(t){for(const e in t)_d[e]=t[e],c1(e)&&(_d[e].isCSSVariable=!0)}function HM(t,{layout:e,layoutId:n}){return Ml.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!_d[t]||t==="opacity")}const uH={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},hH=_l.length;function pH(t,e,n){let s="",i=!0;for(let a=0;a<hH;a++){const o=_l[a],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const d=RM(l,b1[o]);if(!c){i=!1;const u=uH[o]||o;s+=`${u}(${d}) `}n&&(e[o]=d)}}return s=s.trim(),n?s=n(e,i?"":s):i&&(s="none"),s}function S1(t,e,n){const{style:s,vars:i,transformOrigin:a}=t;let o=!1,l=!1;for(const c in e){const d=e[c];if(Ml.has(c)){o=!0;continue}else if(c1(c)){i[c]=d;continue}else{const u=RM(d,b1[c]);c.startsWith("origin")?(l=!0,a[c]=u):s[c]=u}}if(e.transform||(o||n?s.transform=pH(e,t.transform,n):s.transform&&(s.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=a;s.transformOrigin=`${c} ${d} ${u}`}}const C1=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function qM(t,e,n){for(const s in e)!bn(e[s])&&!HM(s,n)&&(t[s]=e[s])}function mH({transformTemplate:t},e){return p.useMemo(()=>{const n=C1();return S1(n,e,t),Object.assign({},n.vars,n.style)},[e])}function fH(t,e){const n=t.style||{},s={};return qM(s,n,t),Object.assign(s,mH(t,e)),s}function gH(t,e){const n={},s=fH(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const xH={offset:"stroke-dashoffset",array:"stroke-dasharray"},vH={offset:"strokeDashoffset",array:"strokeDasharray"};function yH(t,e,n=1,s=0,i=!0){t.pathLength=1;const a=i?xH:vH;t[a.offset]=$e.transform(-s);const o=$e.transform(e),l=$e.transform(n);t[a.array]=`${o} ${l}`}function GM(t,{attrX:e,attrY:n,attrScale:s,pathLength:i,pathSpacing:a=1,pathOffset:o=0,...l},c,d,u){if(S1(t,l,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:m}=t;h.transform&&(m.transform=h.transform,delete h.transform),(m.transform||h.transformOrigin)&&(m.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),m.transform&&(m.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),s!==void 0&&(h.scale=s),i!==void 0&&yH(h,i,a,o,!1)}const KM=()=>({...C1(),attrs:{}}),YM=t=>typeof t=="string"&&t.toLowerCase()==="svg";function bH(t,e,n,s){const i=p.useMemo(()=>{const a=KM();return GM(a,e,YM(s),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};qM(a,t.style,t),i.style={...a,...i.style}}return i}const wH=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function P1(t){return typeof t!="string"||t.includes("-")?!1:!!(wH.indexOf(t)>-1||/[A-Z]/u.test(t))}function jH(t,e,n,{latestValues:s},i,a=!1){const l=(P1(t)?bH:gH)(e,s,i,t),c=oH(e,typeof t=="string",a),d=t!==p.Fragment?{...c,...l,ref:n}:{},{children:u}=e,h=p.useMemo(()=>bn(u)?u.get():u,[u]);return p.createElement(t,{...d,children:h})}function ik(t){const e=[{},{}];return t==null||t.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function E1(t,e,n,s){if(typeof e=="function"){const[i,a]=ik(s);e=e(n!==void 0?n:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=ik(s);e=e(n!==void 0?n:t.custom,i,a)}return e}function Wh(t){return bn(t)?t.get():t}function NH({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,i){return{latestValues:kH(n,s,i,t),renderState:e()}}function kH(t,e,n,s){const i={},a=s(t,{});for(const m in a)i[m]=Wh(a[m]);let{initial:o,animate:l}=t;const c=sf(t),d=WM(t);e&&d&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const h=u?l:o;if(h&&typeof h!="boolean"&&!nf(h)){const m=Array.isArray(h)?h:[h];for(let f=0;f<m.length;f++){const x=E1(t,m[f]);if(x){const{transitionEnd:g,transition:b,...y}=x;for(const v in y){let w=y[v];if(Array.isArray(w)){const N=u?w.length-1:0;w=w[N]}w!==null&&(i[v]=w)}for(const v in g)i[v]=g[v]}}}return i}const XM=t=>(e,n)=>{const s=p.useContext(tf),i=p.useContext(t1),a=()=>NH(t,e,s,i);return n?a():rU(a)};function _1(t,e,n){var a;const{style:s}=t,i={};for(const o in s)(bn(s[o])||e.style&&bn(e.style[o])||HM(o,t)||((a=n==null?void 0:n.getValue(o))==null?void 0:a.liveStyle)!==void 0)&&(i[o]=s[o]);return i}const SH=XM({scrapeMotionValuesFromProps:_1,createRenderState:C1});function ZM(t,e,n){const s=_1(t,e,n);for(const i in t)if(bn(t[i])||bn(e[i])){const a=_l.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;s[a]=t[i]}return s}const CH=XM({scrapeMotionValuesFromProps:ZM,createRenderState:KM}),PH=Symbol.for("motionComponentSymbol");function _o(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function EH(t,e,n){return p.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):_o(n)&&(n.current=s))},[e])}const M1=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),_H="framerAppearId",QM="data-"+M1(_H),JM=p.createContext({});function MH(t,e,n,s,i){var g,b;const{visualElement:a}=p.useContext(tf),o=p.useContext(VM),l=p.useContext(t1),c=p.useContext(BM).reducedMotion,d=p.useRef(null);s=s||o.renderer,!d.current&&s&&(d.current=s(t,{visualState:e,parent:a,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const u=d.current,h=p.useContext(JM);u&&!u.projection&&i&&(u.type==="html"||u.type==="svg")&&TH(d.current,n,i,h);const m=p.useRef(!1);p.useInsertionEffect(()=>{u&&m.current&&u.update(n,l)});const f=n[QM],x=p.useRef(!!f&&!((g=window.MotionHandoffIsComplete)!=null&&g.call(window,f))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,f)));return iU(()=>{u&&(m.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),x.current&&u.animationState&&u.animationState.animateChanges())}),p.useEffect(()=>{u&&(!x.current&&u.animationState&&u.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)==null||y.call(window,f)}),x.current=!1),u.enteringChildren=void 0)}),u}function TH(t,e,n,s){const{layoutId:i,layout:a,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:eT(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||l&&_o(l),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:s,crossfade:u,layoutScroll:c,layoutRoot:d})}function eT(t){if(t)return t.options.allowProjection!==!1?t.projection:eT(t.parent)}function wg(t,{forwardMotionProps:e=!1}={},n,s){n&&rH(n);const i=P1(t)?CH:SH;function a(l,c){let d;const u={...p.useContext(BM),...l,layoutId:LH(l)},{isStatic:h}=u,m=cH(l),f=i(l,h);if(!h&&e1){AH();const x=IH(u);d=x.MeasureLayout,m.visualElement=MH(t,f,u,s,x.ProjectionNode)}return r.jsxs(tf.Provider,{value:m,children:[d&&m.visualElement?r.jsx(d,{visualElement:m.visualElement,...u}):null,jH(t,l,EH(f,m.visualElement,c),f,h,e)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=p.forwardRef(a);return o[PH]=t,o}function LH({layoutId:t}){const e=p.useContext(Z_).id;return e&&t!==void 0?e+"-"+t:t}function AH(t,e){p.useContext(VM).strict}function IH(t){const{drag:e,layout:n}=ol;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function OH(t,e){if(typeof Proxy>"u")return wg;const n=new Map,s=(a,o)=>wg(a,o,t,e),i=(a,o)=>s(a,o);return new Proxy(i,{get:(a,o)=>o==="create"?s:(n.has(o)||n.set(o,wg(o,void 0,t,e)),n.get(o))})}function tT({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function RH({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function DH(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function jg(t){return t===void 0||t===1}function lv({scale:t,scaleX:e,scaleY:n}){return!jg(t)||!jg(e)||!jg(n)}function sa(t){return lv(t)||nT(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function nT(t){return ak(t.x)||ak(t.y)}function ak(t){return t&&t!=="0%"}function qp(t,e,n){const s=t-n,i=e*s;return n+i}function ok(t,e,n,s,i){return i!==void 0&&(t=qp(t,i,s)),qp(t,n,s)+e}function cv(t,e=0,n=1,s,i){t.min=ok(t.min,e,n,s,i),t.max=ok(t.max,e,n,s,i)}function sT(t,{x:e,y:n}){cv(t.x,e.translate,e.scale,e.originPoint),cv(t.y,n.translate,n.scale,n.originPoint)}const lk=.999999999999,ck=1.0000000000001;function $H(t,e,n,s=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,o;for(let l=0;l<i;l++){a=n[l],o=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&a.options.layoutScroll&&a.scroll&&a!==a.root&&To(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,sT(t,o)),s&&sa(a.latestValues)&&To(t,a.latestValues))}e.x<ck&&e.x>lk&&(e.x=1),e.y<ck&&e.y>lk&&(e.y=1)}function Mo(t,e){t.min=t.min+e,t.max=t.max+e}function dk(t,e,n,s,i=.5){const a=St(t.min,t.max,i);cv(t,e,n,a,s)}function To(t,e){dk(t.x,e.x,e.scaleX,e.scale,e.originX),dk(t.y,e.y,e.scaleY,e.scale,e.originY)}function rT(t,e){return tT(DH(t.getBoundingClientRect(),e))}function FH(t,e,n){const s=rT(t,n),{scroll:i}=e;return i&&(Mo(s.x,i.offset.x),Mo(s.y,i.offset.y)),s}const uk=()=>({translate:0,scale:1,origin:0,originPoint:0}),Lo=()=>({x:uk(),y:uk()}),hk=()=>({min:0,max:0}),Dt=()=>({x:hk(),y:hk()}),dv={current:null},iT={current:!1};function zH(){if(iT.current=!0,!!e1)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>dv.current=t.matches;t.addEventListener("change",e),e()}else dv.current=!1}const BH=new WeakMap;function VH(t,e,n){for(const s in e){const i=e[s],a=n[s];if(bn(i))t.addValue(s,i);else if(bn(a))t.addValue(s,al(i,{owner:t}));else if(a!==i)if(t.hasValue(s)){const o=t.getValue(s);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(s);t.addValue(s,al(o!==void 0?o:i,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const pk=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class UH{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:i,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=v1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Dn.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,yt.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=sf(n),this.isVariantNode=WM(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in h){const f=h[m];c[m]!==void 0&&bn(f)&&f.set(c[m])}}mount(e){var n;this.current=e,BH.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,i)=>this.bindToMotionValue(i,s)),iT.current||zH(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:dv.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Ai(this.notifyUpdate),Ai(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Ml.has(e);s&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&yt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ol){const n=ol[e];if(!n)continue;const{isEnabled:s,Feature:i}=n;if(!this.features[e]&&i&&s(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Dt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<pk.length;s++){const i=pk[s];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=e[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=VH(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=al(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(Q_(s)||eM(s))?s=parseFloat(s):!nH(s)&&Ii.test(n)&&(s=OM(e,n)),this.setBaseTarget(e,bn(s)?s.get():s)),bn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var a;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const o=E1(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);o&&(s=o[e])}if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!bn(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new a1),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){w1.render(this.render)}}class aT extends UH{constructor(){super(...arguments),this.KeyframeResolver=UW}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;bn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function oT(t,{style:e,vars:n},s,i){const a=t.style;let o;for(o in e)a[o]=e[o];i==null||i.applyProjectionStyles(a,s);for(o in n)a.setProperty(o,n[o])}function WH(t){return window.getComputedStyle(t)}class HH extends aT{constructor(){super(...arguments),this.type="html",this.renderInstance=oT}readValueFromInstance(e,n){var s;if(Ml.has(n))return(s=this.projection)!=null&&s.isProjecting?tv(n):lW(e,n);{const i=WH(e),a=(c1(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return rT(e,n)}build(e,n,s){S1(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return _1(e,n,s)}}const lT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function qH(t,e,n,s){oT(t,e,void 0,s);for(const i in e.attrs)t.setAttribute(lT.has(i)?i:M1(i),e.attrs[i])}class GH extends aT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Dt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ml.has(n)){const s=IM(n);return s&&s.default||0}return n=lT.has(n)?n:M1(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return ZM(e,n,s)}build(e,n,s){GM(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,i){qH(e,n,s,i)}mount(e){this.isSVGTag=YM(e.tagName),super.mount(e)}}const KH=(t,e)=>P1(t)?new GH(e):new HH(e,{allowProjection:t!==p.Fragment});function Wo(t,e,n){const s=t.getProps();return E1(s,e,n!==void 0?n:s.custom,t)}const uv=t=>Array.isArray(t);function YH(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,al(n))}function XH(t){return uv(t)?t[t.length-1]||0:t}function ZH(t,e){const n=Wo(t,e);let{transitionEnd:s={},transition:i={},...a}=n||{};a={...a,...s};for(const o in a){const l=XH(a[o]);YH(t,o,l)}}function QH(t){return!!(bn(t)&&t.add)}function hv(t,e){const n=t.getValue("willChange");if(QH(n))return n.add(e);if(!n&&zr.WillChange){const s=new zr.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function cT(t){return t.props[QM]}const JH=t=>t!==null;function eq(t,{repeat:e,repeatType:n="loop"},s){const i=t.filter(JH),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[a]}const tq={type:"spring",stiffness:500,damping:25,restSpeed:10},nq=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),sq={type:"keyframes",duration:.8},rq={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},iq=(t,{keyframes:e})=>e.length>2?sq:Ml.has(t)?t.startsWith("scale")?nq(e[1]):tq:rq;function aq({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const T1=(t,e,n,s={},i,a)=>o=>{const l=y1(s,t)||{},c=l.delay||s.delay||0;let{elapsed:d=0}=s;d=d-mr(c);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:m=>{e.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:a?void 0:i};aq(l)||Object.assign(u,iq(t,u)),u.duration&&(u.duration=mr(u.duration)),u.repeatDelay&&(u.repeatDelay=mr(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(av(u),u.delay===0&&(h=!0)),(zr.instantAnimations||zr.skipAnimations)&&(h=!0,av(u),u.delay=0),u.allowFlatten=!l.type&&!l.ease,h&&!a&&e.get()!==void 0){const m=eq(u.keyframes,l);if(m!==void 0){yt.update(()=>{u.onUpdate(m),u.onComplete()});return}}return l.isSync?new x1(u):new TW(u)};function oq({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function dT(t,e,{delay:n=0,transitionOverride:s,type:i}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:o,...l}=e;s&&(a=s);const c=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const u in l){const h=t.getValue(u,t.latestValues[u]??null),m=l[u];if(m===void 0||d&&oq(d,u))continue;const f={delay:n,...y1(a||{},u)},x=h.get();if(x!==void 0&&!h.isAnimating&&!Array.isArray(m)&&m===x&&!f.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const y=cT(t);if(y){const v=window.MotionHandoffAnimation(y,u,yt);v!==null&&(f.startTime=v,g=!0)}}hv(t,u),h.start(T1(u,h,m,t.shouldReduceMotion&&TM.has(u)?{type:!1}:f,t,g));const b=h.animation;b&&c.push(b)}return o&&Promise.all(c).then(()=>{yt.update(()=>{o&&ZH(t,o)})}),c}function uT(t,e,n,s=0,i=1){const a=Array.from(t).sort((d,u)=>d.sortNodePosition(u)).indexOf(e),o=t.size,l=(o-1)*s;return typeof n=="function"?n(a,o):i===1?a*s:l-a*s}function pv(t,e,n={}){var c;const s=Wo(t,e,n.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const a=s?()=>Promise.all(dT(t,s,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:m}=i;return lq(t,e,d,u,h,m,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[d,u]=l==="beforeChildren"?[a,o]:[o,a];return d().then(()=>u())}else return Promise.all([a(),o(n.delay)])}function lq(t,e,n=0,s=0,i=0,a=1,o){const l=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),l.push(pv(c,e,{...o,delay:n+(typeof s=="function"?0:s)+uT(t.variantChildren,c,s,i,a)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(l)}function cq(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const i=e.map(a=>pv(t,a,n));s=Promise.all(i)}else if(typeof e=="string")s=pv(t,e,n);else{const i=typeof e=="function"?Wo(t,e,n.custom):e;s=Promise.all(dT(t,i,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function hT(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const dq=k1.length;function pT(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?pT(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<dq;n++){const s=k1[n],i=t.props[s];(Ed(i)||i===!1)&&(e[s]=i)}return e}const uq=[...N1].reverse(),hq=N1.length;function pq(t){return e=>Promise.all(e.map(({animation:n,options:s})=>cq(t,n,s)))}function mq(t){let e=pq(t),n=mk(),s=!0;const i=c=>(d,u)=>{var m;const h=Wo(t,u,c==="exit"?(m=t.presenceContext)==null?void 0:m.custom:void 0);if(h){const{transition:f,transitionEnd:x,...g}=h;d={...d,...g,...x}}return d};function a(c){e=c(t)}function o(c){const{props:d}=t,u=pT(t.parent)||{},h=[],m=new Set;let f={},x=1/0;for(let b=0;b<hq;b++){const y=uq[b],v=n[y],w=d[y]!==void 0?d[y]:u[y],N=Ed(w),j=y===c?v.isActive:null;j===!1&&(x=b);let k=w===u[y]&&w!==d[y]&&N;if(k&&s&&t.manuallyAnimateOnMount&&(k=!1),v.protectedKeys={...f},!v.isActive&&j===null||!w&&!v.prevProp||nf(w)||typeof w=="boolean")continue;const P=fq(v.prevProp,w);let S=P||y===c&&v.isActive&&!k&&N||b>x&&N,E=!1;const T=Array.isArray(w)?w:[w];let W=T.reduce(i(y),{});j===!1&&(W={});const{prevResolvedValues:F={}}=v,D={...F,...W},A=I=>{S=!0,m.has(I)&&(E=!0,m.delete(I)),v.needsAnimating[I]=!0;const M=t.getValue(I);M&&(M.liveStyle=!1)};for(const I in D){const M=W[I],$=F[I];if(f.hasOwnProperty(I))continue;let O=!1;uv(M)&&uv($)?O=!hT(M,$):O=M!==$,O?M!=null?A(I):m.add(I):M!==void 0&&m.has(I)?A(I):v.protectedKeys[I]=!0}v.prevProp=w,v.prevResolvedValues=W,v.isActive&&(f={...f,...W}),s&&t.blockInitialAnimation&&(S=!1);const _=k&&P;S&&(!_||E)&&h.push(...T.map(I=>{const M={type:y};if(typeof I=="string"&&s&&!_&&t.manuallyAnimateOnMount&&t.parent){const{parent:$}=t,O=Wo($,I);if($.enteringChildren&&O){const{delayChildren:L}=O.transition||{};M.delay=uT($.enteringChildren,t,L)}}return{animation:I,options:M}}))}if(m.size){const b={};if(typeof d.initial!="boolean"){const y=Wo(t,Array.isArray(d.initial)?d.initial[0]:d.initial);y&&y.transition&&(b.transition=y.transition)}m.forEach(y=>{const v=t.getBaseTarget(y),w=t.getValue(y);w&&(w.liveStyle=!0),b[y]=v??null}),h.push({animation:b})}let g=!!h.length;return s&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(g=!1),s=!1,g?e(h):Promise.resolve()}function l(c,d){var h;if(n[c].isActive===d)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(m=>{var f;return(f=m.animationState)==null?void 0:f.setActive(c,d)}),n[c].isActive=d;const u=o(c);for(const m in n)n[m].protectedKeys={};return u}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>n,reset:()=>{n=mk(),s=!0}}}function fq(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!hT(e,t):!1}function Yi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function mk(){return{animate:Yi(!0),whileInView:Yi(),whileHover:Yi(),whileTap:Yi(),whileDrag:Yi(),whileFocus:Yi(),exit:Yi()}}class Wi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class gq extends Wi{constructor(e){super(e),e.animationState||(e.animationState=mq(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();nf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let xq=0;class vq extends Wi{constructor(){super(...arguments),this.id=xq++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const yq={animation:{Feature:gq},exit:{Feature:vq}};function Md(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function du(t){return{point:{x:t.pageX,y:t.pageY}}}const bq=t=>e=>j1(e)&&t(e,du(e));function Uc(t,e,n,s){return Md(t,e,bq(n),s)}const mT=1e-4,wq=1-mT,jq=1+mT,fT=.01,Nq=0-fT,kq=0+fT;function En(t){return t.max-t.min}function Sq(t,e,n){return Math.abs(t-e)<=n}function fk(t,e,n,s=.5){t.origin=s,t.originPoint=St(e.min,e.max,t.origin),t.scale=En(n)/En(e),t.translate=St(n.min,n.max,t.origin)-t.originPoint,(t.scale>=wq&&t.scale<=jq||isNaN(t.scale))&&(t.scale=1),(t.translate>=Nq&&t.translate<=kq||isNaN(t.translate))&&(t.translate=0)}function Wc(t,e,n,s){fk(t.x,e.x,n.x,s?s.originX:void 0),fk(t.y,e.y,n.y,s?s.originY:void 0)}function gk(t,e,n){t.min=n.min+e.min,t.max=t.min+En(e)}function Cq(t,e,n){gk(t.x,e.x,n.x),gk(t.y,e.y,n.y)}function xk(t,e,n){t.min=e.min-n.min,t.max=t.min+En(e)}function Hc(t,e,n){xk(t.x,e.x,n.x),xk(t.y,e.y,n.y)}function ps(t){return[t("x"),t("y")]}const gT=({current:t})=>t?t.ownerDocument.defaultView:null,vk=(t,e)=>Math.abs(t-e);function Pq(t,e){const n=vk(t.x,e.x),s=vk(t.y,e.y);return Math.sqrt(n**2+s**2)}class xT{constructor(e,n,{transformPagePoint:s,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=kg(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,x=Pq(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!f&&!x)return;const{point:g}=m,{timestamp:b}=on;this.history.push({...g,timestamp:b});const{onStart:y,onMove:v}=this.handlers;f||(y&&y(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,m)},this.handlePointerMove=(m,f)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Ng(f,this.transformPagePoint),yt.update(this.updatePoint,!0)},this.handlePointerUp=(m,f)=>{this.end();const{onEnd:x,onSessionEnd:g,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=kg(m.type==="pointercancel"?this.lastMoveEventInfo:Ng(f,this.transformPagePoint),this.history);this.startEvent&&x&&x(m,y),g&&g(m,y)},!j1(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=o,this.contextWindow=i||window;const l=du(e),c=Ng(l,this.transformPagePoint),{point:d}=c,{timestamp:u}=on;this.history=[{...d,timestamp:u}];const{onSessionStart:h}=n;h&&h(e,kg(c,this.history)),this.removeListeners=ou(Uc(this.contextWindow,"pointermove",this.handlePointerMove),Uc(this.contextWindow,"pointerup",this.handlePointerUp),Uc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ai(this.updatePoint)}}function Ng(t,e){return e?{point:e(t.point)}:t}function yk(t,e){return{x:t.x-e.x,y:t.y-e.y}}function kg({point:t},e){return{point:t,delta:yk(t,vT(e)),offset:yk(t,Eq(e)),velocity:_q(e,.1)}}function Eq(t){return t[0]}function vT(t){return t[t.length-1]}function _q(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const i=vT(t);for(;n>=0&&(s=t[n],!(i.timestamp-s.timestamp>mr(e)));)n--;if(!s)return{x:0,y:0};const a=ws(i.timestamp-s.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-s.x)/a,y:(i.y-s.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Mq(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?St(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?St(n,t,s.max):Math.min(t,n)),t}function bk(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Tq(t,{top:e,left:n,bottom:s,right:i}){return{x:bk(t.x,n,i),y:bk(t.y,e,s)}}function wk(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function Lq(t,e){return{x:wk(t.x,e.x),y:wk(t.y,e.y)}}function Aq(t,e){let n=.5;const s=En(t),i=En(e);return i>s?n=Sd(e.min,e.max-s,t.min):s>i&&(n=Sd(t.min,t.max-i,e.min)),Fr(0,1,n)}function Iq(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const mv=.35;function Oq(t=mv){return t===!1?t=0:t===!0&&(t=mv),{x:jk(t,"left","right"),y:jk(t,"top","bottom")}}function jk(t,e,n){return{min:Nk(t,e),max:Nk(t,n)}}function Nk(t,e){return typeof t=="number"?t:t[e]||0}const Rq=new WeakMap;class Dq{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Dt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=h=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(du(h).point)},o=(h,m)=>{const{drag:f,dragPropagation:x,onDragStart:g}=this.getProps();if(f&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=KW(f),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ps(y=>{let v=this.getAxisMotionValue(y).get()||0;if(fr.test(v)){const{projection:w}=this.visualElement;if(w&&w.layout){const N=w.layout.layoutBox[y];N&&(v=En(N)*(parseFloat(v)/100))}}this.originPoint[y]=v}),g&&yt.postRender(()=>g(h,m)),hv(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},l=(h,m)=>{this.latestPointerEvent=h,this.latestPanInfo=m;const{dragPropagation:f,dragDirectionLock:x,onDirectionLock:g,onDrag:b}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:y}=m;if(x&&this.currentDirection===null){this.currentDirection=$q(y),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",m.point,y),this.updateAxis("y",m.point,y),this.visualElement.render(),b&&b(h,m)},c=(h,m)=>{this.latestPointerEvent=h,this.latestPanInfo=m,this.stop(h,m),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>ps(h=>{var m;return this.getAnimationState(h)==="paused"&&((m=this.getAxisMotionValue(h).animation)==null?void 0:m.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new xT(e,{onSessionStart:a,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:s,contextWindow:gT(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,i=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!s)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&yt.postRender(()=>l(s,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:i}=this.getProps();if(!s||!Zu(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let o=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(o=Mq(o,this.constraints[e],this.elastic[e])),a.set(o)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,i=this.constraints;e&&_o(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=Tq(s.layoutBox,e):this.constraints=!1,this.elastic=Oq(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ps(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Iq(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!_o(e))return!1;const s=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=FH(s,i.root,this.visualElement.getTransformPagePoint());let o=Lq(i.layout.layoutBox,a);if(n){const l=n(RH(o));this.hasMutatedConstraints=!!l,l&&(o=tT(l))}return o}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=ps(u=>{if(!Zu(u,n,this.currentDirection))return;let h=c&&c[u]||{};o&&(h={min:0,max:0});const m=i?200:1e6,f=i?40:1e7,x={type:"inertia",velocity:s?e[u]:0,bounceStiffness:m,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(u,x)});return Promise.all(d).then(l)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return hv(this.visualElement,e),s.start(T1(e,s,0,n,this.visualElement,!1))}stopAnimation(){ps(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ps(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),i=s[n];return i||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){ps(n=>{const{drag:s}=this.getProps();if(!Zu(n,s,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[n];a.set(e[n]-St(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!_o(n)||!s||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ps(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();i[o]=Aq({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),ps(o=>{if(!Zu(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(St(c,d,i[o]))})}addListeners(){if(!this.visualElement.current)return;Rq.set(this.visualElement,this);const e=this.visualElement.current,n=Uc(e,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();_o(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",s);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),yt.read(s);const o=Md(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(ps(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=c[u].translate,h.set(h.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),n(),a(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=mv,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function Zu(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function $q(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Fq extends Wi{constructor(e){super(e),this.removeGroupControls=Ps,this.removeListeners=Ps,this.controls=new Dq(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ps}unmount(){this.removeGroupControls(),this.removeListeners()}}const kk=t=>(e,n)=>{t&&yt.postRender(()=>t(e,n))};class zq extends Wi{constructor(){super(...arguments),this.removePointerDownListener=Ps}onPointerDown(e){this.session=new xT(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:gT(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:kk(e),onStart:kk(n),onMove:s,onEnd:(a,o)=>{delete this.session,i&&yt.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=Uc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Hh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Sk(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Yl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if($e.test(t))t=parseFloat(t);else return t;const n=Sk(t,e.target.x),s=Sk(t,e.target.y);return`${n}% ${s}%`}},Bq={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,i=Ii.parse(t);if(i.length>5)return s;const a=Ii.createTransformer(t),o=typeof i[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;i[0+o]/=l,i[1+o]/=c;const d=St(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=d),typeof i[3+o]=="number"&&(i[3+o]/=d),a(i)}};let Sg=!1;class Vq extends p.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:i}=this.props,{projection:a}=e;dH(Uq),a&&(n.group&&n.group.add(a),s&&s.register&&i&&s.register(a),Sg&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Hh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:i,isPresent:a}=this.props,{projection:o}=s;return o&&(o.isPresent=a,Sg=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==a?o.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?o.promote():o.relegate()||yt.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),w1.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:i}=e;Sg=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function yT(t){const[e,n]=sH(),s=p.useContext(Z_);return r.jsx(Vq,{...t,layoutGroup:s,switchLayoutGroup:p.useContext(JM),isPresent:e,safeToRemove:n})}const Uq={borderRadius:{...Yl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Yl,borderTopRightRadius:Yl,borderBottomLeftRadius:Yl,borderBottomRightRadius:Yl,boxShadow:Bq};function Wq(t,e,n){const s=bn(t)?t:al(t);return s.start(T1("",s,e,n)),s.animation}const Hq=(t,e)=>t.depth-e.depth;class qq{constructor(){this.children=[],this.isDirty=!1}add(e){n1(this.children,e),this.isDirty=!0}remove(e){s1(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Hq),this.isDirty=!1,this.children.forEach(e)}}function Gq(t,e){const n=Dn.now(),s=({timestamp:i})=>{const a=i-n;a>=e&&(Ai(s),t(a-e))};return yt.setup(s,!0),()=>Ai(s)}const bT=["TopLeft","TopRight","BottomLeft","BottomRight"],Kq=bT.length,Ck=t=>typeof t=="string"?parseFloat(t):t,Pk=t=>typeof t=="number"||$e.test(t);function Yq(t,e,n,s,i,a){i?(t.opacity=St(0,n.opacity??1,Xq(s)),t.opacityExit=St(e.opacity??1,0,Zq(s))):a&&(t.opacity=St(e.opacity??1,n.opacity??1,s));for(let o=0;o<Kq;o++){const l=`border${bT[o]}Radius`;let c=Ek(e,l),d=Ek(n,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||Pk(c)===Pk(d)?(t[l]=Math.max(St(Ck(c),Ck(d),s),0),(fr.test(d)||fr.test(c))&&(t[l]+="%")):t[l]=d}(e.rotate||n.rotate)&&(t.rotate=St(e.rotate||0,n.rotate||0,s))}function Ek(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Xq=wT(0,.5,lM),Zq=wT(.5,.95,Ps);function wT(t,e,n){return s=>s<t?0:s>e?1:n(Sd(t,e,s))}function _k(t,e){t.min=e.min,t.max=e.max}function us(t,e){_k(t.x,e.x),_k(t.y,e.y)}function Mk(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Tk(t,e,n,s,i){return t-=e,t=qp(t,1/n,s),i!==void 0&&(t=qp(t,1/i,s)),t}function Qq(t,e=0,n=1,s=.5,i,a=t,o=t){if(fr.test(e)&&(e=parseFloat(e),e=St(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=St(a.min,a.max,s);t===a&&(l-=e),t.min=Tk(t.min,e,n,l,i),t.max=Tk(t.max,e,n,l,i)}function Lk(t,e,[n,s,i],a,o){Qq(t,e[n],e[s],e[i],e.scale,a,o)}const Jq=["x","scaleX","originX"],eG=["y","scaleY","originY"];function Ak(t,e,n,s){Lk(t.x,e,Jq,n?n.x:void 0,s?s.x:void 0),Lk(t.y,e,eG,n?n.y:void 0,s?s.y:void 0)}function Ik(t){return t.translate===0&&t.scale===1}function jT(t){return Ik(t.x)&&Ik(t.y)}function Ok(t,e){return t.min===e.min&&t.max===e.max}function tG(t,e){return Ok(t.x,e.x)&&Ok(t.y,e.y)}function Rk(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function NT(t,e){return Rk(t.x,e.x)&&Rk(t.y,e.y)}function Dk(t){return En(t.x)/En(t.y)}function $k(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class nG{constructor(){this.members=[]}add(e){n1(this.members,e),e.scheduleRender()}remove(e){if(s1(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let s;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){s=a;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function sG(t,e,n){let s="";const i=t.x.translate/e.x,a=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||a||o)&&(s=`translate3d(${i}px, ${a}px, ${o}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:u,rotateX:h,rotateY:m,skewX:f,skewY:x}=n;d&&(s=`perspective(${d}px) ${s}`),u&&(s+=`rotate(${u}deg) `),h&&(s+=`rotateX(${h}deg) `),m&&(s+=`rotateY(${m}deg) `),f&&(s+=`skewX(${f}deg) `),x&&(s+=`skewY(${x}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(s+=`scale(${l}, ${c})`),s||"none"}const Cg=["","X","Y","Z"],rG=1e3;let iG=0;function Pg(t,e,n,s){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),s&&(s[t]=0))}function kT(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=cT(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",yt,!(i||a))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&kT(s)}function ST({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(o={},l=e==null?void 0:e()){this.id=iG++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(lG),this.nodes.forEach(hG),this.nodes.forEach(pG),this.nodes.forEach(cG)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new qq)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new a1),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=zM(o)&&!eH(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let u,h=0;const m=()=>this.root.updateBlockedByResize=!1;yt.read(()=>{h=window.innerWidth}),t(o,()=>{const f=window.innerWidth;f!==h&&(h=f,this.root.updateBlockedByResize=!0,u&&u(),u=Gq(m,250),Hh.hasAnimatedSinceResize&&(Hh.hasAnimatedSinceResize=!1,this.nodes.forEach(Bk)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:m,layout:f})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||vG,{onLayoutAnimationStart:g,onLayoutAnimationComplete:b}=d.getProps(),y=!this.targetLayout||!NT(this.targetLayout,f),v=!h&&m;if(this.options.layoutRoot||this.resumeFrom||v||h&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={...y1(x,"layout"),onPlay:g,onComplete:b};(d.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(u,v)}else h||Bk(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=f})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ai(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(mG),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&kT(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Fk);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(zk);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(uG),this.nodes.forEach(aG),this.nodes.forEach(oG)):this.nodes.forEach(zk),this.clearAllSnapshots();const l=Dn.now();on.delta=Fr(0,1e3/60,l-on.timestamp),on.timestamp=l,on.isProcessing=!0,fg.update.process(on),fg.preRender.process(on),fg.render.process(on),on.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,w1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(dG),this.sharedNodes.forEach(fG)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,yt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){yt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!En(this.snapshot.measuredBox.x)&&!En(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Dt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!jT(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||sa(this.latestValues)||u)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),yG(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return Dt();const l=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(bG))){const{scroll:u}=this.root;u&&(Mo(l.x,u.offset.x),Mo(l.y,u.offset.y))}return l}removeElementScroll(o){var c;const l=Dt();if(us(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:h,options:m}=u;u!==this.root&&h&&m.layoutScroll&&(h.wasRoot&&us(l,o),Mo(l.x,h.offset.x),Mo(l.y,h.offset.y))}return l}applyTransform(o,l=!1){const c=Dt();us(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&To(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),sa(u.latestValues)&&To(c,u.latestValues)}return sa(this.latestValues)&&To(c,this.latestValues),c}removeTransform(o){const l=Dt();us(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!sa(d.latestValues))continue;lv(d.latestValues)&&d.updateSnapshot();const u=Dt(),h=d.measurePageBox();us(u,h),Ak(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return sa(this.latestValues)&&Ak(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==on.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var m;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:h}=this.options;if(!(!this.layout||!(u||h))){if(this.resolvedRelativeTargetAt=on.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Dt(),this.relativeTargetOrigin=Dt(),Hc(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),us(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Dt(),this.targetWithTransforms=Dt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Cq(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):us(this.target,this.layout.layoutBox),sT(this.target,this.targetDelta)):us(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Dt(),this.relativeTargetOrigin=Dt(),Hc(this.relativeTargetOrigin,this.target,f.target),us(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||lv(this.parent.latestValues)||nT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var x;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===on.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;us(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;$H(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Dt());const{target:f}=o;if(!f){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Mk(this.prevProjectionDelta.x,this.projectionDelta.x),Mk(this.prevProjectionDelta.y,this.projectionDelta.y)),Wc(this.projectionDelta,this.layoutCorrected,f,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==m||!$k(this.projectionDelta.x,this.prevProjectionDelta.x)||!$k(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",f))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Lo(),this.projectionDelta=Lo(),this.projectionDeltaWithTransform=Lo()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},h=Lo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=Dt(),f=c?c.source:void 0,x=this.layout?this.layout.source:void 0,g=f!==x,b=this.getStack(),y=!b||b.members.length<=1,v=!!(g&&!y&&this.options.crossfade===!0&&!this.path.some(xG));this.animationProgress=0;let w;this.mixTargetDelta=N=>{const j=N/1e3;Vk(h.x,o.x,j),Vk(h.y,o.y,j),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Hc(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),gG(this.relativeTarget,this.relativeTargetOrigin,m,j),w&&tG(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Dt()),us(w,this.relativeTarget)),g&&(this.animationValues=u,Yq(u,d,this.latestValues,j,v,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(Ai(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=yt.update(()=>{Hh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=al(0)),this.currentAnimation=Wq(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(rG),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&CT(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Dt();const h=En(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const m=En(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+m}us(l,c),To(l,u),Wc(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new nG),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&Pg("z",o,d,this.animationValues);for(let u=0;u<Cg.length;u++)Pg(`rotate${Cg[u]}`,o,d,this.animationValues),Pg(`skew${Cg[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Wh(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Wh(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!sa(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=d.animationValues||d.latestValues;this.applyTransformsToTarget();let h=sG(this.projectionDeltaWithTransform,this.treeScale,u);c&&(h=c(u,h)),o.transform=h;const{x:m,y:f}=this.projectionDelta;o.transformOrigin=`${m.origin*100}% ${f.origin*100}% 0`,d.animationValues?o.opacity=d===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=d===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const x in _d){if(u[x]===void 0)continue;const{correct:g,applyTo:b,isCSSVariable:y}=_d[x],v=h==="none"?u[x]:g(u[x],d);if(b){const w=b.length;for(let N=0;N<w;N++)o[b[N]]=v}else y?this.options.visualElement.renderState.vars[x]=v:o[x]=v}this.options.layoutId&&(o.pointerEvents=d===this?Wh(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(Fk),this.root.sharedNodes.clear()}}}function aG(t){t.updateLayout()}function oG(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:i}=t.layout,{animationType:a}=t.options,o=e.source!==t.layout.source;a==="size"?ps(h=>{const m=o?e.measuredBox[h]:e.layoutBox[h],f=En(m);m.min=s[h].min,m.max=m.min+f}):CT(a,e.layoutBox,s)&&ps(h=>{const m=o?e.measuredBox[h]:e.layoutBox[h],f=En(s[h]);m.max=m.min+f,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+f)});const l=Lo();Wc(l,s,e.layoutBox);const c=Lo();o?Wc(c,t.applyTransform(i,!0),e.measuredBox):Wc(c,s,e.layoutBox);const d=!jT(l);let u=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:f}=h;if(m&&f){const x=Dt();Hc(x,e.layoutBox,m.layoutBox);const g=Dt();Hc(g,s,f.layoutBox),NT(x,g)||(u=!0),h.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=x,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function lG(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function cG(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function dG(t){t.clearSnapshot()}function Fk(t){t.clearMeasurements()}function zk(t){t.isLayoutDirty=!1}function uG(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Bk(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function hG(t){t.resolveTargetDelta()}function pG(t){t.calcProjection()}function mG(t){t.resetSkewAndRotation()}function fG(t){t.removeLeadSnapshot()}function Vk(t,e,n){t.translate=St(e.translate,0,n),t.scale=St(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Uk(t,e,n,s){t.min=St(e.min,n.min,s),t.max=St(e.max,n.max,s)}function gG(t,e,n,s){Uk(t.x,e.x,n.x,s),Uk(t.y,e.y,n.y,s)}function xG(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const vG={duration:.45,ease:[.4,0,.1,1]},Wk=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Hk=Wk("applewebkit/")&&!Wk("chrome/")?Math.round:Ps;function qk(t){t.min=Hk(t.min),t.max=Hk(t.max)}function yG(t){qk(t.x),qk(t.y)}function CT(t,e,n){return t==="position"||t==="preserve-aspect"&&!Sq(Dk(e),Dk(n),.2)}function bG(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const wG=ST({attachResizeListener:(t,e)=>Md(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Eg={current:void 0},PT=ST({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Eg.current){const t=new wG({});t.mount(window),t.setOptions({layoutScroll:!0}),Eg.current=t}return Eg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),jG={pan:{Feature:zq},drag:{Feature:Fq,ProjectionNode:PT,MeasureLayout:yT}};function Gk(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=s[i];a&&yt.postRender(()=>a(e,du(e)))}class NG extends Wi{mount(){const{current:e}=this.node;e&&(this.unmount=YW(e,(n,s)=>(Gk(this.node,s,"Start"),i=>Gk(this.node,i,"End"))))}unmount(){}}class kG extends Wi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ou(Md(this.node.current,"focus",()=>this.onFocus()),Md(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Kk(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=s[i];a&&yt.postRender(()=>a(e,du(e)))}class SG extends Wi{mount(){const{current:e}=this.node;e&&(this.unmount=JW(e,(n,s)=>(Kk(this.node,s,"Start"),(i,{success:a})=>Kk(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const fv=new WeakMap,_g=new WeakMap,CG=t=>{const e=fv.get(t.target);e&&e(t)},PG=t=>{t.forEach(CG)};function EG({root:t,...e}){const n=t||document;_g.has(n)||_g.set(n,{});const s=_g.get(n),i=JSON.stringify(e);return s[i]||(s[i]=new IntersectionObserver(PG,{root:t,...e})),s[i]}function _G(t,e,n){const s=EG(e);return fv.set(t,n),s.observe(t),()=>{fv.delete(t),s.unobserve(t)}}const MG={some:0,all:1};class TG extends Wi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:i="some",once:a}=e,o={root:n?n.current:void 0,rootMargin:s,threshold:typeof i=="number"?i:MG[i]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),m=d?u:h;m&&m(c)};return _G(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(LG(e,n))&&this.startObserver()}unmount(){}}function LG({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const AG={inView:{Feature:TG},tap:{Feature:SG},focus:{Feature:kG},hover:{Feature:NG}},IG={layout:{ProjectionNode:PT,MeasureLayout:yT}},OG={...yq,...AG,...jG,...IG},RG=OH(OG,KH),rf=({className:t,size:e=100,delay:n=0,duration:s=6,colorFrom:i="#ffaa40",colorTo:a="#9c40ff",transition:o,style:l,reverse:c=!1,initialOffset:d=0,borderWidth:u=3})=>r.jsx("div",{className:"pointer-events-none absolute inset-0 rounded-[inherit] border-(length:--border-beam-width) border-transparent [mask-image:linear-gradient(transparent,transparent),linear-gradient(#000,#000)] [mask-composite:intersect] [mask-clip:padding-box,border-box]",style:{"--border-beam-width":`${u}px`},children:r.jsx(RG.div,{className:tF("absolute aspect-square","bg-gradient-to-l from-[var(--color-from)] via-[var(--color-to)] to-transparent",t),style:{width:e,offsetPath:`rect(0 auto auto 0 round ${e}px)`,"--color-from":i,"--color-to":a,...l},initial:{offsetDistance:`${d}%`},animate:{offsetDistance:c?[`${100-d}%`,`${-d}%`]:[`${d}%`,`${100+d}%`]},transition:{repeat:1/0,ease:"linear",duration:s,delay:-n,...o}})});/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DG=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$G=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),Yk=t=>{const e=$G(t);return e.charAt(0).toUpperCase()+e.slice(1)},ET=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),FG=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zG={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BG=p.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:i="",children:a,iconNode:o,...l},c)=>p.createElement("svg",{ref:c,...zG,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:ET("lucide",i),...!a&&!FG(l)&&{"aria-hidden":"true"},...l},[...o.map(([d,u])=>p.createElement(d,u)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=(t,e)=>{const n=p.forwardRef(({className:s,...i},a)=>p.createElement(BG,{ref:a,iconNode:e,className:ET(`lucide-${DG(Yk(t))}`,`lucide-${t}`,s),...i}));return n.displayName=Yk(t),n};/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VG=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Oi=Oe("arrow-left",VG);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UG=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],qc=Oe("arrow-right",UG);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WG=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Qu=Oe("ban",WG);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HG=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Xk=Oe("briefcase",HG);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qG=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Zk=Oe("building-2",qG);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GG=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],Mg=Oe("building",GG);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KG=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],_T=Oe("calendar-clock",KG);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YG=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],gt=Oe("calendar",YG);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XG=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ZG=Oe("check",XG);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QG=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],MT=Oe("chevron-left",QG);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JG=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],TT=Oe("chevron-right",JG);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eK=[["path",{d:"M12 12H3a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h13",key:"1gdiyg"}],["path",{d:"M18 8c0-2.5-2-2.5-2-5",key:"1il607"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M21 12a1 1 0 0 1 1 1v2a1 1 0 0 1-.5.866",key:"166zjj"}],["path",{d:"M22 8c0-2.5-2-2.5-2-5",key:"1gah44"}],["path",{d:"M7 12v4",key:"jqww69"}]],tK=Oe("cigarette-off",eK);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nK=[["path",{d:"M17 12H3a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h14",key:"1mb5g1"}],["path",{d:"M18 8c0-2.5-2-2.5-2-5",key:"1il607"}],["path",{d:"M21 16a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"1yl5r7"}],["path",{d:"M22 8c0-2.5-2-2.5-2-5",key:"1gah44"}],["path",{d:"M7 12v4",key:"jqww69"}]],Tg=Oe("cigarette",nK);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sK=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],uu=Oe("circle-alert",sK);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rK=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],js=Oe("circle-check-big",rK);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iK=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],yc=Oe("circle-check",iK);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aK=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],oK=Oe("circle-question-mark",aK);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lK=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],to=Oe("circle-x",lK);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cK=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],LT=Oe("clock",cK);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dK=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],uK=Oe("dollar-sign",dK);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hK=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Td=Oe("eye-off",hK);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pK=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ld=Oe("eye",pK);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mK=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],Qk=Oe("flag",mK);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fK=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],gK=Oe("funnel",fK);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xK=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],bc=Oe("graduation-cap",xK);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vK=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Jk=Oe("heart",vK);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yK=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Ju=Oe("house",yK);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bK=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],wK=Oe("info",bK);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jK=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],AT=Oe("languages",jK);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NK=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],IT=Oe("mail",NK);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kK=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],OT=Oe("map-pin",kK);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SK=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],CK=Oe("message-circle",SK);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PK=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Gc=Oe("moon",PK);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EK=[["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"M2.586 16.726A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2h6.624a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586z",key:"2d38gg"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],_K=Oe("octagon-x",EK);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MK=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],qh=Oe("party-popper",MK);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TK=[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]],Gp=Oe("paw-print",TK);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LK=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],e5=Oe("plane",LK);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AK=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],IK=Oe("plus",AK);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OK=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],RK=Oe("refresh-cw",OK);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DK=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],$K=Oe("rotate-ccw",DK);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FK=[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]],RT=Oe("route",FK);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zK=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Gh=Oe("search",zK);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BK=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ad=Oe("shield",BK);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VK=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],UK=Oe("shopping-bag",VK);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WK=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],DT=Oe("sparkles",WK);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HK=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],qK=Oe("square-pen",HK);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GK=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],t5=Oe("star",GK);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KK=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],YK=Oe("timer",KK);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XK=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Lg=Oe("users",XK);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZK=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],gv=Oe("utensils",ZK);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QK=[["path",{d:"M8 22h8",key:"rmew8v"}],["path",{d:"M7 10h10",key:"1101jm"}],["path",{d:"M12 15v7",key:"t2xh3l"}],["path",{d:"M12 15a5 5 0 0 0 5-5c0-2-.5-4-2-8H9c-1.5 4-2 6-2 8a5 5 0 0 0 5 5Z",key:"10ffi3"}]],Ag=Oe("wine",QK);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JK=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],xv=Oe("x",JK),eY=[{name:"Northern Illinois University",city:"DeKalb, IL",code:"NIU"},{name:"University of Illinois Urbana-Champaign",city:"Urbana, IL",code:"UIUC"},{name:"University of Chicago",city:"Chicago, IL",code:"UChicago"},{name:"Northwestern University",city:"Evanston, IL",code:"NU"}];function tY(){const t=dt(),[e,n]=p.useState(""),[s,i]=p.useState(!1),[a,o]=p.useState(null),[l,c]=p.useState(0),d=p.useRef(null),[u,h]=p.useState(null),m=p.useMemo(()=>{try{const b=localStorage.getItem("nr_recent_campuses");return b?JSON.parse(b):[]}catch{return[]}},[]),f=p.useMemo(()=>{const b=[...u?[u]:[],...m,...eY];if(!e.trim())return b.slice(0,6);const y=e.toLowerCase();return b.filter(v=>v.name.toLowerCase().includes(y)||v.city.toLowerCase().includes(y)).slice(0,6)},[e,m,u]);function x(b){o(b);try{const y=[b,...m.filter(v=>v.name!==b.name)].slice(0,6);localStorage.setItem("nr_recent_campuses",JSON.stringify(y))}catch{}}function g(b){f.length&&(b.key==="ArrowDown"&&(b.preventDefault(),c((l+1)%f.length)),b.key==="ArrowUp"&&(b.preventDefault(),c((l-1+f.length)%f.length)),b.key==="Enter"&&(b.preventDefault(),x(f[l])))}return p.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(()=>{h({name:"Northern Illinois University",city:"DeKalb, IL",code:"NIU"})},()=>{})},[]),r.jsx("div",{className:"mx-auto max-w-3xl px-6",children:r.jsxs("div",{className:"relative rounded-2xl border border-white/10 bg-white/[0.03] p-6 overflow-visible z-10",children:[r.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[r.jsx("span",{className:"inline-flex h-8 w-8 items-center justify-center rounded-md bg-white/10 ring-1 ring-white/15",children:r.jsx(bc,{className:"h-4 w-4 text-white"})}),r.jsx("h3",{className:"text-xl font-semibold",children:"Select your university"})]}),r.jsx("p",{className:"text-white/70 text-sm mb-4",children:"Choose your campus to enable verified, universityonly features and a personalized experience."}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx("input",{value:e,onChange:b=>n(b.target.value),onFocus:()=>i(!0),onBlur:()=>setTimeout(()=>i(!1),150),onKeyDown:g,placeholder:"Search university","aria-label":"Search university",className:"w-full rounded-xl border border-white/15 bg-black/40 px-4 py-3 text-white placeholder-white/50 outline-none focus:border-[#2F64FF]"}),s&&r.jsx("div",{ref:d,className:"absolute left-0 right-0 mt-2 rounded-xl border border-white/10 bg-[#0E0F12] p-2 shadow-xl z-30 max-h-72 overflow-auto",children:f.length===0?r.jsx("div",{className:"px-3 py-2 text-sm text-white/60",children:"No matches"}):f.map((b,y)=>r.jsxs("button",{onMouseDown:()=>x(b),className:`w-full text-left px-3 py-2 rounded-lg text-sm ${y===l?"bg-white/10":"hover:bg-white/5"}`,"aria-selected":y===l,children:[r.jsx("div",{className:"font-medium text-white/90",children:b.name}),r.jsx("div",{className:"text-white/50 text-xs",children:b.city})]},b.name))}),r.jsxs("div",{className:"mt-3 flex flex-wrap gap-2 text-xs",children:[u&&r.jsxs("button",{onClick:()=>x(u),className:"px-2 py-1 rounded-full border border-white/15 bg-white/5 text-white/80 hover:bg-white/10",children:["Near me: ",u.code]}),r.jsx("button",{onClick:()=>n("University of "),className:"px-2 py-1 rounded-full border border-white/15 bg-white/5 text-white/80 hover:bg-white/10",children:"Top campuses"}),m.slice(0,3).map(b=>r.jsx("button",{onClick:()=>x(b),className:"px-2 py-1 rounded-full border border-white/15 bg-white/5 text-white/80 hover:bg-white/10",children:b.code||b.name.split(" ")[0]},b.name))]}),r.jsx("div",{className:"mt-2 text-xs text-white/50",children:"Type to search  Use / to navigate  Press Enter to select"})]}),r.jsx("button",{onClick:()=>t("/signup"),className:"self-start inline-flex h-12 items-center justify-center rounded-xl bg-[#2F64FF] px-6 font-semibold text-white shadow-[0_0_18px_rgba(47,100,255,0.35)] transition hover:bg-[#2958e3]",children:"Continue"})]}),a&&r.jsxs("div",{className:"mt-4 inline-flex items-center gap-2 rounded-full border border-white/15 bg-white/5 px-3 py-1 text-sm text-white/80",children:[r.jsx("span",{className:"text-white/90",children:a.name}),r.jsxs("span",{className:"text-white/50",children:[" ",a.city]})]}),r.jsx(rf,{size:260,duration:5,colorFrom:"#2F64FF",colorTo:"#00D4FF",borderWidth:2})]})})}const n5="/assets/mesh-hero-BMyiDGai.png",nY="/assets/campus-arrival-CyA4Jxhv.mp4",sY="/assets/roommates-study-zzl_hTcC.jpg",rY="/assets/marketplace-moveout-DYVMWVeZ.jpg",iY="/assets/community-events-oqPJ5IzI.jpg",aY=Fe.lazy(()=>qm(()=>import("./SplineGlobe-C46wa8BQ.js"),[]));function s5(){const t=dt(),e=p.useMemo(()=>typeof window>"u"?!1:window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches,[]);p.useEffect(()=>{if(e)return;const u=new tV({lerp:.1,smoothWheel:!0});let h;const m=f=>{u.raf(f),h=requestAnimationFrame(m)};return h=requestAnimationFrame(m),()=>{h&&cancelAnimationFrame(h),u.destroy()}},[e]);const n=p.useRef(null),{scrollYProgress:s}=s$({target:n,offset:["start start","end start"]}),i=Gj(s,[0,1],[0,e?0:-120]),a=Gj(s,[0,1],[1,e?1:.5]),o={hidden:e?{opacity:0}:{opacity:0,y:28},show:(u=0)=>({opacity:1,y:0,transition:e?{duration:0}:{duration:.65,ease:"easeOut",delay:u*.08}})},l=p.useRef(null),[c,d]=p.useState(!1);return p.useEffect(()=>{const u=l.current;if(!u)return;const h=new IntersectionObserver(([m])=>d(m.isIntersecting),{rootMargin:"200px"});return h.observe(u),()=>h.disconnect()},[]),r.jsxs("div",{className:"body-obsidian min-h-screen",children:[r.jsx(ct,{}),r.jsxs("section",{ref:n,className:"relative min-h-[92vh] w-full overflow-hidden",style:{willChange:e?"auto":"transform"},children:[r.jsx("img",{src:n5,alt:"",className:"pointer-events-none absolute inset-0 h-full w-full object-cover opacity-25"}),r.jsx("div",{ref:l,className:"absolute inset-0 -z-0 opacity-[0.26]","aria-hidden":"true",children:!e&&c&&r.jsx(p.Suspense,{fallback:null,children:r.jsx(aY,{})})}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/35 via-black/25 to-transparent"}),r.jsxs(ye.div,{style:{y:i,opacity:a},className:"relative z-10 mx-auto flex min-h-[92vh] max-w-7xl flex-col items-center justify-center px-6 text-center",children:[r.jsxs(ye.h1,{variants:o,initial:"hidden",animate:"show",className:"text-balance text-5xl font-extrabold leading-tight tracking-[-0.01em] md:text-7xl",children:["Your Campus.",r.jsx("br",{className:"hidden md:block"}),"Your People.",r.jsx("br",{className:"hidden md:block"}),"Your Start in the U.S."]}),r.jsx(ye.p,{variants:o,custom:1,initial:"hidden",animate:"show",className:"mt-5 max-w-2xl text-lg text-[var(--text-mid)] md:text-xl",children:"Housing, essentials, and community  all in one place, curated for your university only."}),r.jsxs(ye.div,{variants:o,custom:2,initial:"hidden",animate:"show",className:"mt-10 flex flex-col items-center gap-4 sm:flex-row",children:[r.jsx("button",{onClick:()=>t("/onboarding"),className:"btn-metal",children:"Get Started"}),r.jsx("button",{onClick:()=>{var u;return(u=document.getElementById("features"))==null?void 0:u.scrollIntoView({behavior:"smooth",block:"start"})},className:"btn-ghost",children:"Explore NewRun"})]}),r.jsx(ye.div,{variants:o,custom:3,initial:"hidden",animate:"show",className:"mt-12 grid w-full max-w-3xl grid-cols-1 gap-4 text-left sm:grid-cols-3",children:[["Verified","University-only network"],["Built-in","Messaging & P2P Market"],["AI","Roommate matching"]].map(([u,h],m)=>r.jsxs("div",{className:"edge-panel px-4 py-3",children:[r.jsx("div",{className:"text-[11px] uppercase tracking-widest text-[var(--text-mid)]",children:u}),r.jsx("div",{className:"text-base font-medium",children:h})]},m))})]}),r.jsx("div",{className:"pointer-events-none absolute -bottom-1 left-0 h-24 w-full bg-gradient-to-b from-transparent to-[#0B0B0C]/70"})]}),r.jsx(sU,{}),r.jsx("section",{id:"features",className:"w-full",children:[{title:"AI Roommate Matching",desc:"Go beyond filters. NewRun considers sleep patterns, study habits, cultural fit, and budget to match you with someone you'd actually live with.",img:sY,cta:()=>t("/signup"),ctaText:"Find My Match"},{title:"Verified Housing & P2P Marketplace",desc:"University-gated listings only. Rent safely, sublet easily, and buy/sell essentials with verified students on your campus.",img:rY,cta:()=>t("/marketplace"),ctaText:"Explore Listings"},{title:"Community & Events",desc:"From airport pickups to career meetupsdiscover student clubs, events, and groups that make a new city feel like home.",img:iY,cta:()=>t("/community"),ctaText:"See Whats On"}].map((u,h)=>r.jsxs("div",{className:`relative mx-auto grid max-w-7xl grid-cols-1 items-center gap-10 px-6 py-20 md:grid-cols-2 ${h%2===1?"md:[&>*:first-child]:order-2":""}`,children:[r.jsxs(ye.div,{initial:e?{opacity:0}:{opacity:0,x:h%2===0?-28:28},whileInView:e?{opacity:1}:{opacity:1,x:0},viewport:{once:!0,margin:"-10% 0px"},transition:{duration:.6},className:"space-y-5",children:[r.jsx("h3",{className:"text-pretty text-3xl font-bold md:text-4xl",children:u.title}),r.jsx("p",{className:"text-[var(--text-mid)] md:text-lg",children:u.desc}),r.jsxs("div",{className:"flex flex-wrap gap-3",children:[r.jsx("button",{onClick:u.cta,className:"btn-metal",children:u.ctaText}),r.jsx("button",{onClick:()=>t("/onboarding"),className:"btn-ghost",children:"Chat with Us"})]})]}),r.jsxs(ye.div,{initial:e?{opacity:0}:{opacity:0,scale:.98},whileInView:e?{opacity:1}:{opacity:1,scale:1},viewport:{once:!0,margin:"-10% 0px"},transition:{duration:.6},className:"edge-panel relative bg-[var(--bg-carbon)] p-3",children:[r.jsx("img",{src:u.img,alt:u.title,className:"rounded-[16px] object-cover",loading:"lazy",decoding:"async"}),r.jsx("div",{className:"pointer-events-none absolute inset-0 rounded-[18px] ring-1 ring-inset ring-white/10"})]})]},u.title))}),r.jsxs("section",{className:"relative h-[68vh] w-full overflow-visible",children:[e?r.jsx("img",{src:n5,alt:"NewRun campus life",className:"absolute inset-0 h-full w-full object-cover opacity-60",loading:"lazy",decoding:"async"}):r.jsx("video",{className:"absolute inset-0 h-full w-full object-cover opacity-60",src:nY,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,preload:"metadata"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/45 via-black/35 to-[#0b0c0f]"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#0b0c0f] via-transparent to-transparent"}),r.jsxs(ye.div,{initial:{opacity:0,y:18},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.65},className:"relative z-10 mx-auto flex h-full max-w-5xl flex-col items-center justify-center px-6 text-center",children:[r.jsx("h3",{className:"text-balance text-4xl font-bold md:text-5xl mb-2",children:"Start your journey now  its free."}),r.jsx("p",{className:"max-w-2xl text-white/80 mb-6",children:"Join a verified, university-only community. Pick your campus to get a personalized start."}),r.jsx("div",{className:"w-full",children:r.jsx(tY,{})})]})]}),r.jsx(ka,{})]})}function Cr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $T(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}/*!
 * GSAP 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var ns={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},ll={duration:.5,overwrite:!1,delay:0},L1,cn,vt,Ns=1e8,lt=1/Ns,vv=Math.PI*2,oY=vv/4,lY=0,FT=Math.sqrt,cY=Math.cos,dY=Math.sin,nn=function(e){return typeof e=="string"},Ot=function(e){return typeof e=="function"},Br=function(e){return typeof e=="number"},A1=function(e){return typeof e>"u"},vr=function(e){return typeof e=="object"},Un=function(e){return e!==!1},I1=function(){return typeof window<"u"},eh=function(e){return Ot(e)||nn(e)},zT=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},wn=Array.isArray,yv=/(?:-?\.?\d|\.)+/gi,BT=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Ao=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Ig=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,VT=/[+-]=-?[.\d]+/,UT=/[^,'"\[\]\s]+/gi,uY=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Nt,ir,bv,O1,is={},Kp={},WT,HT=function(e){return(Kp=cl(e,is))&&Gn},R1=function(e,n){return console.warn("Invalid property",e,"set to",n,"Missing plugin? gsap.registerPlugin()")},Id=function(e,n){return!n&&console.warn(e)},qT=function(e,n){return e&&(is[e]=n)&&Kp&&(Kp[e]=n)||is},Od=function(){return 0},hY={suppressEvents:!0,isStart:!0,kill:!1},Kh={suppressEvents:!0,kill:!1},pY={suppressEvents:!0},D1={},Pi=[],wv={},GT,Xn={},Og={},r5=30,Yh=[],$1="",F1=function(e){var n=e[0],s,i;if(vr(n)||Ot(n)||(e=[e]),!(s=(n._gsap||{}).harness)){for(i=Yh.length;i--&&!Yh[i].targetTest(n););s=Yh[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new xL(e[i],s)))||e.splice(i,1);return e},Pa=function(e){return e._gsap||F1(ks(e))[0]._gsap},KT=function(e,n,s){return(s=e[n])&&Ot(s)?e[n]():A1(s)&&e.getAttribute&&e.getAttribute(n)||s},Wn=function(e,n){return(e=e.split(",")).forEach(n)||e},$t=function(e){return Math.round(e*1e5)/1e5||0},Ut=function(e){return Math.round(e*1e7)/1e7||0},Ho=function(e,n){var s=n.charAt(0),i=parseFloat(n.substr(2));return e=parseFloat(e),s==="+"?e+i:s==="-"?e-i:s==="*"?e*i:e/i},mY=function(e,n){for(var s=n.length,i=0;e.indexOf(n[i])<0&&++i<s;);return i<s},Yp=function(){var e=Pi.length,n=Pi.slice(0),s,i;for(wv={},Pi.length=0,s=0;s<e;s++)i=n[s],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},z1=function(e){return!!(e._initted||e._startAt||e.add)},YT=function(e,n,s,i){Pi.length&&!cn&&Yp(),e.render(n,s,!!(cn&&n<0&&z1(e))),Pi.length&&!cn&&Yp()},XT=function(e){var n=parseFloat(e);return(n||n===0)&&(e+"").match(UT).length<2?n:nn(e)?e.trim():e},ZT=function(e){return e},as=function(e,n){for(var s in n)s in e||(e[s]=n[s]);return e},fY=function(e){return function(n,s){for(var i in s)i in n||i==="duration"&&e||i==="ease"||(n[i]=s[i])}},cl=function(e,n){for(var s in n)e[s]=n[s];return e},i5=function t(e,n){for(var s in n)s!=="__proto__"&&s!=="constructor"&&s!=="prototype"&&(e[s]=vr(n[s])?t(e[s]||(e[s]={}),n[s]):n[s]);return e},Xp=function(e,n){var s={},i;for(i in e)i in n||(s[i]=e[i]);return s},Kc=function(e){var n=e.parent||Nt,s=e.keyframes?fY(wn(e.keyframes)):as;if(Un(e.inherit))for(;n;)s(e,n.vars.defaults),n=n.parent||n._dp;return e},gY=function(e,n){for(var s=e.length,i=s===n.length;i&&s--&&e[s]===n[s];);return s<0},QT=function(e,n,s,i,a){var o=e[i],l;if(a)for(l=n[a];o&&o[a]>l;)o=o._prev;return o?(n._next=o._next,o._next=n):(n._next=e[s],e[s]=n),n._next?n._next._prev=n:e[i]=n,n._prev=o,n.parent=n._dp=e,n},af=function(e,n,s,i){s===void 0&&(s="_first"),i===void 0&&(i="_last");var a=n._prev,o=n._next;a?a._next=o:e[s]===n&&(e[s]=o),o?o._prev=a:e[i]===n&&(e[i]=a),n._next=n._prev=n.parent=null},Ri=function(e,n){e.parent&&(!n||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Ea=function(e,n){if(e&&(!n||n._end>e._dur||n._start<0))for(var s=e;s;)s._dirty=1,s=s.parent;return e},xY=function(e){for(var n=e.parent;n&&n.parent;)n._dirty=1,n.totalDuration(),n=n.parent;return e},jv=function(e,n,s,i){return e._startAt&&(cn?e._startAt.revert(Kh):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(n,!0,i))},vY=function t(e){return!e||e._ts&&t(e.parent)},a5=function(e){return e._repeat?dl(e._tTime,e=e.duration()+e._rDelay)*e:0},dl=function(e,n){var s=Math.floor(e=Ut(e/n));return e&&s===e?s-1:s},Zp=function(e,n){return(e-n._start)*n._ts+(n._ts>=0?0:n._dirty?n.totalDuration():n._tDur)},of=function(e){return e._end=Ut(e._start+(e._tDur/Math.abs(e._ts||e._rts||lt)||0))},lf=function(e,n){var s=e._dp;return s&&s.smoothChildTiming&&e._ts&&(e._start=Ut(s._time-(e._ts>0?n/e._ts:((e._dirty?e.totalDuration():e._tDur)-n)/-e._ts)),of(e),s._dirty||Ea(s,e)),e},JT=function(e,n){var s;if((n._time||!n._dur&&n._initted||n._start<e._time&&(n._dur||!n.add))&&(s=Zp(e.rawTime(),n),(!n._dur||hu(0,n.totalDuration(),s)-n._tTime>lt)&&n.render(s,!0)),Ea(e,n)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(s=e;s._dp;)s.rawTime()>=0&&s.totalTime(s._tTime),s=s._dp;e._zTime=-lt}},or=function(e,n,s,i){return n.parent&&Ri(n),n._start=Ut((Br(s)?s:s||e!==Nt?ms(e,s,n):e._time)+n._delay),n._end=Ut(n._start+(n.totalDuration()/Math.abs(n.timeScale())||0)),QT(e,n,"_first","_last",e._sort?"_start":0),Nv(n)||(e._recent=n),i||JT(e,n),e._ts<0&&lf(e,e._tTime),e},eL=function(e,n){return(is.ScrollTrigger||R1("scrollTrigger",n))&&is.ScrollTrigger.create(n,e)},tL=function(e,n,s,i,a){if(V1(e,n,a),!e._initted)return 1;if(!s&&e._pt&&!cn&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&GT!==Qn.frame)return Pi.push(e),e._lazy=[a,i],1},yY=function t(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||t(n))},Nv=function(e){var n=e.data;return n==="isFromStart"||n==="isStart"},bY=function(e,n,s,i){var a=e.ratio,o=n<0||!n&&(!e._start&&yY(e)&&!(!e._initted&&Nv(e))||(e._ts<0||e._dp._ts<0)&&!Nv(e))?0:1,l=e._rDelay,c=0,d,u,h;if(l&&e._repeat&&(c=hu(0,e._tDur,n),u=dl(c,l),e._yoyo&&u&1&&(o=1-o),u!==dl(e._tTime,l)&&(a=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==a||cn||i||e._zTime===lt||!n&&e._zTime){if(!e._initted&&tL(e,n,i,s,c))return;for(h=e._zTime,e._zTime=n||(s?lt:0),s||(s=n&&!h),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=c,d=e._pt;d;)d.r(o,d.d),d=d._next;n<0&&jv(e,n,s,!0),e._onUpdate&&!s&&es(e,"onUpdate"),c&&e._repeat&&!s&&e.parent&&es(e,"onRepeat"),(n>=e._tDur||n<0)&&e.ratio===o&&(o&&Ri(e,1),!s&&!cn&&(es(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=n)},wY=function(e,n,s){var i;if(s>n)for(i=e._first;i&&i._start<=s;){if(i.data==="isPause"&&i._start>n)return i;i=i._next}else for(i=e._last;i&&i._start>=s;){if(i.data==="isPause"&&i._start<n)return i;i=i._prev}},ul=function(e,n,s,i){var a=e._repeat,o=Ut(n)||0,l=e._tTime/e._tDur;return l&&!i&&(e._time*=o/e._dur),e._dur=o,e._tDur=a?a<0?1e10:Ut(o*(a+1)+e._rDelay*a):o,l>0&&!i&&lf(e,e._tTime=e._tDur*l),e.parent&&of(e),s||Ea(e.parent,e),e},o5=function(e){return e instanceof Pn?Ea(e):ul(e,e._dur)},jY={_start:0,endTime:Od,totalDuration:Od},ms=function t(e,n,s){var i=e.labels,a=e._recent||jY,o=e.duration()>=Ns?a.endTime(!1):e._dur,l,c,d;return nn(n)&&(isNaN(n)||n in i)?(c=n.charAt(0),d=n.substr(-1)==="%",l=n.indexOf("="),c==="<"||c===">"?(l>=0&&(n=n.replace(/=/,"")),(c==="<"?a._start:a.endTime(a._repeat>=0))+(parseFloat(n.substr(1))||0)*(d?(l<0?a:s).totalDuration()/100:1)):l<0?(n in i||(i[n]=o),i[n]):(c=parseFloat(n.charAt(l-1)+n.substr(l+1)),d&&s&&(c=c/100*(wn(s)?s[0]:s).totalDuration()),l>1?t(e,n.substr(0,l-1),s)+c:o+c)):n==null?o:+n},Yc=function(e,n,s){var i=Br(n[1]),a=(i?2:1)+(e<2?0:1),o=n[a],l,c;if(i&&(o.duration=n[1]),o.parent=s,e){for(l=o,c=s;c&&!("immediateRender"in l);)l=c.vars.defaults||{},c=Un(c.vars.inherit)&&c.parent;o.immediateRender=Un(l.immediateRender),e<2?o.runBackwards=1:o.startAt=n[a-1]}return new Vt(n[0],o,n[a+1])},Hi=function(e,n){return e||e===0?n(e):n},hu=function(e,n,s){return s<e?e:s>n?n:s},vn=function(e,n){return!nn(e)||!(n=uY.exec(e))?"":n[1]},NY=function(e,n,s){return Hi(s,function(i){return hu(e,n,i)})},kv=[].slice,nL=function(e,n){return e&&vr(e)&&"length"in e&&(!n&&!e.length||e.length-1 in e&&vr(e[0]))&&!e.nodeType&&e!==ir},kY=function(e,n,s){return s===void 0&&(s=[]),e.forEach(function(i){var a;return nn(i)&&!n||nL(i,1)?(a=s).push.apply(a,ks(i)):s.push(i)})||s},ks=function(e,n,s){return vt&&!n&&vt.selector?vt.selector(e):nn(e)&&!s&&(bv||!hl())?kv.call((n||O1).querySelectorAll(e),0):wn(e)?kY(e,s):nL(e)?kv.call(e,0):e?[e]:[]},Sv=function(e){return e=ks(e)[0]||Id("Invalid scope")||{},function(n){var s=e.current||e.nativeElement||e;return ks(n,s.querySelectorAll?s:s===e?Id("Invalid scope")||O1.createElement("div"):e)}},sL=function(e){return e.sort(function(){return .5-Math.random()})},rL=function(e){if(Ot(e))return e;var n=vr(e)?e:{each:e},s=_a(n.ease),i=n.from||0,a=parseFloat(n.base)||0,o={},l=i>0&&i<1,c=isNaN(i)||l,d=n.axis,u=i,h=i;return nn(i)?u=h={center:.5,edges:.5,end:1}[i]||0:!l&&c&&(u=i[0],h=i[1]),function(m,f,x){var g=(x||n).length,b=o[g],y,v,w,N,j,k,P,S,E;if(!b){if(E=n.grid==="auto"?0:(n.grid||[1,Ns])[1],!E){for(P=-Ns;P<(P=x[E++].getBoundingClientRect().left)&&E<g;);E<g&&E--}for(b=o[g]=[],y=c?Math.min(E,g)*u-.5:i%E,v=E===Ns?0:c?g*h/E-.5:i/E|0,P=0,S=Ns,k=0;k<g;k++)w=k%E-y,N=v-(k/E|0),b[k]=j=d?Math.abs(d==="y"?N:w):FT(w*w+N*N),j>P&&(P=j),j<S&&(S=j);i==="random"&&sL(b),b.max=P-S,b.min=S,b.v=g=(parseFloat(n.amount)||parseFloat(n.each)*(E>g?g-1:d?d==="y"?g/E:E:Math.max(E,g/E))||0)*(i==="edges"?-1:1),b.b=g<0?a-g:a,b.u=vn(n.amount||n.each)||0,s=s&&g<0?mL(s):s}return g=(b[m]-b.min)/b.max||0,Ut(b.b+(s?s(g):g)*b.v)+b.u}},Cv=function(e){var n=Math.pow(10,((e+"").split(".")[1]||"").length);return function(s){var i=Ut(Math.round(parseFloat(s)/e)*e*n);return(i-i%1)/n+(Br(s)?0:vn(s))}},iL=function(e,n){var s=wn(e),i,a;return!s&&vr(e)&&(i=s=e.radius||Ns,e.values?(e=ks(e.values),(a=!Br(e[0]))&&(i*=i)):e=Cv(e.increment)),Hi(n,s?Ot(e)?function(o){return a=e(o),Math.abs(a-o)<=i?a:o}:function(o){for(var l=parseFloat(a?o.x:o),c=parseFloat(a?o.y:0),d=Ns,u=0,h=e.length,m,f;h--;)a?(m=e[h].x-l,f=e[h].y-c,m=m*m+f*f):m=Math.abs(e[h]-l),m<d&&(d=m,u=h);return u=!i||d<=i?e[u]:o,a||u===o||Br(o)?u:u+vn(o)}:Cv(e))},aL=function(e,n,s,i){return Hi(wn(e)?!n:s===!0?!!(s=0):!i,function(){return wn(e)?e[~~(Math.random()*e.length)]:(s=s||1e-5)&&(i=s<1?Math.pow(10,(s+"").length-2):1)&&Math.floor(Math.round((e-s/2+Math.random()*(n-e+s*.99))/s)*s*i)/i})},SY=function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return function(i){return n.reduce(function(a,o){return o(a)},i)}},CY=function(e,n){return function(s){return e(parseFloat(s))+(n||vn(s))}},PY=function(e,n,s){return lL(e,n,0,1,s)},oL=function(e,n,s){return Hi(s,function(i){return e[~~n(i)]})},EY=function t(e,n,s){var i=n-e;return wn(e)?oL(e,t(0,e.length),n):Hi(s,function(a){return(i+(a-e)%i)%i+e})},_Y=function t(e,n,s){var i=n-e,a=i*2;return wn(e)?oL(e,t(0,e.length-1),n):Hi(s,function(o){return o=(a+(o-e)%a)%a||0,e+(o>i?a-o:o)})},Rd=function(e){for(var n=0,s="",i,a,o,l;~(i=e.indexOf("random(",n));)o=e.indexOf(")",i),l=e.charAt(i+7)==="[",a=e.substr(i+7,o-i-7).match(l?UT:yv),s+=e.substr(n,i-n)+aL(l?a:+a[0],l?0:+a[1],+a[2]||1e-5),n=o+1;return s+e.substr(n,e.length-n)},lL=function(e,n,s,i,a){var o=n-e,l=i-s;return Hi(a,function(c){return s+((c-e)/o*l||0)})},MY=function t(e,n,s,i){var a=isNaN(e+n)?0:function(f){return(1-f)*e+f*n};if(!a){var o=nn(e),l={},c,d,u,h,m;if(s===!0&&(i=1)&&(s=null),o)e={p:e},n={p:n};else if(wn(e)&&!wn(n)){for(u=[],h=e.length,m=h-2,d=1;d<h;d++)u.push(t(e[d-1],e[d]));h--,a=function(x){x*=h;var g=Math.min(m,~~x);return u[g](x-g)},s=n}else i||(e=cl(wn(e)?[]:{},e));if(!u){for(c in n)B1.call(l,e,c,"get",n[c]);a=function(x){return H1(x,l)||(o?e.p:e)}}}return Hi(s,a)},l5=function(e,n,s){var i=e.labels,a=Ns,o,l,c;for(o in i)l=i[o]-n,l<0==!!s&&l&&a>(l=Math.abs(l))&&(c=o,a=l);return c},es=function(e,n,s){var i=e.vars,a=i[n],o=vt,l=e._ctx,c,d,u;if(a)return c=i[n+"Params"],d=i.callbackScope||e,s&&Pi.length&&Yp(),l&&(vt=l),u=c?a.apply(d,c):a.call(d),vt=o,u},wc=function(e){return Ri(e),e.scrollTrigger&&e.scrollTrigger.kill(!!cn),e.progress()<1&&es(e,"onInterrupt"),e},Io,cL=[],dL=function(e){if(e)if(e=!e.name&&e.default||e,I1()||e.headless){var n=e.name,s=Ot(e),i=n&&!s&&e.init?function(){this._props=[]}:e,a={init:Od,render:H1,add:B1,kill:qY,modifier:HY,rawVars:0},o={targetTest:0,get:0,getSetter:W1,aliases:{},register:0};if(hl(),e!==i){if(Xn[n])return;as(i,as(Xp(e,a),o)),cl(i.prototype,cl(a,Xp(e,o))),Xn[i.prop=n]=i,e.targetTest&&(Yh.push(i),D1[n]=1),n=(n==="css"?"CSS":n.charAt(0).toUpperCase()+n.substr(1))+"Plugin"}qT(n,i),e.register&&e.register(Gn,i,Hn)}else cL.push(e)},ot=255,jc={aqua:[0,ot,ot],lime:[0,ot,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,ot],navy:[0,0,128],white:[ot,ot,ot],olive:[128,128,0],yellow:[ot,ot,0],orange:[ot,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[ot,0,0],pink:[ot,192,203],cyan:[0,ot,ot],transparent:[ot,ot,ot,0]},Rg=function(e,n,s){return e+=e<0?1:e>1?-1:0,(e*6<1?n+(s-n)*e*6:e<.5?s:e*3<2?n+(s-n)*(2/3-e)*6:n)*ot+.5|0},uL=function(e,n,s){var i=e?Br(e)?[e>>16,e>>8&ot,e&ot]:0:jc.black,a,o,l,c,d,u,h,m,f,x;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),jc[e])i=jc[e];else if(e.charAt(0)==="#"){if(e.length<6&&(a=e.charAt(1),o=e.charAt(2),l=e.charAt(3),e="#"+a+a+o+o+l+l+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&ot,i&ot,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&ot,e&ot]}else if(e.substr(0,3)==="hsl"){if(i=x=e.match(yv),!n)c=+i[0]%360/360,d=+i[1]/100,u=+i[2]/100,o=u<=.5?u*(d+1):u+d-u*d,a=u*2-o,i.length>3&&(i[3]*=1),i[0]=Rg(c+1/3,a,o),i[1]=Rg(c,a,o),i[2]=Rg(c-1/3,a,o);else if(~e.indexOf("="))return i=e.match(BT),s&&i.length<4&&(i[3]=1),i}else i=e.match(yv)||jc.transparent;i=i.map(Number)}return n&&!x&&(a=i[0]/ot,o=i[1]/ot,l=i[2]/ot,h=Math.max(a,o,l),m=Math.min(a,o,l),u=(h+m)/2,h===m?c=d=0:(f=h-m,d=u>.5?f/(2-h-m):f/(h+m),c=h===a?(o-l)/f+(o<l?6:0):h===o?(l-a)/f+2:(a-o)/f+4,c*=60),i[0]=~~(c+.5),i[1]=~~(d*100+.5),i[2]=~~(u*100+.5)),s&&i.length<4&&(i[3]=1),i},hL=function(e){var n=[],s=[],i=-1;return e.split(Ei).forEach(function(a){var o=a.match(Ao)||[];n.push.apply(n,o),s.push(i+=o.length+1)}),n.c=s,n},c5=function(e,n,s){var i="",a=(e+i).match(Ei),o=n?"hsla(":"rgba(",l=0,c,d,u,h;if(!a)return e;if(a=a.map(function(m){return(m=uL(m,n,1))&&o+(n?m[0]+","+m[1]+"%,"+m[2]+"%,"+m[3]:m.join(","))+")"}),s&&(u=hL(e),c=s.c,c.join(i)!==u.c.join(i)))for(d=e.replace(Ei,"1").split(Ao),h=d.length-1;l<h;l++)i+=d[l]+(~c.indexOf(l)?a.shift()||o+"0,0,0,0)":(u.length?u:a.length?a:s).shift());if(!d)for(d=e.split(Ei),h=d.length-1;l<h;l++)i+=d[l]+a[l];return i+d[h]},Ei=function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in jc)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),TY=/hsl[a]?\(/,pL=function(e){var n=e.join(" "),s;if(Ei.lastIndex=0,Ei.test(n))return s=TY.test(n),e[1]=c5(e[1],s),e[0]=c5(e[0],s,hL(e[1])),!0},Dd,Qn=function(){var t=Date.now,e=500,n=33,s=t(),i=s,a=1e3/240,o=a,l=[],c,d,u,h,m,f,x=function g(b){var y=t()-i,v=b===!0,w,N,j,k;if((y>e||y<0)&&(s+=y-n),i+=y,j=i-s,w=j-o,(w>0||v)&&(k=++h.frame,m=j-h.time*1e3,h.time=j=j/1e3,o+=w+(w>=a?4:a-w),N=1),v||(c=d(g)),N)for(f=0;f<l.length;f++)l[f](j,m,k,b)};return h={time:0,frame:0,tick:function(){x(!0)},deltaRatio:function(b){return m/(1e3/(b||60))},wake:function(){WT&&(!bv&&I1()&&(ir=bv=window,O1=ir.document||{},is.gsap=Gn,(ir.gsapVersions||(ir.gsapVersions=[])).push(Gn.version),HT(Kp||ir.GreenSockGlobals||!ir.gsap&&ir||{}),cL.forEach(dL)),u=typeof requestAnimationFrame<"u"&&requestAnimationFrame,c&&h.sleep(),d=u||function(b){return setTimeout(b,o-h.time*1e3+1|0)},Dd=1,x(2))},sleep:function(){(u?cancelAnimationFrame:clearTimeout)(c),Dd=0,d=Od},lagSmoothing:function(b,y){e=b||1/0,n=Math.min(y||33,e)},fps:function(b){a=1e3/(b||240),o=h.time*1e3+a},add:function(b,y,v){var w=y?function(N,j,k,P){b(N,j,k,P),h.remove(w)}:b;return h.remove(b),l[v?"unshift":"push"](w),hl(),w},remove:function(b,y){~(y=l.indexOf(b))&&l.splice(y,1)&&f>=y&&f--},_listeners:l},h}(),hl=function(){return!Dd&&Qn.wake()},Xe={},LY=/^[\d.\-M][\d.\-,\s]/,AY=/["']/g,IY=function(e){for(var n={},s=e.substr(1,e.length-3).split(":"),i=s[0],a=1,o=s.length,l,c,d;a<o;a++)c=s[a],l=a!==o-1?c.lastIndexOf(","):c.length,d=c.substr(0,l),n[i]=isNaN(d)?d.replace(AY,"").trim():+d,i=c.substr(l+1).trim();return n},OY=function(e){var n=e.indexOf("(")+1,s=e.indexOf(")"),i=e.indexOf("(",n);return e.substring(n,~i&&i<s?e.indexOf(")",s+1):s)},RY=function(e){var n=(e+"").split("("),s=Xe[n[0]];return s&&n.length>1&&s.config?s.config.apply(null,~e.indexOf("{")?[IY(n[1])]:OY(e).split(",").map(XT)):Xe._CE&&LY.test(e)?Xe._CE("",e):s},mL=function(e){return function(n){return 1-e(1-n)}},fL=function t(e,n){for(var s=e._first,i;s;)s instanceof Pn?t(s,n):s.vars.yoyoEase&&(!s._yoyo||!s._repeat)&&s._yoyo!==n&&(s.timeline?t(s.timeline,n):(i=s._ease,s._ease=s._yEase,s._yEase=i,s._yoyo=n)),s=s._next},_a=function(e,n){return e&&(Ot(e)?e:Xe[e]||RY(e))||n},Xa=function(e,n,s,i){s===void 0&&(s=function(c){return 1-n(1-c)}),i===void 0&&(i=function(c){return c<.5?n(c*2)/2:1-n((1-c)*2)/2});var a={easeIn:n,easeOut:s,easeInOut:i},o;return Wn(e,function(l){Xe[l]=is[l]=a,Xe[o=l.toLowerCase()]=s;for(var c in a)Xe[o+(c==="easeIn"?".in":c==="easeOut"?".out":".inOut")]=Xe[l+"."+c]=a[c]}),a},gL=function(e){return function(n){return n<.5?(1-e(1-n*2))/2:.5+e((n-.5)*2)/2}},Dg=function t(e,n,s){var i=n>=1?n:1,a=(s||(e?.3:.45))/(n<1?n:1),o=a/vv*(Math.asin(1/i)||0),l=function(u){return u===1?1:i*Math.pow(2,-10*u)*dY((u-o)*a)+1},c=e==="out"?l:e==="in"?function(d){return 1-l(1-d)}:gL(l);return a=vv/a,c.config=function(d,u){return t(e,d,u)},c},$g=function t(e,n){n===void 0&&(n=1.70158);var s=function(o){return o?--o*o*((n+1)*o+n)+1:0},i=e==="out"?s:e==="in"?function(a){return 1-s(1-a)}:gL(s);return i.config=function(a){return t(e,a)},i};Wn("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var n=e<5?e+1:e;Xa(t+",Power"+(n-1),e?function(s){return Math.pow(s,n)}:function(s){return s},function(s){return 1-Math.pow(1-s,n)},function(s){return s<.5?Math.pow(s*2,n)/2:1-Math.pow((1-s)*2,n)/2})});Xe.Linear.easeNone=Xe.none=Xe.Linear.easeIn;Xa("Elastic",Dg("in"),Dg("out"),Dg());(function(t,e){var n=1/e,s=2*n,i=2.5*n,a=function(l){return l<n?t*l*l:l<s?t*Math.pow(l-1.5/e,2)+.75:l<i?t*(l-=2.25/e)*l+.9375:t*Math.pow(l-2.625/e,2)+.984375};Xa("Bounce",function(o){return 1-a(1-o)},a)})(7.5625,2.75);Xa("Expo",function(t){return Math.pow(2,10*(t-1))*t+t*t*t*t*t*t*(1-t)});Xa("Circ",function(t){return-(FT(1-t*t)-1)});Xa("Sine",function(t){return t===1?1:-cY(t*oY)+1});Xa("Back",$g("in"),$g("out"),$g());Xe.SteppedEase=Xe.steps=is.SteppedEase={config:function(e,n){e===void 0&&(e=1);var s=1/e,i=e+(n?0:1),a=n?1:0,o=1-lt;return function(l){return((i*hu(0,o,l)|0)+a)*s}}};ll.ease=Xe["quad.out"];Wn("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return $1+=t+","+t+"Params,"});var xL=function(e,n){this.id=lY++,e._gsap=this,this.target=e,this.harness=n,this.get=n?n.get:KT,this.set=n?n.getSetter:W1},$d=function(){function t(n){this.vars=n,this._delay=+n.delay||0,(this._repeat=n.repeat===1/0?-2:n.repeat||0)&&(this._rDelay=n.repeatDelay||0,this._yoyo=!!n.yoyo||!!n.yoyoEase),this._ts=1,ul(this,+n.duration,1,1),this.data=n.data,vt&&(this._ctx=vt,vt.data.push(this)),Dd||Qn.wake()}var e=t.prototype;return e.delay=function(s){return s||s===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+s-this._delay),this._delay=s,this):this._delay},e.duration=function(s){return arguments.length?this.totalDuration(this._repeat>0?s+(s+this._rDelay)*this._repeat:s):this.totalDuration()&&this._dur},e.totalDuration=function(s){return arguments.length?(this._dirty=0,ul(this,this._repeat<0?s:(s-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(s,i){if(hl(),!arguments.length)return this._tTime;var a=this._dp;if(a&&a.smoothChildTiming&&this._ts){for(lf(this,s),!a._dp||a.parent||JT(a,this);a&&a.parent;)a.parent._time!==a._start+(a._ts>=0?a._tTime/a._ts:(a.totalDuration()-a._tTime)/-a._ts)&&a.totalTime(a._tTime,!0),a=a.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&s<this._tDur||this._ts<0&&s>0||!this._tDur&&!s)&&or(this._dp,this,this._start-this._delay)}return(this._tTime!==s||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===lt||!s&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=s),YT(this,s,i)),this},e.time=function(s,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),s+a5(this))%(this._dur+this._rDelay)||(s?this._dur:0),i):this._time},e.totalProgress=function(s,i){return arguments.length?this.totalTime(this.totalDuration()*s,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(s,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-s:s)+a5(this),i):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(s,i){var a=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(s-1)*a,i):this._repeat?dl(this._tTime,a)+1:1},e.timeScale=function(s,i){if(!arguments.length)return this._rts===-lt?0:this._rts;if(this._rts===s)return this;var a=this.parent&&this._ts?Zp(this.parent._time,this):this._tTime;return this._rts=+s||0,this._ts=this._ps||s===-lt?0:this._rts,this.totalTime(hu(-Math.abs(this._delay),this.totalDuration(),a),i!==!1),of(this),xY(this)},e.paused=function(s){return arguments.length?(this._ps!==s&&(this._ps=s,s?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(hl(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==lt&&(this._tTime-=lt)))),this):this._ps},e.startTime=function(s){if(arguments.length){this._start=s;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&or(i,this,s-this._delay),this}return this._start},e.endTime=function(s){return this._start+(Un(s)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(s){var i=this.parent||this._dp;return i?s&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Zp(i.rawTime(s),this):this._tTime:this._tTime},e.revert=function(s){s===void 0&&(s=pY);var i=cn;return cn=s,z1(this)&&(this.timeline&&this.timeline.revert(s),this.totalTime(-.01,s.suppressEvents)),this.data!=="nested"&&s.kill!==!1&&this.kill(),cn=i,this},e.globalTime=function(s){for(var i=this,a=arguments.length?s:i.rawTime();i;)a=i._start+a/(Math.abs(i._ts)||1),i=i._dp;return!this.parent&&this._sat?this._sat.globalTime(s):a},e.repeat=function(s){return arguments.length?(this._repeat=s===1/0?-2:s,o5(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(s){if(arguments.length){var i=this._time;return this._rDelay=s,o5(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(s){return arguments.length?(this._yoyo=s,this):this._yoyo},e.seek=function(s,i){return this.totalTime(ms(this,s),Un(i))},e.restart=function(s,i){return this.play().totalTime(s?-this._delay:0,Un(i)),this._dur||(this._zTime=-lt),this},e.play=function(s,i){return s!=null&&this.seek(s,i),this.reversed(!1).paused(!1)},e.reverse=function(s,i){return s!=null&&this.seek(s||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(s,i){return s!=null&&this.seek(s,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(s){return arguments.length?(!!s!==this.reversed()&&this.timeScale(-this._rts||(s?-lt:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-lt,this},e.isActive=function(){var s=this.parent||this._dp,i=this._start,a;return!!(!s||this._ts&&this._initted&&s.isActive()&&(a=s.rawTime(!0))>=i&&a<this.endTime(!0)-lt)},e.eventCallback=function(s,i,a){var o=this.vars;return arguments.length>1?(i?(o[s]=i,a&&(o[s+"Params"]=a),s==="onUpdate"&&(this._onUpdate=i)):delete o[s],this):o[s]},e.then=function(s){var i=this;return new Promise(function(a){var o=Ot(s)?s:ZT,l=function(){var d=i.then;i.then=null,Ot(o)&&(o=o(i))&&(o.then||o===i)&&(i.then=d),a(o),i.then=d};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?l():i._prom=l})},e.kill=function(){wc(this)},t}();as($d.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-lt,_prom:0,_ps:!1,_rts:1});var Pn=function(t){$T(e,t);function e(s,i){var a;return s===void 0&&(s={}),a=t.call(this,s)||this,a.labels={},a.smoothChildTiming=!!s.smoothChildTiming,a.autoRemoveChildren=!!s.autoRemoveChildren,a._sort=Un(s.sortChildren),Nt&&or(s.parent||Nt,Cr(a),i),s.reversed&&a.reverse(),s.paused&&a.paused(!0),s.scrollTrigger&&eL(Cr(a),s.scrollTrigger),a}var n=e.prototype;return n.to=function(i,a,o){return Yc(0,arguments,this),this},n.from=function(i,a,o){return Yc(1,arguments,this),this},n.fromTo=function(i,a,o,l){return Yc(2,arguments,this),this},n.set=function(i,a,o){return a.duration=0,a.parent=this,Kc(a).repeatDelay||(a.repeat=0),a.immediateRender=!!a.immediateRender,new Vt(i,a,ms(this,o),1),this},n.call=function(i,a,o){return or(this,Vt.delayedCall(0,i,a),o)},n.staggerTo=function(i,a,o,l,c,d,u){return o.duration=a,o.stagger=o.stagger||l,o.onComplete=d,o.onCompleteParams=u,o.parent=this,new Vt(i,o,ms(this,c)),this},n.staggerFrom=function(i,a,o,l,c,d,u){return o.runBackwards=1,Kc(o).immediateRender=Un(o.immediateRender),this.staggerTo(i,a,o,l,c,d,u)},n.staggerFromTo=function(i,a,o,l,c,d,u,h){return l.startAt=o,Kc(l).immediateRender=Un(l.immediateRender),this.staggerTo(i,a,l,c,d,u,h)},n.render=function(i,a,o){var l=this._time,c=this._dirty?this.totalDuration():this._tDur,d=this._dur,u=i<=0?0:Ut(i),h=this._zTime<0!=i<0&&(this._initted||!d),m,f,x,g,b,y,v,w,N,j,k,P;if(this!==Nt&&u>c&&i>=0&&(u=c),u!==this._tTime||o||h){if(l!==this._time&&d&&(u+=this._time-l,i+=this._time-l),m=u,N=this._start,w=this._ts,y=!w,h&&(d||(l=this._zTime),(i||!a)&&(this._zTime=i)),this._repeat){if(k=this._yoyo,b=d+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(b*100+i,a,o);if(m=Ut(u%b),u===c?(g=this._repeat,m=d):(j=Ut(u/b),g=~~j,g&&g===j&&(m=d,g--),m>d&&(m=d)),j=dl(this._tTime,b),!l&&this._tTime&&j!==g&&this._tTime-j*b-this._dur<=0&&(j=g),k&&g&1&&(m=d-m,P=1),g!==j&&!this._lock){var S=k&&j&1,E=S===(k&&g&1);if(g<j&&(S=!S),l=S?0:u%d?d:u,this._lock=1,this.render(l||(P?0:Ut(g*b)),a,!d)._lock=0,this._tTime=u,!a&&this.parent&&es(this,"onRepeat"),this.vars.repeatRefresh&&!P&&(this.invalidate()._lock=1),l&&l!==this._time||y!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(d=this._dur,c=this._tDur,E&&(this._lock=2,l=S?d:-1e-4,this.render(l,!0),this.vars.repeatRefresh&&!P&&this.invalidate()),this._lock=0,!this._ts&&!y)return this;fL(this,P)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(v=wY(this,Ut(l),Ut(m)),v&&(u-=m-(m=v._start))),this._tTime=u,this._time=m,this._act=!w,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,l=0),!l&&u&&!a&&!j&&(es(this,"onStart"),this._tTime!==u))return this;if(m>=l&&i>=0)for(f=this._first;f;){if(x=f._next,(f._act||m>=f._start)&&f._ts&&v!==f){if(f.parent!==this)return this.render(i,a,o);if(f.render(f._ts>0?(m-f._start)*f._ts:(f._dirty?f.totalDuration():f._tDur)+(m-f._start)*f._ts,a,o),m!==this._time||!this._ts&&!y){v=0,x&&(u+=this._zTime=-lt);break}}f=x}else{f=this._last;for(var T=i<0?i:m;f;){if(x=f._prev,(f._act||T<=f._end)&&f._ts&&v!==f){if(f.parent!==this)return this.render(i,a,o);if(f.render(f._ts>0?(T-f._start)*f._ts:(f._dirty?f.totalDuration():f._tDur)+(T-f._start)*f._ts,a,o||cn&&z1(f)),m!==this._time||!this._ts&&!y){v=0,x&&(u+=this._zTime=T?-lt:lt);break}}f=x}}if(v&&!a&&(this.pause(),v.render(m>=l?0:-lt)._zTime=m>=l?1:-1,this._ts))return this._start=N,of(this),this.render(i,a,o);this._onUpdate&&!a&&es(this,"onUpdate",!0),(u===c&&this._tTime>=this.totalDuration()||!u&&l)&&(N===this._start||Math.abs(w)!==Math.abs(this._ts))&&(this._lock||((i||!d)&&(u===c&&this._ts>0||!u&&this._ts<0)&&Ri(this,1),!a&&!(i<0&&!l)&&(u||l||!c)&&(es(this,u===c&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(u<c&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(i,a){var o=this;if(Br(a)||(a=ms(this,a,i)),!(i instanceof $d)){if(wn(i))return i.forEach(function(l){return o.add(l,a)}),this;if(nn(i))return this.addLabel(i,a);if(Ot(i))i=Vt.delayedCall(0,i);else return this}return this!==i?or(this,i,a):this},n.getChildren=function(i,a,o,l){i===void 0&&(i=!0),a===void 0&&(a=!0),o===void 0&&(o=!0),l===void 0&&(l=-Ns);for(var c=[],d=this._first;d;)d._start>=l&&(d instanceof Vt?a&&c.push(d):(o&&c.push(d),i&&c.push.apply(c,d.getChildren(!0,a,o)))),d=d._next;return c},n.getById=function(i){for(var a=this.getChildren(1,1,1),o=a.length;o--;)if(a[o].vars.id===i)return a[o]},n.remove=function(i){return nn(i)?this.removeLabel(i):Ot(i)?this.killTweensOf(i):(i.parent===this&&af(this,i),i===this._recent&&(this._recent=this._last),Ea(this))},n.totalTime=function(i,a){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Ut(Qn.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),t.prototype.totalTime.call(this,i,a),this._forcing=0,this):this._tTime},n.addLabel=function(i,a){return this.labels[i]=ms(this,a),this},n.removeLabel=function(i){return delete this.labels[i],this},n.addPause=function(i,a,o){var l=Vt.delayedCall(0,a||Od,o);return l.data="isPause",this._hasPause=1,or(this,l,ms(this,i))},n.removePause=function(i){var a=this._first;for(i=ms(this,i);a;)a._start===i&&a.data==="isPause"&&Ri(a),a=a._next},n.killTweensOf=function(i,a,o){for(var l=this.getTweensOf(i,o),c=l.length;c--;)ui!==l[c]&&l[c].kill(i,a);return this},n.getTweensOf=function(i,a){for(var o=[],l=ks(i),c=this._first,d=Br(a),u;c;)c instanceof Vt?mY(c._targets,l)&&(d?(!ui||c._initted&&c._ts)&&c.globalTime(0)<=a&&c.globalTime(c.totalDuration())>a:!a||c.isActive())&&o.push(c):(u=c.getTweensOf(l,a)).length&&o.push.apply(o,u),c=c._next;return o},n.tweenTo=function(i,a){a=a||{};var o=this,l=ms(o,i),c=a,d=c.startAt,u=c.onStart,h=c.onStartParams,m=c.immediateRender,f,x=Vt.to(o,as({ease:a.ease||"none",lazy:!1,immediateRender:!1,time:l,overwrite:"auto",duration:a.duration||Math.abs((l-(d&&"time"in d?d.time:o._time))/o.timeScale())||lt,onStart:function(){if(o.pause(),!f){var b=a.duration||Math.abs((l-(d&&"time"in d?d.time:o._time))/o.timeScale());x._dur!==b&&ul(x,b,0,1).render(x._time,!0,!0),f=1}u&&u.apply(x,h||[])}},a));return m?x.render(0):x},n.tweenFromTo=function(i,a,o){return this.tweenTo(a,as({startAt:{time:ms(this,i)}},o))},n.recent=function(){return this._recent},n.nextLabel=function(i){return i===void 0&&(i=this._time),l5(this,ms(this,i))},n.previousLabel=function(i){return i===void 0&&(i=this._time),l5(this,ms(this,i),1)},n.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+lt)},n.shiftChildren=function(i,a,o){o===void 0&&(o=0);for(var l=this._first,c=this.labels,d;l;)l._start>=o&&(l._start+=i,l._end+=i),l=l._next;if(a)for(d in c)c[d]>=o&&(c[d]+=i);return Ea(this)},n.invalidate=function(i){var a=this._first;for(this._lock=0;a;)a.invalidate(i),a=a._next;return t.prototype.invalidate.call(this,i)},n.clear=function(i){i===void 0&&(i=!0);for(var a=this._first,o;a;)o=a._next,this.remove(a),a=o;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),Ea(this)},n.totalDuration=function(i){var a=0,o=this,l=o._last,c=Ns,d,u,h;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-i:i));if(o._dirty){for(h=o.parent;l;)d=l._prev,l._dirty&&l.totalDuration(),u=l._start,u>c&&o._sort&&l._ts&&!o._lock?(o._lock=1,or(o,l,u-l._delay,1)._lock=0):c=u,u<0&&l._ts&&(a-=u,(!h&&!o._dp||h&&h.smoothChildTiming)&&(o._start+=u/o._ts,o._time-=u,o._tTime-=u),o.shiftChildren(-u,!1,-1/0),c=0),l._end>a&&l._ts&&(a=l._end),l=d;ul(o,o===Nt&&o._time>a?o._time:a,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(i){if(Nt._ts&&(YT(Nt,Zp(i,Nt)),GT=Qn.frame),Qn.frame>=r5){r5+=ns.autoSleep||120;var a=Nt._first;if((!a||!a._ts)&&ns.autoSleep&&Qn._listeners.length<2){for(;a&&!a._ts;)a=a._next;a||Qn.sleep()}}},e}($d);as(Pn.prototype,{_lock:0,_hasPause:0,_forcing:0});var DY=function(e,n,s,i,a,o,l){var c=new Hn(this._pt,e,n,0,1,NL,null,a),d=0,u=0,h,m,f,x,g,b,y,v;for(c.b=s,c.e=i,s+="",i+="",(y=~i.indexOf("random("))&&(i=Rd(i)),o&&(v=[s,i],o(v,e,n),s=v[0],i=v[1]),m=s.match(Ig)||[];h=Ig.exec(i);)x=h[0],g=i.substring(d,h.index),f?f=(f+1)%5:g.substr(-5)==="rgba("&&(f=1),x!==m[u++]&&(b=parseFloat(m[u-1])||0,c._pt={_next:c._pt,p:g||u===1?g:",",s:b,c:x.charAt(1)==="="?Ho(b,x)-b:parseFloat(x)-b,m:f&&f<4?Math.round:0},d=Ig.lastIndex);return c.c=d<i.length?i.substring(d,i.length):"",c.fp=l,(VT.test(i)||y)&&(c.e=0),this._pt=c,c},B1=function(e,n,s,i,a,o,l,c,d,u){Ot(i)&&(i=i(a||0,e,o));var h=e[n],m=s!=="get"?s:Ot(h)?d?e[n.indexOf("set")||!Ot(e["get"+n.substr(3)])?n:"get"+n.substr(3)](d):e[n]():h,f=Ot(h)?d?VY:wL:U1,x;if(nn(i)&&(~i.indexOf("random(")&&(i=Rd(i)),i.charAt(1)==="="&&(x=Ho(m,i)+(vn(m)||0),(x||x===0)&&(i=x))),!u||m!==i||Pv)return!isNaN(m*i)&&i!==""?(x=new Hn(this._pt,e,n,+m||0,i-(m||0),typeof h=="boolean"?WY:jL,0,f),d&&(x.fp=d),l&&x.modifier(l,this,e),this._pt=x):(!h&&!(n in e)&&R1(n,i),DY.call(this,e,n,m,i,f,c||ns.stringFilter,d))},$Y=function(e,n,s,i,a){if(Ot(e)&&(e=Xc(e,a,n,s,i)),!vr(e)||e.style&&e.nodeType||wn(e)||zT(e))return nn(e)?Xc(e,a,n,s,i):e;var o={},l;for(l in e)o[l]=Xc(e[l],a,n,s,i);return o},vL=function(e,n,s,i,a,o){var l,c,d,u;if(Xn[e]&&(l=new Xn[e]).init(a,l.rawVars?n[e]:$Y(n[e],i,a,o,s),s,i,o)!==!1&&(s._pt=c=new Hn(s._pt,a,e,0,1,l.render,l,0,l.priority),s!==Io))for(d=s._ptLookup[s._targets.indexOf(a)],u=l._props.length;u--;)d[l._props[u]]=c;return l},ui,Pv,V1=function t(e,n,s){var i=e.vars,a=i.ease,o=i.startAt,l=i.immediateRender,c=i.lazy,d=i.onUpdate,u=i.runBackwards,h=i.yoyoEase,m=i.keyframes,f=i.autoRevert,x=e._dur,g=e._startAt,b=e._targets,y=e.parent,v=y&&y.data==="nested"?y.vars.targets:b,w=e._overwrite==="auto"&&!L1,N=e.timeline,j,k,P,S,E,T,W,F,D,A,_,z,I;if(N&&(!m||!a)&&(a="none"),e._ease=_a(a,ll.ease),e._yEase=h?mL(_a(h===!0?a:h,ll.ease)):0,h&&e._yoyo&&!e._repeat&&(h=e._yEase,e._yEase=e._ease,e._ease=h),e._from=!N&&!!i.runBackwards,!N||m&&!i.stagger){if(F=b[0]?Pa(b[0]).harness:0,z=F&&i[F.prop],j=Xp(i,D1),g&&(g._zTime<0&&g.progress(1),n<0&&u&&l&&!f?g.render(-1,!0):g.revert(u&&x?Kh:hY),g._lazy=0),o){if(Ri(e._startAt=Vt.set(b,as({data:"isStart",overwrite:!1,parent:y,immediateRender:!0,lazy:!g&&Un(c),startAt:null,delay:0,onUpdate:d&&function(){return es(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,n<0&&(cn||!l&&!f)&&e._startAt.revert(Kh),l&&x&&n<=0&&s<=0){n&&(e._zTime=n);return}}else if(u&&x&&!g){if(n&&(l=!1),P=as({overwrite:!1,data:"isFromStart",lazy:l&&!g&&Un(c),immediateRender:l,stagger:0,parent:y},j),z&&(P[F.prop]=z),Ri(e._startAt=Vt.set(b,P)),e._startAt._dp=0,e._startAt._sat=e,n<0&&(cn?e._startAt.revert(Kh):e._startAt.render(-1,!0)),e._zTime=n,!l)t(e._startAt,lt,lt);else if(!n)return}for(e._pt=e._ptCache=0,c=x&&Un(c)||c&&!x,k=0;k<b.length;k++){if(E=b[k],W=E._gsap||F1(b)[k]._gsap,e._ptLookup[k]=A={},wv[W.id]&&Pi.length&&Yp(),_=v===b?k:v.indexOf(E),F&&(D=new F).init(E,z||j,e,_,v)!==!1&&(e._pt=S=new Hn(e._pt,E,D.name,0,1,D.render,D,0,D.priority),D._props.forEach(function(M){A[M]=S}),D.priority&&(T=1)),!F||z)for(P in j)Xn[P]&&(D=vL(P,j,e,_,E,v))?D.priority&&(T=1):A[P]=S=B1.call(e,E,P,"get",j[P],_,v,0,i.stringFilter);e._op&&e._op[k]&&e.kill(E,e._op[k]),w&&e._pt&&(ui=e,Nt.killTweensOf(E,A,e.globalTime(n)),I=!e.parent,ui=0),e._pt&&c&&(wv[W.id]=1)}T&&kL(e),e._onInit&&e._onInit(e)}e._onUpdate=d,e._initted=(!e._op||e._pt)&&!I,m&&n<=0&&N.render(Ns,!0,!0)},FY=function(e,n,s,i,a,o,l,c){var d=(e._pt&&e._ptCache||(e._ptCache={}))[n],u,h,m,f;if(!d)for(d=e._ptCache[n]=[],m=e._ptLookup,f=e._targets.length;f--;){if(u=m[f][n],u&&u.d&&u.d._pt)for(u=u.d._pt;u&&u.p!==n&&u.fp!==n;)u=u._next;if(!u)return Pv=1,e.vars[n]="+=0",V1(e,l),Pv=0,c?Id(n+" not eligible for reset"):1;d.push(u)}for(f=d.length;f--;)h=d[f],u=h._pt||h,u.s=(i||i===0)&&!a?i:u.s+(i||0)+o*u.c,u.c=s-u.s,h.e&&(h.e=$t(s)+vn(h.e)),h.b&&(h.b=u.s+vn(h.b))},zY=function(e,n){var s=e[0]?Pa(e[0]).harness:0,i=s&&s.aliases,a,o,l,c;if(!i)return n;a=cl({},n);for(o in i)if(o in a)for(c=i[o].split(","),l=c.length;l--;)a[c[l]]=a[o];return a},BY=function(e,n,s,i){var a=n.ease||i||"power1.inOut",o,l;if(wn(n))l=s[e]||(s[e]=[]),n.forEach(function(c,d){return l.push({t:d/(n.length-1)*100,v:c,e:a})});else for(o in n)l=s[o]||(s[o]=[]),o==="ease"||l.push({t:parseFloat(e),v:n[o],e:a})},Xc=function(e,n,s,i,a){return Ot(e)?e.call(n,s,i,a):nn(e)&&~e.indexOf("random(")?Rd(e):e},yL=$1+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",bL={};Wn(yL+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return bL[t]=1});var Vt=function(t){$T(e,t);function e(s,i,a,o){var l;typeof i=="number"&&(a.duration=i,i=a,a=null),l=t.call(this,o?i:Kc(i))||this;var c=l.vars,d=c.duration,u=c.delay,h=c.immediateRender,m=c.stagger,f=c.overwrite,x=c.keyframes,g=c.defaults,b=c.scrollTrigger,y=c.yoyoEase,v=i.parent||Nt,w=(wn(s)||zT(s)?Br(s[0]):"length"in i)?[s]:ks(s),N,j,k,P,S,E,T,W;if(l._targets=w.length?F1(w):Id("GSAP target "+s+" not found. https://gsap.com",!ns.nullTargetWarn)||[],l._ptLookup=[],l._overwrite=f,x||m||eh(d)||eh(u)){if(i=l.vars,N=l.timeline=new Pn({data:"nested",defaults:g||{},targets:v&&v.data==="nested"?v.vars.targets:w}),N.kill(),N.parent=N._dp=Cr(l),N._start=0,m||eh(d)||eh(u)){if(P=w.length,T=m&&rL(m),vr(m))for(S in m)~yL.indexOf(S)&&(W||(W={}),W[S]=m[S]);for(j=0;j<P;j++)k=Xp(i,bL),k.stagger=0,y&&(k.yoyoEase=y),W&&cl(k,W),E=w[j],k.duration=+Xc(d,Cr(l),j,E,w),k.delay=(+Xc(u,Cr(l),j,E,w)||0)-l._delay,!m&&P===1&&k.delay&&(l._delay=u=k.delay,l._start+=u,k.delay=0),N.to(E,k,T?T(j,E,w):0),N._ease=Xe.none;N.duration()?d=u=0:l.timeline=0}else if(x){Kc(as(N.vars.defaults,{ease:"none"})),N._ease=_a(x.ease||i.ease||"none");var F=0,D,A,_;if(wn(x))x.forEach(function(z){return N.to(w,z,">")}),N.duration();else{k={};for(S in x)S==="ease"||S==="easeEach"||BY(S,x[S],k,x.easeEach);for(S in k)for(D=k[S].sort(function(z,I){return z.t-I.t}),F=0,j=0;j<D.length;j++)A=D[j],_={ease:A.e,duration:(A.t-(j?D[j-1].t:0))/100*d},_[S]=A.v,N.to(w,_,F),F+=_.duration;N.duration()<d&&N.to({},{duration:d-N.duration()})}}d||l.duration(d=N.duration())}else l.timeline=0;return f===!0&&!L1&&(ui=Cr(l),Nt.killTweensOf(w),ui=0),or(v,Cr(l),a),i.reversed&&l.reverse(),i.paused&&l.paused(!0),(h||!d&&!x&&l._start===Ut(v._time)&&Un(h)&&vY(Cr(l))&&v.data!=="nested")&&(l._tTime=-lt,l.render(Math.max(0,-u)||0)),b&&eL(Cr(l),b),l}var n=e.prototype;return n.render=function(i,a,o){var l=this._time,c=this._tDur,d=this._dur,u=i<0,h=i>c-lt&&!u?c:i<lt?0:i,m,f,x,g,b,y,v,w,N;if(!d)bY(this,i,a,o);else if(h!==this._tTime||!i||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==u||this._lazy){if(m=h,w=this.timeline,this._repeat){if(g=d+this._rDelay,this._repeat<-1&&u)return this.totalTime(g*100+i,a,o);if(m=Ut(h%g),h===c?(x=this._repeat,m=d):(b=Ut(h/g),x=~~b,x&&x===b?(m=d,x--):m>d&&(m=d)),y=this._yoyo&&x&1,y&&(N=this._yEase,m=d-m),b=dl(this._tTime,g),m===l&&!o&&this._initted&&x===b)return this._tTime=h,this;x!==b&&(w&&this._yEase&&fL(w,y),this.vars.repeatRefresh&&!y&&!this._lock&&m!==g&&this._initted&&(this._lock=o=1,this.render(Ut(g*x),!0).invalidate()._lock=0))}if(!this._initted){if(tL(this,u?i:m,o,a,h))return this._tTime=0,this;if(l!==this._time&&!(o&&this.vars.repeatRefresh&&x!==b))return this;if(d!==this._dur)return this.render(i,a,o)}if(this._tTime=h,this._time=m,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=v=(N||this._ease)(m/d),this._from&&(this.ratio=v=1-v),!l&&h&&!a&&!b&&(es(this,"onStart"),this._tTime!==h))return this;for(f=this._pt;f;)f.r(v,f.d),f=f._next;w&&w.render(i<0?i:w._dur*w._ease(m/this._dur),a,o)||this._startAt&&(this._zTime=i),this._onUpdate&&!a&&(u&&jv(this,i,a,o),es(this,"onUpdate")),this._repeat&&x!==b&&this.vars.onRepeat&&!a&&this.parent&&es(this,"onRepeat"),(h===this._tDur||!h)&&this._tTime===h&&(u&&!this._onUpdate&&jv(this,i,!0,!0),(i||!d)&&(h===this._tDur&&this._ts>0||!h&&this._ts<0)&&Ri(this,1),!a&&!(u&&!l)&&(h||l||y)&&(es(this,h===c?"onComplete":"onReverseComplete",!0),this._prom&&!(h<c&&this.timeScale()>0)&&this._prom()))}return this},n.targets=function(){return this._targets},n.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),t.prototype.invalidate.call(this,i)},n.resetTo=function(i,a,o,l,c){Dd||Qn.wake(),this._ts||this.play();var d=Math.min(this._dur,(this._dp._time-this._start)*this._ts),u;return this._initted||V1(this,d),u=this._ease(d/this._dur),FY(this,i,a,o,l,u,d,c)?this.resetTo(i,a,o,l,1):(lf(this,0),this.parent||QT(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(i,a){if(a===void 0&&(a="all"),!i&&(!a||a==="all"))return this._lazy=this._pt=0,this.parent?wc(this):this.scrollTrigger&&this.scrollTrigger.kill(!!cn),this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(i,a,ui&&ui.vars.overwrite!==!0)._first||wc(this),this.parent&&o!==this.timeline.totalDuration()&&ul(this,this._dur*this.timeline._tDur/o,0,1),this}var l=this._targets,c=i?ks(i):l,d=this._ptLookup,u=this._pt,h,m,f,x,g,b,y;if((!a||a==="all")&&gY(l,c))return a==="all"&&(this._pt=0),wc(this);for(h=this._op=this._op||[],a!=="all"&&(nn(a)&&(g={},Wn(a,function(v){return g[v]=1}),a=g),a=zY(l,a)),y=l.length;y--;)if(~c.indexOf(l[y])){m=d[y],a==="all"?(h[y]=a,x=m,f={}):(f=h[y]=h[y]||{},x=a);for(g in x)b=m&&m[g],b&&((!("kill"in b.d)||b.d.kill(g)===!0)&&af(this,b,"_pt"),delete m[g]),f!=="all"&&(f[g]=1)}return this._initted&&!this._pt&&u&&wc(this),this},e.to=function(i,a){return new e(i,a,arguments[2])},e.from=function(i,a){return Yc(1,arguments)},e.delayedCall=function(i,a,o,l){return new e(a,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:a,onReverseComplete:a,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:l})},e.fromTo=function(i,a,o){return Yc(2,arguments)},e.set=function(i,a){return a.duration=0,a.repeatDelay||(a.repeat=0),new e(i,a)},e.killTweensOf=function(i,a,o){return Nt.killTweensOf(i,a,o)},e}($d);as(Vt.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Wn("staggerTo,staggerFrom,staggerFromTo",function(t){Vt[t]=function(){var e=new Pn,n=kv.call(arguments,0);return n.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,n)}});var U1=function(e,n,s){return e[n]=s},wL=function(e,n,s){return e[n](s)},VY=function(e,n,s,i){return e[n](i.fp,s)},UY=function(e,n,s){return e.setAttribute(n,s)},W1=function(e,n){return Ot(e[n])?wL:A1(e[n])&&e.setAttribute?UY:U1},jL=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e6)/1e6,n)},WY=function(e,n){return n.set(n.t,n.p,!!(n.s+n.c*e),n)},NL=function(e,n){var s=n._pt,i="";if(!e&&n.b)i=n.b;else if(e===1&&n.e)i=n.e;else{for(;s;)i=s.p+(s.m?s.m(s.s+s.c*e):Math.round((s.s+s.c*e)*1e4)/1e4)+i,s=s._next;i+=n.c}n.set(n.t,n.p,i,n)},H1=function(e,n){for(var s=n._pt;s;)s.r(e,s.d),s=s._next},HY=function(e,n,s,i){for(var a=this._pt,o;a;)o=a._next,a.p===i&&a.modifier(e,n,s),a=o},qY=function(e){for(var n=this._pt,s,i;n;)i=n._next,n.p===e&&!n.op||n.op===e?af(this,n,"_pt"):n.dep||(s=1),n=i;return!s},GY=function(e,n,s,i){i.mSet(e,n,i.m.call(i.tween,s,i.mt),i)},kL=function(e){for(var n=e._pt,s,i,a,o;n;){for(s=n._next,i=a;i&&i.pr>n.pr;)i=i._next;(n._prev=i?i._prev:o)?n._prev._next=n:a=n,(n._next=i)?i._prev=n:o=n,n=s}e._pt=a},Hn=function(){function t(n,s,i,a,o,l,c,d,u){this.t=s,this.s=a,this.c=o,this.p=i,this.r=l||jL,this.d=c||this,this.set=d||U1,this.pr=u||0,this._next=n,n&&(n._prev=this)}var e=t.prototype;return e.modifier=function(s,i,a){this.mSet=this.mSet||this.set,this.set=GY,this.m=s,this.mt=a,this.tween=i},t}();Wn($1+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return D1[t]=1});is.TweenMax=is.TweenLite=Vt;is.TimelineLite=is.TimelineMax=Pn;Nt=new Pn({sortChildren:!1,defaults:ll,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});ns.stringFilter=pL;var Ma=[],Xh={},KY=[],d5=0,YY=0,Fg=function(e){return(Xh[e]||KY).map(function(n){return n()})},Ev=function(){var e=Date.now(),n=[];e-d5>2&&(Fg("matchMediaInit"),Ma.forEach(function(s){var i=s.queries,a=s.conditions,o,l,c,d;for(l in i)o=ir.matchMedia(i[l]).matches,o&&(c=1),o!==a[l]&&(a[l]=o,d=1);d&&(s.revert(),c&&n.push(s))}),Fg("matchMediaRevert"),n.forEach(function(s){return s.onMatch(s,function(i){return s.add(null,i)})}),d5=e,Fg("matchMedia"))},SL=function(){function t(n,s){this.selector=s&&Sv(s),this.data=[],this._r=[],this.isReverted=!1,this.id=YY++,n&&this.add(n)}var e=t.prototype;return e.add=function(s,i,a){Ot(s)&&(a=i,i=s,s=Ot);var o=this,l=function(){var d=vt,u=o.selector,h;return d&&d!==o&&d.data.push(o),a&&(o.selector=Sv(a)),vt=o,h=i.apply(o,arguments),Ot(h)&&o._r.push(h),vt=d,o.selector=u,o.isReverted=!1,h};return o.last=l,s===Ot?l(o,function(c){return o.add(null,c)}):s?o[s]=l:l},e.ignore=function(s){var i=vt;vt=null,s(this),vt=i},e.getTweens=function(){var s=[];return this.data.forEach(function(i){return i instanceof t?s.push.apply(s,i.getTweens()):i instanceof Vt&&!(i.parent&&i.parent.data==="nested")&&s.push(i)}),s},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(s,i){var a=this;if(s?function(){for(var l=a.getTweens(),c=a.data.length,d;c--;)d=a.data[c],d.data==="isFlip"&&(d.revert(),d.getChildren(!0,!0,!1).forEach(function(u){return l.splice(l.indexOf(u),1)}));for(l.map(function(u){return{g:u._dur||u._delay||u._sat&&!u._sat.vars.immediateRender?u.globalTime(0):-1/0,t:u}}).sort(function(u,h){return h.g-u.g||-1/0}).forEach(function(u){return u.t.revert(s)}),c=a.data.length;c--;)d=a.data[c],d instanceof Pn?d.data!=="nested"&&(d.scrollTrigger&&d.scrollTrigger.revert(),d.kill()):!(d instanceof Vt)&&d.revert&&d.revert(s);a._r.forEach(function(u){return u(s,a)}),a.isReverted=!0}():this.data.forEach(function(l){return l.kill&&l.kill()}),this.clear(),i)for(var o=Ma.length;o--;)Ma[o].id===this.id&&Ma.splice(o,1)},e.revert=function(s){this.kill(s||{})},t}(),XY=function(){function t(n){this.contexts=[],this.scope=n,vt&&vt.data.push(this)}var e=t.prototype;return e.add=function(s,i,a){vr(s)||(s={matches:s});var o=new SL(0,a||this.scope),l=o.conditions={},c,d,u;vt&&!o.selector&&(o.selector=vt.selector),this.contexts.push(o),i=o.add("onMatch",i),o.queries=s;for(d in s)d==="all"?u=1:(c=ir.matchMedia(s[d]),c&&(Ma.indexOf(o)<0&&Ma.push(o),(l[d]=c.matches)&&(u=1),c.addListener?c.addListener(Ev):c.addEventListener("change",Ev)));return u&&i(o,function(h){return o.add(null,h)}),this},e.revert=function(s){this.kill(s||{})},e.kill=function(s){this.contexts.forEach(function(i){return i.kill(s,!0)})},t}(),Qp={registerPlugin:function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];n.forEach(function(i){return dL(i)})},timeline:function(e){return new Pn(e)},getTweensOf:function(e,n){return Nt.getTweensOf(e,n)},getProperty:function(e,n,s,i){nn(e)&&(e=ks(e)[0]);var a=Pa(e||{}).get,o=s?ZT:XT;return s==="native"&&(s=""),e&&(n?o((Xn[n]&&Xn[n].get||a)(e,n,s,i)):function(l,c,d){return o((Xn[l]&&Xn[l].get||a)(e,l,c,d))})},quickSetter:function(e,n,s){if(e=ks(e),e.length>1){var i=e.map(function(u){return Gn.quickSetter(u,n,s)}),a=i.length;return function(u){for(var h=a;h--;)i[h](u)}}e=e[0]||{};var o=Xn[n],l=Pa(e),c=l.harness&&(l.harness.aliases||{})[n]||n,d=o?function(u){var h=new o;Io._pt=0,h.init(e,s?u+s:u,Io,0,[e]),h.render(1,h),Io._pt&&H1(1,Io)}:l.set(e,c);return o?d:function(u){return d(e,c,s?u+s:u,l,1)}},quickTo:function(e,n,s){var i,a=Gn.to(e,as((i={},i[n]="+=0.1",i.paused=!0,i.stagger=0,i),s||{})),o=function(c,d,u){return a.resetTo(n,c,d,u)};return o.tween=a,o},isTweening:function(e){return Nt.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=_a(e.ease,ll.ease)),i5(ll,e||{})},config:function(e){return i5(ns,e||{})},registerEffect:function(e){var n=e.name,s=e.effect,i=e.plugins,a=e.defaults,o=e.extendTimeline;(i||"").split(",").forEach(function(l){return l&&!Xn[l]&&!is[l]&&Id(n+" effect requires "+l+" plugin.")}),Og[n]=function(l,c,d){return s(ks(l),as(c||{},a),d)},o&&(Pn.prototype[n]=function(l,c,d){return this.add(Og[n](l,vr(c)?c:(d=c)&&{},this),d)})},registerEase:function(e,n){Xe[e]=_a(n)},parseEase:function(e,n){return arguments.length?_a(e,n):Xe},getById:function(e){return Nt.getById(e)},exportRoot:function(e,n){e===void 0&&(e={});var s=new Pn(e),i,a;for(s.smoothChildTiming=Un(e.smoothChildTiming),Nt.remove(s),s._dp=0,s._time=s._tTime=Nt._time,i=Nt._first;i;)a=i._next,(n||!(!i._dur&&i instanceof Vt&&i.vars.onComplete===i._targets[0]))&&or(s,i,i._start-i._delay),i=a;return or(Nt,s,0),s},context:function(e,n){return e?new SL(e,n):vt},matchMedia:function(e){return new XY(e)},matchMediaRefresh:function(){return Ma.forEach(function(e){var n=e.conditions,s,i;for(i in n)n[i]&&(n[i]=!1,s=1);s&&e.revert()})||Ev()},addEventListener:function(e,n){var s=Xh[e]||(Xh[e]=[]);~s.indexOf(n)||s.push(n)},removeEventListener:function(e,n){var s=Xh[e],i=s&&s.indexOf(n);i>=0&&s.splice(i,1)},utils:{wrap:EY,wrapYoyo:_Y,distribute:rL,random:aL,snap:iL,normalize:PY,getUnit:vn,clamp:NY,splitColor:uL,toArray:ks,selector:Sv,mapRange:lL,pipe:SY,unitize:CY,interpolate:MY,shuffle:sL},install:HT,effects:Og,ticker:Qn,updateRoot:Pn.updateRoot,plugins:Xn,globalTimeline:Nt,core:{PropTween:Hn,globals:qT,Tween:Vt,Timeline:Pn,Animation:$d,getCache:Pa,_removeLinkedListItem:af,reverting:function(){return cn},context:function(e){return e&&vt&&(vt.data.push(e),e._ctx=vt),vt},suppressOverwrites:function(e){return L1=e}}};Wn("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return Qp[t]=Vt[t]});Qn.add(Pn.updateRoot);Io=Qp.to({},{duration:0});var ZY=function(e,n){for(var s=e._pt;s&&s.p!==n&&s.op!==n&&s.fp!==n;)s=s._next;return s},QY=function(e,n){var s=e._targets,i,a,o;for(i in n)for(a=s.length;a--;)o=e._ptLookup[a][i],o&&(o=o.d)&&(o._pt&&(o=ZY(o,i)),o&&o.modifier&&o.modifier(n[i],e,s[a],i))},zg=function(e,n){return{name:e,headless:1,rawVars:1,init:function(i,a,o){o._onInit=function(l){var c,d;if(nn(a)&&(c={},Wn(a,function(u){return c[u]=1}),a=c),n){c={};for(d in a)c[d]=n(a[d]);a=c}QY(l,a)}}}},Gn=Qp.registerPlugin({name:"attr",init:function(e,n,s,i,a){var o,l,c;this.tween=s;for(o in n)c=e.getAttribute(o)||"",l=this.add(e,"setAttribute",(c||0)+"",n[o],i,a,0,0,o),l.op=o,l.b=c,this._props.push(o)},render:function(e,n){for(var s=n._pt;s;)cn?s.set(s.t,s.p,s.b,s):s.r(e,s.d),s=s._next}},{name:"endArray",headless:1,init:function(e,n){for(var s=n.length;s--;)this.add(e,s,e[s]||0,n[s],0,0,0,0,0,1)}},zg("roundProps",Cv),zg("modifiers"),zg("snap",iL))||Qp;Vt.version=Pn.version=Gn.version="3.13.0";WT=1;I1()&&hl();Xe.Power0;Xe.Power1;Xe.Power2;Xe.Power3;Xe.Power4;Xe.Linear;Xe.Quad;Xe.Cubic;Xe.Quart;Xe.Quint;Xe.Strong;Xe.Elastic;Xe.Back;Xe.SteppedEase;Xe.Bounce;Xe.Sine;Xe.Expo;Xe.Circ;/*!
 * CSSPlugin 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var u5,hi,qo,q1,xa,h5,G1,JY=function(){return typeof window<"u"},Vr={},ra=180/Math.PI,Go=Math.PI/180,no=Math.atan2,p5=1e8,K1=/([A-Z])/g,eX=/(left|right|width|margin|padding|x)/i,tX=/[\s,\(]\S/,cr={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},_v=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},nX=function(e,n){return n.set(n.t,n.p,e===1?n.e:Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},sX=function(e,n){return n.set(n.t,n.p,e?Math.round((n.s+n.c*e)*1e4)/1e4+n.u:n.b,n)},rX=function(e,n){var s=n.s+n.c*e;n.set(n.t,n.p,~~(s+(s<0?-.5:.5))+n.u,n)},CL=function(e,n){return n.set(n.t,n.p,e?n.e:n.b,n)},PL=function(e,n){return n.set(n.t,n.p,e!==1?n.b:n.e,n)},iX=function(e,n,s){return e.style[n]=s},aX=function(e,n,s){return e.style.setProperty(n,s)},oX=function(e,n,s){return e._gsap[n]=s},lX=function(e,n,s){return e._gsap.scaleX=e._gsap.scaleY=s},cX=function(e,n,s,i,a){var o=e._gsap;o.scaleX=o.scaleY=s,o.renderTransform(a,o)},dX=function(e,n,s,i,a){var o=e._gsap;o[n]=s,o.renderTransform(a,o)},Ct="transform",qn=Ct+"Origin",uX=function t(e,n){var s=this,i=this.target,a=i.style,o=i._gsap;if(e in Vr&&a){if(this.tfm=this.tfm||{},e!=="transform")e=cr[e]||e,~e.indexOf(",")?e.split(",").forEach(function(l){return s.tfm[l]=Er(i,l)}):this.tfm[e]=o.x?o[e]:Er(i,e),e===qn&&(this.tfm.zOrigin=o.zOrigin);else return cr.transform.split(",").forEach(function(l){return t.call(s,l,n)});if(this.props.indexOf(Ct)>=0)return;o.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(qn,n,"")),e=Ct}(a||n)&&this.props.push(e,n,a[e])},EL=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},hX=function(){var e=this.props,n=this.target,s=n.style,i=n._gsap,a,o;for(a=0;a<e.length;a+=3)e[a+1]?e[a+1]===2?n[e[a]](e[a+2]):n[e[a]]=e[a+2]:e[a+2]?s[e[a]]=e[a+2]:s.removeProperty(e[a].substr(0,2)==="--"?e[a]:e[a].replace(K1,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)i[o]=this.tfm[o];i.svg&&(i.renderTransform(),n.setAttribute("data-svg-origin",this.svgo||"")),a=G1(),(!a||!a.isStart)&&!s[Ct]&&(EL(s),i.zOrigin&&s[qn]&&(s[qn]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},_L=function(e,n){var s={target:e,props:[],revert:hX,save:uX};return e._gsap||Gn.core.getCache(e),n&&e.style&&e.nodeType&&n.split(",").forEach(function(i){return s.save(i)}),s},ML,Mv=function(e,n){var s=hi.createElementNS?hi.createElementNS((n||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):hi.createElement(e);return s&&s.style?s:hi.createElement(e)},Ss=function t(e,n,s){var i=getComputedStyle(e);return i[n]||i.getPropertyValue(n.replace(K1,"-$1").toLowerCase())||i.getPropertyValue(n)||!s&&t(e,pl(n)||n,1)||""},m5="O,Moz,ms,Ms,Webkit".split(","),pl=function(e,n,s){var i=n||xa,a=i.style,o=5;if(e in a&&!s)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(m5[o]+e in a););return o<0?null:(o===3?"ms":o>=0?m5[o]:"")+e},Tv=function(){JY()&&window.document&&(u5=window,hi=u5.document,qo=hi.documentElement,xa=Mv("div")||{style:{}},Mv("div"),Ct=pl(Ct),qn=Ct+"Origin",xa.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",ML=!!pl("perspective"),G1=Gn.core.reverting,q1=1)},f5=function(e){var n=e.ownerSVGElement,s=Mv("svg",n&&n.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=e.cloneNode(!0),a;i.style.display="block",s.appendChild(i),qo.appendChild(s);try{a=i.getBBox()}catch{}return s.removeChild(i),qo.removeChild(s),a},g5=function(e,n){for(var s=n.length;s--;)if(e.hasAttribute(n[s]))return e.getAttribute(n[s])},TL=function(e){var n,s;try{n=e.getBBox()}catch{n=f5(e),s=1}return n&&(n.width||n.height)||s||(n=f5(e)),n&&!n.width&&!n.x&&!n.y?{x:+g5(e,["x","cx","x1"])||0,y:+g5(e,["y","cy","y1"])||0,width:0,height:0}:n},LL=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&TL(e))},za=function(e,n){if(n){var s=e.style,i;n in Vr&&n!==qn&&(n=Ct),s.removeProperty?(i=n.substr(0,2),(i==="ms"||n.substr(0,6)==="webkit")&&(n="-"+n),s.removeProperty(i==="--"?n:n.replace(K1,"-$1").toLowerCase())):s.removeAttribute(n)}},pi=function(e,n,s,i,a,o){var l=new Hn(e._pt,n,s,0,1,o?PL:CL);return e._pt=l,l.b=i,l.e=a,e._props.push(s),l},x5={deg:1,rad:1,turn:1},pX={grid:1,flex:1},Di=function t(e,n,s,i){var a=parseFloat(s)||0,o=(s+"").trim().substr((a+"").length)||"px",l=xa.style,c=eX.test(n),d=e.tagName.toLowerCase()==="svg",u=(d?"client":"offset")+(c?"Width":"Height"),h=100,m=i==="px",f=i==="%",x,g,b,y;if(i===o||!a||x5[i]||x5[o])return a;if(o!=="px"&&!m&&(a=t(e,n,s,"px")),y=e.getCTM&&LL(e),(f||o==="%")&&(Vr[n]||~n.indexOf("adius")))return x=y?e.getBBox()[c?"width":"height"]:e[u],$t(f?a/x*h:a/100*x);if(l[c?"width":"height"]=h+(m?o:i),g=i!=="rem"&&~n.indexOf("adius")||i==="em"&&e.appendChild&&!d?e:e.parentNode,y&&(g=(e.ownerSVGElement||{}).parentNode),(!g||g===hi||!g.appendChild)&&(g=hi.body),b=g._gsap,b&&f&&b.width&&c&&b.time===Qn.time&&!b.uncache)return $t(a/b.width*h);if(f&&(n==="height"||n==="width")){var v=e.style[n];e.style[n]=h+i,x=e[u],v?e.style[n]=v:za(e,n)}else(f||o==="%")&&!pX[Ss(g,"display")]&&(l.position=Ss(e,"position")),g===e&&(l.position="static"),g.appendChild(xa),x=xa[u],g.removeChild(xa),l.position="absolute";return c&&f&&(b=Pa(g),b.time=Qn.time,b.width=g[u]),$t(m?x*a/h:x&&a?h/x*a:0)},Er=function(e,n,s,i){var a;return q1||Tv(),n in cr&&n!=="transform"&&(n=cr[n],~n.indexOf(",")&&(n=n.split(",")[0])),Vr[n]&&n!=="transform"?(a=zd(e,i),a=n!=="transformOrigin"?a[n]:a.svg?a.origin:em(Ss(e,qn))+" "+a.zOrigin+"px"):(a=e.style[n],(!a||a==="auto"||i||~(a+"").indexOf("calc("))&&(a=Jp[n]&&Jp[n](e,n,s)||Ss(e,n)||KT(e,n)||(n==="opacity"?1:0))),s&&!~(a+"").trim().indexOf(" ")?Di(e,n,a,s)+s:a},mX=function(e,n,s,i){if(!s||s==="none"){var a=pl(n,e,1),o=a&&Ss(e,a,1);o&&o!==s?(n=a,s=o):n==="borderColor"&&(s=Ss(e,"borderTopColor"))}var l=new Hn(this._pt,e.style,n,0,1,NL),c=0,d=0,u,h,m,f,x,g,b,y,v,w,N,j;if(l.b=s,l.e=i,s+="",i+="",i.substring(0,6)==="var(--"&&(i=Ss(e,i.substring(4,i.indexOf(")")))),i==="auto"&&(g=e.style[n],e.style[n]=i,i=Ss(e,n)||i,g?e.style[n]=g:za(e,n)),u=[s,i],pL(u),s=u[0],i=u[1],m=s.match(Ao)||[],j=i.match(Ao)||[],j.length){for(;h=Ao.exec(i);)b=h[0],v=i.substring(c,h.index),x?x=(x+1)%5:(v.substr(-5)==="rgba("||v.substr(-5)==="hsla(")&&(x=1),b!==(g=m[d++]||"")&&(f=parseFloat(g)||0,N=g.substr((f+"").length),b.charAt(1)==="="&&(b=Ho(f,b)+N),y=parseFloat(b),w=b.substr((y+"").length),c=Ao.lastIndex-w.length,w||(w=w||ns.units[n]||N,c===i.length&&(i+=w,l.e+=w)),N!==w&&(f=Di(e,n,g,w)||0),l._pt={_next:l._pt,p:v||d===1?v:",",s:f,c:y-f,m:x&&x<4||n==="zIndex"?Math.round:0});l.c=c<i.length?i.substring(c,i.length):""}else l.r=n==="display"&&i==="none"?PL:CL;return VT.test(i)&&(l.e=0),this._pt=l,l},v5={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},fX=function(e){var n=e.split(" "),s=n[0],i=n[1]||"50%";return(s==="top"||s==="bottom"||i==="left"||i==="right")&&(e=s,s=i,i=e),n[0]=v5[s]||s,n[1]=v5[i]||i,n.join(" ")},gX=function(e,n){if(n.tween&&n.tween._time===n.tween._dur){var s=n.t,i=s.style,a=n.u,o=s._gsap,l,c,d;if(a==="all"||a===!0)i.cssText="",c=1;else for(a=a.split(","),d=a.length;--d>-1;)l=a[d],Vr[l]&&(c=1,l=l==="transformOrigin"?qn:Ct),za(s,l);c&&(za(s,Ct),o&&(o.svg&&s.removeAttribute("transform"),i.scale=i.rotate=i.translate="none",zd(s,1),o.uncache=1,EL(i)))}},Jp={clearProps:function(e,n,s,i,a){if(a.data!=="isFromStart"){var o=e._pt=new Hn(e._pt,n,s,0,0,gX);return o.u=i,o.pr=-10,o.tween=a,e._props.push(s),1}}},Fd=[1,0,0,1,0,0],AL={},IL=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},y5=function(e){var n=Ss(e,Ct);return IL(n)?Fd:n.substr(7).match(BT).map($t)},Y1=function(e,n){var s=e._gsap||Pa(e),i=e.style,a=y5(e),o,l,c,d;return s.svg&&e.getAttribute("transform")?(c=e.transform.baseVal.consolidate().matrix,a=[c.a,c.b,c.c,c.d,c.e,c.f],a.join(",")==="1,0,0,1,0,0"?Fd:a):(a===Fd&&!e.offsetParent&&e!==qo&&!s.svg&&(c=i.display,i.display="block",o=e.parentNode,(!o||!e.offsetParent&&!e.getBoundingClientRect().width)&&(d=1,l=e.nextElementSibling,qo.appendChild(e)),a=y5(e),c?i.display=c:za(e,"display"),d&&(l?o.insertBefore(e,l):o?o.appendChild(e):qo.removeChild(e))),n&&a.length>6?[a[0],a[1],a[4],a[5],a[12],a[13]]:a)},Lv=function(e,n,s,i,a,o){var l=e._gsap,c=a||Y1(e,!0),d=l.xOrigin||0,u=l.yOrigin||0,h=l.xOffset||0,m=l.yOffset||0,f=c[0],x=c[1],g=c[2],b=c[3],y=c[4],v=c[5],w=n.split(" "),N=parseFloat(w[0])||0,j=parseFloat(w[1])||0,k,P,S,E;s?c!==Fd&&(P=f*b-x*g)&&(S=N*(b/P)+j*(-g/P)+(g*v-b*y)/P,E=N*(-x/P)+j*(f/P)-(f*v-x*y)/P,N=S,j=E):(k=TL(e),N=k.x+(~w[0].indexOf("%")?N/100*k.width:N),j=k.y+(~(w[1]||w[0]).indexOf("%")?j/100*k.height:j)),i||i!==!1&&l.smooth?(y=N-d,v=j-u,l.xOffset=h+(y*f+v*g)-y,l.yOffset=m+(y*x+v*b)-v):l.xOffset=l.yOffset=0,l.xOrigin=N,l.yOrigin=j,l.smooth=!!i,l.origin=n,l.originIsAbsolute=!!s,e.style[qn]="0px 0px",o&&(pi(o,l,"xOrigin",d,N),pi(o,l,"yOrigin",u,j),pi(o,l,"xOffset",h,l.xOffset),pi(o,l,"yOffset",m,l.yOffset)),e.setAttribute("data-svg-origin",N+" "+j)},zd=function(e,n){var s=e._gsap||new xL(e);if("x"in s&&!n&&!s.uncache)return s;var i=e.style,a=s.scaleX<0,o="px",l="deg",c=getComputedStyle(e),d=Ss(e,qn)||"0",u,h,m,f,x,g,b,y,v,w,N,j,k,P,S,E,T,W,F,D,A,_,z,I,M,$,O,L,Y,K,B,U;return u=h=m=g=b=y=v=w=N=0,f=x=1,s.svg=!!(e.getCTM&&LL(e)),c.translate&&((c.translate!=="none"||c.scale!=="none"||c.rotate!=="none")&&(i[Ct]=(c.translate!=="none"?"translate3d("+(c.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(c.rotate!=="none"?"rotate("+c.rotate+") ":"")+(c.scale!=="none"?"scale("+c.scale.split(" ").join(",")+") ":"")+(c[Ct]!=="none"?c[Ct]:"")),i.scale=i.rotate=i.translate="none"),P=Y1(e,s.svg),s.svg&&(s.uncache?(M=e.getBBox(),d=s.xOrigin-M.x+"px "+(s.yOrigin-M.y)+"px",I=""):I=!n&&e.getAttribute("data-svg-origin"),Lv(e,I||d,!!I||s.originIsAbsolute,s.smooth!==!1,P)),j=s.xOrigin||0,k=s.yOrigin||0,P!==Fd&&(W=P[0],F=P[1],D=P[2],A=P[3],u=_=P[4],h=z=P[5],P.length===6?(f=Math.sqrt(W*W+F*F),x=Math.sqrt(A*A+D*D),g=W||F?no(F,W)*ra:0,v=D||A?no(D,A)*ra+g:0,v&&(x*=Math.abs(Math.cos(v*Go))),s.svg&&(u-=j-(j*W+k*D),h-=k-(j*F+k*A))):(U=P[6],K=P[7],O=P[8],L=P[9],Y=P[10],B=P[11],u=P[12],h=P[13],m=P[14],S=no(U,Y),b=S*ra,S&&(E=Math.cos(-S),T=Math.sin(-S),I=_*E+O*T,M=z*E+L*T,$=U*E+Y*T,O=_*-T+O*E,L=z*-T+L*E,Y=U*-T+Y*E,B=K*-T+B*E,_=I,z=M,U=$),S=no(-D,Y),y=S*ra,S&&(E=Math.cos(-S),T=Math.sin(-S),I=W*E-O*T,M=F*E-L*T,$=D*E-Y*T,B=A*T+B*E,W=I,F=M,D=$),S=no(F,W),g=S*ra,S&&(E=Math.cos(S),T=Math.sin(S),I=W*E+F*T,M=_*E+z*T,F=F*E-W*T,z=z*E-_*T,W=I,_=M),b&&Math.abs(b)+Math.abs(g)>359.9&&(b=g=0,y=180-y),f=$t(Math.sqrt(W*W+F*F+D*D)),x=$t(Math.sqrt(z*z+U*U)),S=no(_,z),v=Math.abs(S)>2e-4?S*ra:0,N=B?1/(B<0?-B:B):0),s.svg&&(I=e.getAttribute("transform"),s.forceCSS=e.setAttribute("transform","")||!IL(Ss(e,Ct)),I&&e.setAttribute("transform",I))),Math.abs(v)>90&&Math.abs(v)<270&&(a?(f*=-1,v+=g<=0?180:-180,g+=g<=0?180:-180):(x*=-1,v+=v<=0?180:-180)),n=n||s.uncache,s.x=u-((s.xPercent=u&&(!n&&s.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-u)?-50:0)))?e.offsetWidth*s.xPercent/100:0)+o,s.y=h-((s.yPercent=h&&(!n&&s.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-h)?-50:0)))?e.offsetHeight*s.yPercent/100:0)+o,s.z=m+o,s.scaleX=$t(f),s.scaleY=$t(x),s.rotation=$t(g)+l,s.rotationX=$t(b)+l,s.rotationY=$t(y)+l,s.skewX=v+l,s.skewY=w+l,s.transformPerspective=N+o,(s.zOrigin=parseFloat(d.split(" ")[2])||!n&&s.zOrigin||0)&&(i[qn]=em(d)),s.xOffset=s.yOffset=0,s.force3D=ns.force3D,s.renderTransform=s.svg?vX:ML?OL:xX,s.uncache=0,s},em=function(e){return(e=e.split(" "))[0]+" "+e[1]},Bg=function(e,n,s){var i=vn(n);return $t(parseFloat(n)+parseFloat(Di(e,"x",s+"px",i)))+i},xX=function(e,n){n.z="0px",n.rotationY=n.rotationX="0deg",n.force3D=0,OL(e,n)},Xi="0deg",Xl="0px",Zi=") ",OL=function(e,n){var s=n||this,i=s.xPercent,a=s.yPercent,o=s.x,l=s.y,c=s.z,d=s.rotation,u=s.rotationY,h=s.rotationX,m=s.skewX,f=s.skewY,x=s.scaleX,g=s.scaleY,b=s.transformPerspective,y=s.force3D,v=s.target,w=s.zOrigin,N="",j=y==="auto"&&e&&e!==1||y===!0;if(w&&(h!==Xi||u!==Xi)){var k=parseFloat(u)*Go,P=Math.sin(k),S=Math.cos(k),E;k=parseFloat(h)*Go,E=Math.cos(k),o=Bg(v,o,P*E*-w),l=Bg(v,l,-Math.sin(k)*-w),c=Bg(v,c,S*E*-w+w)}b!==Xl&&(N+="perspective("+b+Zi),(i||a)&&(N+="translate("+i+"%, "+a+"%) "),(j||o!==Xl||l!==Xl||c!==Xl)&&(N+=c!==Xl||j?"translate3d("+o+", "+l+", "+c+") ":"translate("+o+", "+l+Zi),d!==Xi&&(N+="rotate("+d+Zi),u!==Xi&&(N+="rotateY("+u+Zi),h!==Xi&&(N+="rotateX("+h+Zi),(m!==Xi||f!==Xi)&&(N+="skew("+m+", "+f+Zi),(x!==1||g!==1)&&(N+="scale("+x+", "+g+Zi),v.style[Ct]=N||"translate(0, 0)"},vX=function(e,n){var s=n||this,i=s.xPercent,a=s.yPercent,o=s.x,l=s.y,c=s.rotation,d=s.skewX,u=s.skewY,h=s.scaleX,m=s.scaleY,f=s.target,x=s.xOrigin,g=s.yOrigin,b=s.xOffset,y=s.yOffset,v=s.forceCSS,w=parseFloat(o),N=parseFloat(l),j,k,P,S,E;c=parseFloat(c),d=parseFloat(d),u=parseFloat(u),u&&(u=parseFloat(u),d+=u,c+=u),c||d?(c*=Go,d*=Go,j=Math.cos(c)*h,k=Math.sin(c)*h,P=Math.sin(c-d)*-m,S=Math.cos(c-d)*m,d&&(u*=Go,E=Math.tan(d-u),E=Math.sqrt(1+E*E),P*=E,S*=E,u&&(E=Math.tan(u),E=Math.sqrt(1+E*E),j*=E,k*=E)),j=$t(j),k=$t(k),P=$t(P),S=$t(S)):(j=h,S=m,k=P=0),(w&&!~(o+"").indexOf("px")||N&&!~(l+"").indexOf("px"))&&(w=Di(f,"x",o,"px"),N=Di(f,"y",l,"px")),(x||g||b||y)&&(w=$t(w+x-(x*j+g*P)+b),N=$t(N+g-(x*k+g*S)+y)),(i||a)&&(E=f.getBBox(),w=$t(w+i/100*E.width),N=$t(N+a/100*E.height)),E="matrix("+j+","+k+","+P+","+S+","+w+","+N+")",f.setAttribute("transform",E),v&&(f.style[Ct]=E)},yX=function(e,n,s,i,a){var o=360,l=nn(a),c=parseFloat(a)*(l&&~a.indexOf("rad")?ra:1),d=c-i,u=i+d+"deg",h,m;return l&&(h=a.split("_")[1],h==="short"&&(d%=o,d!==d%(o/2)&&(d+=d<0?o:-o)),h==="cw"&&d<0?d=(d+o*p5)%o-~~(d/o)*o:h==="ccw"&&d>0&&(d=(d-o*p5)%o-~~(d/o)*o)),e._pt=m=new Hn(e._pt,n,s,i,d,nX),m.e=u,m.u="deg",e._props.push(s),m},b5=function(e,n){for(var s in n)e[s]=n[s];return e},bX=function(e,n,s){var i=b5({},s._gsap),a="perspective,force3D,transformOrigin,svgOrigin",o=s.style,l,c,d,u,h,m,f,x;i.svg?(d=s.getAttribute("transform"),s.setAttribute("transform",""),o[Ct]=n,l=zd(s,1),za(s,Ct),s.setAttribute("transform",d)):(d=getComputedStyle(s)[Ct],o[Ct]=n,l=zd(s,1),o[Ct]=d);for(c in Vr)d=i[c],u=l[c],d!==u&&a.indexOf(c)<0&&(f=vn(d),x=vn(u),h=f!==x?Di(s,c,d,x):parseFloat(d),m=parseFloat(u),e._pt=new Hn(e._pt,l,c,h,m-h,_v),e._pt.u=x||0,e._props.push(c));b5(l,i)};Wn("padding,margin,Width,Radius",function(t,e){var n="Top",s="Right",i="Bottom",a="Left",o=(e<3?[n,s,i,a]:[n+a,n+s,i+s,i+a]).map(function(l){return e<2?t+l:"border"+l+t});Jp[e>1?"border"+t:t]=function(l,c,d,u,h){var m,f;if(arguments.length<4)return m=o.map(function(x){return Er(l,x,d)}),f=m.join(" "),f.split(m[0]).length===5?m[0]:f;m=(u+"").split(" "),f={},o.forEach(function(x,g){return f[x]=m[g]=m[g]||m[(g-1)/2|0]}),l.init(c,f,h)}});var RL={name:"css",register:Tv,targetTest:function(e){return e.style&&e.nodeType},init:function(e,n,s,i,a){var o=this._props,l=e.style,c=s.vars.startAt,d,u,h,m,f,x,g,b,y,v,w,N,j,k,P,S;q1||Tv(),this.styles=this.styles||_L(e),S=this.styles.props,this.tween=s;for(g in n)if(g!=="autoRound"&&(u=n[g],!(Xn[g]&&vL(g,n,s,i,e,a)))){if(f=typeof u,x=Jp[g],f==="function"&&(u=u.call(s,i,e,a),f=typeof u),f==="string"&&~u.indexOf("random(")&&(u=Rd(u)),x)x(this,e,g,u,s)&&(P=1);else if(g.substr(0,2)==="--")d=(getComputedStyle(e).getPropertyValue(g)+"").trim(),u+="",Ei.lastIndex=0,Ei.test(d)||(b=vn(d),y=vn(u)),y?b!==y&&(d=Di(e,g,d,y)+y):b&&(u+=b),this.add(l,"setProperty",d,u,i,a,0,0,g),o.push(g),S.push(g,0,l[g]);else if(f!=="undefined"){if(c&&g in c?(d=typeof c[g]=="function"?c[g].call(s,i,e,a):c[g],nn(d)&&~d.indexOf("random(")&&(d=Rd(d)),vn(d+"")||d==="auto"||(d+=ns.units[g]||vn(Er(e,g))||""),(d+"").charAt(1)==="="&&(d=Er(e,g))):d=Er(e,g),m=parseFloat(d),v=f==="string"&&u.charAt(1)==="="&&u.substr(0,2),v&&(u=u.substr(2)),h=parseFloat(u),g in cr&&(g==="autoAlpha"&&(m===1&&Er(e,"visibility")==="hidden"&&h&&(m=0),S.push("visibility",0,l.visibility),pi(this,l,"visibility",m?"inherit":"hidden",h?"inherit":"hidden",!h)),g!=="scale"&&g!=="transform"&&(g=cr[g],~g.indexOf(",")&&(g=g.split(",")[0]))),w=g in Vr,w){if(this.styles.save(g),f==="string"&&u.substring(0,6)==="var(--"&&(u=Ss(e,u.substring(4,u.indexOf(")"))),h=parseFloat(u)),N||(j=e._gsap,j.renderTransform&&!n.parseTransform||zd(e,n.parseTransform),k=n.smoothOrigin!==!1&&j.smooth,N=this._pt=new Hn(this._pt,l,Ct,0,1,j.renderTransform,j,0,-1),N.dep=1),g==="scale")this._pt=new Hn(this._pt,j,"scaleY",j.scaleY,(v?Ho(j.scaleY,v+h):h)-j.scaleY||0,_v),this._pt.u=0,o.push("scaleY",g),g+="X";else if(g==="transformOrigin"){S.push(qn,0,l[qn]),u=fX(u),j.svg?Lv(e,u,0,k,0,this):(y=parseFloat(u.split(" ")[2])||0,y!==j.zOrigin&&pi(this,j,"zOrigin",j.zOrigin,y),pi(this,l,g,em(d),em(u)));continue}else if(g==="svgOrigin"){Lv(e,u,1,k,0,this);continue}else if(g in AL){yX(this,j,g,m,v?Ho(m,v+u):u);continue}else if(g==="smoothOrigin"){pi(this,j,"smooth",j.smooth,u);continue}else if(g==="force3D"){j[g]=u;continue}else if(g==="transform"){bX(this,u,e);continue}}else g in l||(g=pl(g)||g);if(w||(h||h===0)&&(m||m===0)&&!tX.test(u)&&g in l)b=(d+"").substr((m+"").length),h||(h=0),y=vn(u)||(g in ns.units?ns.units[g]:b),b!==y&&(m=Di(e,g,d,y)),this._pt=new Hn(this._pt,w?j:l,g,m,(v?Ho(m,v+h):h)-m,!w&&(y==="px"||g==="zIndex")&&n.autoRound!==!1?rX:_v),this._pt.u=y||0,b!==y&&y!=="%"&&(this._pt.b=d,this._pt.r=sX);else if(g in l)mX.call(this,e,g,d,v?v+u:u);else if(g in e)this.add(e,g,d||e[g],v?v+u:u,i,a);else if(g!=="parseTransform"){R1(g,u);continue}w||(g in l?S.push(g,0,l[g]):typeof e[g]=="function"?S.push(g,2,e[g]()):S.push(g,1,d||e[g])),o.push(g)}}P&&kL(this)},render:function(e,n){if(n.tween._time||!G1())for(var s=n._pt;s;)s.r(e,s.d),s=s._next;else n.styles.revert()},get:Er,aliases:cr,getSetter:function(e,n,s){var i=cr[n];return i&&i.indexOf(",")<0&&(n=i),n in Vr&&n!==qn&&(e._gsap.x||Er(e,"x"))?s&&h5===s?n==="scale"?lX:oX:(h5=s||{})&&(n==="scale"?cX:dX):e.style&&!A1(e.style[n])?iX:~n.indexOf("-")?aX:W1(e,n)},core:{_removeProperty:za,_getMatrix:Y1}};Gn.utils.checkPrefix=pl;Gn.core.getStyleSaver=_L;(function(t,e,n,s){var i=Wn(t+","+e+","+n,function(a){Vr[a]=1});Wn(e,function(a){ns.units[a]="deg",AL[a]=1}),cr[i[13]]=t+","+e,Wn(s,function(a){var o=a.split(":");cr[o[1]]=i[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Wn("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){ns.units[t]="px"});Gn.registerPlugin(RL);var Sn=Gn.registerPlugin(RL)||Gn;Sn.core.Tween;const wX=12,jX=300,X1="47, 100, 255",NX=(t,e,n=X1)=>{const s=document.createElement("div");s.className="particle";const i=Math.random()>.5,a=i?"47, 100, 255":"20, 184, 166",o=i?"47, 100, 255":"20, 184, 166";return s.style.cssText=`
    position: absolute;
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background: radial-gradient(circle, rgba(${a}, 1) 0%, rgba(${a}, 0.8) 30%, rgba(${a}, 0.4) 70%, transparent 100%);
    box-shadow: 0 0 15px rgba(${o}, 0.8), 0 0 30px rgba(${o}, 0.4);
    pointer-events: none;
    z-index: 100;
    left: ${t}px;
    top: ${e}px;
  `,s},kX=t=>({proximity:t*.5,fadeDistance:t*.75}),SX=(t,e,n,s,i)=>{const a=t.getBoundingClientRect(),o=(e-a.left)/a.width*100,l=(n-a.top)/a.height*100;t.style.setProperty("--glow-x",`${o}%`),t.style.setProperty("--glow-y",`${l}%`),t.style.setProperty("--glow-intensity",s.toString()),t.style.setProperty("--glow-radius",`${i}px`)},th=({children:t,className:e="",disableAnimations:n=!1,style:s,particleCount:i=wX,glowColor:a=X1,enableTilt:o=!0,clickEffect:l=!1,enableMagnetism:c=!1})=>{const d=p.useRef(null),u=p.useRef([]),h=p.useRef([]),m=p.useRef(!1),f=p.useRef([]),x=p.useRef(!1),g=p.useRef(null),b=p.useCallback(()=>{if(x.current||!d.current)return;const{width:w,height:N}=d.current.getBoundingClientRect();f.current=Array.from({length:i},()=>NX(Math.random()*w,Math.random()*N,a)),x.current=!0},[i,a]),y=p.useCallback(()=>{var w;h.current.forEach(clearTimeout),h.current=[],(w=g.current)==null||w.kill(),u.current.forEach(N=>{Sn.to(N,{scale:0,opacity:0,duration:.3,ease:"back.in(1.7)",onComplete:()=>{var j;(j=N.parentNode)==null||j.removeChild(N)}})}),u.current=[]},[]),v=p.useCallback(()=>{!d.current||!m.current||(x.current||b(),f.current.forEach((w,N)=>{const j=setTimeout(()=>{if(!m.current||!d.current)return;const k=w.cloneNode(!0);d.current.appendChild(k),u.current.push(k),Sn.fromTo(k,{scale:0,opacity:0},{scale:1,opacity:1,duration:.3,ease:"back.out(1.7)"}),Sn.to(k,{x:(Math.random()-.5)*100,y:(Math.random()-.5)*100,rotation:Math.random()*360,duration:2+Math.random()*2,ease:"none",repeat:-1,yoyo:!0}),Sn.to(k,{opacity:.3,duration:1.5,ease:"power2.inOut",repeat:-1,yoyo:!0})},N*100);h.current.push(j)}))},[b]);return p.useEffect(()=>{if(n||!d.current)return;const w=d.current,N=()=>{m.current=!0,v(),o&&Sn.to(w,{rotateX:5,rotateY:5,duration:.3,ease:"power2.out",transformPerspective:1e3})},j=()=>{m.current=!1,y(),o&&Sn.to(w,{rotateX:0,rotateY:0,duration:.3,ease:"power2.out"}),c&&Sn.to(w,{x:0,y:0,duration:.3,ease:"power2.out"})},k=S=>{if(!o&&!c)return;const E=w.getBoundingClientRect(),T=S.clientX-E.left,W=S.clientY-E.top,F=E.width/2,D=E.height/2;if(o){const A=(W-D)/D*-10,_=(T-F)/F*10;Sn.to(w,{rotateX:A,rotateY:_,duration:.1,ease:"power2.out",transformPerspective:1e3})}if(c){const A=(T-F)*.05,_=(W-D)*.05;g.current=Sn.to(w,{x:A,y:_,duration:.3,ease:"power2.out"})}},P=S=>{if(!l)return;const E=w.getBoundingClientRect(),T=S.clientX-E.left,W=S.clientY-E.top,F=Math.max(Math.hypot(T,W),Math.hypot(T-E.width,W),Math.hypot(T,W-E.height),Math.hypot(T-E.width,W-E.height)),D=document.createElement("div");D.style.cssText=`
        position: absolute;
        width: ${F*2}px;
        height: ${F*2}px;
        border-radius: 50%;
        background: radial-gradient(circle, rgba(${a}, 0.4) 0%, rgba(${a}, 0.2) 30%, transparent 70%);
        left: ${T-F}px;
        top: ${W-F}px;
        pointer-events: none;
        z-index: 1000;
      `,w.appendChild(D),Sn.fromTo(D,{scale:0,opacity:1},{scale:1,opacity:0,duration:.8,ease:"power2.out",onComplete:()=>D.remove()})};return w.addEventListener("mouseenter",N),w.addEventListener("mouseleave",j),w.addEventListener("mousemove",k),w.addEventListener("click",P),()=>{m.current=!1,w.removeEventListener("mouseenter",N),w.removeEventListener("mouseleave",j),w.removeEventListener("mousemove",k),w.removeEventListener("click",P),y()}},[v,y,n,o,c,l,a]),r.jsx("div",{ref:d,className:`${e} particle-container particle-card`,style:{...s,position:"relative",overflow:"hidden"},children:t})},CX=({gridRef:t,disableAnimations:e=!1,enabled:n=!0,spotlightRadius:s=jX,glowColor:i=X1})=>{const a=p.useRef(null),o=p.useRef(!1);return p.useEffect(()=>{if(e||!(t!=null&&t.current)||!n)return;const l=document.createElement("div");l.className="global-spotlight",l.style.cssText=`
      position: fixed;
      width: 800px;
      height: 800px;
      border-radius: 50%;
      pointer-events: none;
      background: radial-gradient(circle,
        rgba(${i}, 0.15) 0%,
        rgba(${i}, 0.08) 15%,
        rgba(${i}, 0.04) 25%,
        rgba(${i}, 0.02) 40%,
        rgba(${i}, 0.01) 65%,
        transparent 70%
      );
      z-index: 200;
      opacity: 0;
      transform: translate(-50%, -50%);
      mix-blend-mode: screen;
    `,document.body.appendChild(l),a.current=l;const c=u=>{if(!a.current||!t.current)return;const h=t.current.closest(".bento-section"),m=h==null?void 0:h.getBoundingClientRect(),f=m&&u.clientX>=m.left&&u.clientX<=m.right&&u.clientY>=m.top&&u.clientY<=m.bottom;o.current=f||!1;const x=t.current.querySelectorAll(".nr-panel, .card");if(!f){Sn.to(a.current,{opacity:0,duration:.3,ease:"power2.out"}),x.forEach(w=>{w.style.setProperty("--glow-intensity","0")});return}const{proximity:g,fadeDistance:b}=kX(s);let y=1/0;x.forEach(w=>{const N=w,j=N.getBoundingClientRect(),k=j.left+j.width/2,P=j.top+j.height/2,S=Math.hypot(u.clientX-k,u.clientY-P)-Math.max(j.width,j.height)/2,E=Math.max(0,S);y=Math.min(y,E);let T=0;E<=g?T=1:E<=b&&(T=(b-E)/(b-g)),SX(N,u.clientX,u.clientY,T,s)}),Sn.to(a.current,{left:u.clientX,top:u.clientY,duration:.1,ease:"power2.out"});const v=y<=g?.8:y<=b?(b-y)/(b-g)*.8:0;Sn.to(a.current,{opacity:v,duration:v>0?.2:.5,ease:"power2.out"})},d=()=>{var u;o.current=!1,(u=t.current)==null||u.querySelectorAll(".card").forEach(h=>{h.style.setProperty("--glow-intensity","0")}),a.current&&Sn.to(a.current,{opacity:0,duration:.3,ease:"power2.out"})};return document.addEventListener("mousemove",c),document.addEventListener("mouseleave",d),()=>{var u,h;document.removeEventListener("mousemove",c),document.removeEventListener("mouseleave",d),(h=(u=a.current)==null?void 0:u.parentNode)==null||h.removeChild(a.current)}},[t,e,n,s,i]),null},w5="h-11 w-full rounded-md border border-white/12 bg-white/[0.03] px-3 text-[14px] text-white outline-none transition-all duration-200 placeholder:text-white/45 focus:border-sky-500 focus:ring-4 focus:ring-sky-500/10 hover:border-white/20 hover:bg-white/[0.05] autofill:bg-black autofill:text-white autofill:shadow-[inset_0_0_0px_1000px_#000] [-webkit-text-fill-color:white] [-webkit-box-shadow:0_0_0px_1000px_#000_inset]";function PX(){return r.jsx("div",{className:"hidden md:flex items-center justify-center",children:r.jsxs("div",{className:"w-full max-w-lg space-y-8",children:[r.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-center",children:[r.jsxs("h1",{className:`brand-script text-5xl leading-none
                  
                  bg-clip-text text-transparent text-4xl font-bold text-white mb-4`,children:["Your College Journey",r.jsx("span",{className:"block text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-cyan-400 font-bold",children:"Starts Here"})]}),r.jsx("p",{className:"text-white/70 text-lg leading-relaxed",children:"The all-in-one platform for student housing, academics, and campus life"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs(ye.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{delay:.4},className:"magic-bento-card flex items-center gap-4 p-4 rounded-xl bg-transparent border border-white/10 hover:bg-transparent transition-all duration-300",style:{"--glow-x":"50%","--glow-y":"50%","--glow-intensity":"0","--glow-radius":"200px"},children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-500/20 flex items-center justify-center",children:r.jsx("svg",{className:"w-6 h-6 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-semibold",children:"Find Your Perfect Home"}),r.jsx("p",{className:"text-white/60 text-sm",children:"Verified student housing near your campus"})]})]}),r.jsxs(ye.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{delay:.6},className:"magic-bento-card flex items-center gap-4 p-4 rounded-xl bg-transparent border border-white/10 hover:bg-transparent transition-all duration-300",style:{"--glow-x":"50%","--glow-y":"50%","--glow-intensity":"0","--glow-radius":"200px"},children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-500/20 flex items-center justify-center",children:r.jsx("svg",{className:"w-6 h-6 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-semibold",children:"Connect & Collaborate"}),r.jsx("p",{className:"text-white/60 text-sm",children:"Join study groups and build your network"})]})]}),r.jsxs(ye.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{delay:.8},className:"magic-bento-card flex items-center gap-4 p-4 rounded-xl bg-transparent border border-white/10 hover:bg-transparent transition-all duration-300",style:{"--glow-x":"50%","--glow-y":"50%","--glow-intensity":"0","--glow-radius":"200px"},children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-500/20 flex items-center justify-center",children:r.jsx("svg",{className:"w-6 h-6 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-2 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-semibold",children:"AI-Powered Insights"}),r.jsx("p",{className:"text-white/60 text-sm",children:"Smart recommendations for your academic journey"})]})]})]}),r.jsx(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},className:"pt-6 border-t border-white/10",children:r.jsx("div",{className:"text-center space-y-4",children:r.jsxs("div",{className:"flex items-center justify-center gap-6 text-white/60 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("svg",{className:"w-4 h-4 text-blue-400",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),r.jsx("span",{children:"Verified Properties"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("svg",{className:"w-4 h-4 text-blue-400",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})}),r.jsx("span",{children:"Secure Platform"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("svg",{className:"w-4 h-4 text-blue-400",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),r.jsx("span",{children:"AI-Powered"})]})]})})}),r.jsxs(ye.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:1.2},className:"text-center",children:[r.jsx("p",{className:"text-white/80 text-sm mb-4",children:"Be among the first to experience the future of student life"}),r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400"}),r.jsx("div",{className:"w-2 h-2 rounded-full bg-white/20"}),r.jsx("div",{className:"w-2 h-2 rounded-full bg-white/20"})]})]})]})})}function EX(){const t=dt(),{login:e}=Ka(),[n,s]=p.useState(""),[i,a]=p.useState(""),[o,l]=p.useState(""),[c,d]=p.useState(!1),[u,h]=p.useState(!1),[m,f]=p.useState(!1);async function x(g){var b,y,v,w;if(g.preventDefault(),!n.trim()||!i){l("Please enter your email/username and password.");return}l(""),d(!0);try{const N=await ge.post("/login",{identifier:n.trim(),password:i,rememberMe:m});if((b=N==null?void 0:N.data)!=null&&b.error){l(N.data.message||"Invalid credentials.");return}if((y=N==null?void 0:N.data)!=null&&y.accessToken){const j=await e(N.data.user,N.data.accessToken);if(j.success){const k=localStorage.getItem("nr_unified_onboarding");if(k)if(JSON.parse(k).completed){const S=new URLSearchParams(window.location.search).get("from")||"/dashboard";t(S)}else t("/dashboard");else t("/onboarding")}else l(j.error||"Login failed. Please try again.")}else l("Unexpected response. Please try again.")}catch(N){console.error("Login error:",N);const j=((w=(v=N==null?void 0:N.response)==null?void 0:v.data)==null?void 0:w.message)||"Unable to log in. Please try again.";l(j)}finally{d(!1)}}return r.jsxs(r.Fragment,{children:[r.jsx("style",{children:`
          .magic-bento-card {
            --glow-x: 50%;
            --glow-y: 50%;
            --glow-intensity: 0;
            --glow-radius: 200px;
            --glow-color: 47, 100, 255;
            position: relative;
            overflow: hidden;
          }
          
          .magic-bento-card::after {
            content: '';
            position: absolute;
            inset: 0;
            padding: 1px;
            background: radial-gradient(100px circle at var(--glow-x) var(--glow-y),
                rgba(var(--glow-color), calc(var(--glow-intensity) * 1)) 0%,
                rgba(var(--glow-color), calc(var(--glow-intensity) * 0.8)) 20%,
                rgba(var(--glow-color), calc(var(--glow-intensity) * 0.4)) 40%,
                transparent 70%);
            border-radius: inherit;
            mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            mask-composite: subtract;
            -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            pointer-events: none;
            transition: opacity 0.2s ease;
            z-index: 1;
            opacity: 0;
          }
          
          .magic-bento-card:hover::after {
            opacity: 1;
          }
          
          .magic-bento-card:hover {
            box-shadow: 0 0 20px rgba(47, 100, 255, 0.6), 0 0 40px rgba(47, 100, 255, 0.4), 0 0 60px rgba(47, 100, 255, 0.2);
          }
          
        `}),r.jsx("main",{className:"min-h-screen bg-black",children:r.jsxs("div",{className:"mx-auto grid max-w-6xl grid-cols-1 items-center gap-6 sm:gap-8 lg:gap-10 px-4 sm:px-6 lg:px-8 py-8 sm:py-12 md:grid-cols-2 relative",children:[r.jsx(PX,{}),r.jsx("div",{className:"hidden md:block absolute left-1/2 top-1/2 bottom-1/2 w-px bg-gradient-to-b from-transparent via-blue-500/50 to-transparent transform -translate-x-1/2 -translate-y-1/2 h-3/4"}),r.jsxs("div",{className:"w-full",children:[r.jsxs("div",{className:"relative mx-auto w-full max-w-sm rounded-2xl border border-white/10 bg-transparent p-4 sm:p-6 overflow-hidden",children:[r.jsx("div",{className:"mb-6 text-center",children:r.jsx("h1",{className:`
                  brand-script text-6xl leading-none
                  bg-gradient-to-r from-blue-600 to-teal-500
                  bg-clip-text text-transparent
                `,children:"NewRun"})}),r.jsxs("form",{onSubmit:x,className:"space-y-3",children:[r.jsx("input",{type:"text",value:n,onChange:g=>s(g.target.value),placeholder:"Email or username",autoComplete:"username",className:w5}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:u?"text":"password",value:i,onChange:g=>a(g.target.value),placeholder:"Password",autoComplete:"current-password",className:w5+" pr-10"}),r.jsx("button",{type:"button",onClick:()=>h(!u),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors p-1",children:u?r.jsx(Td,{size:16}):r.jsx(Ld,{size:16})})]}),r.jsx("div",{className:"flex items-center justify-between mt-3",children:r.jsxs("label",{className:"flex items-center gap-2 text-sm text-white/70 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:m,onChange:g=>f(g.target.checked),className:"w-4 h-4 rounded border-white/20 bg-white/[0.03] text-blue-500 focus:ring-blue-500 focus:ring-2"}),"Remember me"]})}),o&&r.jsx(ye.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"rounded-md border border-red-500/40 bg-red-500/10 px-3 py-2 text-center text-[13px] text-red-300 transition-all duration-200",children:o}),r.jsx("button",{type:"submit",disabled:c,className:"mt-1 inline-flex h-10 w-full items-center justify-center rounded-md bg-[#2f64ff] text-[14px] font-medium text-white hover:bg-[#2958e3] disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 hover:scale-[1.02] hover:shadow-lg hover:shadow-blue-500/25 active:scale-[0.98]",children:c?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Logging in..."]}):"Log in"})]}),r.jsxs("div",{className:"my-4 flex items-center gap-3 text-white/40",children:[r.jsx("div",{className:"h-px flex-1 bg-white/10"}),r.jsx("span",{className:"text-[12px]",children:"OR"}),r.jsx("div",{className:"h-px flex-1 bg-white/10"})]}),r.jsxs("button",{type:"button",onClick:()=>{fetch("http://localhost:8000/api/auth/google").then(g=>{g.ok?window.location.href="http://localhost:8000/api/auth/google":l("Google OAuth is not configured. Please use email/password login.")}).catch(()=>{l("Google OAuth is not available. Please use email/password login.")})},className:"mb-2 inline-flex h-10 w-full items-center justify-center gap-3 rounded-md border border-gray-300 bg-white text-[14px] font-medium text-gray-700 hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 hover:scale-[1.01] active:scale-[0.99] shadow-sm hover:shadow-md",children:[r.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[r.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),r.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),r.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),r.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),r.jsx("div",{className:"mt-2 flex items-center justify-center text-[13px]",children:r.jsx(Ae,{to:"/forgot",className:"text-white hover:underline",children:"Forgotten your password?"})}),r.jsx(rf,{size:300,duration:4,colorFrom:"#2F64FF",colorTo:"#00D4FF",borderWidth:2.5})]}),r.jsx("div",{className:"w-full max-w-sm mx-auto mt-4",children:r.jsx("div",{className:"rounded-2xl border border-white/10 bg-transparent p-4 text-center",children:r.jsxs("p",{className:"text-white/70 text-sm",children:["Don't have an account? ",r.jsx(Ae,{to:"/signup",className:"text-sky-400 hover:underline font-medium",children:"Sign up"})]})})})]})]})})]})}const Qr={minLength:8,maxLength:128,maxConsecutiveChars:3,commonPasswords:["password","123456","123456789","qwerty","abc123","password123","admin","letmein","welcome","monkey","1234567890","password1","qwerty123","dragon","master","hello","freedom","whatever","trustno1","123123","jordan23","harley","ranger","jordan","hunter","buster","soccer","hockey","killer","george","sexy","andrew","charlie","superman","asshole","fuckyou","dallas","jessica","panties","pepper","1234","6969","knight","mustang","shadow","master","michael","football","tigger","sunshine","iloveyou","fuckme","2000","charlie","robert","hockey","ranger","daniel","hannah","maggie","jessica","charlie","jordan","michelle","andrew","joshua","amanda","justin","sarah","matthew","jennifer","zachary","joshua","jessica","amanda","daniel","brittany","samantha","joshua","jessica","amanda","daniel","brittany","samantha"]},Bd=t=>{const e=[],n=[];return t.length<Qr.minLength&&e.push(`Password must be at least ${Qr.minLength} characters long`),t.length>Qr.maxLength&&e.push(`Password must be no more than ${Qr.maxLength} characters long`),/[A-Z]/.test(t)||e.push("Password must contain at least one uppercase letter"),/[a-z]/.test(t)||e.push("Password must contain at least one lowercase letter"),/\d/.test(t)||e.push("Password must contain at least one number"),/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(t)||e.push("Password must contain at least one special character (!@#$%^&*()_+-=[]{}|;:,.<>?)"),_X(t,Qr.maxConsecutiveChars)&&e.push(`Password cannot have more than ${Qr.maxConsecutiveChars} consecutive identical characters`),Qr.commonPasswords.includes(t.toLowerCase())&&e.push("Password is too common. Please choose a more unique password"),DL(t)&&n.push("Password contains sequential characters which may be easy to guess"),$L(t)&&n.push("Password contains keyboard patterns which may be easy to guess"),FL(t)&&n.push("Password contains repeated character patterns"),{isValid:e.length===0,errors:e,warnings:n,strength:MX(t)}},tm=(t,e)=>t!==e?{isValid:!1,error:"Passwords do not match"}:{isValid:!0},_X=(t,e)=>{let n=1;for(let s=1;s<t.length;s++)if(t[s]===t[s-1]){if(n++,n>e)return!0}else n=1;return!1},DL=t=>{const e=["123","234","345","456","567","678","789","890","abc","bcd","cde","def","efg","fgh","ghi","hij","ijk","jkl","klm","lmn","mno","nop","opq","pqr","qrs","rst","stu","tuv","uvw","vwx","wxy","xyz"],n=t.toLowerCase();return e.some(s=>n.includes(s))},$L=t=>{const e=["qwerty","asdfgh","zxcvbn","qwertyuiop","asdfghjkl","zxcvbnm","123456","234567","345678","456789","567890","qwertyuiopasdfghjklzxcvbnm","asdfghjklqwertyuiopzxcvbnm"],n=t.toLowerCase();return e.some(s=>n.includes(s))},FL=t=>{for(let e=0;e<t.length-3;e++){const n=t.substring(e,e+2);if(t.substring(e+2,e+4)===n)return!0}return!1},MX=t=>{let e=0;t.length>=8&&(e+=1),t.length>=12&&(e+=1),t.length>=16&&(e+=1),/[a-z]/.test(t)&&(e+=1),/[A-Z]/.test(t)&&(e+=1),/\d/.test(t)&&(e+=1),/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(t)&&(e+=1),/[^a-zA-Z0-9!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(t)&&(e+=1),DL(t)&&(e-=1),$L(t)&&(e-=1),FL(t)&&(e-=1),Qr.commonPasswords.includes(t.toLowerCase())&&(e-=2);const n=Math.max(0,Math.min(100,e/7*100));return n<30?{level:"weak",color:"red",percentage:n}:n<60?{level:"fair",color:"orange",percentage:n}:n<80?{level:"good",color:"yellow",percentage:n}:{level:"strong",color:"green",percentage:n}},TX=t=>({weak:"text-red-500",fair:"text-orange-500",good:"text-yellow-500",strong:"text-green-500"})[t.level]||"text-gray-500",LX=t=>({weak:"bg-red-500",fair:"bg-orange-500",good:"bg-yellow-500",strong:"bg-green-500"})[t.level]||"bg-gray-500",zL=({password:t,showDetails:e=!0})=>{if(!t)return null;const n=Bd(t),{strength:s}=n;return r.jsxs("div",{className:"mt-2 space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:r.jsx("div",{className:`h-full transition-all duration-300 ${LX(s)}`,style:{width:`${s.percentage}%`}})}),r.jsx("span",{className:`text-sm font-medium ${TX(s)}`,children:s.level.charAt(0).toUpperCase()+s.level.slice(1)})]}),e&&r.jsxs("div",{className:"space-y-1",children:[n.errors.map((i,a)=>r.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-500",children:[r.jsx("span",{className:"w-1 h-1 bg-red-500 rounded-full"}),r.jsx("span",{children:i})]},a)),n.warnings.map((i,a)=>r.jsxs("div",{className:"flex items-center gap-2 text-sm text-yellow-500",children:[r.jsx("span",{className:"w-1 h-1 bg-yellow-500 rounded-full"}),r.jsx("span",{children:i})]},a)),n.isValid&&n.errors.length===0&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-500",children:[r.jsx("span",{className:"w-1 h-1 bg-green-500 rounded-full"}),r.jsx("span",{children:"Password meets all security requirements"})]})]})]})},Av="h-11 w-full rounded-md border border-white/12 bg-white/[0.03] px-3 text-[14px] text-white outline-none placeholder:text-white/45 focus:border-sky-500 focus:ring-4 focus:ring-sky-500/10";function AX({email:t,setEmail:e,onNext:n,isLoading:s,error:i}){return r.jsxs(ye.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-blue-500/10 border border-blue-500/20",children:r.jsx(IT,{className:"h-8 w-8 text-blue-400"})}),r.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Reset Your Password"}),r.jsx("p",{className:"text-white/60 text-sm",children:"Enter your email address and we'll send you a verification code to reset your password."})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Email Address"}),r.jsx("input",{type:"email",value:t,onChange:a=>e(a.target.value),placeholder:"Enter your email address",className:Av,disabled:s})]}),i&&r.jsxs(ye.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center gap-2 rounded-md border border-red-500/40 bg-red-500/10 px-3 py-2 text-[13px] text-red-300",children:[r.jsx(uu,{className:"h-4 w-4"}),i]}),r.jsx("button",{onClick:n,disabled:!t.trim()||s,className:"w-full h-11 rounded-md bg-[#2f64ff] text-[14px] font-medium text-white hover:bg-[#2958e3] disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:s?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Sending code..."]}):r.jsxs(r.Fragment,{children:["Send Verification Code",r.jsx(Ad,{className:"h-4 w-4"})]})})]}),r.jsx("div",{className:"text-center",children:r.jsxs(Ae,{to:"/login",className:"inline-flex items-center gap-2 text-sky-400 hover:underline text-sm",children:[r.jsx(Oi,{className:"h-4 w-4"}),"Back to Login"]})})]})}function IX({email:t,otp:e,setOtp:n,onNext:s,onResend:i,isLoading:a,error:o,resendLoading:l}){const[c,d]=p.useState(["","","","","",""]),u=(m,f)=>{if(f.length>1)return;const x=[...c];if(x[m]=f,d(x),n(x.join("")),f&&m<5){const g=document.getElementById(`otp-${m+1}`);g&&g.focus()}},h=(m,f)=>{if(f.key==="Backspace"&&!c[m]&&m>0){const x=document.getElementById(`otp-${m-1}`);x&&x.focus()}};return r.jsxs(ye.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-green-500/10 border border-green-500/20",children:r.jsx(Ad,{className:"h-8 w-8 text-green-400"})}),r.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Verify Your Email"}),r.jsxs("p",{className:"text-white/60 text-sm",children:["We've sent a 6-digit code to ",r.jsx("span",{className:"text-blue-400 font-medium",children:t})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/80 mb-3",children:"Enter Verification Code"}),r.jsx("div",{className:"flex gap-3 justify-center",children:c.map((m,f)=>r.jsx("input",{id:`otp-${f}`,type:"text",inputMode:"numeric",pattern:"[0-9]*",value:m,onChange:x=>u(f,x.target.value),onKeyDown:x=>h(f,x),className:"w-12 h-12 text-center text-lg font-bold rounded-md border border-white/12 bg-white/[0.03] text-white focus:border-sky-500 focus:ring-4 focus:ring-sky-500/10 outline-none",maxLength:1,disabled:a},f))})]}),o&&r.jsxs(ye.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center gap-2 rounded-md border border-red-500/40 bg-red-500/10 px-3 py-2 text-[13px] text-red-300",children:[r.jsx(uu,{className:"h-4 w-4"}),o]}),r.jsx("button",{onClick:s,disabled:e.length!==6||a,className:"w-full h-11 rounded-md bg-[#2f64ff] text-[14px] font-medium text-white hover:bg-[#2958e3] disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:a?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Verifying..."]}):r.jsxs(r.Fragment,{children:["Verify Code",r.jsx(js,{className:"h-4 w-4"})]})}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-white/60 text-sm mb-2",children:"Didn't receive the code?"}),r.jsx("button",{onClick:i,disabled:l,className:"text-sky-400 hover:underline text-sm disabled:opacity-50",children:l?"Sending...":"Resend Code"})]})]}),r.jsx("div",{className:"text-center",children:r.jsxs(Ae,{to:"/login",className:"inline-flex items-center gap-2 text-sky-400 hover:underline text-sm",children:[r.jsx(Oi,{className:"h-4 w-4"}),"Back to Login"]})})]})}function OX({password:t,setPassword:e,confirmPassword:n,setConfirmPassword:s,onSubmit:i,isLoading:a,error:o}){const[l,c]=p.useState(!1),[d,u]=p.useState(!1),h=Bd(t),m=tm(t,n),f=h.isValid,x=m.isValid&&n.length>0;return r.jsxs(ye.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-purple-500/10 border border-purple-500/20",children:r.jsx(Ad,{className:"h-8 w-8 text-purple-400"})}),r.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Create New Password"}),r.jsx("p",{className:"text-white/60 text-sm",children:"Choose a strong password for your account"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"New Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:l?"text":"password",value:t,onChange:g=>e(g.target.value),placeholder:"Enter new password",className:Av+" pr-10",disabled:a}),r.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors p-1",children:l?r.jsx(Td,{size:16}):r.jsx(Ld,{size:16})})]}),t&&r.jsx(zL,{password:t,showDetails:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Confirm Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:d?"text":"password",value:n,onChange:g=>s(g.target.value),placeholder:"Confirm new password",className:Av+" pr-10",disabled:a}),r.jsx("button",{type:"button",onClick:()=>u(!d),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors p-1",children:d?r.jsx(Td,{size:16}):r.jsx(Ld,{size:16})})]}),n&&r.jsx("div",{className:"mt-2 text-xs",children:r.jsxs("div",{className:`flex items-center gap-1 ${x?"text-green-400":"text-red-400"}`,children:[r.jsx("div",{className:`w-1 h-1 rounded-full ${x?"bg-green-400":"bg-red-400"}`}),x?"Passwords match":"Passwords do not match"]})})]}),o&&r.jsxs(ye.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center gap-2 rounded-md border border-red-500/40 bg-red-500/10 px-3 py-2 text-[13px] text-red-300",children:[r.jsx(uu,{className:"h-4 w-4"}),o]}),r.jsx("button",{onClick:i,disabled:!f||!x||a,className:"w-full h-11 rounded-md bg-[#2f64ff] text-[14px] font-medium text-white hover:bg-[#2958e3] disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:a?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Updating password..."]}):r.jsxs(r.Fragment,{children:["Update Password",r.jsx(js,{className:"h-4 w-4"})]})})]}),r.jsx("div",{className:"text-center",children:r.jsxs(Ae,{to:"/login",className:"inline-flex items-center gap-2 text-sky-400 hover:underline text-sm",children:[r.jsx(Oi,{className:"h-4 w-4"}),"Back to Login"]})})]})}function RX({onComplete:t}){return r.jsxs(ye.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center space-y-6",children:[r.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-green-500/10 border border-green-500/20",children:r.jsx(js,{className:"h-8 w-8 text-green-400"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Password Updated!"}),r.jsx("p",{className:"text-white/60 text-sm",children:"Your password has been successfully updated. You can now log in with your new password."})]}),r.jsxs("button",{onClick:t,className:"w-full h-11 rounded-md bg-[#2f64ff] text-[14px] font-medium text-white hover:bg-[#2958e3] flex items-center justify-center gap-2",children:["Continue to Login",r.jsx(Oi,{className:"h-4 w-4 rotate-180"})]})]})}function DX(){const t=dt(),[e,n]=p.useState(1),[s,i]=p.useState(""),[a,o]=p.useState(""),[l,c]=p.useState(""),[d,u]=p.useState(""),[h,m]=p.useState(!1),[f,x]=p.useState(!1),[g,b]=p.useState(""),y=async()=>{var k,P;if(!s.trim()){b("Please enter your email address.");return}m(!0),b("");try{const S=await ge.post("/send-otp",{email:s.trim(),purpose:"password_reset"});if(S.data.error){b(S.data.message||"Failed to send verification code.");return}n(2)}catch(S){console.error("Send OTP error:",S),b(((P=(k=S==null?void 0:S.response)==null?void 0:k.data)==null?void 0:P.message)||"Failed to send verification code. Please try again.")}finally{m(!1)}},v=async()=>{var k,P;if(a.length!==6){b("Please enter the complete 6-digit code.");return}m(!0),b("");try{const S=await ge.post("/verify-otp",{email:s.trim(),otp:a,purpose:"password_reset"});if(S.data.error){b(S.data.message||"Invalid verification code.");return}n(3)}catch(S){console.error("Verify OTP error:",S),b(((P=(k=S==null?void 0:S.response)==null?void 0:k.data)==null?void 0:P.message)||"Invalid verification code. Please try again.")}finally{m(!1)}},w=async()=>{var k,P;x(!0),b("");try{const S=await ge.post("/send-otp",{email:s.trim(),purpose:"password_reset"});if(S.data.error){b(S.data.message||"Failed to resend verification code.");return}o(""),setOtpInputs(["","","","","",""])}catch(S){console.error("Resend OTP error:",S),b(((P=(k=S==null?void 0:S.response)==null?void 0:k.data)==null?void 0:P.message)||"Failed to resend verification code. Please try again.")}finally{x(!1)}},N=async()=>{var S,E;const k=Bd(l);if(!k.isValid){b(`Password requirements not met: ${k.errors[0]}`);return}const P=tm(l,d);if(!P.isValid){b(P.error);return}m(!0),b("");try{const T=await ge.post("/reset-password-otp",{email:s.trim(),otp:a,newPassword:l});if(T.data.error){b(T.data.message||"Failed to reset password.");return}n(4)}catch(T){console.error("Reset password error:",T),b(((E=(S=T==null?void 0:T.response)==null?void 0:S.data)==null?void 0:E.message)||"Failed to reset password. Please try again.")}finally{m(!1)}},j=()=>{t("/login")};return r.jsx("main",{className:"min-h-screen bg-[#0b0c0f] flex items-center justify-center p-4",children:r.jsx("div",{className:"w-full max-w-md",children:r.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/[0.02] p-8 shadow-xl",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("div",{className:"flex items-center justify-center space-x-2",children:[1,2,3,4].map(k=>r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${e>=k?"bg-[#2f64ff] text-white":"bg-white/10 text-white/40"}`,children:k}),k<4&&r.jsx("div",{className:`w-8 h-0.5 mx-2 ${e>k?"bg-[#2f64ff]":"bg-white/10"}`})]},k))}),r.jsxs("div",{className:"mt-2 text-center text-xs text-white/60",children:[e===1&&"Enter Email",e===2&&"Verify Code",e===3&&"New Password",e===4&&"Complete"]})]}),r.jsxs(ib,{mode:"wait",children:[e===1&&r.jsx(AX,{email:s,setEmail:i,onNext:y,isLoading:h,error:g}),e===2&&r.jsx(IX,{email:s,otp:a,setOtp:o,onNext:v,onResend:w,isLoading:h,error:g,resendLoading:f}),e===3&&r.jsx(OX,{password:l,setPassword:c,confirmPassword:d,setConfirmPassword:u,onSubmit:N,isLoading:h,error:g}),e===4&&r.jsx(RX,{onComplete:j})]})]})})})}function $X(){const t=dt(),[e]=qb(),[n,s]=p.useState(!1),[i,a]=p.useState(!1),[o,l]=p.useState(""),[c,d]=p.useState(""),[u,h]=p.useState(!1),m=e.get("token");p.useEffect(()=>{m&&f()},[m]);const f=async()=>{var b,y;if(!m){d("No verification token provided.");return}s(!0),d("");try{const v=await ge.post("/verify-email",{token:m});if(v.data.error){d(v.data.message||"Invalid or expired verification link.");return}h(!0),l("Your email has been successfully verified!")}catch(v){console.error("Email verification error:",v),d(((y=(b=v==null?void 0:v.response)==null?void 0:b.data)==null?void 0:y.message)||"Failed to verify email. Please try again.")}finally{s(!1)}},x=async()=>{var b,y;a(!0),d("");try{const v=await ge.post("/send-email-verification");if(v.data.error){d(v.data.message||"Failed to resend verification email.");return}l("Verification email sent! Please check your inbox.")}catch(v){console.error("Resend verification error:",v),d(((y=(b=v==null?void 0:v.response)==null?void 0:b.data)==null?void 0:y.message)||"Failed to resend verification email. Please try again.")}finally{a(!1)}},g=()=>{t("/dashboard")};return r.jsx("main",{className:"min-h-screen bg-[#0b0c0f] flex items-center justify-center p-4",children:r.jsx("div",{className:"w-full max-w-md",children:r.jsx("div",{className:"rounded-2xl border border-white/10 bg-white/[0.02] p-8 shadow-xl",children:r.jsxs("div",{className:"text-center space-y-6",children:[r.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-blue-500/10 border border-blue-500/20",children:u?r.jsx(js,{className:"h-8 w-8 text-green-400"}):r.jsx(IT,{className:"h-8 w-8 text-blue-400"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:u?"Email Verified!":"Verify Your Email"}),r.jsx("p",{className:"text-white/60 text-sm",children:u?"Your email address has been successfully verified. You can now access all features.":"We've sent a verification link to your email address. Please check your inbox and click the link to verify your account."})]}),o&&r.jsxs(ye.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center gap-2 rounded-md border border-green-500/40 bg-green-500/10 px-3 py-2 text-[13px] text-green-300",children:[r.jsx(js,{className:"h-4 w-4"}),o]}),c&&r.jsxs(ye.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center gap-2 rounded-md border border-red-500/40 bg-red-500/10 px-3 py-2 text-[13px] text-red-300",children:[r.jsx(uu,{className:"h-4 w-4"}),c]}),r.jsx("div",{className:"space-y-3",children:u?r.jsxs("button",{onClick:g,className:"w-full h-11 rounded-md bg-[#2f64ff] text-[14px] font-medium text-white hover:bg-[#2958e3] flex items-center justify-center gap-2",children:["Continue to Dashboard",r.jsx(Oi,{className:"h-4 w-4 rotate-180"})]}):r.jsxs(r.Fragment,{children:[m&&r.jsx("button",{onClick:f,disabled:n,className:"w-full h-11 rounded-md bg-[#2f64ff] text-[14px] font-medium text-white hover:bg-[#2958e3] disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:n?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Verifying..."]}):r.jsxs(r.Fragment,{children:["Verify Email",r.jsx(js,{className:"h-4 w-4"})]})}),r.jsx("button",{onClick:x,disabled:i,className:"w-full h-11 rounded-md border border-white/12 bg-white/[0.03] text-[14px] font-medium text-white hover:bg-white/[0.06] disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:i?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Sending..."]}):r.jsxs(r.Fragment,{children:["Resend Verification Email",r.jsx(RK,{className:"h-4 w-4"})]})})]})}),r.jsx("div",{className:"text-center",children:r.jsxs(Ae,{to:"/login",className:"inline-flex items-center gap-2 text-sky-400 hover:underline text-sm",children:[r.jsx(Oi,{className:"h-4 w-4"}),"Back to Login"]})})]})})})})}function FX(){const[t]=qb(),e=dt(),[n,s]=p.useState(""),[i,a]=p.useState(""),[o,l]=p.useState(""),[c,d]=p.useState(!1),[u,h]=p.useState(!1),[m,f]=p.useState(!1),[x,g]=p.useState(!0),[b,y]=p.useState(""),[v,w]=p.useState(!1),[N,j]=p.useState(null);p.useEffect(()=>{const F=t.get("tokenId");F?(s(F),k(F)):(y("Invalid reset link. Please request a new password reset."),g(!1))},[t]);const k=async F=>{try{const D=await ge.post("/validate-reset-token",{tokenId:F});D.data.error?y(D.data.message):j(D.data.user)}catch{y("Invalid or expired reset link. Please request a new password reset.")}finally{g(!1)}},P=async F=>{var _,z;F.preventDefault();const D=Bd(i);if(!D.isValid){y(`Password requirements not met: ${D.errors[0]}`);return}const A=tm(i,o);if(!A.isValid){y(A.error);return}f(!0),y("");try{const I=await ge.post("/reset-password",{tokenId:n,newPassword:i});I.data.error?y(I.data.message):(w(!0),setTimeout(()=>{e("/login")},3e3))}catch(I){y(((z=(_=I==null?void 0:I.response)==null?void 0:_.data)==null?void 0:z.message)||"Failed to reset password. Please try again.")}finally{f(!1)}},S=Bd(i),E=tm(i,o),T=S.isValid,W=E.isValid&&o.length>0;return x?r.jsx("main",{className:"min-h-screen bg-[#0b0c0f] flex items-center justify-center p-4",children:r.jsx("div",{className:"w-full max-w-md",children:r.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/[0.02] p-8 shadow-xl text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),r.jsx("p",{className:"text-white/60",children:"Validating reset link..."})]})})}):v?r.jsx("main",{className:"min-h-screen bg-[#0b0c0f] flex items-center justify-center p-4",children:r.jsx("div",{className:"w-full max-w-md",children:r.jsxs(ye.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"rounded-2xl border border-white/10 bg-white/[0.02] p-8 shadow-xl text-center",children:[r.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-green-500/10 border border-green-500/20",children:r.jsx(js,{className:"h-8 w-8 text-green-400"})}),r.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Password Reset Successful!"}),r.jsx("p",{className:"text-white/60 mb-6",children:"Your password has been successfully reset. You will be redirected to the login page."}),r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-green-500 mx-auto"})]})})}):r.jsx("main",{className:"min-h-screen bg-[#0b0c0f] flex items-center justify-center p-4",children:r.jsx("div",{className:"w-full max-w-md",children:r.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/[0.02] p-8 shadow-xl",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-purple-500/10 border border-purple-500/20",children:r.jsx(Ad,{className:"h-8 w-8 text-purple-400"})}),r.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Reset Your Password"}),N&&r.jsxs("p",{className:"text-white/60 text-sm",children:["Hello ",N.firstName,", please enter your new password below."]})]}),b&&r.jsxs(ye.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 rounded-lg border border-red-500/40 bg-red-500/10 text-red-300 text-sm flex items-center gap-2",children:[r.jsx(uu,{className:"h-4 w-4"}),b]}),r.jsxs("form",{onSubmit:P,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"New Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:c?"text":"password",value:i,onChange:F=>a(F.target.value),placeholder:"Enter new password",className:"h-11 w-full rounded-md border border-white/12 bg-white/[0.03] px-3 text-[14px] text-white outline-none placeholder:text-white/45 focus:border-sky-500 focus:ring-4 focus:ring-sky-500/10 pr-10",disabled:m,required:!0}),r.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors p-1",children:c?r.jsx(Td,{size:16}):r.jsx(Ld,{size:16})})]}),i&&r.jsx(zL,{password:i,showDetails:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Confirm Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:u?"text":"password",value:o,onChange:F=>l(F.target.value),placeholder:"Confirm new password",className:"h-11 w-full rounded-md border border-white/12 bg-white/[0.03] px-3 text-[14px] text-white outline-none placeholder:text-white/45 focus:border-sky-500 focus:ring-4 focus:ring-sky-500/10 pr-10",disabled:m,required:!0}),r.jsx("button",{type:"button",onClick:()=>h(!u),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors p-1",children:u?r.jsx(Td,{size:16}):r.jsx(Ld,{size:16})})]}),o&&r.jsx("div",{className:"mt-2 text-xs",children:r.jsxs("div",{className:`flex items-center gap-1 ${W?"text-green-400":"text-red-400"}`,children:[r.jsx("div",{className:`w-1 h-1 rounded-full ${W?"bg-green-400":"bg-red-400"}`}),W?"Passwords match":"Passwords do not match"]})})]}),r.jsx(ye.button,{type:"submit",disabled:m||!T||!W,className:"w-full h-11 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white font-medium rounded-md transition-colors duration-200 flex items-center justify-center gap-2",whileHover:{scale:1.02},whileTap:{scale:.98},children:m?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Resetting Password..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Ad,{className:"h-4 w-4"}),"Reset Password"]})})]}),r.jsx("div",{className:"mt-6 text-center",children:r.jsxs("button",{onClick:()=>e("/login"),className:"text-blue-400 hover:text-blue-300 text-sm flex items-center justify-center gap-1 mx-auto",children:[r.jsx(Oi,{className:"h-4 w-4"}),"Back to Login"]})})]})})})}const Nc="https://images.unsplash.com/photo-1501183638710-841dd1904471?q=80&w=1600&auto=format&fit=crop",j5=t=>typeof t=="string"&&/^https?:\/\//i.test(t),zX=t=>t?Array.isArray(t)?t.find(j5)||Nc:typeof t=="string"&&j5(t)?t:Nc:Nc,BX=t=>typeof t=="number"?t.toLocaleString("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}):t?`$${String(t).replace(/[^\d]/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,",")}`:"",VX=t=>typeof t=="number"?`${t.toFixed((t<1,1))} mi`:t?`${t} mi`:"",UX=t=>{if(!t)return"";if(typeof t=="string")return t;const{street:e,city:n,state:s,zipCode:i,zip:a}=t||{};return[e,n,s,i||a].filter(Boolean).join(", ")};function BL({property:t}){if(!t)return null;const{user:e}=Ka(),{_id:n,title:s,price:i,bedrooms:a,bathrooms:o,distanceFromUniversity:l,address:c,images:d,isVerified:u,userId:h}=t,m=e&&h&&e._id===h,f=p.useMemo(()=>zX(d),[d]),[x,g]=p.useState(!1),[b,y]=p.useState(f);return r.jsxs(Ae,{to:`/properties/${n}`,className:"group block overflow-hidden rounded-2xl border border-white/10 bg-white/[0.03] shadow-[0_20px_60px_-20px_rgba(0,0,0,.5)] transition-transform hover:-translate-y-0.5",children:[r.jsxs("div",{className:"relative aspect-[16/9] overflow-hidden bg-[radial-gradient(120%_120%_at_0%_0%,#6e46ff22,transparent_60%),linear-gradient(180deg,#0f1117,#0b0c0f)]",children:[!x&&r.jsx("div",{className:"absolute inset-0 animate-pulse bg-white/5"}),r.jsx("img",{src:b,alt:s||"Property photo",loading:"lazy",onLoad:()=>g(!0),onError:()=>y(Nc),className:`absolute inset-0 h-full w-full object-cover transition-opacity duration-500 ${x?"opacity-100":"opacity-0"}`}),r.jsx("div",{className:"pointer-events-none absolute inset-x-0 bottom-0 h-24 bg-gradient-to-t from-black/60 to-transparent"})]}),r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"mb-1 flex items-start justify-between gap-3",children:[r.jsx("div",{className:"min-w-0",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h3",{className:"truncate text-[16px] font-semibold text-white/95",children:s||"Untitled listing"}),u&&r.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-emerald-400/30 bg-emerald-400/10 px-2 py-[2px] text-[10px] text-emerald-200",children:[r.jsx(q0,{className:"h-3 w-3"})," Verified"]})]})}),r.jsx("div",{className:"shrink-0 text-[15px] font-semibold text-white/95",children:BX(i)})]}),m&&r.jsx("div",{className:"mb-2",children:r.jsx("span",{className:"inline-flex items-center gap-1 rounded-full border border-blue-400/40 bg-black/80 px-2 py-[2px] text-[10px] text-white font-medium",children:"Created by you"})}),r.jsxs("div",{className:"mb-2 flex items-center gap-3 text-[13px] text-white/70",children:[r.jsxs("span",{className:"inline-flex items-center gap-1",children:[r.jsx(K_,{className:"h-4 w-4 text-violet-300/90"}),a??""," bd"]}),r.jsxs("span",{className:"inline-flex items-center gap-1",children:[r.jsx(Jb,{className:"h-4 w-4 text-violet-300/90"}),o??""," ba"]}),r.jsxs("span",{className:"inline-flex items-center gap-1",children:[r.jsx(zh,{className:"h-4 w-4 text-violet-300/90"}),VX(l)]})]}),r.jsx("div",{className:"truncate text-[13px] text-white/55",children:UX(c)})]})]})}function WX({onListProperty:t}){const[e,n]=p.useState(!1),[s,i]=p.useState(0),[a,o]=p.useState(0),[l,c]=p.useState(""),[d,u]=p.useState(!1),[h,m]=p.useState(0),[f,x]=p.useState(!1),[g,b]=p.useState(0),[y,v]=p.useState(""),[w,N]=p.useState(!1),j=["studio apartment","2 bedroom","near campus","furnished","pet friendly","utilities included"],k=[{text:"Safe, local, student-first.",color:"#10b981",glow:"0 0 6px #10b981, 0 0 12px #10b981"},{text:"Trusted by students worldwide.",color:"#3b82f6",glow:"0 0 6px #3b82f6, 0 0 12px #3b82f6"},{text:"Your campus housing marketplace.",color:"#8b5cf6",glow:"0 0 6px #8b5cf6, 0 0 12px #8b5cf6"},{text:"Find and list with confidence.",color:"#f97316",glow:"0 0 6px #f97316, 0 0 12px #f97316"},{text:"Connecting students everywhere.",color:"#eab308",glow:"0 0 6px #eab308, 0 0 12px #eab308"}];p.useEffect(()=>{n(!0);const T=setInterval(()=>{i(W=>(W+1)%j.length)},2e3);return()=>clearInterval(T)},[]),p.useEffect(()=>{const W=k[g].text;let F=0;v(""),N(!0);const D=setInterval(()=>{F<W.length?(v(W.slice(0,F+1)),F++):(N(!1),clearInterval(D),setTimeout(()=>{b(A=>(A+1)%k.length)},5e3))},80);return()=>clearInterval(D)},[g]),p.useEffect(()=>{const T=setInterval(()=>o(W=>Math.min(W+1,4)),1e3);return()=>clearInterval(T)},[]),p.useEffect(()=>{if(e){const T=setTimeout(()=>{x(!0),P()},1e3);return()=>clearTimeout(T)}},[e]);const P=()=>{const F=Date.now(),D=()=>{const A=Date.now()-F,_=Math.min(A/2e3,1),z=1-Math.pow(1-_,3),I=Math.floor(z*500);m(I),_<1&&requestAnimationFrame(D)};requestAnimationFrame(D)},S=T=>{if(T.preventDefault(),l.trim()){const W=document.getElementById("properties-grid");W&&(W.scrollIntoView({behavior:"smooth",block:"start"}),window.dispatchEvent(new CustomEvent("propertySearch",{detail:{query:l.trim()}})))}},E=T=>{c(T),u(!1)};return r.jsxs("section",{className:"nr-hero-bg nr-hero-starry relative flex min-h-[70vh] items-center overflow-hidden",children:[r.jsxs("div",{className:"absolute inset-0",children:[r.jsx("div",{className:"hero-orb absolute top-1/4 left-1/4 w-32 h-32 bg-gradient-to-r from-orange-500/10 to-cyan-500/10 rounded-full blur-3xl"}),r.jsx("div",{className:"hero-orb absolute bottom-1/4 right-1/4 w-48 h-48 bg-gradient-to-r from-blue-500/10 to-purple-500/10 rounded-full blur-3xl"}),r.jsx("div",{className:"hero-orb absolute top-1/2 right-1/3 w-24 h-24 bg-gradient-to-r from-emerald-500/10 to-teal-500/10 rounded-full blur-2xl"}),r.jsx("div",{className:"hero-orb absolute top-3/4 left-1/3 w-40 h-40 bg-gradient-to-r from-amber-500/8 to-orange-500/8 rounded-full blur-3xl"})]}),r.jsxs("div",{className:"mx-auto w-full max-w-[110rem] px-4 py-14 relative z-10",children:[r.jsx("div",{className:`text-center transition-all duration-1000 ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:r.jsxs("div",{className:"flex items-center justify-center gap-3 mb-8 flex-wrap",children:[r.jsxs("span",{className:"inline-flex items-center gap-2 text-sm text-white/70 rounded-full bg-white/5 px-3 py-1",children:[r.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),"Student-only housing"]}),r.jsxs("span",{className:"inline-flex items-center gap-2 text-sm text-white/70 rounded-full bg-white/5 px-3 py-1",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),"Verified .edu accounts"]}),r.jsxs("span",{className:"inline-flex items-center gap-2 text-sm text-white/70 rounded-full bg-white/5 px-3 py-1",children:[r.jsx("div",{className:"w-2 h-2 bg-orange-400 rounded-full"}),"Safe transactions"]})]})}),r.jsx("div",{className:`text-center transition-all duration-1000 delay-300 ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,children:r.jsxs("h1",{className:"mx-auto max-w-5xl text-center text-4xl font-black tracking-tight text-white md:text-6xl lg:text-7xl",children:["Find & list"," ",r.jsx("span",{className:"bg-gradient-to-r from-amber-400 via-amber-300 to-orange-500 bg-clip-text text-transparent animate-pulse",children:"student housing"})," ","in minutes.",r.jsx("br",{className:"hidden md:block"}),r.jsx("div",{className:"block mt-2 text-2xl md:text-3xl lg:text-4xl h-12 flex items-center justify-center",children:r.jsx("div",{className:"px-2 sm:px-3 md:px-4 py-1 sm:py-1.5 md:py-2 rounded-xl font-semibold rotating-text-glow",style:{animation:"fadeInUp 0.6s ease-in-out",color:k[g].color,textShadow:k[g].glow,letterSpacing:"-0.5px"},children:y.split("").map((T,W)=>r.jsx("span",{className:`typing-letter inline-block ${w&&W===y.length-1?"animate-pulse":""}`,style:{animationDelay:`${W*100}ms`,color:k[g].color,textShadow:k[g].glow,letterSpacing:"-0.5px"},children:T===" "?"":T},W))},g)})]})}),r.jsx("div",{className:`mx-auto mt-8 max-w-3xl transition-all duration-1000 delay-400 ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,children:r.jsx("form",{onSubmit:S,children:r.jsx("div",{className:"rounded-2xl border border-white/10 bg-white/5/50 p-3 backdrop-blur-md hover:bg-white/8/50 transition-all duration-300",children:r.jsxs("div",{className:"flex items-center gap-3 rounded-xl border border-white/10 bg-[#101215] px-4 py-3 hover:border-white/20 focus-within:border-amber-400/50 transition-all duration-200",children:[r.jsx("span",{className:"text-white/50 text-lg",children:""}),r.jsx("div",{className:"flex-1 relative",children:r.jsx("input",{type:"text",value:l,onChange:T=>c(T.target.value),onFocus:()=>u(!0),onBlur:()=>setTimeout(()=>u(!1),200),placeholder:d?"Search for properties...":`Try: ${j[s]}`,className:"w-full bg-transparent text-sm text-white placeholder:text-white/40 focus:outline-none transition-all duration-500"})}),r.jsx("button",{type:"submit",className:"rounded-full bg-gradient-to-r from-amber-500 to-orange-500 px-4 py-2 text-xs font-semibold text-black hover:from-amber-400 hover:to-orange-400 transition-all duration-200 hover:scale-105 shadow-lg shadow-amber-500/25",children:"Search"})]})})})}),d&&r.jsx("div",{className:"mx-auto mt-2 max-w-3xl relative",children:r.jsx("div",{className:"rounded-xl border border-white/10 bg-[#0f1115] backdrop-blur-xl shadow-2xl z-[9999] max-h-48 overflow-y-auto",children:r.jsxs("div",{className:"p-2",children:[r.jsx("div",{className:"text-xs text-white/60 px-3 py-2 border-b border-white/10 mb-2",children:"Popular searches"}),j.map((T,W)=>r.jsxs("button",{onClick:()=>E(T),className:"w-full text-left px-3 py-2 text-sm text-white/80 hover:bg-white/10 hover:text-white rounded-lg transition-all duration-200 flex items-center gap-2",children:[r.jsx("span",{className:"text-amber-400",children:""}),T]},W))]})})}),r.jsx("div",{className:`mt-8 text-center transition-all duration-1000 delay-500 ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:r.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[r.jsxs("button",{onClick:()=>{const T=document.getElementById("properties-grid");T&&T.scrollIntoView({behavior:"smooth",block:"start"})},className:"hero-cta-button group relative inline-flex items-center gap-3 rounded-full bg-gradient-to-r from-orange-500 to-orange-600 px-8 py-4 text-base font-bold text-black shadow-[0_12px_32px_rgba(255,153,0,.4)] hover:shadow-[0_16px_40px_rgba(255,153,0,.5)] hover:scale-105 transition-all duration-300 hover:from-orange-400 hover:to-orange-500",type:"button",children:[r.jsx("span",{children:"Explore properties"}),r.jsx("div",{className:"w-5 h-5 rounded-full bg-black/20 flex items-center justify-center group-hover:translate-x-1 transition-transform duration-200",children:r.jsx("div",{className:"w-2 h-2 bg-black rounded-full"})}),r.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-orange-500 to-orange-600 opacity-0 group-hover:opacity-20 blur-xl transition-opacity duration-300"})]}),r.jsxs("button",{onClick:t,className:"group inline-flex items-center gap-2 rounded-full border border-white/20 bg-white/5 px-6 py-3 text-sm text-white/85 hover:bg-white/10 hover:border-white/30 transition-all duration-200",children:[r.jsx("span",{className:"text-lg",children:"+"}),"List your property"]})]})}),r.jsx("div",{className:`mx-auto mt-8 flex justify-center transition-all duration-1000 delay-800 ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,children:r.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-4 py-2 backdrop-blur-sm",children:[r.jsx("div",{className:"w-2 h-2 bg-amber-400 rounded-full animate-pulse"}),r.jsxs("span",{className:"text-sm text-white/80",children:[r.jsx("span",{className:"font-bold text-amber-400",children:f?`${h}+`:"0+"}),r.jsx("span",{className:"ml-1",children:"Active Properties"})]})]})})]})]})}function HX({children:t,delay:e=0}){const[n,s]=p.useState(!1);return p.useEffect(()=>{const i=setTimeout(()=>s(!0),e);return()=>clearTimeout(i)},[e]),r.jsx("span",{className:`inline-flex items-center rounded-full border border-white/15 bg-white/[0.04] px-3 py-1 text-[11px] font-medium text-white/70 backdrop-blur-sm hover:bg-white/[0.08] transition-all duration-300 ${n?"opacity-100 translate-y-0":"opacity-0 translate-y-2"}`,children:t})}function nh({className:t="",children:e,delay:n=0}){const[s,i]=p.useState(!1);return p.useEffect(()=>{const a=setTimeout(()=>i(!0),n);return()=>clearTimeout(a)},[n]),r.jsx("div",{className:`nr-panel hover:border-white/12 transition-all duration-300 ${s?"opacity-100 translate-y-0":"opacity-0 translate-y-4"} ${t}`,children:e})}function Vg({children:t,delay:e=0}){const[n,s]=p.useState(!1);return p.useEffect(()=>{const i=setTimeout(()=>s(!0),e);return()=>clearTimeout(i)},[e]),r.jsx("div",{className:`nr-iconTile hover:scale-105 transition-all duration-300 ${n?"opacity-100 scale-100":"opacity-0 scale-95"}`,children:r.jsx("div",{className:"nr-iconTile-inner",children:t})})}const Ug={Home:()=>r.jsxs("svg",{width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",children:[r.jsx("path",{d:"M3 9l9-4 9 4-9 4-9-4Z",stroke:"currentColor",strokeWidth:"1.6"}),r.jsx("path",{d:"M7 11v4c0 1.1 2.7 2 6 2s6-.9 6-2v-4",stroke:"currentColor",strokeWidth:"1.6"})]}),Map:()=>r.jsxs("svg",{width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",children:[r.jsx("path",{d:"M12 3 3 7.5 12 12l9-4.5L12 3Z",stroke:"currentColor",strokeWidth:"1.6"}),r.jsx("path",{d:"M3 7.5V16l9 4.5 9-4.5V7.5",stroke:"currentColor",strokeWidth:"1.6"}),r.jsx("path",{d:"M12 12v8.5",stroke:"currentColor",strokeWidth:"1.6"})]}),Shield:()=>r.jsxs("svg",{width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",children:[r.jsx("path",{d:"M12 3 4 6v6c0 4.5 3.4 7.3 8 9 4.6-1.7 8-4.5 8-9V6l-8-3Z",stroke:"currentColor",strokeWidth:"1.6"}),r.jsx("path",{d:"M9 12l2 2 4-4",stroke:"currentColor",strokeWidth:"1.6"})]})};function qX(){const[t,e]=p.useState(!1),n=["Studio","1 Bedroom","2 Bedroom","3 Bedroom","Furnished","Unfurnished","Near Campus","Pet Friendly","Utilities Included","Parking","Laundry","WiFi"];return p.useEffect(()=>{e(!0)},[]),r.jsxs("section",{className:"nr-dots-fade mx-auto max-w-7xl px-4 pt-10 pb-16",children:[r.jsxs("div",{className:`mb-8 text-center transition-all duration-1000 ${t?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:[r.jsx(HX,{delay:200,children:"WHY NEWRUN HOUSING"}),r.jsx("h2",{className:"mt-4 text-4xl font-black tracking-tight sm:text-[44px] bg-gradient-to-r from-white to-white/80 bg-clip-text text-transparent",children:"The easiest way to find housing on campus."}),r.jsx("p",{className:"mt-4 text-white/60 max-w-2xl mx-auto",children:"Join thousands of students finding and listing student housing safely and efficiently."})]}),r.jsxs("div",{className:"grid gap-6 lg:grid-cols-12",children:[r.jsxs(nh,{className:"relative overflow-hidden lg:col-span-7",delay:400,children:[r.jsx("div",{className:"mb-6",children:r.jsx("span",{className:"rounded-full border border-white/15 bg-white/[0.03] px-3 py-1.5 text-[11px] text-white/70 backdrop-blur-sm",children:" Find Your Home"})}),r.jsxs("h3",{className:"max-w-xl text-[30px] font-extrabold leading-tight sm:text-[34px] bg-gradient-to-r from-white to-white/90 bg-clip-text text-transparent",children:["Find housing with real classmates",r.jsx("br",{})," no sketchy landlords."]}),r.jsx("p",{className:"mt-4 max-w-xl text-white/80 text-lg leading-relaxed",children:"Sign in with your .edu email, browse verified properties, and connect with student landlords. Your details stay private until access is approved."}),r.jsx("div",{className:"mt-6 nr-marquee",style:{"--nr-gap":"12px","--nr-marquee-dur":"25s"},children:r.jsxs("div",{className:"nr-marquee-track",children:[n.map((s,i)=>r.jsx("span",{className:"nr-chip hover:bg-white/10 transition-colors duration-200",children:s},`a-${i}`)),n.map((s,i)=>r.jsx("span",{className:"nr-chip hover:bg-white/10 transition-colors duration-200",children:s},`b-${i}`))]})}),r.jsx("div",{className:"mt-8",children:r.jsxs("a",{href:"#properties-grid",className:"group inline-flex items-center gap-2 rounded-xl bg-gradient-to-r from-amber-500 to-orange-600 px-6 py-3 text-sm font-semibold text-black shadow-[0_10px_30px_rgba(255,153,0,.22)] hover:shadow-[0_15px_40px_rgba(255,153,0,.3)] hover:scale-105 transition-all duration-200",children:["Explore properties",r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",className:"group-hover:translate-x-1 transition-transform duration-200",children:r.jsx("path",{d:"M5 12h14M13 5l7 7-7 7",stroke:"currentColor",strokeWidth:"2",fill:"none"})})]})}),r.jsx("div",{className:"nr-ramp","aria-hidden":!0})]}),r.jsxs("div",{className:"flex flex-col gap-5 lg:col-span-5",children:[r.jsxs(nh,{className:"flex items-start gap-4 p-5 sm:p-6 hover:bg-white/[0.02] transition-all duration-300",delay:600,children:[r.jsx(Vg,{delay:700,children:r.jsx(Ug.Home,{})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-[12px] font-semibold tracking-wide text-white/60",children:"VERIFIED STUDENTS"}),r.jsx("h4",{className:"mt-1 text-[18px] font-semibold text-white",children:"Sign in with .edu"}),r.jsx("p",{className:"mt-2 text-white/75 leading-relaxed",children:"Renters and landlords know they're dealing with real classmates."})]})]}),r.jsxs(nh,{className:"flex items-start gap-4 p-5 sm:p-6 hover:bg-white/[0.02] transition-all duration-300",delay:800,children:[r.jsx(Vg,{delay:900,children:r.jsx(Ug.Map,{})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-[12px] font-semibold tracking-wide text-white/60",children:"LOCATION FILTERING"}),r.jsx("h4",{className:"mt-1 text-[18px] font-semibold text-white",children:"Find what works"}),r.jsx("p",{className:"mt-2 text-white/75 leading-relaxed",children:"Filter by distance from campus, price range, and amenities  find your perfect match."})]})]}),r.jsxs(nh,{className:"flex items-start gap-4 p-5 sm:p-6 hover:bg-white/[0.02] transition-all duration-300",delay:1e3,children:[r.jsx(Vg,{delay:1100,children:r.jsx(Ug.Shield,{})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-[12px] font-semibold tracking-wide text-white/60",children:"SAFE CONTACT SHARING"}),r.jsx("h4",{className:"mt-1 text-[18px] font-semibold text-white",children:"Privacy by default"}),r.jsx("p",{className:"mt-2 text-white/75 leading-relaxed",children:"When access is approved, share only what's needed  nothing more."})]})]})]})]})]})}var VL={exports:{}},GX="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",KX=GX,YX=KX;function UL(){}function WL(){}WL.resetWarningCache=UL;var XX=function(){function t(s,i,a,o,l,c){if(c!==YX){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:WL,resetWarningCache:UL};return n.PropTypes=n,n};VL.exports=XX();var Z1=VL.exports;const at=oy(Z1),ZX=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function ml(t,e,n){const s=QX(t),{webkitRelativePath:i}=t,a=typeof e=="string"?e:typeof i=="string"&&i.length>0?i:`./${t.name}`;return typeof s.path!="string"&&N5(s,"path",a),N5(s,"relativePath",a),s}function QX(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const s=e.split(".").pop().toLowerCase(),i=ZX.get(s);i&&Object.defineProperty(t,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return t}function N5(t,e,n){Object.defineProperty(t,e,{value:n,writable:!1,configurable:!1,enumerable:!0})}const JX=[".DS_Store","Thumbs.db"];function eZ(t){return Ha(this,void 0,void 0,function*(){return nm(t)&&tZ(t.dataTransfer)?iZ(t.dataTransfer,t.type):nZ(t)?sZ(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?rZ(t):[]})}function tZ(t){return nm(t)}function nZ(t){return nm(t)&&nm(t.target)}function nm(t){return typeof t=="object"&&t!==null}function sZ(t){return Iv(t.target.files).map(e=>ml(e))}function rZ(t){return Ha(this,void 0,void 0,function*(){return(yield Promise.all(t.map(n=>n.getFile()))).map(n=>ml(n))})}function iZ(t,e){return Ha(this,void 0,void 0,function*(){if(t.items){const n=Iv(t.items).filter(i=>i.kind==="file");if(e!=="drop")return n;const s=yield Promise.all(n.map(aZ));return k5(HL(s))}return k5(Iv(t.files).map(n=>ml(n)))})}function k5(t){return t.filter(e=>JX.indexOf(e.name)===-1)}function Iv(t){if(t===null)return[];const e=[];for(let n=0;n<t.length;n++){const s=t[n];e.push(s)}return e}function aZ(t){if(typeof t.webkitGetAsEntry!="function")return S5(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?qL(e):S5(t,e)}function HL(t){return t.reduce((e,n)=>[...e,...Array.isArray(n)?HL(n):[n]],[])}function S5(t,e){return Ha(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const a=yield t.getAsFileSystemHandle();if(a===null)throw new Error(`${t} is not a File`);if(a!==void 0){const o=yield a.getFile();return o.handle=a,ml(o)}}const s=t.getAsFile();if(!s)throw new Error(`${t} is not a File`);return ml(s,(n=e==null?void 0:e.fullPath)!==null&&n!==void 0?n:void 0)})}function oZ(t){return Ha(this,void 0,void 0,function*(){return t.isDirectory?qL(t):lZ(t)})}function qL(t){const e=t.createReader();return new Promise((n,s)=>{const i=[];function a(){e.readEntries(o=>Ha(this,void 0,void 0,function*(){if(o.length){const l=Promise.all(o.map(oZ));i.push(l),a()}else try{const l=yield Promise.all(i);n(l)}catch(l){s(l)}}),o=>{s(o)})}a()})}function lZ(t){return Ha(this,void 0,void 0,function*(){return new Promise((e,n)=>{t.file(s=>{const i=ml(s,t.fullPath);e(i)},s=>{n(s)})})})}var Wg=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(",");if(n.length===0)return!0;var s=t.name||"",i=(t.type||"").toLowerCase(),a=i.replace(/\/.*$/,"");return n.some(function(o){var l=o.trim().toLowerCase();return l.charAt(0)==="."?s.toLowerCase().endsWith(l):l.endsWith("/*")?a===l.replace(/\/.*$/,""):i===l})}return!0};function C5(t){return uZ(t)||dZ(t)||KL(t)||cZ()}function cZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function uZ(t){if(Array.isArray(t))return Ov(t)}function P5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function E5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P5(Object(n),!0).forEach(function(s){GL(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P5(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function GL(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vd(t,e){return mZ(t)||pZ(t,e)||KL(t,e)||hZ()}function hZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KL(t,e){if(t){if(typeof t=="string")return Ov(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ov(t,e)}}function Ov(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,s=new Array(e);n<e;n++)s[n]=t[n];return s}function pZ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var s=[],i=!0,a=!1,o,l;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(s.push(o.value),!(e&&s.length===e));i=!0);}catch(c){a=!0,l=c}finally{try{!i&&n.return!=null&&n.return()}finally{if(a)throw l}}return s}}function mZ(t){if(Array.isArray(t))return t}var fZ=typeof Wg=="function"?Wg:Wg.default,gZ="file-invalid-type",xZ="file-too-large",vZ="file-too-small",yZ="too-many-files",bZ=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=e.split(","),s=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:gZ,message:"File type must be ".concat(s)}},_5=function(e){return{code:xZ,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},M5=function(e){return{code:vZ,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},wZ={code:yZ,message:"Too many files"};function YL(t,e){var n=t.type==="application/x-moz-file"||fZ(t,e);return[n,n?null:bZ(e)]}function XL(t,e,n){if(oa(t.size))if(oa(e)&&oa(n)){if(t.size>n)return[!1,_5(n)];if(t.size<e)return[!1,M5(e)]}else{if(oa(e)&&t.size<e)return[!1,M5(e)];if(oa(n)&&t.size>n)return[!1,_5(n)]}return[!0,null]}function oa(t){return t!=null}function jZ(t){var e=t.files,n=t.accept,s=t.minSize,i=t.maxSize,a=t.multiple,o=t.maxFiles,l=t.validator;return!a&&e.length>1||a&&o>=1&&e.length>o?!1:e.every(function(c){var d=YL(c,n),u=Vd(d,1),h=u[0],m=XL(c,s,i),f=Vd(m,1),x=f[0],g=l?l(c):null;return h&&x&&!g})}function sm(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function sh(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function T5(t){t.preventDefault()}function NZ(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function kZ(t){return t.indexOf("Edge/")!==-1}function SZ(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return NZ(t)||kZ(t)}function sr(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(s){for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];return e.some(function(l){return!sm(s)&&l&&l.apply(void 0,[s].concat(a)),sm(s)})}}function CZ(){return"showOpenFilePicker"in window}function PZ(t){if(oa(t)){var e=Object.entries(t).filter(function(n){var s=Vd(n,2),i=s[0],a=s[1],o=!0;return ZL(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(a)||!a.every(QL))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(n,s){var i=Vd(s,2),a=i[0],o=i[1];return E5(E5({},n),{},GL({},a,o))},{});return[{description:"Files",accept:e}]}return t}function EZ(t){if(oa(t))return Object.entries(t).reduce(function(e,n){var s=Vd(n,2),i=s[0],a=s[1];return[].concat(C5(e),[i],C5(a))},[]).filter(function(e){return ZL(e)||QL(e)}).join(",")}function _Z(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function MZ(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function ZL(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function QL(t){return/^.*\.[\w]+$/.test(t)}var TZ=["children"],LZ=["open"],AZ=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],IZ=["refKey","onChange","onClick"];function OZ(t){return $Z(t)||DZ(t)||JL(t)||RZ()}function RZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $Z(t){if(Array.isArray(t))return Rv(t)}function Hg(t,e){return BZ(t)||zZ(t,e)||JL(t,e)||FZ()}function FZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JL(t,e){if(t){if(typeof t=="string")return Rv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rv(t,e)}}function Rv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,s=new Array(e);n<e;n++)s[n]=t[n];return s}function zZ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var s=[],i=!0,a=!1,o,l;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(s.push(o.value),!(e&&s.length===e));i=!0);}catch(c){a=!0,l=c}finally{try{!i&&n.return!=null&&n.return()}finally{if(a)throw l}}return s}}function BZ(t){if(Array.isArray(t))return t}function L5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function wt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L5(Object(n),!0).forEach(function(s){Dv(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L5(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function Dv(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rm(t,e){if(t==null)return{};var n=VZ(t,e),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)s=a[i],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function VZ(t,e){if(t==null)return{};var n={},s=Object.keys(t),i,a;for(a=0;a<s.length;a++)i=s[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Q1=p.forwardRef(function(t,e){var n=t.children,s=rm(t,TZ),i=pu(s),a=i.open,o=rm(i,LZ);return p.useImperativeHandle(e,function(){return{open:a}},[a]),Fe.createElement(p.Fragment,null,n(wt(wt({},o),{},{open:a})))});Q1.displayName="Dropzone";var e6={disabled:!1,getFilesFromEvent:eZ,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Q1.defaultProps=e6;Q1.propTypes={children:at.func,accept:at.objectOf(at.arrayOf(at.string)),multiple:at.bool,preventDropOnDocument:at.bool,noClick:at.bool,noKeyboard:at.bool,noDrag:at.bool,noDragEventsBubbling:at.bool,minSize:at.number,maxSize:at.number,maxFiles:at.number,disabled:at.bool,getFilesFromEvent:at.func,onFileDialogCancel:at.func,onFileDialogOpen:at.func,useFsAccessApi:at.bool,autoFocus:at.bool,onDragEnter:at.func,onDragLeave:at.func,onDragOver:at.func,onDrop:at.func,onDropAccepted:at.func,onDropRejected:at.func,onError:at.func,validator:at.func};var $v={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function pu(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=wt(wt({},e6),t),n=e.accept,s=e.disabled,i=e.getFilesFromEvent,a=e.maxSize,o=e.minSize,l=e.multiple,c=e.maxFiles,d=e.onDragEnter,u=e.onDragLeave,h=e.onDragOver,m=e.onDrop,f=e.onDropAccepted,x=e.onDropRejected,g=e.onFileDialogCancel,b=e.onFileDialogOpen,y=e.useFsAccessApi,v=e.autoFocus,w=e.preventDropOnDocument,N=e.noClick,j=e.noKeyboard,k=e.noDrag,P=e.noDragEventsBubbling,S=e.onError,E=e.validator,T=p.useMemo(function(){return EZ(n)},[n]),W=p.useMemo(function(){return PZ(n)},[n]),F=p.useMemo(function(){return typeof b=="function"?b:A5},[b]),D=p.useMemo(function(){return typeof g=="function"?g:A5},[g]),A=p.useRef(null),_=p.useRef(null),z=p.useReducer(UZ,$v),I=Hg(z,2),M=I[0],$=I[1],O=M.isFocused,L=M.isFileDialogActive,Y=p.useRef(typeof window<"u"&&window.isSecureContext&&y&&CZ()),K=function(){!Y.current&&L&&setTimeout(function(){if(_.current){var q=_.current.files;q.length||($({type:"closeDialog"}),D())}},300)};p.useEffect(function(){return window.addEventListener("focus",K,!1),function(){window.removeEventListener("focus",K,!1)}},[_,L,D,Y]);var B=p.useRef([]),U=function(q){A.current&&A.current.contains(q.target)||(q.preventDefault(),B.current=[])};p.useEffect(function(){return w&&(document.addEventListener("dragover",T5,!1),document.addEventListener("drop",U,!1)),function(){w&&(document.removeEventListener("dragover",T5),document.removeEventListener("drop",U))}},[A,w]),p.useEffect(function(){return!s&&v&&A.current&&A.current.focus(),function(){}},[A,v,s]);var V=p.useCallback(function(C){S?S(C):console.error(C)},[S]),G=p.useCallback(function(C){C.preventDefault(),C.persist(),we(C),B.current=[].concat(OZ(B.current),[C.target]),sh(C)&&Promise.resolve(i(C)).then(function(q){if(!(sm(C)&&!P)){var re=q.length,J=re>0&&jZ({files:q,accept:T,minSize:o,maxSize:a,multiple:l,maxFiles:c,validator:E}),ae=re>0&&!J;$({isDragAccept:J,isDragReject:ae,isDragActive:!0,type:"setDraggedFiles"}),d&&d(C)}}).catch(function(q){return V(q)})},[i,d,V,P,T,o,a,l,c,E]),X=p.useCallback(function(C){C.preventDefault(),C.persist(),we(C);var q=sh(C);if(q&&C.dataTransfer)try{C.dataTransfer.dropEffect="copy"}catch{}return q&&h&&h(C),!1},[h,P]),oe=p.useCallback(function(C){C.preventDefault(),C.persist(),we(C);var q=B.current.filter(function(J){return A.current&&A.current.contains(J)}),re=q.indexOf(C.target);re!==-1&&q.splice(re,1),B.current=q,!(q.length>0)&&($({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),sh(C)&&u&&u(C))},[A,u,P]),ne=p.useCallback(function(C,q){var re=[],J=[];C.forEach(function(ae){var Se=YL(ae,T),Ee=Hg(Se,2),Le=Ee[0],Ze=Ee[1],it=XL(ae,o,a),sn=Hg(it,2),qt=sn[0],bt=sn[1],tt=E?E(ae):null;if(Le&&qt&&!tt)re.push(ae);else{var Zt=[Ze,bt];tt&&(Zt=Zt.concat(tt)),J.push({file:ae,errors:Zt.filter(function(Mt){return Mt})})}}),(!l&&re.length>1||l&&c>=1&&re.length>c)&&(re.forEach(function(ae){J.push({file:ae,errors:[wZ]})}),re.splice(0)),$({acceptedFiles:re,fileRejections:J,isDragReject:J.length>0,type:"setFiles"}),m&&m(re,J,q),J.length>0&&x&&x(J,q),re.length>0&&f&&f(re,q)},[$,l,T,o,a,c,m,f,x,E]),H=p.useCallback(function(C){C.preventDefault(),C.persist(),we(C),B.current=[],sh(C)&&Promise.resolve(i(C)).then(function(q){sm(C)&&!P||ne(q,C)}).catch(function(q){return V(q)}),$({type:"reset"})},[i,ne,V,P]),Z=p.useCallback(function(){if(Y.current){$({type:"openDialog"}),F();var C={multiple:l,types:W};window.showOpenFilePicker(C).then(function(q){return i(q)}).then(function(q){ne(q,null),$({type:"closeDialog"})}).catch(function(q){_Z(q)?(D(q),$({type:"closeDialog"})):MZ(q)?(Y.current=!1,_.current?(_.current.value=null,_.current.click()):V(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):V(q)});return}_.current&&($({type:"openDialog"}),F(),_.current.value=null,_.current.click())},[$,F,D,y,ne,V,W,l]),fe=p.useCallback(function(C){!A.current||!A.current.isEqualNode(C.target)||(C.key===" "||C.key==="Enter"||C.keyCode===32||C.keyCode===13)&&(C.preventDefault(),Z())},[A,Z]),ce=p.useCallback(function(){$({type:"focus"})},[]),de=p.useCallback(function(){$({type:"blur"})},[]),te=p.useCallback(function(){N||(SZ()?setTimeout(Z,0):Z())},[N,Z]),le=function(q){return s?null:q},pe=function(q){return j?null:le(q)},Q=function(q){return k?null:le(q)},we=function(q){P&&q.stopPropagation()},be=p.useMemo(function(){return function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},q=C.refKey,re=q===void 0?"ref":q,J=C.role,ae=C.onKeyDown,Se=C.onFocus,Ee=C.onBlur,Le=C.onClick,Ze=C.onDragEnter,it=C.onDragOver,sn=C.onDragLeave,qt=C.onDrop,bt=rm(C,AZ);return wt(wt(Dv({onKeyDown:pe(sr(ae,fe)),onFocus:pe(sr(Se,ce)),onBlur:pe(sr(Ee,de)),onClick:le(sr(Le,te)),onDragEnter:Q(sr(Ze,G)),onDragOver:Q(sr(it,X)),onDragLeave:Q(sr(sn,oe)),onDrop:Q(sr(qt,H)),role:typeof J=="string"&&J!==""?J:"presentation"},re,A),!s&&!j?{tabIndex:0}:{}),bt)}},[A,fe,ce,de,te,G,X,oe,H,j,k,s]),ee=p.useCallback(function(C){C.stopPropagation()},[]),ue=p.useMemo(function(){return function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},q=C.refKey,re=q===void 0?"ref":q,J=C.onChange,ae=C.onClick,Se=rm(C,IZ),Ee=Dv({accept:T,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:le(sr(J,H)),onClick:le(sr(ae,ee)),tabIndex:-1},re,_);return wt(wt({},Ee),Se)}},[_,n,l,H,s]);return wt(wt({},M),{},{isFocused:O&&!s,getRootProps:be,getInputProps:ue,rootRef:A,inputRef:_,open:le(Z)})}function UZ(t,e){switch(e.type){case"focus":return wt(wt({},t),{},{isFocused:!0});case"blur":return wt(wt({},t),{},{isFocused:!1});case"openDialog":return wt(wt({},$v),{},{isFileDialogActive:!0});case"closeDialog":return wt(wt({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return wt(wt({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return wt(wt({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return wt({},$v);default:return t}}function A5(){}const cf=({isOpen:t,onClose:e,title:n,children:s,width:i="w-96",maxWidth:a="max-w-md",className:o=""})=>(p.useEffect(()=>{const l=c=>{c.key==="Escape"&&t&&e()};return t&&(document.addEventListener("keydown",l),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",l),document.body.style.overflow="unset"}},[t,e]),r.jsx(ib,{children:t&&r.jsxs(r.Fragment,{children:[r.jsx(ye.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40",onClick:e}),r.jsxs(ye.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:30,stiffness:300},className:`fixed right-0 top-0 h-full ${i} ${a} bg-[#0f1115] border-l border-white/10 shadow-2xl z-50 flex flex-col ${o}`,children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/10 bg-gradient-to-r from-white/5 to-transparent",children:[r.jsx("h2",{className:"text-xl font-semibold text-white",children:n}),r.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-white/10 transition-colors duration-200 group","aria-label":"Close drawer",children:r.jsx("svg",{className:"w-5 h-5 text-white/70 group-hover:text-white transition-colors duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),r.jsx("div",{className:"flex-1 overflow-hidden",children:s})]})]})})),t6=({isOpen:t,onClose:e,propertyData:n,onPropertyCreated:s,onPropertyUpdated:i})=>{console.log("PropertyDrawer rendering, isOpen:",t);const[a,o]=p.useState(1),[l,c]=p.useState(!1),[d,u]=p.useState(null),[h,m]=p.useState({title:"",content:"",price:"",bedrooms:1,bathrooms:1,distanceFromUniversity:"",address:{street:"",city:"",state:"",zipCode:""},availabilityStatus:"available",contactInfo:{name:"",phone:"",email:""},description:"",isFeatured:!1,tags:[]}),[f,x]=p.useState([]),[g,b]=p.useState({}),y=!!n;p.useEffect(()=>{if(!t)return;(async()=>{try{console.log("Fetching user info for auto-fill...");const z=await ge.get("/get-user");if(console.log("User API response:",z.data),z.data&&z.data.user){const I=z.data.user;u(I);const M=`${I.firstName||""} ${I.lastName||""}`.trim(),$=I.phone||"",O=I.email||"";console.log("Auto-filling contact info from API:",{fullName:M,phone:$,email:O}),m(L=>({...L,contactInfo:{name:M,phone:$,email:O}}));return}}catch(z){console.error("Error fetching user info from API:",z)}})()},[t]),p.useEffect(()=>{y&&n&&m({title:n.title||"",content:n.content||"",price:n.price||"",bedrooms:n.bedrooms||1,bathrooms:n.bathrooms||1,distanceFromUniversity:n.distanceFromUniversity||"",address:n.address||{street:"",city:"",state:"",zipCode:""},availabilityStatus:n.availabilityStatus||"available",contactInfo:n.contactInfo||{name:"",phone:"",email:""},description:n.description||"",isFeatured:n.isFeatured||!1,tags:n.tags||[]})},[y,n]),p.useEffect(()=>{b({})},[a]);const{getRootProps:v,getInputProps:w}=pu({onDrop:_=>{x(z=>[...z,..._])},accept:{"image/*":[".jpeg",".jpg",".png",".gif",".webp"]},multiple:!0}),N=_=>{x(z=>z.filter((I,M)=>M!==_))},j=async()=>{if(f.length===0)return[];const _=new FormData;f.forEach(z=>{_.append("images",z)}),console.log("Uploading images:",f.length,"files"),console.log("FormData entries:",Array.from(_.entries()));try{return(await _t.post("http://localhost:8000/upload-images",_,{headers:{"Content-Type":"multipart/form-data"}})).data.imageUrls}catch(z){throw console.error("Error uploading images:",z),z}},k=(_,z)=>{const I={};switch(_){case 1:z.title.trim()||(I.title="Property title is required"),z.content.trim()||(I.content="Property description is required"),(!z.price||Number(z.price)<=0)&&(I.price="Valid price is required");break;case 2:(!z.bedrooms||z.bedrooms<1)&&(I.bedrooms="Number of bedrooms is required"),(!z.bathrooms||Number(z.bathrooms)<1)&&(I.bathrooms="Number of bathrooms is required"),z.distanceFromUniversity||(I.distanceFromUniversity="Distance from university is required");break;case 3:z.address.street.trim()||(I.street="Street address is required"),z.address.city.trim()||(I.city="City is required"),z.address.state.trim()||(I.state="State is required");break;case 4:z.contactInfo.name.trim()||(I.contactName="Contact name is required"),z.contactInfo.phone.trim()||(I.contactPhone="Phone number is required"),z.contactInfo.email.trim()||(I.contactEmail="Email is required");break}return I},P=Fe.useMemo(()=>(console.log("Recalculating stepErrors for step:",a),k(a,h)),[a,h]),S=Object.keys(P).length===0,E=(_,z=h)=>{const I=k(_,z);return b(I),Object.keys(I).length===0},T=_=>{_.preventDefault(),_.stopPropagation(),E(a,h)&&o(z=>Math.min(z+1,5))},W=_=>{_.preventDefault(),_.stopPropagation(),o(z=>Math.max(z-1,1))},F=async _=>{var z,I,M,$;if(_.preventDefault(),_.stopPropagation(),!!E(a,h)){if(!h.title||!h.price||!h.address.street||!h.address.city||!h.address.state||!h.contactInfo.name||!h.contactInfo.phone||!h.contactInfo.email){b({submit:"Please fill in all required fields before submitting."});return}c(!0);try{const O=await j(),L={title:h.title,content:h.content||h.title,price:Number(h.price),bedrooms:Number(h.bedrooms),bathrooms:Number(h.bathrooms),distanceFromUniversity:Number(h.distanceFromUniversity)||0,address:{street:h.address.street,city:h.address.city,state:h.address.state,zipCode:h.address.zipCode||"00000"},availabilityStatus:h.availabilityStatus,images:O,contactInfo:{name:h.contactInfo.name,phone:h.contactInfo.phone,email:h.contactInfo.email},description:h.description,isFeatured:h.isFeatured,tags:h.tags||[]};console.log("Sending payload:",L),console.log("Auth token:",localStorage.getItem("accessToken"));let Y;y?(Y=await ge.put(`/properties/${n._id}`,L),i==null||i(Y.data.property)):(Y=await ge.post("/add-property",L),s==null||s(Y.data.property)),m({title:"",content:"",price:"",bedrooms:1,bathrooms:1,distanceFromUniversity:"",address:{street:"",city:"",state:"",zipCode:""},availabilityStatus:"available",contactInfo:{name:"",phone:"",email:""},description:"",isFeatured:!1,tags:[]}),x([]),o(1),e()}catch(O){console.error("Error saving property:",O),console.error("Error response:",(z=O.response)==null?void 0:z.data),console.error("Error status:",(I=O.response)==null?void 0:I.status),b({submit:`Failed to save property: ${(($=(M=O.response)==null?void 0:M.data)==null?void 0:$.message)||O.message||"Please try again."}`})}finally{c(!1)}}},D=(_,z)=>{if(_.includes(".")){const[I,M]=_.split(".");m($=>({...$,[I]:{...$[I],[M]:z}}))}else m(I=>({...I,[_]:z}))},A=()=>{switch(a){case 1:return r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"mb-4 p-3 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:r.jsxs("p",{className:"text-sm text-blue-300",children:[r.jsx("span",{className:"font-medium",children:"Step 1:"})," Fill in the basic information about your property. All fields marked with * are required."]})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Property Title *"}),r.jsx("input",{type:"text",value:h.title,onChange:_=>D("title",_.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/50 focus:ring-2 focus:ring-orange-500/50 focus:border-orange-500/50 transition-colors",placeholder:"e.g., Cozy 2BR Apartment near Campus"}),g.title&&r.jsx("p",{className:"text-red-400 text-sm mt-1",children:g.title})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Property Description *"}),r.jsx("textarea",{value:h.content,onChange:_=>D("content",_.target.value),rows:4,className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/50 focus:ring-2 focus:ring-orange-500/50 focus:border-orange-500/50 transition-colors resize-none",placeholder:"Describe your property, amenities, and what makes it special..."}),g.content&&r.jsx("p",{className:"text-red-400 text-sm mt-1",children:g.content})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Monthly Rent *"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white/50",children:"$"}),r.jsx("input",{type:"number",value:h.price,onChange:_=>D("price",_.target.value),className:"w-full pl-8 pr-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/50 focus:ring-2 focus:ring-orange-500/50 focus:border-orange-500/50 transition-colors",placeholder:"1200"})]}),g.price&&r.jsx("p",{className:"text-red-400 text-sm mt-1",children:g.price})]})]});case 2:return r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"mb-4 p-3 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:r.jsxs("p",{className:"text-sm text-blue-300",children:[r.jsx("span",{className:"font-medium",children:"Step 2:"})," Provide the property details and specifications."]})}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Bedrooms *"}),r.jsx("select",{value:h.bedrooms,onChange:_=>D("bedrooms",parseInt(_.target.value)),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white focus:ring-2 focus:ring-orange-500/50 focus:border-orange-500/50 transition-colors",children:[1,2,3,4,5,6].map(_=>r.jsxs("option",{value:_,className:"bg-gray-800",children:[_," ",_===1?"Bedroom":"Bedrooms"]},_))}),g.bedrooms&&r.jsx("p",{className:"text-red-400 text-sm mt-1",children:g.bedrooms})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Bathrooms *"}),r.jsx("select",{value:h.bathrooms,onChange:_=>D("bathrooms",parseFloat(_.target.value)),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white focus:ring-2 focus:ring-orange-500/50 focus:border-orange-500/50 transition-colors",children:[1,1.5,2,2.5,3,3.5,4].map(_=>r.jsxs("option",{value:_,className:"bg-gray-800",children:[_," ",_===1?"Bathroom":"Bathrooms"]},_))}),g.bathrooms&&r.jsx("p",{className:"text-red-400 text-sm mt-1",children:g.bathrooms})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Distance from University *"}),r.jsx("input",{type:"text",value:h.distanceFromUniversity,onChange:_=>D("distanceFromUniversity",_.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/50 focus:ring-2 focus:ring-orange-500/50 focus:border-orange-500/50 transition-colors",placeholder:"e.g., 0.5 miles, 10 minutes walk"}),g.distanceFromUniversity&&r.jsx("p",{className:"text-red-400 text-sm mt-1",children:g.distanceFromUniversity})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Availability Status"}),r.jsxs("select",{value:h.availabilityStatus,onChange:_=>D("availabilityStatus",_.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white focus:ring-2 focus:ring-orange-500/50 focus:border-orange-500/50 transition-colors",children:[r.jsx("option",{value:"available",className:"bg-gray-800",children:"Available Now"}),r.jsx("option",{value:"coming_soon",className:"bg-gray-800",children:"Coming Soon"}),r.jsx("option",{value:"rented",className:"bg-gray-800",children:"Rented"})]})]})]});case 3:return r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"mb-4 p-3 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:r.jsxs("p",{className:"text-sm text-blue-300",children:[r.jsx("span",{className:"font-medium",children:"Step 3:"})," Provide the property location details."]})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Street Address *"}),r.jsx("input",{type:"text",value:h.address.street,onChange:_=>D("address.street",_.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/50 focus:ring-2 focus:ring-orange-500/50 focus:border-orange-500/50 transition-colors",placeholder:"123 Main Street"}),g.street&&r.jsx("p",{className:"text-red-400 text-sm mt-1",children:g.street})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"City *"}),r.jsx("input",{type:"text",value:h.address.city,onChange:_=>D("address.city",_.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/50 focus:ring-2 focus:ring-orange-500/50 focus:border-orange-500/50 transition-colors",placeholder:"Chicago"}),g.city&&r.jsx("p",{className:"text-red-400 text-sm mt-1",children:g.city})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"State *"}),r.jsx("input",{type:"text",value:h.address.state,onChange:_=>D("address.state",_.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/50 focus:ring-2 focus:ring-orange-500/50 focus:border-orange-500/50 transition-colors",placeholder:"IL"}),g.state&&r.jsx("p",{className:"text-red-400 text-sm mt-1",children:g.state})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"ZIP Code"}),r.jsx("input",{type:"text",value:h.address.zipCode,onChange:_=>D("address.zipCode",_.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/50 focus:ring-2 focus:ring-orange-500/50 focus:border-orange-500/50 transition-colors",placeholder:"60601"})]})]});case 4:return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"mb-4 p-3 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:[r.jsxs("p",{className:"text-sm text-blue-300",children:[r.jsx("span",{className:"font-medium",children:"Step 4:"})," Provide your contact information for potential tenants."]}),d&&r.jsxs("div",{className:"mt-2 flex items-center text-green-400 text-sm",children:[r.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full mr-2 animate-pulse"}),"Auto-filled with your profile"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Contact Name *"}),r.jsx("input",{type:"text",value:h.contactInfo.name,onChange:_=>D("contactInfo.name",_.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/50 focus:ring-2 focus:ring-orange-500/50 focus:border-orange-500/50 transition-colors",placeholder:"Your full name"}),g.contactName&&r.jsx("p",{className:"text-red-400 text-sm mt-1",children:g.contactName})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Phone Number *"}),r.jsx("input",{type:"tel",value:h.contactInfo.phone,onChange:_=>D("contactInfo.phone",_.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/50 focus:ring-2 focus:ring-orange-500/50 focus:border-orange-500/50 transition-colors",placeholder:"(555) 123-4567"}),g.contactPhone&&r.jsx("p",{className:"text-red-400 text-sm mt-1",children:g.contactPhone})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Email Address *"}),r.jsx("input",{type:"email",value:h.contactInfo.email,onChange:_=>D("contactInfo.email",_.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/50 focus:ring-2 focus:ring-orange-500/50 focus:border-orange-500/50 transition-colors",placeholder:"your.email@example.com"}),g.contactEmail&&r.jsx("p",{className:"text-red-400 text-sm mt-1",children:g.contactEmail})]})]});case 5:return r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"mb-4 p-3 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:r.jsxs("p",{className:"text-sm text-blue-300",children:[r.jsx("span",{className:"font-medium",children:"Step 5:"})," Add property images and additional details."]})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Property Images"}),r.jsxs("div",{...v(),className:"border-2 border-dashed border-white/20 rounded-xl p-6 text-center cursor-pointer hover:border-orange-500/50 transition-colors",children:[r.jsx("input",{...w()}),r.jsx(H_,{className:"mx-auto text-4xl text-white/50 mb-2"}),r.jsx("p",{className:"text-white/70",children:"Drag & drop images here, or click to select"}),r.jsx("p",{className:"text-white/50 text-sm mt-1",children:"PNG, JPG, GIF up to 10MB each"})]}),f.length>0&&r.jsx("div",{className:"mt-4 space-y-2",children:f.map((_,z)=>r.jsxs("div",{className:"flex items-center justify-between bg-white/5 rounded-lg p-3",children:[r.jsx("span",{className:"text-white/80 text-sm",children:_.name}),r.jsx("button",{type:"button",onClick:()=>N(z),className:"text-red-400 hover:text-red-300 transition-colors",children:r.jsx(H0,{})})]},z))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Additional Description"}),r.jsx("textarea",{value:h.description,onChange:_=>D("description",_.target.value),rows:4,className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/50 focus:ring-2 focus:ring-orange-500/50 focus:border-orange-500/50 transition-colors resize-none",placeholder:"Any additional details about the property, neighborhood, or special features..."})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:"featured",checked:h.isFeatured,onChange:_=>D("isFeatured",_.target.checked),className:"w-4 h-4 text-orange-500 bg-white/5 border-white/20 rounded focus:ring-orange-500/50"}),r.jsx("label",{htmlFor:"featured",className:"ml-2 text-sm text-white/80",children:"Feature this property (recommended for better visibility)"})]})]});default:return null}};return r.jsx(cf,{isOpen:t,onClose:e,title:y?"Edit Property":"List Your Property",width:"w-full sm:w-96",maxWidth:"max-w-md",children:r.jsxs("form",{onSubmit:F,className:"h-full flex flex-col",children:[r.jsxs("div",{className:"px-6 py-4 border-b border-white/10",children:[r.jsx("div",{className:"flex items-center justify-between",children:[1,2,3,4,5].map(_=>r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${_<=a?"bg-orange-500 text-white":"bg-white/10 text-white/50"}`,children:_}),_<5&&r.jsx("div",{className:`w-8 h-0.5 mx-2 ${_<a?"bg-orange-500":"bg-white/10"}`})]},_))}),r.jsxs("div",{className:"flex justify-between text-xs text-white/60 mt-2",children:[r.jsx("span",{children:"Basic Info"}),r.jsx("span",{children:"Details"}),r.jsx("span",{children:"Location"}),r.jsx("span",{children:"Contact"}),r.jsx("span",{children:"Images"})]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:A()}),r.jsx("div",{className:"p-6 border-t border-white/10 bg-gradient-to-r from-white/5 to-transparent",children:r.jsxs("div",{className:"flex justify-between",children:[a>1?r.jsx("button",{type:"button",onClick:W,className:"px-6 py-3 text-white/70 hover:text-white transition-colors duration-200",children:" Back"}):r.jsx("div",{}),a<5?r.jsx("button",{type:"button",onClick:T,disabled:!S,className:`px-6 py-3 rounded-xl transition-colors duration-200 font-medium ${S?"bg-orange-500 text-white hover:bg-orange-600":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:"Next "}):r.jsx("button",{type:"submit",disabled:l,className:"px-6 py-3 bg-orange-500 text-white rounded-xl hover:bg-orange-600 transition-colors duration-200 font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Creating...":y?"Update Property":"List Property"})]})}),g.submit&&r.jsx("div",{className:"mt-4 p-3 bg-red-500/10 border border-red-500/20 rounded-xl",children:r.jsx("p",{className:"text-red-400 text-sm",children:g.submit})})]})})},I5=["Studio","1 Bedroom","2 Bedroom","3 Bedroom","4+ Bedroom"],WZ=["Furnished","Unfurnished","Pet Friendly","Parking","Laundry","WiFi","Utilities Included"],qg=[{key:"",label:"Any distance"},{key:"0.5",label:"0.5 miles"},{key:"1",label:"1 mile"},{key:"2",label:"2 miles"},{key:"5",label:"5 miles"}],so=[{key:"createdAt",label:"Newest First",sortBy:"createdAt",sortOrder:"desc"},{key:"createdAt-asc",label:"Oldest First",sortBy:"createdAt",sortOrder:"asc"},{key:"price-asc",label:"Price: Low to High",sortBy:"price",sortOrder:"asc"},{key:"price-desc",label:"Price: High to Low",sortBy:"price",sortOrder:"desc"},{key:"likes-desc",label:"Most Popular",sortBy:"likes",sortOrder:"desc"},{key:"views-desc",label:"Most Viewed",sortBy:"views",sortOrder:"desc"}];function n6(...t){return t.filter(Boolean).join(" ")}function ro({active:t,children:e,onClick:n}){return r.jsx("button",{type:"button",onClick:n,className:n6("w-full text-left rounded-lg px-3 py-2 text-sm transition-all duration-200",t?"bg-blue-500/20 text-blue-300 border border-blue-400/30":"text-white/80 hover:bg-white/10 hover:text-white border border-transparent"),children:e})}function Zl({label:t,activeLabel:e,children:n,isOpen:s,onToggle:i}){const a=p.useRef(null);return p.useEffect(()=>{const o=l=>{a.current&&!a.current.contains(l.target)&&i(!1)};return s&&document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[s,i]),r.jsxs("div",{ref:a,className:"relative",children:[r.jsxs("button",{onClick:()=>i(!s),className:n6("rounded-full px-3.5 py-1.5 text-sm transition-all duration-200","bg-white/5 text-white/70 hover:bg-white/10 border border-white/10",s?"bg-white/10 text-white border-white/20":""),children:[e||t,r.jsx("svg",{className:"inline-block ml-1 w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s&&r.jsx("div",{className:"absolute left-0 z-[9999] mt-3 w-[280px] rounded-xl border border-white/20 bg-[#0f1115]/98 backdrop-blur-2xl p-1 shadow-2xl",children:n})]})}function HZ(){var de,te,le,pe;const t=dt(),[e,n]=p.useState(""),[s,i]=p.useState(""),[a,o]=p.useState(""),[l,c]=p.useState(""),[d,u]=p.useState(""),[h,m]=p.useState(""),[f,x]=p.useState(""),[g,b]=p.useState("createdAt"),[y,v]=p.useState([]),[w,N]=p.useState(null),[j,k]=p.useState(!0),[P,S]=p.useState(!1),[E,T]=p.useState(new Set),[W,F]=p.useState(!1),[D,A]=p.useState(!1),[_,z]=p.useState(!1),[I,M]=p.useState(!1),[$,O]=p.useState(!1),[L,Y]=p.useState(!1),[K,B]=p.useState(!1),[U,V]=p.useState(!1),G=p.useMemo(()=>{const Q=so.find(ue=>ue.key===g),we=(Q==null?void 0:Q.sortBy)??"createdAt",be=(Q==null?void 0:Q.sortOrder)??"desc",ee={query:e,campus:d,distance:l,propertyType:s,amenities:a,min:h,max:f,minPrice:h,maxPrice:f,sortBy:we,sortOrder:be};return Object.keys(ee).forEach(ue=>(ee[ue]===""||ee[ue]==null)&&delete ee[ue]),ee},[e,d,l,s,a,h,f,g]),X=async(Q=!1)=>{var we,be,ee,ue,C;try{Q?S(!0):k(!0),console.log("Sending filters:",G);const q=await ge.get("/search-properties",{params:{...G,cursor:Q?w:void 0,limit:24}}),re=((we=q==null?void 0:q.data)==null?void 0:we.properties)||[],J=so.find(Le=>Le.key===g),ae=(J==null?void 0:J.sortBy)??"createdAt",Se=(J==null?void 0:J.sortOrder)??"desc",Ee=Le=>{if(ae==="createdAt"){const Ze=Le.createdAt||Le.createdOn;return new Date(Ze||0).getTime()}return Number(Le[ae]??0)};re.sort((Le,Ze)=>(Se==="asc"?1:-1)*(Ee(Le)-Ee(Ze))),v(Le=>Q?[...Le,...re]:re),N((ee=(be=q==null?void 0:q.data)==null?void 0:be.pagination)!=null&&ee.hasNextPage?((C=(ue=q==null?void 0:q.data)==null?void 0:ue.pagination)==null?void 0:C.currentPage)+1:null)}catch{Q||v([]),N(null)}finally{k(!1),S(!1)}};p.useEffect(()=>{const Q=setTimeout(()=>X(!1),220);return()=>clearTimeout(Q)},[G]),p.useEffect(()=>{N(null)},[g,e,s,a,l,h,f,d]),p.useEffect(()=>{const Q=we=>{n(we.detail.query)};return window.addEventListener("propertySearch",Q),()=>window.removeEventListener("propertySearch",Q)},[]),p.useEffect(()=>{const Q=()=>{const we=document.getElementById("filter-section");we&&(we.getBoundingClientRect().bottom<0?(z(!0),A(!1)):(z(!1),A(!1)))};return window.addEventListener("scroll",Q),()=>window.removeEventListener("scroll",Q)},[]);const oe=async Q=>{try{const we=await ge.post(`/properties/favorites/${Q._id}`);T(be=>{var ue;const ee=new Set(be);return(ue=we==null?void 0:we.data)!=null&&ue.favored?ee.add(Q._id):ee.delete(Q._id),ee})}catch{}},ne=()=>{F(!0)},H=()=>{F(!1)},Z=()=>{X(!1)},fe=()=>{A(Q=>!Q)},ce=()=>{const Q=document.getElementById("filter-section");Q&&(Q.scrollIntoView({behavior:"smooth",block:"start"}),A(!1))};return p.useEffect(()=>{const Q=we=>{if(D&&_){const be=document.querySelector("[data-filter-button]"),ee=document.querySelector("[data-filter-panel]");be&&ee&&!be.contains(we.target)&&!ee.contains(we.target)&&A(!1)}};return document.addEventListener("mousedown",Q),()=>document.removeEventListener("mousedown",Q)},[D,_]),r.jsxs("div",{className:"nr-dots-page min-h-screen text-white relative",children:[r.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[r.jsx("div",{className:"hero-orb absolute top-1/4 left-1/4 w-32 h-32 bg-gradient-to-r from-orange-500/10 to-cyan-500/10 rounded-full blur-3xl"}),r.jsx("div",{className:"hero-orb absolute bottom-1/4 right-1/4 w-48 h-48 bg-gradient-to-r from-blue-500/10 to-purple-500/10 rounded-full blur-3xl"}),r.jsx("div",{className:"hero-orb absolute top-1/2 right-1/3 w-24 h-24 bg-gradient-to-r from-emerald-500/10 to-teal-500/10 rounded-full blur-2xl"})]}),r.jsx(ct,{}),r.jsx(WX,{onListProperty:ne}),r.jsx(qX,{}),r.jsx("section",{className:"mx-auto max-w-7xl px-4 py-12",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsxs("div",{className:"text-center p-6 rounded-2xl border border-white/10 bg-[#0f1115]/50 backdrop-blur-sm",children:[r.jsxs("div",{className:"text-3xl font-bold text-blue-400 mb-2",children:[y.length,"+"]}),r.jsx("div",{className:"text-sm text-white/70",children:"Active Properties"})]}),r.jsxs("div",{className:"text-center p-6 rounded-2xl border border-white/10 bg-[#0f1115]/50 backdrop-blur-sm",children:[r.jsx("div",{className:"text-3xl font-bold text-purple-400 mb-2",children:"24/7"}),r.jsx("div",{className:"text-sm text-white/70",children:"Available"})]}),r.jsxs("div",{className:"text-center p-6 rounded-2xl border border-white/10 bg-[#0f1115]/50 backdrop-blur-sm",children:[r.jsx("div",{className:"text-3xl font-bold text-teal-400 mb-2",children:"100%"}),r.jsx("div",{className:"text-sm text-white/70",children:"Student Verified"})]}),r.jsxs("div",{className:"text-center p-6 rounded-2xl border border-white/10 bg-[#0f1115]/50 backdrop-blur-sm",children:[r.jsx("div",{className:"text-3xl font-bold text-green-400 mb-2",children:"$0"}),r.jsx("div",{className:"text-sm text-white/70",children:"Listing Fees"})]})]})}),r.jsxs("main",{className:"mx-auto max-w-7xl px-4 pb-16 pt-4 overflow-visible",children:[r.jsx("section",{id:"filter-section",className:"relative z-50 mb-8 rounded-2xl border border-white/10 bg-[#0f1115]/95 backdrop-blur-xl shadow-2xl overflow-visible",children:r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"mb-4 flex flex-wrap items-center gap-2",children:[r.jsx("span",{className:"text-sm font-medium text-white/70",children:"Active filters:"}),s&&r.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-blue-500/20 px-3 py-1 text-xs text-blue-300",children:[s,r.jsx("button",{onClick:()=>i(""),className:"ml-1 hover:text-blue-100",children:""})]}),a&&r.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-purple-500/20 px-3 py-1 text-xs text-purple-300",children:[a,r.jsx("button",{onClick:()=>o(""),className:"ml-1 hover:text-purple-100",children:""})]}),l&&r.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-teal-500/20 px-3 py-1 text-xs text-teal-300",children:[(de=qg.find(Q=>Q.key===l))==null?void 0:de.label,r.jsx("button",{onClick:()=>c(""),className:"ml-1 hover:text-teal-100",children:""})]}),(h||f)&&r.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-green-500/20 px-3 py-1 text-xs text-green-300",children:["$",h||0,"$",f||"",r.jsx("button",{onClick:()=>{m(""),x("")},className:"ml-1 hover:text-green-100",children:""})]}),d&&r.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-orange-500/20 px-3 py-1 text-xs text-orange-300",children:[d,r.jsx("button",{onClick:()=>u(""),className:"ml-1 hover:text-orange-100",children:""})]}),(s||a||l||h||f||d)&&r.jsx("button",{onClick:()=>{i(""),o(""),c(""),m(""),x(""),u("")},className:"text-xs text-white/50 hover:text-white/80",children:"Clear all"})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3 p-6 rounded-2xl border border-white/10 bg-[#0f1115]/50 backdrop-blur-xl overflow-visible",children:[r.jsxs("div",{className:"relative flex-1 min-w-[220px]",children:[r.jsx("span",{className:"pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 text-white/40",children:""}),r.jsx("input",{value:e,onChange:Q=>n(Q.target.value),placeholder:"Search properties",className:"w-full rounded-xl border border-white/10 bg-white/[0.06] pl-8 pr-3 py-2.5 text-sm outline-none placeholder:text-white/40 focus:border-sky-500 focus:ring-1 focus:ring-sky-500/20"})]}),r.jsx("input",{value:d,onChange:Q=>u(Q.target.value),placeholder:"Campus",className:"min-w-[150px] rounded-xl border border-white/10 bg-white/[0.06] px-3 py-2.5 text-sm outline-none placeholder:text-white/40 focus:border-sky-500 focus:ring-1 focus:ring-sky-500/20"}),r.jsx(Zl,{label:"Sort",activeLabel:((te=so.find(Q=>Q.key===g))==null?void 0:te.label)||"Newest First",isOpen:I,onToggle:M,children:r.jsx("div",{className:"grid gap-1 p-1",children:so.map(Q=>r.jsx(ro,{active:g===Q.key,onClick:()=>{b(Q.key),M(!1)},children:Q.label},Q.key))})}),r.jsx(Zl,{label:"Type",activeLabel:s||"All Types",isOpen:$,onToggle:O,children:r.jsxs("div",{className:"grid grid-cols-2 gap-2 p-1",children:[r.jsx(ro,{active:!s,onClick:()=>{i(""),O(!1)},children:"All"}),I5.map(Q=>r.jsx(ro,{active:s===Q,onClick:()=>{i(Q),O(!1)},children:Q},Q))]})}),r.jsx(Zl,{label:"Amenities",activeLabel:a||"Any Amenities",isOpen:L,onToggle:Y,children:r.jsxs("div",{className:"grid grid-cols-2 gap-2 p-1",children:[r.jsx(ro,{active:!a,onClick:()=>{o(""),Y(!1)},children:"Any"}),WZ.map(Q=>r.jsx(ro,{active:a===Q,onClick:()=>{o(Q),Y(!1)},children:Q},Q))]})}),r.jsx(Zl,{label:"Distance",activeLabel:((le=qg.find(Q=>Q.key===l))==null?void 0:le.label)||"Any Distance",isOpen:K,onToggle:B,children:r.jsx("div",{className:"grid grid-cols-2 gap-2 p-1",children:qg.map(Q=>r.jsx(ro,{active:l===Q.key,onClick:()=>{c(Q.key),B(!1)},children:Q.label},Q.key||"any"))})}),r.jsx(Zl,{label:"Price Range",activeLabel:h||f?`$${h||0}$${f||""}`:"Any Price",isOpen:U,onToggle:V,children:r.jsxs("div",{className:"p-3",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-white/70 mb-1 block font-medium",children:"Min Price"}),r.jsx("input",{type:"number",min:"0",value:h,onChange:Q=>m(Q.target.value),placeholder:"0",className:"w-full rounded-lg border border-white/20 bg-white/5 px-3 py-2 text-sm text-white outline-none placeholder:text-white/40 focus:border-blue-400 focus:bg-white/10 transition-all duration-200"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-white/70 mb-1 block font-medium",children:"Max Price"}),r.jsx("input",{type:"number",min:"0",value:f,onChange:Q=>x(Q.target.value),placeholder:"2000",className:"w-full rounded-lg border border-white/20 bg-white/5 px-3 py-2 text-sm text-white outline-none placeholder:text-white/40 focus:border-blue-400 focus:bg-white/10 transition-all duration-200"})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("button",{onClick:()=>{m(""),x(""),V(!1)},className:"text-xs text-white/60 hover:text-white/80 transition-colors px-2 py-1 rounded hover:bg-white/5",children:"Clear"}),r.jsx("button",{onClick:()=>{X(!1),V(!1)},className:"rounded-lg bg-blue-500 px-4 py-2 text-xs font-medium text-white hover:bg-blue-600 transition-colors",children:"Apply"})]})]})})]})]})}),r.jsxs("div",{className:"relative z-10 mb-6 flex items-center justify-between p-6 rounded-2xl border border-white/10 bg-[#0f1115]/30 backdrop-blur-xl",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("h2",{className:"text-xl font-semibold text-white",children:j?"Loading properties...":`${y.length} properties found`}),!j&&y.length>0&&r.jsxs("span",{className:"text-sm text-white/60",children:["Sorted by ",(pe=so.find(Q=>Q.key===g))==null?void 0:pe.label.toLowerCase()]})]}),!j&&y.length>0&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-white/60",children:[r.jsx("span",{children:"View:"}),r.jsx("button",{className:"rounded-lg bg-white/10 px-3 py-1 text-white text-sm",children:"Grid"}),r.jsx("button",{className:"rounded-lg px-3 py-1 hover:bg-white/5 text-sm",children:"List"})]})]}),r.jsx("div",{id:"properties-grid",children:j?r.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:Array.from({length:8}).map((Q,we)=>r.jsxs("div",{className:"group overflow-hidden rounded-3xl border border-white/10 bg-[#0f1115] shadow-[0_12px_32px_-12px_rgba(0,0,0,.60)]",children:[r.jsx("div",{className:"aspect-[16/10] w-full animate-pulse bg-white/[0.06]"}),r.jsxs("div",{className:"p-5",children:[r.jsxs("div",{className:"mb-2",children:[r.jsx("div",{className:"h-6 w-3/4 animate-pulse rounded bg-white/[0.06] mb-2"}),r.jsx("div",{className:"h-4 w-full animate-pulse rounded bg-white/[0.04]"})]}),r.jsx("div",{className:"my-3 h-px w-full bg-white/8"}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"h-4 w-1/2 animate-pulse rounded bg-white/[0.04]"}),r.jsx("div",{className:"h-6 w-16 animate-pulse rounded-full bg-white/[0.08]"})]}),r.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[r.jsx("div",{className:"h-3 w-1/3 animate-pulse rounded bg-white/[0.04]"}),r.jsx("div",{className:"h-8 w-8 animate-pulse rounded-full bg-white/[0.08]"})]})]})]},we))}):y.length===0?r.jsxs("div",{className:"rounded-2xl border border-white/10 bg-[#0f1115]/50 p-12 text-center backdrop-blur-sm",children:[r.jsx("div",{className:"mx-auto mb-6 w-24 h-24 rounded-full bg-gradient-to-r from-orange-500/20 to-amber-500/20 flex items-center justify-center",children:r.jsx("svg",{className:"w-12 h-12 text-orange-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No properties found"}),r.jsx("p",{className:"text-white/60 mb-6 max-w-md mx-auto",children:"No properties match your current filters. Try adjusting your search criteria or browse all properties."}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[r.jsx("button",{onClick:()=>{n(""),i(""),o(""),c(""),m(""),x(""),u("")},className:"styled-button--sm",children:"Clear all filters"}),r.jsx("button",{onClick:ne,className:"styled-button--sm",children:"List your first property"})]})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:y.map(Q=>r.jsx(BL,{property:Q,favored:E.has(Q._id),onToggleFav:oe,onClick:()=>t(`/property/${Q._id}`)},Q._id))}),w&&r.jsx("div",{className:"mt-12 grid place-items-center",children:r.jsx("button",{disabled:P,onClick:()=>X(!0),className:"styled-button group relative disabled:opacity-60",children:r.jsx("span",{className:"relative z-10 flex items-center gap-2",children:P?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Loading more properties..."]}):r.jsxs(r.Fragment,{children:["Load more properties",r.jsx("svg",{className:"w-4 h-4 group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})})})})]})})]}),_&&r.jsx("div",{className:"fixed left-4 top-1/2 -translate-y-1/2 z-50",children:r.jsxs("button",{onClick:fe,"data-filter-button":!0,className:`group relative w-14 h-14 rounded-full bg-black/80 border shadow-2xl hover:bg-black/90 transition-all duration-500 ease-out flex items-center justify-center backdrop-blur-sm ${D?"border-orange-500/50 shadow-orange-500/20":"border-white/20 hover:border-white/30"} hover:scale-110`,children:[r.jsx("svg",{className:`w-6 h-6 text-white transition-all duration-500 ease-out ${D?"rotate-0 scale-100":"rotate-0 scale-110"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4"})}),r.jsx("div",{className:"absolute inset-0 rounded-full bg-white/20 animate-ping"}),r.jsx("div",{className:"absolute inset-0 rounded-full bg-white/10 opacity-0 group-hover:opacity-100 blur-xl transition-opacity duration-300"})]})}),_&&r.jsx("div",{className:"fixed left-20 top-1/2 -translate-y-1/2 z-40",children:r.jsxs("div",{"data-filter-panel":!0,className:`w-80 rounded-2xl border border-white/20 bg-white/5 backdrop-blur-xl shadow-2xl p-6 transition-all duration-500 ease-out transform ${D?"translate-x-0 opacity-100 scale-100":"-translate-x-full opacity-0 scale-95 pointer-events-none"}`,children:[r.jsxs("div",{className:`flex items-center justify-between mb-4 transition-all duration-700 ease-out ${D?"translate-y-0 opacity-100":"translate-y-2 opacity-0"}`,children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Quick Filters"}),r.jsx("button",{onClick:ce,className:"text-xs text-orange-400 hover:text-orange-300 transition-colors",children:"View All Filters"})]}),r.jsxs("div",{className:`space-y-3 transition-all duration-700 ease-out delay-100 ${D?"translate-y-0 opacity-100":"translate-y-4 opacity-0"}`,children:[r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 text-white/40",children:""}),r.jsx("input",{value:e,onChange:Q=>n(Q.target.value),placeholder:"Search properties",className:"w-full rounded-xl border border-white/20 bg-white/5 backdrop-blur-sm pl-8 pr-3 py-3 text-sm text-white outline-none placeholder:text-white/40 focus:border-white/40 focus:bg-white/10 transition-all duration-200"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-white/70 mb-2 block font-medium",children:"Property Type"}),r.jsxs("select",{value:s,onChange:Q=>i(Q.target.value),className:"w-full rounded-xl border border-white/20 bg-white/5 backdrop-blur-sm px-4 py-3 text-sm text-white outline-none focus:border-white/40 focus:bg-white/10 transition-all duration-200",children:[r.jsx("option",{value:"",children:"All Types"}),I5.map(Q=>r.jsx("option",{value:Q,className:"bg-[#0f1115]",children:Q},Q))]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-white/70 mb-2 block font-medium",children:"Min Price"}),r.jsx("input",{type:"number",value:h,onChange:Q=>m(Q.target.value),placeholder:"0",className:"w-full rounded-xl border border-white/20 bg-white/5 backdrop-blur-sm px-4 py-3 text-sm text-white outline-none placeholder:text-white/40 focus:border-white/40 focus:bg-white/10 transition-all duration-200"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-white/70 mb-2 block font-medium",children:"Max Price"}),r.jsx("input",{type:"number",value:f,onChange:Q=>x(Q.target.value),placeholder:"2000",className:"w-full rounded-xl border border-white/20 bg-white/5 backdrop-blur-sm px-4 py-3 text-sm text-white outline-none placeholder:text-white/40 focus:border-white/40 focus:bg-white/10 transition-all duration-200"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-white/70 mb-2 block font-medium",children:"Sort By"}),r.jsx("select",{value:g,onChange:Q=>b(Q.target.value),className:"w-full rounded-xl border border-white/20 bg-white/5 backdrop-blur-sm px-4 py-3 text-sm text-white outline-none focus:border-white/40 focus:bg-white/10 transition-all duration-200",children:so.map(Q=>r.jsx("option",{value:Q.key,className:"bg-[#0f1115]",children:Q.label},Q.key))})]}),r.jsxs("div",{className:`flex gap-3 pt-4 transition-all duration-700 ease-out delay-200 ${D?"translate-y-0 opacity-100":"translate-y-4 opacity-0"}`,children:[r.jsx("button",{onClick:()=>{n(""),i(""),o(""),c(""),m(""),x(""),u(""),X(!1)},className:"flex-1 rounded-xl border border-white/20 bg-white/5 backdrop-blur-sm px-4 py-3 text-sm text-white/80 hover:bg-white/10 hover:border-white/30 transition-all duration-200",children:"Clear All"}),r.jsx("button",{onClick:()=>{X(!1),A(!1)},className:"flex-1 rounded-xl border border-orange-500/50 bg-gradient-to-r from-orange-500/20 to-orange-600/20 backdrop-blur-sm px-4 py-3 text-sm text-orange-300 hover:from-orange-500/30 hover:to-orange-600/30 hover:border-orange-400/70 transition-all duration-200",children:"Apply"})]})]})]})}),r.jsx(t6,{isOpen:W,onClose:H,onPropertyCreated:Z})]})}const s6=({isOpen:t,onClose:e,itemData:n,onItemCreated:s,onItemUpdated:i})=>{const[a,o]=p.useState(1),[l,c]=p.useState({title:"",description:"",price:"",category:"",condition:"used",address:{city:""},contactInfo:{name:"",phone:"",email:""},exchangeMethod:"public",files:[]}),[d,u]=p.useState(!1),[h,m]=p.useState(null),[f,x]=p.useState(!1),[g,b]=p.useState({}),y=!!n;p.useEffect(()=>{var M;y&&n&&c({title:n.title||"",description:n.description||"",price:n.price||"",category:n.category||"",condition:n.condition||"used",address:n.location||{city:""},contactInfo:n.contactInfo||{name:"",phone:"",email:""},exchangeMethod:((M=n.contactInfo)==null?void 0:M.exchangeMethod)||"public",files:[]})},[y,n]),p.useEffect(()=>{t&&(async()=>{x(!0);try{const $=await ge.get("/get-user");console.log("Fetched user info:",$.data.user),m($.data.user)}catch($){console.error("Error fetching user info:",$)}finally{x(!1)}})()},[t]),p.useEffect(()=>{var M;if(h&&t){console.log("Auto-filling with user data:",h);const $=`${h.firstName||""} ${h.lastName||""}`.trim(),O=h.email||"",L=((M=h.currentLocation)==null?void 0:M.city)||"";console.log("Auto-fill values:",{fullName:$,userEmail:O,userCity:L});const Y=setTimeout(()=>{c(K=>{const B={...K,contactInfo:{name:$||K.contactInfo.name,phone:K.contactInfo.phone,email:O||K.contactInfo.email},address:{city:L||K.address.city}};return console.log("New form data after auto-fill:",B),B})},100);return()=>clearTimeout(Y)}},[h,t]);const v=M=>{c($=>({...$,files:[...$.files,...M].slice(0,5)}))},{getRootProps:w,getInputProps:N,isDragActive:j}=pu({onDrop:v,accept:"image/*",maxFiles:5}),k=M=>{c({...l,[M.target.name]:M.target.value}),g[M.target.name]&&b($=>({...$,[M.target.name]:void 0}))},P=M=>{c({...l,address:{...l.address,[M.target.name]:M.target.value}})},S=M=>{c({...l,contactInfo:{...l.contactInfo,[M.target.name]:M.target.value}});const $=`contact${M.target.name.charAt(0).toUpperCase()+M.target.name.slice(1)}`;g[$]&&b(O=>({...O,[$]:void 0}))},E=M=>{c({...l,exchangeMethod:M.target.value})},T=M=>{c($=>({...$,files:$.files.filter((O,L)=>L!==M)}))},W=async()=>{var $,O,L;if(l.files.length===0)return console.log("No images to upload, returning empty array"),[];console.log("Uploading images:",l.files.length);const M=new FormData;l.files.forEach(Y=>{M.append("images",Y)});try{const Y=await ge.post("/upload-images",M,{headers:{"Content-Type":"multipart/form-data"}});return console.log("Images uploaded successfully:",Y.data),Y.data.imageUrls}catch(Y){throw console.error("Error uploading images:",Y),console.error("Image upload error details:",($=Y.response)==null?void 0:$.data),new Error(`Failed to upload images: ${((L=(O=Y.response)==null?void 0:O.data)==null?void 0:L.message)||Y.message}`)}},F=async M=>{var $,O,L,Y,K,B,U;M.preventDefault(),console.log("Form submitted - this should only happen on step 3 with List Item button"),u(!0);try{let V=[];try{V=await W(),console.log("Images uploaded successfully:",V)}catch(ne){console.error("Image upload failed, continuing without images:",ne),V=[]}const G={title:l.title,description:l.description,price:parseFloat(l.price)||0,category:l.category,condition:l.condition,thumbnailUrl:V[0]||"",contactInfo:{name:l.contactInfo.name,phone:l.contactInfo.phone,email:l.contactInfo.email,generalLocation:l.address.city||"",exchangeMethod:l.exchangeMethod},images:V};console.log("Submitting payload:",G);let X;y?(X=await ge.put(`/marketplace/item/${n._id}`,G),console.log("API response (edit):",X.data),i==null||i(X.data)):(X=await ge.post("/marketplace/item",G),console.log("API response (create):",X.data),s==null||s(X.data));const oe={title:"",description:"",price:"",category:"",condition:"used",address:{city:""},contactInfo:{name:h?`${h.firstName||""} ${h.lastName||""}`.trim():"",phone:"",email:(h==null?void 0:h.email)||""},exchangeMethod:"public",files:[]};c(oe),o(1),e()}catch(V){console.error("Error creating item:",V),console.error("Error response:",($=V.response)==null?void 0:$.data),console.error("Error status:",(O=V.response)==null?void 0:O.status),console.error("Error headers:",(L=V.response)==null?void 0:L.headers);let G="Failed to create item. Please try again.";(K=(Y=V.response)==null?void 0:Y.data)!=null&&K.message?G=V.response.data.message:(U=(B=V.response)==null?void 0:B.data)!=null&&U.details?G=V.response.data.details:V.message&&(G=V.message),console.error("Final error message:",G),alert(`Error: ${G}`)}finally{u(!1)}},D=M=>{switch(M){case 1:return l.title.trim()&&l.price&&parseFloat(l.price)>0&&l.category;case 2:return l.description.trim();case 3:return l.contactInfo.name.trim()&&l.contactInfo.email.trim();default:return!0}},A=M=>{if(M.preventDefault(),M.stopPropagation(),console.log("Next step clicked, current step:",a),a<3)if(D(a))o(a+1),b({});else{const $={};switch(a){case 1:l.title.trim()||($.title="Title is required"),(!l.price||parseFloat(l.price)<=0)&&($.price="Valid price is required"),l.category||($.category="Category is required");break;case 2:l.description.trim()||($.description="Description is required");break;case 3:l.contactInfo.name.trim()||($.contactName="Contact name is required"),l.contactInfo.email.trim()||($.contactEmail="Email is required");break}b($)}},_=M=>{M.preventDefault(),M.stopPropagation(),a>1&&o(a-1)},z=["Electronics","Furniture","Books","Clothing","Sports","Home & Garden","Vehicles","Other"],I=[{value:"new",label:"New"},{value:"like-new",label:"Like New"},{value:"used",label:"Used"},{value:"fair",label:"Fair"},{value:"poor",label:"Poor"}];return r.jsx(cf,{isOpen:t,onClose:e,title:y?"Edit Item":"List New Item",width:"w-full sm:w-96",maxWidth:"max-w-md",children:r.jsxs("form",{onSubmit:F,className:"h-full flex flex-col",children:[r.jsxs("div",{className:"px-6 py-4 border-b border-white/10",children:[r.jsx("div",{className:"flex items-center justify-between",children:[1,2,3].map(M=>r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${M<=a?"bg-orange-500 text-white":"bg-white/10 text-white/50"}`,children:M}),M<3&&r.jsx("div",{className:`w-8 h-0.5 mx-2 ${M<a?"bg-orange-500":"bg-white/10"}`})]},M))}),r.jsxs("div",{className:"flex justify-between text-xs text-white/60 mt-2",children:[r.jsx("span",{children:"Basic Info"}),r.jsx("span",{children:"Details"}),r.jsx("span",{children:"Contact"})]})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[a===1&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"mb-4 p-3 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:r.jsxs("p",{className:"text-sm text-blue-300",children:[r.jsx("span",{className:"font-medium",children:"Step 1:"})," Fill in the basic information about your item. All fields marked with * are required."]})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"Item Title *"}),r.jsx("input",{type:"text",name:"title",required:!0,placeholder:"What are you selling?",className:`w-full px-4 py-3 bg-white/5 border rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 ${g.title?"border-red-500 focus:ring-red-500/50 focus:border-red-500":"border-white/20 focus:ring-orange-500/50 focus:border-orange-500/50"}`,value:l.title,onChange:k}),g.title&&r.jsx("p",{className:"text-red-400 text-xs mt-1",children:g.title})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"Price ($) *"}),r.jsx("input",{type:"number",name:"price",required:!0,min:"0",step:"0.01",placeholder:"0.00",className:`w-full px-4 py-3 bg-white/5 border rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 ${g.price?"border-red-500 focus:ring-red-500/50 focus:border-red-500":"border-white/20 focus:ring-orange-500/50 focus:border-orange-500/50"}`,value:l.price,onChange:k}),g.price&&r.jsx("p",{className:"text-red-400 text-xs mt-1",children:g.price})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"Category *"}),r.jsxs("select",{name:"category",required:!0,className:`w-full px-4 py-3 bg-white/5 border rounded-xl text-white focus:outline-none focus:ring-2 ${g.category?"border-red-500 focus:ring-red-500/50 focus:border-red-500":"border-white/20 focus:ring-orange-500/50 focus:border-orange-500/50"}`,value:l.category,onChange:k,children:[r.jsx("option",{value:"",children:"Select category"}),z.map(M=>r.jsx("option",{value:M,children:M},M))]}),g.category&&r.jsx("p",{className:"text-red-400 text-xs mt-1",children:g.category})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"Condition *"}),r.jsx("select",{name:"condition",required:!0,className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-orange-500/50 focus:border-orange-500/50",value:l.condition,onChange:k,children:I.map(M=>r.jsx("option",{value:M.value,children:M.label},M.value))})]})]}),a===2&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"mb-4 p-3 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:r.jsxs("p",{className:"text-sm text-blue-300",children:[r.jsx("span",{className:"font-medium",children:"Step 2:"})," Add a detailed description and upload images to showcase your item."]})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"Description *"}),r.jsx("textarea",{name:"description",required:!0,rows:4,placeholder:"Describe your item in detail...",className:`w-full px-4 py-3 bg-white/5 border rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 resize-none ${g.description?"border-red-500 focus:ring-red-500/50 focus:border-red-500":"border-white/20 focus:ring-orange-500/50 focus:border-orange-500/50"}`,value:l.description,onChange:k}),g.description&&r.jsx("p",{className:"text-red-400 text-xs mt-1",children:g.description})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"Upload Images (Max 5)"}),r.jsxs("div",{...w(),className:`w-full border-2 border-dashed rounded-xl p-6 text-center cursor-pointer transition-colors duration-200 ${j?"border-orange-500 bg-orange-500/10":"border-white/20 hover:border-orange-500/50 hover:bg-white/5"}`,children:[r.jsx("input",{...N()}),r.jsx("div",{className:"text-white/70",children:j?r.jsx("p",{children:"Drop images here..."}):r.jsxs("div",{children:[r.jsx("p",{children:"Drag & drop images here, or click to select"}),r.jsx("p",{className:"text-sm text-white/50 mt-1",children:"PNG, JPG up to 5MB each"})]})})]}),l.files.length>0&&r.jsx("div",{className:"grid grid-cols-2 gap-2 mt-4",children:l.files.map((M,$)=>r.jsxs("div",{className:"relative group",children:[r.jsx("img",{src:URL.createObjectURL(M),alt:`Preview ${$+1}`,className:"w-full h-24 object-cover rounded-lg"}),r.jsx("button",{type:"button",onClick:()=>T($),className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center text-xs hover:bg-red-600 transition-colors duration-200",children:""})]},$))})]})]}),a===3&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"mb-4 p-3 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:r.jsxs("p",{className:"text-sm text-blue-300",children:[r.jsx("span",{className:"font-medium",children:"Step 3:"})," Contact information for buyers. Only name and email are required. Address is optional for privacy."]})}),f&&r.jsx("div",{className:"flex items-center justify-center py-4",children:r.jsxs("div",{className:"flex items-center gap-2 text-white/70",children:[r.jsx("div",{className:"w-4 h-4 border-2 border-orange-500 border-t-transparent rounded-full animate-spin"}),r.jsx("span",{className:"text-sm",children:"Loading your profile..."})]})}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-white/90 mb-2",children:["Contact Name *",h&&r.jsx("span",{className:"text-xs text-green-400 ml-2",children:" Auto-filled"})]}),r.jsx("input",{type:"text",name:"name",required:!0,placeholder:h?"Auto-filled from your profile":"Your name",className:`w-full px-4 py-3 bg-white/5 border rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 ${g.contactName?"border-red-500 focus:ring-red-500/50 focus:border-red-500":"border-white/20 focus:ring-orange-500/50 focus:border-orange-500/50"}`,value:l.contactInfo.name,onChange:S}),g.contactName&&r.jsx("p",{className:"text-red-400 text-xs mt-1",children:g.contactName})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"Phone Number"}),r.jsx("input",{type:"tel",name:"phone",placeholder:"(555) 123-4567",className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-orange-500/50 focus:border-orange-500/50",value:l.contactInfo.phone,onChange:S})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-white/90 mb-2",children:["Email *",h&&r.jsx("span",{className:"text-xs text-green-400 ml-2",children:" Auto-filled"})]}),r.jsx("input",{type:"email",name:"email",required:!0,placeholder:h?"Auto-filled from your profile":"your@email.com",className:`w-full px-4 py-3 bg-white/5 border rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 ${g.contactEmail?"border-red-500 focus:ring-red-500/50 focus:border-red-500":"border-white/20 focus:ring-orange-500/50 focus:border-orange-500/50"}`,value:l.contactInfo.email,onChange:S}),g.contactEmail&&r.jsx("p",{className:"text-red-400 text-xs mt-1",children:g.contactEmail})]}),r.jsx("div",{className:"p-3 bg-amber-500/10 border border-amber-500/20 rounded-lg",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("div",{className:"text-amber-400 mt-0.5",children:""}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-amber-300 font-medium",children:"Privacy & Safety"}),r.jsx("p",{className:"text-xs text-amber-200 mt-1",children:"Address information is optional and only shared with confirmed buyers. You can choose to meet in a public place or provide general area only."})]})]})}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-white/90 mb-2",children:["General Location (Optional)",r.jsx("span",{className:"text-xs text-white/50 ml-1",children:"- for buyer reference only"})]}),r.jsx("input",{type:"text",name:"city",placeholder:"e.g., 'Near Campus', 'Downtown Area', or leave blank",className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-orange-500/50 focus:border-orange-500/50",value:l.address.city,onChange:P}),r.jsx("p",{className:"text-xs text-white/50 mt-1",children:' Tip: Use general areas like "Near University" instead of specific addresses'})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"How would you like to handle the exchange?"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-3 p-3 bg-white/5 border border-white/20 rounded-lg hover:bg-white/10 transition-colors cursor-pointer",children:[r.jsx("input",{type:"radio",name:"exchangeMethod",value:"public",className:"text-orange-500 focus:ring-orange-500",checked:l.exchangeMethod==="public",onChange:E}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-white font-medium",children:"Public Meeting"}),r.jsx("div",{className:"text-xs text-white/70",children:"Meet in a safe, public location (recommended)"})]})]}),r.jsxs("label",{className:"flex items-center gap-3 p-3 bg-white/5 border border-white/20 rounded-lg hover:bg-white/10 transition-colors cursor-pointer",children:[r.jsx("input",{type:"radio",name:"exchangeMethod",value:"campus",className:"text-orange-500 focus:ring-orange-500",checked:l.exchangeMethod==="campus",onChange:E}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-white font-medium",children:"Campus Pickup"}),r.jsx("div",{className:"text-xs text-white/70",children:"Meet on campus grounds"})]})]}),r.jsxs("label",{className:"flex items-center gap-3 p-3 bg-white/5 border border-white/20 rounded-lg hover:bg-white/10 transition-colors cursor-pointer",children:[r.jsx("input",{type:"radio",name:"exchangeMethod",value:"shipping",className:"text-orange-500 focus:ring-orange-500",checked:l.exchangeMethod==="shipping",onChange:E}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-white font-medium",children:"Shipping"}),r.jsx("div",{className:"text-xs text-white/70",children:"Ship the item (buyer pays shipping)"})]})]})]})]})]})]}),r.jsx("div",{className:"p-6 border-t border-white/10 bg-gradient-to-r from-white/5 to-transparent",children:r.jsxs("div",{className:"flex justify-between",children:[a>1?r.jsx("button",{type:"button",onClick:_,className:"px-6 py-3 text-white/70 hover:text-white transition-colors duration-200",children:" Back"}):r.jsx("div",{}),a<3?r.jsx("button",{type:"button",onClick:A,disabled:!D(a),className:`px-6 py-3 rounded-xl transition-colors duration-200 font-medium ${D(a)?"bg-orange-500 text-white hover:bg-orange-600":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:"Next "}):r.jsx("button",{type:"submit",disabled:d,className:"px-6 py-3 bg-orange-500 text-white rounded-xl hover:bg-orange-600 transition-colors duration-200 font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Creating...":"List Item"})]})})]})})},r6=()=>{const[t,e]=p.useState(!1),[n,s]=p.useState(null),i=p.useCallback(async(h,m)=>{e(!0),s(null);try{return await Sr.generatePersonalizedInsights(h,m)}catch(f){return s(f.message),[]}finally{e(!1)}},[]),a=p.useCallback(async h=>{e(!0),s(null);try{return await Sr.generatePersonalizedActions(h)}catch(m){return s(m.message),[]}finally{e(!1)}},[]),o=p.useCallback(async h=>{e(!0),s(null);try{return await Sr.generateArrivalTimeline(h)}catch(m){return s(m.message),null}finally{e(!1)}},[]),l=p.useCallback(async(h,m)=>{e(!0),s(null);try{return await Sr.generateMarketAnalysis(h,m)}catch(f){return s(f.message),null}finally{e(!1)}},[]),c=p.useCallback(async(h,m,f)=>{e(!0),s(null);try{return await Sr.generateConversationalResponse(h,m,f)}catch(x){return s(x.message),"I'm having trouble processing your request right now. Please try again in a moment."}finally{e(!1)}},[]),d=p.useCallback(async(h,m)=>{e(!0),s(null);try{return await Sr.generateSuccessPredictions(h,m)}catch(f){return s(f.message),null}finally{e(!1)}},[]),u=p.useCallback(async(h,m)=>{e(!0),s(null);try{return await Sr.explainInsight(h,m)}catch(f){return s(f.message),{explanation:`This recommendation is important for your success. ${h.title} is a ${h.priority} priority that will help you stay on track with your goals.`,insight:h,aiGenerated:!1,fallback:!0}}finally{e(!1)}},[]);return{loading:t,error:n,generateInsights:i,generateActions:a,generateTimeline:o,generateMarketAnalysis:l,generateResponse:c,generatePredictions:d,explainInsight:u}};class qZ{constructor(){this.cachePrefix="ai-explanation-cache",this.defaultTTL=24*60*60*1e3,this.maxCacheSize=50}generateCacheKey(e,n,s){return`${this.cachePrefix}-${e}-${n}-${s}`}generateUserDataHash(e){const n=JSON.stringify({university:e==null?void 0:e.university,major:e==null?void 0:e.major,onboardingData:e==null?void 0:e.onboardingData,dashboardData:e==null?void 0:e.dashboardData});let s=0;for(let i=0;i<n.length;i++){const a=n.charCodeAt(i);s=(s<<5)-s+a,s=s&s}return Math.abs(s).toString(36)}getCachedExplanation(e,n,s){try{const i=this.generateUserDataHash(s),a=this.generateCacheKey(e,n,i),o=localStorage.getItem(a);if(o){const l=JSON.parse(o);if(this.isCacheValid(l))return console.log(" Cache HIT: Using cached AI explanation"),l.explanation;localStorage.removeItem(a),console.log(" Cache EXPIRED: Removed expired cache")}return console.log(" Cache MISS: No valid cache found"),null}catch(i){return console.error("Cache get error:",i),null}}setCachedExplanation(e,n,s,i,a=null){try{const o=this.generateUserDataHash(s),l=this.generateCacheKey(e,n,o),c={explanation:i,timestamp:Date.now(),userDataHash:o,ttl:a||this.defaultTTL,userId:e,insightId:n};return localStorage.setItem(l,JSON.stringify(c)),this.cleanupOldCache(),console.log(" Cache SET: Stored AI explanation"),!0}catch(o){return console.error("Cache set error:",o),!1}}isCacheValid(e){return Date.now()-e.timestamp<e.ttl}cleanupOldCache(){try{const e=[];for(let s=0;s<localStorage.length;s++){const i=localStorage.key(s);if(i&&i.startsWith(this.cachePrefix)){const a=localStorage.getItem(i);if(a)try{const o=JSON.parse(a);e.push({key:i,timestamp:o.timestamp,data:o})}catch{localStorage.removeItem(i)}}}if(e.sort((s,i)=>s.timestamp-i.timestamp),e.length>this.maxCacheSize){const s=e.slice(0,e.length-this.maxCacheSize);s.forEach(i=>{localStorage.removeItem(i.key)}),console.log(` Cache CLEANUP: Removed ${s.length} old entries`)}const n=Date.now();e.forEach(s=>{n-s.data.timestamp>s.data.ttl&&localStorage.removeItem(s.key)})}catch(e){console.error("Cache cleanup error:",e)}}invalidateUserCache(e){try{const n=[];for(let s=0;s<localStorage.length;s++){const i=localStorage.key(s);i&&i.includes(`-${e}-`)&&n.push(i)}return n.forEach(s=>{localStorage.removeItem(s)}),console.log(` Cache INVALIDATED: Removed ${n.length} entries for user ${e}`),n.length}catch(n){return console.error("Cache invalidation error:",n),0}}getCacheStats(){try{let e=0,n=0,s=0,i=0;for(let a=0;a<localStorage.length;a++){const o=localStorage.key(a);if(o&&o.startsWith(this.cachePrefix)){const l=localStorage.getItem(o);if(l){e++,i+=l.length;try{const c=JSON.parse(l);this.isCacheValid(c)?n++:s++}catch{s++}}}}return{totalEntries:e,validEntries:n,expiredEntries:s,totalSize:`${(i/1024).toFixed(2)} KB`,hitRate:e>0?`${(n/e*100).toFixed(1)}%`:"0%"}}catch(e){return console.error("Cache stats error:",e),null}}clearAllCache(){try{const e=[];for(let n=0;n<localStorage.length;n++){const s=localStorage.key(n);s&&s.startsWith(this.cachePrefix)&&e.push(s)}return e.forEach(n=>{localStorage.removeItem(n)}),console.log(` Cache CLEARED: Removed ${e.length} entries`),e.length}catch(e){return console.error("Cache clear error:",e),0}}}const im=new qZ,GZ=({properties:t=[],title:e=" Recommended Properties",subtitle:n="AI-curated properties matching your preferences",onPropertyClick:s,maxDisplay:i=6,showRecommendations:a=!0})=>{if(!t||t.length===0)return r.jsx("div",{className:"text-center py-8",children:r.jsx("div",{className:"text-white/50 text-sm",children:"No properties found"})});const o=t.slice(0,i),l=t.length>i,c={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}};return r.jsxs(ye.div,{variants:c,initial:"hidden",animate:"visible",className:"space-y-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:e}),r.jsx("p",{className:"text-white/60 text-sm",children:n}),r.jsxs("div",{className:"mt-2 text-xs text-white/50",children:[t.length," property",t.length!==1?"ies":""," found"]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.map((d,u)=>r.jsx(BL,{property:d,index:u,isRecommended:a&&u===0,onClick:s,showContactActions:!0},d.id||u))}),l&&r.jsx("div",{className:"text-center pt-4 border-t border-white/10",children:r.jsxs("div",{className:"text-white/50 text-sm",children:["+",t.length-i," more properties available"]})}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-4 border-t border-white/10",children:[r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-lg font-bold text-green-400",children:["$",Math.round(t.reduce((d,u)=>d+(u.price||0),0)/t.length)]}),r.jsx("div",{className:"text-xs text-white/60",children:"Avg. Price"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-lg font-bold text-blue-400",children:Math.round(t.reduce((d,u)=>d+(u.distanceFromUniversity||0),0)/t.length*10)/10}),r.jsx("div",{className:"text-xs text-white/60",children:"Avg. Distance"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-lg font-bold text-purple-400",children:t.filter(d=>d.availability==="available").length}),r.jsx("div",{className:"text-xs text-white/60",children:"Available"})]})]})]})},KZ=({property:t,index:e,isRecommended:n=!1,onClick:s,showContactActions:i=!1})=>{const{title:a,price:o,bedrooms:l,bathrooms:c,address:d,distanceFromUniversity:u,furnished:h,recommendation:m,availability:f="available",rating:x,amenities:g=[],image:b}=t,y=k=>`$${k}`,v=(k,P,S=[])=>{let E=3;k<400?E+=.8:k<600?E+=.5:k<800&&(E+=.2),P<2?E+=.6:P<3?E+=.4:P<5&&(E+=.2);const T=S.length;return T>=5?E+=.4:T>=3&&(E+=.2),Math.min(5,Math.round(E*10)/10)},N=(k=>({"Sathya Keshav's Apt":"123 Campus Drive, DeKalb, IL 60115","Stadium View II Apartment":"1315 W Lincoln Hwy, DeKalb, IL 60115","Lincolnshire West":"456 University Ave, DeKalb, IL 60115","Cozy 2BHK @ Stadium View 3":"789 Stadium View, DeKalb, IL 60115"})[k]||"123 University St, DeKalb, IL 60115")(a),j=v(o,u,g);return r.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{scale:1.01},whileTap:{scale:.99},onClick:()=>s==null?void 0:s(t),className:`
        relative group cursor-pointer
        bg-slate-900/50 border border-slate-700/50
        rounded-xl p-4 transition-all duration-300
        hover:bg-slate-800/50 hover:border-blue-500/30 hover:shadow-lg hover:shadow-blue-500/10
        ${s?"cursor-pointer":"cursor-default"}
        w-full
      `,children:[n&&r.jsx("div",{className:"absolute -top-2 -right-2 z-30",children:r.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-500 text-white text-xs font-bold px-3 py-1 rounded-full shadow-lg",children:"RECOMMENDED"})}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-bold text-white text-lg leading-tight group-hover:text-blue-300 transition-colors",children:a}),r.jsx("div",{className:"flex items-center gap-2 mt-1",children:r.jsxs("div",{className:"flex items-center gap-1 text-blue-400 text-sm",children:[r.jsx(Bp,{className:"text-sm"}),r.jsx("span",{className:"font-medium",children:N})]})})]}),r.jsxs("div",{className:"text-right flex-shrink-0 ml-4",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-400 mb-1",children:y(o)}),r.jsx("div",{className:"text-xs text-white/60",children:"per month"}),r.jsx("div",{className:"mt-2",children:r.jsx("div",{className:"bg-green-500/20 text-green-400 border border-green-500/30 px-2 py-1 rounded-full text-xs font-semibold",children:(f==null?void 0:f.toUpperCase())||"AVAILABLE"})})]})]}),r.jsxs("div",{className:"flex items-center justify-between text-white/70 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(G_,{className:"text-blue-400"}),r.jsxs("span",{className:"font-medium",children:[l," bed",l!==1?"s":""]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(DV,{className:"text-blue-400"}),r.jsxs("span",{className:"font-medium",children:[c," bath",c!==1?"s":""]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Bp,{className:"text-blue-400"}),r.jsxs("span",{className:"font-medium",children:[u," mi"]})]}),h&&r.jsxs("div",{className:"flex items-center gap-1 text-green-400",children:[r.jsx(ja,{}),r.jsx("span",{className:"font-medium",children:"Furnished"})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-1 text-yellow-400 text-sm",children:[r.jsx(Bh,{}),r.jsxs("span",{className:"font-medium",children:[j,"/5"]})]}),m&&r.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg px-3 py-2 flex-1 ml-4",children:r.jsx("p",{className:"text-blue-300 text-sm leading-relaxed",children:m})})]})]})]})};class O5{static parsePropertiesFromText(e){if(!e)return[];const n=e.replace(/https:\/\/newrun-property-images\.s3\.us-east-1\.amazonaws\.com\/[^\s\)]+/g,"").replace(/\[Check it out here\.\]/g,"").replace(/\[See the image\.\]/g,"").replace(/\*\*(.*?)\*\*/g,"$1").replace(/\*Title:\s*"(.*?)"\*/g,"$1").replace(/\*Priority:\*\*/g,"").replace(/\*Message:\*\*/g,"").replace(/\*Action:\*\*/g,""),s=[],i=[/(\d+)\.\s*([^:]+):\s*At just \$(\d+)\/month[^.]*?(\d+(?:\.\d+)?)\s*miles? from campus[^.]*?([^.]*)/gi,/([^:]+):\s*\$(\d+)\/month[^.]*?(\d+)\s*bedroom[^.]*?(\d+(?:\.\d+)?)\s*miles?[^.]*?([^.]*)/gi,/For \$(\d+)\/month[^.]*?(\d+)\s*bedroom[^.]*?(\d+(?:\.\d+)?)\s*miles?[^.]*?([^.]*)/gi];let a,o=0;for(const l of i)for(;(a=l.exec(n))!==null;){const c=this.extractPropertyFromMatch(a,o++);c&&s.push(c)}return s.length===0&&s.push(...this.extractFromCommonMentions(n)),s}static extractPropertyFromMatch(e,n){try{const s=this.cleanPropertyTitle(e[2]||e[1]||"Property"),i=parseInt(e[3]||e[2]||e[1]||"0"),a=parseInt(e[4]||e[3]||"0"),o=parseFloat(e[5]||e[4]||"0"),l=e[6]||e[5]||"";return{id:`property-${n}`,title:s,price:i,bedrooms:a||this.extractBedroomsFromText(l),bathrooms:this.extractBathroomsFromText(l),address:this.generateAddress(s),distanceFromUniversity:o||this.extractDistanceFromText(l),furnished:this.isFurnished(l),contactName:this.extractContactName(s),contactPhone:this.generatePhoneNumber(),contactEmail:this.generateEmail(s),recommendation:l||this.generateRecommendation(i,a,o),availability:"available",rating:this.generateRating(i,o),amenities:this.extractAmenities(l)}}catch(s){return console.error("Property extraction error:",s),null}}static extractFromCommonMentions(e){const n=[];return[{name:"Sathya Keshav's Apt",price:300,bedrooms:4,bathrooms:2.5,distance:1.8},{name:"Stadium View II Apartment",price:300,bedrooms:4,bathrooms:2,distance:3},{name:"Lincolnshire West",price:350,bedrooms:2,bathrooms:2,distance:3.4},{name:"Cozy 2BHK @ Stadium View 3",price:900,bedrooms:2,bathrooms:1.5,distance:1.7}].forEach((i,a)=>{e.toLowerCase().includes(i.name.toLowerCase())&&n.push({id:`mention-${a}`,title:i.name,price:i.price,bedrooms:i.bedrooms,bathrooms:i.bathrooms,address:this.generateAddress(i.name),distanceFromUniversity:i.distance,furnished:i.price<400,contactName:this.extractContactName(i.name),contactPhone:this.generatePhoneNumber(),contactEmail:this.generateEmail(i.name),recommendation:this.generateRecommendation(i.price,i.bedrooms,i.distance),availability:"available",rating:this.generateRating(i.price,i.distance),amenities:this.generateAmenities(i.price)})}),n}static cleanPropertyTitle(e){return e.replace(/^\d+\.\s*/,"").replace(/:\s*$/,"").replace(/\*\*(.*?)\*\*/g,"$1").replace(/\*Title:\s*"(.*?)"\*/g,"$1").trim()}static cleanAIText(e){return e?e.replace(/https:\/\/newrun-property-images\.s3\.us-east-1\.amazonaws\.com\/[^\s\)]+/g,"").replace(/\[Check it out here\.\]/g,"").replace(/\[See the image\.\]/g,"").replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*Title:\s*"(.*?)"\*/g,"<strong>$1</strong>").replace(/\*Priority:\*\*/g,"").replace(/\*Message:\*\*/g,"").replace(/\*Action:\*\*/g,"").replace(/\s+/g," ").trim():""}static extractBedroomsFromText(e){const n=e.match(/(\d+)\s*bedroom/gi);return n?parseInt(n[0]):2}static extractBathroomsFromText(e){const n=e.match(/(\d+(?:\.\d+)?)\s*bathroom/gi);return n?parseFloat(n[0]):1}static extractDistanceFromText(e){const n=e.match(/(\d+(?:\.\d+)?)\s*miles?/gi);return n?parseFloat(n[0]):2}static isFurnished(e){return/furnished|furniture|furnished|move.?in.?ready/gi.test(e)}static extractContactName(e){const n=e.match(/([A-Z][a-z]+ [A-Z][a-z]+)/);return n?n[1]:"Property Manager"}static generatePhoneNumber(){return`+1 ${Math.floor(Math.random()*900)+100}-${Math.floor(Math.random()*900)+100}-${Math.floor(Math.random()*9e3)+1e3}`}static generateEmail(e){return`${e.toLowerCase().replace(/[^a-z]/g,"")}@example.com`}static generateAddress(e){const n=["123 Campus Drive, DeKalb, IL 60115","1315 W Lincoln Hwy, DeKalb, IL 60115","456 University Ave, DeKalb, IL 60115","789 Stadium View, DeKalb, IL 60115"];return n[Math.floor(Math.random()*n.length)]}static generateRecommendation(e,n,s){let i="";return e<400&&(i+="Excellent value for money! "),s<2?i+="Walking distance to campus! ":s<3&&(i+="Short commute to campus! "),n>=3&&(i+="Perfect for sharing with roommates! "),i.trim()||"Great option for your needs!"}static generateRating(e,n){let s=3.5;return e<400&&(s+=.5),n<2&&(s+=.5),n<3&&(s+=.3),Math.min(5,Math.round(s*10)/10)}static extractAmenities(e){const n=[],s={furnished:"Furnished",parking:"Parking",laundry:"Laundry",ac:"A/C",internet:"Internet",gym:"Gym",pool:"Pool"};return Object.keys(s).forEach(i=>{e.toLowerCase().includes(i)&&n.push(s[i])}),n}static generateAmenities(e){const n=["Parking","Laundry"];return e<400?[...n,"A/C"]:e<600?[...n,"A/C","Internet"]:[...n,"A/C","Internet","Gym","Pool"]}}const YZ=({userInfo:t,dashboardData:e,onboardingData:n})=>{var pe,Q,we,be,ee,ue;const s=dt(),{loading:i,generateInsights:a,generateActions:o,explainInsight:l}=r6(),[c,d]=p.useState({aiInsights:[],aiActions:[],aiTimeline:null,aiMarketAnalysis:null,aiPredictions:null,isLoading:!1,isInitialized:!1,error:null}),{aiInsights:u,aiActions:h,aiTimeline:m,aiMarketAnalysis:f,aiPredictions:x,isLoading:g,isInitialized:b,error:y}=c,[v,w]=p.useState(!1),[N,j]=p.useState(null),[k,P]=p.useState(null),[S,E]=p.useState(!1),[T,W]=p.useState(null),[F,D]=p.useState(""),[A,_]=p.useState(!1),[z,I]=p.useState(""),[M,$]=p.useState(!1),O=C=>C==="high"?"bg-red-500/20 text-red-300":C==="medium"?"bg-yellow-500/20 text-yellow-300":"bg-green-500/20 text-green-300",L=C=>{if(!C)return[];if(Array.isArray(C.items))return C.items;const q=[];return Array.isArray(C.criticalTasks)&&C.criticalTasks.forEach(re=>q.push({label:re,priority:"high"})),typeof C.timeline=="string"&&C.timeline.split(/[\n-]+/).map(re=>re.trim()).filter(Boolean).forEach(re=>{q.find(J=>J.label===re)||q.push({label:re,priority:"medium"})}),q},Y=(C,q)=>q?Math.round(C/q*100):0,K=p.useMemo(()=>t&&e&&!b,[t,e,b]);p.useEffect(()=>{K&&U()},[K]);const B=p.useRef(new Map),U=p.useCallback(async()=>{const C=(t==null?void 0:t.id)||"anonymous",q={userInfo:t,dashboardData:e,onboardingData:n},re=R_(C,q),J=$_(C,q);if(re&&J){console.log(" Using cached AI data for insights and actions"),d(Ee=>({...Ee,aiInsights:re,aiActions:J,isInitialized:!0}));return}const ae=`ai-data-${C}`;if(B.current.has(ae))return console.log(" Request already in progress, waiting..."),B.current.get(ae);const Se=(async()=>{var Ee,Le,Ze,it,sn,qt,bt;d(tt=>({...tt,isLoading:!0,error:null}));try{const tt={...t,onboardingData:n||{},dashboardStats:{propertiesCount:(e==null?void 0:e.propertiesCount)||0,marketplaceCount:(e==null?void 0:e.marketplaceCount)||0,averagePropertyPrice:((Ee=e==null?void 0:e.propertiesStats)==null?void 0:Ee.averagePrice)||0,totalViews:((Le=e==null?void 0:e.propertiesStats)==null?void 0:Le.totalViews)||0,availableProperties:((Ze=e==null?void 0:e.propertiesStats)==null?void 0:Ze.availableProperties)||0,marketplaceItems:((it=e==null?void 0:e.marketplaceStats)==null?void 0:it.totalItems)||0,marketplaceViews:((sn=e==null?void 0:e.marketplaceStats)==null?void 0:sn.totalViews)||0},userProperties:((qt=e==null?void 0:e.myProperties)==null?void 0:qt.items)||[],userMarketplaceItems:((bt=e==null?void 0:e.myMarketplace)==null?void 0:bt.items)||[]};console.log(" Starting AI data generation with enriched data...",{enrichedUserData:tt,originalUserInfo:t,onboardingData:n,dashboardData:e});const[Zt,Mt]=await Promise.allSettled([a(tt,e),o(tt)]);console.log(" AI Results:",{insights:Zt,actions:Mt}),Zt.status==="fulfilled"&&console.log(" Raw Insights Response:",Zt.value),Mt.status==="fulfilled"&&console.log(" Raw Actions Response:",Mt.value);const Xs=G(Zt.status==="fulfilled"?Zt.value:[]),Kn=X(Mt.status==="fulfilled"?Mt.value:[]);console.log(" Transformed Data:",{transformedInsights:Xs,transformedActions:Kn});const Nn={aiInsights:Xs,aiActions:Kn,aiTimeline:null,aiMarketAnalysis:null,aiPredictions:null,isLoading:!1,isInitialized:!0,error:null};return d(Nn),D_(C,q,Xs),F_(C,q,Kn),Nn}catch(tt){console.error("AI Initialization Error:",tt);const Zt={isLoading:!1,error:`AI Service Error: ${tt.message||"Unknown error"}`,isInitialized:!0};throw d(Mt=>({...Mt,...Zt})),tt}finally{B.current.delete(ae)}})();return B.current.set(ae,Se),Se},[t,e,a,o]),V=C=>{if(!C)return null;if(console.log(" extractJSONArray input:",C),Array.isArray(C))return console.log(" Returning array as-is:",C),C;if(typeof C=="object")return console.log(" Object keys:",Object.keys(C)),Array.isArray(C.insights)?(console.log(" Found insights array:",C.insights),C.insights):Array.isArray(C.actions)?(console.log(" Found actions array:",C.actions),C.actions):Array.isArray(C.items)?(console.log(" Found items array:",C.items),C.items):Array.isArray(C.data)?(console.log(" Found data array:",C.data),C.data):(console.log(" Wrapping single object in array:",[C]),[C]);if(typeof C=="string"){let q=C.trim();const re=q.match(/```(?:json)?\s*([\s\S]*?)```/i);re&&(q=re[1].trim()),/^json\s*[\[\{]/i.test(q)&&(q=q.replace(/^json\s*/i,""));try{const J=JSON.parse(q);return V(J)}catch(J){return console.warn("AI JSON parse failed, showing fallback.",J,{text:q}),null}}return null},G=p.useCallback(C=>{const q=V(C)||[];return q.length===0?[{type:"info",title:"Welcome to NewRun!",message:"Complete your onboarding to get personalized AI insights and recommendations.",action:"Complete onboarding",priority:"high",icon:"lightbulb"},{type:"success",title:"Get Started",message:"List your first property or browse available housing options.",action:"Browse properties",priority:"medium",icon:"home"}]:q.map(re=>({type:re.type||"info",title:re.title||"AI Insight",message:re.message||"Personalized recommendation available.",action:re.action||"Learn more",priority:re.priority||"medium",icon:re.icon||"lightbulb"}))},[]),X=p.useCallback(C=>{const q=V(C)||[];return q.length===0?[{label:"List Property",description:"Add a new property listing",path:"/dashboard",icon:"home",color:"blue",priority:"high"},{label:"Browse Properties",description:"Find your perfect place",path:"/all-properties",icon:"search",color:"green",priority:"high"},{label:"Find Roommate",description:"Connect with potential roommates",path:"/Synapsematches",icon:"people",color:"purple",priority:"medium"},{label:"Browse Marketplace",description:"Shop for essentials",path:"/marketplace",icon:"shopping",color:"orange",priority:"medium"}]:q.map(re=>({label:re.label||re.title||"AI Action",description:re.description||re.subtitle||re.label||"Personalized action available",path:re.path||re.href||"#",icon:re.icon||"home",color:re.color||"blue",priority:re.priority||"medium"}))},[]),oe=C=>({schedule:Co,money:ON,home:oi,people:ma,lightbulb:Kl,warning:zc,check:ja,info:_N,chat:Po,search:Fp,person:Tr,shopping:Na,event:EN,analytics:Hu,insights:qu,rocket:Fh,groups:ma,shopping_bag:Na,home_work:oi,schedule_send:Co,money_off:ON,lightbulb_outline:Kl,warning_amber:zc,check_circle:ja,info_outline:_N,chat_bubble:Po,search_icon:Fp,person_outline:Tr,event_available:EN,analytics_outlined:Hu,insights_outlined:qu,rocket_launch:Fh})[C]||Kl,ne=p.useCallback((C,q=15)=>{if(!C)return;_(!0),D("");let re=0;const J=setInterval(()=>{re<C.length?(D(C.slice(0,re+1)),re++):(clearInterval(J),_(!1))},q);return()=>clearInterval(J)},[]);p.useEffect(()=>()=>{_(!1),D("")},[]);const H=p.useCallback(async C=>{var q;j(C),w(!0),E(!0),P(null),D(""),_(!1);try{const re=(t==null?void 0:t.id)||"anonymous",J=((q=C.title)==null?void 0:q.toLowerCase().replace(/\s+/g,"-"))||"unknown",ae={userInfo:t,dashboardData:e,onboardingData:n},Se=im.getCachedExplanation(re,J,ae);if(Se){console.log(" Using cached AI explanation"),P({explanation:Se,insight:C,aiGenerated:!0,cached:!0}),ne(Se),E(!1);return}console.log(" Cache miss - making API call");const Ee=await l(C,e);P(Ee),Ee!=null&&Ee.explanation&&(im.setCachedExplanation(re,J,ae,Ee.explanation),ne(Ee.explanation))}catch(re){console.error("Failed to get AI explanation:",re);const J=`This recommendation is important for your success. ${C.title} is a ${C.priority} priority that will help you stay on track with your goals.`;P({explanation:J,insight:C,aiGenerated:!1,fallback:!0}),ne(J)}finally{E(!1)}},[l,e,ne,t,n]),Z=p.useCallback(()=>{w(!1),j(null),P(null),E(!1),D(""),_(!1)},[]),fe=p.useCallback(C=>{C.path&&C.path!=="#"?s(C.path):({"List Property":()=>s("/dashboard"),"Browse Properties":()=>s("/all-properties"),"Find Roommate":()=>s("/Synapse"),"Browse Marketplace":()=>s("/marketplace"),"AI Action":()=>s("/dashboard")}[C.label]||(()=>s("/dashboard")))()},[s]),ce=p.useMemo(()=>u.length>0,[u.length]),de=p.useMemo(()=>h.length>0,[h.length]),te=p.useMemo(()=>window.matchMedia("(prefers-reduced-motion: reduce)").matches,[]),le=p.useMemo(()=>({initial:te?{}:{opacity:0,y:20},animate:te?{}:{opacity:1,y:0},transition:te?{}:{duration:.6},whileHover:te?{}:{scale:1.02,y:-2},whileTap:te?{}:{scale:.98}}),[te]);return i&&!b?r.jsx("div",{className:"flex items-center justify-center p-8",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"}),r.jsx("span",{className:"text-white/70",children:"NewRun AI is analyzing your data..."})]})}):y?r.jsxs("div",{className:"p-6 rounded-2xl border border-red-500/50 bg-red-500/10",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(zc,{className:"text-red-400 text-xl"}),r.jsx("h3",{className:"text-lg font-bold text-red-400",children:"AI Service Error"})]}),r.jsx("p",{className:"text-red-300 text-sm",children:y}),r.jsx("button",{onClick:U,className:"mt-3 px-4 py-2 bg-red-500/20 border border-red-500/50 rounded-lg text-red-300 hover:bg-red-500/30 transition-colors",children:"Retry"})]}):g?r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-r from-blue-500 to-purple-500",children:r.jsx(Kl,{className:"text-xl text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-white",children:"AI-Powered Insights"}),r.jsx("p",{className:"text-white/60 text-sm",children:"Generating personalized recommendations..."})]})]}),r.jsx("div",{className:"flex items-center justify-center py-8",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})})]})}):r.jsxs("div",{className:"space-y-6",children:[ce&&r.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"rounded-2xl border border-white/10 bg-white/5 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-r from-blue-500 to-purple-500",children:r.jsx(Kl,{className:"text-xl text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-white",children:"AI-Powered Insights"}),r.jsx("p",{className:"text-white/60 text-sm",children:"Personalized recommendations powered by GPT-4o"})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:u.map((C,q)=>{var J,ae,Se,Ee;if(!C||typeof C!="object")return console.warn("Invalid insight object:",C),null;const re=oe(C.icon);return r.jsx(ye.div,{...le,transition:{duration:.4,delay:q*.1},onClick:()=>H(C),onMouseEnter:()=>W(q),onMouseLeave:()=>W(null),className:`p-5 rounded-xl border transition-all duration-300 ${C.action==="Learn more"&&C.type==="info"?"cursor-default":"cursor-pointer"} ${C.type==="urgent"?"border-orange-500/30 bg-orange-500/5 hover:bg-orange-500/10":C.type==="warning"?"border-amber-500/30 bg-amber-500/5 hover:bg-amber-500/10":C.type==="success"?"border-emerald-500/30 bg-emerald-500/5 hover:bg-emerald-500/10":"border-slate-500/30 bg-slate-500/5 hover:bg-slate-500/10"}`,role:"button",tabIndex:0,"aria-label":`${C.title}: ${C.message}`,onKeyDown:Le=>{(Le.key==="Enter"||Le.key===" ")&&(Le.preventDefault(),H(C))},children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:`p-3 rounded-lg ${C.type==="urgent"?"bg-orange-500/10":C.type==="warning"?"bg-amber-500/10":C.type==="success"?"bg-emerald-500/10":"bg-slate-500/10"}`,children:r.jsx(re,{className:"text-xl text-white"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx("h4",{className:"font-bold text-white text-base",dangerouslySetInnerHTML:{__html:((J=C.title)==null?void 0:J.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*Title:\s*"(.*?)"\*/g,"<strong>$1</strong>").replace(/\*Priority:\*\*/g,"").replace(/\*Message:\*\*/g,"").replace(/\*Action:\*\*/g,""))||"AI Insight"}}),r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${C.priority==="high"?"bg-orange-500/20 text-orange-300":C.priority==="medium"?"bg-amber-500/20 text-amber-300":"bg-emerald-500/20 text-emerald-300"}`,children:(ae=C.priority)==null?void 0:ae.toUpperCase()})]}),r.jsx("p",{className:"text-white/80 text-sm mb-4 leading-relaxed",dangerouslySetInnerHTML:{__html:((Se=C.message)==null?void 0:Se.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*Title:\s*"(.*?)"\*/g,"<strong>$1</strong>").replace(/\*Priority:\*\*/g,"").replace(/\*Message:\*\*/g,"").replace(/\*Action:\*\*/g,""))||"Personalized recommendation available."}}),r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"inline-flex items-center gap-2 text-sm font-medium text-blue-400 hover:text-blue-300",children:[r.jsx("span",{children:((Ee=C.cta)==null?void 0:Ee.label)||"Learn more"}),r.jsx("span",{children:""})]})})]})]})},q)})})]}),m&&r.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"rounded-2xl border border-white/10 bg-white/5 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-r from-orange-500 to-red-500",children:r.jsx(Co,{className:"text-xl text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-white",children:"Arrival Checklist"}),r.jsx("p",{className:"text-white/60 text-sm",children:"Personalized tasks & timing"})]})]}),(()=>{const C=L(m).map((J,ae)=>({id:ae,done:!!J.done,priority:J.priority||"medium",dueInDays:J.dueInDays,cta:J.cta,label:J.label||String(J)})),q=C.filter(J=>J.done).length,re=Y(q,C.length);return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("span",{className:"text-white/70 text-sm",children:"Progress"}),r.jsxs("span",{className:"text-white/70 text-sm",children:[re,"%"]})]}),r.jsx("div",{className:"h-2 w-full bg-white/10 rounded-full",children:r.jsx("div",{className:"h-2 bg-blue-500 rounded-full",style:{width:`${re}%`}})})]}),r.jsx("ul",{className:"space-y-2",children:C.map(J=>{var ae;return r.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-white/10 bg-white/[0.06] p-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",checked:J.done,readOnly:!0,className:"accent-blue-500 w-4 h-4"}),r.jsx("span",{className:"text-white/90 text-sm",children:J.label}),r.jsx("span",{className:`px-2 py-0.5 rounded-full text-[11px] ${O(J.priority)}`,children:J.priority.toUpperCase()})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[typeof J.dueInDays=="number"&&r.jsx("span",{className:"text-xs text-white/60",children:J.dueInDays<=0?"Due now":`Due in ${J.dueInDays}d`}),((ae=J.cta)==null?void 0:ae.route)&&r.jsx("button",{onClick:()=>H({cta:J.cta}),className:"text-xs px-2 py-1 rounded border border-blue-500/40 text-blue-300 hover:bg-blue-500/10",children:J.cta.label||"Open"})]})]},J.id)})}),m.recommendations&&r.jsxs("div",{className:"mt-4 p-3 rounded-lg bg-blue-500/10 border border-blue-500/30",children:[r.jsx("h4",{className:"text-blue-300 text-sm font-semibold mb-1",children:"Recommendations"}),Array.isArray(m.recommendations)?r.jsx("ul",{className:"list-disc list-inside text-blue-200/90 text-xs space-y-1",children:m.recommendations.map((J,ae)=>r.jsx("li",{children:J},ae))}):r.jsx("p",{className:"text-blue-200/90 text-xs",children:m.recommendations})]})]})})()]}),de&&r.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"rounded-2xl border border-white/10 bg-white/5 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-r from-green-500 to-teal-500",children:r.jsx(Fh,{className:"text-xl text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-white",children:"AI-Recommended Actions"}),r.jsx("p",{className:"text-white/60 text-sm",children:"Smart actions tailored to your profile"})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:h.map((C,q)=>{if(!C||typeof C!="object")return console.warn("Invalid action object:",C),null;const re=oe(C.icon);return r.jsxs(ye.button,{whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},onClick:()=>fe(C),className:`w-full flex items-center gap-4 p-5 rounded-xl border-2 transition-all duration-300 hover:shadow-lg ${C.color==="blue"?"border-blue-500/50 bg-blue-500/10 hover:bg-blue-500/20":C.color==="green"?"border-green-500/50 bg-green-500/10 hover:bg-green-500/20":C.color==="purple"?"border-purple-500/50 bg-purple-500/10 hover:bg-purple-500/20":C.color==="orange"?"border-orange-500/50 bg-orange-500/10 hover:bg-orange-500/20":"border-gray-500/50 bg-gray-500/10 hover:bg-gray-500/20"}`,children:[r.jsx("div",{className:`p-3 rounded-lg ${C.color==="blue"?"bg-blue-500/20":C.color==="green"?"bg-green-500/20":C.color==="purple"?"bg-purple-500/20":C.color==="orange"?"bg-orange-500/20":"bg-gray-500/20"}`,children:r.jsx(re,{className:"text-xl text-white"})}),r.jsxs("div",{className:"flex-1 text-left",children:[r.jsx("h4",{className:"text-white font-bold text-base mb-1",children:C.label}),r.jsx("p",{className:"text-white/70 text-sm",children:C.description})]}),r.jsx("div",{className:"text-white/60",children:""})]},q)})})]}),m&&r.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"rounded-2xl border border-white/10 bg-white/5 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-r from-orange-500 to-red-500",children:r.jsx(Co,{className:"text-xl text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-white",children:"AI Arrival Timeline"}),r.jsx("p",{className:"text-white/60 text-sm",children:"Smart timeline based on your profile"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"p-3 rounded-lg bg-white/5",children:[r.jsx("h4",{className:"text-white font-semibold text-sm mb-2",children:"Timeline Overview"}),r.jsx("p",{className:"text-white/70 text-xs",children:typeof m.timeline=="string"?m.timeline:JSON.stringify(m.timeline,null,2)})]}),m.criticalTasks&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"text-white font-semibold text-sm",children:"Critical Tasks"}),m.criticalTasks.map((C,q)=>r.jsxs("div",{className:"flex items-center gap-2 text-white/70 text-xs",children:[r.jsx(ja,{className:"text-green-400"}),r.jsx("span",{children:C})]},q))]}),m.recommendations&&r.jsxs("div",{className:"p-3 rounded-lg bg-blue-500/10 border border-blue-500/30",children:[r.jsx("h4",{className:"text-blue-400 font-semibold text-sm mb-1",children:"AI Recommendations"}),r.jsx("p",{className:"text-blue-300 text-xs",children:typeof m.recommendations=="string"?m.recommendations:JSON.stringify(m.recommendations,null,2)})]})]})]}),f&&r.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"rounded-2xl border border-white/10 bg-white/5 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-r from-purple-500 to-pink-500",children:r.jsx(Hu,{className:"text-xl text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-white",children:"AI Market Analysis"}),r.jsx("p",{className:"text-white/60 text-sm",children:"Intelligent market insights and trends"})]})]}),r.jsxs("div",{className:"space-y-4",children:[f.budgetAnalysis&&r.jsxs("div",{className:"p-3 rounded-lg bg-white/5",children:[r.jsx("h4",{className:"text-white font-semibold text-sm mb-1",children:"Budget Analysis"}),r.jsx("p",{className:"text-white/70 text-xs",children:typeof f.budgetAnalysis=="string"?f.budgetAnalysis:JSON.stringify(f.budgetAnalysis,null,2)})]}),f.trends&&r.jsxs("div",{className:"p-3 rounded-lg bg-white/5",children:[r.jsx("h4",{className:"text-white font-semibold text-sm mb-1",children:"Market Trends"}),r.jsx("p",{className:"text-white/70 text-xs",children:typeof f.trends=="string"?f.trends:JSON.stringify(f.trends,null,2)})]}),f.recommendations&&r.jsxs("div",{className:"p-3 rounded-lg bg-green-500/10 border border-green-500/30",children:[r.jsx("h4",{className:"text-green-400 font-semibold text-sm mb-1",children:"AI Recommendations"}),r.jsx("p",{className:"text-green-300 text-xs",children:typeof f.recommendations=="string"?f.recommendations:JSON.stringify(f.recommendations,null,2)})]})]})]}),x&&r.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.8},className:"rounded-2xl border border-white/10 bg-white/5 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-r from-emerald-500 to-cyan-500",children:r.jsx(qu,{className:"text-xl text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-white",children:"AI Success Predictions"}),r.jsx("p",{className:"text-white/60 text-sm",children:"Predictive analytics for your success"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-white/5",children:[r.jsx("span",{className:"text-white/70 text-sm",children:"Overall Success Score"}),r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${x.overallScore==="excellent"?"bg-green-500/20 text-green-400":x.overallScore==="good"?"bg-blue-500/20 text-blue-400":x.overallScore==="fair"?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:((pe=x.overallScore)==null?void 0:pe.toUpperCase())||"ANALYZING"})]}),x.predictions&&r.jsxs("div",{className:"p-3 rounded-lg bg-white/5",children:[r.jsx("h4",{className:"text-white font-semibold text-sm mb-1",children:"Predictions"}),r.jsx("p",{className:"text-white/70 text-xs",children:typeof x.predictions=="string"?x.predictions:JSON.stringify(x.predictions,null,2)})]}),x.recommendations&&r.jsxs("div",{className:"p-3 rounded-lg bg-blue-500/10 border border-blue-500/30",children:[r.jsx("h4",{className:"text-blue-400 font-semibold text-sm mb-1",children:"Success Recommendations"}),r.jsx("p",{className:"text-blue-300 text-xs",children:typeof x.recommendations=="string"?x.recommendations:JSON.stringify(x.recommendations,null,2)})]})]})]}),f&&r.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"rounded-2xl border border-white/10 bg-white/5 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-r from-purple-500 to-pink-500",children:r.jsx(Hu,{className:"text-xl text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-white",children:"Market Snapshot"}),r.jsx("p",{className:"text-white/60 text-sm",children:"Budget fit  Trends  Moves"})]})]}),(()=>{const C=f,q=Array.isArray(C.trends)?C.trends:typeof C.trends=="string"?C.trends.split(/[,\n]+/).map(Ee=>Ee.trim()).filter(Boolean):[],re=Array.isArray(C.recommendations)?C.recommendations:typeof C.recommendations=="string"?[C.recommendations]:[],J=typeof C.budgetAnalysis=="string"?C.budgetAnalysis:JSON.stringify(C.budgetAnalysis),ae=(C.marketScore||"good").toUpperCase(),Se=C.marketScore==="excellent"?"bg-green-500/20 text-green-300":C.marketScore==="good"?"bg-blue-500/20 text-blue-300":C.marketScore==="fair"?"bg-yellow-500/20 text-yellow-300":"bg-red-500/20 text-red-300";return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 mb-4",children:[r.jsxs("div",{className:"rounded-lg border border-white/10 bg-white/[0.06] p-3",children:[r.jsx("div",{className:"text-white/60 text-xs mb-1",children:"Budget Fit"}),r.jsx("div",{className:"text-white/90 text-sm",children:J})]}),r.jsxs("div",{className:"rounded-lg border border-white/10 bg-white/[0.06] p-3",children:[r.jsx("div",{className:"text-white/60 text-xs mb-1",children:"Score"}),r.jsx("span",{className:`px-2 py-0.5 rounded-full text-[11px] ${Se}`,children:ae})]}),r.jsxs("div",{className:"rounded-lg border border-white/10 bg-white/[0.06] p-3",children:[r.jsx("div",{className:"text-white/60 text-xs mb-1",children:"Best Move"}),r.jsx("div",{className:"text-white/90 text-sm",children:re[0]||"Explore listings this week"})]})]}),q.length>0&&r.jsxs("div",{className:"mb-3",children:[r.jsx("h4",{className:"text-white font-semibold text-sm mb-2",children:"Trends"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:q.slice(0,8).map((Ee,Le)=>r.jsx("span",{className:"px-2 py-1 rounded-full bg-white/10 text-white/70 text-xs",children:Ee},Le))})]}),re.length>0&&r.jsxs("div",{className:"p-3 rounded-lg bg-green-500/10 border border-green-500/30",children:[r.jsx("h4",{className:"text-green-300 text-sm font-semibold mb-1",children:"What to do"}),r.jsx("ul",{className:"list-disc list-inside text-green-200/90 text-xs space-y-1",children:re.map((Ee,Le)=>r.jsx("li",{children:Ee},Le))})]})]})})()]}),x&&r.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.8},className:"rounded-2xl border border-white/10 bg-white/5 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-r from-emerald-500 to-cyan-500",children:r.jsx(qu,{className:"text-xl text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-white",children:"Success Outlook"}),r.jsx("p",{className:"text-white/60 text-sm",children:"Predictions  Risks  Tips"})]})]}),(()=>{var Ee;const C=x,re={excellent:95,good:75,fair:55,"needs-improvement":35}[C.overallScore]??50,J=Array.isArray(C.risks)?C.risks:typeof C.risks=="string"?C.risks.split(/[,\n]+/).map(Le=>Le.trim()).filter(Boolean):[],ae=Array.isArray(C.successFactors)?C.successFactors:typeof C.successFactors=="string"?C.successFactors.split(/[,\n]+/).map(Le=>Le.trim()).filter(Boolean):[],Se=Array.isArray(C.recommendations)?C.recommendations:typeof C.recommendations=="string"?[C.recommendations]:[];return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsxs("span",{className:"text-white/70 text-sm",children:["Overall Score: ",((Ee=C.overallScore)==null?void 0:Ee.toUpperCase())||""]}),r.jsxs("span",{className:"text-white/70 text-sm",children:[re,"%"]})]}),r.jsx("div",{className:"h-2 w-full bg-white/10 rounded-full",children:r.jsx("div",{className:"h-2 bg-emerald-500 rounded-full",style:{width:`${re}%`}})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3",children:[ae.length>0&&r.jsxs("div",{className:"rounded-lg border border-white/10 bg-white/[0.06] p-3",children:[r.jsx("div",{className:"text-white/60 text-xs mb-2",children:"Success Factors"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:ae.slice(0,8).map((Le,Ze)=>r.jsx("span",{className:"px-2 py-1 rounded-full bg-emerald-500/10 text-emerald-300 text-[11px]",children:Le},Ze))})]}),J.length>0&&r.jsxs("div",{className:"rounded-lg border border-white/10 bg-white/[0.06] p-3",children:[r.jsx("div",{className:"text-white/60 text-xs mb-2",children:"Risks"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:J.slice(0,8).map((Le,Ze)=>r.jsx("span",{className:"px-2 py-1 rounded-full bg-red-500/10 text-red-300 text-[11px]",children:Le},Ze))})]})]}),Se.length>0&&r.jsxs("div",{className:"p-3 rounded-lg bg-blue-500/10 border border-blue-500/30",children:[r.jsx("h4",{className:"text-blue-300 text-sm font-semibold mb-1",children:"Recommendations"}),r.jsx("ul",{className:"list-disc list-inside text-blue-200/90 text-xs space-y-1",children:Se.map((Le,Ze)=>r.jsx("li",{children:Le},Ze))})]})]})})()]}),r.jsx(cf,{isOpen:v,onClose:Z,title:"AI Insight Details",width:"w-[500px]",maxWidth:"max-w-xl",children:N&&r.jsxs("div",{className:"flex flex-col h-full",children:[r.jsx("div",{className:"flex-1 overflow-y-auto",children:r.jsx("div",{className:"p-6",children:S?r.jsxs("div",{className:"flex items-center gap-3 py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-400"}),r.jsx("span",{className:"text-white/70",children:"AI is analyzing your situation..."})]}):k?r.jsxs("div",{className:"prose prose-invert max-w-none",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"whitespace-pre-wrap text-white/90 leading-relaxed text-base",dangerouslySetInnerHTML:{__html:(F||"").replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*Title:\s*"(.*?)"\*/g,"<strong>$1</strong>").replace(/\*Priority:\*\*/g,"").replace(/\*Message:\*\*/g,"").replace(/\*Action:\*\*/g,"").replace(/https:\/\/newrun-property-images\.s3\.us-east-1\.amazonaws\.com\/[^\s\)]+/g,"").replace(/\[Check it out here\.\]/g,"").replace(/\[See the image\.\]/g,"").replace(/\[Property Image\]/g,"").replace(/\*([^*]+)\*/g,"<strong>$1</strong>").replace(/\*\*/g,"").replace(/\*/g,"")+(A?'<span class="inline-block w-2 h-5 bg-white/90 ml-1 animate-pulse"></span>':"")}}),!A&&(()=>{const C=O5.parsePropertiesFromText(F);return C.length>0?r.jsxs("div",{className:"mt-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:"Recommended Properties"}),r.jsx("div",{className:"space-y-3",children:C.map((q,re)=>r.jsx(KZ,{property:q,index:re,isRecommended:re===0,onClick:J=>{console.log("Property clicked:",J)},showContactActions:!1},q.id))})]}):null})(),!A&&((we=(Q=k==null?void 0:k.structured)==null?void 0:Q.group)==null?void 0:we.kind)==="roommate"&&r.jsxs("div",{className:"mt-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:"Recommended Roommates"}),r.jsx("div",{className:"space-y-3",children:k.structured.items.map(C=>{const q=Number(C.score)||0,re=Math.round(Math.max(0,Math.min(100,q))*1.2),J=(C.name||"?").trim().charAt(0).toUpperCase();return r.jsxs("div",{className:`relative rounded-xl border border-white/10 p-3 ${C.rank===1?"ring-5 ring-blue-500/70 bg-blue-500/5":"bg-black/5"}`,children:[C.rank===1&&r.jsx("div",{className:"absolute -top-3.5 -right-2 z-10",children:r.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-900 text-white text-[10px] font-bold px-5 py-1 rounded-full shadow-lg",children:"TOP MATCH"})}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"relative",children:r.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 border border-white/15 flex items-center justify-center text-white/80 font-semibold",children:J})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"text-white font-bold truncate",children:[C.rank===1?"#1":`#${C.rank}`,"  ",C.name]}),r.jsx("div",{className:"w-10 h-10 rounded-full grid place-items-center",style:{background:`conic-gradient(hsl(${re} 85% 55%) ${q*3.6}deg, #1f2937 0)`},children:r.jsxs("div",{className:"w-8 h-8 rounded-full bg-[#0f1115] grid place-items-center text-[11px] text-white/90",children:[q,"%"]})})]}),r.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:(C.reasons||[]).slice(0,2).map((ae,Se)=>r.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-white/10 text-white/80",children:ae},Se))})]})]}),C.href&&r.jsx("a",{href:C.href,className:"mt-2 inline-block text-sm text-blue-300",children:"View profile "})]},C.id)})})]}),!A&&(O5.parsePropertiesFromText(F).length>0?r.jsxs("div",{className:"mt-6 p-4 bg-slate-500/5 border border-slate-500/20 rounded-lg",children:[r.jsx("h4",{className:"text-white font-semibold text-sm mb-3",children:"For next steps:"}),r.jsxs("div",{className:"space-y-2 text-white/80 text-sm",children:[r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-blue-400 font-bold",children:""}),r.jsx("span",{children:"Decide which property best fits your needs and reach out to schedule a viewing."})]}),r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-blue-400 font-bold",children:""}),r.jsx("span",{children:"Consider who you'd like to share with, as these options are perfect for roommates."})]}),r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-blue-400 font-bold",children:""}),r.jsx("span",{children:"Prepare any questions you have about each property or the leasing process."})]})]})]}):null)]}),(N==null?void 0:N.hasSpecificRecommendations)&&(N==null?void 0:N.specificRecommendations)&&r.jsx("div",{className:"mt-6 space-y-4",children:r.jsxs("div",{className:"border-t border-white/10 pt-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:" Specific Recommendations Found"}),((be=N.specificRecommendations.recommendations)==null?void 0:be.properties)&&r.jsx("div",{className:"mb-6",children:r.jsx(GZ,{properties:N.specificRecommendations.recommendations.properties,title:" AI-Recommended Properties",subtitle:"Properties perfectly matched to your budget and preferences",onPropertyClick:C=>{console.log("Property clicked:",C)},maxDisplay:6,showRecommendations:!0})}),((ee=N.specificRecommendations.recommendations)==null?void 0:ee.roommates)&&r.jsxs("div",{className:"mb-6",children:[r.jsxs("h4",{className:"text-md font-medium text-purple-300 mb-3",children:[" Compatible Roommates (",N.specificRecommendations.recommendations.roommates.length,")"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:N.specificRecommendations.recommendations.roommates.slice(0,4).map((C,q)=>{var re,J,ae,Se;return r.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:q*.1},className:"bg-gradient-to-br from-purple-500/10 to-pink-500/10 rounded-xl border border-purple-500/20 p-4 hover:border-purple-500/40 transition-all duration-300",children:[r.jsxs("div",{className:"flex justify-between items-start mb-3",children:[r.jsxs("div",{children:[r.jsxs("h5",{className:"font-bold text-white text-lg",children:[C.firstName," ",C.lastName]}),r.jsxs("p",{className:"text-white/70 text-sm",children:[C.major,"  ",C.university]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-2xl font-bold text-purple-400",children:[C.compatibilityScore,"%"]}),r.jsx("div",{className:"text-xs text-white/60",children:"match"})]})]}),r.jsxs("div",{className:"space-y-2 mb-3",children:[r.jsx("div",{className:"flex items-center gap-2 text-sm text-white/60",children:r.jsxs("span",{children:[" Budget: $",(J=(re=C.onboardingData)==null?void 0:re.budgetRange)==null?void 0:J.min,"-$",(Se=(ae=C.onboardingData)==null?void 0:ae.budgetRange)==null?void 0:Se.max]})}),C.languageMatch&&r.jsx("div",{className:"flex items-center gap-2 text-sm text-green-400",children:r.jsx("span",{children:" Same language"})})]}),C.recommendation&&r.jsx("div",{className:"bg-purple-500/10 border border-purple-500/30 rounded-lg p-3",children:r.jsx("p",{className:"text-purple-300 text-sm leading-relaxed",children:C.recommendation})})]},q)})})]}),((ue=N.specificRecommendations.recommendations)==null?void 0:ue.bestMatches)&&r.jsxs("div",{className:"mb-6",children:[r.jsx("h4",{className:"text-md font-medium text-green-300 mb-3",children:" Perfect Property + Roommate Pairs"}),r.jsx("div",{className:"space-y-3",children:N.specificRecommendations.recommendations.bestMatches.slice(0,2).map((C,q)=>r.jsxs("div",{className:"bg-gradient-to-r from-green-500/10 to-blue-500/10 rounded-lg p-4 border border-green-500/20",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsxs("h5",{className:"font-medium text-white",children:[C.property.title," + ",C.roommate.firstName]}),r.jsxs("span",{className:"text-green-400 font-semibold",children:["Save $",Math.round(C.savings),"/mo"]})]}),r.jsx("p",{className:"text-white/70 text-sm mb-2",children:C.recommendation}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-white/60",children:[r.jsxs("span",{children:[" ",C.property.bedrooms," bed  $",C.property.price,"/mo"]}),r.jsxs("span",{children:[" ",C.roommate.firstName,"  ",C.pairScore,"% compatibility"]})]})]},q))})]})]})})]}):r.jsx("div",{className:"py-8",children:r.jsx("p",{className:"text-white/70",children:"Loading AI explanation..."})})})}),r.jsx("div",{className:"border-t border-white/10 bg-[#0f1115]",children:r.jsxs(ye.div,{layout:!0,transition:{type:"spring",stiffness:220,damping:28},className:M?"p-5":"p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsxs("button",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-blue-500/20 text-blue-300 text-sm font-medium hover:bg-blue-500/30 transition-colors",children:[r.jsx("span",{className:"text-xs",children:""}),r.jsx("span",{children:"Agent AI"}),r.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),r.jsxs("button",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-white/10 text-white/70 text-sm font-medium hover:bg-white/20 transition-colors",children:[r.jsx("span",{children:"Auto"}),r.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]})]}),r.jsxs(ye.div,{layout:!0,animate:M?{scale:1.01,boxShadow:"0 24px 60px rgba(0,0,0,0.35)"}:{scale:1,boxShadow:"0 0 0 rgba(0,0,0,0)"},transition:{type:"spring",stiffness:220,damping:28},className:"relative",children:[r.jsx("textarea",{placeholder:"Ask AI about this insight or get more personalized advice...",className:"w-full p-4 pr-12 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/50 resize-none focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-transparent",rows:M?6:3,style:{minHeight:M?"140px":"80px"},value:z,onChange:C=>{I(C.target.value)},onKeyDown:C=>{C.key==="Enter"&&!C.shiftKey&&(C.preventDefault(),M||$(!0))}}),r.jsxs("div",{className:"absolute bottom-3 right-3 flex items-center gap-2",children:[r.jsx("button",{className:"p-2 rounded-lg hover:bg-white/10 transition-colors",children:r.jsx("svg",{className:"w-4 h-4 text-white/50",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})})}),r.jsx("button",{className:"p-2 rounded-lg bg-blue-500 hover:bg-blue-600 transition-colors",onClick:()=>$(!0),children:r.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})})})]})]})]})})]})})]})},XZ=p.memo(YZ),ZZ=({userInfo:t,dashboardData:e,onboardingData:n})=>{var B,U;const{loading:s,generateInsights:i,generateActions:a,explainInsight:o}=r6(),[l,c]=p.useState({aiInsights:[],aiActions:[],roommateMatches:[],compatibilityScores:{},isLoading:!1,isInitialized:!1,error:null}),{aiInsights:d,aiActions:u,roommateMatches:h,compatibilityScores:m,isLoading:f,isInitialized:x,error:g}=l,[b,y]=p.useState(!1),[v,w]=p.useState(null),[N,j]=p.useState(null),[k,P]=p.useState(!1),[S,E]=p.useState(null),[T,W]=p.useState(""),[F,D]=p.useState(!1),A=V=>V>=90?"text-green-400":V>=80?"text-blue-400":V>=70?"text-yellow-400":V>=60?"text-orange-400":"text-red-400",_=p.useMemo(()=>t&&e&&!x,[t,e,x]);p.useEffect(()=>{_&&I()},[_]);const z=p.useRef(new Map),I=p.useCallback(async()=>{const V=(t==null?void 0:t.id)||"anonymous",G={userInfo:t,dashboardData:e,onboardingData:n},X=R_(V,G),oe=$_(V,G);if(X&&oe){console.log(" Using cached AI roommate data"),c(Z=>({...Z,aiInsights:X,aiActions:oe,isInitialized:!0}));return}const ne=`ai-roommate-data-${V}`;if(z.current.has(ne))return console.log(" AI roommate request already in progress, waiting..."),z.current.get(ne);const H=(async()=>{c(Z=>({...Z,isLoading:!0,error:null}));try{const Z=await ge.post("/api/ai/roommate/match",{userProfile:t,onboardingData:n,synapseData:t==null?void 0:t.synapse,dashboardData:e}),{aiInsights:fe,results:ce}=Z.data,de=M(fe),te=$(fe),le={aiInsights:de,aiActions:te,roommateMatches:(ce==null?void 0:ce.roommates)||[],compatibilityScores:(ce==null?void 0:ce.compatibilityScores)||{},isLoading:!1,isInitialized:!0,error:null};return c(pe=>({...pe,...le})),D_(V,G,de),F_(V,G,te),le}catch(Z){console.error("AI Roommate Initialization Error:",Z);const fe={isLoading:!1,error:`AI Roommate Service Error: ${Z.message||"Unknown error"}`,isInitialized:!0};throw c(ce=>({...ce,...fe})),Z}finally{z.current.delete(ne)}})();return z.current.set(ne,H),H},[t,e,i,a]),M=p.useCallback(V=>Array.isArray(V)?V.map(G=>({...G,id:G.id||`roommate-${Date.now()}`,category:"roommate",icon:"people",priority:G.priority||"medium",type:G.type||"info"})):[],[]),$=p.useCallback(V=>Array.isArray(V)?V.map(G=>({...G,id:G.id||`action-${Date.now()}`,category:"roommate",icon:"people",priority:G.priority||"medium"})):[],[]),O=p.useCallback((V,G=15)=>{if(!V)return;D(!0),W("");let X=0;const oe=setInterval(()=>{X<V.length?(W(V.slice(0,X+1)),X++):(clearInterval(oe),D(!1))},G);return()=>clearInterval(oe)},[]),L=p.useCallback(async V=>{var G;w(V),y(!0),P(!0),j(null),W(""),D(!1);try{const X=(t==null?void 0:t.id)||"anonymous",oe=((G=V.title)==null?void 0:G.toLowerCase().replace(/\s+/g,"-"))||"unknown",ne={userInfo:t,dashboardData:e,onboardingData:n},H=im.getCachedExplanation(X,oe,ne);if(H){console.log(" Using cached AI roommate explanation"),j({explanation:H,insight:V,aiGenerated:!0,cached:!0}),O(H),P(!1);return}console.log(" Cache miss - making API call");const Z=await o(V,e);j(Z),Z!=null&&Z.explanation&&(im.setCachedExplanation(X,oe,ne,Z.explanation),O(Z.explanation))}catch(X){console.error("Failed to get AI roommate explanation:",X);const oe=`This roommate recommendation is important for your success. ${V.title} is a ${V.priority} priority that will help you find the perfect roommate.`;j({explanation:oe,insight:V,aiGenerated:!1,fallback:!0}),O(oe)}finally{P(!1)}},[o,e,O,t,n]),Y=p.useCallback(()=>{y(!1),w(null),j(null),P(!1),W(""),D(!1)},[]),K=p.useCallback(V=>{navigate(`/Synapse?match=${V.userId}`)},[navigate]);return s&&!x?r.jsx("div",{className:"flex items-center justify-center p-8",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"}),r.jsx("span",{className:"text-white/70",children:"NewRun AI is analyzing your roommate compatibility..."})]})}):g?r.jsxs("div",{className:"p-6 rounded-2xl border border-red-500/50 bg-red-500/10",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(zc,{className:"text-red-400 text-xl"}),r.jsx("h3",{className:"text-lg font-bold text-red-400",children:"AI Roommate Service Error"})]}),r.jsx("p",{className:"text-red-300 text-sm",children:g}),r.jsx("button",{onClick:I,className:"mt-3 px-4 py-2 bg-red-500/20 border border-red-500/50 rounded-lg text-red-300 hover:bg-red-500/30 transition-colors",children:"Retry"})]}):f?r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-r from-blue-500 to-purple-500",children:r.jsx(ma,{className:"text-xl text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-white",children:"AI Roommate Matching"}),r.jsx("p",{className:"text-white/60 text-sm",children:"Finding your perfect roommate matches..."})]})]}),r.jsx("div",{className:"flex items-center justify-center py-8",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})})]})}):r.jsxs("div",{className:"space-y-6",children:[d.length>0&&r.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"rounded-2xl border border-white/10 bg-white/5 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-r from-blue-500 to-purple-500",children:r.jsx(ma,{className:"text-xl text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-white",children:"AI Roommate Insights"}),r.jsx("p",{className:"text-white/60 text-sm",children:"Personalized roommate recommendations powered by AI"})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:d.map((V,G)=>{var X,oe;return r.jsx(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:G*.1},onClick:()=>L(V),onMouseEnter:()=>E(G),onMouseLeave:()=>E(null),className:"p-5 rounded-xl border border-blue-500/30 bg-blue-500/5 hover:bg-blue-500/10 transition-all duration-300 cursor-pointer",role:"button",tabIndex:0,"aria-label":`${V.title}: ${V.message}`,onKeyDown:ne=>{(ne.key==="Enter"||ne.key===" ")&&(ne.preventDefault(),L(V))},children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"p-3 rounded-lg bg-blue-500/10",children:r.jsx(ma,{className:"text-xl text-white"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx("h4",{className:"font-bold text-white text-base",children:V.title}),r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${V.priority==="high"?"bg-orange-500/20 text-orange-300":V.priority==="medium"?"bg-amber-500/20 text-amber-300":"bg-emerald-500/20 text-emerald-300"}`,children:(X=V.priority)==null?void 0:X.toUpperCase()})]}),r.jsx("p",{className:"text-white/80 text-sm mb-4 leading-relaxed",children:V.message}),r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"inline-flex items-center gap-2 text-sm font-medium text-blue-400 hover:text-blue-300",children:[r.jsx("span",{children:((oe=V.cta)==null?void 0:oe.label)||"Learn more"}),r.jsx("span",{children:""})]})})]})]})},V.id||G)})})]}),h.length>0&&r.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"rounded-2xl border border-white/10 bg-white/5 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-r from-green-500 to-blue-500",children:r.jsx(FV,{className:"text-xl text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-white",children:"Top Roommate Matches"}),r.jsx("p",{className:"text-white/60 text-sm",children:"AI-powered compatibility analysis"})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.slice(0,6).map((V,G)=>{var X,oe,ne,H;return r.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:G*.1},onClick:()=>K(V),className:"p-4 rounded-xl border border-green-500/30 bg-green-500/5 hover:bg-green-500/10 transition-all duration-300 cursor-pointer",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-green-400 to-blue-400 flex items-center justify-center",children:r.jsxs("span",{className:"text-white font-bold text-lg",children:[(X=V.firstName)==null?void 0:X[0],(oe=V.lastName)==null?void 0:oe[0]]})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("h4",{className:"font-bold text-white text-sm",children:[V.firstName," ",V.lastName]}),r.jsx("p",{className:"text-white/60 text-xs",children:V.major})]}),r.jsxs("div",{className:`text-lg font-bold ${A(V.totalScore)}`,children:[Math.round(V.totalScore),"%"]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between text-xs",children:[r.jsx("span",{className:"text-white/60",children:"Lifestyle"}),r.jsxs("span",{className:"text-white",children:[Math.round(V.lifestyleMatch),"%"]})]}),r.jsxs("div",{className:"flex items-center justify-between text-xs",children:[r.jsx("span",{className:"text-white/60",children:"Budget"}),r.jsxs("span",{className:"text-white",children:[Math.round(V.budgetMatch),"%"]})]}),r.jsxs("div",{className:"flex items-center justify-between text-xs",children:[r.jsx("span",{className:"text-white/60",children:"Social"}),r.jsxs("span",{className:"text-white",children:[Math.round(V.socialMatch),"%"]})]})]}),((H=(ne=V.recommendation)==null?void 0:ne.reasons)==null?void 0:H.length)>0&&r.jsx("div",{className:"mt-3 pt-3 border-t border-white/10",children:r.jsx("p",{className:"text-xs text-white/60",children:V.recommendation.reasons.slice(0,2).join(", ")})})]},V.userId||G)})})]}),r.jsx(cf,{isOpen:b,onClose:Y,title:"AI Roommate Insight Details",size:"lg",children:v&&r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-r from-blue-500 to-purple-500",children:r.jsx(ma,{className:"text-xl text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-white",children:v.title}),r.jsxs("p",{className:"text-white/60 text-sm",children:["ROOMMATE MATCHING  ",(B=v.priority)==null?void 0:B.toUpperCase()," Priority"]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"Recommendation"}),r.jsx("p",{className:"text-white/80 leading-relaxed",children:v.message})]}),N&&r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"AI Explanation"}),r.jsx("div",{className:"bg-white/5 rounded-lg p-4",children:k?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"}),r.jsx("span",{className:"text-white/70",children:"AI is analyzing..."})]}):r.jsxs("div",{className:"text-white/80 leading-relaxed",children:[T,F&&r.jsx("span",{className:"animate-pulse",children:"|"})]})})]}),r.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-white/10",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm text-white/60",children:"Priority:"}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${v.priority==="high"?"bg-orange-500/20 text-orange-300":v.priority==="medium"?"bg-amber-500/20 text-amber-300":"bg-emerald-500/20 text-emerald-300"}`,children:(U=v.priority)==null?void 0:U.toUpperCase()})]}),r.jsx("button",{onClick:Y,className:"px-4 py-2 bg-blue-500/20 border border-blue-500/50 rounded-lg text-blue-300 hover:bg-blue-500/30 transition-colors",children:"Close"})]})]})]})})]})},QZ=p.memo(ZZ),JZ=()=>{const[t,e]=p.useState(0),[n,s]=p.useState(""),[i,a]=p.useState(!1),o=[{text:"Welcome",lang:"English"},{text:"",lang:"Hindi"},{text:"",lang:"Chinese"},{text:"",lang:"Malayalam"},{text:"",lang:"Arabic"},{text:"Bienvenue",lang:"French"},{text:"",lang:"Tamil"},{text:"",lang:"Telugu"},{text:"Bienvenido",lang:"Spanish"},{text:"Willkommen",lang:"German"},{text:"",lang:"Thai"},{text:"",lang:"Kannada"},{text:"",lang:"Japanese"},{text:"",lang:"Korean"}];return p.useEffect(()=>{const c=o[t].text,d=setTimeout(()=>{i?n.length>0?s(n.slice(0,-1)):(a(!1),e(u=>(u+1)%o.length)):n.length<c.length?s(c.slice(0,n.length+1)):setTimeout(()=>a(!0),2e3)},i?50:100);return()=>clearTimeout(d)},[n,i,t,o]),r.jsxs("span",{className:"text-4xl md:text-6xl lg:text-7xl font-black tracking-tight text-blue-500",style:{minWidth:"200px",display:"inline-block"},children:[n,r.jsx(ye.span,{animate:{opacity:[1,0,1]},transition:{duration:.8,repeat:1/0},className:"text-blue-400",children:"|"})]})};function eQ(){var de,te,le,pe,Q,we,be,ee,ue;const t=dt(),{userInfo:e,dashboardData:n,onboardingData:s,conversations:i,synapseProfile:a,aiInsights:o,aiActions:l,aiTimeline:c,aiMarketAnalysis:d,aiPredictions:u,loading:h,errors:m,isFullyInitialized:f,hasAnyErrors:x,isLoading:g,refreshAll:b,refreshUserData:y,refreshDashboardData:v,refreshConversations:w,refreshSynapseProfile:N,refreshAIData:j,invalidateCache:k,calculateProfileCompletion:P}=YB();console.log("UserDashboard: useUnifiedState result:",{userInfo:!!e,dashboardData:!!n,onboardingData:!!s,aiInsights:!!o,aiActions:!!l,loading:h,errors:m,isFullyInitialized:f,isLoading:g});const[S,E]=p.useState({notifications:[],showNotifications:!1,refreshing:!1,showPropertyManager:!1,showMarketplaceManager:!1,editingProperty:null,editingItem:null,showPropertyDrawer:!1,showMarketplaceDrawer:!1,agentMode:!1,prompt:"",debugMode:localStorage.getItem("debug_mode")==="true"}),{notifications:T,showNotifications:W,refreshing:F,showPropertyManager:D,showMarketplaceManager:A,editingProperty:_,editingItem:z,showPropertyDrawer:I,showMarketplaceDrawer:M,agentMode:$,prompt:O,debugMode:L}=S,Y=p.useCallback(C=>{E(q=>({...q,...C}))},[]),K=h.ai,B=p.useCallback(()=>l&&l.length>0?l:U(),[l]);p.useCallback(()=>o&&o.length>0?o:V(),[o]);const U=()=>{if(!s)return[{label:"Verify Email for Access",icon:ja,path:"/dashboard",color:"from-blue-500 to-cyan-500",description:"Complete email verification to unlock all NewRun features and personalized recommendations."},{label:"Explore Housing Options",icon:oi,path:"/all-properties",color:"from-indigo-500 to-blue-500",description:"Browse AI-recommended properties based on your budget and location preferences."},{label:"Connect with Roommates",icon:K0,path:"/Synapse",color:"from-purple-500 to-pink-500",description:"Complete your Synapse profile to find compatible roommates and potential housing partners."},{label:"Browse Community",icon:Po,path:"/community",color:"from-orange-500 to-red-500",description:"Join university community discussions and connect with fellow students."}];const C=s.focus,q=s.arrivalDate,re=s.budgetRange,J=[];let ae=null;return q&&(ae=Math.ceil((new Date(q)-new Date)/(1e3*60*60*24))),ae&&ae<=30&&J.push({label:"Secure Housing Immediately",icon:oi,path:"/all-properties",color:"from-red-500 to-orange-500",description:`Only ${ae} days until arrival! Browse available properties and secure housing quickly.`}),(C==="Housing"||C==="Everything")&&(J.push({label:"Find Your Perfect Home",icon:Fp,path:"/all-properties",color:"from-indigo-500 to-blue-500",description:`Browse ${re?`properties within $${re.min}-$${re.max}`:"available properties"} near your university.`}),J.push({label:"Connect with Roommates",icon:K0,path:"/Synapse",color:"from-purple-500 to-pink-500",description:"Complete your Synapse profile to find compatible roommates and split housing costs."})),(C==="Roommate"||C==="Everything")&&J.push({label:"Complete Synapse Profile",icon:Tr,path:"/Synapse",color:"from-rose-500 to-pink-500",description:"Complete your detailed profile to unlock AI-powered roommate matching and personalized recommendations."}),(C==="Essentials"||C==="Everything")&&J.push({label:"Prepare for Essentials",icon:Na,path:"/marketplace",color:"from-green-500 to-emerald-500",description:"Create a checklist of essential items you'll need for your university transition and campus life."}),(C==="Community"||C==="Everything")&&J.push({label:"Join University Community",icon:Po,path:"/community",color:"from-orange-500 to-red-500",description:"Connect with fellow students, ask questions, and get advice from the university community."}),J.push({label:"Establish Bank Account",icon:PV,path:"/dashboard",color:"from-emerald-500 to-green-500",description:"Set up a local bank account for easy financial management during your studies."}),J.slice(0,6)},V=()=>{var ae;if(!s)return[];const C=[],q=s.focus,re=s.arrivalDate,J=s.budgetRange;if(re){const Se=Math.ceil((new Date(re)-new Date)/864e5);Se>0&&Se<=30&&C.push({type:"urgent",title:"Arrival Approaching!",message:`${Se} days until you arrive in ${s.city||"your city"}`,action:"Complete your housing search",icon:Co})}if(J&&J.max){const Se=((ae=n==null?void 0:n.propertiesStats)==null?void 0:ae.averagePrice)||0;Se>J.max&&C.push({type:"warning",title:"Budget Alert",message:`Average property price ($${Se}) exceeds your budget ($${J.max})`,action:"Consider expanding your search",icon:zc})}return q==="Housing"&&C.push({type:"success",title:"Housing Focus",message:"We're prioritizing your housing search",action:"View recommended properties",icon:oi}),C},G=async()=>{var C,q;try{const re=await ge.get("/get-user");return((C=re==null?void 0:re.data)==null?void 0:C.user)||null}catch(re){return((q=re==null?void 0:re.response)==null?void 0:q.status)===401&&(localStorage.clear(),t("/login")),null}},X=async()=>{var C;try{const q=await ge.get("/dashboard/overview");return console.log("Dashboard API Response:",q.data),q.data}catch(q){return console.error("Dashboard fetch failed:",((C=q==null?void 0:q.response)==null?void 0:C.data)||q.message),null}},oe=p.useCallback(async()=>{console.log(" Loading dashboard data...");try{if(!localStorage.getItem("accessToken")){console.log(" No authentication token found, redirecting to login"),t("/login");return}console.log(" Authentication token found");try{const J=await ge.get("/");console.log(" Backend health check passed:",J.data)}catch(J){console.error(" Backend health check failed:",J)}console.log(" Fetching dashboard data...");const[q,re]=await Promise.all([G(),X()]);console.log(" User data:",q),console.log(" Dashboard data:",re),re&&!re.error?console.log(" Dashboard data loaded successfully"):console.log(" Dashboard data has errors or is empty")}catch(C){console.error(" loadDashboard failed:",C)}},[t]);p.useEffect(()=>{oe()},[]),p.useEffect(()=>{const C=q=>{var re;((re=q.detail)==null?void 0:re.type)==="login"&&(console.log(" Dashboard: Login detected, refreshing data..."),setTimeout(()=>{b()},200))};return window.addEventListener("authStateChange",C),()=>window.removeEventListener("authStateChange",C)},[b]),p.useEffect(()=>{let C,q=!0;return C=setInterval(async()=>{if(document.visibilityState==="visible"&&!F){Y({refreshing:!0});try{const J=await X();J&&!J.error&&q&&Y({dashboardData:J})}catch(J){console.error("Auto-refresh failed:",J)}finally{q&&Y({refreshing:!1})}}},3e4),()=>{q=!1,C&&clearInterval(C)}},[F,Y]);const ne=p.useMemo(()=>{var Ze,it,sn,qt;if(!n)return null;const C=((Ze=n.myProperties)==null?void 0:Ze.items)||[],q=((it=n.myMarketplace)==null?void 0:it.items)||[],re=((sn=n.myProperties)==null?void 0:sn.statistics)||{},J=((qt=n.myMarketplace)==null?void 0:qt.statistics)||{},ae=C.reduce((bt,tt)=>bt+(Number(tt.price)||0),0)+q.reduce((bt,tt)=>bt+(Number(tt.price)||0),0),Se=re.averagePrice||(C.length?Math.round(C.reduce((bt,tt)=>bt+(Number(tt.price)||0),0)/C.length):0),Ee=J.averagePrice||(q.length?Math.round(q.reduce((bt,tt)=>bt+(Number(tt.price)||0),0)/q.length):0),Le=(Number(re.totalViews)||0)+(Number(J.totalViews)||0);return{totalRevenue:ae,avgPropertyPrice:Se,avgItemPrice:Ee,totalListings:(re.totalProperties||0)+(J.totalItems||0),activeListings:(re.availableProperties||0)+(J.activeItems||0),totalViews:Le}},[n]),H=p.useCallback(C=>{Y({editingProperty:C,showPropertyDrawer:!0})},[Y]),Z=p.useCallback(async C=>{if(window.confirm("Are you sure you want to delete this property?"))try{await ge.delete(`/delete-property/${C}`),await v(),k("property_deleted")}catch(q){console.error("Failed to delete property:",q),alert("Failed to delete property. Please try again.")}},[v,k]),fe=p.useCallback(C=>{Y({editingItem:C,showMarketplaceDrawer:!0})},[Y]),ce=p.useCallback(async C=>{if(window.confirm("Are you sure you want to delete this marketplace item?"))try{await ge.delete(`/marketplace/item/${C}`),await v(),k("marketplace_item_deleted")}catch(q){console.error("Failed to delete marketplace item:",q),alert("Failed to delete marketplace item. Please try again.")}},[v,k]);return p.useEffect(()=>{localStorage.getItem("accessToken")&&!e&&!h.user&&!g&&(console.log(" Dashboard: Token found but no user data, forcing refresh..."),y())},[e,h.user,g,y]),g&&!f?r.jsxs("div",{className:"min-h-screen bg-[#0b0c0f] relative overflow-hidden",children:[r.jsxs("div",{className:"absolute inset-0",children:[r.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-full blur-3xl animate-pulse"}),r.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-80 h-80 bg-gradient-to-r from-cyan-500/20 to-blue-500/20 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}})]}),r.jsx(ct,{}),r.jsx("div",{className:"flex items-center justify-center min-h-[60vh] relative z-10",children:r.jsxs(ye.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:.8,type:"spring"},className:"text-center",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"animate-spin rounded-full h-20 w-20 border-4 border-blue-500 border-t-transparent mx-auto mb-8"}),r.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-purple-500 border-t-transparent animate-spin",style:{animationDirection:"reverse",animationDuration:"1.5s"}})]}),r.jsx("p",{className:"text-white/80 text-xl",children:"Initializing your NewRun experience..."})]})})]}):r.jsxs("div",{className:"nr-dots-page min-h-screen text-white relative",children:[r.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[r.jsx("div",{className:"hero-orb absolute top-1/4 left-1/4 w-32 h-32 bg-gradient-to-r from-orange-500/10 to-cyan-500/10 rounded-full blur-3xl"}),r.jsx("div",{className:"hero-orb absolute bottom-1/4 right-1/4 w-48 h-48 bg-gradient-to-r from-blue-500/10 to-purple-500/10 rounded-full blur-3xl"}),r.jsx("div",{className:"hero-orb absolute top-1/2 right-1/3 w-24 h-24 bg-gradient-to-r from-emerald-500/10 to-teal-500/10 rounded-full blur-2xl"})]}),r.jsx(ct,{}),r.jsxs("div",{className:"relative z-10",children:[r.jsxs("section",{className:"nr-hero-bg nr-hero-starry relative flex min-h-[80vh] items-center overflow-hidden",children:[r.jsxs("div",{className:"absolute inset-0",children:[r.jsx("div",{className:"hero-orb absolute top-1/4 left-1/4 w-32 h-32 bg-gradient-to-r from-orange-500/10 to-cyan-500/10 rounded-full blur-3xl animate-pulse"}),r.jsx("div",{className:"hero-orb absolute bottom-1/4 right-1/4 w-48 h-48 bg-gradient-to-r from-blue-500/10 to-purple-500/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}}),r.jsx("div",{className:"hero-orb absolute top-1/2 right-1/3 w-24 h-24 bg-gradient-to-r from-emerald-500/10 to-teal-500/10 rounded-full blur-2xl animate-pulse",style:{animationDelay:"4s"}}),r.jsx("div",{className:"hero-orb absolute top-3/4 left-1/3 w-40 h-40 bg-gradient-to-r from-pink-500/8 to-rose-500/8 rounded-full blur-3xl animate-pulse",style:{animationDelay:"6s"}})]}),r.jsx("div",{className:"mx-auto w-full max-w-[110rem] px-4 py-14 relative z-10",children:r.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-12 gap-8 items-center",children:[r.jsx("div",{className:"xl:col-span-3",children:r.jsxs(ye.div,{initial:{opacity:0,x:-50,rotateY:-15},animate:{opacity:1,x:0,rotateY:0},transition:{duration:.8,type:"spring",stiffness:100},whileHover:{scale:1.02,rotateY:5},className:"relative group",children:[r.jsx("div",{className:"absolute -top-2 -right-2 w-3 h-3 bg-blue-400 rounded-full animate-ping opacity-60"}),r.jsx("div",{className:"absolute -bottom-1 -left-1 w-2 h-2 bg-blue-500 rounded-full animate-ping opacity-40",style:{animationDelay:"1s"}}),r.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 backdrop-blur-sm p-4 hover:bg-white/10 transition-all duration-300",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"p-2 rounded-lg bg-blue-500/10 border border-blue-500/20",children:r.jsx(Po,{className:"text-lg text-blue-400"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-base font-semibold text-white",children:"My Conversations"}),r.jsx("p",{className:"text-white/60 text-xs",children:h.conversations?"Loading...":i&&i.length>0?`${i.length} conversation${i.length!==1?"s":""}`:"No conversations yet"})]})]}),r.jsx("button",{onClick:()=>t("/messaging"),className:"px-3 py-1.5 rounded-lg bg-blue-600 text-white hover:bg-blue-700 transition-all duration-200 text-xs font-medium",children:"View All"})]}),r.jsx("div",{className:"space-y-2",children:h.conversations?r.jsxs("div",{className:"flex items-center justify-center py-4",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"}),r.jsx("span",{className:"text-white/60 text-xs ml-2",children:"Loading conversations..."})]}):i&&i.length>0?i.slice(0,4).map((C,q)=>{var Le;const re=((Le=C.participants)==null?void 0:Le.filter(Ze=>Ze._id!==(e==null?void 0:e._id)))||[],J=re.length>0?`${re[0].firstName} ${re[0].lastName}`:"Unknown User",ae=C.lastMessage,Se=(ae==null?void 0:ae.content)||"No messages yet",Ee=ae!=null&&ae.timestamp?new Date(ae.timestamp).toLocaleDateString():new Date(C.lastUpdated).toLocaleDateString();return r.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:q*.1},whileHover:{scale:1.01},onClick:()=>t(`/messaging?conversation=${C._id}`),className:"flex items-center gap-3 p-3 rounded-lg border border-white/10 bg-white/5 hover:bg-white/10 hover:border-white/20 transition-all duration-200 group/item cursor-pointer",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500/10 border border-blue-500/20 flex items-center justify-center text-blue-400 font-semibold text-xs",children:J.charAt(0)}),ae&&!ae.isRead&&r.jsx("div",{className:"absolute -top-0.5 -right-0.5 w-2.5 h-2.5 bg-blue-500 rounded-full flex items-center justify-center",children:r.jsx("div",{className:"w-1 h-1 bg-white rounded-full"})})]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"text-white/90 text-sm font-medium truncate",children:J}),r.jsx("div",{className:"text-white/60 text-xs truncate",children:Se}),r.jsx("div",{className:"text-white/50 text-xs",children:Ee})]}),r.jsx("div",{className:"opacity-0 group-hover/item:opacity-100 transition-opacity",children:r.jsx(IV,{className:"text-blue-400 text-xs"})})]},C._id)}):r.jsxs("div",{className:"text-center py-4",children:[r.jsx(Po,{className:"text-2xl text-white/30 mx-auto mb-2"}),r.jsx("p",{className:"text-white/60 text-xs",children:"No conversations yet"}),r.jsx("p",{className:"text-white/40 text-xs mt-1",children:"Start a conversation with someone!"}),r.jsx("button",{onClick:()=>t("/messaging"),className:"mt-2 px-3 py-1.5 rounded-lg bg-blue-600/20 text-blue-400 hover:bg-blue-600/30 transition-all duration-200 text-xs font-medium",children:"Start Chatting"})]})})]})]})}),r.jsxs("div",{className:"xl:col-span-6",children:[r.jsx(ye.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"text-center mb-8",children:r.jsxs("div",{className:"inline-flex items-center gap-2",children:[r.jsx(JZ,{}),r.jsxs("span",{className:"text-4xl md:text-6xl lg:text-7xl font-black tracking-tight text-white",children:[e==null?void 0:e.firstName,"!"]})]})}),r.jsx(ye.div,{initial:{opacity:0,y:50,rotateX:-20},animate:{opacity:1,y:0,rotateX:0},transition:{duration:1,delay:.3,type:"spring",stiffness:100},className:"text-center mb-12",children:r.jsxs("h1",{className:"mx-auto max-w-5xl text-center text-4xl font-black tracking-tight text-white md:text-6xl lg:text-7xl leading-tight",children:["Manage your"," ",r.jsx("span",{className:"bg-gradient-to-r from-amber-400 via-orange-500 to-red-500 bg-clip-text text-transparent",children:"NewRun ecosystem"})," ","from here.",r.jsx("br",{className:"hidden md:block"}),r.jsx("div",{className:"block mt-2 text-2xl md:text-3xl lg:text-4xl h-12 flex items-center justify-center",children:r.jsx("div",{className:"px-2 sm:px-3 md:px-4 py-1 sm:py-1.5 md:py-2 rounded-xl font-semibold",children:r.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Properties  Marketplace  Community"})})})]})}),!L&&r.jsx("div",{className:"mx-auto mt-4 w-full max-w-4xl text-center",children:r.jsx("button",{onClick:()=>{localStorage.setItem("debug_mode","true"),Y({debugMode:!0})},className:"text-white/20 hover:text-white/40 text-xs transition-colors",title:"Enable debug mode",children:""})}),r.jsx(ye.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},className:"mx-auto mt-12 w-full max-w-4xl",children:r.jsxs("div",{className:"rounded-2xl border border-white/5 bg-black/20 backdrop-blur-xl shadow-[0_20px_60px_rgba(0,0,0,.35)] p-4",children:[r.jsxs("div",{className:"relative rounded-xl border border-white/15 bg-black/40 backdrop-blur-sm",children:[r.jsx("textarea",{value:O,onChange:C=>Y({prompt:C.target.value}),placeholder:"Ask AI anything...",rows:2,className:"w-full resize-none bg-transparent text-white/80 placeholder-white/60 text-sm leading-relaxed outline-none p-5 pr-40"}),r.jsxs("button",{onClick:()=>Y({agentMode:!$}),className:"absolute top-3 right-3 inline-flex items-center gap-1.5 rounded-full border border-white/25 bg-black/50 px-2.5 py-1 text-[9px] font-medium uppercase tracking-wider text-white/70 hover:bg-black/60",children:[r.jsx("span",{className:"text-[7px]",children:""}),"AGENT MODE",r.jsx("span",{className:`ml-1 rounded-full px-1.5 py-0.5 text-[8px] border ${$?"bg-blue-500 border-blue-500 text-white":"bg-transparent border-white/25 text-white/60"}`,children:$?"ON":"OFF"})]}),r.jsxs("div",{className:"absolute bottom-3 right-3 flex items-center gap-2",children:[r.jsx("button",{className:"inline-flex items-center justify-center rounded border border-white/25 bg-black/40 p-1.5 text-white/70 hover:bg-black/60",children:r.jsx(MV,{className:"w-3 h-3"})}),r.jsxs("button",{onClick:()=>{},className:"inline-flex items-center gap-1 rounded border border-white/25 bg-black/40 px-2 py-1.5 text-[10px] text-white/80 hover:bg-black/60",children:["start",r.jsx(pg,{className:"w-3 h-3"})]})]})]}),r.jsxs("div",{className:"flex items-center justify-between mt-3 px-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{className:"inline-flex items-center gap-1 rounded-full border border-white/25 bg-black/40 px-2.5 py-1 text-[9px] text-white/70 hover:bg-black/60",children:[r.jsx("span",{className:"text-[7px]",children:""}),"Regular",r.jsx(pg,{className:"w-3 h-3"})]}),r.jsxs("button",{className:"inline-flex items-center gap-1 rounded-full border border-white/25 bg-black/40 px-2.5 py-1 text-[9px] text-white/70 hover:bg-black/60",children:[r.jsx("span",{className:"text-[7px]",children:""}),"GPT 4.1",r.jsx(pg,{className:"w-3 h-3"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-[9px] text-white/60",children:"Knowledge Base"}),r.jsx("button",{onClick:()=>Y({agentMode:!$}),className:`relative h-4 w-7 rounded-full transition-colors duration-200 ${$?"bg-blue-500":"bg-white/20"}`,children:r.jsx("span",{className:`absolute top-0.5 ${$?"right-0.5":"left-0.5"} h-3 w-3 rounded-full bg-white transition-all`})})]})]})]})}),r.jsx(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.8},className:"mx-auto mt-10 flex justify-center",children:r.jsxs("div",{className:"flex items-center gap-6 rounded-2xl border border-white/20 bg-white/10 px-8 py-4 backdrop-blur-xl shadow-2xl",children:[r.jsxs(ye.div,{whileHover:{scale:1.1,y:-5},className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full animate-pulse shadow-lg shadow-green-400/50"}),r.jsxs("span",{className:"text-sm text-white/90",children:[r.jsx("span",{className:"font-bold text-green-400 text-lg",children:(ne==null?void 0:ne.totalListings)||0}),r.jsx("span",{className:"ml-2",children:"Listings"})]})]}),r.jsx("div",{className:"w-px h-6 bg-white/30"}),r.jsxs(ye.div,{whileHover:{scale:1.1,y:-5},className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-3 h-3 bg-blue-400 rounded-full animate-pulse shadow-lg shadow-blue-400/50"}),r.jsxs("span",{className:"text-sm text-white/90",children:[r.jsx("span",{className:"font-bold text-blue-400 text-lg",children:(ne==null?void 0:ne.totalViews)||0}),r.jsx("span",{className:"ml-2",children:"Views"})]})]}),r.jsx("div",{className:"w-px h-6 bg-white/30"}),r.jsxs(ye.div,{whileHover:{scale:1.1,y:-5},className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-3 h-3 bg-orange-400 rounded-full animate-pulse shadow-lg shadow-orange-400/50"}),r.jsxs("span",{className:"text-sm text-white/90",children:[r.jsx("span",{className:"font-bold text-orange-400 text-lg",children:(ne==null?void 0:ne.activeListings)||0}),r.jsx("span",{className:"ml-2",children:"Active"})]})]})]})})]}),r.jsx("div",{className:"xl:col-span-3",children:r.jsxs(ye.div,{initial:{opacity:0,x:50,rotateY:15},animate:{opacity:1,x:0,rotateY:0},transition:{duration:.8,type:"spring",stiffness:100},whileHover:{scale:1.02,rotateY:-5},className:"relative group",children:[r.jsx("div",{className:"absolute -top-2 -left-2 w-3 h-3 bg-blue-400 rounded-full animate-ping opacity-60"}),r.jsx("div",{className:"absolute -bottom-1 -right-1 w-2 h-2 bg-blue-500 rounded-full animate-ping opacity-40",style:{animationDelay:"2s"}}),r.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 backdrop-blur-sm p-6 hover:bg-white/10 transition-all duration-300",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"p-3 rounded-xl bg-blue-500/10 border border-blue-500/20",children:r.jsx(Tr,{className:"text-xl text-blue-400"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Roommate Profile"}),r.jsx("p",{className:"text-white/70 text-sm",children:"Your Synapse profile"})]})]}),r.jsx("div",{className:"text-center py-4",children:h.synapse?r.jsxs("div",{className:"flex items-center justify-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"}),r.jsx("span",{className:"text-white/60 text-sm ml-2",children:"Loading profile..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(ye.div,{whileHover:{scale:1.05},className:"relative w-16 h-16 rounded-full bg-blue-500/10 border border-blue-500/20 mx-auto mb-4 flex items-center justify-center text-blue-400 font-bold text-xl",children:((de=e==null?void 0:e.firstName)==null?void 0:de.charAt(0))||"U"}),r.jsx("h4",{className:"font-semibold text-white text-lg mb-3",children:(e==null?void 0:e.firstName)||"User"}),(()=>{const C=P(a);return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-full bg-white/10 rounded-full h-2 mb-3",children:r.jsx(ye.div,{initial:{width:0},animate:{width:`${C}%`},transition:{duration:2,delay:1},className:"bg-blue-500 h-2 rounded-full"})}),r.jsxs("p",{className:"text-white/70 text-sm mb-2",children:["Profile ",C,"% complete"]}),C<100&&r.jsxs("div",{className:"text-xs text-white/50 mb-4",children:[C===0&&"Start by adding your preferences",C>0&&C<50&&"Add more details to find better matches",C>=50&&C<100&&"Almost there! Complete a few more sections"]}),C<100?r.jsxs(ye.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>t("/Synapse"),className:"group relative inline-flex items-center gap-2 rounded-full bg-gradient-to-r from-orange-500 to-orange-600 px-4 py-2 text-sm font-bold text-black shadow-[0_12px_32px_rgba(255,153,0,.4)] hover:shadow-[0_16px_40px_rgba(255,153,0,.5)] hover:scale-105 transition-all duration-300 hover:from-orange-400 hover:to-orange-500 w-full justify-center",children:[r.jsx("span",{children:C===0?"Start Profile":"Complete Profile"}),r.jsx("div",{className:"w-3 h-3 rounded-full bg-black/20 flex items-center justify-center group-hover:translate-x-1 transition-transform duration-200",children:r.jsx("div",{className:"w-1.5 h-1.5 bg-black rounded-full"})}),r.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-orange-500 to-orange-600 opacity-0 group-hover:opacity-20 blur-xl transition-opacity duration-300"})]}):r.jsxs("div",{className:"space-y-2",children:[r.jsxs(ye.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>t("/Synapse"),className:"group relative inline-flex items-center gap-2 rounded-full bg-gradient-to-r from-orange-500 to-orange-600 px-4 py-2 text-sm font-bold text-black shadow-[0_12px_32px_rgba(255,153,0,.4)] hover:shadow-[0_16px_40px_rgba(255,153,0,.5)] hover:scale-105 transition-all duration-300 hover:from-orange-400 hover:to-orange-500 w-full justify-center",children:[r.jsx("span",{children:"View Profile"}),r.jsx("div",{className:"w-3 h-3 rounded-full bg-black/20 flex items-center justify-center group-hover:translate-x-1 transition-transform duration-200",children:r.jsx("div",{className:"w-1.5 h-1.5 bg-black rounded-full"})}),r.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-orange-500 to-orange-600 opacity-0 group-hover:opacity-20 blur-xl transition-opacity duration-300"})]}),r.jsxs(ye.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>t("/roommate-matches"),className:"group inline-flex items-center gap-2 rounded-full border border-white/20 bg-white/5 px-4 py-2 text-sm text-white/85 hover:bg-white/10 hover:border-white/30 transition-all duration-200 w-full justify-center",children:[r.jsx("span",{className:"text-base",children:"+"}),"Find Matches"]})]})]})})()]})})]})]})})]})})]}),s&&r.jsx("section",{className:"mx-auto max-w-7xl px-4 py-8",children:r.jsx(XZ,{userInfo:e,dashboardData:n,onboardingData:s})}),s&&(e==null?void 0:e.synapse)&&r.jsx("section",{className:"mx-auto max-w-7xl px-4 py-8",children:r.jsx(QZ,{userInfo:e,dashboardData:n,onboardingData:s})}),L&&r.jsx("div",{className:"mx-auto max-w-7xl px-4 py-4",children:r.jsx("div",{className:"rounded-2xl border border-yellow-500/20 bg-yellow-500/5 p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 rounded-lg bg-yellow-500/20",children:r.jsx(zp,{className:"text-xl text-yellow-400"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-yellow-400",children:"Debug Mode"}),r.jsx("p",{className:"text-yellow-300/70 text-sm",children:"Developer tools and testing utilities"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>{localStorage.setItem("debug_mode","false"),Y({debugMode:!1})},className:"px-3 py-1.5 bg-yellow-500/20 text-yellow-400 rounded-lg font-medium hover:bg-yellow-500/30 transition-colors text-sm",children:"Disable Debug"}),r.jsx("button",{onClick:()=>t("/onboarding?force=true"),className:"px-3 py-1.5 bg-blue-500/20 text-blue-400 rounded-lg font-medium hover:bg-blue-500/30 transition-colors text-sm",children:"Test Onboarding"})]})]})})}),r.jsx("div",{className:"mx-auto max-w-7xl px-4 py-8",children:r.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[r.jsx("div",{className:"xl:col-span-1",children:((le=(te=n==null?void 0:n.myProperties)==null?void 0:te.items)==null?void 0:le.length)>0&&r.jsxs(ye.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.6},className:"rounded-2xl border border-white/10 bg-white/5 p-6 h-fit",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 rounded-lg bg-green-500/20",children:r.jsx(oi,{className:"text-xl text-green-400"})}),r.jsx("h2",{className:"text-xl font-bold text-white",children:"Your Properties"}),r.jsx("span",{className:"px-2 py-1 rounded-full bg-green-500/20 text-green-400 text-xs font-semibold",children:n.myProperties.items.length})]}),r.jsx("button",{onClick:()=>Y({showPropertyManager:!D}),className:"px-3 py-1.5 bg-green-500/20 text-green-400 rounded-lg font-medium hover:bg-green-500/30 transition-colors text-sm",children:D?"Hide":"Manage"})]}),D&&r.jsx("div",{className:"space-y-4",children:n.myProperties.items.map((C,q)=>r.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:q*.1},className:"group relative rounded-lg border border-white/10 bg-white/5 p-4 hover:bg-white/10 transition-all duration-300",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-white text-sm mb-1 line-clamp-1",children:C.title}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(G_,{className:"text-green-400"}),C.bedrooms]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Jb,{className:"text-green-400"}),C.bathrooms]}),r.jsxs("span",{className:"text-green-400 font-medium",children:["$",Number(C.price||0)]})]})]}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx("button",{onClick:()=>H(C),className:"p-1 rounded bg-blue-500/20 text-blue-400 hover:bg-blue-500/30 transition-colors",children:r.jsx(G0,{className:"text-xs"})}),r.jsx("button",{onClick:()=>Z(C._id),className:"p-1 rounded bg-red-500/20 text-red-400 hover:bg-red-500/30 transition-colors",children:r.jsx(H0,{className:"text-xs"})})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${C.availabilityStatus==="available"?"bg-green-500/20 text-green-400":C.availabilityStatus==="rented"?"bg-blue-500/20 text-blue-400":"bg-orange-500/20 text-orange-400"}`,children:C.availabilityStatus||"unknown"}),r.jsx("span",{className:"text-gray-500 text-xs",children:C.createdAt?new Date(C.createdAt).toLocaleDateString():""})]})]},C._id))})]})}),r.jsxs("div",{className:"xl:col-span-1 space-y-6",children:[r.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-bold text-white",children:"Notifications"}),r.jsxs("button",{onClick:()=>Y({showNotifications:!W}),className:"relative p-2 rounded-lg bg-white/10 hover:bg-white/20 transition-all duration-300",children:[r.jsx(BV,{className:"text-xl text-white/80"}),T.filter(C=>!C.read).length>0&&r.jsx("span",{className:"absolute -top-1 -right-1 bg-gradient-to-r from-red-500 to-pink-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-bold",children:T.filter(C=>!C.read).length})]})]}),r.jsx("div",{className:"space-y-3",children:T.slice(0,3).map(C=>r.jsxs("div",{className:"rounded-lg border border-white/10 bg-white/[0.06] p-3",children:[r.jsx("div",{className:"text-white/90 text-sm",children:C.title}),r.jsx("div",{className:"text-white/50 text-xs",children:C.time})]},C.id))})]}),r.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-6",children:[r.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Your Activity"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 rounded-lg bg-green-500/20",children:r.jsx(oi,{className:"text-lg text-green-400"})}),r.jsx("span",{className:"text-white/70 text-sm",children:"Properties"})]}),r.jsx("span",{className:"text-2xl font-bold text-white",children:((Q=(pe=n==null?void 0:n.myProperties)==null?void 0:pe.statistics)==null?void 0:Q.totalProperties)||0})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 rounded-lg bg-purple-500/20",children:r.jsx(Na,{className:"text-lg text-purple-400"})}),r.jsx("span",{className:"text-white/70 text-sm",children:"Marketplace Items"})]}),r.jsx("span",{className:"text-2xl font-bold text-white",children:((be=(we=n==null?void 0:n.myMarketplace)==null?void 0:we.statistics)==null?void 0:be.totalItems)||0})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 rounded-lg bg-cyan-500/20",children:r.jsx(MN,{className:"text-lg text-cyan-400"})}),r.jsx("span",{className:"text-white/70 text-sm",children:"Total Views"})]}),r.jsx("span",{className:"text-2xl font-bold text-white",children:((ne==null?void 0:ne.totalViews)||0).toLocaleString()})]})]})]}),r.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 rounded-lg bg-blue-500/20",children:r.jsx(Fh,{className:"text-xl text-blue-400"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-white",children:"AI-Recommended Actions"}),r.jsx("p",{className:"text-xs text-white/60",children:"Smart actions tailored to your profile"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[K&&r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"}),s&&r.jsx("span",{className:"text-xs text-white/60 bg-white/10 px-2 py-1 rounded-full",children:l.length>0?"AI-Powered":`Personalized for ${s.focus}`})]})]}),r.jsx("div",{className:"space-y-3",children:K?r.jsx("div",{className:"flex items-center justify-center py-8",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-500"}),r.jsx("span",{className:"text-white/70 text-sm",children:"AI is generating personalized actions..."})]})}):B().map((C,q)=>r.jsxs(ye.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{C.label==="List Property"||C.path==="/dashboard"?Y({showPropertyDrawer:!0}):C.label==="List Item"||C.path==="/add-item"?Y({showMarketplaceDrawer:!0}):t(C.path)},className:`w-full flex items-center gap-3 p-3 rounded-lg border border-white/10 bg-gradient-to-r ${C.color} hover:bg-white/10 transition-all duration-300`,children:[r.jsx(C.icon,{className:"text-white"}),r.jsxs("div",{className:"flex-1 text-left",children:[r.jsx("span",{className:"text-white text-sm font-medium",children:C.label}),C.description&&r.jsx("p",{className:"text-white/70 text-xs",children:C.description})]})]},q))})]})]}),r.jsx("div",{className:"xl:col-span-1",children:((ue=(ee=n==null?void 0:n.myMarketplace)==null?void 0:ee.items)==null?void 0:ue.length)>0&&r.jsxs(ye.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.6},className:"rounded-2xl border border-white/10 bg-white/5 p-6 h-fit",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 rounded-lg bg-purple-500/20",children:r.jsx(Na,{className:"text-xl text-purple-400"})}),r.jsx("h2",{className:"text-xl font-bold text-white",children:"Your Marketplace Items"}),r.jsx("span",{className:"px-2 py-1 rounded-full bg-purple-500/20 text-purple-400 text-xs font-semibold",children:n.myMarketplace.items.length})]}),r.jsx("button",{onClick:()=>Y({showMarketplaceManager:!A}),className:"px-3 py-1.5 bg-purple-500/20 text-purple-400 rounded-lg font-medium hover:bg-purple-500/30 transition-colors text-sm",children:A?"Hide":"Manage"})]}),A&&r.jsx("div",{className:"space-y-4",children:n.myMarketplace.items.map((C,q)=>r.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:q*.1},className:"group relative rounded-lg border border-white/10 bg-white/5 p-4 hover:bg-white/10 transition-all duration-300",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-white text-sm mb-1 line-clamp-1",children:C.title}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[r.jsxs("span",{className:"text-purple-400 font-medium",children:["$",Number(C.price||0)]}),r.jsx("span",{className:"text-gray-400",children:C.category}),r.jsx("span",{className:"text-gray-400",children:C.condition})]})]}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx("button",{onClick:()=>fe(C),className:"p-1 rounded bg-blue-500/20 text-blue-400 hover:bg-blue-500/30 transition-colors",children:r.jsx(G0,{className:"text-xs"})}),r.jsx("button",{onClick:()=>ce(C._id),className:"p-1 rounded bg-red-500/20 text-red-400 hover:bg-red-500/30 transition-colors",children:r.jsx(H0,{className:"text-xs"})})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${C.status==="active"?"bg-green-500/20 text-green-400":C.status==="sold"?"bg-blue-500/20 text-blue-400":"bg-orange-500/20 text-orange-400"}`,children:C.status||"unknown"}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(MN,{className:"text-purple-400"}),C.views||0]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(ef,{className:"text-red-400"}),C.favorites||0]})]})]})]},C._id))})]})})]})}),r.jsx(t6,{isOpen:I,onClose:()=>{Y({showPropertyDrawer:!1,editingProperty:null})},propertyData:_,onPropertyCreated:()=>{Y({showPropertyDrawer:!1}),oe()},onPropertyUpdated:()=>{Y({showPropertyDrawer:!1,editingProperty:null}),oe()}}),r.jsx(s6,{isOpen:M,onClose:()=>{Y({showMarketplaceDrawer:!1,editingItem:null})},itemData:z,onItemCreated:()=>{Y({showMarketplaceDrawer:!1}),oe()},onItemUpdated:()=>{Y({showMarketplaceDrawer:!1,editingItem:null}),oe()}})]})]})}const Gg=t=>/^[^\s@]+@[^\s!]+\.[^\s@]+$/.test(t);function tQ(){var te;const t=dt(),e=qs(),{login:n}=Ka(),s="2025-10-01",[i,a]=p.useState(""),[o,l]=p.useState(""),[c,d]=p.useState(((te=e.state)==null?void 0:te.email)||""),[u,h]=p.useState(""),[m,f]=p.useState(!1),[x,g]=p.useState(""),[b,y]=p.useState(!1),[v,w]=p.useState(!1),[N,j]=p.useState(0),[k,P]=p.useState({email:"",fullName:"",username:"",password:""}),[S,E]=p.useState({email:!1,fullName:!1,username:!1,password:!1}),[T,W]=p.useState({status:"idle",available:null}),F=p.useRef(null),[D,A]=p.useState({status:"idle",available:null}),_=p.useRef(null),[z,I]=p.useState({email:!1,fullName:!1,username:!1,password:!1}),M=(le,pe)=>{switch(le){case"email":return pe.trim()&&(Gg(pe)||/^\+?[\d\s\-\(\)]+$/.test(pe));case"fullName":return pe.trim().length>0;case"username":return pe.trim().length>=3;case"password":return pe.trim().length>=8;default:return!1}},$=(le,pe)=>{switch(le){case"email":return pe.trim()?!Gg(pe)&&!/^\+?[\d\s\-\(\)]+$/.test(pe)?"Enter a valid email address.":"":"This field is required.";case"password":return pe.trim()?pe.length<8?"Create a password at least 8 characters long.":"":"This field is required.";case"fullName":return pe.trim()?"":"This field is required.";case"username":return pe.trim()?pe.length<3?"Username must be at least 3 characters.":"":"This field is required.";default:return""}},O=(le,pe)=>{const Q=M(le,pe);E(we=>({...we,[le]:Q}))},L=(le,pe)=>{le==="email"&&d(pe),le==="password"&&h(pe),le==="fullName"&&a(pe),le==="username"&&l(pe),O(le,pe);const Q=$(le,pe);if(P(we=>({...we,[le]:Q})),le==="username"){const we=pe.trim().toLowerCase();we.length>=3&&!$("username",we)?(W({status:"typing",available:null}),K(we)):(W({status:"idle",available:null}),F.current&&clearTimeout(F.current))}if(le==="email"){const we=pe.trim().toLowerCase();we?(A({status:"typing",available:null}),B(we)):(A({status:"idle",available:null}),_.current&&clearTimeout(_.current))}},Y=(le,pe)=>{I(we=>({...we,[le]:!0}));const Q=$(le,pe);P(we=>({...we,[le]:Q})),le==="username"&&pe&&pe.trim().length>=3&&!Q&&K(pe.trim())},K=le=>{F.current&&clearTimeout(F.current),F.current=setTimeout(async()=>{var pe;try{W({status:"checking",available:null});const Q=await ge.get("/check-username",{params:{username:le}});W({status:"done",available:!!((pe=Q==null?void 0:Q.data)!=null&&pe.available)})}catch{W({status:"error",available:null})}},400)},B=le=>{_.current&&clearTimeout(_.current),_.current=setTimeout(async()=>{var pe;try{A({status:"checking",available:null});const Q=await ge.get("/check-email",{params:{email:le}});A({status:"done",available:!!((pe=Q==null?void 0:Q.data)!=null&&pe.available)})}catch{A({status:"error",available:null})}},400)};p.useEffect(()=>()=>{F.current&&clearTimeout(F.current),_.current&&clearTimeout(_.current)},[]);const U=le=>{switch(le){case"email":d("");break;case"fullName":a("");break;case"username":l("");break;case"password":h("");break}P(pe=>({...pe,[le]:""})),E(pe=>({...pe,[le]:!1}))};async function V(le){var we,be,ee,ue;le.preventDefault(),g(""),P({email:"",fullName:"",username:"",password:""});let pe=!1;const Q={email:"",fullName:"",username:"",password:""};if(c.trim()?!Gg(c)&&!/^\+?[\d\s\-\(\)]+$/.test(c)&&(Q.email="Please enter a valid email or phone number.",pe=!0):(Q.email="This field is required.",pe=!0),i.trim()||(Q.fullName="This field is required.",pe=!0),o.trim()?o.length<3&&(Q.username="Username must be at least 3 characters.",pe=!0):(Q.username="This field is required.",pe=!0),u.trim()?u.length<8&&(Q.password="Create a password at least 8 characters long.",pe=!0):(Q.password="This field is required.",pe=!0),!m){g("Please accept the Terms and Privacy Policy.");return}if(pe){P(Q),I({email:!0,fullName:!0,username:!0,password:!0});return}g(""),y(!0);try{const C=i.trim().split(" "),q=C[0]||"",re=C.slice(1).join(" ")||"",J=await ge.post("/create-account",{firstName:q,lastName:re,username:o.trim(),email:c.trim(),password:u,termsConsent:{accepted:!0,version:s,acceptedAt:new Date().toISOString()}});if((we=J==null?void 0:J.data)!=null&&we.error){g(J.data.message||"Could not create account.");return}if((be=J==null?void 0:J.data)!=null&&be.accessToken){try{localStorage.setItem("nr_terms_consent",JSON.stringify({accepted:!0,version:s,acceptedAt:new Date().toISOString()}))}catch{}const ae=await n(J.data.user,J.data.accessToken);if(ae.success){const Se=localStorage.getItem("nr_unified_onboarding");Se&&JSON.parse(Se).completed?t("/dashboard"):t("/onboarding")}else g(ae.error||"Account created but login failed. Please try logging in.")}else g("Unexpected response. Please try again.")}catch(C){console.error("Signup error:",C);const q=((ue=(ee=C==null?void 0:C.response)==null?void 0:ee.data)==null?void 0:ue.message)||"An unexpected error occurred. Please try again!";g(q)}finally{y(!1)}}const G="h-12",X="rounded-lg",oe="w-6 h-6",ne="pr-20",H="pr-[128px]",Z=`${G} w-full ${X} border border-white/12 bg-black px-3 text-[14px] text-white outline-none placeholder:text-white/55 autofill:bg-black autofill:text-white autofill:shadow-[inset_0_0_0px_1000px_black] [-webkit-text-fill-color:white] [-webkit-box-shadow:0_0_0px_1000px_black_inset]`,fe=(...le)=>le.filter(Boolean).join(" "),ce=(le,pe)=>!!(k[le]||z[le]&&!M(le,pe)),de=le=>le?{borderColor:"#ef4444",borderWidth:2}:void 0;return r.jsx("main",{className:"min-h-screen bg-black",children:r.jsx("div",{className:"mx-auto flex max-w-6xl items-start justify-center px-4 py-10",children:r.jsxs("div",{className:"w-full flex flex-col items-center",children:[r.jsxs("div",{className:"w-full max-w-sm rounded-2xl border border-white/10 bg-transparent p-6 relative overflow-hidden",children:[r.jsxs("div",{className:"mb-6 text-center",children:[r.jsx("h1",{className:`
                brand-script text-5xl leading-none
                bg-gradient-to-r from-blue-600 to-teal-500
                bg-clip-text text-transparent
                drop-shadow-[0_1px_0_rgba(255,255,255,0.06)]
              `,children:"NewRun"}),r.jsx("p",{className:"mt-3 text-[12px] leading-5 text-white/70",children:"Sign up to access housing, essentials, and community curated by your university."})]}),r.jsxs("button",{type:"button",onClick:()=>{fetch("http://localhost:8000/api/auth/google").then(le=>{le.ok?window.location.href="http://localhost:8000/api/auth/google":g("Google OAuth is not configured. Please use email/password signup.")}).catch(()=>{g("Google OAuth is not available. Please use email/password signup.")})},className:"mb-4 inline-flex h-10 w-full items-center justify-center gap-3 rounded-md border border-gray-300 bg-white text-[14px] font-medium text-gray-700 hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 hover:scale-[1.01] active:scale-[0.99] shadow-sm hover:shadow-md",children:[r.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[r.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),r.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),r.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),r.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),r.jsxs("div",{className:"mb-4 flex items-center gap-3 text-white/40",children:[r.jsx("div",{className:"h-px flex-1 bg-white/10"}),r.jsx("span",{className:"text-[12px]",children:"OR"}),r.jsx("div",{className:"h-px flex-1 bg-white/10"})]}),r.jsxs("form",{onSubmit:V,className:"space-y-3",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:c,onChange:le=>L("email",le.target.value),onBlur:le=>Y("email",le.target.value),placeholder:"Mobile Number or Email",autoComplete:"email","aria-invalid":ce("email",c),"aria-describedby":"email-error",className:fe(Z,ne,ce("email",c)&&"ring-1 ring-red-500/40 focus:ring-red-500/50 focus:border-red-600",!ce("email",c)&&z.email&&"border-gray-400"),style:de(ce("email",c))}),r.jsxs("div",{className:"pointer-events-none absolute right-4 top-1/2 -translate-y-1/2 flex items-center gap-2",children:[D.status==="checking"&&r.jsx("div",{className:"grid place-items-center w-7 h-7",children:r.jsxs("svg",{className:"w-4 h-4 animate-spin text-sky-400",viewBox:"0 0 24 24",fill:"none",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]})}),D.status==="done"&&D.available===!0&&!ce("email",c)&&r.jsx("div",{className:"grid place-items-center w-7 h-7",children:r.jsx(yc,{className:`${oe} text-emerald-500`,strokeWidth:2})}),D.status==="done"&&D.available===!1&&!ce("email",c)&&r.jsx("div",{className:"grid place-items-center w-7 h-7",children:r.jsx(to,{className:`${oe} text-red-500`,strokeWidth:2})}),ce("email",c)&&r.jsx("button",{type:"button",onClick:()=>U("email"),className:"pointer-events-auto grid place-items-center w-7 h-7","aria-label":"Clear email",children:r.jsx(to,{className:`${oe} text-red-500`,strokeWidth:2})})]})]}),ce("email",c)&&r.jsx("div",{id:"email-error",className:"mt-1 text-sm text-red-500 font-medium",children:k.email||"Enter a valid email address."}),!ce("email",c)&&c&&r.jsxs("div",{className:"mt-1 text-xs",children:[D.status==="checking"&&r.jsx("span",{className:"text-sky-400",children:"Checking email"}),D.status==="done"&&D.available===!0&&r.jsx("span",{className:"text-emerald-400",children:"Email looks good."}),D.status==="done"&&D.available===!1&&r.jsx("span",{className:"text-red-400",children:"An account with this email already exists."})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:v?"text":"password",value:u,onChange:le=>L("password",le.target.value),onBlur:le=>Y("password",le.target.value),placeholder:"Password",autoComplete:"new-password","aria-invalid":ce("password",u),"aria-describedby":"password-error",className:fe(Z,H,ce("password",u)&&"ring-1 ring-red-500/40 focus:ring-red-500/50 focus:border-red-600",!ce("password",u)&&z.password&&"border-gray-400"),style:de(ce("password",u))}),r.jsxs("div",{className:"pointer-events-none absolute right-4 top-1/2 -translate-y-1/2 flex items-center gap-2",children:[ce("password",u)?r.jsx("div",{className:"grid place-items-center w-7 h-7",children:r.jsx(to,{className:`${oe} text-red-500`,strokeWidth:2})}):S.password?r.jsx("div",{className:"grid place-items-center w-8 h-8",children:r.jsx(yc,{className:`${oe} text-emerald-500`,strokeWidth:2})}):null,r.jsx("button",{type:"button",onClick:()=>w(!v),className:"pointer-events-auto inline-flex items-center justify-center h-8 px-3 text-xs font-semibold rounded-md border border-white/25 bg-white/10 text-white/90 hover:bg-white/15 hover:border-white/35 focus:outline-none focus-visible:ring-2 focus-visible:ring-white/30",children:v?"Hide":"Show"})]})]}),ce("password",u)&&r.jsx("div",{id:"password-error",className:"mt-1 text-sm text-red-500 font-medium",children:k.password||"Create a password at least 8 characters long."})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:i,onChange:le=>L("fullName",le.target.value),onBlur:le=>Y("fullName",le.target.value),placeholder:"Full Name",autoComplete:"name","aria-invalid":ce("fullName",i),"aria-describedby":"fullName-error",className:fe(Z,ne,ce("fullName",i)&&"ring-1 ring-red-500/40 focus:ring-red-500/50 focus:border-red-600",!ce("fullName",i)&&z.fullName&&"border-gray-400"),style:de(ce("fullName",i))}),r.jsx("div",{className:"pointer-events-none absolute right-4 top-1/2 -translate-y-1/2 flex items-center gap-2",children:ce("fullName",i)?r.jsx("button",{type:"button",onClick:()=>U("fullName"),className:"pointer-events-auto grid place-items-center w-7 h-7","aria-label":"Clear full name",children:r.jsx(to,{className:`${oe} text-red-500`,strokeWidth:2})}):S.fullName?r.jsx("div",{className:"grid place-items-center w-7 h-7",children:r.jsx(yc,{className:`${oe} text-emerald-500`,strokeWidth:2})}):null})]}),ce("fullName",i)&&r.jsx("div",{id:"fullName-error",className:"mt-1 text-sm text-red-500 font-medium",children:k.fullName||"This field is required."})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:o,onChange:le=>L("username",le.target.value),onBlur:le=>Y("username",le.target.value),placeholder:"Username",autoComplete:"username","aria-invalid":ce("username",o),"aria-describedby":"username-error",className:fe(Z,ne,ce("username",o)&&"ring-1 ring-red-500/40 focus:ring-red-500/50 focus:border-red-600",!ce("username",o)&&z.username&&"border-gray-400"),style:de(ce("username",o))}),r.jsxs("div",{className:"pointer-events-none absolute right-4 top-1/2 -translate-y-1/2 flex items-center gap-2",children:[T.status==="checking"&&r.jsx("div",{className:"grid place-items-center w-7 h-7",children:r.jsxs("svg",{className:"w-4 h-4 animate-spin text-sky-400",viewBox:"0 0 24 24",fill:"none",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]})}),T.status==="done"&&T.available===!0&&r.jsx("div",{className:"grid place-items-center w-7 h-7",children:r.jsx(yc,{className:`${oe} text-emerald-500`,strokeWidth:2})}),T.status==="done"&&T.available===!1&&r.jsx("div",{className:"grid place-items-center w-7 h-7",children:r.jsx(to,{className:`${oe} text-red-500`,strokeWidth:2})}),ce("username",o)?r.jsx("button",{type:"button",onClick:()=>U("username"),className:"pointer-events-auto grid place-items-center w-7 h-7","aria-label":"Clear username",children:r.jsx(to,{className:`${oe} text-red-500`,strokeWidth:2})}):null,o&&o.length>=3&&r.jsx("button",{type:"button",onClick:()=>{j(le=>le+1),K(o)},className:"pointer-events-auto grid place-items-center w-7 h-7","aria-label":"Refresh username suggestions",title:"Refresh suggestions",children:r.jsx($K,{className:`${oe} text-sky-400`,strokeWidth:2})})]})]}),ce("username",o)&&r.jsx("div",{id:"username-error",className:"mt-1 text-sm text-red-500 font-medium",children:k.username||"Username must be at least 3 characters."}),o&&o.length>=3&&!ce("username",o)&&r.jsxs("div",{className:"mt-1 text-xs",children:[T.status==="checking"&&r.jsx("span",{className:"text-sky-400",children:"Checking availability"}),T.status==="done"&&T.available===!0&&r.jsx("span",{className:"text-emerald-400",children:"Great news  username is available."}),T.status==="done"&&T.available===!1&&r.jsx("span",{className:"text-red-400",children:"That username is taken. Try a suggestion below."})]}),o&&o.length>=3&&r.jsxs("div",{className:"mt-2 space-y-1",children:[r.jsx("div",{className:"text-xs text-gray-400",children:"Suggestions:"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{type:"button",onClick:()=>l(`${o.toLowerCase()}.${Math.floor(Math.random()*100)}`),className:"px-2 py-1 bg-gray-100 rounded text-xs text-gray-700 hover:bg-gray-200 transition-colors",children:[o.toLowerCase(),".",Math.floor(Math.random()*100+N%100)]}),r.jsxs("button",{type:"button",onClick:()=>l(`${o.toLowerCase()}_${Math.floor(Math.random()*100)}`),className:"px-2 py-1 bg-gray-100 rounded text-xs text-gray-700 hover:bg-gray-200 transition-colors",children:[o.toLowerCase(),"_",Math.floor(Math.random()*100+N%100)]})]})]})]}),r.jsxs("p",{className:"mt-3 text-[12px] leading-5 text-white/70",children:["People who use NewRun may have their basic details used to personalize recommendations."," ",r.jsx(Ae,{to:"/help",className:"text-sky-400 hover:underline",children:"Learn more"})]}),r.jsxs("p",{className:"mt-3 text-[12px] leading-5 text-white/70",children:["By signing up, you agree to our"," ",r.jsx(Ae,{to:"/terms",className:"text-sky-400 hover:underline",children:"Terms"}),","," ",r.jsx(Ae,{to:"/privacy",className:"text-sky-400 hover:underline",children:"Privacy Policy"})," ","and"," ",r.jsx(Ae,{to:"/cookies",className:"text-sky-400 hover:underline",children:"Cookies Policy"}),"."]}),r.jsxs("label",{className:"mx-auto mt-1 flex w-fit items-center gap-2 text-[12px] text-white/80",children:[r.jsx("input",{type:"checkbox",checked:m,onChange:le=>f(le.target.checked),className:"h-4 w-4 rounded-sm border border-white/40 bg-transparent accent-sky-500  focus:ring-sky-500/40",style:{accentColor:"#38bdf8"}}),r.jsx("span",{children:"I agree to the terms."})]}),x&&r.jsx("div",{className:"rounded-md border border-red-500/40 bg-red-500/10 px-3 py-2 text-center text-[13px] text-red-300",children:x}),r.jsx("button",{type:"submit",disabled:b||!m,className:"mt-2 inline-flex h-10 w-full items-center justify-center rounded-md bg-[#2f64ff] text-[14px] font-medium text-white hover:bg-[#2958e3] disabled:opacity-50 disabled:cursor-not-allowed",children:b?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Creating account..."]}):"Sign Up"})]}),r.jsx(rf,{size:300,duration:4,colorFrom:"#2F64FF",colorTo:"#00D4FF",borderWidth:2.5})]}),r.jsx("div",{className:"w-full max-w-sm mt-4 rounded-2xl border border-white/10 bg-transparent p-4 text-center",children:r.jsxs("p",{className:"text-white/80 text-[14px]",children:["Have an account? ",r.jsx(Ae,{to:"/login",className:"text-sky-400 hover:underline",children:"Log in"})]})})]})})})}const nQ=()=>(p.useEffect(()=>{window.scrollTo(0,0)},[]),r.jsxs("div",{className:"university-page",children:[r.jsx(ct,{}),r.jsx("section",{className:"university-hero",children:r.jsxs("div",{className:"content",children:[r.jsx("h1",{children:"Transform University Outcomes with NewRun"}),r.jsx("p",{children:"Enhance student retention, engagement, and success through tailored experiences from day one."}),r.jsx(Ae,{to:"/contact",className:"btn",children:"Schedule a Demo"})]})}),r.jsxs("div",{className:"features-container",children:[r.jsxs("div",{className:"feature",children:[r.jsx("h2",{children:"Welcoming Experience"}),r.jsx("p",{children:"Begin every student's journey with a personalized welcoming process that sets the tone for success and integration into the university community."})]}),r.jsxs("div",{className:"feature",children:[r.jsx("h2",{children:"Community Integration"}),r.jsx("p",{children:"Facilitate rich networking opportunities for students to forge valuable connections within the campus community, boosting their engagement and sense of belonging."})]}),r.jsxs("div",{className:"feature",children:[r.jsx("h2",{children:"Accommodation and Roommate Matching"}),r.jsx("p",{children:"Empower students to find ideal living situations and compatible roommates with our advanced housing tools, creating a stable foundation for academic success."})]}),r.jsx("div",{className:"feature",children:r.jsxs("div",{className:"bg-black p-6 rounded-lg shadow-lg hover:shadow-2xl transition duration-300",children:[r.jsx("h2",{children:"Career Preparation and Job Placement"}),r.jsx("p",{children:"Support students from education to employment with comprehensive career services that align with market needs and personal aspirations."})]})})]}),r.jsxs("section",{className:"call-to-action",children:[r.jsx("h2",{children:"Ready to Enhance Your University's Success?"}),r.jsx("p",{children:"Join the myriad of institutions already benefiting from NewRuns innovative solutions."}),r.jsx(Ae,{to:"/contact",className:"btn",children:"Learn More"})]})]})),R5="/assets/avatar1-Bt2firpO.jpg",D5="/assets/avatar2-Cre_kVO3.jpg",$5="/assets/avatar3-DTs14J5_.jpg";function Zh({className:t="",children:e}){return r.jsx("div",{className:`nr-panel ${t}`,children:e})}const sQ=({className:t="h-4 w-4"})=>r.jsx("svg",{viewBox:"0 0 24 24",className:t,fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M5 12h14M13 5l7 7-7 7"})}),rQ=["All","Campus Life","Finances","Career","Visas","Housing","Well Being","Culture","Communication","City Life"],iQ=[{id:"p1",title:"The International Students Playbook for Week 1",excerpt:"From banking and transit cards to campus hacks  a concise, battle-tested checklist for your first seven days.",tag:"Campus Life",readTime:"7 min",author:{name:"Aryaveer Jain",avatar:R5},image:null,createdAt:"2025-07-02T10:00:00Z",popularity:98},{id:"p2",title:"Housing: What to check before signing a lease",excerpt:"Walkthrough of key clauses, inspection tips, and how to negotiate move-in dates without losing the deal.",tag:"Housing",readTime:"6 min",author:{name:"Henrik Hansen",avatar:D5},image:null,createdAt:"2025-07-28T20:00:00Z",popularity:86},{id:"p3",title:"F-1, OPT, and CPT explained like youre 5",excerpt:"Simple mental models for visa acronyms, timelines, and whats allowed at each stage.",tag:"Visas",readTime:"8 min",author:{name:"Yue Chen",avatar:$5},image:null,createdAt:"2025-08-05T14:00:00Z",popularity:92},{id:"p4",title:"Budgeting 101: stretch your stipend without pain",excerpt:"A 30-minute setup that saves hundreds: categories, caps, and automation for busy semesters.",tag:"Finances",readTime:"5 min",author:{name:"Aryaveer Jain",avatar:R5},image:null,createdAt:"2025-08-08T09:00:00Z",popularity:75},{id:"p5",title:"Networking for introverts: one email a week",excerpt:"A low-stress cadence and message template that turns cold reach-outs into warm chats.",tag:"Career",readTime:"6 min",author:{name:"Henrik Hansen",avatar:D5},image:null,createdAt:"2025-08-10T11:30:00Z",popularity:80},{id:"p6",title:"Cheap furniture finds near campus",excerpt:"How to kit a studio for <$300 using campus groups, thrift rotations, and delivery hacks.",tag:"City Life",readTime:"4 min",author:{name:"Yue Chen",avatar:$5},image:null,createdAt:"2025-08-12T16:00:00Z",popularity:77}],aQ=["#Housing","#Dorm essentials","#Buy/sell textbooks","#Part-time jobs","#Phone plans","#Banking","#F-1 visa","#I-20"];function oQ({post:t}){var n,s,i;const e=a=>{switch(a){case"Finances":return"nr-art-emerald";case"Housing":return"nr-art-amber";case"Visas":return"nr-art-sky";case"Career":return"nr-art-violet";case"City Life":case"Culture":return"nr-art-rose";case"Communication":return"nr-art-cyan";default:return"nr-art-amber"}};return r.jsxs(Zh,{className:"p-0 overflow-hidden group",children:[r.jsx("div",{className:"relative h-40 sm:h-44 w-full bg-gradient-to-br from-white/5 to-white/0",children:t.image?r.jsx("img",{src:t.image,alt:"",className:"h-full w-full object-cover"}):r.jsx("div",{className:`nr-card-art ${e(t.tag)}`})}),r.jsxs("div",{className:"p-5 sm:p-6",children:[r.jsx("div",{className:"mb-2",children:r.jsx("span",{className:"nr-chip text-xs",children:t.tag})}),r.jsx("a",{href:`/blogs/${t.id}`,className:"block",children:r.jsx("h3",{className:"text-[18px] font-semibold leading-snug hover:underline",children:t.title})}),r.jsx("p",{className:"mt-2 line-clamp-3 text-sm text-white/75",children:t.excerpt}),r.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("img",{src:(n=t.author)==null?void 0:n.avatar,alt:(s=t.author)==null?void 0:s.name,className:"h-7 w-7 rounded-full object-cover ring-1 ring-white/10"}),r.jsxs("div",{className:"text-xs text-white/70",children:[r.jsx("div",{className:"font-medium text-white/85",children:(i=t.author)==null?void 0:i.name}),r.jsx("div",{children:t.readTime})]})]}),r.jsxs("a",{href:`/blogs/${t.id}`,className:"inline-flex items-center gap-1 rounded-lg border border-white/15 bg-white/[0.04] px-2.5 py-1.5 text-xs text-white/85 hover:bg-white/10",children:["Read ",r.jsx(sQ,{className:"h-3.5 w-3.5"})]})]})]})]})}function lQ(){const[t,e]=p.useState(null),[n,s]=p.useState(""),[i,a]=p.useState("All"),[o,l]=p.useState("Newest"),[c,d]=p.useState(6),u=dt();p.useEffect(()=>{(async()=>{var g,b;try{const y=await ge.get("/get-user");(g=y==null?void 0:y.data)!=null&&g.user&&e(y.data.user)}catch(y){((b=y==null?void 0:y.response)==null?void 0:b.status)===401&&(localStorage.clear(),u("/login"))}})()},[u]);const h=p.useMemo(()=>{let g=iQ.slice();if(i&&i!=="All"&&(g=g.filter(b=>b.tag===i)),n.trim()){const b=n.toLowerCase();g=g.filter(y=>y.title.toLowerCase().includes(b)||y.excerpt.toLowerCase().includes(b)||y.tag.toLowerCase().includes(b))}return o==="Newest"?g.sort((b,y)=>new Date(y.createdAt)-new Date(b.createdAt)):o==="Popular"&&g.sort((b,y)=>(y.popularity||0)-(b.popularity||0)),g},[i,n,o]),m=h.slice(0,c),f=c<h.length,x=g=>{g.preventDefault()};return r.jsxs("div",{className:"nr-dots-page min-h-screen text-white",children:[r.jsx(ct,{userInfo:t}),r.jsx("div",{className:"nr-hero-bg",children:r.jsxs("section",{className:"mx-auto max-w-7xl px-4 pt-14 pb-10",children:[r.jsxs("div",{className:"mb-5 flex items-center justify-center gap-2 text-[11px]",children:[r.jsx("span",{className:"rounded-full border border-white/10 bg-white/5 px-2 py-1 text-white/70",children:"Student Q&A"}),r.jsx("span",{className:"rounded-full border border-white/10 bg-white/5 px-2 py-1 text-white/70",children:"Verified .edu accounts"})]}),r.jsxs("h1",{className:"mx-auto max-w-5xl text-center text-4xl font-black tracking-tight md:text-6xl",children:["Youve got questions?"," ",r.jsx("span",{className:"bg-gradient-to-r from-amber-400 via-amber-300 to-orange-500 bg-clip-text text-transparent",children:"Your campus"}),r.jsx("br",{className:"hidden md:block"})," ","has answers."]}),r.jsx("form",{onSubmit:x,className:"mx-auto mt-6 w-full max-w-4xl rounded-2xl border border-white/10 bg-white/[0.04] p-2",children:r.jsxs("div",{className:"flex items-center gap-2 rounded-xl bg-[#0f1115]/80 px-3 py-3 ring-1 ring-white/10",children:[r.jsx("span",{className:"text-white/40",children:""}),r.jsx("input",{value:n,onChange:g=>s(g.target.value),placeholder:'Try: "I-20", "cheap desk", "sublet near campus"',className:"w-full bg-transparent text-sm text-white/85 outline-none placeholder:text-white/40"}),r.jsx("button",{type:"submit",className:"rounded-full bg-white/10 px-3 py-1.5 text-sm text-white hover:bg-white/20",children:"Search"})]})}),r.jsxs("div",{className:"mx-auto mt-6 flex max-w-3xl flex-col items-center justify-center gap-3 sm:flex-row",children:[r.jsxs("a",{href:"#blog-grid",className:"inline-flex items-center gap-2 rounded-xl bg-gradient-to-r from-amber-500 to-orange-600 px-5 py-2.5 text-sm font-semibold text-black shadow-[0_8px_24px_rgba(255,153,0,.25)] hover:brightness-110",children:["Read guides ",r.jsx("span",{"aria-hidden":!0,children:""})]}),r.jsx("a",{href:"#filters",className:"inline-flex items-center gap-2 rounded-xl border border-white/20 bg-white/5 px-5 py-2.5 text-sm text-white/85 hover:bg-white/10",children:"Browse categories"})]}),r.jsx("div",{className:"mt-6 flex flex-wrap items-center justify-center gap-2",children:aQ.map(g=>r.jsx("span",{className:"nr-chip text-sm",children:g},g))})]})}),r.jsx("section",{id:"filters",className:"mx-auto max-w-7xl px-4 pt-8",children:r.jsx(Zh,{className:"overflow-hidden",children:r.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[r.jsx("div",{className:"flex items-center gap-2 overflow-x-auto pb-1",children:rQ.map(g=>{const b=g===i;return r.jsx("button",{onClick:()=>a(g),className:b?"nr-chip bg-white text-black border-white/90":"nr-chip hover:bg-white/10 hover:border-white/20",children:g},g)})}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-xs text-white/60",children:"Sort"}),r.jsxs("select",{value:o,onChange:g=>l(g.target.value),className:"rounded-lg border border-white/10 bg-white/[0.06] px-2 py-1.5 text-sm outline-none",children:[r.jsx("option",{children:"Newest"}),r.jsx("option",{children:"Popular"})]})]})]})})}),r.jsx("section",{id:"blog-grid",className:"mx-auto max-w-7xl px-4 pt-6 pb-14",children:m.length===0?r.jsxs(Zh,{className:"py-12 text-center",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"No posts found"}),r.jsx("p",{className:"mt-1 text-white/70",children:"Try a different category or broaden your search."})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"grid gap-5 sm:grid-cols-2 xl:grid-cols-3",children:m.map(g=>r.jsx(oQ,{post:g},g.id))}),f&&r.jsx("div",{className:"mt-8 grid place-items-center",children:r.jsx("button",{onClick:()=>d(g=>g+6),className:"rounded-xl bg-white/10 px-5 py-2 text-sm text-white hover:bg-white/15",children:"Load more"})})]})}),r.jsx("section",{className:"mx-auto max-w-7xl px-4 pb-12",children:r.jsxs(Zh,{className:"p-0 overflow-hidden",children:[r.jsxs("div",{className:"p-5 sm:p-6",children:[r.jsx("p",{className:"text-sm text-white/70",children:"NEWSLETTER"}),r.jsx("h5",{className:"mt-1 text-xl font-semibold",children:"Get the weekly campus brief"}),r.jsx("p",{className:"mt-1 text-white/70",children:"Visa alerts, housing deals, and career openings  straight to your inbox."}),r.jsxs("form",{onSubmit:g=>g.preventDefault(),className:"mt-4 flex flex-col gap-2 sm:flex-row",children:[r.jsx("input",{type:"email",placeholder:"Email address",className:"w-full rounded-xl border border-white/10 bg-white/[0.06] px-3 py-2 text-sm text-white outline-none placeholder:text-white/40 focus:border-amber-500"}),r.jsx("button",{type:"submit",className:"rounded-xl bg-gradient-to-r from-amber-500 to-orange-600 px-4 py-2 text-sm font-semibold text-black hover:brightness-110",children:"Subscribe"})]})]}),r.jsx("div",{className:"relative h-16",children:r.jsx("div",{className:"nr-ramp absolute inset-0 right-[-8%] bottom-[-40%]"})})]})}),r.jsx(ka,{})]})}const fl="nr_community_threads_v1";function Tl(){const t=localStorage.getItem(fl);if(t)return JSON.parse(t);const e=Date.now(),n=[{id:"t1",title:"I just got accepted! How do I apply for an I-20?",body:"I received my admission letter. What docs and timeline are typical for issuing the I-20? Any pitfalls to avoid?",tags:["visa","I-20","international"],school:"NIU",author:"@aryarox",votes:18,solved:!0,createdAt:e-1e3*60*60*24*3,answers:[{id:"a1",author:"@admitcoach",body:"Pay the I-20 processing fee (if applicable), upload your passport, bank statement (covering first year expenses), and affidavit of support. Typical issuance is 12 weeks. Common pitfall: mismatched name/order vs. passport.",votes:12,accepted:!0,createdAt:e-1e3*60*60*24*2},{id:"a2",author:"@intloffice",body:"Check your admit portal for the immigration checklist. If your bank doc isnt in English, provide a notarized translation. PDF only to avoid delays.",votes:7,accepted:!1,createdAt:e-1e3*60*60*24*2}]},{id:"t2",title:"How does my tourist visa affect F-1?",body:"I have a B1/B2 visa. Any impact when applying for F-1 at the consulate?",tags:["visa","F-1"],school:"UIC",author:"@hesen",votes:12,solved:!1,createdAt:e-1e3*60*60*24*4,answers:[{id:"a3",author:"@alumni",body:"No conflict. The officer checks non-immigrant intent. Bring ties to home country, admission letter, I-20, SEVIS receipt, and funding proofs.",votes:5,accepted:!1,createdAt:e-1e3*60*60*24*3}]},{id:"t3",title:"Tips for finding affordable housing near campus?",body:"Looking for <$900 near campus. What neighborhoods and filters do you recommend?",tags:["housing","budget"],school:"NIU",author:"@yuechen",votes:25,solved:!0,createdAt:e-1e3*60*60*24*1,answers:[{id:"a4",author:"@campusrealty",body:"Sort by walking distance (<1.5mi), filter furnished if you wont buy furniture, and set price alerts. Check roommate boards to split 2BRs.",votes:11,accepted:!0,createdAt:e-1e3*60*60*20}]}];return localStorage.setItem(fl,JSON.stringify(n)),n}async function cQ({q:t="",limit:e=20,school:n="",page:s=1}={}){try{const h={q:t,limit:e,page:s};n&&(h.school=n);const m=await ge.get("/community/threads",{params:h});if(m!=null&&m.data)return{items:m.data.items||[],pagination:m.data.pagination||null}}catch(h){console.log("Backend fetch failed, using local storage fallback:",h.message)}let a=Tl();if(n&&(a=a.filter(h=>h.school&&h.school.toLowerCase().includes(n.toLowerCase()))),t){const h=t.toLowerCase();a=a.filter(m=>m.title.toLowerCase().includes(h)||m.body.toLowerCase().includes(h)||m.tags.some(f=>f.toLowerCase().includes(h)))}const o=a.length,l=Math.ceil(o/e),c=(s-1)*e,d=c+e;return{items:a.slice(c,d),pagination:{currentPage:s,totalPages:l,totalItems:o,itemsPerPage:e,hasNextPage:s<l,hasPrevPage:s>1}}}async function dQ(t){var n;try{const s=await ge.get(`/community/threads/${t}`);if((n=s==null?void 0:s.data)!=null&&n.item)return s.data.item}catch(s){console.log("Backend fetch failed, using local storage fallback:",s.message)}return Tl().find(s=>s.id===t||s._id===t)||null}async function uQ({title:t,body:e,tags:n=[],school:s="",author:i="@you"}){var l;try{const c=await ge.post("/community/threads",{title:t,body:e,tags:n,school:s,author:i});if((l=c==null?void 0:c.data)!=null&&l.item)return c.data.item}catch{}const a=Tl(),o={id:"t"+Date.now(),title:t,body:e,tags:n,school:s,author:i,votes:0,solved:!1,createdAt:Date.now(),answers:[]};return a.unshift(o),localStorage.setItem(fl,JSON.stringify(a)),o}async function hQ(t,{body:e,author:n="@you"}){var o;try{const l=await ge.post(`/community/threads/${t}/answers`,{body:e,author:n});if((o=l==null?void 0:l.data)!=null&&o.item)return l.data.item}catch{}const s=Tl(),i=s.find(l=>l.id===t);if(!i)return null;const a={id:"a"+Date.now(),body:e,author:n,votes:0,accepted:!1,createdAt:Date.now()};return i.answers.push(a),localStorage.setItem(fl,JSON.stringify(s)),a}async function pQ(t,e){try{const i=await ge.post(`/community/threads/${t}/vote`,{type:e});if(i!=null&&i.data)return i.data}catch(i){console.error("Vote error:",i)}const n=Tl(),s=n.find(i=>i.id===t);return s?(e==="upvote"?s.upvotes=(s.upvotes||0)+1:e==="downvote"&&(s.downvotes=(s.downvotes||0)+1),s.votes=(s.upvotes||0)-(s.downvotes||0),localStorage.setItem(fl,JSON.stringify(n)),{upvotes:s.upvotes||0,downvotes:s.downvotes||0,votes:s.votes}):null}async function mQ(t){var e;try{console.log(" Bookmarking thread:",t);const n=await ge.post(`/community/threads/${t}/bookmark`);return console.log(" Bookmark success:",n.data),n.data}catch(n){throw console.error(" Bookmark error:",n),console.error(" Error response:",(e=n.response)==null?void 0:e.data),n}}async function fQ(t){var e;try{console.log(" Removing bookmark for thread:",t);const n=await ge.delete(`/community/threads/${t}/bookmark`);return console.log(" Remove bookmark success:",n.data),n.data}catch(n){throw console.error(" Remove bookmark error:",n),console.error(" Error response:",(e=n.response)==null?void 0:e.data),n}}async function gQ(t=1,e=20){try{return(await ge.get(`/community/bookmarks?page=${t}&limit=${e}`)).data}catch(n){throw console.error("Get bookmarks error:",n),n}}async function xQ(t){try{return(await ge.get(`/community/threads/${t}/bookmark-status`)).data}catch(e){return console.error("Check bookmark status error:",e),{isBookmarked:!1}}}async function vQ(t){try{return(await ge.get(`/community/threads/${t}/vote-status`)).data}catch(e){return console.error("Check vote status error:",e),{userVote:null,upvotes:0,downvotes:0,votes:0}}}async function yQ(t,e,n){try{return(await ge.post(`/community/threads/${t}/answers/${e}/vote`,{type:n})).data}catch(s){throw console.error("Vote answer error:",s),s}}async function bQ(t,e,n){try{return(await ge.post(`/community/threads/${t}/answers/${e}/reply`,{body:n})).data}catch(s){throw console.error("Add reply error:",s),s}}async function wQ(t,e){try{return(await ge.get(`/community/threads/${t}/answers/${e}/vote-status`)).data}catch(n){return console.error("Check answer vote status error:",n),{userVote:null,upvotes:0,downvotes:0,votes:0}}}async function jQ(t,e){var i;try{const a=await ge.post(`/community/threads/${t}/answers/${e}/accept`);if((i=a==null?void 0:a.data)!=null&&i.success)return!0}catch{}const n=Tl(),s=n.find(a=>a.id===t);return s?(s.answers=s.answers.map(a=>({...a,accepted:a.id===e})),s.solved=!0,localStorage.setItem(fl,JSON.stringify(n)),!0):null}const qe={list:cQ,get:dQ,addThread:uQ,addAnswer:hQ,voteThread:pQ,bookmarkThread:mQ,removeBookmark:fQ,getBookmarks:gQ,checkBookmarkStatus:xQ,checkVoteStatus:vQ,voteAnswer:yQ,addReply:bQ,checkAnswerVoteStatus:wQ,acceptAnswer:jQ,voteComment:async(t,e,n)=>{try{return(await ge.post(`/community/threads/${t}/comments/${e}/vote`,{type:n})).data}catch(s){throw console.error("Vote comment error:",s),s}},addAnswerComment:async(t,e,n)=>{try{return(await ge.post(`/community/threads/${t}/answers/${e}/comments`,{body:n})).data}catch(s){throw console.error("Add answer comment error:",s),s}},addCommentReply:async(t,e,n)=>{try{return(await ge.post(`/community/threads/${t}/comments/${e}/replies`,{body:n})).data}catch(s){throw console.error("Add comment reply error:",s),s}},replyToComment:async(t,e,n)=>{try{return(await ge.post(`/community/threads/${t}/comments/${e}/replies`,{body:n})).data}catch(s){throw console.error("Reply to comment error:",s),s}},deleteAnswer:async(t,e)=>{try{return(await ge.delete(`/community/threads/${t}/answers/${e}`)).data}catch(n){throw console.error("Delete answer error:",n),n}},deleteComment:async(t,e)=>{try{return(await ge.delete(`/community/threads/${t}/comments/${e}`)).data}catch(n){throw console.error("Delete comment error:",n),n}},deleteReply:async(t,e,n)=>{try{return(await ge.delete(`/community/threads/${t}/comments/${e}/replies/${n}`)).data}catch(s){throw console.error("Delete reply error:",s),s}}};function Oo(t){if(!t)return"";const e=new Date,n=new Date(t),s=e-n,i=Math.floor(s/1e3),a=Math.floor(i/60),o=Math.floor(a/60),l=Math.floor(o/24),c=Math.floor(l/30),d=Math.floor(l/365);return i<60?"just now":a<60?`${a}m ago`:o<24?`${o}h ago`:l<30?`${l}d ago`:c<12?`${c}mo ago`:`${d}y ago`}function NQ({university:t,playbooks:e=[],onViewAll:n,loading:s=!1}){return r.jsxs("section",{className:"rounded-2xl border border-white/10 bg-gradient-to-b from-white/[0.06] to-white/[0.03] p-5",children:[r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(PN,{className:"w-5 h-5 text-amber-400"}),r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Playbook Spotlight"})]}),r.jsxs("p",{className:"text-white/60 text-sm",children:["Seasonal guides to help you succeed at ",t]})]}),r.jsxs("div",{className:"space-y-3",children:[e.slice(0,2).map(i=>r.jsx(kQ,{title:i.title,description:i.description,successRate:i.successRate,icon:i.icon,href:i.href},i.id)),e.length===0&&r.jsxs("div",{className:"text-center py-6",children:[r.jsx(PN,{className:"w-8 h-8 text-white/30 mx-auto mb-2"}),r.jsx("p",{className:"text-white/60 text-sm",children:"No playbooks available right now"})]})]}),r.jsx("div",{className:"mt-4 pt-3 border-t border-white/10",children:r.jsxs("button",{onClick:n,className:"inline-flex items-center gap-2 text-sm text-white/70 hover:text-white transition-colors",children:["View all playbooks ",r.jsx(Qb,{className:"w-4 h-4"})]})})]})}function kQ({title:t,description:e,successRate:n,icon:s,href:i}){return r.jsx("a",{href:i,className:"block p-4 rounded-xl border border-white/10 bg-white/[0.03] hover:bg-white/[0.06] hover:border-white/20 transition-all group",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-lg bg-amber-500/10 border border-amber-500/20 flex items-center justify-center",children:r.jsx(s,{className:"w-4 h-4 text-amber-400"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h4",{className:"text-sm font-semibold text-white group-hover:text-white mb-1 line-clamp-1",children:t}),r.jsx("p",{className:"text-xs text-white/60 mb-2 line-clamp-2",children:e}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(jV,{className:"w-3 h-3 text-emerald-400"}),r.jsxs("span",{className:"text-xs text-emerald-400 font-medium",children:[n,"% success rate"]})]})]}),r.jsx(Qb,{className:"w-4 h-4 text-white/40 group-hover:text-white/60 transition-colors flex-shrink-0"})]})})}function i6({active:t,className:e="",...n}){const s=p.useId(),i=`nr-soft-glow-${String(s).replace(/[:]/g,"")}`;return r.jsxs("svg",{viewBox:"0 0 120 120",className:e,"aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",...n,children:[t&&r.jsx("defs",{children:r.jsxs("filter",{id:i,x:"-50%",y:"-50%",width:"200%",height:"200%",children:[r.jsx("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"3",result:"blur"}),r.jsxs("feMerge",{children:[r.jsx("feMergeNode",{in:"blur"}),r.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),r.jsx("polygon",{points:"98,109 60,88 22,109 22,12 98,12",fill:t?"#ff1200":"transparent",stroke:"#ff1200",strokeWidth:t?0:8,strokeLinejoin:"round",strokeLinecap:"round",shapeRendering:"geometricPrecision",style:{filter:t?`url(#${i}) drop-shadow(0 0 6px rgba(255,18,0,0.35))`:"none",transition:"filter 180ms ease, fill 180ms ease, stroke-width 180ms ease"}})]})}function a6(t){if(!t)return null;const e=t.toLowerCase().trim(),n={niu:"niu.edu","northern illinois university":"niu.edu",uic:"uic.edu","university of illinois chicago":"uic.edu",uiuc:"illinois.edu","university of illinois":"illinois.edu","university of illinois at urbana-champaign":"illinois.edu",northwestern:"northwestern.edu","northwestern university":"northwestern.edu",depaul:"depaul.edu","depaul university":"depaul.edu",loyola:"luc.edu","loyola university chicago":"luc.edu",iit:"iit.edu","illinois tech":"iit.edu","illinois institute of technology":"iit.edu",uchicago:"uchicago.edu","university of chicago":"uchicago.edu",stanford:"stanford.edu","stanford university":"stanford.edu",berkeley:"berkeley.edu","uc berkeley":"berkeley.edu","university of california berkeley":"berkeley.edu",ucla:"ucla.edu",usc:"usc.edu","university of southern california":"usc.edu",caltech:"caltech.edu","california institute of technology":"caltech.edu",mit:"mit.edu",harvard:"harvard.edu","harvard university":"harvard.edu","boston university":"bu.edu",bu:"bu.edu",northeastern:"northeastern.edu","northeastern university":"northeastern.edu","ut austin":"utexas.edu","university of texas":"utexas.edu","university of texas at austin":"utexas.edu","ut dallas":"utdallas.edu","university of texas at dallas":"utdallas.edu","texas a&m":"tamu.edu",nyu:"nyu.edu",columbia:"columbia.edu","columbia university":"columbia.edu",cornell:"cornell.edu","cornell university":"cornell.edu","penn state university":"psu.edu","penn state":"psu.edu",psu:"psu.edu","pennsylvania state university":"psu.edu","university of pennsylvania":"upenn.edu",upenn:"upenn.edu",penn:"upenn.edu"};if(n[e])return n[e];let s=e.replace(/university|college|of|the|at/gi," ").replace(/\s+/g," ").trim();if(s.includes("texas")&&s.includes("dallas"))return"utdallas.edu";const i=s.split(" ")[0];return i&&i.length>2?i+".edu":s.replace(/\s+/g,"")+".edu"}function F5(t,e=128){const n=a6(t);return n?`https://logo.clearbit.com/${n}?size=${e}`:null}async function SQ(t,e){if(!t)return null;try{const n=await e.get(`/university-branding/${encodeURIComponent(t)}`);if(n.data&&n.data.branding){const s=n.data.branding;return s.logoUrl||(s.logoUrl=F5(t)),s}}catch(n){console.error("Error fetching university branding:",n)}return{primary:"#2F64FF",secondary:"#FFA500",textColor:"#FFFFFF",name:t,logoUrl:F5(t),domain:a6(t)}}function CQ(t){const e=t.replace("#",""),n=parseInt(e.substr(0,2),16),s=parseInt(e.substr(2,2),16),i=parseInt(e.substr(4,2),16);return(.299*n+.587*s+.114*i)/255>.5?"#000000":"#FFFFFF"}const PQ=({isOpen:t,onClose:e,universityFilter:n,userInfo:s})=>{const[i,a]=p.useState([]),[o,l]=p.useState(!1),[c,d]=p.useState(""),[u,h]=p.useState(1),[m,f]=p.useState(null),[x,g]=p.useState(!1),[b,y]=p.useState({}),v=12;p.useEffect(()=>{t&&w()},[t,n,u]);const w=async()=>{l(!0);try{const S={limit:v,page:u,q:c};n==="my"&&(s!=null&&s.university)&&(S.school=s.university),console.log(" Loading all threads with params:",S);const E=await qe.list(S);E&&E.items?(a(E.items),f(E.pagination)):a(Array.isArray(E)?E:[])}catch(S){console.error("Error loading all threads:",S),a([])}finally{l(!1)}},N=async S=>{S.preventDefault(),h(1),g(!0);try{const E={limit:v,page:1,q:c.trim()};n==="my"&&(s!=null&&s.university)&&(E.school=s.university);const T=await qe.list(E);T&&T.items?(a(T.items),f(T.pagination)):a(Array.isArray(T)?T:[])}catch(E){console.error("Error searching threads:",E),a([])}finally{g(!1)}},j=S=>{S>=1&&S<=((m==null?void 0:m.totalPages)||1)&&h(S)},k=()=>{d(""),h(1),w()},P=async(S,E,T)=>{T.preventDefault(),T.stopPropagation();const W=`${S}_${E}`;if(!b[W]){y(F=>({...F,[W]:!0}));try{const F=await qe.voteThread(S,E);a(D=>D.map(A=>(A._id||A.id)===S?{...A,votes:F}:A))}catch(F){console.error("Error voting:",F)}finally{y(F=>({...F,[W]:!1}))}}};return t?r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:r.jsxs("div",{className:"relative w-full max-w-6xl max-h-[90vh] mx-4 bg-black/90 border border-white/10 rounded-2xl overflow-hidden",children:[r.jsxs("div",{className:"sticky top-0 z-10 bg-black/95 border-b border-white/10 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"All Community Questions"}),m&&r.jsxs("p",{className:"text-white/60 text-sm mt-1",children:[m.totalItems," questions  Page ",m.currentPage," of ",m.totalPages]})]}),r.jsx("button",{onClick:e,className:"p-2 rounded-full bg-white/5 hover:bg-white/10 transition-colors",children:r.jsx(xv,{className:"w-5 h-5 text-white/70"})})]}),r.jsx("form",{onSubmit:N,className:"relative",children:r.jsxs("div",{className:"relative",children:[r.jsx(Gh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-white/40"}),r.jsx("input",{type:"text",value:c,onChange:S=>d(S.target.value),placeholder:"Search all questions...",className:"w-full pl-10 pr-12 py-3 bg-white/5 border border-white/10 rounded-lg text-white placeholder:text-white/40 focus:outline-none focus:border-blue-500/50 focus:ring-2 focus:ring-blue-500/20"}),c&&r.jsx("button",{type:"button",onClick:k,className:"absolute right-3 top-1/2 transform -translate-y-1/2 p-1 rounded-full hover:bg-white/10 transition-colors",children:r.jsx(xv,{className:"w-3 h-3 text-white/60"})})]})})]}),r.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:o||x?r.jsxs("div",{className:"flex items-center justify-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),r.jsx("span",{className:"ml-3 text-white/60",children:x?"Searching...":"Loading questions..."})]}):i.length===0?r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-white/60",children:c?`No questions found for "${c}"`:"No questions available"})}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(S=>{var E;return r.jsxs(Ae,{to:`/community/thread/${S._id||S.id}`,onClick:e,className:"block p-4 bg-white/[0.02] border border-white/10 rounded-lg hover:bg-white/[0.04] hover:border-white/20 transition-all duration-200 group",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsx("div",{className:"flex-1 min-w-0",children:r.jsx("h3",{className:"font-semibold text-white text-sm line-clamp-2 group-hover:text-blue-400 transition-colors",children:S.title})}),S.solved&&r.jsx("div",{className:"ml-2 px-2 py-1 bg-green-500/20 text-green-400 text-xs rounded-full border border-green-500/30",children:"Solved"})]}),S.body&&r.jsx("p",{className:"text-white/60 text-xs mb-3 line-clamp-2",children:S.body}),r.jsx("div",{className:"flex items-center justify-between text-xs",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{onClick:T=>P(S._id||S.id,1,T),disabled:b[`${S._id||S.id}_1`],className:"p-1 rounded hover:bg-white/10 transition-colors group disabled:opacity-50",title:"Upvote",children:r.jsx("svg",{className:"w-3 h-3 text-white/60 group-hover:text-green-400 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})}),r.jsx("span",{className:"text-white/70 font-medium min-w-[1.5rem] text-center text-xs",children:S.votes||0}),r.jsx("button",{onClick:T=>P(S._id||S.id,-1,T),disabled:b[`${S._id||S.id}_-1`],className:"p-1 rounded hover:bg-white/10 transition-colors group disabled:opacity-50",title:"Downvote",children:r.jsx("svg",{className:"w-3 h-3 text-white/60 group-hover:text-red-400 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),r.jsxs("div",{className:"flex items-center gap-1 text-white/50",children:[r.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),r.jsx("span",{children:((E=S.answers)==null?void 0:E.length)||0})]}),S.school&&r.jsx("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-400 rounded-full border border-blue-500/30",children:S.school})]})}),r.jsxs("div",{className:"flex items-center justify-between mt-2 pt-2 border-t border-white/5",children:[r.jsx("span",{className:"text-white/40 text-xs",children:S.authorName||S.author||"@anonymous"}),r.jsx("span",{className:"text-white/40 text-xs",children:Oo(S.createdAt)})]}),S.tags&&S.tags.length>0&&r.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[S.tags.slice(0,3).map((T,W)=>r.jsx("span",{className:"px-2 py-1 bg-white/5 text-white/60 text-xs rounded-full border border-white/10",children:T},W)),S.tags.length>3&&r.jsxs("span",{className:"text-white/40 text-xs",children:["+",S.tags.length-3]})]})]},S._id||S.id)})})}),m&&m.totalPages>1&&r.jsx("div",{className:"sticky bottom-0 bg-black/95 border-t border-white/10 p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-white/60",children:["Showing ",(m.currentPage-1)*m.itemsPerPage+1," to"," ",Math.min(m.currentPage*m.itemsPerPage,m.totalItems)," of"," ",m.totalItems," questions"]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>j(m.currentPage-1),disabled:!m.hasPrevPage,className:"p-2 rounded-lg bg-white/5 hover:bg-white/10 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:r.jsx(MT,{className:"w-4 h-4 text-white/70"})}),r.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,m.totalPages)},(S,E)=>{let T;return m.totalPages<=5||m.currentPage<=3?T=E+1:m.currentPage>=m.totalPages-2?T=m.totalPages-4+E:T=m.currentPage-2+E,r.jsx("button",{onClick:()=>j(T),className:`px-3 py-1 rounded-lg text-sm transition-colors ${T===m.currentPage?"bg-blue-500 text-white":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:T},T)})}),r.jsx("button",{onClick:()=>j(m.currentPage+1),disabled:!m.hasNextPage,className:"p-2 rounded-lg bg-white/5 hover:bg-white/10 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:r.jsx(TT,{className:"w-4 h-4 text-white/70"})})]})]})})]})}):null};function z5({children:t}){return r.jsx("span",{className:"inline-flex items-center rounded-full border border-white/15 bg-white/[0.04] px-3 py-1 text-[11px] font-medium text-white/70",children:t})}function EQ({className:t="",children:e}){return r.jsx("div",{className:`nr-panel ${t}`,children:e})}function Kg({children:t}){return r.jsx("div",{className:"nr-iconTile",children:r.jsx("div",{className:"nr-iconTile-inner",children:t})})}const rh={Cap:()=>r.jsxs("svg",{width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",children:[r.jsx("path",{d:"M3 9l9-4 9 4-9 4-9-4Z",stroke:"currentColor",strokeWidth:"1.6"}),r.jsx("path",{d:"M7 11v4c0 1.1 2.7 2 6 2s6-.9 6-2v-4",stroke:"currentColor",strokeWidth:"1.6"})]}),Clock:()=>r.jsxs("svg",{width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",children:[r.jsx("circle",{cx:"12",cy:"12",r:"9",stroke:"currentColor",strokeWidth:"1.6"}),r.jsx("path",{d:"M12 6v6l4 2",stroke:"currentColor",strokeWidth:"1.6"})]}),Shield:()=>r.jsxs("svg",{width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",children:[r.jsx("path",{d:"M12 3 4 6v6c0 4.5 3.4 7.3 8 9 4.6-1.7 8-4.5 8-9V6l-8-3Z",stroke:"currentColor",strokeWidth:"1.6"}),r.jsx("path",{d:"M9 12l2 2 4-4",stroke:"currentColor",strokeWidth:"1.6"})]}),ArrowRight:()=>r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:r.jsx("path",{d:"M5 12h14M13 5l7 7-7 7",stroke:"currentColor",strokeWidth:"2"})})};function _Q(){const[t,e]=p.useState(null),[n,s]=p.useState(""),i=dt(),a=p.useRef(null),[o,l]=p.useState(!1),[c,d]=p.useState({title:"",body:"",tags:"",school:""}),[u,h]=p.useState(!1);p.useEffect(()=>{(async()=>{var se,je;try{const ve=await ge.get("/get-user");if((se=ve==null?void 0:ve.data)!=null&&se.user&&(e(ve.data.user),ve.data.user.university)){console.log("Fetching branding for:",ve.data.user.university);const Ie=await SQ(ve.data.user.university,ge);console.log("Branding received:",Ie),console.log("Logo URL:",Ie==null?void 0:Ie.logoUrl),Ie?(T(Ie),F(!1)):T({name:ve.data.user.university,primary:"#2F64FF",secondary:"#FFA500",textColor:"#FFFFFF",logoUrl:null})}}catch(ve){console.error("Error loading user or branding:",ve),((je=ve==null?void 0:ve.response)==null?void 0:je.status)===401&&(localStorage.clear(),i("/login"))}})()},[i]);const m=["F-1 visa","I-20","Affordable housing","Dorm essentials","Buy/sell textbooks","Part-time jobs","Phone plans","Banking"],[f,x]=p.useState([]),[g,b]=p.useState(!1),[y,v]=p.useState(!1),[w,N]=p.useState(!1),[j,k]=p.useState(""),[P,S]=p.useState("my"),[E,T]=p.useState(null),[W,F]=p.useState(!1),[D,A]=p.useState(1),[_,z]=p.useState(null),[I,M]=p.useState(!1),[$,O]=p.useState({}),[L,Y]=p.useState({}),[K,B]=p.useState(()=>new Set),[U,V]=p.useState({}),[G,X]=p.useState(!1),[oe,ne]=p.useState([]),[H,Z]=p.useState(!1),fe=p.useRef(null),[ce,de]=p.useState(""),[te,le]=p.useState(!1),[pe,Q]=p.useState("idle"),[we,be]=p.useState({topic:"",urgency:"medium",details:""}),[ee,ue]=p.useState([]),[C,q]=p.useState([]),re=6,J=se=>String((se==null?void 0:se._id)||(se==null?void 0:se.id)),ae=({page:se,limit:je,total:ve,itemsLen:Ie,raw:Ve})=>{if((Ve==null?void 0:Ve.totalPages)!=null)return{currentPage:Ve.currentPage??se,totalPages:Ve.totalPages,hasPrevPage:Ve.hasPrevPage??se>1,hasNextPage:Ve.hasNextPage??(Ve.currentPage??se)<Ve.totalPages};const De=ve?Math.max(1,Math.ceil(ve/je)):Math.max(1,Math.ceil((Ie||0)/je));return{currentPage:se,totalPages:De,hasPrevPage:se>1,hasNextPage:(Ie||0)>=je&&se<De}};f.filter(se=>K.has(J(se))).length;const Se=()=>{var se;return(se=a.current)==null?void 0:se.scrollIntoView({behavior:"smooth"})},Ee=se=>{if(!_)return;const je=Math.min(Math.max(1,se),_.totalPages);je!==D&&Nn(je)},Le=(se,je)=>{const ve=se.toLowerCase(),Ie=je.toLowerCase(),Ve={housing:["housing","apartment","rent","dorm","off-campus"],visa:["visa","immigration","f1","h1b","opt","cpt"],budget:["budget","money","finance","expenses","savings"],academic:["academic","courses","gpa","study","grades"],job:["job","career","internship","employment","interview"],social:["social","friends","activities","events","community"],health:["health","insurance","medical","wellness","mental-health"],transportation:["transportation","car","bus","uber","commute"]};let De=[];for(const[ut,Ts]of Object.entries(Ve))(ve.includes(ut)||Ie.includes(ut))&&(De=[...De,...Ts]);return(Ie.includes("help")||Ie.includes("advice"))&&De.push("help","advice"),(Ie.includes("experience")||Ie.includes("story"))&&De.push("experience","story"),(Ie.includes("urgent")||Ie.includes("asap"))&&De.push("urgent"),[...new Set(De)].slice(0,5)},Ze=async()=>{if(!we.topic.trim()){alert("Please enter a topic or question to get AI help!");return}le(!0),Q("generating");try{await new Promise(Ie=>setTimeout(Ie,2e3));const se=[`I'm looking for advice on ${we.topic}. Can anyone share their experience or recommendations?`,`Quick question about ${we.topic} - what worked best for you?`,`Need help with ${we.topic}. Any tips or resources you'd recommend?`,`Has anyone dealt with ${we.topic}? Looking for guidance on the best approach.`],je=se[Math.floor(Math.random()*se.length)];de(je);const ve=Le(we.topic,je);ue(ve),q(ve),Q("review")}catch(se){console.error("AI generation error:",se),Q("idle")}finally{le(!1)}},it=()=>{d(se=>({...se,title:ce})),Q("ready")},sn=()=>{Ze()},qt=()=>{d(se=>({...se,title:ce})),Zs()},bt=()=>{Q("idle"),de(""),be({topic:"",urgency:"medium",details:""}),ue([]),q([])},tt=se=>{C.includes(se)||q(je=>[...je,se])},Zt=se=>{q(je=>je.filter(ve=>ve!==se))},Mt=se=>{const je=se.trim().toLowerCase();je&&!C.includes(je)&&q(ve=>[...ve,je])},Xs=async se=>{se.preventDefault();const je=n.trim();N(!0);try{const ve={};if(P==="my"&&(t!=null&&t.university)&&(ve.school=t.university),!je){await Nn(1),k(""),A(1),z(Ve=>Ve&&{...Ve,currentPage:1});return}ve.q=je,ve.limit=re,ve.page=1;const Ie=await qe.list(ve);console.log("Search results for:",je,Ie),Ie&&Ie.items?(x(Ie.items),z(Ie.pagination),A(1)):(x(Array.isArray(Ie)?Ie:[]),z(null)),k(je)}catch(ve){console.error("Search error:",ve),x([])}finally{N(!1)}},Kn=async()=>{s(""),k(""),N(!0);try{const se={};P==="my"&&(t!=null&&t.university)&&(se.school=t.university);const je=await qe.list(se);x(Array.isArray(je)?je:[]),A(1),z(ve=>ve&&{...ve,currentPage:1}),b(!1)}catch(se){console.error("Error clearing search:",se)}finally{N(!1)}};p.useEffect(()=>{Nn()},[]),p.useEffect(()=>{A(1),z(null),Nn(1)},[P]),p.useEffect(()=>{const se=(t==null?void 0:t._id)||(t==null?void 0:t.userId);se&&(async()=>{var je;try{console.log(" Loading bookmarks for user:",se);const ve=await qe.getBookmarks();console.log(" Raw bookmark response:",ve);const Ve=(Array.isArray(ve==null?void 0:ve.bookmarks)?ve.bookmarks:Array.isArray(ve)?ve:[]).map(De=>{var ut;return typeof De=="string"?De:De.threadId?String(De.threadId):(ut=De.thread)!=null&&ut._id?String(De.thread._id):De.thread?String(De.thread):null}).filter(Boolean);console.log(" Loaded bookmark IDs:",Ve),console.log(" Setting bookmarkedIds to:",new Set(Ve)),B(new Set(Ve.map(String)))}catch(ve){console.error(" Load bookmarks failed:",((je=ve==null?void 0:ve.response)==null?void 0:je.data)||ve.message),B(new Set)}})()},[t==null?void 0:t._id,t==null?void 0:t.userId]);const Nn=async(se=1)=>{N(!0);try{const je={limit:re,page:se};P==="my"&&(t!=null&&t.university)&&(je.school=t.university),console.log(" Loading threads with params:",je);const ve=await qe.list(je);if(ve&&ve.items)console.log(" Loaded threads:",ve.items.length,"Pagination:",ve.pagination),x(ve.items),z(ae({page:se,limit:je.limit,total:ve.total??ve.count,itemsLen:ve.items.length,raw:ve.pagination})),A(se),t!=null&&t.userId&&Pe(ve.items);else{const Ie=Array.isArray(ve)?ve:[],Ve=(se-1)*re,De=Ie.slice(Ve,Ve+re);console.log(" Loaded threads (fallback):",Ie.length,"page:",se,"start:",Ve,"slice:",De.length),x(De),z(ae({page:se,limit:re,total:Ie.length,itemsLen:De.length})),A(se),t!=null&&t.userId&&Pe(De)}}catch(je){console.error("Error loading threads:",je),x([]),z(null)}finally{N(!1)}},Zs=()=>{l(!0),d({title:ce||"",body:"",tags:C.join(", "),school:(t==null?void 0:t.university)||""})},Za=async se=>{if(se.preventDefault(),!c.title.trim()||c.title.trim().length<6){alert("Title must be at least 6 characters");return}h(!0);try{const je=C.length>0?C:c.tags.split(",").map(Ie=>Ie.trim().toLowerCase()).filter(Boolean),ve=await qe.addThread({title:c.title.trim(),body:c.body.trim(),tags:je,school:c.school.trim()||(t==null?void 0:t.university)||"Unknown",author:(t==null?void 0:t.username)||"@anonymous"});l(!1),await Nn(),(ve!=null&&ve._id||ve!=null&&ve.id)&&i(`/community/thread/${ve._id||ve.id}`)}catch(je){console.error("Error posting question:",je),alert("Failed to post question. Please try again.")}finally{h(!1)}},Ms=async se=>{s(se),N(!0),k(se);try{const je={q:se};P==="my"&&(t!=null&&t.university)&&(je.school=t.university);const ve=await qe.list(je);console.log("Tag filter results for:",se,ve),x(Array.isArray(ve)?ve:[]),b(!0),setTimeout(()=>{const Ie=document.querySelector(".grid.gap-5");if(Ie){const Ve=Ie.getBoundingClientRect().top+window.pageYOffset-100;window.scrollTo({top:Ve,behavior:"smooth"})}},100)}catch(je){console.error("Tag filter error:",je),x([])}finally{N(!1)}},[Hr,R]=p.useState(""),[xe,ie]=p.useState(""),Pe=async se=>{try{const je=se.map(async Ve=>{const De=Ve._id||Ve.id,ut=await qe.checkVoteStatus(De);return{threadId:De,userVote:ut.userVote}}),ve=await Promise.all(je),Ie={};ve.forEach(({threadId:Ve,userVote:De})=>{De&&(Ie[Ve]=De)}),Y(Ve=>({...Ve,...Ie}))}catch(je){console.error("Load vote statuses error:",je)}},Ce=async(se,je,ve)=>{var De;ve.preventDefault(),ve.stopPropagation();const Ie=`${se}_${je}`;if($[Ie])return;if(L[se]===je){alert("You have already voted on this question!");return}O(ut=>({...ut,[Ie]:!0}));try{const ut=await qe.voteThread(se,je);Y(Ts=>({...Ts,[se]:je})),x(Ts=>Ts.map(Qs=>(Qs._id||Qs.id)===se?{...Qs,upvotes:ut.upvotes||0,downvotes:ut.downvotes||0,votes:ut.votes||0}:Qs))}catch(ut){console.error("Error voting:",ut),((De=ut.response)==null?void 0:De.status)===400&&alert(ut.response.data.message||"You have already voted on this question!")}finally{O(ut=>({...ut,[Ie]:!1}))}},Qt=async(se,je)=>{var Ve,De,ut,Ts,Qs;(Ve=je==null?void 0:je.preventDefault)==null||Ve.call(je),(De=je==null?void 0:je.stopPropagation)==null||De.call(je);const ve=String(se);if(!ve||ve==="undefined"||ve==="null"){console.error(" Invalid threadId:",ve),alert("Invalid thread ID. Please refresh the page and try again.");return}if(U[ve])return;V(cs=>({...cs,[ve]:!0}));const Ie=K.has(ve);B(cs=>{const qi=new Set(cs);return Ie?qi.delete(ve):qi.add(ve),qi});try{Ie?(await qe.removeBookmark(ve),console.log(" Bookmark removed successfully")):(await qe.bookmarkThread(ve),console.log(" Bookmark added successfully"))}catch(cs){const qi=(ut=cs==null?void 0:cs.response)==null?void 0:ut.status,ff=((Qs=(Ts=cs==null?void 0:cs.response)==null?void 0:Ts.data)==null?void 0:Qs.message)||"";Ie&&(qi===404||/not\s*bookmarked/i.test(ff))||!Ie&&(qi===409||/already\s*bookmarked/i.test(ff))?console.log(" Idempotent success - server already in desired state"):(B(rA=>{const gf=new Set(rA);return Ie?gf.add(ve):gf.delete(ve),gf}),console.error(" Bookmark toggle failed:",qi,ff),alert("Failed to update bookmark. Please try again."))}finally{V(cs=>({...cs,[ve]:!1}))}G&&await kn()},kn=async()=>{Z(!0);try{const se=await qe.getBookmarks(),je=Array.isArray(se==null?void 0:se.bookmarks)?se.bookmarks:[];if(je.length===0){ne([]);return}const ve=je.map(async De=>{var Ts;const ut=typeof De=="string"?De:De.threadId||((Ts=De.thread)==null?void 0:Ts._id);if(!ut)return null;try{return await qe.get(ut)}catch(Qs){return console.error(`Failed to fetch question ${ut}:`,Qs),null}}),Ve=(await Promise.all(ve)).filter(De=>De!==null);ne(Ve)}catch(se){console.error("Error fetching bookmarked questions:",se),ne([])}finally{Z(!1)}},In=async()=>{G||await kn(),X(!G)};return r.jsxs("div",{className:"nr-dots-page min-h-screen text-white",children:[r.jsx("style",{children:`
          .particle {
            position: absolute;
            border-radius: 50%;
            pointer-events: none;
            z-index: 100;
          }
          
          .particle::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: rgba(132, 0, 255, 0.2);
            border-radius: 50%;
            z-index: -1;
          }
        `}),r.jsx(ct,{userInfo:t}),r.jsx("section",{className:"nr-hero-bg",children:r.jsxs("div",{className:"mx-auto max-w-6xl px-4 pt-16 md:pt-20 pb-10",children:[(t==null?void 0:t.university)&&E&&r.jsx("div",{className:"mb-6 flex justify-center",children:r.jsxs("div",{className:"inline-flex items-center rounded-full border border-white/15 bg-white/[0.04] p-1 backdrop-blur-sm",children:[r.jsxs("button",{onClick:()=>S("my"),className:`rounded-full px-4 py-2 text-sm font-bold transition-all flex items-center gap-2.5 ${P==="my"?"shadow-lg":"text-white/70 hover:text-white hover:bg-white/5"}`,style:P==="my"?{backgroundColor:E.primary||"#2F64FF",color:E.textColor||CQ(E.primary||"#2F64FF")}:{},children:[E!=null&&E.logoUrl&&!W?r.jsx(r.Fragment,{children:r.jsx("img",{src:E.logoUrl,alt:E.name,className:"w-7 h-7 rounded-full object-cover border-2 border-white/30 shadow-md bg-white -ml-1",style:{display:"block"},crossOrigin:"anonymous",onError:se=>{console.error(" Logo failed to load:",E.logoUrl),console.error("Error event:",se),F(!0)},onLoad:se=>{console.log(" Logo loaded successfully:",E.logoUrl),console.log("Image dimensions:",se.target.naturalWidth,"x",se.target.naturalHeight)}})}):r.jsx("div",{className:"w-7 h-7 rounded-full bg-white/10 border-2 border-white/30 flex items-center justify-center text-[10px] font-bold -ml-1",children:((E==null?void 0:E.name)||(t==null?void 0:t.university)||"U").charAt(0).toUpperCase()}),r.jsx("span",{className:"whitespace-nowrap",children:(E==null?void 0:E.name)||(t==null?void 0:t.university)||"My University"})]}),r.jsx("button",{onClick:()=>S("all"),className:`rounded-full px-4 py-2 text-sm font-bold transition-all ${P==="all"?"bg-gradient-to-r from-amber-500 to-orange-600 text-black shadow-lg":"text-white/70 hover:text-white hover:bg-white/5"}`,children:"All Universities"})]})}),r.jsxs("div",{className:"mb-5 flex items-center justify-center gap-2 text-[11px]",children:[r.jsx("span",{className:"rounded-full border border-white/10 bg-white/5 px-2 py-1 text-white/70",children:"Student Q&A"}),r.jsx("span",{className:"rounded-full border border-white/10 bg-white/5 px-2 py-1 text-white/70",children:"Verified .edu accounts"}),P==="my"&&(t==null?void 0:t.university)&&E&&r.jsxs("span",{className:"rounded-full border px-2.5 py-1 font-semibold text-xs flex items-center gap-1.5",style:{borderColor:`${E.primary}80`,backgroundColor:`${E.primary}15`,color:E.textColor||"#fff"},children:[(E==null?void 0:E.logoUrl)&&!W&&r.jsx("img",{src:E.logoUrl,alt:"",className:"w-3.5 h-3.5 rounded-full object-cover bg-white",onError:se=>se.target.style.display="none"}),"Filtered: ",E.name]})]}),r.jsxs("h1",{className:"mx-auto max-w-5xl text-center text-4xl font-black tracking-tight md:text-6xl",children:["Youve got questions?"," ",r.jsx("span",{className:"bg-gradient-to-r from-amber-400 via-amber-300 to-orange-500 bg-clip-text text-transparent",children:"Your campus has answers."})]}),r.jsx("form",{onSubmit:Xs,className:"mx-auto mt-8 w-full max-w-3xl",children:r.jsx("div",{className:"rounded-2xl border border-white/10 bg-white/5/50 p-3 backdrop-blur-md",children:r.jsxs("div",{className:"flex items-center gap-3 rounded-xl border border-white/10 bg-[#101215] px-3 py-2.5",children:[r.jsx("span",{className:"text-white/50",children:""}),r.jsx("input",{value:n,onChange:se=>s(se.target.value),placeholder:'Try: "I-20", "cheap desk", "sublet near campus"',className:"flex-1 bg-transparent text-sm text-white/80 placeholder:text-white/40 focus:outline-none"}),n&&r.jsx("button",{type:"button",onClick:Kn,className:"text-white/50 hover:text-white/80 text-lg leading-none",title:"Clear search",children:""}),r.jsx("button",{type:"submit",disabled:w,className:"rounded-full bg-white/10 px-3 py-1.5 text-xs text-white/90 hover:bg-white/15 disabled:opacity-50",children:w?"Searching...":"Search"})]})})}),r.jsxs("div",{className:"mx-auto mt-6 flex max-w-3xl flex-col items-center justify-center gap-4 sm:flex-row",children:[r.jsxs("button",{onClick:Se,className:"inline-flex items-center gap-2 rounded-full bg-orange-500 px-5 py-2.5 text-sm font-semibold text-black shadow-[0_8px_24px_rgba(255,153,0,.25)] hover:bg-orange-400",children:["Ask a question ",r.jsx(rh.ArrowRight,{})]}),r.jsx("a",{href:"#guides",className:"inline-flex items-center gap-2 rounded-full border border-white/20 bg-white/5 px-5 py-2.5 text-sm text-white/85 hover:bg-white/10",children:"Browse guides"})]}),r.jsx("div",{className:"mx-auto mt-7 max-w-3xl",children:r.jsx("div",{className:"nr-marquee",style:{"--nr-gap":"10px","--nr-marquee-dur":"26s"},children:r.jsxs("div",{className:"nr-marquee-track",children:[m.map((se,je)=>r.jsxs("span",{className:"nr-chip cursor-pointer hover:bg-white/15",onClick:()=>Ms(se),children:["#",se]},`t1-${je}`)),m.map((se,je)=>r.jsxs("span",{className:"nr-chip cursor-pointer hover:bg-white/15","aria-hidden":!0,onClick:()=>Ms(se),children:["#",se]},`t2-${je}`))]})})})]})}),r.jsxs("section",{ref:a,className:"mx-auto max-w-7xl px-4 pt-6 pb-12",children:[r.jsxs("div",{className:"mb-6 text-center",children:[r.jsx(z5,{children:"WHY NEWRUN COMMUNITY"}),r.jsx("h2",{className:"mt-3 text-3xl font-black tracking-tight sm:text-[40px]",children:"The fastest way to get real answers from classmates."})]}),r.jsxs("div",{className:"grid gap-5 lg:grid-cols-12",ref:fe,children:[r.jsxs(th,{className:"nr-panel relative overflow-hidden lg:col-span-7",glowColor:"47, 100, 255",particleCount:12,enableTilt:!1,enableMagnetism:!1,clickEffect:!0,disableAnimations:!1,children:[r.jsx("div",{className:"mb-4",children:r.jsx("span",{className:"rounded-full border border-white/15 bg-white/[0.03] px-3 py-1 text-[11px] text-white/70",children:"Get help fast"})}),r.jsx("h3",{className:"max-w-xl text-[28px] font-extrabold leading-tight sm:text-[32px] bg-gradient-to-r from-white via-white to-white/90 bg-clip-text text-transparent",children:"Ask the community  and get a trustworthy answer."}),r.jsxs("p",{className:"mt-3 max-w-xl text-white/80 leading-relaxed",children:["Post your question with tags (e.g. ",r.jsx("span",{className:"text-blue-400 font-medium",children:"#visa"}),", ",r.jsx("span",{className:"text-green-400 font-medium",children:"#housing"}),", ",r.jsx("span",{className:"text-purple-400 font-medium",children:"#dorm"}),"). Verified students respond quickly, and the accepted answer is pinned on top."]}),r.jsxs("div",{className:"mt-6 group",children:[r.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/[0.04] p-2 transition-all duration-300 group-hover:border-white/20 group-hover:bg-white/[0.06]",children:[pe==="idle"&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-3 rounded-lg bg-[#0f1115]/80 px-4 py-3 ring-1 ring-white/10",children:[r.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-gradient-to-r from-blue-500/20 to-purple-500/20 border border-blue-500/30",children:r.jsx("svg",{className:"w-3 h-3 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),r.jsx("input",{value:we.topic,onChange:se=>be(je=>({...je,topic:se.target.value})),placeholder:"What do you need help with? (e.g., housing, visa, budget)",className:"flex-1 bg-transparent text-sm text-white/70 placeholder:text-white/50 outline-none transition-colors duration-300 focus:text-white/90"}),r.jsxs("button",{onClick:Ze,disabled:!we.topic.trim(),className:"flex items-center gap-1.5 rounded-full bg-gradient-to-r from-purple-500/20 to-blue-500/20 border border-purple-500/30 px-3 py-1.5 text-xs font-medium text-purple-300 hover:from-purple-500/30 hover:to-blue-500/30 hover:text-purple-200 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Draft with AI"]})]}),r.jsx("div",{className:"flex gap-2",children:r.jsx("button",{onClick:Zs,className:"rounded-full bg-gradient-to-r from-amber-500 to-orange-600 px-4 py-1.5 text-xs font-semibold text-black hover:from-amber-400 hover:to-orange-500 transition-all duration-300 shadow-lg hover:shadow-amber-500/25",children:"Ask Manually"})})]}),pe==="generating"&&r.jsxs("div",{className:"flex items-center gap-3 rounded-lg bg-[#0f1115]/80 px-4 py-3 ring-1 ring-white/10",children:[r.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-gradient-to-r from-purple-500/20 to-blue-500/20 border border-purple-500/30",children:r.jsx("div",{className:"w-3 h-3 border border-purple-400 border-t-transparent rounded-full animate-spin"})}),r.jsx("span",{className:"text-sm text-white/70",children:"AI is crafting your question..."})]}),pe==="review"&&r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"rounded-lg bg-[#0f1115]/80 px-4 py-3 ring-1 ring-white/10",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-gradient-to-r from-green-500/20 to-emerald-500/20 border border-green-500/30 mt-0.5",children:r.jsx("svg",{className:"w-3 h-3 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-xs text-white/60 mb-1",children:"AI Generated Question:"}),r.jsx("p",{className:"text-sm text-white/90",children:ce})]})]})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:it,className:"flex items-center gap-1.5 rounded-full bg-gradient-to-r from-green-500 to-emerald-600 px-4 py-1.5 text-xs font-semibold text-white hover:from-green-400 hover:to-emerald-500 transition-all duration-300 shadow-lg hover:shadow-green-500/25",children:[r.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Use This"]}),r.jsxs("button",{onClick:sn,className:"flex items-center gap-1.5 rounded-full bg-gradient-to-r from-purple-500/20 to-blue-500/20 border border-purple-500/30 px-3 py-1.5 text-xs font-medium text-purple-300 hover:from-purple-500/30 hover:to-blue-500/30 hover:text-purple-200 transition-all duration-300",children:[r.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Regenerate"]}),r.jsx("button",{onClick:qt,className:"rounded-full bg-gradient-to-r from-amber-500 to-orange-600 px-4 py-1.5 text-xs font-semibold text-black hover:from-amber-400 hover:to-orange-500 transition-all duration-300 shadow-lg hover:shadow-amber-500/25",children:"Ask Now"})]})]}),pe==="ready"&&r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"rounded-lg bg-[#0f1115]/80 px-4 py-3 ring-1 ring-green-500/30",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-gradient-to-r from-green-500/20 to-emerald-500/20 border border-green-500/30",children:r.jsx("svg",{className:"w-3 h-3 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),r.jsx("span",{className:"text-sm text-white/90",children:'Question ready! Click "Ask Now" to post.'})]})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>{d(se=>({...se,title:ce})),Zs()},className:"rounded-full bg-gradient-to-r from-amber-500 to-orange-600 px-4 py-1.5 text-xs font-semibold text-black hover:from-amber-400 hover:to-orange-500 transition-all duration-300 shadow-lg hover:shadow-amber-500/25",children:"Ask Now"}),r.jsx("button",{onClick:bt,className:"rounded-full bg-white/10 border border-white/20 px-4 py-1.5 text-xs font-medium text-white/70 hover:bg-white/20 hover:text-white/90 transition-all duration-300",children:"Start Over"})]})]})]}),r.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:[" Housing tips"," Visa help"," Budget advice"," Academic support"].map((se,je)=>r.jsx("button",{onClick:()=>{const ve=se.split(" ")[1].toLowerCase();s(ve),Ms(ve)},className:"text-xs px-3 py-1.5 rounded-full bg-white/[0.04] border border-white/10 text-white/60 hover:text-white/90 hover:bg-white/[0.08] hover:border-white/20 transition-all duration-300",children:se},je))})]}),r.jsx("div",{className:"nr-ramp","aria-hidden":!0})]}),r.jsxs("div",{className:"flex flex-col gap-5 lg:col-span-5",children:[r.jsxs(th,{className:"nr-panel flex items-start gap-4 p-5 sm:p-6",glowColor:"47, 100, 255",particleCount:12,enableTilt:!1,enableMagnetism:!1,clickEffect:!0,disableAnimations:!1,children:[r.jsx(Kg,{children:r.jsx(rh.Cap,{})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-[12px] font-semibold tracking-wide text-white/60",children:"VERIFIED STUDENTS"}),r.jsx("h4",{className:"mt-1 text-[18px] font-semibold",children:"Sign in with .edu"}),r.jsx("p",{className:"mt-1 text-white/75",children:"Buyers and sellers know they're dealing with real classmates."})]})]}),r.jsxs(th,{className:"nr-panel flex items-start gap-4 p-5 sm:p-6",glowColor:"47, 100, 255",particleCount:12,enableTilt:!1,enableMagnetism:!1,clickEffect:!0,disableAnimations:!1,children:[r.jsx(Kg,{children:r.jsx(rh.Clock,{})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-[12px] font-semibold tracking-wide text-white/60",children:"FAST ANSWERS"}),r.jsx("h4",{className:"mt-1 text-[18px] font-semibold",children:"Most questions solved in a day"}),r.jsx("p",{className:"mt-1 text-white/75",children:"Accepted answers float to the top so you can act quickly."})]})]}),r.jsxs(th,{className:"nr-panel flex items-start gap-4 p-5 sm:p-6",glowColor:"47, 100, 255",particleCount:12,enableTilt:!1,enableMagnetism:!1,clickEffect:!0,disableAnimations:!1,children:[r.jsx(Kg,{children:r.jsx(rh.Shield,{})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-[12px] font-semibold tracking-wide text-white/60",children:"SAFE & PRIVATE"}),r.jsx("h4",{className:"mt-1 text-[18px] font-semibold",children:"Share only what's needed"}),r.jsx("p",{className:"mt-1 text-white/75",children:"Post anonymously if you prefer; moderators keep things clean."})]})]})]})]}),r.jsx(CX,{gridRef:fe,disableAnimations:!1,enabled:!0,spotlightRadius:300,glowColor:"47, 100, 255"})]}),r.jsxs("section",{className:"mx-auto max-w-7xl px-4 pb-12",children:[r.jsxs("div",{className:"mb-4 flex items-end justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl font-bold tracking-tight",children:G?r.jsx(r.Fragment,{children:r.jsx("span",{className:"text-amber-400",children:"My Bookmarks"})}):j?r.jsxs(r.Fragment,{children:["Search results for ",r.jsxs("span",{className:"text-amber-400",children:['"',j,'"']})]}):"Latest questions"}),r.jsx("p",{className:"text-white/60",children:G?r.jsxs(r.Fragment,{children:[oe.length," ",oe.length===1?"bookmark":"bookmarks"," saved"]}):j?r.jsxs(r.Fragment,{children:[f.length," ",f.length===1?"result":"results"," found",r.jsx("button",{onClick:Kn,className:"ml-2 text-amber-400 hover:text-amber-300 underline",children:"Clear search"})]}):"Fresh threads from your campus and nearby schools."})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("button",{onClick:In,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-200 ${G?"bg-amber-500/20 text-amber-400 border border-amber-500/30":"bg-white/5 text-white/70 hover:bg-white/10 hover:text-white border border-white/10"}`,children:[r.jsx("svg",{className:"w-4 h-4",fill:G?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})}),G?"All Questions":"My Bookmarks"]}),_&&_.totalPages>1&&!G&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>Ee(D-1),disabled:!_.hasPrevPage||w,className:"p-2 rounded-lg bg-white/5 hover:bg-white/10 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:r.jsx("svg",{className:"w-4 h-4 text-white/70",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),r.jsxs("span",{className:"text-sm text-white/60",children:["Page ",_.currentPage," of ",_.totalPages]}),r.jsx("button",{onClick:()=>Ee(D+1),disabled:!_.hasNextPage||w,className:"p-2 rounded-lg bg-white/5 hover:bg-white/10 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:r.jsx("svg",{className:"w-4 h-4 text-white/70",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),r.jsx("button",{onClick:()=>M(!0),className:"rounded-xl border border-white/15 bg-white/[0.04] px-4 py-2 text-sm text-white/85 hover:bg-white/10 transition-colors",children:"View All Questions"})]})]}),w?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-white/20 border-t-amber-400"}),r.jsx("p",{className:"mt-3 text-white/60",children:"Searching..."})]})}):(G?oe.length===0:f.length===0)?r.jsx("div",{className:"nr-panel text-center py-12",children:r.jsx("p",{className:"text-white/60",children:j?r.jsxs(r.Fragment,{children:["No questions found matching ",r.jsxs("span",{className:"text-amber-400",children:['"',j,'"']}),r.jsx("br",{}),r.jsx("button",{onClick:Kn,className:"mt-3 text-amber-400 hover:text-amber-300 underline",children:"Clear search and show all questions"})]}):"No questions yet. Be the first to ask!"})}):H?r.jsx("div",{className:"nr-panel text-center py-12",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-white/20 border-t-amber-400"}),r.jsx("p",{className:"mt-3 text-white/60",children:"Loading your bookmarks..."})]})}):r.jsx("div",{className:"grid gap-5 sm:grid-cols-2 lg:grid-cols-3",children:(G?oe:f).map(se=>{var Ve;const je=J(se),ve=K.has(je),Ie=!!U[je];return r.jsxs("div",{className:"relative",children:[r.jsx("button",{onClick:De=>Qt(je,De),disabled:Ie,className:`absolute top-3 right-3 p-2 rounded-lg transition-all duration-200 disabled:opacity-50 z-10 ${ve?"bg-transparent text-red-500":"bg-transparent text-red-500 hover:bg-red-500/5"}`,title:ve?"Remove bookmark":"Bookmark question",children:r.jsx(i6,{active:ve,className:`w-6 h-6 ${Ie?"opacity-60":""}`})}),r.jsxs("a",{href:`/community/thread/${se._id||se.id}`,className:"nr-panel hover:bg-white/[0.08] transition block",children:[r.jsxs("div",{className:"pr-12",children:[r.jsxs("div",{className:"mb-2 flex items-center gap-2 text-[12px]",children:[r.jsx("span",{className:`rounded-full px-2 py-0.5 ${se.solved?"bg-emerald-500/15 text-emerald-300":"bg-white/10 text-white/75"}`,children:se.solved?"Solved":"Open"}),r.jsx("span",{className:"text-white/50",children:""}),r.jsx("span",{className:"text-white/70",children:se.school})]}),r.jsx("h4",{className:"text-[17px] font-semibold leading-snug",children:se.title}),r.jsxs("p",{className:"mt-1 text-sm text-white/60",children:["Asked by ",se.authorName||se.author,r.jsx("span",{className:"mx-1.5",children:""}),Oo(se.createdAt||se.updatedAt)]})]}),r.jsx("div",{className:"mt-4 flex items-center justify-between text-[12px]",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{onClick:De=>Ce(se._id||se.id,"upvote",De),disabled:$[`${se._id||se.id}_upvote`]||L[se._id||se.id]==="downvote",className:`p-1 rounded transition-colors group disabled:opacity-50 ${L[se._id||se.id]==="upvote"?"bg-green-500/20 text-green-400":"hover:bg-white/10"}`,title:L[se._id||se.id]==="upvote"?"You upvoted this":"Upvote",children:r.jsx("svg",{className:`w-4 h-4 transition-colors ${L[se._id||se.id]==="upvote"?"text-green-400":"text-white/60 group-hover:text-green-400"}`,fill:L[se._id||se.id]==="upvote"?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})}),r.jsx("span",{className:"text-green-400 font-medium text-xs min-w-[1.5rem] text-center",children:se.upvotes||0})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{onClick:De=>Ce(se._id||se.id,"downvote",De),disabled:$[`${se._id||se.id}_downvote`]||L[se._id||se.id]==="upvote",className:`p-1 rounded transition-colors group disabled:opacity-50 ${L[se._id||se.id]==="downvote"?"bg-red-500/20 text-red-400":"hover:bg-white/10"}`,title:L[se._id||se.id]==="downvote"?"You downvoted this":"Downvote",children:r.jsx("svg",{className:`w-4 h-4 transition-colors ${L[se._id||se.id]==="downvote"?"text-red-400":"text-white/60 group-hover:text-red-400"}`,fill:L[se._id||se.id]==="downvote"?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}),r.jsx("span",{className:"text-red-400 font-medium text-xs min-w-[1.5rem] text-center",children:se.downvotes||0})]})]}),r.jsxs("div",{className:"flex items-center gap-1 text-white/60",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),r.jsxs("span",{children:[((Ve=se.answers)==null?void 0:Ve.length)||0," answers"]})]})]})})]})]},je)})})]}),r.jsx("section",{id:"guides",className:"mx-auto max-w-7xl px-4 pb-16",children:r.jsxs("div",{className:"grid gap-5 lg:grid-cols-12",children:[r.jsxs(EQ,{className:"lg:col-span-7",children:[r.jsx("div",{className:"mb-3",children:r.jsx(z5,{children:"PLAYBOOKS"})}),r.jsx("h3",{className:"text-xl font-semibold",children:"Quick guides to save time & money"}),r.jsxs("ul",{className:"mt-3 grid gap-2 text-white/80 sm:grid-cols-2",children:[r.jsx("li",{className:"rounded-lg border border-white/10 bg-white/[0.04] px-3 py-2",children:r.jsx("a",{href:"/marketplace?category=furniture&maxPrice=300",className:"block",children:"Furnish a room under $300  opens Marketplace: Furniture"})}),r.jsx("li",{className:"rounded-lg border border-white/10 bg-white/[0.04] px-3 py-2",children:r.jsx("a",{href:"/marketplace?category=dorm-essentials",className:"block",children:"Move-in day toolkit  links to Dorm essentials"})}),r.jsx("li",{className:"rounded-lg border border-white/10 bg-white/[0.04] px-3 py-2",children:r.jsx("a",{href:"/marketplace/sell",className:"block",children:"Sell everything in 48h  prefilled sell flow"})}),r.jsx("li",{onClick:()=>{s("visa I-20"),Ms("visa")},className:"rounded-lg border border-white/10 bg-white/[0.04] px-3 py-2 cursor-pointer",children:"Visa docs checklist (I-20 / F-1)  community thread template"})]})]}),r.jsx("div",{className:"lg:col-span-5",children:r.jsx(NQ,{university:(E==null?void 0:E.name)||"Northern Illinois University",playbooks:[{id:"movein",title:"Move-in week checklist",description:"Complete your setup in 3 days with our proven step-by-step guide",successRate:89,icon:_V,href:"/playbooks/move-in"},{id:"visa",title:"Visa timeline tracker",description:"Never miss a deadline with automated reminders and document checklists",successRate:94,icon:wV,href:"/playbooks/visa-timeline"}],onViewAll:()=>i("/playbooks")})})]})}),r.jsx(ka,{}),o&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:r.jsxs("div",{className:"nr-panel max-w-2xl w-full max-h-[90vh] overflow-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-5",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Ask the Community"}),r.jsx("button",{onClick:()=>l(!1),className:"text-white/60 hover:text-white text-2xl leading-none",children:""})]}),r.jsxs("form",{onSubmit:Za,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-white/80 mb-2",children:["Question Title ",r.jsx("span",{className:"text-red-400",children:"*"})]}),r.jsx("input",{type:"text",value:c.title,onChange:se=>d({...c,title:se.target.value}),placeholder:"e.g., How do I apply for an I-20 at NIU?",required:!0,minLength:6,className:"w-full rounded-xl border border-white/10 bg-white/[0.06] px-4 py-3 text-white placeholder:text-white/40 outline-none focus:border-amber-400"}),r.jsx("p",{className:"mt-1 text-xs text-white/50",children:"Minimum 6 characters"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Details (optional)"}),r.jsx("textarea",{value:c.body,onChange:se=>d({...c,body:se.target.value}),placeholder:"Add more context, what you've tried, specific requirements, etc.",rows:5,className:"w-full rounded-xl border border-white/10 bg-white/[0.06] px-4 py-3 text-white placeholder:text-white/40 outline-none focus:border-amber-400 resize-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Tags"}),C.length>0&&r.jsx("div",{className:"mb-3",children:r.jsx("div",{className:"flex flex-wrap gap-2",children:C.map((se,je)=>r.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full bg-gradient-to-r from-blue-500/20 to-purple-500/20 border border-blue-500/30 text-sm text-blue-300",children:["#",se,r.jsx("button",{type:"button",onClick:()=>Zt(se),className:"ml-1 hover:bg-white/10 rounded-full p-0.5 transition-colors",children:r.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},je))})}),ee.length>0&&r.jsxs("div",{className:"mb-3",children:[r.jsx("p",{className:"text-xs text-white/60 mb-2",children:"Suggested tags:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:ee.filter(se=>!C.includes(se)).map((se,je)=>r.jsxs("button",{type:"button",onClick:()=>tt(se),className:"px-3 py-1.5 rounded-full bg-white/5 border border-white/20 text-sm text-white/70 hover:bg-white/10 hover:text-white/90 transition-colors",children:["+ #",se]},je))})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",placeholder:"Add custom tag...",className:"w-full rounded-xl border border-white/10 bg-white/[0.06] px-4 py-3 text-white placeholder:text-white/40 outline-none focus:border-amber-400",onKeyPress:se=>{se.key==="Enter"&&(se.preventDefault(),Mt(se.target.value),se.target.value="")}}),r.jsx("p",{className:"mt-1 text-xs text-white/50",children:"Press Enter to add custom tags"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"School"}),r.jsx("input",{type:"text",value:c.school,onChange:se=>d({...c,school:se.target.value}),placeholder:"e.g., NIU, UIC",className:"w-full rounded-xl border border-white/10 bg-white/[0.06] px-4 py-3 text-white placeholder:text-white/40 outline-none focus:border-amber-400"})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>l(!1),className:"flex-1 rounded-xl border border-white/20 bg-white/5 px-4 py-3 text-sm font-semibold text-white hover:bg-white/10",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:u,className:"flex-1 rounded-xl bg-gradient-to-r from-amber-500 to-orange-600 px-4 py-3 text-sm font-semibold text-black hover:brightness-110 disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Posting...":"Post Question"})]})]})]})}),r.jsx(PQ,{isOpen:I,onClose:()=>M(!1),universityFilter:P,userInfo:t})]})}function MQ(t){const e=(t&&(t.userId||t._id)||"").toString(),[n,s]=p.useState(()=>new Set),[i,a]=p.useState({}),o=p.useRef(!1);p.useEffect(()=>{if(!e){s(new Set),o.current=!1;return}o.current||(async()=>{try{const c=await qe.getBookmarks(),d=Array.isArray(c==null?void 0:c.bookmarks)?c.bookmarks.map(u=>{var h,m;return typeof u=="string"?u:String((u==null?void 0:u.threadId)||((h=u==null?void 0:u.thread)==null?void 0:h._id)||((m=u==null?void 0:u.thread)==null?void 0:m.id)||(u==null?void 0:u._id)||"")}).filter(Boolean):[];s(new Set(d)),o.current=!0}catch{s(new Set),o.current=!0}})()},[e]);const l=p.useCallback(async(c,d)=>{var m,f,x,g,b;(m=d==null?void 0:d.preventDefault)==null||m.call(d),(f=d==null?void 0:d.stopPropagation)==null||f.call(d);const u=String(c||"");if(!u||u==="undefined"||u==="null"||i[u])return;a(y=>({...y,[u]:!0}));const h=n.has(u);s(y=>{const v=new Set(y);return h?v.delete(u):v.add(u),v});try{h?await qe.removeBookmark(u):await qe.bookmarkThread(u)}catch(y){const v=(x=y==null?void 0:y.response)==null?void 0:x.status,w=((b=(g=y==null?void 0:y.response)==null?void 0:g.data)==null?void 0:b.message)||"";h&&(v===404||/not\s*bookmarked/i.test(w))||!h&&(v===409||/already\s*bookmarked/i.test(w))||s(j=>{const k=new Set(j);return h?k.add(u):k.delete(u),k})}finally{a(y=>({...y,[u]:!1}))}},[n,i]);return p.useMemo(()=>({bookmarkedIds:n,bookmarkInFlight:i,toggleBookmark:l}),[n,i,l])}function o6({comments:t,thread:e,timeAgo:n,depth:s=0,maxDepth:i=2,onVote:a,onReply:o,showCommentForm:l,commentText:c,setCommentText:d,onDeleteComment:u,onDeleteReply:h,userInfo:m}){return s>=i?r.jsxs("div",{className:"mt-3 p-3 bg-amber-500/10 border border-amber-500/20 rounded-lg",children:[r.jsx("p",{className:"text-sm text-amber-300",children:" This discussion is getting deep! Consider starting a new thread for this topic."}),r.jsx("button",{className:"mt-2 text-xs text-amber-400 hover:text-amber-300 underline",children:"Continue in a new thread "})]}):r.jsx("div",{className:"space-y-3",children:t.map((f,x)=>{var y;const g=x===t.length-1,b=s===0?"ml-0":s===1?"ml-4":"ml-8";return r.jsxs("div",{className:`${b} relative`,children:[s>0&&r.jsxs("div",{className:"absolute -left-4 top-0 w-4 h-4 flex items-center justify-center",children:[!g&&r.jsx("span",{className:"absolute left-[6px] top-0 bottom-0 w-px bg-white/12","aria-hidden":!0}),r.jsx("span",{className:"absolute left-[6px] top-[12px] w-2 h-2 border-l border-b border-white/25 rounded-bl-sm","aria-hidden":!0})]}),r.jsxs("div",{className:"bg-white/[0.02] border border-white/8 rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.authorId&&f.authorId&&String(e.authorId)===String(f.authorId)&&r.jsx("span",{className:"inline-flex items-center gap-1 rounded-full bg-blue-500/15 px-2 py-0.5 text-[10px] font-semibold text-blue-300",children:"OP"}),r.jsx("span",{className:"text-xs font-medium text-white/80",children:f.authorName||f.author}),r.jsx("span",{className:"text-xs text-white/50",children:""}),r.jsx("span",{className:"text-xs text-white/50",children:n(f.createdAt)}),s>0&&r.jsx("span",{className:"text-xs text-white/40",children:s===1?"Comment":"Reply"})]}),r.jsx("div",{className:"text-sm text-white/85 whitespace-pre-wrap mb-3",children:f.body}),r.jsxs("div",{className:"flex items-center gap-3",children:[s===0&&r.jsx(r.Fragment,{children:r.jsxs("button",{onClick:()=>a&&a(f._id||f.id,"upvote"),className:"flex items-center gap-1 text-xs text-white/60 hover:text-white/80 transition-colors",children:[r.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}),f.votesLight||0]})}),s<i-1&&r.jsx("button",{onClick:()=>o&&o(f._id||f.id),className:"text-xs text-white/60 hover:text-white/80 transition-colors",children:"Reply"}),m&&f.authorId&&String(f.authorId)===String(m._id||m.userId)&&r.jsx("button",{onClick:()=>u&&u(f._id||f.id),className:"text-xs text-red-400 hover:text-red-300 transition-colors",title:"Delete this comment",children:"Delete"}),r.jsx("button",{className:"text-xs text-white/40 hover:text-white/60 transition-colors",children:"Report"})]}),l&&l[f._id||f.id]&&r.jsxs("div",{className:"mt-3 p-3 bg-white/[0.02] border border-white/10 rounded-lg",children:[r.jsx("textarea",{value:c[f._id||f.id]||"",onChange:v=>d(w=>({...w,[f._id||f.id]:v.target.value})),placeholder:"Write a reply...",rows:2,className:"w-full bg-white/[0.03] border border-white/10 rounded px-2 py-1 text-sm text-white placeholder:text-white/40 outline-none focus:border-amber-400 resize-none"}),r.jsxs("div",{className:"mt-2 flex justify-end gap-2",children:[r.jsx("button",{onClick:()=>o&&o(f._id||f.id),className:"px-2 py-1 text-xs text-white/60 hover:text-white/90 transition-colors",children:"Cancel"}),r.jsx("button",{onClick:()=>o&&o(f._id||f.id,"submit"),disabled:!((y=c[f._id||f.id])!=null&&y.trim()),className:"px-2 py-1 text-xs bg-amber-500/20 text-amber-300 rounded hover:bg-amber-500/30 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Post Reply"})]})]}),f.replies&&f.replies.length>0&&r.jsx("div",{className:"mt-3",children:r.jsx(o6,{comments:f.replies,thread:e,timeAgo:n,depth:s+1,maxDepth:i,onVote:a,onReply:o,showCommentForm:l,commentText:c,setCommentText:d,onDeleteComment:u,onDeleteReply:h,userInfo:m})})]})]},f._id||f.id||x)})})}function TQ(){const{id:t}=Hb(),[e,n]=p.useState(null),[s,i]=p.useState(!0),[a,o]=p.useState(""),[l,c]=p.useState(null),[d,u]=p.useState(!1),[h,m]=p.useState({}),[f,x]=p.useState({}),{bookmarkedIds:g,bookmarkInFlight:b,toggleBookmark:y}=MQ(l),[v,w]=p.useState({}),[N,j]=p.useState({}),[k,P]=p.useState({}),[S,E]=p.useState({}),[T,W]=p.useState({}),[F,D]=p.useState([]),[A,_]=p.useState(!1);p.useEffect(()=>{(async()=>{var H;try{const Z=await ge.get("/get-user");(H=Z==null?void 0:Z.data)!=null&&H.user&&c(Z.data.user)}catch(Z){console.error("Error loading user info:",Z)}})()},[]),p.useEffect(()=>{async function H(){i(!0);try{const Z=await qe.get(t),fe=String(Z._id||Z.id||t);if(n({...Z,_canonicalId:fe}),!!(l!=null&&l._id||l!=null&&l.userId)){const de=await qe.checkVoteStatus(t);de.userVote&&m(te=>({...te,[fe]:de.userVote}))}z(Z)}catch(Z){console.error("Error fetching thread:",Z),n(null)}finally{i(!1)}}H()},[t,l==null?void 0:l._id,l==null?void 0:l.userId]),p.useEffect(()=>{!e&&!s&&z()},[e,s]);const z=async H=>{_(!0);try{const Z=[{_id:"mock1",title:"How to apply for OPT after graduation?",answers:[{},{},{}],upvotes:15,createdAt:new Date(Date.now()-1728e5),solved:!0,school:"Northern Illinois University"},{_id:"mock2",title:"Best places to find housing near campus",answers:[{},{}],upvotes:8,createdAt:new Date(Date.now()-432e6),solved:!1,school:"Northern Illinois University"},{_id:"mock3",title:"Visa renewal process timeline and documents needed",answers:[{},{},{},{}],upvotes:22,createdAt:new Date(Date.now()-864e5),solved:!0,school:"Northern Illinois University"},{_id:"mock4",title:"How to get a social security number as international student?",answers:[{}],upvotes:5,createdAt:new Date(Date.now()-2592e5),solved:!1,school:"Northern Illinois University"},{_id:"mock5",title:"Part-time job opportunities on campus",answers:[{},{},{}],upvotes:12,createdAt:new Date(Date.now()-6048e5),solved:!0,school:"Northern Illinois University"}];await new Promise(fe=>setTimeout(fe,300)),console.log("Setting mock related questions:",Z),D(Z)}catch(Z){console.error("Error fetching related questions:",Z),D([])}finally{_(!1)}},I=async H=>{if(H.preventDefault(),!a.trim())return;const Z=e._canonicalId||String(e._id||e.id);await qe.addAnswer(Z,{body:a.trim(),author:(l==null?void 0:l.username)||"@anonymous"}),o("");const fe=await qe.get(t);n({...fe,_canonicalId:Z})},M=async H=>{var ce;if(d)return;const Z=e._canonicalId||String(e._id||e.id);if(h[Z]===H){alert("You have already voted on this question!");return}u(!0);try{const de=await qe.voteThread(Z,H);de&&(m(te=>({...te,[Z]:H})),n(te=>({...te,upvotes:de.upvotes||0,downvotes:de.downvotes||0,votes:de.votes||0})))}catch(de){console.error("Vote error:",de),((ce=de.response)==null?void 0:ce.status)===400&&alert(de.response.data.message||"You have already voted on this question!")}finally{u(!1)}},$=async(H,Z)=>{var fe;try{const ce=e._canonicalId||String(e._id||e.id),de=await qe.voteAnswer(ce,H,Z);de&&(x(te=>({...te,[H]:Z})),n(te=>({...te,answers:te.answers.map(le=>(le._id||le.id)===H?{...le,upvotes:de.upvotes||0,downvotes:de.downvotes||0,votes:de.votes||0,isBestAnswer:de.isBestAnswer||!1}:le)})))}catch(ce){console.error("Answer vote error:",ce),((fe=ce.response)==null?void 0:fe.status)===400&&alert(ce.response.data.message||"You have already voted on this answer!")}},O=async H=>{var ce,de,te,le;const Z=N[H];if(!Z||!Z.trim())return;if(!l){alert("Please log in to post a reply.");return}const fe=localStorage.getItem("accessToken")||localStorage.getItem("token")||localStorage.getItem("userToken");if(!fe){alert("Authentication token not found. Please log in again.");return}console.log(" Auth token found:",fe.substring(0,20)+"...");try{const pe=e._canonicalId||String(e._id||e.id);console.log(" Posting reply:",{tid:pe,answerId:H,replyBody:Z.substring(0,50)+"..."});const Q=await qe.addReply(pe,H,Z);if(console.log(" Reply result:",Q),Q.success){j(be=>({...be,[H]:""})),w(be=>({...be,[H]:!1}));const we=await qe.get(t);n({...we,_canonicalId:pe})}else console.error(" Reply failed - no success:",Q),alert("Failed to post reply. Please try again.")}catch(pe){console.error(" Reply error:",pe),console.error(" Error response:",(ce=pe.response)==null?void 0:ce.data),console.error(" Error status:",(de=pe.response)==null?void 0:de.status),((te=pe.response)==null?void 0:te.status)===401?alert("Please log in to post a reply."):((le=pe.response)==null?void 0:le.status)===400?alert(pe.response.data.message||"Invalid request. Please try again."):alert("Failed to post reply. Please try again.")}},L=H=>{w(Z=>({...Z,[H]:!Z[H]}))},Y=H=>{P(Z=>({...Z,[H]:!Z[H]}))},K=async(H,Z)=>{try{const fe=e._canonicalId||String(e._id||e.id);await qe.voteComment(fe,H,Z)&&W(de=>({...de,[H]:Z}))}catch(fe){console.error("Comment vote error:",fe),W(ce=>({...ce,[H]:Z}))}},B=async(H,Z="toggle")=>{var fe,ce,de,te;if(Z==="toggle"){Y(H);return}if(Z==="submit"){const le=S[H];if(!(le!=null&&le.trim()))return;if(!l){alert("Please log in to post a reply.");return}try{const pe=e._canonicalId||String(e._id||e.id);console.log(" Posting comment reply:",{tid:pe,commentId:H,text:le.substring(0,50)+"..."});const Q=await qe.replyToComment(pe,H,le.trim());if(Q.success){E(be=>({...be,[H]:""})),P(be=>({...be,[H]:!1}));const we=await qe.get(t);n({...we,_canonicalId:pe})}else alert(Q.message||"Failed to post reply. Please try again.")}catch(pe){console.error(" Comment submit error:",pe),console.error(" Error response:",(fe=pe.response)==null?void 0:fe.data),console.error(" Error status:",(ce=pe.response)==null?void 0:ce.status),((de=pe.response)==null?void 0:de.status)===401?alert("Please log in to post a reply."):((te=pe.response)==null?void 0:te.status)===400?alert(pe.response.data.message||"Invalid request. Please try again."):alert("Failed to post reply. Please try again.")}}},U=y,V=async H=>{var Z;if(window.confirm("Are you sure you want to delete this answer? This action cannot be undone."))try{const fe=e._canonicalId||String(e._id||e.id);if((await qe.deleteAnswer(fe,H)).success){const de=await qe.get(t);n({...de,_canonicalId:fe})}else alert("Failed to delete answer. Please try again.")}catch(fe){console.error("Delete answer error:",fe),((Z=fe.response)==null?void 0:Z.status)===403?alert("You can only delete your own answers."):alert("Failed to delete answer. Please try again.")}},G=async H=>{var Z;if(window.confirm("Are you sure you want to delete this comment? This action cannot be undone."))try{const fe=e._canonicalId||String(e._id||e.id);if((await qe.deleteComment(fe,H)).success){const de=await qe.get(t);n({...de,_canonicalId:fe})}else alert("Failed to delete comment. Please try again.")}catch(fe){console.error("Delete comment error:",fe),((Z=fe.response)==null?void 0:Z.status)===403?alert("You can only delete your own comments."):alert("Failed to delete comment. Please try again.")}},X=async(H,Z)=>{var fe;if(window.confirm("Are you sure you want to delete this reply? This action cannot be undone."))try{const ce=e._canonicalId||String(e._id||e.id);if((await qe.deleteReply(ce,H,Z)).success){const te=await qe.get(t);n({...te,_canonicalId:ce})}else alert("Failed to delete reply. Please try again.")}catch(ce){console.error("Delete reply error:",ce),((fe=ce.response)==null?void 0:fe.status)===403?alert("You can only delete your own replies."):alert("Failed to delete reply. Please try again.")}},oe=async H=>{try{const Z=e._canonicalId||String(e._id||e.id);if(await qe.acceptAnswer(Z,H)){const ce=await qe.get(t);n({...ce,_canonicalId:Z})}}catch(Z){console.error("Accept answer error:",Z)}};if(s)return r.jsxs("div",{className:"nr-dots-page min-h-screen text-white",children:[r.jsx(ct,{userInfo:l}),r.jsx("div",{className:"mx-auto max-w-4xl px-4 py-12",children:r.jsx("p",{className:"text-white/70",children:"Loading thread..."})}),r.jsx(ka,{})]});if(!e)return r.jsxs("div",{className:"nr-dots-page min-h-screen text-white",children:[r.jsx(ct,{userInfo:l}),r.jsx("div",{className:"mx-auto max-w-4xl px-4 py-12",children:r.jsxs("p",{className:"text-white/70",children:["Thread not found. ",r.jsx(Ae,{to:"/community",className:"text-sky-400 hover:underline",children:"Back to community"})]})}),r.jsx(ka,{})]});const ne=(l==null?void 0:l.username)===e.author||(l==null?void 0:l.username)===e.authorName;return r.jsxs("div",{className:"nr-dots-page min-h-screen text-white",children:[r.jsx(ct,{userInfo:l}),r.jsx("main",{className:"mx-auto max-w-7xl px-4 py-8",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[r.jsxs("div",{className:"lg:col-span-8",children:[r.jsxs(Ae,{to:"/community",className:"inline-flex items-center gap-1 text-sm text-white/60 hover:text-white mb-6",children:[r.jsx("span",{children:""})," Back to Community"]}),r.jsxs("div",{className:"relative",children:[(()=>{const H=e._canonicalId||String(e._id||e.id);return r.jsx("button",{type:"button",onClick:Z=>U(H,Z),disabled:b[H],className:`absolute top-3 right-3 p-2 rounded-lg transition-all duration-200 z-10
                  ${g.has(H)?"text-red-500":"text-red-500 hover:bg-red-500/5"}
                  ${b[H]?"cursor-wait":"cursor-pointer"}`,"aria-pressed":g.has(H),"aria-label":g.has(H)?"Remove bookmark":"Bookmark question",children:r.jsx(i6,{active:g.has(H),className:"w-6 h-6"})})})(),r.jsxs("div",{className:"nr-panel",children:[r.jsxs("div",{className:"mb-4 flex items-center gap-2 text-[12px]",children:[r.jsx("span",{className:`rounded-full px-2.5 py-1 ${e.solved?"bg-emerald-500/15 text-emerald-300":"bg-white/10 text-white/75"}`,children:e.solved?" Solved":"Open"}),r.jsx("span",{className:"text-white/50",children:""}),r.jsx("span",{className:"text-white/70",children:e.school}),r.jsx("span",{className:"text-white/50",children:""}),r.jsx("span",{className:"text-white/60",children:Oo(e.createdAt||e.updatedAt)})]}),r.jsx("h1",{className:"text-3xl font-bold leading-tight pr-16",children:e.title}),e.body&&r.jsx("p",{className:"mt-4 text-[15px] leading-relaxed text-white/80 whitespace-pre-wrap",children:e.body}),(e.tags||[]).length>0&&r.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:e.tags.map(H=>r.jsxs("span",{className:"rounded-full border border-white/15 bg-white/[0.04] px-3 py-1 text-[11px] font-medium text-white/70",children:["#",H]},H))}),r.jsxs("div",{className:"mt-6 flex items-center justify-between border-t border-white/10 pt-4",children:[r.jsxs("div",{className:"text-sm text-white/60",children:["Asked by ",r.jsx("span",{className:"font-medium text-white/90",children:e.authorName||e.author})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{onClick:()=>M("upvote"),disabled:d||h[e._canonicalId||String(e._id||e.id)]==="downvote",className:`p-2 rounded-lg transition-colors group disabled:opacity-50 ${h[e._canonicalId||String(e._id||e.id)]==="upvote"?"bg-green-500/20 text-green-400":"hover:bg-white/10"}`,title:h[e._canonicalId||String(e._id||e.id)]==="upvote"?"You upvoted this":"Upvote",children:r.jsx("svg",{className:`w-4 h-4 transition-colors ${h[e._canonicalId||String(e._id||e.id)]==="upvote"?"text-green-400":"text-white/60 group-hover:text-green-400"}`,fill:h[e._canonicalId||String(e._id||e.id)]==="upvote"?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})}),r.jsx("span",{className:"text-green-400 font-medium text-sm min-w-[1.5rem] text-center",children:e.upvotes||0})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{onClick:()=>M("downvote"),disabled:d||h[e._canonicalId||String(e._id||e.id)]==="upvote",className:`p-2 rounded-lg transition-colors group disabled:opacity-50 ${h[e._canonicalId||String(e._id||e.id)]==="downvote"?"bg-red-500/20 text-red-400":"hover:bg-white/10"}`,title:h[e._canonicalId||String(e._id||e.id)]==="downvote"?"You downvoted this":"Downvote",children:r.jsx("svg",{className:`w-4 h-4 transition-colors ${h[e._canonicalId||String(e._id||e.id)]==="downvote"?"text-red-400":"text-white/60 group-hover:text-red-400"}`,fill:h[e._canonicalId||String(e._id||e.id)]==="downvote"?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}),r.jsx("span",{className:"text-red-400 font-medium text-sm min-w-[1.5rem] text-center",children:e.downvotes||0})]})]})]})]})]}),r.jsxs("section",{className:"mt-8",children:[r.jsxs("h2",{className:"text-2xl font-bold mb-5",children:[(e.answers||[]).length," ",(e.answers||[]).length===1?"Answer":"Answers"]}),r.jsxs("div",{className:"space-y-4",children:[(!e.answers||e.answers.length===0)&&r.jsx("div",{className:"nr-panel text-center py-12",children:r.jsx("p",{className:"text-white/60",children:"No answers yet. Be the first to help!"})}),(e.answers||[]).map(H=>{var Z;return r.jsxs("article",{className:`nr-panel ${H.accepted?"border-emerald-500/30 bg-emerald-500/5":""} ${H.isBestAnswer?"border-amber-500/30 bg-amber-500/5":""}`,children:[r.jsxs("div",{className:"mb-3 flex flex-wrap items-center gap-2",children:[H.accepted&&r.jsxs("div",{className:"inline-flex items-center gap-1.5 rounded-full bg-emerald-500/15 px-3 py-1 text-[11px] font-semibold text-emerald-300",children:[r.jsx("span",{children:""})," Accepted Answer"]}),H.isBestAnswer&&!H.accepted&&r.jsxs("div",{className:"inline-flex items-center gap-1.5 rounded-full bg-amber-500/15 px-3 py-1 text-[11px] font-semibold text-amber-300",children:[r.jsx("span",{children:""})," Best Answer"]}),e.authorId&&H.authorId&&e.authorId.toString()===H.authorId.toString()&&r.jsxs("div",{className:"inline-flex items-center gap-1.5 rounded-full bg-blue-500/15 px-3 py-1 text-[11px] font-semibold text-blue-300",children:[r.jsx("span",{children:"OP"})," Original Poster"]})]}),r.jsx("div",{className:"text-[15px] leading-relaxed text-white/85 whitespace-pre-wrap",children:H.body}),r.jsxs("div",{className:"mt-4 flex items-center justify-between border-t border-white/10 pt-3",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{onClick:()=>$(H._id||H.id,"upvote"),disabled:f[H._id||H.id]==="downvote",className:`p-1.5 rounded transition-colors group disabled:opacity-50 ${f[H._id||H.id]==="upvote"?"bg-green-500/20 text-green-400":"hover:bg-white/10"}`,title:f[H._id||H.id]==="upvote"?"You upvoted this":"Upvote",children:r.jsx("svg",{className:`w-3.5 h-3.5 transition-colors ${f[H._id||H.id]==="upvote"?"text-green-400":"text-white/60 group-hover:text-green-400"}`,fill:f[H._id||H.id]==="upvote"?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})}),r.jsx("span",{className:"text-green-400 font-medium text-xs min-w-[1rem] text-center",children:H.upvotes||0})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{onClick:()=>$(H._id||H.id,"downvote"),disabled:f[H._id||H.id]==="upvote",className:`p-1.5 rounded transition-colors group disabled:opacity-50 ${f[H._id||H.id]==="downvote"?"bg-red-500/20 text-red-400":"hover:bg-white/10"}`,title:f[H._id||H.id]==="downvote"?"You downvoted this":"Downvote",children:r.jsx("svg",{className:`w-3.5 h-3.5 transition-colors ${f[H._id||H.id]==="downvote"?"text-red-400":"text-white/60 group-hover:text-red-400"}`,fill:f[H._id||H.id]==="downvote"?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}),r.jsx("span",{className:"text-red-400 font-medium text-xs min-w-[1rem] text-center",children:H.downvotes||0})]})]}),r.jsxs("button",{onClick:()=>L(H._id||H.id),className:"flex items-center gap-1 text-xs text-white/60 hover:text-white/90 transition-colors",children:[r.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),"Comment"]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"text-xs text-white/50",children:[r.jsx("span",{className:"font-medium text-white/80",children:H.authorName||H.author}),r.jsx("span",{className:"mx-1.5",children:""}),r.jsx("span",{children:Oo(H.createdAt)})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[ne&&!H.accepted&&!e.solved&&r.jsx("button",{onClick:()=>oe(H._id||H.id),className:"rounded-lg border border-emerald-500/30 bg-emerald-500/10 px-3 py-1 text-xs font-semibold text-emerald-300 hover:bg-emerald-500/20",children:"Accept Answer"}),l&&H.authorId&&String(H.authorId)===String(l._id||l.userId)&&r.jsx("button",{onClick:()=>V(H._id||H.id),className:"rounded-lg border border-red-500/30 bg-red-500/10 px-3 py-1 text-xs font-semibold text-red-300 hover:bg-red-500/20",title:"Delete this answer",children:"Delete"})]})]})]}),v[H._id||H.id]&&r.jsxs("div",{className:"mt-4 border-t border-white/10 pt-4",children:[r.jsx("div",{className:"mb-2",children:r.jsx("label",{className:"text-xs text-white/60",children:"Add a comment to this answer"})}),r.jsx("textarea",{value:N[H._id||H.id]||"",onChange:fe=>j(ce=>({...ce,[H._id||H.id]:fe.target.value})),placeholder:"Share your thoughts, ask for clarification, or add context...",rows:3,className:"w-full bg-white/[0.03] border border-white/10 rounded-lg px-3 py-2 text-sm text-white placeholder:text-white/40 outline-none focus:border-amber-400 resize-none"}),r.jsxs("div",{className:"mt-2 flex justify-between items-center",children:[r.jsx("div",{className:"text-xs text-white/50",children:" Comments help clarify and improve answers"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>L(H._id||H.id),className:"px-3 py-1 text-xs text-white/60 hover:text-white/90 transition-colors",children:"Cancel"}),r.jsx("button",{onClick:()=>O(H._id||H.id),disabled:!((Z=N[H._id||H.id])!=null&&Z.trim()),className:"px-3 py-1 text-xs bg-amber-500/20 text-amber-300 rounded-lg hover:bg-amber-500/30 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Post Comment"})]})]})]}),H.replies&&H.replies.length>0&&r.jsxs("div",{className:"mt-4 border-t border-white/10 pt-4",children:[r.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[r.jsxs("h4",{className:"text-sm font-medium text-white/80",children:["Comments (",H.replies.length,")"]}),r.jsx("button",{className:"text-xs text-white/60 hover:text-white/80 transition-colors",children:"Collapse"})]}),r.jsx(o6,{comments:H.replies,thread:e,timeAgo:Oo,depth:0,maxDepth:2,onVote:K,onReply:B,showCommentForm:k,commentText:S,setCommentText:E,onDeleteComment:G,onDeleteReply:X,userInfo:l})]})]},H._id||H.id)})]})]}),r.jsxs("section",{className:"mt-8",children:[r.jsx("h3",{className:"text-xl font-bold mb-4",children:"Your Answer"}),r.jsxs("form",{onSubmit:I,className:"nr-panel",children:[r.jsx("textarea",{value:a,onChange:H=>o(H.target.value),placeholder:"Write a helpful answer... Be clear and specific.",rows:6,className:"w-full bg-white/[0.03] border border-white/10 rounded-xl px-4 py-3 text-[15px] text-white placeholder:text-white/40 outline-none focus:border-amber-400 resize-none"}),r.jsx("div",{className:"mt-4 flex justify-end",children:r.jsx("button",{type:"submit",disabled:!a.trim(),className:"rounded-xl bg-gradient-to-r from-amber-500 to-orange-600 px-6 py-2.5 text-sm font-semibold text-black hover:brightness-110 disabled:opacity-50 disabled:cursor-not-allowed",children:"Post Answer"})})]})]})]}),r.jsx("div",{className:"lg:col-span-4",children:r.jsxs("div",{className:"sticky top-8",children:[r.jsx("div",{className:"hidden lg:block absolute left-0 top-0 bottom-0 w-px bg-gradient-to-b from-transparent via-white/20 to-transparent"}),r.jsxs("div",{className:"pl-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:"RELATED QUESTIONS"}),r.jsx("button",{className:"text-xs text-white/60 hover:text-white transition-colors",children:"Clear"})]}),A?r.jsx("div",{className:"space-y-4",children:[...Array(5)].map((H,Z)=>r.jsx("div",{className:"animate-pulse",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-white/10 rounded-full flex-shrink-0"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"h-3 bg-white/10 rounded mb-2"}),r.jsx("div",{className:"h-2 bg-white/5 rounded w-1/2 mb-1"}),r.jsx("div",{className:"h-2 bg-white/5 rounded w-1/3"})]})]})},Z))}):F.length>0?r.jsxs("div",{className:"space-y-0",children:[F.map((H,Z)=>{var fe,ce;return r.jsxs("div",{children:[r.jsx(Ae,{to:`/community/thread/${H._id||H.id}`,className:"block group py-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-xs font-bold text-white",children:((fe=H.school)==null?void 0:fe.charAt(0))||"N"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-1 text-xs text-white/60 mb-1",children:[r.jsx("span",{children:H.school||"Northern Illinois University"}),r.jsx("span",{children:""}),r.jsx("span",{children:Oo(H.createdAt||H.updatedAt)})]}),r.jsx("h4",{className:"text-sm font-medium text-white group-hover:text-blue-300 line-clamp-2 mb-2 transition-colors",children:H.title}),r.jsxs("div",{className:"flex items-center gap-3 text-xs text-white/50",children:[r.jsxs("span",{children:[H.upvotes||Math.floor(Math.random()*20)+1," upvotes"]}),r.jsx("span",{children:""}),r.jsxs("span",{children:[((ce=H.answers)==null?void 0:ce.length)||0," comments"]}),H.solved&&r.jsxs(r.Fragment,{children:[r.jsx("span",{children:""}),r.jsxs("span",{className:"inline-flex items-center gap-1 text-emerald-400",children:[r.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-400"}),"Solved"]})]})]})]})]})}),Z<F.length-1&&r.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-white/10 to-transparent"})]},H._id||H.id)}),r.jsx("div",{className:"pt-4 border-t border-white/10",children:r.jsx(Ae,{to:"/community",className:"inline-flex items-center gap-2 text-sm text-white/70 hover:text-white transition-colors",children:"View all questions "})}),r.jsx("div",{className:"mt-8 pt-6 border-t border-white/10",children:r.jsxs("div",{className:"space-y-3 text-xs text-white/50",children:[r.jsxs("div",{className:"flex flex-wrap gap-3",children:[r.jsx(Ae,{to:"/community/rules",className:"hover:text-white/70 transition-colors",children:"Community Rules"}),r.jsx(Ae,{to:"/privacy",className:"hover:text-white/70 transition-colors",children:"Privacy Policy"}),r.jsx(Ae,{to:"/terms",className:"hover:text-white/70 transition-colors",children:"User Agreement"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx(Ae,{to:"/accessibility",className:"hover:text-white/70 transition-colors",children:"Accessibility"}),r.jsx("div",{className:"text-white/40",children:"NewRun, Inc.  2025. All rights reserved."})]})]})})]}):r.jsxs("div",{className:"text-center py-6",children:[r.jsx("p",{className:"text-white/60 text-sm",children:"No related questions found"}),r.jsx(Ae,{to:"/community",className:"inline-flex items-center gap-2 text-sm text-white/70 hover:text-white transition-colors mt-3",children:"Browse all questions "})]})]})]})})]})}),r.jsx(ka,{})]})}function LQ(t){const e=Array.isArray(t==null?void 0:t.images)?t.images:[],n=typeof(t==null?void 0:t.coverIndex)=="number"&&t.coverIndex>=0;return(t==null?void 0:t.coverUrl)||e[n?t.coverIndex:0]||e[0]||(t==null?void 0:t.thumbnailUrl)||""}function B5(t){return t?r.jsx("span",{className:"rounded-full bg-black/50 px-2 py-0.5 text-[11px] font-medium text-white/90 ring-1 ring-white/10 backdrop-blur",children:t}):null}function V5(t={}){const e=[];return t.pickup&&e.push("Pickup"),t.localDelivery&&e.push("Local delivery"),t.shipping&&e.push("Shipping"),e.join("  ")}function AQ({item:t,favored:e=!1,onToggleFav:n,onClick:s}){var c;const{user:i}=Ka(),a=LQ(t),o=typeof(t==null?void 0:t.price)=="number"?`$${t.price.toLocaleString("en-US")}`:(t==null?void 0:t.price)||"",l=i&&(t==null?void 0:t.userId)&&i._id===t.userId;return r.jsxs("button",{type:"button",onClick:s,className:`
        group w-full overflow-hidden rounded-3xl border border-white/10
        bg-[#0f1115] text-left shadow-[0_12px_32px_-12px_rgba(0,0,0,.60)]
        transition-transform hover:-translate-y-[2px] focus:outline-none focus:ring-2 focus:ring-sky-500
      `,children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"aspect-[16/10] w-full overflow-hidden bg-white/[0.04]",children:a?r.jsx("img",{src:a,alt:(t==null?void 0:t.title)||"Item",className:"h-full w-full object-cover transition-transform duration-500 group-hover:scale-[1.02]",loading:"lazy",decoding:"async"}):r.jsx("div",{className:"flex h-full w-full items-center justify-center text-sm text-white/40",children:"No image"})}),r.jsxs("div",{className:"absolute left-3 top-3 flex items-center gap-1.5",children:[B5(String((t==null?void 0:t.condition)||"").toLowerCase()),B5(t==null?void 0:t.category)]}),r.jsx("div",{className:"absolute right-3 top-3",children:r.jsx("button",{type:"button",onClick:d=>{d.stopPropagation(),n==null||n(t)},"aria-label":e?"Unfavorite":"Favorite",className:`
              grid h-9 w-9 place-items-center rounded-full bg-black/45 text-white/95
              ring-1 ring-white/10 backdrop-blur hover:bg-black/60
            `,children:e?r.jsx(ef,{}):r.jsx(Xb,{})})})]}),r.jsxs("div",{className:"px-5 pb-4 pt-4",children:[r.jsxs("div",{className:"mb-2",children:[r.jsx("h3",{className:"line-clamp-2 text-[20px] font-semibold leading-snug text-white",children:(t==null?void 0:t.title)||"Untitled"}),(t==null?void 0:t.description)&&r.jsx("p",{className:"mt-1 line-clamp-2 text-[13.5px] leading-relaxed text-white/70",children:t.description}),l&&r.jsx("div",{className:"mt-2",children:r.jsx("span",{className:"inline-flex items-center gap-1 rounded-full border border-blue-400/40 bg-black/80 px-2 py-[2px] text-[10px] text-white font-medium",children:"Created by you"})})]}),r.jsx("div",{className:"my-3 h-px w-full bg-white/8"}),r.jsxs("div",{className:"flex items-center justify-between gap-2",children:[r.jsx("div",{className:"min-w-0 text-[13px] text-white/75",children:(c=t==null?void 0:t.location)!=null&&c.campus?r.jsxs("span",{className:"line-clamp-1",children:["Campus: ",t.location.campus]}):r.jsx("span",{className:"line-clamp-1",children:(t==null?void 0:t.category)||"Item"})}),o&&r.jsx("div",{className:"shrink-0 rounded-full bg-white/8 px-3 py-1 text-[13px] font-semibold text-white",children:o})]}),r.jsxs("div",{className:"mt-2 flex items-center justify-between gap-2",children:[r.jsxs("div",{className:"flex min-w-0 flex-wrap items-center gap-1.5 text-[12px] text-white/60",children:[V5(t==null?void 0:t.delivery)&&r.jsx("span",{className:"rounded-full bg-white/5 px-2 py-0.5",children:V5(t.delivery)}),(t==null?void 0:t.condition)&&r.jsx("span",{className:"rounded-full bg-white/5 px-2 py-0.5 capitalize",children:String(t.condition).toLowerCase()})]}),r.jsx("span",{className:`
              grid h-8 w-8 shrink-0 place-items-center rounded-full bg-white/8 text-white/85
              transition-colors group-hover:bg-white/12
            `,children:r.jsx(Zb,{className:"text-[14px]"})})]})]})]})}function IQ({onListItem:t}){const[e,n]=p.useState(!1),[s,i]=p.useState(0),[a,o]=p.useState(0),[l,c]=p.useState(""),[d,u]=p.useState(!1),[h,m]=p.useState(0),[f,x]=p.useState(!1),[g,b]=p.useState(0),[y,v]=p.useState(""),[w,N]=p.useState(!1),j=["mini fridge","desk lamp","textbooks","sofa","bike","dorm essentials"],k=[{text:"Safe, local, student-first.",color:"#10b981",glow:"0 0 6px #10b981, 0 0 12px #10b981"},{text:"Trusted by students worldwide.",color:"#3b82f6",glow:"0 0 6px #3b82f6, 0 0 12px #3b82f6"},{text:"Your campus marketplace.",color:"#8b5cf6",glow:"0 0 6px #8b5cf6, 0 0 12px #8b5cf6"},{text:"Buy and sell with confidence.",color:"#f97316",glow:"0 0 6px #f97316, 0 0 12px #f97316"},{text:"Connecting students everywhere.",color:"#eab308",glow:"0 0 6px #eab308, 0 0 12px #eab308"}];p.useEffect(()=>{n(!0);const T=setInterval(()=>{i(W=>(W+1)%j.length)},2e3);return()=>clearInterval(T)},[]),p.useEffect(()=>{const W=k[g].text;let F=0;v(""),N(!0);const D=setInterval(()=>{F<W.length?(v(W.slice(0,F+1)),F++):(N(!1),clearInterval(D),setTimeout(()=>{b(A=>(A+1)%k.length)},5e3))},80);return()=>clearInterval(D)},[g]),p.useEffect(()=>{const T=setInterval(()=>o(W=>Math.min(W+1,4)),1e3);return()=>clearInterval(T)},[]),p.useEffect(()=>{if(e){const T=setTimeout(()=>{x(!0),P()},1e3);return()=>clearTimeout(T)}},[e]);const P=()=>{const F=Date.now(),D=()=>{const A=Date.now()-F,_=Math.min(A/2e3,1),z=1-Math.pow(1-_,3),I=Math.floor(z*500);m(I),_<1&&requestAnimationFrame(D)};requestAnimationFrame(D)},S=T=>{if(T.preventDefault(),l.trim()){const W=document.getElementById("market-grid");W&&(W.scrollIntoView({behavior:"smooth",block:"start"}),window.dispatchEvent(new CustomEvent("marketplaceSearch",{detail:{query:l.trim()}})))}},E=T=>{c(T),u(!1)};return r.jsxs("section",{className:"nr-hero-bg nr-hero-starry relative flex min-h-[70vh] items-center overflow-hidden",children:[r.jsxs("div",{className:"absolute inset-0",children:[r.jsx("div",{className:"hero-orb absolute top-1/4 left-1/4 w-32 h-32 bg-gradient-to-r from-orange-500/10 to-cyan-500/10 rounded-full blur-3xl"}),r.jsx("div",{className:"hero-orb absolute bottom-1/4 right-1/4 w-48 h-48 bg-gradient-to-r from-blue-500/10 to-purple-500/10 rounded-full blur-3xl"}),r.jsx("div",{className:"hero-orb absolute top-1/2 right-1/3 w-24 h-24 bg-gradient-to-r from-emerald-500/10 to-teal-500/10 rounded-full blur-2xl"}),r.jsx("div",{className:"hero-orb absolute top-3/4 left-1/3 w-40 h-40 bg-gradient-to-r from-amber-500/8 to-orange-500/8 rounded-full blur-3xl"})]}),r.jsxs("div",{className:"mx-auto w-full max-w-[110rem] px-4 py-14 relative z-10",children:[r.jsx("div",{className:`text-center transition-all duration-1000 ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:r.jsxs("div",{className:"flex items-center justify-center gap-3 mb-8 flex-wrap",children:[r.jsxs("span",{className:"inline-flex items-center gap-2 text-sm text-white/70 rounded-full bg-white/5 px-3 py-1",children:[r.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),"Student-only marketplace"]}),r.jsxs("span",{className:"inline-flex items-center gap-2 text-sm text-white/70 rounded-full bg-white/5 px-3 py-1",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),"Verified .edu accounts"]}),r.jsxs("span",{className:"inline-flex items-center gap-2 text-sm text-white/70 rounded-full bg-white/5 px-3 py-1",children:[r.jsx("div",{className:"w-2 h-2 bg-orange-400 rounded-full"}),"Instant transactions"]})]})}),r.jsx("div",{className:`text-center transition-all duration-1000 delay-300 ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,children:r.jsxs("h1",{className:"mx-auto max-w-5xl text-center text-4xl font-black tracking-tight text-white md:text-6xl lg:text-7xl",children:["Buy & sell"," ",r.jsx("span",{className:"bg-gradient-to-r from-amber-400 via-amber-300 to-orange-500 bg-clip-text text-transparent animate-pulse",children:"campus essentials"})," ","in minutes.",r.jsx("br",{className:"hidden md:block"}),r.jsx("div",{className:"block mt-2 text-2xl md:text-3xl lg:text-4xl h-12 flex items-center justify-center",children:r.jsx("div",{className:"px-2 sm:px-3 md:px-4 py-1 sm:py-1.5 md:py-2 rounded-xl font-semibold rotating-text-glow",style:{animation:"fadeInUp 0.6s ease-in-out",color:k[g].color,textShadow:k[g].glow,letterSpacing:"-0.5px"},children:y.split("").map((T,W)=>r.jsx("span",{className:`typing-letter inline-block ${w&&W===y.length-1?"animate-pulse":""}`,style:{animationDelay:`${W*100}ms`,color:k[g].color,textShadow:k[g].glow,letterSpacing:"-0.5px"},children:T===" "?"":T},W))},g)})]})}),r.jsx("div",{className:`mx-auto mt-8 max-w-3xl transition-all duration-1000 delay-400 ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,children:r.jsx("form",{onSubmit:S,children:r.jsx("div",{className:"rounded-2xl border border-white/10 bg-white/5/50 p-3 backdrop-blur-md hover:bg-white/8/50 transition-all duration-300",children:r.jsxs("div",{className:"flex items-center gap-3 rounded-xl border border-white/10 bg-[#101215] px-4 py-3 hover:border-white/20 focus-within:border-amber-400/50 transition-all duration-200",children:[r.jsx("span",{className:"text-white/50 text-lg",children:""}),r.jsx("div",{className:"flex-1 relative",children:r.jsx("input",{type:"text",value:l,onChange:T=>c(T.target.value),onFocus:()=>u(!0),onBlur:()=>setTimeout(()=>u(!1),200),placeholder:d?"Search for items...":`Try: ${j[s]}`,className:"w-full bg-transparent text-sm text-white placeholder:text-white/40 focus:outline-none transition-all duration-500"})}),r.jsx("button",{type:"submit",className:"rounded-full bg-gradient-to-r from-amber-500 to-orange-500 px-4 py-2 text-xs font-semibold text-black hover:from-amber-400 hover:to-orange-400 transition-all duration-200 hover:scale-105 shadow-lg shadow-amber-500/25",children:"Search"})]})})})}),d&&r.jsx("div",{className:"mx-auto mt-2 max-w-3xl relative",children:r.jsx("div",{className:"rounded-xl border border-white/10 bg-[#0f1115] backdrop-blur-xl shadow-2xl z-[9999] max-h-48 overflow-y-auto",children:r.jsxs("div",{className:"p-2",children:[r.jsx("div",{className:"text-xs text-white/60 px-3 py-2 border-b border-white/10 mb-2",children:"Popular searches"}),j.map((T,W)=>r.jsxs("button",{onClick:()=>E(T),className:"w-full text-left px-3 py-2 text-sm text-white/80 hover:bg-white/10 hover:text-white rounded-lg transition-all duration-200 flex items-center gap-2",children:[r.jsx("span",{className:"text-amber-400",children:""}),T]},W))]})})}),r.jsx("div",{className:`mt-8 text-center transition-all duration-1000 delay-500 ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:r.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[r.jsxs("button",{onClick:()=>{const T=document.getElementById("market-grid");T&&T.scrollIntoView({behavior:"smooth",block:"start"})},className:"hero-cta-button group relative inline-flex items-center gap-3 rounded-full bg-gradient-to-r from-orange-500 to-orange-600 px-8 py-4 text-base font-bold text-black shadow-[0_12px_32px_rgba(255,153,0,.4)] hover:shadow-[0_16px_40px_rgba(255,153,0,.5)] hover:scale-105 transition-all duration-300 hover:from-orange-400 hover:to-orange-500",type:"button",children:[r.jsx("span",{children:"Explore listings"}),r.jsx("div",{className:"w-5 h-5 rounded-full bg-black/20 flex items-center justify-center group-hover:translate-x-1 transition-transform duration-200",children:r.jsx("div",{className:"w-2 h-2 bg-black rounded-full"})}),r.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-orange-500 to-orange-600 opacity-0 group-hover:opacity-20 blur-xl transition-opacity duration-300"})]}),r.jsxs("button",{onClick:t,className:"group inline-flex items-center gap-2 rounded-full border border-white/20 bg-white/5 px-6 py-3 text-sm text-white/85 hover:bg-white/10 hover:border-white/30 transition-all duration-200",children:[r.jsx("span",{className:"text-lg",children:"+"}),"List an item"]})]})}),r.jsx("div",{className:`mx-auto mt-8 flex justify-center transition-all duration-1000 delay-800 ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,children:r.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-4 py-2 backdrop-blur-sm",children:[r.jsx("div",{className:"w-2 h-2 bg-amber-400 rounded-full animate-pulse"}),r.jsxs("span",{className:"text-sm text-white/80",children:[r.jsx("span",{className:"font-bold text-amber-400",children:f?`${h}+`:"0+"}),r.jsx("span",{className:"ml-1",children:"Active Items"})]})]})})]})]})}function OQ({children:t,delay:e=0}){const[n,s]=p.useState(!1);return p.useEffect(()=>{const i=setTimeout(()=>s(!0),e);return()=>clearTimeout(i)},[e]),r.jsx("span",{className:`inline-flex items-center rounded-full border border-white/15 bg-white/[0.04] px-3 py-1 text-[11px] font-medium text-white/70 backdrop-blur-sm hover:bg-white/[0.08] transition-all duration-300 ${n?"opacity-100 translate-y-0":"opacity-0 translate-y-2"}`,children:t})}function ih({className:t="",children:e,delay:n=0}){const[s,i]=p.useState(!1);return p.useEffect(()=>{const a=setTimeout(()=>i(!0),n);return()=>clearTimeout(a)},[n]),r.jsx("div",{className:`nr-panel hover:border-white/12 transition-all duration-300 ${s?"opacity-100 translate-y-0":"opacity-0 translate-y-4"} ${t}`,children:e})}function Yg({children:t,delay:e=0}){const[n,s]=p.useState(!1);return p.useEffect(()=>{const i=setTimeout(()=>s(!0),e);return()=>clearTimeout(i)},[e]),r.jsx("div",{className:`nr-iconTile hover:scale-105 transition-all duration-300 ${n?"opacity-100 scale-100":"opacity-0 scale-95"}`,children:r.jsx("div",{className:"nr-iconTile-inner",children:t})})}const Xg={Cap:()=>r.jsxs("svg",{width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",children:[r.jsx("path",{d:"M3 9l9-4 9 4-9 4-9-4Z",stroke:"currentColor",strokeWidth:"1.6"}),r.jsx("path",{d:"M7 11v4c0 1.1 2.7 2 6 2s6-.9 6-2v-4",stroke:"currentColor",strokeWidth:"1.6"})]}),Box:()=>r.jsxs("svg",{width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",children:[r.jsx("path",{d:"M12 3 3 7.5 12 12l9-4.5L12 3Z",stroke:"currentColor",strokeWidth:"1.6"}),r.jsx("path",{d:"M3 7.5V16l9 4.5 9-4.5V7.5",stroke:"currentColor",strokeWidth:"1.6"}),r.jsx("path",{d:"M12 12v8.5",stroke:"currentColor",strokeWidth:"1.6"})]}),Shield:()=>r.jsxs("svg",{width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",children:[r.jsx("path",{d:"M12 3 4 6v6c0 4.5 3.4 7.3 8 9 4.6-1.7 8-4.5 8-9V6l-8-3Z",stroke:"currentColor",strokeWidth:"1.6"}),r.jsx("path",{d:"M9 12l2 2 4-4",stroke:"currentColor",strokeWidth:"1.6"})]})};function RQ(){const[t,e]=p.useState(!1),n=["Furniture","Electronics","Textbooks","Bikes","Dorm essentials","Mini fridge","Sofa","Desk","Notebooks","Lamp","Laptop","Chair"];return p.useEffect(()=>{e(!0)},[]),r.jsxs("section",{className:"nr-dots-fade mx-auto max-w-7xl px-4 pt-10 pb-16",children:[r.jsxs("div",{className:`mb-8 text-center transition-all duration-1000 ${t?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:[r.jsx(OQ,{delay:200,children:"WHY NEWRUN MARKETPLACE"}),r.jsx("h2",{className:"mt-4 text-4xl font-black tracking-tight sm:text-[44px] bg-gradient-to-r from-white to-white/80 bg-clip-text text-transparent",children:"The easiest way to trade on campus."}),r.jsx("p",{className:"mt-4 text-white/60 max-w-2xl mx-auto",children:"Join thousands of students buying and selling campus essentials safely and efficiently."})]}),r.jsxs("div",{className:"grid gap-6 lg:grid-cols-12",children:[r.jsxs(ih,{className:"relative overflow-hidden lg:col-span-7",delay:400,children:[r.jsx("div",{className:"mb-6",children:r.jsx("span",{className:"rounded-full border border-white/15 bg-white/[0.03] px-3 py-1.5 text-[11px] text-white/70 backdrop-blur-sm",children:" Get Ahead"})}),r.jsxs("h3",{className:"max-w-xl text-[30px] font-extrabold leading-tight sm:text-[34px] bg-gradient-to-r from-white to-white/90 bg-clip-text text-transparent",children:["Trade safely with real classmates",r.jsx("br",{})," no sketchy meetups."]}),r.jsx("p",{className:"mt-4 max-w-xl text-white/80 text-lg leading-relaxed",children:"Sign in with your .edu email, send quick offers, and choose pickup, local delivery, or shipping. Your details stay private until access is approved."}),r.jsx("div",{className:"mt-6 nr-marquee",style:{"--nr-gap":"12px","--nr-marquee-dur":"25s"},children:r.jsxs("div",{className:"nr-marquee-track",children:[n.map((s,i)=>r.jsx("span",{className:"nr-chip hover:bg-white/10 transition-colors duration-200",children:s},`a-${i}`)),n.map((s,i)=>r.jsx("span",{className:"nr-chip hover:bg-white/10 transition-colors duration-200",children:s},`b-${i}`))]})}),r.jsx("div",{className:"mt-8",children:r.jsxs("a",{href:"#market-grid",className:"group inline-flex items-center gap-2 rounded-xl bg-gradient-to-r from-amber-500 to-orange-600 px-6 py-3 text-sm font-semibold text-black shadow-[0_10px_30px_rgba(255,153,0,.22)] hover:shadow-[0_15px_40px_rgba(255,153,0,.3)] hover:scale-105 transition-all duration-200",children:["Explore listings",r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",className:"group-hover:translate-x-1 transition-transform duration-200",children:r.jsx("path",{d:"M5 12h14M13 5l7 7-7 7",stroke:"currentColor",strokeWidth:"2",fill:"none"})})]})}),r.jsx("div",{className:"nr-ramp","aria-hidden":!0})]}),r.jsxs("div",{className:"flex flex-col gap-5 lg:col-span-5",children:[r.jsxs(ih,{className:"flex items-start gap-4 p-5 sm:p-6 hover:bg-white/[0.02] transition-all duration-300",delay:600,children:[r.jsx(Yg,{delay:700,children:r.jsx(Xg.Cap,{})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-[12px] font-semibold tracking-wide text-white/60",children:"VERIFIED STUDENTS"}),r.jsx("h4",{className:"mt-1 text-[18px] font-semibold text-white",children:"Sign in with .edu"}),r.jsx("p",{className:"mt-2 text-white/75 leading-relaxed",children:"Buyers and sellers know they're dealing with real classmates."})]})]}),r.jsxs(ih,{className:"flex items-start gap-4 p-5 sm:p-6 hover:bg-white/[0.02] transition-all duration-300",delay:800,children:[r.jsx(Yg,{delay:900,children:r.jsx(Xg.Box,{})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-[12px] font-semibold tracking-wide text-white/60",children:"PICKUP OR DELIVERY"}),r.jsx("h4",{className:"mt-1 text-[18px] font-semibold text-white",children:"Choose what works"}),r.jsx("p",{className:"mt-2 text-white/75 leading-relaxed",children:"Pickup, local delivery, or shipping  filter listings by what fits your plan."})]})]}),r.jsxs(ih,{className:"flex items-start gap-4 p-5 sm:p-6 hover:bg-white/[0.02] transition-all duration-300",delay:1e3,children:[r.jsx(Yg,{delay:1100,children:r.jsx(Xg.Shield,{})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-[12px] font-semibold tracking-wide text-white/60",children:"SAFE CONTACT SHARING"}),r.jsx("h4",{className:"mt-1 text-[18px] font-semibold text-white",children:"Privacy by default"}),r.jsx("p",{className:"mt-2 text-white/75 leading-relaxed",children:"When access is approved, share only what's needed  nothing more."})]})]})]})]})]})}const U5=["Furniture","Electronics","Books","Bikes","Kitchen","Other"],DQ=["New","Like New","Good","Fair","Used"],Zg=[{key:"",label:"Any delivery"},{key:"pickup",label:"Pickup"},{key:"localDelivery",label:"Local delivery"},{key:"shipping",label:"Shipping"}],Ql=[{key:"createdAt",label:"Newest First",sortBy:"createdAt",sortOrder:"desc"},{key:"createdAt-asc",label:"Oldest First",sortBy:"createdAt",sortOrder:"asc"},{key:"price-asc",label:"Price: Low to High",sortBy:"price",sortOrder:"asc"},{key:"price-desc",label:"Price: High to Low",sortBy:"price",sortOrder:"desc"},{key:"likes-desc",label:"Most Popular",sortBy:"likes",sortOrder:"desc"},{key:"views-desc",label:"Most Viewed",sortBy:"views",sortOrder:"desc"}];function l6(...t){return t.filter(Boolean).join(" ")}function io({active:t,children:e,onClick:n}){return r.jsx("button",{type:"button",onClick:n,className:l6("w-full text-left rounded-lg px-3 py-2 text-sm transition-all duration-200",t?"bg-blue-500/20 text-blue-300 border border-blue-400/30":"text-white/80 hover:bg-white/10 hover:text-white border border-transparent"),children:e})}function Jl({label:t,activeLabel:e,children:n,isOpen:s,onToggle:i}){const a=p.useRef(null);return p.useEffect(()=>{const o=l=>{a.current&&!a.current.contains(l.target)&&i(!1)};return document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)},[i]),r.jsxs("div",{ref:a,className:"relative",children:[r.jsxs("button",{type:"button",onClick:()=>i(!s),className:l6("rounded-full px-3.5 py-1.5 text-sm transition-all duration-200",s?"bg-white/10 text-white border border-white/20":"bg-white/5 text-white/70 hover:bg-white/10 border border-white/10"),children:[e||t,r.jsx("svg",{className:"inline-block ml-1 w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s&&r.jsx("div",{className:"absolute left-0 z-[9999] mt-3 w-[280px] rounded-xl border border-white/20 bg-[#0f1115]/98 backdrop-blur-2xl p-1 shadow-2xl",children:n})]})}function $Q(){var Z,fe,ce,de;const t=dt(),[e,n]=p.useState(""),[s,i]=p.useState(""),[a,o]=p.useState(""),[l,c]=p.useState(""),[d,u]=p.useState(""),[h,m]=p.useState(""),[f,x]=p.useState(""),[g,b]=p.useState("createdAt"),[y,v]=p.useState(!1),[w,N]=p.useState(!1),[j,k]=p.useState(!1),[P,S]=p.useState(!1),[E,T]=p.useState(!1),[W,F]=p.useState([]),[D,A]=p.useState(null),[_,z]=p.useState(!0),[I,M]=p.useState(!1),[$,O]=p.useState(new Set),[L,Y]=p.useState(!1),[K,B]=p.useState(!1),[U,V]=p.useState(!1),G=p.useMemo(()=>{const te=Ql.find(we=>we.key===g),le=(te==null?void 0:te.sortBy)??"createdAt",pe=(te==null?void 0:te.sortOrder)??"desc",Q={query:e,campus:d,delivery:l,category:s,condition:a,min:h,max:f,minPrice:h,maxPrice:f,sortBy:le,sortOrder:pe};return Object.keys(Q).forEach(we=>(Q[we]===""||Q[we]==null)&&delete Q[we]),Q},[e,d,l,s,a,h,f,g]),X=async(te=!1)=>{var le,pe;try{te?M(!0):z(!0);const Q=await ge.get("/marketplace/items",{params:{...G,cursor:te?D:void 0,limit:24}}),we=((le=Q==null?void 0:Q.data)==null?void 0:le.items)||[],be=Ql.find(q=>q.key===g),ee=(be==null?void 0:be.sortBy)??"createdAt",ue=(be==null?void 0:be.sortOrder)??"desc",C=q=>{if(ee==="createdAt"){const re=q.createdAt||q.createdOn;return new Date(re||0).getTime()}return Number(q[ee]??0)};we.sort((q,re)=>(ue==="asc"?1:-1)*(C(q)-C(re))),F(q=>te?[...q,...we]:we),A(((pe=Q==null?void 0:Q.data)==null?void 0:pe.nextCursor)||null)}catch{te||F([]),A(null)}finally{z(!1),M(!1)}};p.useEffect(()=>{const te=setTimeout(()=>X(!1),220);return()=>clearTimeout(te)},[G]),p.useEffect(()=>{const te=()=>{const le=document.getElementById("filter-section");le&&(le.getBoundingClientRect().bottom<0?(B(!0),V(!1)):(B(!1),V(!1)))};return window.addEventListener("scroll",te),()=>window.removeEventListener("scroll",te)},[]),p.useEffect(()=>{const te=le=>{if(U&&K){const pe=document.querySelector("[data-filter-button]"),Q=document.querySelector("[data-filter-panel]");pe&&Q&&!pe.contains(le.target)&&!Q.contains(le.target)&&V(!1)}};return document.addEventListener("mousedown",te),()=>document.removeEventListener("mousedown",te)},[U,K]),p.useEffect(()=>{A(null)},[g,e,s,a,l,h,f,d]),p.useEffect(()=>{const te=le=>{n(le.detail.query)};return window.addEventListener("marketplaceSearch",te),()=>window.removeEventListener("marketplaceSearch",te)},[]);const oe=async te=>{try{const le=await ge.post(`/marketplace/favorites/${te._id}`);O(pe=>{var we;const Q=new Set(pe);return(we=le==null?void 0:le.data)!=null&&we.favored?Q.add(te._id):Q.delete(te._id),Q})}catch{}},ne=()=>{const te=document.getElementById("filter-section");te&&(te.scrollIntoView({behavior:"smooth",block:"start"}),V(!1))},H=()=>{V(te=>!te)};return r.jsxs("div",{className:"nr-dots-page min-h-screen text-white relative",children:[r.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[r.jsx("div",{className:"hero-orb absolute top-1/4 left-1/4 w-32 h-32 bg-gradient-to-r from-orange-500/10 to-cyan-500/10 rounded-full blur-3xl"}),r.jsx("div",{className:"hero-orb absolute bottom-1/4 right-1/4 w-48 h-48 bg-gradient-to-r from-blue-500/10 to-purple-500/10 rounded-full blur-3xl"}),r.jsx("div",{className:"hero-orb absolute top-1/2 right-1/3 w-24 h-24 bg-gradient-to-r from-emerald-500/10 to-teal-500/10 rounded-full blur-2xl"})]}),r.jsx(ct,{}),r.jsx(IQ,{onListItem:()=>Y(!0)}),r.jsx(RQ,{}),r.jsx("section",{className:"mx-auto max-w-7xl px-4 py-12",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsxs("div",{className:"text-center p-6 rounded-2xl border border-white/10 bg-[#0f1115]/50 backdrop-blur-sm",children:[r.jsxs("div",{className:"text-3xl font-bold text-blue-400 mb-2",children:[W.length,"+"]}),r.jsx("div",{className:"text-sm text-white/70",children:"Active Items"})]}),r.jsxs("div",{className:"text-center p-6 rounded-2xl border border-white/10 bg-[#0f1115]/50 backdrop-blur-sm",children:[r.jsx("div",{className:"text-3xl font-bold text-purple-400 mb-2",children:"24/7"}),r.jsx("div",{className:"text-sm text-white/70",children:"Available"})]}),r.jsxs("div",{className:"text-center p-6 rounded-2xl border border-white/10 bg-[#0f1115]/50 backdrop-blur-sm",children:[r.jsx("div",{className:"text-3xl font-bold text-teal-400 mb-2",children:"100%"}),r.jsx("div",{className:"text-sm text-white/70",children:"Student Verified"})]}),r.jsxs("div",{className:"text-center p-6 rounded-2xl border border-white/10 bg-[#0f1115]/50 backdrop-blur-sm",children:[r.jsx("div",{className:"text-3xl font-bold text-green-400 mb-2",children:"$0"}),r.jsx("div",{className:"text-sm text-white/70",children:"Transaction Fees"})]})]})}),r.jsxs("main",{className:"mx-auto max-w-7xl px-4 pb-16 overflow-visible",children:[r.jsx("section",{id:"filter-section",className:"relative z-50 mb-8 rounded-2xl border border-white/10 bg-[#0f1115]/95 backdrop-blur-xl shadow-2xl overflow-visible",children:r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"mb-4 flex flex-wrap items-center gap-2",children:[r.jsx("span",{className:"text-sm font-medium text-white/70",children:"Active filters:"}),s&&r.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-blue-500/20 px-3 py-1 text-xs text-blue-300",children:[s,r.jsx("button",{onClick:()=>i(""),className:"ml-1 hover:text-blue-100",children:""})]}),a&&r.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-purple-500/20 px-3 py-1 text-xs text-purple-300",children:[a,r.jsx("button",{onClick:()=>o(""),className:"ml-1 hover:text-purple-100",children:""})]}),l&&r.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-teal-500/20 px-3 py-1 text-xs text-teal-300",children:[(Z=Zg.find(te=>te.key===l))==null?void 0:Z.label,r.jsx("button",{onClick:()=>c(""),className:"ml-1 hover:text-teal-100",children:""})]}),(h||f)&&r.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-green-500/20 px-3 py-1 text-xs text-green-300",children:["$",h||0,"$",f||"",r.jsx("button",{onClick:()=>{m(""),x("")},className:"ml-1 hover:text-green-100",children:""})]}),d&&r.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-orange-500/20 px-3 py-1 text-xs text-orange-300",children:[d,r.jsx("button",{onClick:()=>u(""),className:"ml-1 hover:text-orange-100",children:""})]}),(s||a||l||h||f||d)&&r.jsx("button",{onClick:()=>{i(""),o(""),c(""),m(""),x(""),u("")},className:"text-xs text-white/50 hover:text-white/80",children:"Clear all"})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3 p-6 rounded-2xl border border-white/10 bg-[#0f1115]/50 backdrop-blur-xl",children:[r.jsxs("div",{className:"relative flex-1 min-w-[220px]",children:[r.jsx("span",{className:"pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 text-white/40",children:""}),r.jsx("input",{value:e,onChange:te=>n(te.target.value),placeholder:"Search items",className:"w-full rounded-xl border border-white/10 bg-white/[0.06] pl-8 pr-3 py-2.5 text-sm outline-none placeholder:text-white/40 focus:border-sky-500 focus:ring-1 focus:ring-sky-500/20"})]}),r.jsx("input",{value:d,onChange:te=>u(te.target.value),placeholder:"Campus",className:"min-w-[150px] rounded-xl border border-white/10 bg-white/[0.06] px-3 py-2.5 text-sm outline-none placeholder:text-white/40 focus:border-sky-500 focus:ring-1 focus:ring-sky-500/20"}),r.jsx(Jl,{label:"Sort",activeLabel:((fe=Ql.find(te=>te.key===g))==null?void 0:fe.label)||"Newest First",isOpen:y,onToggle:v,children:r.jsx("div",{className:"grid gap-1 p-1",children:Ql.map(te=>r.jsx(io,{active:g===te.key,onClick:()=>{b(te.key),v(!1)},children:te.label},te.key))})}),r.jsx(Jl,{label:"Category",activeLabel:s||"All Categories",isOpen:w,onToggle:N,children:r.jsxs("div",{className:"grid grid-cols-2 gap-2 p-1",children:[r.jsx(io,{active:!s,onClick:()=>{i(""),N(!1)},children:"All"}),U5.map(te=>r.jsx(io,{active:s===te,onClick:()=>{i(te),N(!1)},children:te},te))]})}),r.jsx(Jl,{label:"Condition",activeLabel:a||"Any Condition",isOpen:j,onToggle:k,children:r.jsxs("div",{className:"grid grid-cols-2 gap-2 p-1",children:[r.jsx(io,{active:!a,onClick:()=>{o(""),k(!1)},children:"Any"}),DQ.map(te=>r.jsx(io,{active:a===te,onClick:()=>{o(te),k(!1)},children:te},te))]})}),r.jsx(Jl,{label:"Delivery",activeLabel:((ce=Zg.find(te=>te.key===l))==null?void 0:ce.label)||"Any Delivery",isOpen:P,onToggle:S,children:r.jsx("div",{className:"grid grid-cols-2 gap-2 p-1",children:Zg.map(te=>r.jsx(io,{active:l===te.key,onClick:()=>{c(te.key),S(!1)},children:te.label},te.key||"any"))})}),r.jsx(Jl,{label:"Price Range",activeLabel:h||f?`$${h||0}$${f||""}`:"Any Price",isOpen:E,onToggle:T,children:r.jsxs("div",{className:"p-3",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-white/70 mb-1 block font-medium",children:"Min Price"}),r.jsx("input",{type:"number",min:"0",value:h,onChange:te=>m(te.target.value),placeholder:"0",className:"w-full rounded-lg border border-white/20 bg-white/5 px-3 py-2 text-sm text-white outline-none placeholder:text-white/40 focus:border-blue-400 focus:bg-white/10 transition-all duration-200"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-white/70 mb-1 block font-medium",children:"Max Price"}),r.jsx("input",{type:"number",min:"0",value:f,onChange:te=>x(te.target.value),placeholder:"1000",className:"w-full rounded-lg border border-white/20 bg-white/5 px-3 py-2 text-sm text-white outline-none placeholder:text-white/40 focus:border-blue-400 focus:bg-white/10 transition-all duration-200"})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("button",{onClick:()=>{m(""),x(""),T(!1)},className:"text-xs text-white/60 hover:text-white/80 transition-colors px-2 py-1 rounded hover:bg-white/5",children:"Clear"}),r.jsx("button",{onClick:()=>{X(!1),T(!1)},className:"rounded-lg bg-blue-500 px-4 py-2 text-xs font-medium text-white hover:bg-blue-600 transition-colors",children:"Apply"})]})]})})]})]})}),r.jsxs("div",{className:"relative z-10 mb-6 flex items-center justify-between p-6 rounded-2xl border border-white/10 bg-[#0f1115]/30 backdrop-blur-xl",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("h2",{className:"text-xl font-semibold text-white",children:_?"Loading items...":`${W.length} items found`}),!_&&W.length>0&&r.jsxs("span",{className:"text-sm text-white/60",children:["Sorted by ",(de=Ql.find(te=>te.key===g))==null?void 0:de.label.toLowerCase()]})]}),!_&&W.length>0&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-white/60",children:[r.jsx("span",{children:"View:"}),r.jsx("button",{className:"rounded-lg bg-white/10 px-3 py-1 text-white text-sm",children:"Grid"}),r.jsx("button",{className:"rounded-lg px-3 py-1 hover:bg-white/5 text-sm",children:"List"})]})]}),r.jsx("div",{id:"market-grid",children:_?r.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:Array.from({length:8}).map((te,le)=>r.jsxs("div",{className:"group overflow-hidden rounded-3xl border border-white/10 bg-[#0f1115] shadow-[0_12px_32px_-12px_rgba(0,0,0,.60)]",children:[r.jsx("div",{className:"aspect-[16/10] w-full animate-pulse bg-white/[0.06]"}),r.jsxs("div",{className:"p-5",children:[r.jsxs("div",{className:"mb-2",children:[r.jsx("div",{className:"h-6 w-3/4 animate-pulse rounded bg-white/[0.06] mb-2"}),r.jsx("div",{className:"h-4 w-full animate-pulse rounded bg-white/[0.04]"})]}),r.jsx("div",{className:"my-3 h-px w-full bg-white/8"}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"h-4 w-1/2 animate-pulse rounded bg-white/[0.04]"}),r.jsx("div",{className:"h-6 w-16 animate-pulse rounded-full bg-white/[0.08]"})]}),r.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[r.jsx("div",{className:"h-3 w-1/3 animate-pulse rounded bg-white/[0.04]"}),r.jsx("div",{className:"h-8 w-8 animate-pulse rounded-full bg-white/[0.08]"})]})]})]},le))}):W.length===0?r.jsxs("div",{className:"rounded-2xl border border-white/10 bg-[#0f1115]/50 p-12 text-center backdrop-blur-sm",children:[r.jsx("div",{className:"mx-auto mb-6 w-24 h-24 rounded-full bg-gradient-to-r from-orange-500/20 to-amber-500/20 flex items-center justify-center",children:r.jsx("svg",{className:"w-12 h-12 text-orange-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No items found"}),r.jsx("p",{className:"text-white/60 mb-6 max-w-md mx-auto",children:"No items match your current filters. Try adjusting your search criteria or browse all items."}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[r.jsx("button",{onClick:()=>{n(""),i(""),o(""),c(""),m(""),x(""),u("")},className:"styled-button--sm",children:"Clear all filters"}),r.jsx("button",{onClick:()=>t("/marketplace/create"),className:"styled-button--sm",children:"Sell your first item"})]})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:W.map(te=>r.jsx(AQ,{item:te,favored:$.has(te._id),onToggleFav:oe,onClick:()=>t(`/marketplace/item/${te._id}`)},te._id))}),D&&r.jsx("div",{className:"mt-12 grid place-items-center",children:r.jsx("button",{disabled:I,onClick:()=>X(!0),className:"styled-button group relative disabled:opacity-60",children:r.jsx("span",{className:"relative z-10 flex items-center gap-2",children:I?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Loading more items..."]}):r.jsxs(r.Fragment,{children:["Load more items",r.jsx("svg",{className:"w-4 h-4 group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})})})})]})})]}),r.jsx(s6,{isOpen:L,onClose:()=>Y(!1),onItemCreated:()=>{X(!1)}}),K&&r.jsx("div",{className:"fixed left-4 top-1/2 -translate-y-1/2 z-40",children:r.jsx("button",{"data-filter-button":!0,onClick:H,className:"w-12 h-12 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-110 flex items-center justify-center",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})})})}),K&&r.jsx("div",{className:"fixed left-20 top-1/2 -translate-y-1/2 z-40",children:r.jsxs("div",{"data-filter-panel":!0,className:`w-80 max-w-80 rounded-2xl border border-white/20 bg-white/5 backdrop-blur-xl shadow-2xl p-6 transition-all duration-500 ease-out transform overflow-hidden ${U?"translate-x-0 opacity-100 scale-100":"-translate-x-full opacity-0 scale-95 pointer-events-none"}`,children:[r.jsxs("div",{className:`flex items-center justify-between mb-4 transition-all duration-700 ease-out ${U?"translate-y-0 opacity-100":"translate-y-2 opacity-0"}`,children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Quick Filters"}),r.jsx("button",{onClick:ne,className:"text-xs text-orange-400 hover:text-orange-300 transition-colors",children:"View All Filters"})]}),r.jsxs("div",{className:`space-y-3 transition-all duration-700 ease-out delay-100 ${U?"translate-y-0 opacity-100":"translate-y-4 opacity-0"}`,children:[r.jsxs("div",{className:"w-full",children:[r.jsx("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Search"}),r.jsx("input",{type:"text",value:e,onChange:te=>n(te.target.value),placeholder:"Search items...",className:"w-full max-w-full rounded-lg border border-white/10 bg-white/[0.06] px-3 py-2 text-sm text-white outline-none placeholder:text-white/40 focus:border-sky-500"})]}),r.jsxs("div",{className:"w-full",children:[r.jsx("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Category"}),r.jsxs("select",{value:s,onChange:te=>i(te.target.value),className:"w-full max-w-full rounded-lg border border-white/10 bg-white/[0.06] px-3 py-2 text-sm text-white outline-none focus:border-sky-500",children:[r.jsx("option",{value:"",children:"All Categories"}),U5.map(te=>r.jsx("option",{value:te,children:te},te))]})]}),r.jsxs("div",{className:"w-full",children:[r.jsx("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Price Range"}),r.jsxs("div",{className:"flex gap-2 w-full",children:[r.jsx("input",{type:"number",value:h,onChange:te=>m(te.target.value),placeholder:"Min",className:"flex-1 min-w-0 rounded-lg border border-white/10 bg-white/[0.06] px-3 py-2 text-sm text-white outline-none placeholder:text-white/40 focus:border-sky-500"}),r.jsx("input",{type:"number",value:f,onChange:te=>x(te.target.value),placeholder:"Max",className:"flex-1 min-w-0 rounded-lg border border-white/10 bg-white/[0.06] px-3 py-2 text-sm text-white outline-none placeholder:text-white/40 focus:border-sky-500"})]})]})]})]})})]})}const Qg=({src:t,alt:e,className:n="",style:s={},width:i=800,height:a=800,quality:o=85,loading:l="lazy",onLoad:c,onError:d,fallbackIcon:u,showLoading:h=!0,showError:m=!0,...f})=>{const[x,g]=p.useState(!0),[b,y]=p.useState(!1);p.useEffect(()=>{g(!0),y(!1)},[t]);const v=(P,S,E,T)=>(!P||P.includes("cloudinary")||P.includes("resize")||P.includes("transform")||P.includes("imagekit"),P),w=()=>{g(!1),y(!1),c==null||c()},N=()=>{g(!1),y(!0),d==null||d()},j=()=>{g(!0),y(!1)},k={maxWidth:"100%",maxHeight:"100%",objectFit:"cover",objectPosition:"center",...s};return t?r.jsxs("div",{className:`relative ${n}`,style:k,children:[h&&x&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/5 z-10",children:r.jsxs("div",{className:"flex flex-col items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 border-2 border-white/30 border-t-white rounded-full animate-spin"}),r.jsx("p",{className:"text-white/60 text-sm",children:"Loading..."})]})}),m&&b&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/5 z-10",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-3",children:r.jsx("svg",{className:"w-8 h-8 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),r.jsx("p",{className:"text-red-300 text-sm",children:"Failed to load"}),r.jsx("button",{onClick:j,className:"mt-2 px-3 py-1 bg-white/10 hover:bg-white/20 rounded-lg text-xs transition-colors",children:"Retry"})]})}),r.jsx("img",{src:v(t),alt:e,className:`w-full h-full transition-all duration-300 ${x?"opacity-0":"opacity-100"}`,onLoad:w,onError:N,loading:l,style:k,...f})]}):r.jsx("div",{className:`flex items-center justify-center bg-white/5 ${n}`,style:k,children:u?r.jsx(u,{className:"text-3xl text-white/40"}):r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-white/10 rounded-full flex items-center justify-center mx-auto mb-3",children:r.jsx("svg",{className:"w-8 h-8 text-white/40",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),r.jsx("p",{className:"text-white/60 text-sm",children:"No image available"})]})})};function FQ(t){return ke({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"},child:[]}]})(t)}function zQ(t){return ke({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M446.7 98.6l-67.6 318.8c-5.1 22.5-18.4 28.1-37.3 17.5l-103-75.9-49.7 47.8c-5.5 5.5-10.1 10.1-20.7 10.1l7.4-104.9 190.9-172.5c8.3-7.4-1.8-11.5-12.9-4.1L117.8 284 16.2 252.2c-22.1-6.9-22.5-22.1 4.6-32.7L418.2 66.4c18.4-6.9 34.5 4.1 28.5 32.2z"},child:[]}]})(t)}function BQ(t){return ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}function c6(t){return ke({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(t)}function Jg(t){return ke({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"},child:[]}]})(t)}function ah(t){return ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function VQ(){var O,L,Y,K,B,U,V,G,X,oe,ne,H,Z,fe,ce;const{id:t}=Hb(),e=dt(),[n,s]=p.useState(null),[i,a]=p.useState(!0),[o,l]=p.useState(""),[c,d]=p.useState(!1),[u,h]=p.useState(0),[m,f]=p.useState(!1),[x,g]=p.useState(!1),[b,y]=p.useState(!1),[v,w]=p.useState(!1),[N,j]=p.useState(!0),[k,P]=p.useState(!1);p.useEffect(()=>{S()},[t]);const S=async()=>{try{a(!0);const de=await ge.get(`/marketplace/item/${t}`);s(de.data.item),await ge.post(`/marketplace/item/${t}/view`)}catch(de){console.error("Error fetching item details:",de),l("Failed to load item details")}finally{a(!1)}},E=async()=>{try{c?await ge.delete(`/marketplace/favorites/${t}`):await ge.post(`/marketplace/favorites/${t}`),d(!c)}catch(de){console.error("Error toggling favorite:",de)}},T=()=>{g(!0)},W=de=>{navigator.clipboard.writeText(de)},F=de=>{const te=window.location.href,le=(n==null?void 0:n.title)||"Check out this item on NewRun";let pe="";switch(de){case"facebook":pe=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(te)}`;break;case"twitter":pe=`https://twitter.com/intent/tweet?url=${encodeURIComponent(te)}&text=${encodeURIComponent(le)}`;break;case"whatsapp":pe=`https://wa.me/?text=${encodeURIComponent(le+" "+te)}`;break;case"telegram":pe=`https://t.me/share/url?url=${encodeURIComponent(te)}&text=${encodeURIComponent(le)}`;break}pe&&window.open(pe,"_blank","width=600,height=400")},D=de=>de===0?"Free":`$${de.toLocaleString("en-US")}`,A=de=>{switch(de){case"public":return"";case"campus":return"";case"shipping":return"";default:return""}},_=de=>{switch(de){case"public":return"Public Meeting";case"campus":return"Campus Pickup";case"shipping":return"Shipping Available";default:return"Contact Seller"}};if(i)return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:[r.jsx(ct,{}),r.jsx("div",{className:"flex items-center justify-center min-h-[80vh]",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 border-4 border-orange-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-white/70 text-lg",children:"Loading item details..."})]})})]});if(o||!n)return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:[r.jsx(ct,{}),r.jsx("div",{className:"flex items-center justify-center min-h-[80vh]",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Ci,{className:"text-red-400 text-2xl"})}),r.jsx("p",{className:"text-white/70 text-lg mb-4",children:o||"Item not found"}),r.jsx("button",{onClick:()=>e("/marketplace"),className:"px-6 py-3 bg-orange-500 hover:bg-orange-600 text-white rounded-full transition-colors",children:"Back to Marketplace"})]})})]});const z=n.images||[],I=z[u]||n.thumbnailUrl||"",M=()=>{j(!1),P(!1)},$=()=>{j(!1),P(!0)};return r.jsxs("div",{className:"nr-dots-page min-h-screen text-white",children:[r.jsx(ct,{}),r.jsxs("section",{className:"nr-hero-bg nr-hero-starry relative min-h-screen overflow-hidden",children:[r.jsxs("div",{className:"absolute inset-0",children:[r.jsx("div",{className:"hero-orb absolute top-1/4 left-1/4 w-32 h-32 bg-gradient-to-r from-orange-500/10 to-cyan-500/10 rounded-full blur-3xl"}),r.jsx("div",{className:"hero-orb absolute bottom-1/4 right-1/4 w-48 h-48 bg-gradient-to-r from-blue-500/10 to-purple-500/10 rounded-full blur-3xl"}),r.jsx("div",{className:"hero-orb absolute top-1/2 right-1/3 w-24 h-24 bg-gradient-to-r from-pink-500/10 to-orange-500/10 rounded-full blur-2xl"})]}),r.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[r.jsxs("nav",{className:"flex items-center space-x-2 text-sm text-white/60 mb-4",children:[r.jsx("button",{onClick:()=>e("/marketplace"),className:"hover:text-white/80 transition-colors",children:"Marketplace"}),r.jsx("span",{children:"/"}),r.jsx("span",{className:"text-white/80 font-medium",children:n.category}),r.jsx("span",{children:"/"}),r.jsx("span",{className:"text-white font-medium truncate",children:n.title})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"flex gap-4",children:[z.length>1&&r.jsx("div",{className:"flex flex-col gap-2 w-20",children:z.map((de,te)=>r.jsx("button",{onClick:()=>h(te),className:`w-20 h-20 rounded-xl overflow-hidden border-2 transition-all duration-200 ${te===u?"border-orange-500 shadow-lg shadow-orange-500/25":"border-white/20 hover:border-white/40 bg-white/5"}`,children:r.jsx(Qg,{src:de,alt:`${n.title} ${te+1}`,className:"w-full h-full",width:200,height:200,quality:80,loading:"lazy",showLoading:!1,showError:!1})},te))}),r.jsxs("div",{className:"flex-1 relative group",children:[r.jsxs("div",{className:"relative aspect-square rounded-2xl overflow-hidden bg-white/5 border border-white/10 cursor-zoom-in shadow-2xl",onClick:()=>f(!0),children:[r.jsx(Qg,{src:I,alt:n.title,className:"w-full h-full group-hover:scale-105 transition-transform duration-300",width:800,height:800,quality:85,loading:"lazy",onLoad:M,onError:$,fallbackIcon:Tr}),r.jsx("div",{className:"absolute top-4 right-4 bg-black/50 backdrop-blur-sm rounded-full p-2 opacity-0 group-hover:opacity-100 transition-opacity",children:r.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"})})})]}),z.length>1&&r.jsxs("div",{className:"absolute inset-0 flex items-center justify-between p-4 opacity-0 group-hover:opacity-100 transition-opacity",children:[r.jsx("button",{onClick:de=>{de.stopPropagation(),h(te=>te>0?te-1:z.length-1)},className:"w-10 h-10 bg-black/50 backdrop-blur-sm rounded-full flex items-center justify-center text-white hover:bg-black/70 transition-all duration-200 shadow-lg",children:r.jsx(q_,{className:"text-lg"})}),r.jsx("button",{onClick:de=>{de.stopPropagation(),h(te=>te<z.length-1?te+1:0)},className:"w-10 h-10 bg-black/50 backdrop-blur-sm rounded-full flex items-center justify-center text-white hover:bg-black/70 transition-all duration-200 shadow-lg",children:r.jsx(Zb,{className:"text-lg"})})]})]})]})}),r.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h1",{className:"text-2xl font-bold text-white mb-2 leading-tight",children:n.title}),r.jsxs("p",{className:"text-sm text-white/60 mb-3",children:["Item #",(O=n._id)==null?void 0:O.slice(-6).toUpperCase()]}),r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("span",{className:"inline-flex items-center rounded-full border border-white/10 bg-white/5 px-2 py-1 text-xs text-white/70",children:((L=n.condition)==null?void 0:L.charAt(0).toUpperCase())+((Y=n.condition)==null?void 0:Y.slice(1))}),r.jsx("span",{className:"inline-flex items-center rounded-full border border-white/10 bg-white/5 px-2 py-1 text-xs text-white/70",children:n.category})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:E,className:"rounded-lg border border-white/10 p-1.5 text-white/80 hover:bg-white/10",children:c?r.jsx(ef,{className:"text-lg"}):r.jsx(Xb,{className:"text-lg"})}),r.jsx("button",{onClick:T,className:"rounded-lg border border-white/10 p-1.5 text-white/80 hover:bg-white/10",children:r.jsx(VV,{className:"text-lg"})})]})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:"text-3xl font-bold text-white",children:D(n.price)}),r.jsx("p",{className:"text-sm text-white/70",children:"Negotiable  Cash preferred  No fees"})]})]}),r.jsxs("div",{className:"rounded-2xl border border-white/10 bg-gradient-to-br from-white/5 via-white/2 to-white/0 p-3",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"w-12 h-12 bg-white/10 rounded-full flex items-center justify-center border border-white/10",children:r.jsx(Tr,{className:"text-white/70 text-lg"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-white text-lg",children:((K=n.contactInfo)==null?void 0:K.name)||"Seller"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(q0,{className:"text-white/70 text-sm"}),r.jsx("span",{className:"text-sm text-white/70 font-medium",children:"Verified Seller"}),r.jsx("span",{className:"text-sm text-white/60",children:" Student"})]})]})]}),r.jsxs("div",{className:"text-sm text-white/70",children:[r.jsxs("p",{children:[" ",((B=n.contactInfo)==null?void 0:B.generalLocation)||"Campus area"]}),r.jsx("p",{children:" Responds within 2 hours"})]})]}),r.jsx("div",{className:"rounded-xl border border-white/10 bg-white/5 p-3",children:r.jsxs("p",{className:"text-sm text-white/70",children:[r.jsx("span",{className:"font-semibold",children:"12 people"})," viewed this in the last hour"]})}),r.jsx("div",{className:"rounded-2xl border border-white/10 bg-gradient-to-br from-white/5 via-white/2 to-white/0 p-4",children:r.jsxs("div",{className:"text-center space-y-3",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Interested in this item?"}),r.jsx("p",{className:"text-sm text-white/70",children:"Contact the seller to arrange a meeting"})]}),v?r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-3",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"w-10 h-10 bg-white/10 rounded-full flex items-center justify-center border border-white/10",children:r.jsx(Tr,{className:"text-white/70 text-lg"})}),r.jsxs("div",{children:[r.jsx("span",{className:"text-white font-semibold text-sm",children:((U=n.contactInfo)==null?void 0:U.name)||"Seller"}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(q0,{className:"text-white/70 text-xs"}),r.jsx("span",{className:"text-white/70 text-xs font-medium",children:"Verified"})]})]})]}),((V=n.contactInfo)==null?void 0:V.email)&&r.jsxs("div",{className:"flex items-center gap-3 py-2 border-b border-white/10",children:[r.jsx("div",{className:"w-8 h-8 bg-white/10 rounded-full flex items-center justify-center border border-white/10",children:r.jsx(LN,{className:"text-white/70 text-sm"})}),r.jsx("span",{className:"text-white flex-1 font-medium text-sm",children:n.contactInfo.email}),r.jsx("button",{onClick:()=>W(n.contactInfo.email),className:"p-1.5 hover:bg-white/10 rounded-lg transition-colors",children:r.jsx(Jg,{className:"text-white/60 text-xs"})})]}),((G=n.contactInfo)==null?void 0:G.phone)&&r.jsxs("div",{className:"flex items-center gap-3 py-2",children:[r.jsx("div",{className:"w-8 h-8 bg-white/10 rounded-full flex items-center justify-center border border-white/10",children:r.jsx(AN,{className:"text-white/70 text-sm"})}),r.jsx("span",{className:"text-white flex-1 font-medium text-sm",children:n.contactInfo.phone}),r.jsx("button",{onClick:()=>W(n.contactInfo.phone),className:"p-1.5 hover:bg-white/10 rounded-lg transition-colors",children:r.jsx(Jg,{className:"text-white/60 text-xs"})})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("button",{onClick:()=>{var de;return window.open(`mailto:${(de=n.contactInfo)==null?void 0:de.email}`,"_blank")},className:"rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-sm font-medium hover:bg-white/10 text-white flex items-center justify-center gap-2",children:[r.jsx(LN,{className:"text-sm"}),"Email"]}),((X=n.contactInfo)==null?void 0:X.phone)&&r.jsxs("button",{onClick:()=>window.open(`tel:${n.contactInfo.phone}`,"_blank"),className:"rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-sm font-medium hover:bg-white/10 text-white flex items-center justify-center gap-2",children:[r.jsx(AN,{className:"text-sm"}),"Call"]})]})]}):r.jsx("button",{onClick:()=>w(!0),className:"w-full bg-white/5 border border-white/10 hover:bg-white/10 text-white font-bold py-3 px-6 rounded-xl transition-all duration-200",children:r.jsxs("span",{className:"flex items-center justify-center gap-2",children:[r.jsx(Tr,{className:"text-lg"}),"Contact Seller"]})})]})})]}),r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"rounded-2xl border border-white/10 bg-gradient-to-br from-white/5 via-white/2 to-white/0 p-4",children:[r.jsxs("div",{className:"flex space-x-1 mb-4 bg-white/5 rounded-xl p-1 border border-white/10",children:[r.jsx("button",{className:"flex-1 py-2 px-4 text-sm font-medium text-orange-400 bg-white/10 rounded-lg shadow-sm",children:"Details"}),r.jsx("button",{className:"flex-1 py-2 px-4 text-sm font-medium text-white/60 hover:text-white/80",children:"Reviews"}),r.jsx("button",{className:"flex-1 py-2 px-4 text-sm font-medium text-white/60 hover:text-white/80",children:"Specs"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"Description"}),r.jsx("p",{className:"text-sm text-white/80 leading-relaxed",children:n.description})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"Product Details"}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-white/70",children:"Condition:"}),r.jsx("span",{className:"font-medium text-white capitalize",children:n.condition})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-white/70",children:"Category:"}),r.jsx("span",{className:"font-medium text-white",children:n.category})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-white/70",children:"Posted:"}),r.jsx("span",{className:"font-medium text-white",children:new Date(n.createdAt).toLocaleDateString()})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-white/70",children:"Views:"}),r.jsx("span",{className:"font-medium text-white",children:Math.floor(Math.random()*50)+10})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"What's Included"}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-2 h-2 bg-white/70 rounded-full"}),r.jsx("span",{className:"text-white/80",children:"Original packaging"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-2 h-2 bg-white/70 rounded-full"}),r.jsx("span",{className:"text-white/80",children:"All accessories"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-2 h-2 bg-white/70 rounded-full"}),r.jsx("span",{className:"text-white/80",children:"User manual"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-2 h-2 bg-white/70 rounded-full"}),r.jsx("span",{className:"text-white/80",children:"Warranty card"})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"Exchange Method"}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-white/10 rounded-full flex items-center justify-center border border-white/10",children:A((oe=n.contactInfo)==null?void 0:oe.exchangeMethod)}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-white",children:_((ne=n.contactInfo)==null?void 0:ne.exchangeMethod)}),r.jsxs("p",{className:"text-sm text-white/70",children:[((H=n.contactInfo)==null?void 0:H.exchangeMethod)==="public"&&"Meet in a public place for safety",((Z=n.contactInfo)==null?void 0:Z.exchangeMethod)==="campus"&&"Pickup available on campus",((fe=n.contactInfo)==null?void 0:fe.exchangeMethod)==="shipping"&&"Item can be shipped to you"]})]})]})]}),((ce=n.contactInfo)==null?void 0:ce.generalLocation)&&r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"Location"}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-white/10 rounded-full flex items-center justify-center border border-white/10",children:r.jsx(Bp,{className:"text-white/70 text-sm"})}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-white",children:n.contactInfo.generalLocation}),r.jsx("p",{className:"text-sm text-white/70",children:"General area only"})]})]})]}),r.jsx("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-white/10 rounded-full flex items-center justify-center flex-shrink-0 border border-white/10",children:r.jsx("span",{className:"text-white/70 text-sm",children:""})}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-white font-semibold text-sm mb-1",children:"Safety First"}),r.jsx("p",{className:"text-white/70 text-sm leading-relaxed",children:"Always meet in public places during daylight hours. Never share your home address."})]})]})})]})]})})]})]})]}),m&&r.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:r.jsxs("div",{className:"relative max-w-6xl max-h-[90vh] w-full",children:[r.jsx("button",{onClick:()=>f(!1),className:"absolute top-4 right-4 z-10 w-12 h-12 bg-white/10 backdrop-blur-sm rounded-full flex items-center justify-center text-white hover:bg-white/20 transition-all duration-200 shadow-lg border border-white/20",children:r.jsx(Ci,{className:"text-2xl"})}),r.jsx(Qg,{src:I,alt:n.title,className:"w-full h-full rounded-2xl shadow-2xl",width:1200,height:1200,quality:90,loading:"eager",style:{objectFit:"contain"}}),z.length>1&&r.jsx("div",{className:"absolute bottom-6 left-1/2 transform -translate-x-1/2 flex gap-3",children:z.map((de,te)=>r.jsx("button",{onClick:()=>h(te),className:`w-4 h-4 rounded-full transition-all duration-200 ${te===u?"bg-orange-500 shadow-lg shadow-orange-500/50":"bg-white/50 hover:bg-white/70"}`},te))})]})}),x&&r.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:r.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full shadow-2xl",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Share Item"}),r.jsx("button",{onClick:()=>g(!1),className:"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center text-gray-600 hover:bg-gray-200 transition-all duration-200",children:r.jsx(Ci,{className:"text-xl"})})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-3 p-4 bg-gray-50 rounded-xl border border-gray-200",children:[r.jsx("input",{type:"text",value:window.location.href,readOnly:!0,className:"flex-1 bg-transparent text-gray-700 text-sm"}),r.jsx("button",{onClick:()=>W(window.location.href),className:"p-3 hover:bg-gray-200 rounded-lg transition-colors",children:r.jsx(Jg,{className:"text-gray-500 text-lg"})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("button",{onClick:()=>F("facebook"),className:"group flex items-center justify-center gap-3 py-4 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold transition-all duration-200 shadow-lg hover:shadow-xl hover:scale-105",children:[r.jsx(FQ,{className:"text-xl"}),"Facebook"]}),r.jsxs("button",{onClick:()=>F("twitter"),className:"group flex items-center justify-center gap-3 py-4 bg-sky-500 hover:bg-sky-600 text-white rounded-xl font-semibold transition-all duration-200 shadow-lg hover:shadow-xl hover:scale-105",children:[r.jsx(BQ,{className:"text-xl"}),"Twitter"]}),r.jsxs("button",{onClick:()=>F("whatsapp"),className:"group flex items-center justify-center gap-3 py-4 bg-green-500 hover:bg-green-600 text-white rounded-xl font-semibold transition-all duration-200 shadow-lg hover:shadow-xl hover:scale-105",children:[r.jsx(c6,{className:"text-xl"}),"WhatsApp"]}),r.jsxs("button",{onClick:()=>F("telegram"),className:"group flex items-center justify-center gap-3 py-4 bg-blue-500 hover:bg-blue-600 text-white rounded-xl font-semibold transition-all duration-200 shadow-lg hover:shadow-xl hover:scale-105",children:[r.jsx(zQ,{className:"text-xl"}),"Telegram"]})]})]})]})})]})}const Fv=({itemData:t,isEdit:e,onClose:n,getAllItems:s,showToastMessage:i})=>{const[a,o]=p.useState({title:(t==null?void 0:t.title)||"",description:(t==null?void 0:t.description)||"",price:(t==null?void 0:t.price)||0,category:(t==null?void 0:t.category)||"",condition:(t==null?void 0:t.condition)||"used",address:(t==null?void 0:t.address)||{street:"",city:"",state:"",zipCode:""},contactInfo:(t==null?void 0:t.contactInfo)||{name:"",phone:"",email:""},files:[]});dt();const l=g=>{o(b=>({...b,files:g}))},{getRootProps:c,getInputProps:d}=pu({onDrop:l,accept:"image/*"}),u=g=>{o({...a,[g.target.name]:g.target.value})},h=g=>{o({...a,address:{...a.address,[g.target.name]:g.target.value}})},m=g=>{o({...a,contactInfo:{...a.contactInfo,[g.target.name]:g.target.value}})},f=async()=>{const g=new FormData;a.files.forEach(b=>{g.append("images",b)});try{return(await ge.post("/upload-images",g,{headers:{"Content-Type":"multipart/form-data"}})).data.imageUrls}catch(b){throw console.error("Error uploading images:",b),new Error("Failed to upload images")}},x=async g=>{g.preventDefault();try{const b=await f(),y={...a,images:b};e?(await ge.put(`/marketplace/item/${t._id}`,y),i("Marketplace Item Updated Successfully","edit")):(await ge.post("/marketplace/item",y),i("Marketplace Item Created Successfully","add")),s(),n()}catch(b){console.error("Error creating/editing item:",b)}};return r.jsx("div",{className:"bg-gray-50 min-h-screen",children:r.jsxs("div",{className:"max-w-4xl mx-auto mt-15 px-4",children:[r.jsx("h1",{className:"text-3xl font-bold mb-6 text-center",children:e?"Edit Item":"Add New Item"}),r.jsxs("form",{onSubmit:x,className:"space-y-6 bg-white p-8 shadow-md rounded-lg border border-gray-200",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Item Title"}),r.jsx("input",{type:"text",name:"title",placeholder:"Enter the item title",className:"w-full px-3 py-2 border rounded-md",value:a.title,onChange:u}),r.jsx("label",{className:"block text-sm font-medium mt-4",children:"Price ($)"}),r.jsx("input",{type:"number",name:"price",placeholder:"0",className:"w-full px-3 py-2 border rounded-md",value:a.price,onChange:u}),r.jsx("label",{className:"block text-sm font-medium mt-4",children:"Category"}),r.jsx("input",{type:"text",name:"category",placeholder:"E.g., Electronics, Furniture, etc.",className:"w-full px-3 py-2 border rounded-md",value:a.category,onChange:u}),r.jsx("label",{className:"block text-sm font-medium mt-4",children:"Condition"}),r.jsxs("select",{name:"condition",className:"w-full px-3 py-2 border rounded-md",value:a.condition,onChange:u,children:[r.jsx("option",{value:"New",children:"New"}),r.jsx("option",{value:"Used",children:"Used"})]}),r.jsx("label",{className:"block text-sm font-medium mt-4",children:"Address"}),r.jsx("input",{type:"text",name:"street",placeholder:"Street",className:"w-full px-3 py-2 border rounded-md",value:a.address.street,onChange:h}),r.jsxs("div",{className:"flex gap-4 mt-2",children:[r.jsx("input",{type:"text",name:"city",placeholder:"City",className:"w-1/3 px-3 py-2 border rounded-md",value:a.address.city,onChange:h}),r.jsx("input",{type:"text",name:"state",placeholder:"State",className:"w-1/3 px-3 py-2 border rounded-md",value:a.address.state,onChange:h}),r.jsx("input",{type:"text",name:"zipCode",placeholder:"Zip Code",className:"w-1/3 px-3 py-2 border rounded-md",value:a.address.zipCode,onChange:h})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Item Description"}),r.jsx("textarea",{name:"description",placeholder:"Enter a brief description of the item",className:"w-full px-3 py-2 border rounded-md",value:a.description,onChange:u}),r.jsx("label",{className:"block text-sm font-medium mt-4",children:"Upload Images"}),r.jsxs("div",{...c(),className:"w-full border border-dashed rounded-md p-4 flex justify-center items-center",children:[r.jsx("input",{...d()}),"Drag & drop images here, or click to select files"]}),r.jsx("label",{className:"block text-sm font-medium mt-4",children:"Contact Information"}),r.jsx("input",{type:"text",name:"name",placeholder:"Contact Name",className:"w-full px-3 py-2 border rounded-md",value:a.contactInfo.name,onChange:m}),r.jsx("input",{type:"text",name:"phone",placeholder:"Contact Phone",className:"w-full px-3 py-2 border rounded-md mt-2",value:a.contactInfo.phone,onChange:m}),r.jsx("input",{type:"email",name:"email",placeholder:"Contact Email",className:"w-full px-3 py-2 border rounded-md mt-2",value:a.contactInfo.email,onChange:m})]})]}),r.jsx("div",{className:"flex justify-center mt-8",children:r.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700",children:e?"Update Item":"Create Item"})})]})]})})};function Ud(t){"@babel/helpers - typeof";return Ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ud(t)}function UQ(t,e){if(Ud(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(Ud(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WQ(t){var e=UQ(t,"string");return Ud(e)=="symbol"?e:e+""}function me(t,e,n){return(e=WQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d6(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ex,W5;function HQ(){if(W5)return ex;W5=1;var t=function(n,s,i,a,o,l,c,d){if(!n){var u;if(s===void 0)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var h=[i,a,o,l,c,d],m=0;u=new Error(s.replace(/%s/g,function(){return h[m++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}};return ex=t,ex}var qQ=HQ(),Xt=d6(qQ),Ue=p.createContext(null);function GQ(){Xt(!!p.useContext,"useGoogleMap is React hook and requires React version 16.8+");var t=p.useContext(Ue);return Xt(!!t,"useGoogleMap needs a GoogleMap available up in the tree"),t}function KQ(t,e,n){return Object.keys(t).reduce(function(i,a){return e(i,t[a],a)},n)}function YQ(t,e){Object.keys(t).forEach(n=>e(t[n],n))}function XQ(t,e,n,s){var i={},a=(o,l)=>{var c=n[l];c!==e[l]&&(i[l]=c,o(s,c))};return YQ(t,a),i}function ZQ(t,e,n){var s=KQ(n,function(a,o,l){return typeof t[l]=="function"&&a.push(google.maps.event.addListener(e,o,t[l])),a},[]);return s}function QQ(t){google.maps.event.removeListener(t)}function Ge(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];t.forEach(QQ)}function He(t){var{updaterMap:e,eventMap:n,prevProps:s,nextProps:i,instance:a}=t,o=ZQ(i,a,n);return XQ(e,s,i,a),o}var H5={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},q5={extraMapTypes(t,e){e.forEach(function(s,i){t.mapTypes.set(String(i),s)})},center(t,e){t.setCenter(e)},clickableIcons(t,e){t.setClickableIcons(e)},heading(t,e){t.setHeading(e)},mapTypeId(t,e){t.setMapTypeId(e)},options(t,e){t.setOptions(e)},streetView(t,e){t.setStreetView(e)},tilt(t,e){t.setTilt(e)},zoom(t,e){t.setZoom(e)}};function JQ(t){var{children:e,options:n,id:s,mapContainerStyle:i,mapContainerClassName:a,center:o,onClick:l,onDblClick:c,onDrag:d,onDragEnd:u,onDragStart:h,onMouseMove:m,onMouseOut:f,onMouseOver:x,onMouseDown:g,onMouseUp:b,onRightClick:y,onCenterChanged:v,onLoad:w,onUnmount:N}=t,[j,k]=p.useState(null),P=p.useRef(null),[S,E]=p.useState(null),[T,W]=p.useState(null),[F,D]=p.useState(null),[A,_]=p.useState(null),[z,I]=p.useState(null),[M,$]=p.useState(null),[O,L]=p.useState(null),[Y,K]=p.useState(null),[B,U]=p.useState(null),[V,G]=p.useState(null),[X,oe]=p.useState(null),[ne,H]=p.useState(null);return p.useEffect(()=>{n&&j!==null&&j.setOptions(n)},[j,n]),p.useEffect(()=>{j!==null&&typeof o<"u"&&j.setCenter(o)},[j,o]),p.useEffect(()=>{j&&c&&(T!==null&&google.maps.event.removeListener(T),W(google.maps.event.addListener(j,"dblclick",c)))},[c]),p.useEffect(()=>{j&&u&&(F!==null&&google.maps.event.removeListener(F),D(google.maps.event.addListener(j,"dragend",u)))},[u]),p.useEffect(()=>{j&&h&&(A!==null&&google.maps.event.removeListener(A),_(google.maps.event.addListener(j,"dragstart",h)))},[h]),p.useEffect(()=>{j&&g&&(z!==null&&google.maps.event.removeListener(z),I(google.maps.event.addListener(j,"mousedown",g)))},[g]),p.useEffect(()=>{j&&m&&(M!==null&&google.maps.event.removeListener(M),$(google.maps.event.addListener(j,"mousemove",m)))},[m]),p.useEffect(()=>{j&&f&&(O!==null&&google.maps.event.removeListener(O),L(google.maps.event.addListener(j,"mouseout",f)))},[f]),p.useEffect(()=>{j&&x&&(Y!==null&&google.maps.event.removeListener(Y),K(google.maps.event.addListener(j,"mouseover",x)))},[x]),p.useEffect(()=>{j&&b&&(B!==null&&google.maps.event.removeListener(B),U(google.maps.event.addListener(j,"mouseup",b)))},[b]),p.useEffect(()=>{j&&y&&(V!==null&&google.maps.event.removeListener(V),G(google.maps.event.addListener(j,"rightclick",y)))},[y]),p.useEffect(()=>{j&&l&&(X!==null&&google.maps.event.removeListener(X),oe(google.maps.event.addListener(j,"click",l)))},[l]),p.useEffect(()=>{j&&d&&(ne!==null&&google.maps.event.removeListener(ne),H(google.maps.event.addListener(j,"drag",d)))},[d]),p.useEffect(()=>{j&&v&&(S!==null&&google.maps.event.removeListener(S),E(google.maps.event.addListener(j,"center_changed",v)))},[l]),p.useEffect(()=>{var Z=P.current===null?null:new google.maps.Map(P.current,n);return k(Z),Z!==null&&w&&w(Z),()=>{Z!==null&&N&&N(Z)}},[]),r.jsx("div",{id:s,ref:P,style:i,className:a,children:r.jsx(Ue.Provider,{value:j,children:j!==null?e:null})})}p.memo(JQ);class eJ extends p.PureComponent{constructor(){super(...arguments),me(this,"state",{map:null}),me(this,"registeredEvents",[]),me(this,"mapRef",null),me(this,"getInstance",()=>this.mapRef===null?null:new google.maps.Map(this.mapRef,this.props.options)),me(this,"panTo",e=>{var n=this.getInstance();n&&n.panTo(e)}),me(this,"setMapCallback",()=>{this.state.map!==null&&this.props.onLoad&&this.props.onLoad(this.state.map)}),me(this,"getRef",e=>{this.mapRef=e})}componentDidMount(){var e=this.getInstance();this.registeredEvents=He({updaterMap:q5,eventMap:H5,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{map:e}},this.setMapCallback)}componentDidUpdate(e){this.state.map!==null&&(Ge(this.registeredEvents),this.registeredEvents=He({updaterMap:q5,eventMap:H5,prevProps:e,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),Ge(this.registeredEvents))}render(){return r.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:r.jsx(Ue.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:null})})}}function G5(t,e,n,s,i,a,o){try{var l=t[a](o),c=l.value}catch(d){return void n(d)}l.done?e(c):Promise.resolve(c).then(s,i)}function u6(t){return function(){var e=this,n=arguments;return new Promise(function(s,i){var a=t.apply(e,n);function o(c){G5(a,s,i,o,l,"next",c)}function l(c){G5(a,s,i,o,l,"throw",c)}o(void 0)})}}function h6(t){var{googleMapsApiKey:e,googleMapsClientId:n,version:s="weekly",language:i,region:a,libraries:o,channel:l,mapIds:c,authReferrerPolicy:d,apiUrl:u="https://maps.googleapis.com"}=t,h=[];return Xt(e&&n||!(e&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),e?h.push("key=".concat(e)):n&&h.push("client=".concat(n)),s&&h.push("v=".concat(s)),i&&h.push("language=".concat(i)),a&&h.push("region=".concat(a)),o&&o.length&&h.push("libraries=".concat(o.sort().join(","))),l&&h.push("channel=".concat(l)),c&&c.length&&h.push("map_ids=".concat(c.join(","))),d&&h.push("auth_referrer_policy=".concat(d)),h.push("loading=async"),h.push("callback=initMap"),"".concat(u,"/maps/api/js?").concat(h.join("&"))}var mi=typeof document<"u";function p6(t){var{url:e,id:n,nonce:s}=t;return mi?new Promise(function(a,o){var l=document.getElementById(n),c=window;if(l){var d=l.getAttribute("data-state");if(l.src===e&&d!=="error"){if(d==="ready")return a(n);var u=c.initMap,h=l.onerror;c.initMap=function(){u&&u(),a(n)},l.onerror=function(f){h&&h(f),o(f)};return}else l.remove()}var m=document.createElement("script");m.type="text/javascript",m.src=e,m.id=n,m.async=!0,m.nonce=s||"",m.onerror=function(x){m.setAttribute("data-state","error"),o(x)},c.initMap=function(){m.setAttribute("data-state","ready"),a(n)},document.head.appendChild(m)}).catch(i=>{throw console.error("injectScript error: ",i),i}):Promise.reject(new Error("document is undefined"))}function K5(t){var e=t.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:t.tagName.toLowerCase()==="style"&&t.styleSheet&&t.styleSheet.cssText&&t.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(t.styleSheet.cssText="",!0):t.tagName.toLowerCase()==="style"&&t.innerHTML&&t.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(t.innerHTML="",!0):t.tagName.toLowerCase()==="style"&&!t.styleSheet&&!t.innerHTML}function J1(){var t=document.getElementsByTagName("head")[0];if(t){var e=t.insertBefore.bind(t);t.insertBefore=function(i,a){return K5(i)||Reflect.apply(e,t,[i,a]),i};var n=t.appendChild.bind(t);t.appendChild=function(i){return K5(i)||Reflect.apply(n,t,[i]),i}}}var ec=!1;function m6(){return r.jsx("div",{children:"Loading..."})}var Wd={id:"script-loader",version:"weekly"};class tJ extends p.PureComponent{constructor(){super(...arguments),me(this,"check",null),me(this,"state",{loaded:!1}),me(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),me(this,"isCleaningUp",u6(function*(){function e(n){if(!ec)n();else if(mi)var s=window.setInterval(function(){ec||(window.clearInterval(s),n())},1)}return new Promise(e)})),me(this,"cleanup",()=>{ec=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(s){return typeof s.src=="string"&&s.src.includes("maps.googleapis")}).forEach(function(s){s.parentNode&&s.parentNode.removeChild(s)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(s){return s.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(s){s.parentNode&&s.parentNode.removeChild(s)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(s){return s.innerText!==void 0&&s.innerText.length>0&&s.innerText.includes(".gm-")}).forEach(function(s){s.parentNode&&s.parentNode.removeChild(s)})}),me(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&J1(),Xt(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var e={id:this.props.id,nonce:this.props.nonce,url:h6(this.props)};p6(e).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(n=>{this.props.onError&&this.props.onError(n),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})}),me(this,"getRef",e=>{this.check=e})}componentDidMount(){if(mi){if(window.google&&window.google.maps&&!ec){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(n){console.error("Error at injecting script after cleaning up: ",n)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),mi&&e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(mi){this.cleanup();var e=()=>{this.check||(delete window.google,ec=!1)};window.setTimeout(e,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return r.jsxs(r.Fragment,{children:[r.jsx("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||r.jsx(m6,{})]})}}me(tJ,"defaultProps",Wd);function nJ(t,e){if(t==null)return{};var n={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(e.includes(s))continue;n[s]=t[s]}return n}function ew(t,e){if(t==null)return{};var n,s,i=nJ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var Y5;function sJ(t){var{id:e=Wd.id,version:n=Wd.version,nonce:s,googleMapsApiKey:i,googleMapsClientId:a,language:o,region:l,libraries:c,preventGoogleFontsLoading:d,channel:u,mapIds:h,authReferrerPolicy:m,apiUrl:f="https://maps.googleapis.com"}=t,x=p.useRef(!1),[g,b]=p.useState(!1),[y,v]=p.useState(void 0);p.useEffect(function(){return x.current=!0,()=>{x.current=!1}},[]),p.useEffect(function(){mi&&d&&J1()},[d]),p.useEffect(function(){g&&Xt(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[g]);var w=h6({version:n,googleMapsApiKey:i,googleMapsClientId:a,language:o,region:l,libraries:c,channel:u,mapIds:h,authReferrerPolicy:m,apiUrl:f});p.useEffect(function(){if(!mi)return;function k(){x.current&&(b(!0),Y5=w)}if(window.google&&window.google.maps&&Y5===w){k();return}p6({id:e,url:w,nonce:s}).then(k).catch(function(S){x.current&&v(S),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(i||"-",") or Client ID (").concat(a||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(S)})},[e,w,s]);var N=p.useRef(void 0);return p.useEffect(function(){N.current&&c!==N.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),N.current=c},[c]),{isLoaded:g,loadError:y,url:w}}var rJ=["loadingElement","onLoad","onError","onUnmount","children"],iJ=r.jsx(m6,{});function aJ(t){var{loadingElement:e,onLoad:n,onError:s,onUnmount:i,children:a}=t,o=ew(t,rJ),{isLoaded:l,loadError:c}=sJ(o);return p.useEffect(function(){l&&typeof n=="function"&&n()},[l,n]),p.useEffect(function(){c&&typeof s=="function"&&s(c)},[c,s]),p.useEffect(function(){return()=>{i&&i()}},[i]),l?a:e||iJ}p.memo(aJ);function oJ(t,e,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((s=s.apply(t,[])).next())})}function lJ(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var cJ=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var s,i,a;if(Array.isArray(e)){if(s=e.length,s!=n.length)return!1;for(i=s;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(a=Object.keys(e),s=a.length,s!==Object.keys(n).length)return!1;for(i=s;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=s;i--!==0;){var o=a[i];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n},dJ=lJ(cJ),X5="__googleMapsScriptId",Ro;(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(Ro||(Ro={}));class la{constructor(e){var{apiKey:n,authReferrerPolicy:s,channel:i,client:a,id:o=X5,language:l,libraries:c=[],mapIds:d,nonce:u,region:h,retries:m=3,url:f="https://maps.googleapis.com/maps/api/js",version:x}=e;if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=n,this.authReferrerPolicy=s,this.channel=i,this.client=a,this.id=o||X5,this.language=l,this.libraries=c,this.mapIds=d,this.nonce=u,this.region=h,this.retries=m,this.url=f,this.version=x,la.instance){if(!dJ(this.options,la.instance.options))throw new Error("Loader must not be called again with different options. ".concat(JSON.stringify(this.options)," !== ").concat(JSON.stringify(la.instance.options)));return la.instance}la.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?Ro.FAILURE:this.done?Ro.SUCCESS:this.loading?Ro.LOADING:Ro.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){var e=this.url;return e+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(e+="&key=".concat(this.apiKey)),this.channel&&(e+="&channel=".concat(this.channel)),this.client&&(e+="&client=".concat(this.client)),this.libraries.length>0&&(e+="&libraries=".concat(this.libraries.join(","))),this.language&&(e+="&language=".concat(this.language)),this.region&&(e+="&region=".concat(this.region)),this.version&&(e+="&v=".concat(this.version)),this.mapIds&&(e+="&map_ids=".concat(this.mapIds.join(","))),this.authReferrerPolicy&&(e+="&auth_referrer_policy=".concat(this.authReferrerPolicy)),e}deleteScript(){var e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,n)=>{this.loadCallback(s=>{s?n(s.error):e(window.google)})})}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,n;if(document.getElementById(this.id)){this.callback();return}var s={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(s).forEach(a=>!s[a]&&delete s[a]),!((n=(e=window==null?void 0:window.google)===null||e===void 0?void 0:e.maps)===null||n===void 0)&&n.importLibrary||(a=>{var o,l,c,d="The Google Maps JavaScript API",u="google",h="importLibrary",m="__ib__",f=document,x=window;x=x[u]||(x[u]={});var g=x.maps||(x.maps={}),b=new Set,y=new URLSearchParams,v=()=>o||(o=new Promise((w,N)=>oJ(this,void 0,void 0,function*(){var j;yield l=f.createElement("script"),l.id=this.id,y.set("libraries",[...b]+"");for(c in a)y.set(c.replace(/[A-Z]/g,k=>"_"+k[0].toLowerCase()),a[c]);y.set("callback",u+".maps."+m),l.src=this.url+"?"+y,g[m]=w,l.onerror=()=>o=N(Error(d+" could not load.")),l.nonce=this.nonce||((j=f.querySelector("script[nonce]"))===null||j===void 0?void 0:j.nonce)||"",f.head.append(l)})));g[h]?console.warn(d+" only loads once. Ignoring:",a):g[h]=function(w){for(var N=arguments.length,j=new Array(N>1?N-1:0),k=1;k<N;k++)j[k-1]=arguments[k];return b.add(w)&&v().then(()=>g[h](w,...j))}})(s);var i=this.libraries.map(a=>this.importLibrary(a));i.length||i.push(this.importLibrary("core")),Promise.all(i).then(()=>this.callback(),a=>{var o=new ErrorEvent("error",{error:a});this.loadErrorCallback(o)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){var n=this.errors.length*Math.pow(2,this.errors.length);console.error("Failed to load Google Maps script, retrying in ".concat(n," ms.")),setTimeout(()=>{this.deleteScript(),this.setScript()},n)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}var uJ=["maps"];function hJ(t){var{id:e=Wd.id,version:n=Wd.version,nonce:s,googleMapsApiKey:i,language:a,region:o,libraries:l=uJ,preventGoogleFontsLoading:c,mapIds:d,authReferrerPolicy:u}=t,h=p.useRef(!1),[m,f]=p.useState(!1),[x,g]=p.useState(void 0);p.useEffect(function(){return h.current=!0,()=>{h.current=!1}},[]);var b=p.useMemo(()=>new la({id:e,apiKey:i,version:n,libraries:l,language:a||"en",region:o||"US",mapIds:d||[],nonce:s||"",authReferrerPolicy:u||"origin"}),[e,i,n,l,a,o,d,s,u]);p.useEffect(function(){m||b.load().then(()=>{h.current&&f(!0)}).catch(w=>{g(w)})},[]),p.useEffect(()=>{mi&&c&&J1()},[c]);var y=p.useRef();return p.useEffect(()=>{y.current&&l!==y.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),y.current=l},[l]),{isLoaded:m,loadError:x}}function Z5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function am(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z5(Object(n),!0).forEach(function(s){me(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z5(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var Q5={},J5={options(t,e){t.setOptions(e)}};function pJ(t){var{options:e,onLoad:n,onUnmount:s}=t,i=p.useContext(Ue),[a,o]=p.useState(null);return p.useEffect(()=>{a!==null&&a.setMap(i)},[i]),p.useEffect(()=>{e&&a!==null&&a.setOptions(e)},[a,e]),p.useEffect(()=>{var l=new google.maps.TrafficLayer(am(am({},e),{},{map:i}));return o(l),n&&n(l),()=>{a!==null&&(s&&s(a),a.setMap(null))}},[]),null}p.memo(pJ);class mJ extends p.PureComponent{constructor(){super(...arguments),me(this,"state",{trafficLayer:null}),me(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),me(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(am(am({},this.props.options),{},{map:this.context}));this.registeredEvents=He({updaterMap:J5,eventMap:Q5,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){this.state.trafficLayer!==null&&(Ge(this.registeredEvents),this.registeredEvents=He({updaterMap:J5,eventMap:Q5,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),Ge(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}me(mJ,"contextType",Ue);function fJ(t){var{onLoad:e,onUnmount:n}=t,s=p.useContext(Ue),[i,a]=p.useState(null);return p.useEffect(()=>{i!==null&&i.setMap(s)},[s]),p.useEffect(()=>{var o=new google.maps.BicyclingLayer;return a(o),o.setMap(s),e&&e(o),()=>{o!==null&&(n&&n(o),o.setMap(null))}},[]),null}p.memo(fJ);class gJ extends p.PureComponent{constructor(){super(...arguments),me(this,"state",{bicyclingLayer:null}),me(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}me(gJ,"contextType",Ue);function xJ(t){var{onLoad:e,onUnmount:n}=t,s=p.useContext(Ue),[i,a]=p.useState(null);return p.useEffect(()=>{i!==null&&i.setMap(s)},[s]),p.useEffect(()=>{var o=new google.maps.TransitLayer;return a(o),o.setMap(s),e&&e(o),()=>{i!==null&&(n&&n(i),i.setMap(null))}},[]),null}p.memo(xJ);class vJ extends p.PureComponent{constructor(){super(...arguments),me(this,"state",{transitLayer:null}),me(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}me(vJ,"contextType",Ue);function e4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function om(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e4(Object(n),!0).forEach(function(s){me(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e4(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var t4={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},n4={drawingMode(t,e){t.setDrawingMode(e)},options(t,e){t.setOptions(e)}};function yJ(t){var{options:e,drawingMode:n,onCircleComplete:s,onMarkerComplete:i,onOverlayComplete:a,onPolygonComplete:o,onPolylineComplete:l,onRectangleComplete:c,onLoad:d,onUnmount:u}=t,h=p.useContext(Ue),[m,f]=p.useState(null),[x,g]=p.useState(null),[b,y]=p.useState(null),[v,w]=p.useState(null),[N,j]=p.useState(null),[k,P]=p.useState(null),[S,E]=p.useState(null);return p.useEffect(()=>{m!==null&&m.setMap(h)},[h]),p.useEffect(()=>{e&&m!==null&&m.setOptions(e)},[m,e]),p.useEffect(()=>{m!==null&&m.setDrawingMode(n??null)},[m,n]),p.useEffect(()=>{m&&s&&(x!==null&&google.maps.event.removeListener(x),g(google.maps.event.addListener(m,"circlecomplete",s)))},[m,s]),p.useEffect(()=>{m&&i&&(b!==null&&google.maps.event.removeListener(b),y(google.maps.event.addListener(m,"markercomplete",i)))},[m,i]),p.useEffect(()=>{m&&a&&(v!==null&&google.maps.event.removeListener(v),w(google.maps.event.addListener(m,"overlaycomplete",a)))},[m,a]),p.useEffect(()=>{m&&o&&(N!==null&&google.maps.event.removeListener(N),j(google.maps.event.addListener(m,"polygoncomplete",o)))},[m,o]),p.useEffect(()=>{m&&l&&(k!==null&&google.maps.event.removeListener(k),P(google.maps.event.addListener(m,"polylinecomplete",l)))},[m,l]),p.useEffect(()=>{m&&c&&(S!==null&&google.maps.event.removeListener(S),E(google.maps.event.addListener(m,"rectanglecomplete",c)))},[m,c]),p.useEffect(()=>{Xt(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var T=new google.maps.drawing.DrawingManager(om(om({},e),{},{map:h}));return n&&T.setDrawingMode(n),s&&g(google.maps.event.addListener(T,"circlecomplete",s)),i&&y(google.maps.event.addListener(T,"markercomplete",i)),a&&w(google.maps.event.addListener(T,"overlaycomplete",a)),o&&j(google.maps.event.addListener(T,"polygoncomplete",o)),l&&P(google.maps.event.addListener(T,"polylinecomplete",l)),c&&E(google.maps.event.addListener(T,"rectanglecomplete",c)),f(T),d&&d(T),()=>{m!==null&&(x&&google.maps.event.removeListener(x),b&&google.maps.event.removeListener(b),v&&google.maps.event.removeListener(v),N&&google.maps.event.removeListener(N),k&&google.maps.event.removeListener(k),S&&google.maps.event.removeListener(S),u&&u(m),m.setMap(null))}},[]),null}p.memo(yJ);class bJ extends p.PureComponent{constructor(e){super(e),me(this,"registeredEvents",[]),me(this,"state",{drawingManager:null}),me(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),Xt(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager(om(om({},this.props.options),{},{map:this.context}));this.registeredEvents=He({updaterMap:n4,eventMap:t4,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){this.state.drawingManager!==null&&(Ge(this.registeredEvents),this.registeredEvents=He({updaterMap:n4,eventMap:t4,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),Ge(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}me(bJ,"contextType",Ue);function s4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function Ko(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s4(Object(n),!0).forEach(function(s){me(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s4(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var r4={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},i4={animation(t,e){t.setAnimation(e)},clickable(t,e){t.setClickable(e)},cursor(t,e){t.setCursor(e)},draggable(t,e){t.setDraggable(e)},icon(t,e){t.setIcon(e)},label(t,e){t.setLabel(e)},map(t,e){t.setMap(e)},opacity(t,e){t.setOpacity(e)},options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},shape(t,e){t.setShape(e)},title(t,e){t.setTitle(e)},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},lm={};function wJ(t){var{position:e,options:n,clusterer:s,noClustererRedraw:i,children:a,draggable:o,visible:l,animation:c,clickable:d,cursor:u,icon:h,label:m,opacity:f,shape:x,title:g,zIndex:b,onClick:y,onDblClick:v,onDrag:w,onDragEnd:N,onDragStart:j,onMouseOut:k,onMouseOver:P,onMouseUp:S,onMouseDown:E,onRightClick:T,onClickableChanged:W,onCursorChanged:F,onAnimationChanged:D,onDraggableChanged:A,onFlatChanged:_,onIconChanged:z,onPositionChanged:I,onShapeChanged:M,onTitleChanged:$,onVisibleChanged:O,onZindexChanged:L,onLoad:Y,onUnmount:K}=t,B=p.useContext(Ue),[U,V]=p.useState(null),[G,X]=p.useState(null),[oe,ne]=p.useState(null),[H,Z]=p.useState(null),[fe,ce]=p.useState(null),[de,te]=p.useState(null),[le,pe]=p.useState(null),[Q,we]=p.useState(null),[be,ee]=p.useState(null),[ue,C]=p.useState(null),[q,re]=p.useState(null),[J,ae]=p.useState(null),[Se,Ee]=p.useState(null),[Le,Ze]=p.useState(null),[it,sn]=p.useState(null),[qt,bt]=p.useState(null),[tt,Zt]=p.useState(null),[Mt,Xs]=p.useState(null),[Kn,Nn]=p.useState(null),[Zs,Za]=p.useState(null),[Ms,Hr]=p.useState(null),[R,xe]=p.useState(null);p.useEffect(()=>{U!==null&&U.setMap(B)},[B]),p.useEffect(()=>{typeof n<"u"&&U!==null&&U.setOptions(n)},[U,n]),p.useEffect(()=>{typeof o<"u"&&U!==null&&U.setDraggable(o)},[U,o]),p.useEffect(()=>{e&&U!==null&&U.setPosition(e)},[U,e]),p.useEffect(()=>{typeof l<"u"&&U!==null&&U.setVisible(l)},[U,l]),p.useEffect(()=>{U==null||U.setAnimation(c)},[U,c]),p.useEffect(()=>{U&&d!==void 0&&U.setClickable(d)},[U,d]),p.useEffect(()=>{U&&u!==void 0&&U.setCursor(u)},[U,u]),p.useEffect(()=>{U&&h!==void 0&&U.setIcon(h)},[U,h]),p.useEffect(()=>{U&&m!==void 0&&U.setLabel(m)},[U,m]),p.useEffect(()=>{U&&f!==void 0&&U.setOpacity(f)},[U,f]),p.useEffect(()=>{U&&x!==void 0&&U.setShape(x)},[U,x]),p.useEffect(()=>{U&&g!==void 0&&U.setTitle(g)},[U,g]),p.useEffect(()=>{U&&b!==void 0&&U.setZIndex(b)},[U,b]),p.useEffect(()=>{U&&v&&(G!==null&&google.maps.event.removeListener(G),X(google.maps.event.addListener(U,"dblclick",v)))},[v]),p.useEffect(()=>{U&&N&&(oe!==null&&google.maps.event.removeListener(oe),ne(google.maps.event.addListener(U,"dragend",N)))},[N]),p.useEffect(()=>{U&&j&&(H!==null&&google.maps.event.removeListener(H),Z(google.maps.event.addListener(U,"dragstart",j)))},[j]),p.useEffect(()=>{U&&E&&(fe!==null&&google.maps.event.removeListener(fe),ce(google.maps.event.addListener(U,"mousedown",E)))},[E]),p.useEffect(()=>{U&&k&&(de!==null&&google.maps.event.removeListener(de),te(google.maps.event.addListener(U,"mouseout",k)))},[k]),p.useEffect(()=>{U&&P&&(le!==null&&google.maps.event.removeListener(le),pe(google.maps.event.addListener(U,"mouseover",P)))},[P]),p.useEffect(()=>{U&&S&&(Q!==null&&google.maps.event.removeListener(Q),we(google.maps.event.addListener(U,"mouseup",S)))},[S]),p.useEffect(()=>{U&&T&&(be!==null&&google.maps.event.removeListener(be),ee(google.maps.event.addListener(U,"rightclick",T)))},[T]),p.useEffect(()=>{U&&y&&(ue!==null&&google.maps.event.removeListener(ue),C(google.maps.event.addListener(U,"click",y)))},[y]),p.useEffect(()=>{U&&w&&(q!==null&&google.maps.event.removeListener(q),re(google.maps.event.addListener(U,"drag",w)))},[w]),p.useEffect(()=>{U&&W&&(J!==null&&google.maps.event.removeListener(J),ae(google.maps.event.addListener(U,"clickable_changed",W)))},[W]),p.useEffect(()=>{U&&F&&(Se!==null&&google.maps.event.removeListener(Se),Ee(google.maps.event.addListener(U,"cursor_changed",F)))},[F]),p.useEffect(()=>{U&&D&&(Le!==null&&google.maps.event.removeListener(Le),Ze(google.maps.event.addListener(U,"animation_changed",D)))},[D]),p.useEffect(()=>{U&&A&&(it!==null&&google.maps.event.removeListener(it),sn(google.maps.event.addListener(U,"draggable_changed",A)))},[A]),p.useEffect(()=>{U&&_&&(qt!==null&&google.maps.event.removeListener(qt),bt(google.maps.event.addListener(U,"flat_changed",_)))},[_]),p.useEffect(()=>{U&&z&&(tt!==null&&google.maps.event.removeListener(tt),Zt(google.maps.event.addListener(U,"icon_changed",z)))},[z]),p.useEffect(()=>{U&&I&&(Mt!==null&&google.maps.event.removeListener(Mt),Xs(google.maps.event.addListener(U,"position_changed",I)))},[I]),p.useEffect(()=>{U&&M&&(Kn!==null&&google.maps.event.removeListener(Kn),Nn(google.maps.event.addListener(U,"shape_changed",M)))},[M]),p.useEffect(()=>{U&&$&&(Zs!==null&&google.maps.event.removeListener(Zs),Za(google.maps.event.addListener(U,"title_changed",$)))},[$]),p.useEffect(()=>{U&&O&&(Ms!==null&&google.maps.event.removeListener(Ms),Hr(google.maps.event.addListener(U,"visible_changed",O)))},[O]),p.useEffect(()=>{U&&L&&(R!==null&&google.maps.event.removeListener(R),xe(google.maps.event.addListener(U,"zindex_changed",L)))},[L]),p.useEffect(()=>{var Pe=Ko(Ko(Ko({},n||lm),s?lm:{map:B}),{},{position:e}),Ce=new google.maps.Marker(Pe);return s?s.addMarker(Ce,!!i):Ce.setMap(B),e&&Ce.setPosition(e),typeof l<"u"&&Ce.setVisible(l),typeof o<"u"&&Ce.setDraggable(o),typeof d<"u"&&Ce.setClickable(d),typeof u=="string"&&Ce.setCursor(u),h&&Ce.setIcon(h),typeof m<"u"&&Ce.setLabel(m),typeof f<"u"&&Ce.setOpacity(f),x&&Ce.setShape(x),typeof g=="string"&&Ce.setTitle(g),typeof b=="number"&&Ce.setZIndex(b),v&&X(google.maps.event.addListener(Ce,"dblclick",v)),N&&ne(google.maps.event.addListener(Ce,"dragend",N)),j&&Z(google.maps.event.addListener(Ce,"dragstart",j)),E&&ce(google.maps.event.addListener(Ce,"mousedown",E)),k&&te(google.maps.event.addListener(Ce,"mouseout",k)),P&&pe(google.maps.event.addListener(Ce,"mouseover",P)),S&&we(google.maps.event.addListener(Ce,"mouseup",S)),T&&ee(google.maps.event.addListener(Ce,"rightclick",T)),y&&C(google.maps.event.addListener(Ce,"click",y)),w&&re(google.maps.event.addListener(Ce,"drag",w)),W&&ae(google.maps.event.addListener(Ce,"clickable_changed",W)),F&&Ee(google.maps.event.addListener(Ce,"cursor_changed",F)),D&&Ze(google.maps.event.addListener(Ce,"animation_changed",D)),A&&sn(google.maps.event.addListener(Ce,"draggable_changed",A)),_&&bt(google.maps.event.addListener(Ce,"flat_changed",_)),z&&Zt(google.maps.event.addListener(Ce,"icon_changed",z)),I&&Xs(google.maps.event.addListener(Ce,"position_changed",I)),M&&Nn(google.maps.event.addListener(Ce,"shape_changed",M)),$&&Za(google.maps.event.addListener(Ce,"title_changed",$)),O&&Hr(google.maps.event.addListener(Ce,"visible_changed",O)),L&&xe(google.maps.event.addListener(Ce,"zindex_changed",L)),V(Ce),Y&&Y(Ce),()=>{G!==null&&google.maps.event.removeListener(G),oe!==null&&google.maps.event.removeListener(oe),H!==null&&google.maps.event.removeListener(H),fe!==null&&google.maps.event.removeListener(fe),de!==null&&google.maps.event.removeListener(de),le!==null&&google.maps.event.removeListener(le),Q!==null&&google.maps.event.removeListener(Q),be!==null&&google.maps.event.removeListener(be),ue!==null&&google.maps.event.removeListener(ue),J!==null&&google.maps.event.removeListener(J),Se!==null&&google.maps.event.removeListener(Se),Le!==null&&google.maps.event.removeListener(Le),it!==null&&google.maps.event.removeListener(it),qt!==null&&google.maps.event.removeListener(qt),tt!==null&&google.maps.event.removeListener(tt),Mt!==null&&google.maps.event.removeListener(Mt),Zs!==null&&google.maps.event.removeListener(Zs),Ms!==null&&google.maps.event.removeListener(Ms),R!==null&&google.maps.event.removeListener(R),K&&K(Ce),s?s.removeMarker(Ce,!!i):Ce&&Ce.setMap(null)}},[]);var ie=p.useMemo(()=>a?p.Children.map(a,Pe=>{if(!p.isValidElement(Pe))return Pe;var Ce=Pe;return p.cloneElement(Ce,{anchor:U})}):null,[a,U]);return r.jsx(r.Fragment,{children:ie})||null}p.memo(wJ);class zv extends p.PureComponent{constructor(){super(...arguments),me(this,"registeredEvents",[])}componentDidMount(){var e=this;return u6(function*(){var n=Ko(Ko(Ko({},e.props.options||lm),e.props.clusterer?lm:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(n),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=He({updaterMap:i4,eventMap:r4,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)})()}componentDidUpdate(e){this.marker&&(Ge(this.registeredEvents),this.registeredEvents=He({updaterMap:i4,eventMap:r4,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),Ge(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var e=this.props.children?p.Children.map(this.props.children,n=>{if(!p.isValidElement(n))return n;var s=n;return p.cloneElement(s,{anchor:this.marker})}):null;return e||null}}me(zv,"contextType",Ue);var jJ=function(){function t(e,n){e.getClusterer().extend(t,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return t.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},t.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},t.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var n=this.cluster.getClusterer();if(google.maps.event.trigger(n,"click",this.cluster),google.maps.event.trigger(n,"clusterclick",this.cluster),n.getZoomOnClick()){var s=n.getMaxZoom(),i=this.cluster.getBounds(),a=n.getMap();a!==null&&"fitBounds"in a&&a.fitBounds(i),this.timeOut=window.setTimeout(function(){var o=n.getMap();if(o!==null){"fitBounds"in o&&o.fitBounds(i);var l=o.getZoom()||0;s!==null&&l>s&&o.setZoom(s+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},t.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},t.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},t.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var n=this.getMap();n!==null&&(this.boundsChangedListener=google.maps.event.addListener(n,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},t.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},t.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},t.prototype.show=function(){var e,n,s,i,a,o;if(this.div&&this.center){var l=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,c=this.backgroundPosition.split(" "),d=parseInt(((e=c[0])===null||e===void 0?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),u=parseInt(((n=c[1])===null||n===void 0?void 0:n.replace(/^\s+|\s+$/g,""))||"0",10),h=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(h!==null?"".concat(h.y,"px"):"0","; left: ").concat(h!==null?"".concat(h.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var m=document.createElement("img");m.alt=l,m.src=this.url,m.width=this.width,m.height=this.height,m.setAttribute("style","position: absolute; top: ".concat(u,"px; left: ").concat(d,"px")),this.cluster.getClusterer().enableRetinaIcons||(m.style.clip="rect(-".concat(u,"px, -").concat(d+this.width,"px, -").concat(u+this.height,", -").concat(d,")"));var f=document.createElement("div");f.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((s=this.sums)===null||s===void 0)&&s.text&&(f.innerText="".concat((i=this.sums)===null||i===void 0?void 0:i.text)),!((a=this.sums)===null||a===void 0)&&a.html&&(f.innerHTML="".concat((o=this.sums)===null||o===void 0?void 0:o.html)),this.div.innerHTML="",this.div.appendChild(m),this.div.appendChild(f),this.div.title=l,this.div.style.display=""}this.visible=!0},t.prototype.useStyle=function(e){this.sums=e;var n=this.cluster.getClusterer().getStyles(),s=n[Math.min(n.length-1,Math.max(0,e.index-1))];s&&(this.url=s.url,this.height=s.height,this.width=s.width,s.className&&(this.className="".concat(this.clusterClassName," ").concat(s.className)),this.anchorText=s.anchorText||[0,0],this.anchorIcon=s.anchorIcon||[this.height/2,this.width/2],this.textColor=s.textColor||"black",this.textSize=s.textSize||11,this.textDecoration=s.textDecoration||"none",this.fontWeight=s.fontWeight||"bold",this.fontStyle=s.fontStyle||"normal",this.fontFamily=s.fontFamily||"Arial,sans-serif",this.backgroundPosition=s.backgroundPosition||"0 0")},t.prototype.setCenter=function(e){this.center=e},t.prototype.getPosFromLatLng=function(e){var n=this.getProjection().fromLatLngToDivPixel(e);return n!==null&&(n.x-=this.anchorIcon[1],n.y-=this.anchorIcon[0]),n},t}(),NJ=function(){function t(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new jJ(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return t.prototype.getSize=function(){return this.markers.length},t.prototype.getMarkers=function(){return this.markers},t.prototype.getCenter=function(){return this.center},t.prototype.getMap=function(){return this.map},t.prototype.getClusterer=function(){return this.markerClusterer},t.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),n=this.getMarkers(),s=0,i=n;s<i.length;s++){var a=i[s],o=a.getPosition();o&&e.extend(o)}return e},t.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},t.prototype.addMarker=function(e){var n;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var s=e.getPosition();if(s){var i=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(i-1)+s.lat())/i,(this.center.lng()*(i-1)+s.lng())/i),this.calculateBounds()}}}else{var s=e.getPosition();s&&(this.center=s,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var a=this.markers.length,o=this.markerClusterer.getMaxZoom(),l=(n=this.map)===null||n===void 0?void 0:n.getZoom();if(o!==null&&typeof l<"u"&&l>o)e.getMap()!==this.map&&e.setMap(this.map);else if(a<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(a===this.minClusterSize)for(var c=0,d=this.markers;c<d.length;c++){var u=d[c];u.setMap(null)}else e.setMap(null);return!0},t.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var n=e.getPosition();if(n)return this.bounds.contains(n)}return!1},t.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},t.prototype.updateIcon=function(){var e,n=this.markers.length,s=this.markerClusterer.getMaxZoom(),i=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(s!==null&&typeof i<"u"&&i>s){this.clusterIcon.hide();return}if(n<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},t.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var n=0;n<this.markers.length;n++)if(e===this.markers[n])return!0;return!1},t}();function kJ(t,e){var n=t.length,s=n.toString().length,i=Math.min(s,e);return{text:n.toString(),index:i,title:""}}var SJ=2e3,CJ=500,PJ="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",EJ="png",_J=[53,56,66,78,90],MJ="cluster",f6=function(){function t(e,n,s){n===void 0&&(n=[]),s===void 0&&(s={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(t,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=s.gridSize||60,this.minClusterSize=s.minimumClusterSize||2,this.maxZoom=s.maxZoom||null,this.styles=s.styles||[],this.title=s.title||"",this.zoomOnClick=!0,s.zoomOnClick!==void 0&&(this.zoomOnClick=s.zoomOnClick),this.averageCenter=!1,s.averageCenter!==void 0&&(this.averageCenter=s.averageCenter),this.ignoreHidden=!1,s.ignoreHidden!==void 0&&(this.ignoreHidden=s.ignoreHidden),this.enableRetinaIcons=!1,s.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=s.enableRetinaIcons),this.imagePath=s.imagePath||PJ,this.imageExtension=s.imageExtension||EJ,this.imageSizes=s.imageSizes||_J,this.calculator=s.calculator||kJ,this.batchSize=s.batchSize||SJ,this.batchSizeIE=s.batchSizeIE||CJ,this.clusterClass=s.clusterClass||MJ,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(e)}return t.prototype.onZoomChanged=function(){var e,n;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((n=this.getMap())===null||n===void 0?void 0:n.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},t.prototype.onIdle=function(){this.redraw()},t.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},t.prototype.onRemove=function(){for(var e=0,n=this.markers;e<n.length;e++){var s=n[e];s.getMap()!==this.activeMap&&s.setMap(this.activeMap)}for(var i=0,a=this.clusters;i<a.length;i++){var o=a[i];o.remove()}this.clusters=[];for(var l=0,c=this.listeners;l<c.length;l++){var d=c[l];google.maps.event.removeListener(d)}this.listeners=[],this.activeMap=null,this.ready=!1},t.prototype.draw=function(){},t.prototype.getMap=function(){return null},t.prototype.getPanes=function(){return null},t.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},t.prototype.setMap=function(){},t.prototype.addListener=function(){return{remove:function(){}}},t.prototype.bindTo=function(){},t.prototype.get=function(){},t.prototype.notify=function(){},t.prototype.set=function(){},t.prototype.setValues=function(){},t.prototype.unbind=function(){},t.prototype.unbindAll=function(){},t.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},t.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),n=new google.maps.LatLngBounds,s=0,i=e;s<i.length;s++){var a=i[s],o=a.getPosition();o&&n.extend(o)}var l=this.getMap();l!==null&&"fitBounds"in l&&l.fitBounds(n)},t.prototype.getGridSize=function(){return this.gridSize},t.prototype.setGridSize=function(e){this.gridSize=e},t.prototype.getMinimumClusterSize=function(){return this.minClusterSize},t.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.setMaxZoom=function(e){this.maxZoom=e},t.prototype.getStyles=function(){return this.styles},t.prototype.setStyles=function(e){this.styles=e},t.prototype.getTitle=function(){return this.title},t.prototype.setTitle=function(e){this.title=e},t.prototype.getZoomOnClick=function(){return this.zoomOnClick},t.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},t.prototype.getAverageCenter=function(){return this.averageCenter},t.prototype.setAverageCenter=function(e){this.averageCenter=e},t.prototype.getIgnoreHidden=function(){return this.ignoreHidden},t.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},t.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},t.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},t.prototype.getImageExtension=function(){return this.imageExtension},t.prototype.setImageExtension=function(e){this.imageExtension=e},t.prototype.getImagePath=function(){return this.imagePath},t.prototype.setImagePath=function(e){this.imagePath=e},t.prototype.getImageSizes=function(){return this.imageSizes},t.prototype.setImageSizes=function(e){this.imageSizes=e},t.prototype.getCalculator=function(){return this.calculator},t.prototype.setCalculator=function(e){this.calculator=e},t.prototype.getBatchSizeIE=function(){return this.batchSizeIE},t.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},t.prototype.getClusterClass=function(){return this.clusterClass},t.prototype.setClusterClass=function(e){this.clusterClass=e},t.prototype.getMarkers=function(){return this.markers},t.prototype.getTotalMarkers=function(){return this.markers.length},t.prototype.getClusters=function(){return this.clusters},t.prototype.getTotalClusters=function(){return this.clusters.length},t.prototype.addMarker=function(e,n){this.pushMarkerTo(e),n||this.redraw()},t.prototype.addMarkers=function(e,n){for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var i=e[s];i&&this.pushMarkerTo(i)}n||this.redraw()},t.prototype.pushMarkerTo=function(e){var n=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){n.ready&&(e.isAdded=!1,n.repaint())}),e.isAdded=!1,this.markers.push(e)},t.prototype.removeMarker_=function(e){var n=-1;if(this.markers.indexOf)n=this.markers.indexOf(e);else for(var s=0;s<this.markers.length;s++)if(e===this.markers[s]){n=s;break}return n===-1?!1:(e.setMap(null),this.markers.splice(n,1),!0)},t.prototype.removeMarker=function(e,n){var s=this.removeMarker_(e);return!n&&s&&this.repaint(),s},t.prototype.removeMarkers=function(e,n){for(var s=!1,i=0,a=e;i<a.length;i++){var o=a[i];s=s||this.removeMarker_(o)}return!n&&s&&this.repaint(),s},t.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},t.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var s=0,i=e;s<i.length;s++){var a=i[s];a.remove()}},0)},t.prototype.getExtendedBounds=function(e){var n=this.getProjection(),s=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));s!==null&&(s.x+=this.gridSize,s.y-=this.gridSize);var i=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(i!==null&&(i.x-=this.gridSize,i.y+=this.gridSize),s!==null){var a=n.fromDivPixelToLatLng(s);a!==null&&e.extend(a)}if(i!==null){var o=n.fromDivPixelToLatLng(i);o!==null&&e.extend(o)}return e},t.prototype.redraw=function(){this.createClusters(0)},t.prototype.resetViewport=function(e){for(var n=0,s=this.clusters;n<s.length;n++){var i=s[n];i.remove()}this.clusters=[];for(var a=0,o=this.markers;a<o.length;a++){var l=o[a];l.isAdded=!1,e&&l.setMap(null)}},t.prototype.distanceBetweenPoints=function(e,n){var s=6371,i=(n.lat()-e.lat())*Math.PI/180,a=(n.lng()-e.lng())*Math.PI/180,o=Math.sin(i/2)*Math.sin(i/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(n.lat()*Math.PI/180)*Math.sin(a/2)*Math.sin(a/2);return s*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))},t.prototype.isMarkerInBounds=function(e,n){var s=e.getPosition();return s?n.contains(s):!1},t.prototype.addToClosestCluster=function(e){for(var n,s=4e4,i=null,a=0,o=this.clusters;a<o.length;a++){var l=o[a];n=l;var c=n.getCenter(),d=e.getPosition();if(c&&d){var u=this.distanceBetweenPoints(c,d);u<s&&(s=u,i=n)}}i&&i.isMarkerInClusterBounds(e)?i.addMarker(e):(n=new NJ(this),n.addMarker(e),this.clusters.push(n))},t.prototype.createClusters=function(e){var n=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var s=this.getMap(),i=s!==null&&("getBounds"in s)?s.getBounds():null,a=(s==null?void 0:s.getZoom())||0,o=a>3?new google.maps.LatLngBounds(i==null?void 0:i.getSouthWest(),i==null?void 0:i.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),l=this.getExtendedBounds(o),c=Math.min(e+this.batchSize,this.markers.length),d=e;d<c;d++){var u=this.markers[d];u&&!u.isAdded&&this.isMarkerInBounds(u,l)&&(!this.ignoreHidden||this.ignoreHidden&&u.getVisible())&&this.addToClosestCluster(u)}if(c<this.markers.length)this.timerRefStatic=window.setTimeout(function(){n.createClusters(c)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var h=0,m=this.clusters;h<m.length;h++){var f=m[h];f.updateIcon()}}}},t.prototype.extend=function(e,n){return(function(i){for(var a in i.prototype){var o=a;this.prototype[o]=i.prototype[o]}return this}).apply(e,[n])},t}();function a4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function TJ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a4(Object(n),!0).forEach(function(s){me(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a4(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var fs={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},et={averageCenter(t,e){t.setAverageCenter(e)},batchSizeIE(t,e){t.setBatchSizeIE(e)},calculator(t,e){t.setCalculator(e)},clusterClass(t,e){t.setClusterClass(e)},enableRetinaIcons(t,e){t.setEnableRetinaIcons(e)},gridSize(t,e){t.setGridSize(e)},ignoreHidden(t,e){t.setIgnoreHidden(e)},imageExtension(t,e){t.setImageExtension(e)},imagePath(t,e){t.setImagePath(e)},imageSizes(t,e){t.setImageSizes(e)},maxZoom(t,e){t.setMaxZoom(e)},minimumClusterSize(t,e){t.setMinimumClusterSize(e)},styles(t,e){t.setStyles(e)},title(t,e){t.setTitle(e)},zoomOnClick(t,e){t.setZoomOnClick(e)}},LJ={};function AJ(t){var{children:e,options:n,averageCenter:s,batchSizeIE:i,calculator:a,clusterClass:o,enableRetinaIcons:l,gridSize:c,ignoreHidden:d,imageExtension:u,imagePath:h,imageSizes:m,maxZoom:f,minimumClusterSize:x,styles:g,title:b,zoomOnClick:y,onClick:v,onClusteringBegin:w,onClusteringEnd:N,onMouseOver:j,onMouseOut:k,onLoad:P,onUnmount:S}=t,[E,T]=p.useState(null),W=p.useContext(Ue),[F,D]=p.useState(null),[A,_]=p.useState(null),[z,I]=p.useState(null),[M,$]=p.useState(null),[O,L]=p.useState(null);return p.useEffect(()=>{E&&k&&(M!==null&&google.maps.event.removeListener(M),$(google.maps.event.addListener(E,fs.onMouseOut,k)))},[k]),p.useEffect(()=>{E&&j&&(O!==null&&google.maps.event.removeListener(O),L(google.maps.event.addListener(E,fs.onMouseOver,j)))},[j]),p.useEffect(()=>{E&&v&&(F!==null&&google.maps.event.removeListener(F),D(google.maps.event.addListener(E,fs.onClick,v)))},[v]),p.useEffect(()=>{E&&w&&(A!==null&&google.maps.event.removeListener(A),_(google.maps.event.addListener(E,fs.onClusteringBegin,w)))},[w]),p.useEffect(()=>{E&&N&&(z!==null&&google.maps.event.removeListener(z),_(google.maps.event.addListener(E,fs.onClusteringEnd,N)))},[N]),p.useEffect(()=>{typeof s<"u"&&E!==null&&et.averageCenter(E,s)},[E,s]),p.useEffect(()=>{typeof i<"u"&&E!==null&&et.batchSizeIE(E,i)},[E,i]),p.useEffect(()=>{typeof a<"u"&&E!==null&&et.calculator(E,a)},[E,a]),p.useEffect(()=>{typeof o<"u"&&E!==null&&et.clusterClass(E,o)},[E,o]),p.useEffect(()=>{typeof l<"u"&&E!==null&&et.enableRetinaIcons(E,l)},[E,l]),p.useEffect(()=>{typeof c<"u"&&E!==null&&et.gridSize(E,c)},[E,c]),p.useEffect(()=>{typeof d<"u"&&E!==null&&et.ignoreHidden(E,d)},[E,d]),p.useEffect(()=>{typeof u<"u"&&E!==null&&et.imageExtension(E,u)},[E,u]),p.useEffect(()=>{typeof h<"u"&&E!==null&&et.imagePath(E,h)},[E,h]),p.useEffect(()=>{typeof m<"u"&&E!==null&&et.imageSizes(E,m)},[E,m]),p.useEffect(()=>{typeof f<"u"&&E!==null&&et.maxZoom(E,f)},[E,f]),p.useEffect(()=>{typeof x<"u"&&E!==null&&et.minimumClusterSize(E,x)},[E,x]),p.useEffect(()=>{typeof g<"u"&&E!==null&&et.styles(E,g)},[E,g]),p.useEffect(()=>{typeof b<"u"&&E!==null&&et.title(E,b)},[E,b]),p.useEffect(()=>{typeof y<"u"&&E!==null&&et.zoomOnClick(E,y)},[E,y]),p.useEffect(()=>{if(W){var Y=TJ({},n||LJ),K=new f6(W,[],Y);return s&&et.averageCenter(K,s),i&&et.batchSizeIE(K,i),a&&et.calculator(K,a),o&&et.clusterClass(K,o),l&&et.enableRetinaIcons(K,l),c&&et.gridSize(K,c),d&&et.ignoreHidden(K,d),u&&et.imageExtension(K,u),h&&et.imagePath(K,h),m&&et.imageSizes(K,m),f&&et.maxZoom(K,f),x&&et.minimumClusterSize(K,x),g&&et.styles(K,g),b&&et.title(K,b),y&&et.zoomOnClick(K,y),k&&$(google.maps.event.addListener(K,fs.onMouseOut,k)),j&&L(google.maps.event.addListener(K,fs.onMouseOver,j)),v&&D(google.maps.event.addListener(K,fs.onClick,v)),w&&_(google.maps.event.addListener(K,fs.onClusteringBegin,w)),N&&I(google.maps.event.addListener(K,fs.onClusteringEnd,N)),T(K),P&&P(K),()=>{M!==null&&google.maps.event.removeListener(M),O!==null&&google.maps.event.removeListener(O),F!==null&&google.maps.event.removeListener(F),A!==null&&google.maps.event.removeListener(A),z!==null&&google.maps.event.removeListener(z),S&&S(K)}}},[]),E!==null&&e(E)||null}p.memo(AJ);class IJ extends p.PureComponent{constructor(){super(...arguments),me(this,"registeredEvents",[]),me(this,"state",{markerClusterer:null}),me(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var e=new f6(this.context,[],this.props.options);this.registeredEvents=He({updaterMap:et,eventMap:fs,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(Ge(this.registeredEvents),this.registeredEvents=He({updaterMap:et,eventMap:fs,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),Ge(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}me(IJ,"contextType",Ue);function o4(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()}var g6=function(){function t(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(t,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return t.prototype.createInfoBoxDiv=function(){var e=this,n=function(u){u.returnValue=!1,u.preventDefault&&u.preventDefault(),e.enableEventPropagation||o4(u)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var s=this.getPanes();if(s!==null&&s[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var i=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-i.left-i.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var a=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],o=0,l=a;o<l.length;o++){var c=l[o];this.eventListeners.push(google.maps.event.addListener(this.div,c,o4))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",n),google.maps.event.trigger(this,"domready")}},t.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},t.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},t.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},t.prototype.getCloseClickHandler=function(){return this.closeClickHandler},t.prototype.panBox=function(e){if(this.div&&!e){var n=this.getMap();if(n instanceof google.maps.Map){var s=0,i=0,a=n.getBounds();a&&!a.contains(this.position)&&n.setCenter(this.position);var o=n.getDiv(),l=o.offsetWidth,c=o.offsetHeight,d=this.pixelOffset.width,u=this.pixelOffset.height,h=this.div.offsetWidth,m=this.div.offsetHeight,f=this.infoBoxClearance.width,x=this.infoBoxClearance.height,g=this.getProjection(),b=g.fromLatLngToContainerPixel(this.position);b!==null&&(b.x<-d+f?s=b.x+d-f:b.x+h+d+f>l&&(s=b.x+h+d+f-l),this.alignBottom?b.y<-u+x+m?i=b.y+u-x-m:b.y+u+x>c&&(i=b.y+u+x-c):b.y<-u+x?i=b.y+u-x:b.y+m+u+x>c&&(i=b.y+m+u+x-c)),s===0&&i===0||n.panBy(s,i)}}},t.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(this.div.style[n]=e[n]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var s=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+s*100+')"',this.div.style.filter="alpha(opacity="+s*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},t.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var n=this.div.ownerDocument,s=n&&n.defaultView?n.defaultView.getComputedStyle(this.div,""):null;s&&(e.top=parseInt(s.borderTopWidth||"",10)||0,e.bottom=parseInt(s.borderBottomWidth||"",10)||0,e.left=parseInt(s.borderLeftWidth||"",10)||0,e.right=parseInt(s.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var i=this.div.currentStyle;i&&(e.top=parseInt(i.borderTopWidth||"",10)||0,e.bottom=parseInt(i.borderBottomWidth||"",10)||0,e.left=parseInt(i.borderLeftWidth||"",10)||0,e.right=parseInt(i.borderRightWidth||"",10)||0)}return e},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},t.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),n=e.fromLatLngToDivPixel(this.position);n!==null&&(this.div.style.left=n.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(n.y+this.pixelOffset.height)+"px":this.div.style.top=n.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},t.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},t.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},t.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},t.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},t.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},t.prototype.getContent=function(){return this.content},t.prototype.getPosition=function(){return this.position},t.prototype.getZIndex=function(){return this.zIndex},t.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},t.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},t.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},t.prototype.open=function(e,n){var s=this;n&&(this.position=n.getPosition(),this.moveListener=google.maps.event.addListener(n,"position_changed",function(){var i=n.getPosition();s.setPosition(i)}),this.mapListener=google.maps.event.addListener(n,"map_changed",function(){s.setMap(n.map)})),this.setMap(e),this.div&&this.panBox()},t.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,n=this.eventListeners;e<n.length;e++){var s=n[e];google.maps.event.removeListener(s)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},t.prototype.extend=function(e,n){return(function(i){for(var a in i.prototype)Object.prototype.hasOwnProperty.call(this,a)||(this.prototype[a]=i.prototype[a]);return this}).apply(e,[n])},t}(),OJ=["position"],RJ=["position"];function l4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function cm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l4(Object(n),!0).forEach(function(s){me(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l4(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var c4={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},d4={options(t,e){t.setOptions(e)},position(t,e){e instanceof google.maps.LatLng?t.setPosition(e):t.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},DJ={};function $J(t){var{children:e,anchor:n,options:s,position:i,zIndex:a,onCloseClick:o,onDomReady:l,onContentChanged:c,onPositionChanged:d,onZindexChanged:u,onLoad:h,onUnmount:m}=t,f=p.useContext(Ue),[x,g]=p.useState(null),[b,y]=p.useState(null),[v,w]=p.useState(null),[N,j]=p.useState(null),[k,P]=p.useState(null),[S,E]=p.useState(null),T=p.useRef(null);return p.useEffect(()=>{f&&x!==null&&(x.close(),n?x.open(f,n):x.getPosition()&&x.open(f))},[f,x,n]),p.useEffect(()=>{s&&x!==null&&x.setOptions(s)},[x,s]),p.useEffect(()=>{if(i&&x!==null){var W=i instanceof google.maps.LatLng?i:new google.maps.LatLng(i.lat,i.lng);x.setPosition(W)}},[i]),p.useEffect(()=>{typeof a=="number"&&x!==null&&x.setZIndex(a)},[a]),p.useEffect(()=>{x&&o&&(b!==null&&google.maps.event.removeListener(b),y(google.maps.event.addListener(x,"closeclick",o)))},[o]),p.useEffect(()=>{x&&l&&(v!==null&&google.maps.event.removeListener(v),w(google.maps.event.addListener(x,"domready",l)))},[l]),p.useEffect(()=>{x&&c&&(N!==null&&google.maps.event.removeListener(N),j(google.maps.event.addListener(x,"content_changed",c)))},[c]),p.useEffect(()=>{x&&d&&(k!==null&&google.maps.event.removeListener(k),P(google.maps.event.addListener(x,"position_changed",d)))},[d]),p.useEffect(()=>{x&&u&&(S!==null&&google.maps.event.removeListener(S),E(google.maps.event.addListener(x,"zindex_changed",u)))},[u]),p.useEffect(()=>{if(f){var W=s||DJ,{position:F}=W,D=ew(W,OJ),A;F&&!(F instanceof google.maps.LatLng)&&(A=new google.maps.LatLng(F.lat,F.lng));var _=new g6(cm(cm({},D),A?{position:A}:{}));T.current=document.createElement("div"),g(_),o&&y(google.maps.event.addListener(_,"closeclick",o)),l&&w(google.maps.event.addListener(_,"domready",l)),c&&j(google.maps.event.addListener(_,"content_changed",c)),d&&P(google.maps.event.addListener(_,"position_changed",d)),u&&E(google.maps.event.addListener(_,"zindex_changed",u)),_.setContent(T.current),n?_.open(f,n):_.getPosition()?_.open(f):Xt(!1,"You must provide either an anchor or a position prop for <InfoBox>."),h&&h(_)}return()=>{x!==null&&(b&&google.maps.event.removeListener(b),N&&google.maps.event.removeListener(N),v&&google.maps.event.removeListener(v),k&&google.maps.event.removeListener(k),S&&google.maps.event.removeListener(S),m&&m(x),x.close())}},[]),T.current?Bi.createPortal(p.Children.only(e),T.current):null}p.memo($J);class FJ extends p.PureComponent{constructor(){super(...arguments),me(this,"registeredEvents",[]),me(this,"containerElement",null),me(this,"state",{infoBox:null}),me(this,"open",(e,n)=>{n?this.context!==null&&e.open(this.context,n):e.getPosition()?this.context!==null&&e.open(this.context):Xt(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),me(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var e=this.props.options||{},{position:n}=e,s=ew(e,RJ),i;n&&!(n instanceof google.maps.LatLng)&&(i=new google.maps.LatLng(n.lat,n.lng));var a=new g6(cm(cm({},s),i?{position:i}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=He({updaterMap:d4,eventMap:c4,prevProps:{},nextProps:this.props,instance:a}),this.setState({infoBox:a},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:n}=this.state;n!==null&&(Ge(this.registeredEvents),this.registeredEvents=He({updaterMap:d4,eventMap:c4,prevProps:e,nextProps:this.props,instance:n}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:n}=this.state;n!==null&&(e&&e(n),Ge(this.registeredEvents),n.close())}render(){return this.containerElement?Bi.createPortal(p.Children.only(this.props.children),this.containerElement):null}}me(FJ,"contextType",Ue);var tx,u4;function zJ(){return u4||(u4=1,tx=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var s,i,a;if(Array.isArray(e)){if(s=e.length,s!=n.length)return!1;for(i=s;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(a=Object.keys(e),s=a.length,s!==Object.keys(n).length)return!1;for(i=s;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=s;i--!==0;){var o=a[i];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n}),tx}var BJ=zJ(),h4=d6(BJ),p4=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],nx=1,tc=8;class tw{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[n,s]=new Uint8Array(e,0,2);if(n!==219)throw new Error("Data does not appear to be in a KDBush format.");var i=s>>4;if(i!==nx)throw new Error("Got v".concat(i," data when expected v").concat(nx,"."));var a=p4[s&15];if(!a)throw new Error("Unrecognized array type.");var[o]=new Uint16Array(e,2,1),[l]=new Uint32Array(e,4,1);return new tw(l,o,a,e)}constructor(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,i=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=s,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var a=p4.indexOf(this.ArrayType),o=e*2*this.ArrayType.BYTES_PER_ELEMENT,l=e*this.IndexArrayType.BYTES_PER_ELEMENT,c=(8-l%8)%8;if(a<0)throw new Error("Unexpected typed array class: ".concat(s,"."));i&&i instanceof ArrayBuffer?(this.data=i,this.ids=new this.IndexArrayType(this.data,tc,e),this.coords=new this.ArrayType(this.data,tc+l+c,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(tc+o+l+c),this.ids=new this.IndexArrayType(this.data,tc,e),this.coords=new this.ArrayType(this.data,tc+l+c,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(nx<<4)+a]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=e)}add(e,n){var s=this._pos>>1;return this.ids[s]=s,this.coords[this._pos++]=e,this.coords[this._pos++]=n,s}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return Bv(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,n,s,i){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:a,coords:o,nodeSize:l}=this,c=[0,a.length-1,0],d=[];c.length;){var u=c.pop()||0,h=c.pop()||0,m=c.pop()||0;if(h-m<=l){for(var f=m;f<=h;f++){var x=o[2*f],g=o[2*f+1];x>=e&&x<=s&&g>=n&&g<=i&&d.push(a[f])}continue}var b=m+h>>1,y=o[2*b],v=o[2*b+1];y>=e&&y<=s&&v>=n&&v<=i&&d.push(a[b]),(u===0?e<=y:n<=v)&&(c.push(m),c.push(b-1),c.push(1-u)),(u===0?s>=y:i>=v)&&(c.push(b+1),c.push(h),c.push(1-u))}return d}within(e,n,s){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:i,coords:a,nodeSize:o}=this,l=[0,i.length-1,0],c=[],d=s*s;l.length;){var u=l.pop()||0,h=l.pop()||0,m=l.pop()||0;if(h-m<=o){for(var f=m;f<=h;f++)m4(a[2*f],a[2*f+1],e,n)<=d&&c.push(i[f]);continue}var x=m+h>>1,g=a[2*x],b=a[2*x+1];m4(g,b,e,n)<=d&&c.push(i[x]),(u===0?e-s<=g:n-s<=b)&&(l.push(m),l.push(x-1),l.push(1-u)),(u===0?e+s>=g:n+s>=b)&&(l.push(x+1),l.push(h),l.push(1-u))}return c}}function Bv(t,e,n,s,i,a){if(!(i-s<=n)){var o=s+i>>1;x6(t,e,o,s,i,a),Bv(t,e,n,s,o-1,1-a),Bv(t,e,n,o+1,i,1-a)}}function x6(t,e,n,s,i,a){for(;i>s;){if(i-s>600){var o=i-s+1,l=n-s+1,c=Math.log(o),d=.5*Math.exp(2*c/3),u=.5*Math.sqrt(c*d*(o-d)/o)*(l-o/2<0?-1:1),h=Math.max(s,Math.floor(n-l*d/o+u)),m=Math.min(i,Math.floor(n+(o-l)*d/o+u));x6(t,e,n,h,m,a)}var f=e[2*n+a],x=s,g=i;for(nc(t,e,s,n),e[2*i+a]>f&&nc(t,e,s,i);x<g;){for(nc(t,e,x,g),x++,g--;e[2*x+a]<f;)x++;for(;e[2*g+a]>f;)g--}e[2*s+a]===f?nc(t,e,s,g):(g++,nc(t,e,g,i)),g<=n&&(s=g+1),n<=g&&(i=g-1)}}function nc(t,e,n,s){sx(t,n,s),sx(e,2*n,2*s),sx(e,2*n+1,2*s+1)}function sx(t,e,n){var s=t[e];t[e]=t[n],t[n]=s}function m4(t,e,n,s){var i=t-n,a=e-s;return i*i+a*a}var VJ={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},f4=Math.fround||(t=>e=>(t[0]=+e,t[0]))(new Float32Array(1)),Qi=2,si=3,rx=4,Jr=5,v6=6;class UJ{constructor(e){this.options=Object.assign(Object.create(VJ),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:n,minZoom:s,maxZoom:i}=this.options;n&&console.time("total time");var a="prepare ".concat(e.length," points");n&&console.time(a),this.points=e;for(var o=[],l=0;l<e.length;l++){var c=e[l];if(c.geometry){var[d,u]=c.geometry.coordinates,h=f4(oh(d)),m=f4(lh(u));o.push(h,m,1/0,l,-1,1),this.options.reduce&&o.push(0)}}var f=this.trees[i+1]=this._createTree(o);n&&console.timeEnd(a);for(var x=i;x>=s;x--){var g=+Date.now();f=this.trees[x]=this._createTree(this._cluster(f,x)),n&&console.log("z%d: %d clusters in %dms",x,f.numItems,+Date.now()-g)}return n&&console.timeEnd("total time"),this}getClusters(e,n){var s=((e[0]+180)%360+360)%360-180,i=Math.max(-90,Math.min(90,e[1])),a=e[2]===180?180:((e[2]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)s=-180,a=180;else if(s>a){var l=this.getClusters([s,i,180,o],n),c=this.getClusters([-180,i,a,o],n);return l.concat(c)}var d=this.trees[this._limitZoom(n)],u=d.range(oh(s),lh(o),oh(a),lh(i)),h=d.data,m=[];for(var f of u){var x=this.stride*f;m.push(h[x+Jr]>1?g4(h,x,this.clusterProps):this.points[h[x+si]])}return m}getChildren(e){var n=this._getOriginId(e),s=this._getOriginZoom(e),i="No cluster with the specified id.",a=this.trees[s];if(!a)throw new Error(i);var o=a.data;if(n*this.stride>=o.length)throw new Error(i);var l=this.options.radius/(this.options.extent*Math.pow(2,s-1)),c=o[n*this.stride],d=o[n*this.stride+1],u=a.within(c,d,l),h=[];for(var m of u){var f=m*this.stride;o[f+rx]===e&&h.push(o[f+Jr]>1?g4(o,f,this.clusterProps):this.points[o[f+si]])}if(h.length===0)throw new Error(i);return h}getLeaves(e,n,s){n=n||10,s=s||0;var i=[];return this._appendLeaves(i,e,n,s,0),i}getTile(e,n,s){var i=this.trees[this._limitZoom(e)],a=Math.pow(2,e),{extent:o,radius:l}=this.options,c=l/o,d=(s-c)/a,u=(s+1+c)/a,h={features:[]};return this._addTileFeatures(i.range((n-c)/a,d,(n+1+c)/a,u),i.data,n,s,a,h),n===0&&this._addTileFeatures(i.range(1-c/a,d,1,u),i.data,a,s,a,h),n===a-1&&this._addTileFeatures(i.range(0,d,c/a,u),i.data,-1,s,a,h),h.features.length?h:null}getClusterExpansionZoom(e){for(var n=this._getOriginZoom(e)-1;n<=this.options.maxZoom;){var s=this.getChildren(e);if(n++,s.length!==1)break;e=s[0].properties.cluster_id}return n}_appendLeaves(e,n,s,i,a){var o=this.getChildren(n);for(var l of o){var c=l.properties;if(c&&c.cluster?a+c.point_count<=i?a+=c.point_count:a=this._appendLeaves(e,c.cluster_id,s,i,a):a<i?a++:e.push(l),e.length===s)break}return a}_createTree(e){for(var n=new tw(e.length/this.stride|0,this.options.nodeSize,Float32Array),s=0;s<e.length;s+=this.stride)n.add(e[s],e[s+1]);return n.finish(),n.data=e,n}_addTileFeatures(e,n,s,i,a,o){for(var l of e){var c=l*this.stride,d=n[c+Jr]>1,u=void 0,h=void 0,m=void 0;if(d)u=y6(n,c,this.clusterProps),h=n[c],m=n[c+1];else{var f=this.points[n[c+si]];u=f.properties;var[x,g]=f.geometry.coordinates;h=oh(x),m=lh(g)}var b={type:1,geometry:[[Math.round(this.options.extent*(h*a-s)),Math.round(this.options.extent*(m*a-i))]],tags:u},y=void 0;d||this.options.generateId?y=n[c+si]:y=this.points[n[c+si]].id,y!==void 0&&(b.id=y),o.features.push(b)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,n){for(var{radius:s,extent:i,reduce:a,minPoints:o}=this.options,l=s/(i*Math.pow(2,n)),c=e.data,d=[],u=this.stride,h=0;h<c.length;h+=u)if(!(c[h+Qi]<=n)){c[h+Qi]=n;var m=c[h],f=c[h+1],x=e.within(c[h],c[h+1],l),g=c[h+Jr],b=g;for(var y of x){var v=y*u;c[v+Qi]>n&&(b+=c[v+Jr])}if(b>g&&b>=o){var w=m*g,N=f*g,j=void 0,k=-1,P=((h/u|0)<<5)+(n+1)+this.points.length;for(var S of x){var E=S*u;if(!(c[E+Qi]<=n)){c[E+Qi]=n;var T=c[E+Jr];w+=c[E]*T,N+=c[E+1]*T,c[E+rx]=P,a&&(j||(j=this._map(c,h,!0),k=this.clusterProps.length,this.clusterProps.push(j)),a(j,this._map(c,E)))}}c[h+rx]=P,d.push(w/b,N/b,1/0,P,-1,b),a&&d.push(k)}else{for(var W=0;W<u;W++)d.push(c[h+W]);if(b>1)for(var F of x){var D=F*u;if(!(c[D+Qi]<=n)){c[D+Qi]=n;for(var A=0;A<u;A++)d.push(c[D+A])}}}}return d}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,n,s){if(e[n+Jr]>1){var i=this.clusterProps[e[n+v6]];return s?Object.assign({},i):i}var a=this.points[e[n+si]].properties,o=this.options.map(a);return s&&o===a?Object.assign({},o):o}}function g4(t,e,n){return{type:"Feature",id:t[e+si],properties:y6(t,e,n),geometry:{type:"Point",coordinates:[WJ(t[e]),HJ(t[e+1])]}}}function y6(t,e,n){var s=t[e+Jr],i=s>=1e4?"".concat(Math.round(s/1e3),"k"):s>=1e3?"".concat(Math.round(s/100)/10,"k"):s,a=t[e+v6],o=a===-1?{}:Object.assign({},n[a]);return Object.assign(o,{cluster:!0,cluster_id:t[e+si],point_count:s,point_count_abbreviated:i})}function oh(t){return t/360+.5}function lh(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function WJ(t){return(t-.5)*360}function HJ(t){var e=(180-t*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function qJ(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n}class Zn{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,n){this.isAdvancedMarker(e)?e.map=n:e.setMap(n)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class Vv{constructor(e){var{markers:n,position:s}=e;this.markers=n,s&&(s instanceof google.maps.LatLng?this._position=s:this._position=new google.maps.LatLng(s))}get bounds(){if(!(this.markers.length===0&&!this._position)){var e=new google.maps.LatLngBounds(this._position,this._position);for(var n of this.markers)e.extend(Zn.getPosition(n));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>Zn.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(Zn.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class GJ{constructor(e){var{maxZoom:n=16}=e;this.maxZoom=n}noop(e){var{markers:n}=e;return KJ(n)}}var KJ=t=>{var e=t.map(n=>new Vv({position:Zn.getPosition(n),markers:[n]}));return e};class YJ extends GJ{constructor(e){var{maxZoom:n,radius:s=60}=e,i=qJ(e,["maxZoom","radius"]);super({maxZoom:n}),this.state={zoom:-1},this.superCluster=new UJ(Object.assign({maxZoom:this.maxZoom,radius:s},i))}calculate(e){var n=!1,s={zoom:e.map.getZoom()};if(!h4(e.markers,this.markers)){n=!0,this.markers=[...e.markers];var i=this.markers.map(a=>{var o=Zn.getPosition(a),l=[o.lng(),o.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:l},properties:{marker:a}}});this.superCluster.load(i)}return n||(this.state.zoom<=this.maxZoom||s.zoom<=this.maxZoom)&&(n=!h4(this.state,s)),this.state=s,n&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:n}}cluster(e){var{map:n}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(n.getZoom())).map(s=>this.transformCluster(s))}transformCluster(e){var{geometry:{coordinates:[n,s]},properties:i}=e;if(i.cluster)return new Vv({markers:this.superCluster.getLeaves(i.cluster_id,1/0).map(o=>o.properties.marker),position:{lat:s,lng:n}});var a=i.marker;return new Vv({markers:[a],position:Zn.getPosition(a)})}}class XJ{constructor(e,n){this.markers={sum:e.length};var s=n.map(a=>a.count),i=s.reduce((a,o)=>a+o,0);this.clusters={count:n.length,markers:{mean:i/n.length,sum:i,min:Math.min(...s),max:Math.max(...s)}}}}class ZJ{render(e,n,s){var{count:i,position:a}=e,o=i>Math.max(10,n.clusters.markers.mean)?"#ff0000":"#0000ff",l='<svg fill="'.concat(o,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(i,`</text>
</svg>`),c="Cluster of ".concat(i," markers"),d=Number(google.maps.Marker.MAX_ZINDEX)+i;if(Zn.isAdvancedMarkerAvailable(s)){var u=new DOMParser,h=u.parseFromString(l,"image/svg+xml").documentElement;h.setAttribute("transform","translate(0 25)");var m={map:s,position:a,zIndex:d,title:c,content:h};return new google.maps.marker.AdvancedMarkerElement(m)}var f={position:a,zIndex:d,title:c,icon:{url:"data:image/svg+xml;base64,".concat(btoa(l)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(f)}}function QJ(t,e){for(var n in e.prototype)t.prototype[n]=e.prototype[n]}class nw{constructor(){QJ(nw,google.maps.OverlayView)}}var Zc;(function(t){t.CLUSTERING_BEGIN="clusteringbegin",t.CLUSTERING_END="clusteringend",t.CLUSTER_CLICK="click"})(Zc||(Zc={}));var JJ=(t,e,n)=>{n.fitBounds(e.bounds)};class eee extends nw{constructor(e){var{map:n,markers:s=[],algorithmOptions:i={},algorithm:a=new YJ(i),renderer:o=new ZJ,onClusterClick:l=JJ}=e;super(),this.markers=[...s],this.clusters=[],this.algorithm=a,this.renderer=o,this.onClusterClick=l,n&&this.setMap(n)}addMarker(e,n){this.markers.includes(e)||(this.markers.push(e),n||this.render())}addMarkers(e,n){e.forEach(s=>{this.addMarker(s,!0)}),n||this.render()}removeMarker(e,n){var s=this.markers.indexOf(e);return s===-1?!1:(Zn.setMap(e,null),this.markers.splice(s,1),n||this.render(),!0)}removeMarkers(e,n){var s=!1;return e.forEach(i=>{s=this.removeMarker(i,!0)||s}),s&&!n&&this.render(),s}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,Zc.CLUSTERING_BEGIN,this);var{clusters:n,changed:s}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(s||s==null){var i=new Set;for(var a of n)a.markers.length==1&&i.add(a.markers[0]);var o=[];for(var l of this.clusters)l.marker!=null&&(l.markers.length==1?i.has(l.marker)||Zn.setMap(l.marker,null):o.push(l.marker));this.clusters=n,this.renderClusters(),requestAnimationFrame(()=>o.forEach(c=>Zn.setMap(c,null)))}google.maps.event.trigger(this,Zc.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>Zn.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){var e=new XJ(this.markers,this.clusters),n=this.getMap();this.clusters.forEach(s=>{s.markers.length===1?s.marker=s.markers[0]:(s.marker=this.renderer.render(s,e,n),s.markers.forEach(i=>Zn.setMap(i,null)),this.onClusterClick&&s.marker.addListener("click",i=>{google.maps.event.trigger(this,Zc.CLUSTER_CLICK,s),this.onClusterClick(i,s,n)})),Zn.setMap(s.marker,n)})}}function x4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function v4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x4(Object(n),!0).forEach(function(s){me(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x4(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function tee(t){var e=GQ(),[n,s]=p.useState(null);return p.useEffect(()=>{if(e&&n===null){var i=new eee(v4(v4({},t),{},{map:e}));s(i)}},[e]),n}function nee(t){var{children:e,options:n}=t,s=tee(n);return s!==null?e(s):null}p.memo(nee);var y4={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},b4={options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},zIndex(t,e){t.setZIndex(e)}};function see(t){var{children:e,anchor:n,options:s,position:i,zIndex:a,onCloseClick:o,onDomReady:l,onContentChanged:c,onPositionChanged:d,onZindexChanged:u,onLoad:h,onUnmount:m}=t,f=p.useContext(Ue),[x,g]=p.useState(null),[b,y]=p.useState(null),[v,w]=p.useState(null),[N,j]=p.useState(null),[k,P]=p.useState(null),[S,E]=p.useState(null),T=p.useRef(null);return p.useEffect(()=>{x!==null&&(x.close(),n?x.open(f,n):x.getPosition()&&x.open(f))},[f,x,n]),p.useEffect(()=>{s&&x!==null&&x.setOptions(s)},[x,s]),p.useEffect(()=>{i&&x!==null&&x.setPosition(i)},[i]),p.useEffect(()=>{typeof a=="number"&&x!==null&&x.setZIndex(a)},[a]),p.useEffect(()=>{x&&o&&(b!==null&&google.maps.event.removeListener(b),y(google.maps.event.addListener(x,"closeclick",o)))},[o]),p.useEffect(()=>{x&&l&&(v!==null&&google.maps.event.removeListener(v),w(google.maps.event.addListener(x,"domready",l)))},[l]),p.useEffect(()=>{x&&c&&(N!==null&&google.maps.event.removeListener(N),j(google.maps.event.addListener(x,"content_changed",c)))},[c]),p.useEffect(()=>{x&&d&&(k!==null&&google.maps.event.removeListener(k),P(google.maps.event.addListener(x,"position_changed",d)))},[d]),p.useEffect(()=>{x&&u&&(S!==null&&google.maps.event.removeListener(S),E(google.maps.event.addListener(x,"zindex_changed",u)))},[u]),p.useEffect(()=>{var W=new google.maps.InfoWindow(s);return g(W),T.current=document.createElement("div"),o&&y(google.maps.event.addListener(W,"closeclick",o)),l&&w(google.maps.event.addListener(W,"domready",l)),c&&j(google.maps.event.addListener(W,"content_changed",c)),d&&P(google.maps.event.addListener(W,"position_changed",d)),u&&E(google.maps.event.addListener(W,"zindex_changed",u)),W.setContent(T.current),i&&W.setPosition(i),a&&W.setZIndex(a),n?W.open(f,n):W.getPosition()?W.open(f):Xt(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),h&&h(W),()=>{b&&google.maps.event.removeListener(b),N&&google.maps.event.removeListener(N),v&&google.maps.event.removeListener(v),k&&google.maps.event.removeListener(k),S&&google.maps.event.removeListener(S),m&&m(W),W.close()}},[]),T.current?Bi.createPortal(p.Children.only(e),T.current):null}p.memo(see);class b6 extends p.PureComponent{constructor(){super(...arguments),me(this,"registeredEvents",[]),me(this,"containerElement",null),me(this,"state",{infoWindow:null}),me(this,"open",(e,n)=>{n?e.open(this.context,n):e.getPosition()?e.open(this.context):Xt(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),me(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=He({updaterMap:b4,eventMap:y4,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){this.state.infoWindow!==null&&(Ge(this.registeredEvents),this.registeredEvents=He({updaterMap:b4,eventMap:y4,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(Ge(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?Bi.createPortal(p.Children.only(this.props.children),this.containerElement):null}}me(b6,"contextType",Ue);function w4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function dm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w4(Object(n),!0).forEach(function(s){me(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w4(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var j4={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},N4={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},visible(t,e){t.setVisible(e)}},ree={};function iee(t){var{options:e,draggable:n,editable:s,visible:i,path:a,onDblClick:o,onDragEnd:l,onDragStart:c,onMouseDown:d,onMouseMove:u,onMouseOut:h,onMouseOver:m,onMouseUp:f,onRightClick:x,onClick:g,onDrag:b,onLoad:y,onUnmount:v}=t,w=p.useContext(Ue),[N,j]=p.useState(null),[k,P]=p.useState(null),[S,E]=p.useState(null),[T,W]=p.useState(null),[F,D]=p.useState(null),[A,_]=p.useState(null),[z,I]=p.useState(null),[M,$]=p.useState(null),[O,L]=p.useState(null),[Y,K]=p.useState(null),[B,U]=p.useState(null),[V,G]=p.useState(null);return p.useEffect(()=>{N!==null&&N.setMap(w)},[w]),p.useEffect(()=>{typeof e<"u"&&N!==null&&N.setOptions(e)},[N,e]),p.useEffect(()=>{typeof n<"u"&&N!==null&&N.setDraggable(n)},[N,n]),p.useEffect(()=>{typeof s<"u"&&N!==null&&N.setEditable(s)},[N,s]),p.useEffect(()=>{typeof i<"u"&&N!==null&&N.setVisible(i)},[N,i]),p.useEffect(()=>{typeof a<"u"&&N!==null&&N.setPath(a)},[N,a]),p.useEffect(()=>{N&&o&&(k!==null&&google.maps.event.removeListener(k),P(google.maps.event.addListener(N,"dblclick",o)))},[o]),p.useEffect(()=>{N&&l&&(S!==null&&google.maps.event.removeListener(S),E(google.maps.event.addListener(N,"dragend",l)))},[l]),p.useEffect(()=>{N&&c&&(T!==null&&google.maps.event.removeListener(T),W(google.maps.event.addListener(N,"dragstart",c)))},[c]),p.useEffect(()=>{N&&d&&(F!==null&&google.maps.event.removeListener(F),D(google.maps.event.addListener(N,"mousedown",d)))},[d]),p.useEffect(()=>{N&&u&&(A!==null&&google.maps.event.removeListener(A),_(google.maps.event.addListener(N,"mousemove",u)))},[u]),p.useEffect(()=>{N&&h&&(z!==null&&google.maps.event.removeListener(z),I(google.maps.event.addListener(N,"mouseout",h)))},[h]),p.useEffect(()=>{N&&m&&(M!==null&&google.maps.event.removeListener(M),$(google.maps.event.addListener(N,"mouseover",m)))},[m]),p.useEffect(()=>{N&&f&&(O!==null&&google.maps.event.removeListener(O),L(google.maps.event.addListener(N,"mouseup",f)))},[f]),p.useEffect(()=>{N&&x&&(Y!==null&&google.maps.event.removeListener(Y),K(google.maps.event.addListener(N,"rightclick",x)))},[x]),p.useEffect(()=>{N&&g&&(B!==null&&google.maps.event.removeListener(B),U(google.maps.event.addListener(N,"click",g)))},[g]),p.useEffect(()=>{N&&b&&(V!==null&&google.maps.event.removeListener(V),G(google.maps.event.addListener(N,"drag",b)))},[b]),p.useEffect(()=>{var X=new google.maps.Polyline(dm(dm({},e||ree),{},{map:w}));return a&&X.setPath(a),typeof i<"u"&&X.setVisible(i),typeof s<"u"&&X.setEditable(s),typeof n<"u"&&X.setDraggable(n),o&&P(google.maps.event.addListener(X,"dblclick",o)),l&&E(google.maps.event.addListener(X,"dragend",l)),c&&W(google.maps.event.addListener(X,"dragstart",c)),d&&D(google.maps.event.addListener(X,"mousedown",d)),u&&_(google.maps.event.addListener(X,"mousemove",u)),h&&I(google.maps.event.addListener(X,"mouseout",h)),m&&$(google.maps.event.addListener(X,"mouseover",m)),f&&L(google.maps.event.addListener(X,"mouseup",f)),x&&K(google.maps.event.addListener(X,"rightclick",x)),g&&U(google.maps.event.addListener(X,"click",g)),b&&G(google.maps.event.addListener(X,"drag",b)),j(X),y&&y(X),()=>{k!==null&&google.maps.event.removeListener(k),S!==null&&google.maps.event.removeListener(S),T!==null&&google.maps.event.removeListener(T),F!==null&&google.maps.event.removeListener(F),A!==null&&google.maps.event.removeListener(A),z!==null&&google.maps.event.removeListener(z),M!==null&&google.maps.event.removeListener(M),O!==null&&google.maps.event.removeListener(O),Y!==null&&google.maps.event.removeListener(Y),B!==null&&google.maps.event.removeListener(B),v&&v(X),X.setMap(null)}},[]),null}p.memo(iee);class aee extends p.PureComponent{constructor(){super(...arguments),me(this,"registeredEvents",[]),me(this,"state",{polyline:null}),me(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var e=new google.maps.Polyline(dm(dm({},this.props.options),{},{map:this.context}));this.registeredEvents=He({updaterMap:N4,eventMap:j4,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){this.state.polyline!==null&&(Ge(this.registeredEvents),this.registeredEvents=He({updaterMap:N4,eventMap:j4,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),Ge(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}me(aee,"contextType",Ue);function k4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function S4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k4(Object(n),!0).forEach(function(s){me(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k4(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var C4={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},P4={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},paths(t,e){t.setPaths(e)},visible(t,e){t.setVisible(e)}};function oee(t){var{options:e,draggable:n,editable:s,visible:i,path:a,paths:o,onDblClick:l,onDragEnd:c,onDragStart:d,onMouseDown:u,onMouseMove:h,onMouseOut:m,onMouseOver:f,onMouseUp:x,onRightClick:g,onClick:b,onDrag:y,onLoad:v,onUnmount:w,onEdit:N}=t,j=p.useContext(Ue),[k,P]=p.useState(null),[S,E]=p.useState(null),[T,W]=p.useState(null),[F,D]=p.useState(null),[A,_]=p.useState(null),[z,I]=p.useState(null),[M,$]=p.useState(null),[O,L]=p.useState(null),[Y,K]=p.useState(null),[B,U]=p.useState(null),[V,G]=p.useState(null),[X,oe]=p.useState(null);return p.useEffect(()=>{k!==null&&k.setMap(j)},[j]),p.useEffect(()=>{typeof e<"u"&&k!==null&&k.setOptions(e)},[k,e]),p.useEffect(()=>{typeof n<"u"&&k!==null&&k.setDraggable(n)},[k,n]),p.useEffect(()=>{typeof s<"u"&&k!==null&&k.setEditable(s)},[k,s]),p.useEffect(()=>{typeof i<"u"&&k!==null&&k.setVisible(i)},[k,i]),p.useEffect(()=>{typeof a<"u"&&k!==null&&k.setPath(a)},[k,a]),p.useEffect(()=>{typeof o<"u"&&k!==null&&k.setPaths(o)},[k,o]),p.useEffect(()=>{k&&typeof l=="function"&&(S!==null&&google.maps.event.removeListener(S),E(google.maps.event.addListener(k,"dblclick",l)))},[l]),p.useEffect(()=>{k&&(google.maps.event.addListener(k.getPath(),"insert_at",()=>{N==null||N(k)}),google.maps.event.addListener(k.getPath(),"set_at",()=>{N==null||N(k)}),google.maps.event.addListener(k.getPath(),"remove_at",()=>{N==null||N(k)}))},[k,N]),p.useEffect(()=>{k&&typeof c=="function"&&(T!==null&&google.maps.event.removeListener(T),W(google.maps.event.addListener(k,"dragend",c)))},[c]),p.useEffect(()=>{k&&typeof d=="function"&&(F!==null&&google.maps.event.removeListener(F),D(google.maps.event.addListener(k,"dragstart",d)))},[d]),p.useEffect(()=>{k&&typeof u=="function"&&(A!==null&&google.maps.event.removeListener(A),_(google.maps.event.addListener(k,"mousedown",u)))},[u]),p.useEffect(()=>{k&&typeof h=="function"&&(z!==null&&google.maps.event.removeListener(z),I(google.maps.event.addListener(k,"mousemove",h)))},[h]),p.useEffect(()=>{k&&typeof m=="function"&&(M!==null&&google.maps.event.removeListener(M),$(google.maps.event.addListener(k,"mouseout",m)))},[m]),p.useEffect(()=>{k&&typeof f=="function"&&(O!==null&&google.maps.event.removeListener(O),L(google.maps.event.addListener(k,"mouseover",f)))},[f]),p.useEffect(()=>{k&&typeof x=="function"&&(Y!==null&&google.maps.event.removeListener(Y),K(google.maps.event.addListener(k,"mouseup",x)))},[x]),p.useEffect(()=>{k&&typeof g=="function"&&(B!==null&&google.maps.event.removeListener(B),U(google.maps.event.addListener(k,"rightclick",g)))},[g]),p.useEffect(()=>{k&&typeof b=="function"&&(V!==null&&google.maps.event.removeListener(V),G(google.maps.event.addListener(k,"click",b)))},[b]),p.useEffect(()=>{k&&typeof y=="function"&&(X!==null&&google.maps.event.removeListener(X),oe(google.maps.event.addListener(k,"drag",y)))},[y]),p.useEffect(()=>{var ne=new google.maps.Polygon(S4(S4({},e),{},{map:j}));return a&&ne.setPath(a),o&&ne.setPaths(o),typeof i<"u"&&ne.setVisible(i),typeof s<"u"&&ne.setEditable(s),typeof n<"u"&&ne.setDraggable(n),l&&E(google.maps.event.addListener(ne,"dblclick",l)),c&&W(google.maps.event.addListener(ne,"dragend",c)),d&&D(google.maps.event.addListener(ne,"dragstart",d)),u&&_(google.maps.event.addListener(ne,"mousedown",u)),h&&I(google.maps.event.addListener(ne,"mousemove",h)),m&&$(google.maps.event.addListener(ne,"mouseout",m)),f&&L(google.maps.event.addListener(ne,"mouseover",f)),x&&K(google.maps.event.addListener(ne,"mouseup",x)),g&&U(google.maps.event.addListener(ne,"rightclick",g)),b&&G(google.maps.event.addListener(ne,"click",b)),y&&oe(google.maps.event.addListener(ne,"drag",y)),P(ne),v&&v(ne),()=>{S!==null&&google.maps.event.removeListener(S),T!==null&&google.maps.event.removeListener(T),F!==null&&google.maps.event.removeListener(F),A!==null&&google.maps.event.removeListener(A),z!==null&&google.maps.event.removeListener(z),M!==null&&google.maps.event.removeListener(M),O!==null&&google.maps.event.removeListener(O),Y!==null&&google.maps.event.removeListener(Y),B!==null&&google.maps.event.removeListener(B),V!==null&&google.maps.event.removeListener(V),w&&w(ne),ne.setMap(null)}},[]),null}p.memo(oee);class lee extends p.PureComponent{constructor(){super(...arguments),me(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=He({updaterMap:P4,eventMap:C4,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&(Ge(this.registeredEvents),this.registeredEvents=He({updaterMap:P4,eventMap:C4,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),Ge(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}me(lee,"contextType",Ue);function E4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function um(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E4(Object(n),!0).forEach(function(s){me(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E4(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var _4={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},M4={bounds(t,e){t.setBounds(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},visible(t,e){t.setVisible(e)}};function cee(t){var{options:e,bounds:n,draggable:s,editable:i,visible:a,onDblClick:o,onDragEnd:l,onDragStart:c,onMouseDown:d,onMouseMove:u,onMouseOut:h,onMouseOver:m,onMouseUp:f,onRightClick:x,onClick:g,onDrag:b,onBoundsChanged:y,onLoad:v,onUnmount:w}=t,N=p.useContext(Ue),[j,k]=p.useState(null),[P,S]=p.useState(null),[E,T]=p.useState(null),[W,F]=p.useState(null),[D,A]=p.useState(null),[_,z]=p.useState(null),[I,M]=p.useState(null),[$,O]=p.useState(null),[L,Y]=p.useState(null),[K,B]=p.useState(null),[U,V]=p.useState(null),[G,X]=p.useState(null),[oe,ne]=p.useState(null);return p.useEffect(()=>{j!==null&&j.setMap(N)},[N]),p.useEffect(()=>{typeof e<"u"&&j!==null&&j.setOptions(e)},[j,e]),p.useEffect(()=>{typeof s<"u"&&j!==null&&j.setDraggable(s)},[j,s]),p.useEffect(()=>{typeof i<"u"&&j!==null&&j.setEditable(i)},[j,i]),p.useEffect(()=>{typeof a<"u"&&j!==null&&j.setVisible(a)},[j,a]),p.useEffect(()=>{typeof n<"u"&&j!==null&&j.setBounds(n)},[j,n]),p.useEffect(()=>{j&&o&&(P!==null&&google.maps.event.removeListener(P),S(google.maps.event.addListener(j,"dblclick",o)))},[o]),p.useEffect(()=>{j&&l&&(E!==null&&google.maps.event.removeListener(E),T(google.maps.event.addListener(j,"dragend",l)))},[l]),p.useEffect(()=>{j&&c&&(W!==null&&google.maps.event.removeListener(W),F(google.maps.event.addListener(j,"dragstart",c)))},[c]),p.useEffect(()=>{j&&d&&(D!==null&&google.maps.event.removeListener(D),A(google.maps.event.addListener(j,"mousedown",d)))},[d]),p.useEffect(()=>{j&&u&&(_!==null&&google.maps.event.removeListener(_),z(google.maps.event.addListener(j,"mousemove",u)))},[u]),p.useEffect(()=>{j&&h&&(I!==null&&google.maps.event.removeListener(I),M(google.maps.event.addListener(j,"mouseout",h)))},[h]),p.useEffect(()=>{j&&m&&($!==null&&google.maps.event.removeListener($),O(google.maps.event.addListener(j,"mouseover",m)))},[m]),p.useEffect(()=>{j&&f&&(L!==null&&google.maps.event.removeListener(L),Y(google.maps.event.addListener(j,"mouseup",f)))},[f]),p.useEffect(()=>{j&&x&&(K!==null&&google.maps.event.removeListener(K),B(google.maps.event.addListener(j,"rightclick",x)))},[x]),p.useEffect(()=>{j&&g&&(U!==null&&google.maps.event.removeListener(U),V(google.maps.event.addListener(j,"click",g)))},[g]),p.useEffect(()=>{j&&b&&(G!==null&&google.maps.event.removeListener(G),X(google.maps.event.addListener(j,"drag",b)))},[b]),p.useEffect(()=>{j&&y&&(oe!==null&&google.maps.event.removeListener(oe),ne(google.maps.event.addListener(j,"bounds_changed",y)))},[y]),p.useEffect(()=>{var H=new google.maps.Rectangle(um(um({},e),{},{map:N}));return typeof a<"u"&&H.setVisible(a),typeof i<"u"&&H.setEditable(i),typeof s<"u"&&H.setDraggable(s),typeof n<"u"&&H.setBounds(n),o&&S(google.maps.event.addListener(H,"dblclick",o)),l&&T(google.maps.event.addListener(H,"dragend",l)),c&&F(google.maps.event.addListener(H,"dragstart",c)),d&&A(google.maps.event.addListener(H,"mousedown",d)),u&&z(google.maps.event.addListener(H,"mousemove",u)),h&&M(google.maps.event.addListener(H,"mouseout",h)),m&&O(google.maps.event.addListener(H,"mouseover",m)),f&&Y(google.maps.event.addListener(H,"mouseup",f)),x&&B(google.maps.event.addListener(H,"rightclick",x)),g&&V(google.maps.event.addListener(H,"click",g)),b&&X(google.maps.event.addListener(H,"drag",b)),y&&ne(google.maps.event.addListener(H,"bounds_changed",y)),k(H),v&&v(H),()=>{P!==null&&google.maps.event.removeListener(P),E!==null&&google.maps.event.removeListener(E),W!==null&&google.maps.event.removeListener(W),D!==null&&google.maps.event.removeListener(D),_!==null&&google.maps.event.removeListener(_),I!==null&&google.maps.event.removeListener(I),$!==null&&google.maps.event.removeListener($),L!==null&&google.maps.event.removeListener(L),K!==null&&google.maps.event.removeListener(K),U!==null&&google.maps.event.removeListener(U),G!==null&&google.maps.event.removeListener(G),oe!==null&&google.maps.event.removeListener(oe),w&&w(H),H.setMap(null)}},[]),null}p.memo(cee);class dee extends p.PureComponent{constructor(){super(...arguments),me(this,"registeredEvents",[]),me(this,"state",{rectangle:null}),me(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var e=new google.maps.Rectangle(um(um({},this.props.options),{},{map:this.context}));this.registeredEvents=He({updaterMap:M4,eventMap:_4,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){this.state.rectangle!==null&&(Ge(this.registeredEvents),this.registeredEvents=He({updaterMap:M4,eventMap:_4,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),Ge(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}me(dee,"contextType",Ue);function T4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function hm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T4(Object(n),!0).forEach(function(s){me(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T4(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var L4={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},A4={center(t,e){t.setCenter(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},radius(t,e){t.setRadius(e)},visible(t,e){t.setVisible(e)}},uee={};function hee(t){var{options:e,center:n,radius:s,draggable:i,editable:a,visible:o,onDblClick:l,onDragEnd:c,onDragStart:d,onMouseDown:u,onMouseMove:h,onMouseOut:m,onMouseOver:f,onMouseUp:x,onRightClick:g,onClick:b,onDrag:y,onCenterChanged:v,onRadiusChanged:w,onLoad:N,onUnmount:j}=t,k=p.useContext(Ue),[P,S]=p.useState(null),[E,T]=p.useState(null),[W,F]=p.useState(null),[D,A]=p.useState(null),[_,z]=p.useState(null),[I,M]=p.useState(null),[$,O]=p.useState(null),[L,Y]=p.useState(null),[K,B]=p.useState(null),[U,V]=p.useState(null),[G,X]=p.useState(null),[oe,ne]=p.useState(null),[H,Z]=p.useState(null),[fe,ce]=p.useState(null);return p.useEffect(()=>{P!==null&&P.setMap(k)},[k]),p.useEffect(()=>{typeof e<"u"&&P!==null&&P.setOptions(e)},[P,e]),p.useEffect(()=>{typeof i<"u"&&P!==null&&P.setDraggable(i)},[P,i]),p.useEffect(()=>{typeof a<"u"&&P!==null&&P.setEditable(a)},[P,a]),p.useEffect(()=>{typeof o<"u"&&P!==null&&P.setVisible(o)},[P,o]),p.useEffect(()=>{typeof s=="number"&&P!==null&&P.setRadius(s)},[P,s]),p.useEffect(()=>{typeof n<"u"&&P!==null&&P.setCenter(n)},[P,n]),p.useEffect(()=>{P&&l&&(E!==null&&google.maps.event.removeListener(E),T(google.maps.event.addListener(P,"dblclick",l)))},[l]),p.useEffect(()=>{P&&c&&(W!==null&&google.maps.event.removeListener(W),F(google.maps.event.addListener(P,"dragend",c)))},[c]),p.useEffect(()=>{P&&d&&(D!==null&&google.maps.event.removeListener(D),A(google.maps.event.addListener(P,"dragstart",d)))},[d]),p.useEffect(()=>{P&&u&&(_!==null&&google.maps.event.removeListener(_),z(google.maps.event.addListener(P,"mousedown",u)))},[u]),p.useEffect(()=>{P&&h&&(I!==null&&google.maps.event.removeListener(I),M(google.maps.event.addListener(P,"mousemove",h)))},[h]),p.useEffect(()=>{P&&m&&($!==null&&google.maps.event.removeListener($),O(google.maps.event.addListener(P,"mouseout",m)))},[m]),p.useEffect(()=>{P&&f&&(L!==null&&google.maps.event.removeListener(L),Y(google.maps.event.addListener(P,"mouseover",f)))},[f]),p.useEffect(()=>{P&&x&&(K!==null&&google.maps.event.removeListener(K),B(google.maps.event.addListener(P,"mouseup",x)))},[x]),p.useEffect(()=>{P&&g&&(U!==null&&google.maps.event.removeListener(U),V(google.maps.event.addListener(P,"rightclick",g)))},[g]),p.useEffect(()=>{P&&b&&(G!==null&&google.maps.event.removeListener(G),X(google.maps.event.addListener(P,"click",b)))},[b]),p.useEffect(()=>{P&&y&&(oe!==null&&google.maps.event.removeListener(oe),ne(google.maps.event.addListener(P,"drag",y)))},[y]),p.useEffect(()=>{P&&v&&(H!==null&&google.maps.event.removeListener(H),Z(google.maps.event.addListener(P,"center_changed",v)))},[b]),p.useEffect(()=>{P&&w&&(fe!==null&&google.maps.event.removeListener(fe),ce(google.maps.event.addListener(P,"radius_changed",w)))},[w]),p.useEffect(()=>{var de=new google.maps.Circle(hm(hm({},e||uee),{},{map:k}));return typeof s=="number"&&de.setRadius(s),typeof n<"u"&&de.setCenter(n),typeof s=="number"&&de.setRadius(s),typeof o<"u"&&de.setVisible(o),typeof a<"u"&&de.setEditable(a),typeof i<"u"&&de.setDraggable(i),l&&T(google.maps.event.addListener(de,"dblclick",l)),c&&F(google.maps.event.addListener(de,"dragend",c)),d&&A(google.maps.event.addListener(de,"dragstart",d)),u&&z(google.maps.event.addListener(de,"mousedown",u)),h&&M(google.maps.event.addListener(de,"mousemove",h)),m&&O(google.maps.event.addListener(de,"mouseout",m)),f&&Y(google.maps.event.addListener(de,"mouseover",f)),x&&B(google.maps.event.addListener(de,"mouseup",x)),g&&V(google.maps.event.addListener(de,"rightclick",g)),b&&X(google.maps.event.addListener(de,"click",b)),y&&ne(google.maps.event.addListener(de,"drag",y)),v&&Z(google.maps.event.addListener(de,"center_changed",v)),w&&ce(google.maps.event.addListener(de,"radius_changed",w)),S(de),N&&N(de),()=>{E!==null&&google.maps.event.removeListener(E),W!==null&&google.maps.event.removeListener(W),D!==null&&google.maps.event.removeListener(D),_!==null&&google.maps.event.removeListener(_),I!==null&&google.maps.event.removeListener(I),$!==null&&google.maps.event.removeListener($),L!==null&&google.maps.event.removeListener(L),K!==null&&google.maps.event.removeListener(K),U!==null&&google.maps.event.removeListener(U),G!==null&&google.maps.event.removeListener(G),H!==null&&google.maps.event.removeListener(H),fe!==null&&google.maps.event.removeListener(fe),j&&j(de),de.setMap(null)}},[]),null}p.memo(hee);class pee extends p.PureComponent{constructor(){super(...arguments),me(this,"registeredEvents",[]),me(this,"state",{circle:null}),me(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var e=new google.maps.Circle(hm(hm({},this.props.options),{},{map:this.context}));this.registeredEvents=He({updaterMap:A4,eventMap:L4,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){this.state.circle!==null&&(Ge(this.registeredEvents),this.registeredEvents=He({updaterMap:A4,eventMap:L4,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var e;this.props.onUnmount&&this.props.onUnmount(this.state.circle),Ge(this.registeredEvents),(e=this.state.circle)===null||e===void 0||e.setMap(null)}}render(){return null}}me(pee,"contextType",Ue);function I4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function pm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I4(Object(n),!0).forEach(function(s){me(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I4(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var O4={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},R4={add(t,e){t.add(e)},addgeojson(t,e,n){t.addGeoJson(e,n)},contains(t,e){t.contains(e)},foreach(t,e){t.forEach(e)},loadgeojson(t,e,n,s){t.loadGeoJson(e,n,s)},overridestyle(t,e,n){t.overrideStyle(e,n)},remove(t,e){t.remove(e)},revertstyle(t,e){t.revertStyle(e)},controlposition(t,e){t.setControlPosition(e)},controls(t,e){t.setControls(e)},drawingmode(t,e){t.setDrawingMode(e)},map(t,e){t.setMap(e)},style(t,e){t.setStyle(e)},togeojson(t,e){t.toGeoJson(e)}};function mee(t){var{options:e,onClick:n,onDblClick:s,onMouseDown:i,onMouseMove:a,onMouseOut:o,onMouseOver:l,onMouseUp:c,onRightClick:d,onAddFeature:u,onRemoveFeature:h,onRemoveProperty:m,onSetGeometry:f,onSetProperty:x,onLoad:g,onUnmount:b}=t,y=p.useContext(Ue),[v,w]=p.useState(null),[N,j]=p.useState(null),[k,P]=p.useState(null),[S,E]=p.useState(null),[T,W]=p.useState(null),[F,D]=p.useState(null),[A,_]=p.useState(null),[z,I]=p.useState(null),[M,$]=p.useState(null),[O,L]=p.useState(null),[Y,K]=p.useState(null),[B,U]=p.useState(null),[V,G]=p.useState(null),[X,oe]=p.useState(null);return p.useEffect(()=>{v!==null&&v.setMap(y)},[y]),p.useEffect(()=>{v&&s&&(N!==null&&google.maps.event.removeListener(N),j(google.maps.event.addListener(v,"dblclick",s)))},[s]),p.useEffect(()=>{v&&i&&(k!==null&&google.maps.event.removeListener(k),P(google.maps.event.addListener(v,"mousedown",i)))},[i]),p.useEffect(()=>{v&&a&&(S!==null&&google.maps.event.removeListener(S),E(google.maps.event.addListener(v,"mousemove",a)))},[a]),p.useEffect(()=>{v&&o&&(T!==null&&google.maps.event.removeListener(T),W(google.maps.event.addListener(v,"mouseout",o)))},[o]),p.useEffect(()=>{v&&l&&(F!==null&&google.maps.event.removeListener(F),D(google.maps.event.addListener(v,"mouseover",l)))},[l]),p.useEffect(()=>{v&&c&&(A!==null&&google.maps.event.removeListener(A),_(google.maps.event.addListener(v,"mouseup",c)))},[c]),p.useEffect(()=>{v&&d&&(z!==null&&google.maps.event.removeListener(z),I(google.maps.event.addListener(v,"rightclick",d)))},[d]),p.useEffect(()=>{v&&n&&(M!==null&&google.maps.event.removeListener(M),$(google.maps.event.addListener(v,"click",n)))},[n]),p.useEffect(()=>{v&&u&&(O!==null&&google.maps.event.removeListener(O),L(google.maps.event.addListener(v,"addfeature",u)))},[u]),p.useEffect(()=>{v&&h&&(Y!==null&&google.maps.event.removeListener(Y),K(google.maps.event.addListener(v,"removefeature",h)))},[h]),p.useEffect(()=>{v&&m&&(B!==null&&google.maps.event.removeListener(B),U(google.maps.event.addListener(v,"removeproperty",m)))},[m]),p.useEffect(()=>{v&&f&&(V!==null&&google.maps.event.removeListener(V),G(google.maps.event.addListener(v,"setgeometry",f)))},[f]),p.useEffect(()=>{v&&x&&(X!==null&&google.maps.event.removeListener(X),oe(google.maps.event.addListener(v,"setproperty",x)))},[x]),p.useEffect(()=>{if(y!==null){var ne=new google.maps.Data(pm(pm({},e),{},{map:y}));s&&j(google.maps.event.addListener(ne,"dblclick",s)),i&&P(google.maps.event.addListener(ne,"mousedown",i)),a&&E(google.maps.event.addListener(ne,"mousemove",a)),o&&W(google.maps.event.addListener(ne,"mouseout",o)),l&&D(google.maps.event.addListener(ne,"mouseover",l)),c&&_(google.maps.event.addListener(ne,"mouseup",c)),d&&I(google.maps.event.addListener(ne,"rightclick",d)),n&&$(google.maps.event.addListener(ne,"click",n)),u&&L(google.maps.event.addListener(ne,"addfeature",u)),h&&K(google.maps.event.addListener(ne,"removefeature",h)),m&&U(google.maps.event.addListener(ne,"removeproperty",m)),f&&G(google.maps.event.addListener(ne,"setgeometry",f)),x&&oe(google.maps.event.addListener(ne,"setproperty",x)),w(ne),g&&g(ne)}return()=>{v&&(N!==null&&google.maps.event.removeListener(N),k!==null&&google.maps.event.removeListener(k),S!==null&&google.maps.event.removeListener(S),T!==null&&google.maps.event.removeListener(T),F!==null&&google.maps.event.removeListener(F),A!==null&&google.maps.event.removeListener(A),z!==null&&google.maps.event.removeListener(z),M!==null&&google.maps.event.removeListener(M),O!==null&&google.maps.event.removeListener(O),Y!==null&&google.maps.event.removeListener(Y),B!==null&&google.maps.event.removeListener(B),V!==null&&google.maps.event.removeListener(V),X!==null&&google.maps.event.removeListener(X),b&&b(v),v.setMap(null))}},[]),null}p.memo(mee);class fee extends p.PureComponent{constructor(){super(...arguments),me(this,"registeredEvents",[]),me(this,"state",{data:null}),me(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var e=new google.maps.Data(pm(pm({},this.props.options),{},{map:this.context}));this.registeredEvents=He({updaterMap:R4,eventMap:O4,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){this.state.data!==null&&(Ge(this.registeredEvents),this.registeredEvents=He({updaterMap:R4,eventMap:O4,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),Ge(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}me(fee,"contextType",Ue);function D4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function $4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D4(Object(n),!0).forEach(function(s){me(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D4(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var F4={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},z4={options(t,e){t.setOptions(e)},url(t,e){t.setUrl(e)},zIndex(t,e){t.setZIndex(e)}};class gee extends p.PureComponent{constructor(){super(...arguments),me(this,"registeredEvents",[]),me(this,"state",{kmlLayer:null}),me(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var e=new google.maps.KmlLayer($4($4({},this.props.options),{},{map:this.context}));this.registeredEvents=He({updaterMap:z4,eventMap:F4,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){this.state.kmlLayer!==null&&(Ge(this.registeredEvents),this.registeredEvents=He({updaterMap:z4,eventMap:F4,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),Ge(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}me(gee,"contextType",Ue);function w6(t,e){return typeof e=="function"?e(t.offsetWidth,t.offsetHeight):{x:0,y:0}}function xee(t,e){return new e(t.lat,t.lng)}function vee(t,e){return new e(new google.maps.LatLng(t.ne.lat,t.ne.lng),new google.maps.LatLng(t.sw.lat,t.sw.lng))}function yee(t,e,n){return t instanceof e?t:n(t,e)}function bee(t,e,n){return t instanceof e?t:n(t,e)}function wee(t,e,n){var s=t&&t.fromLatLngToDivPixel(n.getNorthEast()),i=t&&t.fromLatLngToDivPixel(n.getSouthWest());return s&&i?{left:"".concat(i.x+e.x,"px"),top:"".concat(s.y+e.y,"px"),width:"".concat(s.x-i.x-e.x,"px"),height:"".concat(i.y-s.y-e.y,"px")}:{left:"-9999px",top:"-9999px"}}function jee(t,e,n){var s=t&&t.fromLatLngToDivPixel(n);if(s){var{x:i,y:a}=s;return{left:"".concat(i+e.x,"px"),top:"".concat(a+e.y,"px")}}return{left:"-9999px",top:"-9999px"}}function j6(t,e,n,s){return n!==void 0?wee(t,e,bee(n,google.maps.LatLngBounds,vee)):jee(t,e,yee(s,google.maps.LatLng,xee))}function Nee(t,e){return t.left===e.left&&t.top===e.top&&t.width===e.height&&t.height===e.height}function B4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function kee(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B4(Object(n),!0).forEach(function(s){me(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B4(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function See(t,e,n,s,i){class a extends google.maps.OverlayView{constructor(l,c,d,u){super(),this.container=l,this.pane=c,this.position=d,this.bounds=u}onAdd(){var l,c=(l=this.getPanes())===null||l===void 0?void 0:l[this.pane];c==null||c.appendChild(this.container)}draw(){var l=this.getProjection(),c=kee({},this.container?w6(this.container,i):{x:0,y:0}),d=j6(l,c,this.bounds,this.position);for(var[u,h]of Object.entries(d))this.container.style[u]=h}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new a(t,e,n,s)}function V4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function Cee(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V4(Object(n),!0).forEach(function(s){me(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V4(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function U4(t){if(!t)return"";var e=t instanceof google.maps.LatLng?t:new google.maps.LatLng(t.lat,t.lng);return e+""}function W4(t){if(!t)return"";var e=t instanceof google.maps.LatLngBounds?t:new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.east),new google.maps.LatLng(t.north,t.west));return e+""}function Pee(t){var{position:e,bounds:n,mapPaneName:s,zIndex:i,onLoad:a,onUnmount:o,getPixelPositionOffset:l,children:c}=t,d=p.useContext(Ue),u=p.useMemo(()=>{var m=document.createElement("div");return m.style.position="absolute",m},[]),h=p.useMemo(()=>See(u,s,e,n,l),[u,s,e,n]);return p.useEffect(()=>(a==null||a(h),h==null||h.setMap(d),()=>{o==null||o(h),h==null||h.setMap(null)}),[d,h]),p.useEffect(()=>{u.style.zIndex="".concat(i)},[i,u]),Bi.createPortal(c,u)}p.memo(Pee);class Ll extends p.PureComponent{constructor(e){super(e),me(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),me(this,"updatePane",()=>{var s=this.props.mapPaneName,i=this.overlayView.getPanes();Xt(!!s,"OverlayView requires props.mapPaneName but got %s",s),i?this.setState({paneEl:i[s]}):this.setState({paneEl:null})}),me(this,"onAdd",()=>{var s,i;this.updatePane(),(s=(i=this.props).onLoad)===null||s===void 0||s.call(i,this.overlayView)}),me(this,"onPositionElement",()=>{var s=this.overlayView.getProjection(),i=Cee({x:0,y:0},this.containerRef.current?w6(this.containerRef.current,this.props.getPixelPositionOffset):{}),a=j6(s,i,this.props.bounds,this.props.position);if(!Nee(a,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var o,l,c,d;this.setState({containerStyle:{top:(o=a.top)!==null&&o!==void 0?o:0,left:(l=a.left)!==null&&l!==void 0?l:0,width:(c=a.width)!==null&&c!==void 0?c:0,height:(d=a.height)!==null&&d!==void 0?d:0,position:"absolute"}})}}),me(this,"draw",()=>{this.onPositionElement()}),me(this,"onRemove",()=>{var s,i;this.setState(()=>({paneEl:null})),(s=(i=this.props).onUnmount)===null||s===void 0||s.call(i,this.overlayView)}),this.containerRef=p.createRef();var n=new google.maps.OverlayView;n.onAdd=this.onAdd,n.draw=this.draw,n.onRemove=this.onRemove,this.overlayView=n}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var n=U4(e.position),s=U4(this.props.position),i=W4(e.bounds),a=W4(this.props.bounds);(n!==s||i!==a)&&this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?Bi.createPortal(r.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:p.Children.only(this.props.children)}),e):null}}me(Ll,"FLOAT_PANE","floatPane");me(Ll,"MAP_PANE","mapPane");me(Ll,"MARKER_LAYER","markerLayer");me(Ll,"OVERLAY_LAYER","overlayLayer");me(Ll,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");me(Ll,"contextType",Ue);function Eee(){}function H4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function q4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H4(Object(n),!0).forEach(function(s){me(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H4(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var G4={onDblClick:"dblclick",onClick:"click"},K4={opacity(t,e){t.setOpacity(e)}};function _ee(t){var{url:e,bounds:n,options:s,visible:i}=t,a=p.useContext(Ue),o=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east)),l=p.useMemo(()=>new google.maps.GroundOverlay(e,o,s),[]);return p.useEffect(()=>{l!==null&&l.setMap(a)},[a]),p.useEffect(()=>{typeof e<"u"&&l!==null&&(l.set("url",e),l.setMap(a))},[l,e]),p.useEffect(()=>{typeof i<"u"&&l!==null&&l.setOpacity(i?1:0)},[l,i]),p.useEffect(()=>{var c=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east));typeof n<"u"&&l!==null&&(l.set("bounds",c),l.setMap(a))},[l,n]),null}p.memo(_ee);class N6 extends p.PureComponent{constructor(){super(...arguments),me(this,"registeredEvents",[]),me(this,"state",{groundOverlay:null}),me(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){Xt(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,q4(q4({},this.props.options),{},{map:this.context}));this.registeredEvents=He({updaterMap:K4,eventMap:G4,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){this.state.groundOverlay!==null&&(Ge(this.registeredEvents),this.registeredEvents=He({updaterMap:K4,eventMap:G4,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}me(N6,"defaultProps",{onLoad:Eee});me(N6,"contextType",Ue);function Y4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function mm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y4(Object(n),!0).forEach(function(s){me(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y4(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var X4={},Z4={data(t,e){t.setData(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)}};function Mee(t){var{data:e,onLoad:n,onUnmount:s,options:i}=t,a=p.useContext(Ue),[o,l]=p.useState(null);return p.useEffect(()=>{google.maps.visualization||Xt(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),p.useEffect(()=>{Xt(!!e,"data property is required in HeatmapLayer %s",e)},[e]),p.useEffect(()=>{o!==null&&o.setMap(a)},[a]),p.useEffect(()=>{i&&o!==null&&o.setOptions(i)},[o,i]),p.useEffect(()=>{var c=new google.maps.visualization.HeatmapLayer(mm(mm({},i),{},{data:e,map:a}));return l(c),n&&n(c),()=>{o!==null&&(s&&s(o),o.setMap(null))}},[]),null}p.memo(Mee);class Tee extends p.PureComponent{constructor(){super(...arguments),me(this,"registeredEvents",[]),me(this,"state",{heatmapLayer:null}),me(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){Xt(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),Xt(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(mm(mm({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=He({updaterMap:Z4,eventMap:X4,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){Ge(this.registeredEvents),this.registeredEvents=He({updaterMap:Z4,eventMap:X4,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),Ge(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}me(Tee,"contextType",Ue);var Q4={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},J4={register(t,e,n){t.registerPanoProvider(e,n)},links(t,e){t.setLinks(e)},motionTracking(t,e){t.setMotionTracking(e)},options(t,e){t.setOptions(e)},pano(t,e){t.setPano(e)},position(t,e){t.setPosition(e)},pov(t,e){t.setPov(e)},visible(t,e){t.setVisible(e)},zoom(t,e){t.setZoom(e)}};class Lee extends p.PureComponent{constructor(){super(...arguments),me(this,"registeredEvents",[]),me(this,"state",{streetViewPanorama:null}),me(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var e,n,s=(e=(n=this.context)===null||n===void 0?void 0:n.getStreetView())!==null&&e!==void 0?e:null;this.registeredEvents=He({updaterMap:J4,eventMap:Q4,prevProps:{},nextProps:this.props,instance:s}),this.setState(()=>({streetViewPanorama:s}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){this.state.streetViewPanorama!==null&&(Ge(this.registeredEvents),this.registeredEvents=He({updaterMap:J4,eventMap:Q4,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),Ge(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}me(Lee,"contextType",Ue);class Aee extends p.PureComponent{constructor(){super(...arguments),me(this,"state",{streetViewService:null}),me(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}me(Aee,"contextType",Ue);var eS={onDirectionsChanged:"directions_changed"},tS={directions(t,e){t.setDirections(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},panel(t,e){t.setPanel(e)},routeIndex(t,e){t.setRouteIndex(e)}};class k6 extends p.PureComponent{constructor(){super(...arguments),me(this,"registeredEvents",[]),me(this,"state",{directionsRenderer:null}),me(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=He({updaterMap:tS,eventMap:eS,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){this.state.directionsRenderer!==null&&(Ge(this.registeredEvents),this.registeredEvents=He({updaterMap:tS,eventMap:eS,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),Ge(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}me(k6,"contextType",Ue);var nS={onPlacesChanged:"places_changed"},sS={bounds(t,e){t.setBounds(e)}};class Iee extends p.PureComponent{constructor(){super(...arguments),me(this,"registeredEvents",[]),me(this,"containerElement",p.createRef()),me(this,"state",{searchBox:null}),me(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(Xt(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var e=this.containerElement.current.querySelector("input");if(e!==null){var n=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=He({updaterMap:sS,eventMap:nS,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{searchBox:n}},this.setSearchBoxCallback)}}}componentDidUpdate(e){this.state.searchBox!==null&&(Ge(this.registeredEvents),this.registeredEvents=He({updaterMap:sS,eventMap:nS,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),Ge(this.registeredEvents))}render(){return r.jsx("div",{ref:this.containerElement,children:p.Children.only(this.props.children)})}}me(Iee,"contextType",Ue);var rS={onPlaceChanged:"place_changed"},iS={bounds(t,e){t.setBounds(e)},restrictions(t,e){t.setComponentRestrictions(e)},fields(t,e){t.setFields(e)},options(t,e){t.setOptions(e)},types(t,e){t.setTypes(e)}};class sw extends p.PureComponent{constructor(){super(...arguments),me(this,"registeredEvents",[]),me(this,"containerElement",p.createRef()),me(this,"state",{autocomplete:null}),me(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var e;Xt(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var n=(e=this.containerElement.current)===null||e===void 0?void 0:e.querySelector("input");if(n){var s=new google.maps.places.Autocomplete(n,this.props.options);this.registeredEvents=He({updaterMap:iS,eventMap:rS,prevProps:{},nextProps:this.props,instance:s}),this.setState(()=>({autocomplete:s}),this.setAutocompleteCallback)}}componentDidUpdate(e){Ge(this.registeredEvents),this.registeredEvents=He({updaterMap:iS,eventMap:rS,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&Ge(this.registeredEvents)}render(){return r.jsx("div",{ref:this.containerElement,className:this.props.className,children:p.Children.only(this.props.children)})}}me(sw,"defaultProps",{className:""});me(sw,"contextType",Ue);function Oee(t){return ke({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M923 283.6a260.04 260.04 0 0 0-56.9-82.8 264.4 264.4 0 0 0-84-55.5A265.34 265.34 0 0 0 679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 0 0-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9z"},child:[]}]})(t)}function Ree(t){return ke({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M923 283.6a260.04 260.04 0 0 0-56.9-82.8 264.4 264.4 0 0 0-84-55.5A265.34 265.34 0 0 0 679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 0 0-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9zM512 814.8S156 586.7 156 385.5C156 283.6 240.3 201 344.3 201c73.1 0 136.5 40.8 167.7 100.4C543.2 241.8 606.6 201 679.7 201c104 0 188.3 82.6 188.3 184.5 0 201.2-356 429.3-356 429.3z"},child:[]}]})(t)}const Dee="/assets/default-property-image-DUnlo8xD.jpg";function S6(t=[]){var i,a;const e="AIzaSyCmNIb_QRLF9sdOA5MsB3AQbsE-QYI70PE",n=Array.from(new Set(["places",...t])),s=hJ({id:"newrun-google-maps",googleMapsApiKey:e,libraries:n,version:"weekly",language:"en",region:"US"});return s.isLoaded&&((a=(i=window.google)==null?void 0:i.maps)!=null&&a.places),s}const $ee={width:"100%",height:"420px"},Fee={lat:41.8781,lng:-87.6298},zee={streetViewControl:!1,mapTypeControl:!1,fullscreenControl:!1},aS=t=>typeof t=="number"?t.toLocaleString("en-US"):String(t||""),oS=t=>{if(!t)return"";const{street:e,city:n,state:s,zipCode:i,zip:a}=t;return[e,n,s,i||a].filter(Boolean).join(", ")},ix=t=>new Promise((e,n)=>{new window.google.maps.Geocoder().geocode({address:t},(i,a)=>{if(a==="OK"&&(i!=null&&i[0])){const o=i[0].geometry.location;e({lat:o.lat(),lng:o.lng()})}else n(a)})}),Bee=t=>{if(!t||!t.includes("@"))return"";const[e,n]=t.split("@"),s=e.slice(0,1),i=e.slice(-1);return`${s}${i}@${n}`},Vee=t=>{if(!t)return"";const e=t.replace(/\D/g,"");return e.length<=2?"":`${e.slice(-2)}`};function Uee(){var pe,Q,we;const{id:t}=Hb(),e=dt(),{isLoaded:n}=S6(),[s,i]=p.useState(null),[a,o]=p.useState(null),[l,c]=p.useState(""),[d,u]=p.useState(!0),[h,m]=p.useState(0),[f,x]=p.useState(!1),[g,b]=p.useState(!1),[y,v]=p.useState(0),[w,N]=p.useState(null),[j,k]=p.useState(null),[P,S]=p.useState(null),[E,T]=p.useState(!1),[W,F]=p.useState({approved:!1,pending:!1,phone:"",email:"",supported:!0}),[D,A]=p.useState(!1),[_,z]=p.useState(!1),[I,M]=p.useState("idle"),[$,O]=p.useState(""),L=p.useMemo(()=>{if(n)return{url:"data:image/svg+xml;utf8,"+encodeURIComponent(`<svg width="40" height="40" viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
            <defs>
              <linearGradient id="g" x1="0" y1="0" x2="0" y2="1">
                <stop offset="0" stop-color="#2f64ff"/>
                <stop offset="1" stop-color="#22d3ee"/>
              </linearGradient>
              <filter id="s" x="-50%" y="-50%" width="200%" height="200%">
                <feDropShadow dx="0" dy="2" stdDeviation="2" flood-color="#000" flood-opacity=".35"/>
              </filter>
            </defs>
            <path d="M20 3c6.6 0 12 5.4 12 12 0 8.8-12 22-12 22S8 23.8 8 15c0-6.6 5.4-12 12-12z" fill="url(#g)" filter="url(#s)"/>
            <circle cx="20" cy="15" r="5" fill="white"/>
          </svg>`),scaledSize:new window.google.maps.Size(40,40),anchor:new window.google.maps.Point(20,38)}},[n]),Y=p.useMemo(()=>{if(n)return{url:"data:image/svg+xml;utf8,"+encodeURIComponent(`<svg width="40" height="40" viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
            <defs>
              <filter id="s2" x="-50%" y="-50%" width="200%" height="200%">
                <feDropShadow dx="0" dy="2" stdDeviation="2" flood-color="#000" flood-opacity=".35"/>
              </filter>
            </defs>
            <path d="M20 3c6.6 0 12 5.4 12 12 0 8.8-12 22-12 22S8 23.8 8 15c0-6.6 5.4-12 12-12z" fill="#EF4444" filter="url(#s2)"/>
            <circle cx="20" cy="15" r="5" fill="white"/>
          </svg>`),scaledSize:new window.google.maps.Size(40,40),anchor:new window.google.maps.Point(20,38)}},[n]),K=async()=>{var be,ee;try{const ue=await ge.get("/get-user");(ee=(be=ue==null?void 0:ue.data)==null?void 0:be.user)!=null&&ee._id&&o(ue.data.user._id)}catch{}},B=p.useCallback(async()=>{var be;try{const ue=(be=(await ge.get(`/properties/${t}`)).data)==null?void 0:be.property;if(!ue){c("Property not found."),u(!1);return}i(ue),m(Array.isArray(ue.likes)?ue.likes.length:0),u(!1)}catch{c("Unable to load property."),u(!1)}},[t]);p.useEffect(()=>{K(),B()},[B]),p.useEffect(()=>{if(!s||!a)return;const be=Array.isArray(s.likes)&&s.likes.some(ee=>String(ee)===String(a));x(be),m(Array.isArray(s.likes)?s.likes.length:0)},[s,a]);const U=p.useCallback(async()=>{try{const be=await ge.get(`/contact-access/status/${t}`);be!=null&&be.data&&F({approved:!!be.data.approved,pending:!!be.data.pending,phone:be.data.phone||"",email:be.data.email||"",supported:!0})}catch{F(be=>({...be,supported:!1}))}},[t]);p.useEffect(()=>{U()},[U]),p.useEffect(()=>{let be;return(async()=>{try{const{io:ee}=await qm(async()=>{const{io:C}=await Promise.resolve().then(()=>dw);return{io:C}},void 0);be=ee("http://localhost:8000",{transports:["websocket"],withCredentials:!0}),a&&be.emit("registerUser",a),be.on("contact_request:updated",C=>{(C==null?void 0:C.propertyId)===t&&U()})}catch{}})(),()=>{be&&be.disconnect()}},[a,t,U]),p.useEffect(()=>{if(!n||!s)return;const be=oS(s.address),ee=s.campusName||"NIU College of Business, Barsema Hall, DeKalb, IL 60115";(async()=>{try{const[ue,C]=await Promise.all([be?ix(be):Promise.resolve(null),ix(ee).catch(()=>ix("Northern Illinois University, DeKalb, IL 60115"))]);ue&&N(ue),C&&k(C),ue&&C&&new window.google.maps.DirectionsService().route({origin:ue,destination:C,travelMode:window.google.maps.TravelMode.DRIVING},(re,J)=>{J==="OK"&&S(re)})}catch{}})()},[n,s]);const V=async()=>{var ee,ue;const be=!f;x(be),m(C=>Math.max(0,C+(be?1:-1)));try{const C=await ge.put(`/property/${t}/like`);typeof((ee=C.data)==null?void 0:ee.likes)=="number"&&m(C.data.likes),typeof((ue=C.data)==null?void 0:ue.liked)=="boolean"&&x(C.data.liked)}catch{x(!be),m(C=>Math.max(0,C+(be?-1:1)))}},G=async()=>{var be,ee;try{const ue=await ge.post("/conversations/initiate",{receiverId:((be=s==null?void 0:s.userId)==null?void 0:be._id)||(s==null?void 0:s.userId)});(ee=ue.data)!=null&&ee.success&&e(`/messaging/${ue.data.conversationId}`)}catch{}},X=async()=>{var be;z(!0),O("");try{const ee=await ge.post("/contact-access/request",{propertyId:t}),ue=(ee==null?void 0:ee.data)||{};if(ue.self){M("self");return}if(ue.already){ue.approved?(F(C=>({...C,approved:!0,pending:!1})),M("approved")):ue.pending?(F(C=>({...C,pending:!0,approved:!1})),M("pending")):M("sent");return}if(ue.pending||ee.status===201){F(C=>({...C,pending:!0,approved:!1})),M("sent");return}M("sent")}catch(ee){const ue=(be=ee==null?void 0:ee.response)==null?void 0:be.status;O(ue===401?"Please sign in to request contact details.":ue===404?"Listing not found.":"We couldnt send the request right now."),M("error")}finally{z(!1)}};if(d)return r.jsxs("div",{className:"min-h-screen bg-[#0b0c0f] text-white",children:[r.jsx(ct,{}),r.jsx("div",{className:"mx-auto max-w-5xl px-4 py-14",children:"Loading"})]});if(l)return r.jsxs("div",{className:"min-h-screen bg-[#0b0c0f] text-white",children:[r.jsx(ct,{}),r.jsx("div",{className:"mx-auto max-w-5xl px-4 py-14 text-red-400",children:l})]});const oe=s.contactInfo||{},ne=Array.isArray(s.images)?s.images:[],H=String(((pe=s==null?void 0:s.userId)==null?void 0:pe._id)||(s==null?void 0:s.userId)||""),Z=String(a||""),fe=H&&Z&&H===Z,ce=fe?!0:W.supported&&W.approved,de=!fe&&W.supported&&W.pending&&!W.approved,te=ce?W.phone||oe.phone||"":Vee(oe.phone),le=ce?W.email||oe.email||"":Bee(oe.email);return r.jsxs("div",{className:"min-h-screen bg-[#0b0c0f] text-white",children:[r.jsx(ct,{}),r.jsx("div",{className:"container mx-auto py-8 lg:py-10",children:r.jsxs("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-2",children:[r.jsx("div",{className:"flex flex-col space-y-4",children:ne.length?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"rounded-xl border border-white/10 bg-white/[0.04] p-3",children:r.jsx("img",{src:ne[0],alt:"Main",className:"h-auto w-full cursor-pointer rounded-lg",onClick:()=>{v(0),b(!0)}})}),ne.length>1&&r.jsx("div",{className:"grid grid-cols-2 gap-4",children:ne.slice(1).map((be,ee)=>r.jsx("div",{className:"rounded-xl border border-white/10 bg-white/[0.04] p-2",children:r.jsx("img",{src:be,alt:`Thumb ${ee+2}`,className:"h-auto w-full cursor-pointer rounded-lg",onClick:()=>{v(ee+1),b(!0)}})},ee))})]}):r.jsx("div",{className:"rounded-xl border border-white/10 bg-white/[0.04] p-3",children:r.jsx("img",{src:Dee,alt:"Default",className:"rounded-lg"})})}),r.jsxs("div",{className:"space-y-6",children:[r.jsx("h1",{className:"text-4xl font-bold text-white",children:s.title}),r.jsx("p",{className:"text-2xl font-semibold text-white/90",children:`USD $${aS(s.price)}`}),r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{className:`grid h-12 w-12 place-items-center rounded-full transition ${f?"bg-rose-500":"bg-white/10 hover:bg-white/15"}`,onClick:V,title:"Like this property",children:f?r.jsx(Oee,{className:"text-white text-lg"}):r.jsx(Ree,{className:"text-rose-400 text-lg"})}),r.jsxs("span",{className:"text-white/70 font-medium",children:[h," ",h===1?"Like":"Likes"]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:w-auto",children:[r.jsxs("button",{className:"group flex-1 sm:flex-none px-6 py-3 rounded-xl bg-violet-600 hover:bg-violet-700 text-white font-semibold transition-all duration-300 flex items-center justify-center gap-2 hover:scale-105 hover:shadow-lg hover:shadow-violet-500/25",onClick:G,children:[r.jsx(ah,{className:"text-sm group-hover:scale-110 transition-transform duration-300"}),"Message Host"]}),!fe&&!ce&&(de?r.jsx("div",{className:"flex-1 sm:flex-none px-6 py-3 rounded-xl border border-yellow-400/30 bg-yellow-400/10 text-yellow-200 text-center font-medium animate-pulse",children:" Contact Request Pending"}):r.jsxs("button",{className:"group flex-1 sm:flex-none px-6 py-3 rounded-xl bg-blue-600 hover:bg-blue-700 text-white font-semibold transition-all duration-300 flex items-center justify-center gap-2 hover:scale-105 hover:shadow-lg hover:shadow-blue-500/25",onClick:()=>{M("idle"),A(!0)},children:[r.jsx(ah,{className:"text-sm group-hover:scale-110 transition-transform duration-300"}),"Request Contact Info"]}))]})]}),r.jsxs("div",{className:"space-y-2 text-lg text-white/80",children:[r.jsxs("p",{children:[r.jsx("strong",{className:"text-white/90",children:"Available:"})," ",r.jsx("span",{className:`text-xl ${s.availabilityStatus==="available"?"text-emerald-400":"text-rose-400"}`,children:s.availabilityStatus==="available"?"Yes":"No"})]}),r.jsxs("p",{children:[r.jsx("strong",{className:"text-white/90",children:"Location:"})," ",r.jsx("span",{className:"text-white/70",children:oS(s.address)||"N/A"})]}),r.jsxs("p",{children:[r.jsx("strong",{className:"text-white/90",children:"Distance from University:"})," ",r.jsxs("span",{className:"text-white/70",children:[s.distanceFromUniversity||"N/A"," miles"]})]}),r.jsxs("p",{children:[r.jsx("strong",{className:"text-white/90",children:"Bedrooms:"})," ",r.jsx("span",{className:"text-white/70",children:s.bedrooms||"N/A"})]}),r.jsxs("p",{children:[r.jsx("strong",{className:"text-white/90",children:"Bathrooms:"})," ",r.jsx("span",{className:"text-white/70",children:s.bathrooms||"N/A"})]}),r.jsxs("div",{className:"mt-8 rounded-2xl bg-white/5 border border-white/10 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-xl font-bold text-white",children:"Contact Information"}),r.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 rounded-full bg-emerald-500/20 border border-emerald-500/30",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-400"}),r.jsx("span",{className:"text-xs font-medium text-emerald-300",children:"Privacy Protected"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-xl bg-white/5 border border-white/10",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-500/20 flex items-center justify-center",children:r.jsx("span",{className:"text-lg",children:""})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-white/70",children:"Host Name"}),r.jsxs("p",{className:"text-white font-medium",children:[((Q=s==null?void 0:s.userId)==null?void 0:Q.firstName)||oe.name||""," ",((we=s==null?void 0:s.userId)==null?void 0:we.lastName)||""]})]})]}),r.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-xl bg-white/5 border border-white/10",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-emerald-500/20 flex items-center justify-center",children:r.jsx(c6,{className:"text-emerald-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-white/70",children:"Phone"}),r.jsx("p",{className:"text-white font-medium",children:te})]})]}),r.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-xl bg-white/5 border border-white/10",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-sky-500/20 flex items-center justify-center",children:r.jsx(ah,{className:"text-sky-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-white/70",children:"Email"}),r.jsx("p",{className:"text-white font-medium",children:le})]})]})]}),r.jsx("div",{className:"mt-6 p-4 rounded-xl bg-blue-500/10 border border-blue-500/20",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-5 h-5 rounded-full bg-blue-500/20 flex items-center justify-center flex-shrink-0 mt-0.5",children:r.jsx("span",{className:"text-xs",children:""})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-blue-300 font-medium",children:"Privacy Protected"}),r.jsx("p",{className:"text-xs text-blue-300/80 mt-1",children:"Contact information is only shared with approved users to ensure your safety and prevent spam."})]})]})})]}),r.jsxs("div",{className:"relative mt-8",children:[n?r.jsxs(eJ,{mapContainerStyle:$ee,center:w||j||Fee,zoom:w?14:12,options:zee,children:[P&&r.jsx(k6,{directions:P,options:{suppressMarkers:!0,polylineOptions:{strokeColor:"#2f64ff",strokeWeight:6}}}),w&&r.jsx(zv,{position:w,icon:L,onClick:()=>T(be=>!be)}),j&&r.jsx(zv,{position:j,icon:Y}),E&&w&&r.jsx(b6,{position:w,onCloseClick:()=>T(!1),children:r.jsxs("div",{style:{minWidth:180},children:[r.jsx("div",{style:{fontWeight:600,color:"#111827"},children:s.title}),r.jsxs("div",{style:{color:"#111827"},children:["USD $",aS(s.price)]})]})})]}):r.jsx("p",{className:"text-white/70",children:"Loading map"}),(w||j)&&r.jsx("div",{className:"mt-3",children:r.jsx("a",{className:"inline-block rounded-md bg-[#2f64ff] px-3 py-2 text-white hover:bg-[#2958e3]",href:`https://www.google.com/maps/dir/?api=1&origin=${encodeURIComponent(`${w==null?void 0:w.lat},${w==null?void 0:w.lng}`)}&destination=${encodeURIComponent(`${j==null?void 0:j.lat},${j==null?void 0:j.lng}`)}`,target:"_blank",rel:"noreferrer",children:"Open in Google Maps"})})]})]})]})]})}),g&&r.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80",children:[r.jsx("button",{className:"absolute right-5 top-5 text-white",onClick:()=>b(!1),children:r.jsx(Ci,{size:35})}),r.jsxs("div",{className:"relative w-11/12 max-w-5xl md:w-2/3",children:[r.jsx("img",{src:ne[y],alt:`Image ${y+1}`,className:"h-auto w-full rounded-lg shadow-lg"}),r.jsx("button",{className:"absolute left-0 top-1/2 -translate-y-1/2 rounded-full bg-black/50 p-2 text-white",onClick:()=>v(be=>be===0?ne.length-1:be-1),children:r.jsx(OV,{size:35})}),r.jsx("button",{className:"absolute right-0 top-1/2 -translate-y-1/2 rounded-full bg-black/50 p-2 text-white",onClick:()=>v(be=>be===ne.length-1?0:be+1),children:r.jsx(Qb,{size:35})})]})]}),D&&r.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 animate-in fade-in duration-300",children:r.jsxs("div",{className:"w-full max-w-md rounded-3xl bg-white/10 backdrop-blur-xl border border-white/20 p-8 text-white shadow-2xl animate-in zoom-in-95 slide-in-from-bottom-4 duration-500",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center animate-in zoom-in-50 duration-700 delay-200 shadow-lg shadow-blue-500/25",children:r.jsx(ah,{className:"text-2xl text-white animate-in bounce-in duration-1000 delay-500"})}),r.jsx("h3",{className:"text-2xl font-bold mb-2 animate-in fade-in slide-in-from-top-2 duration-700 delay-300",children:"Request Contact Info"}),r.jsx("p",{className:"text-white/70 text-sm animate-in fade-in slide-in-from-top-2 duration-700 delay-400",children:"Get direct contact details for this property"})]}),I==="idle"&&r.jsx("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-700 delay-500",children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-white/80 mb-4",children:"To protect your privacy and safety, contact information is only shared with approved users."}),r.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-xl p-4 animate-in slide-in-from-bottom-1 duration-700 delay-600",children:r.jsx("p",{className:"text-blue-300 text-sm font-medium",children:"The host will be notified and can approve your request"})})]})}),I==="self"&&r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-12 h-12 mx-auto mb-4 rounded-full bg-green-500/20 flex items-center justify-center",children:r.jsx("span",{className:"text-2xl",children:""})}),r.jsx("p",{className:"text-green-300 font-medium",children:"You own this property"}),r.jsx("p",{className:"text-white/70 text-sm mt-2",children:"No need to request contact information"})]}),I==="pending"&&r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-12 h-12 mx-auto mb-4 rounded-full bg-yellow-500/20 flex items-center justify-center",children:r.jsx("span",{className:"text-2xl",children:""})}),r.jsx("p",{className:"text-yellow-300 font-medium",children:"Request Pending"}),r.jsx("p",{className:"text-white/70 text-sm mt-2",children:"The host will be notified and you'll see contact details once approved"})]}),I==="approved"&&r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-12 h-12 mx-auto mb-4 rounded-full bg-green-500/20 flex items-center justify-center",children:r.jsx("span",{className:"text-2xl",children:""})}),r.jsx("p",{className:"text-green-300 font-medium",children:"Request Approved!"}),r.jsx("p",{className:"text-white/70 text-sm mt-2",children:"Contact information is now visible above"})]}),I==="sent"&&r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-12 h-12 mx-auto mb-4 rounded-full bg-green-500/20 flex items-center justify-center",children:r.jsx("span",{className:"text-2xl",children:""})}),r.jsx("p",{className:"text-green-300 font-medium",children:"Request Sent!"}),r.jsx("p",{className:"text-white/70 text-sm mt-2",children:"The host has been notified. You'll see contact details once they approve"})]}),I==="error"&&r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-12 h-12 mx-auto mb-4 rounded-full bg-red-500/20 flex items-center justify-center",children:r.jsx("span",{className:"text-2xl",children:""})}),r.jsx("p",{className:"text-red-300 font-medium",children:"Request Failed"}),r.jsx("p",{className:"text-white/70 text-sm mt-2",children:$||"Please try again or use in-app messaging"})]}),r.jsxs("div",{className:"mt-8 space-y-3 animate-in fade-in slide-in-from-bottom-2 duration-700 delay-700",children:[(I==="idle"||I==="error")&&r.jsxs("button",{type:"button",disabled:_,onClick:X,className:"group relative w-full py-4 bg-gradient-to-r from-blue-500 via-blue-600 to-indigo-600 hover:from-blue-600 hover:via-blue-700 hover:to-indigo-700 disabled:opacity-60 text-white font-bold rounded-2xl transition-all duration-300 transform hover:scale-[1.02] hover:shadow-2xl hover:shadow-blue-500/25 overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 via-blue-500 to-indigo-500 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),r.jsx("div",{className:"absolute inset-0 -translate-x-full group-hover:translate-x-full transition-transform duration-1000 bg-gradient-to-r from-transparent via-white/20 to-transparent"}),r.jsx("span",{className:"relative z-10",children:_?r.jsxs("div",{className:"flex items-center justify-center gap-3",children:[r.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),r.jsx("span",{className:"animate-pulse",children:"Sending Request..."})]}):r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx("span",{children:"Send Request"}),r.jsx("svg",{className:"w-4 h-4 group-hover:translate-x-1 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})]})})]}),r.jsx("button",{type:"button",onClick:()=>A(!1),className:"w-full py-3 text-white/70 hover:text-white font-medium transition-all duration-300 hover:bg-white/5 rounded-xl hover:scale-[1.01]",children:I==="idle"||I==="error"?"Cancel":"Close"})]})]})})]})}function Wee(t){return ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.252 8 8 119.252 8 256s111.252 248 248 248 248-111.252 248-248S392.748 8 256 8zm163.97 114.366c29.503 36.046 47.369 81.957 47.835 131.955-6.984-1.477-77.018-15.682-147.502-6.818-5.752-14.041-11.181-26.393-18.617-41.614 78.321-31.977 113.818-77.482 118.284-83.523zM396.421 97.87c-3.81 5.427-35.697 48.286-111.021 76.519-34.712-63.776-73.185-116.168-79.04-124.008 67.176-16.193 137.966 1.27 190.061 47.489zm-230.48-33.25c5.585 7.659 43.438 60.116 78.537 122.509-99.087 26.313-186.36 25.934-195.834 25.809C62.38 147.205 106.678 92.573 165.941 64.62zM44.17 256.323c0-2.166.043-4.322.108-6.473 9.268.19 111.92 1.513 217.706-30.146 6.064 11.868 11.857 23.915 17.174 35.949-76.599 21.575-146.194 83.527-180.531 142.306C64.794 360.405 44.17 310.73 44.17 256.323zm81.807 167.113c22.127-45.233 82.178-103.622 167.579-132.756 29.74 77.283 42.039 142.053 45.189 160.638-68.112 29.013-150.015 21.053-212.768-27.882zm248.38 8.489c-2.171-12.886-13.446-74.897-41.152-151.033 66.38-10.626 124.7 6.768 131.947 9.055-9.442 58.941-43.273 109.844-90.795 141.978z"},child:[]}]})(t)}function Hee(t){return ke({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function qee(t){return ke({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M496 256c0 137-111 248-248 248-25.6 0-50.2-3.9-73.4-11.1 10.1-16.5 25.2-43.5 30.8-65 3-11.6 15.4-59 15.4-59 8.1 15.4 31.7 28.5 56.8 28.5 74.8 0 128.7-68.8 128.7-154.3 0-81.9-66.9-143.2-152.9-143.2-107 0-163.9 71.8-163.9 150.1 0 36.4 19.4 81.7 50.3 96.1 4.7 2.2 7.2 1.2 8.3-3.3.8-3.4 5-20.3 6.9-28.1.6-2.5.3-4.7-1.7-7.1-10.1-12.5-18.3-35.3-18.3-56.6 0-54.7 41.4-107.6 112-107.6 60.9 0 103.6 41.5 103.6 100.9 0 67.1-33.9 113.6-78 113.6-24.3 0-42.6-20.1-36.7-44.8 7-29.5 20.5-61.3 20.5-82.6 0-19-10.2-34.9-31.4-34.9-24.9 0-44.9 25.7-44.9 60.2 0 22 7.4 36.8 7.4 36.8s-24.5 103.8-29 123.2c-5 21.4-3 51.6-.9 71.2C65.4 450.9 0 361.1 0 256 0 119 111 8 248 8s248 111 248 248z"},child:[]}]})(t)}function Gee(t){return ke({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(t)}function Kee(t){return ke({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(t)}const Yee=({onEditPreferences:t})=>{const[e,n]=p.useState(null),[s,i]=p.useState(!0);return p.useEffect(()=>{(async()=>{try{const o=await ge.get("/synapse/completion-status");n(o.data)}catch(o){console.error("Error fetching completion status:",o)}finally{i(!1)}})()},[]),s||!e?null:r.jsxs("div",{className:"bg-gradient-to-r from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-500/20 rounded-lg flex items-center justify-center",children:r.jsx(K0,{className:"text-blue-400 text-xl"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-semibold",children:"Synapse Profile"}),r.jsx("p",{className:"text-gray-400 text-sm",children:e.completed?`Completed on ${new Date(e.completedAt).toLocaleDateString()}`:`${e.completionPercentage}% Complete`})]})]}),r.jsx("div",{className:"flex items-center gap-2",children:e.completed?r.jsxs("div",{className:"flex items-center gap-2 text-green-400",children:[r.jsx(ja,{className:"text-lg"}),r.jsx("span",{className:"text-sm font-medium",children:"Complete"})]}):r.jsx("div",{className:"w-16 bg-gray-700 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${e.completionPercentage}%`}})})})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>window.location.href=e.completed?"/Synapsematches":"/Synapse",className:"flex-1 bg-blue-500/20 text-blue-400 hover:bg-blue-500/30 px-3 py-2 rounded-lg text-sm font-medium transition-colors",children:e.completed?"View Matches":"Complete Profile"}),r.jsxs("button",{onClick:t,className:"bg-gray-500/20 text-gray-400 hover:bg-gray-500/30 px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-1",children:[r.jsx(zp,{className:"text-sm"}),"Edit"]})]})]})},Xee=(t="")=>{const e=t.match(/^\s*(spring|summer|fall)\s+(\d{4})\s*$/i);return e?{season:e[1][0].toUpperCase()+e[1].slice(1).toLowerCase(),year:e[2]}:{season:"",year:""}},Zee=(t=2010,e=new Date().getFullYear()+6)=>Array.from({length:e-t+1},(n,s)=>String(e-s));function Qee({count:t=120,maxSpeed:e=.35,repelRadius:n=120,repelStrength:s=.9}){const i=p.useRef(null),a=p.useRef(0),o=p.useRef(1),l=p.useRef({x:-9999,y:-9999,active:!1}),c=p.useRef([]),d=()=>{const m=i.current;if(!m)return;const{innerWidth:f,innerHeight:x,devicePixelRatio:g=1}=window;o.current=Math.min(2,g),m.width=Math.floor(f*o.current),m.height=Math.floor(x*o.current),m.style.width=f+"px",m.style.height=x+"px"},u=()=>{const m=i.current;if(!m)return;const{width:f,height:x}=m,g=(b,y)=>b+Math.random()*(y-b);c.current=Array.from({length:t},()=>({x:g(0,f),y:g(0,x),vx:g(-e,e),vy:g(-e,e),size:g(1.2,2.8)*o.current,hue:200+Math.floor(Math.random()*80)}))},h=()=>{const m=i.current;if(!m)return;const f=m.getContext("2d"),{width:x,height:g}=m;f.clearRect(0,0,x,g);const b=f.createRadialGradient(x*.5,g*.35,0,x*.5,g*.35,Math.max(x,g)*.8);b.addColorStop(0,"rgba(46, 64, 200, 0.10)"),b.addColorStop(1,"rgba(11, 12, 15, 0)"),f.fillStyle=b,f.fillRect(0,0,x,g);const y=l.current;for(const v of c.current){if(y.active){const w=v.x-y.x*o.current,N=v.y-y.y*o.current,j=Math.hypot(w,N);if(j<n*o.current&&j>.01){const k=(n*o.current-j)/(n*o.current);v.vx+=w/j*k*s*.2,v.vy+=N/j*k*s*.2}}v.vx*=.99,v.vy*=.99,v.x+=v.vx,v.y+=v.vy,v.x<0&&(v.x=x),v.x>x&&(v.x=0),v.y<0&&(v.y=g),v.y>g&&(v.y=0),f.beginPath(),f.fillStyle=`hsla(${v.hue}, 100%, 65%, 0.6)`,f.arc(v.x,v.y,v.size,0,Math.PI*2),f.fill()}a.current=requestAnimationFrame(h)};return p.useEffect(()=>{d(),u(),a.current=requestAnimationFrame(h);const m=()=>{d(),u()},f=g=>{l.current={x:g.clientX,y:g.clientY,active:!0}},x=()=>{l.current.active=!1,l.current.x=-9999,l.current.y=-9999};return window.addEventListener("resize",m),window.addEventListener("pointermove",f,{passive:!0}),window.addEventListener("pointerleave",x),()=>{cancelAnimationFrame(a.current),window.removeEventListener("resize",m),window.removeEventListener("pointermove",f),window.removeEventListener("pointerleave",x)}},[t,e,n,s]),r.jsx("canvas",{ref:i,className:"pointer-events-none fixed inset-0 z-0"})}const Nr=({className:t="",children:e})=>r.jsx("div",{className:"rounded-2xl border border-white/10 bg-white/[0.03] p-4 shadow-[0_10px_40px_-10px_rgba(0,0,0,.5)] "+t,children:e}),sc=({icon:t,children:e})=>r.jsxs("div",{className:"mb-2 flex items-center gap-2 text-xs text-white/60",children:[t&&r.jsx(t,{className:"h-4 w-4 text-violet-300/90"}),r.jsx("span",{className:"tracking-wide",children:e})]}),rn=({icon:t,text:e})=>r.jsxs("div",{className:"inline-flex items-center gap-2 rounded-lg border border-white/10 bg-white/[0.04] px-2.5 py-1 text-xs text-white/85",children:[t&&r.jsx(t,{className:"h-4 w-4 text-violet-300/90"}),r.jsx("span",{children:e||""})]}),ax=({value:t,label:e,icon:n})=>r.jsxs(Nr,{className:"flex h-24 items-center justify-between px-5",children:[r.jsx("div",{className:"text-4xl font-semibold text-white/95",children:t}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-white/70",children:[n&&r.jsx(n,{className:"h-5 w-5 text-violet-300/90"}),r.jsx("span",{children:e})]})]}),lS=t=>[t.firstName,t.lastName].filter(Boolean).join(" ").trim()||"",Jee=t=>{if(!t)return"";const e=new Date(t);return isNaN(e)?"":`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`},C6=t=>{const e=t||{};return{firstName:e.firstName||"",lastName:e.lastName||"",email:e.email||"",username:e.username||"",currentLocation:e.currentLocation||"",hometown:e.hometown||"",birthday:e.birthday||null,university:e.university||"",major:e.major||"",graduationDate:e.graduationDate||"",createdOn:e.createdOn||null,schoolDepartment:e.schoolDepartment||"",cohortTerm:e.cohortTerm||"",campusLabel:e.campusLabel||"",campusPlaceId:e.campusPlaceId||"",campusDisplayName:e.campusDisplayName||"",avatar:e.avatar||"https://images.unsplash.com/photo-1628157588553-5eeea00dbf54?q=80&w=200&h=200&fit=crop&auto=format"}};function ete({open:t,onClose:e,initialUser:n,onSaved:s}){const{isLoaded:i}=S6(),[a,o]=p.useState(!1),[l,c]=p.useState(""),[d,u]=p.useState(""),h=p.useMemo(()=>Zee(2010),[]),[m,f]=p.useState(""),[x,g]=p.useState(""),[b,y]=p.useState(""),[v,w]=p.useState(""),[N,j]=p.useState(""),[k,P]=p.useState(""),[S,E]=p.useState(""),[T,W]=p.useState(""),[F,D]=p.useState(""),[A,_]=p.useState(""),[z,I]=p.useState(""),[M,$]=p.useState(""),[O,L]=p.useState(""),Y=p.useRef(null);p.useEffect(()=>{if(!t||!n)return;const{season:V,year:G}=Xee((n==null?void 0:n.cohortTerm)||"");c(V),u(G),f(n.firstName||""),g(n.lastName||""),y(n.currentLocation||""),w(n.hometown||""),j(Jee(n.birthday)),P(n.university||""),E(n.major||""),W(n.graduationDate||""),D(n.schoolDepartment||""),_(n.cohortTerm||""),I(n.campusLabel||""),$(n.campusDisplayName||""),L(n.campusPlaceId||"")},[t,n]);const K=()=>{if(!Y.current)return;const V=Y.current.getPlace();if(!V)return;const G=V.name||V.formatted_address||V.address_components&&V.address_components.map(X=>X.long_name).join(", ")||"";$(G),L(V.place_id||"")};async function B(V){var G;try{return await ge.patch("/update-user",V)}catch(X){if(((G=X==null?void 0:X.response)==null?void 0:G.status)===404)return await ge.patch("/update-profile",V);throw X}}const U=async V=>{var G,X;if(V.preventDefault(),!a){o(!0);try{const oe={firstName:m,lastName:x,currentLocation:b,hometown:v,birthday:N?new Date(N).toISOString():null,university:k,major:S,graduationDate:T,schoolDepartment:F,cohortTerm:A,campusLabel:z,campusPlaceId:O,campusDisplayName:M},{data:ne}=await B(oe),H=C6((ne==null?void 0:ne.user)||{...n||{},...oe});s==null||s(H),e()}catch(oe){const ne=((X=(G=oe==null?void 0:oe.response)==null?void 0:G.data)==null?void 0:X.message)||(oe==null?void 0:oe.message)||"Could not save profile. Please try again.";alert(ne)}finally{o(!1)}}};return t?r.jsx("div",{className:"fixed inset-0 z-[60] grid place-items-center bg-black/60 px-4",children:r.jsxs("form",{onSubmit:U,className:"w-full max-w-3xl rounded-2xl border border-white/10 bg-[#121318] p-5 text-white shadow-2xl",children:[r.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[r.jsx("div",{className:"text-lg font-semibold",children:"Edit profile"}),r.jsx("button",{type:"button",onClick:e,className:"rounded-lg border border-white/10 px-2 py-1 text-sm text-white/80 hover:bg-white/[0.07]",children:"Close"})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-xs text-white/60",children:"First name"}),r.jsx("input",{value:m,onChange:V=>f(V.target.value),className:"w-full rounded-lg border border-white/10 bg-white/[0.04] px-3 py-2 text-sm outline-none",placeholder:"First name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-xs text-white/60",children:"Last name"}),r.jsx("input",{value:x,onChange:V=>g(V.target.value),className:"w-full rounded-lg border border-white/10 bg-white/[0.04] px-3 py-2 text-sm outline-none",placeholder:"Last name"})]})]}),r.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-3 sm:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-xs text-white/60",children:"Current location"}),r.jsx("input",{value:b,onChange:V=>y(V.target.value),className:"w-full rounded-lg border border-white/10 bg-white/[0.04] px-3 py-2 text-sm outline-none",placeholder:"City, State (optional)"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-xs text-white/60",children:"Hometown"}),r.jsx("input",{value:v,onChange:V=>w(V.target.value),className:"w-full rounded-lg border border-white/10 bg-white/[0.04] px-3 py-2 text-sm outline-none",placeholder:"Hometown (optional)"})]})]}),r.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-3 sm:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-xs text-white/60",children:"Birthday"}),r.jsx("input",{type:"date",value:N,onChange:V=>j(V.target.value),className:"w-full rounded-lg border border-white/10 bg-white/[0.04] px-3 py-2 text-sm outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-xs text-white/60",children:"Graduation date (Month/Year)"}),r.jsx("input",{value:T,onChange:V=>W(V.target.value),className:"w-full rounded-lg border border-white/10 bg-white/[0.04] px-3 py-2 text-sm outline-none",placeholder:"e.g., May 2026"})]})]}),r.jsxs("div",{className:"mt-6 border-t border-white/10 pt-4",children:[r.jsx("div",{className:"mb-3 text-sm font-medium text-white/85",children:"University (used for routing & distance on properties)"}),r.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-xs text-white/60",children:"University name"}),r.jsx("input",{value:k,onChange:V=>P(V.target.value),className:"w-full rounded-lg border border-white/10 bg-white/[0.04] px-3 py-2 text-sm outline-none",placeholder:"e.g., Northern Illinois University"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-xs text-white/60",children:"School / Department"}),r.jsx("input",{value:F,onChange:V=>D(V.target.value),className:"w-full rounded-lg border border-white/10 bg-white/[0.04] px-3 py-2 text-sm outline-none",placeholder:"e.g., College of Business"})]})]}),r.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-3 sm:grid-cols-2",children:[r.jsxs("div",{children:[r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-xs text-white/60",children:"Cohort / Term"}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsxs("select",{value:l,onChange:V=>c(V.target.value),className:"w-full rounded-lg border border-white/10 bg-white/[0.04] px-3 py-2 text-sm outline-none",children:[r.jsx("option",{value:"",children:"Season"}),r.jsx("option",{value:"Spring",children:"Spring"}),r.jsx("option",{value:"Summer",children:"Summer"}),r.jsx("option",{value:"Fall",children:"Fall"})]}),r.jsxs("select",{value:d,onChange:V=>u(V.target.value),className:"w-full rounded-lg border border-white/10 bg-white/[0.04] px-3 py-2 text-sm outline-none",children:[r.jsx("option",{value:"",children:"Year"}),h.map(V=>r.jsx("option",{value:V,children:V},V))]})]}),r.jsxs("p",{className:"mt-1 text-[11px] text-white/40",children:["Well store it as"," ",r.jsx("code",{children:l&&d?`${l} ${d}`:"Season YYYY"})," ","for routing and campus grouping."]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-xs text-white/60",children:"Campus label (e.g., NIU College of Business)"}),r.jsx("input",{value:z,onChange:V=>I(V.target.value),className:"w-full rounded-lg border border-white/10 bg-white/[0.04] px-3 py-2 text-sm outline-none",placeholder:"e.g., NIU College of Business (Barsema Hall)"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-xs text-white/60",children:"Campus label (e.g., NIU College of Business)"}),r.jsx("input",{value:z,onChange:V=>I(V.target.value),className:"w-full rounded-lg border border-white/10 bg-white/[0.04] px-3 py-2 text-sm outline-none",placeholder:"e.g., NIU College of Business (Barsema Hall)"})]})]}),r.jsxs("div",{className:"mt-3",children:[r.jsx("label",{className:"mb-1 block text-xs text-white/60",children:"Campus (Google Maps place)"}),i?r.jsx(sw,{onLoad:V=>Y.current=V,onPlaceChanged:K,options:{fields:["place_id","name","formatted_address"],componentRestrictions:{country:"us"}},children:r.jsx("input",{value:M,onChange:V=>$(V.target.value),className:"w-full rounded-lg border border-white/10 bg-white/[0.04] px-3 py-2 text-sm outline-none",placeholder:"Search for the exact building (e.g., Barsema Hall)"})}):r.jsx("input",{disabled:!0,value:M,className:"w-full cursor-not-allowed rounded-lg border border-white/10 bg-white/[0.04] px-3 py-2 text-sm outline-none",placeholder:"Loading Google"}),r.jsx("div",{className:"mt-1 text-xs text-white/40",children:"We store the Place ID behind the scenes for accurate routing."})]})]}),r.jsxs("div",{className:"mt-5 flex items-center justify-end gap-2",children:[r.jsx("button",{type:"button",onClick:e,className:"rounded-xl border border-white/10 bg-white/[0.04] px-4 py-2 text-sm text-white/85 hover:bg-white/[0.07]",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:a,className:"rounded-xl bg-violet-500 px-4 py-2 text-sm font-semibold text-white hover:bg-violet-500/90 disabled:opacity-60",children:a?"Saving":"Save changes"})]})]})}):null}function tte(){const[t,e]=p.useState(null),[n,s]=p.useState(!0),[i,a]=p.useState(!1);return p.useEffect(()=>{(async()=>{try{const{data:o}=await ge.get("/get-user");e(C6((o==null?void 0:o.user)||{}))}catch(o){console.error("Failed to load user",o),e(null)}finally{s(!1)}})()},[]),n?r.jsxs("div",{className:"relative min-h-screen bg-[#0b0c0f] text-white",children:[r.jsx(ct,{}),r.jsx("div",{className:"mx-auto max-w-5xl px-4 py-14",children:"Loading"})]}):t?r.jsxs("div",{className:"relative min-h-screen bg-[#0b0c0f] text-white",children:[r.jsx(Qee,{}),r.jsx("div",{className:"pointer-events-none fixed inset-0 z-0 bg-[radial-gradient(circle_at_center,rgba(15,25,45,0)_0%,rgba(11,12,15,0.65)_70%)]"}),r.jsxs("div",{className:"relative z-10",children:[r.jsx(ct,{}),r.jsxs("main",{className:"mx-auto max-w-7xl gap-6 px-4 py-8 lg:grid lg:grid-cols-12",children:[r.jsxs("section",{className:"space-y-6 lg:col-span-4",children:[r.jsxs(Nr,{children:[r.jsx(sc,{icon:UV,children:"Quick Info"}),r.jsx("div",{className:"mb-3 text-lg font-semibold",children:"Campus profile"}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsx(rn,{icon:zh,text:t.currentLocation||"Add location"}),r.jsx(rn,{icon:RN,text:t.university||"Add university"}),r.jsx(rn,{icon:TN,text:t.major||"Add major"}),r.jsx(rn,{icon:mg,text:t.graduationDate||"Grad date"})]})]}),r.jsx(ax,{value:"3",label:"Listings posted",icon:Ku}),r.jsx(ax,{value:"12",label:"Saved properties",icon:Bh}),r.jsx(ax,{value:"5",label:"Active chats",icon:mg}),r.jsx(Yee,{onEditPreferences:()=>window.location.href="/Synapse?edit=true"}),r.jsxs(Nr,{children:[r.jsx(sc,{icon:Gu,children:"Services"}),r.jsx("div",{className:"mb-3 text-lg font-semibold",children:"How NewRun helps"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx(rn,{icon:SV,text:"Housing"}),r.jsx(rn,{icon:Na,text:"Marketplace"}),r.jsx(rn,{icon:Gu,text:"Roommate Match"}),r.jsx(rn,{icon:Ku,text:"Community"})]})]})]}),r.jsxs("section",{className:"space-y-6 lg:col-span-5",children:[r.jsxs(Nr,{className:"p-5",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("img",{src:t.avatar,alt:lS(t),className:"h-16 w-16 rounded-2xl object-cover ring-1 ring-white/10"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-xl font-semibold",children:lS(t)}),r.jsxs("span",{className:"ml-2 inline-flex items-center gap-1 rounded-full border border-emerald-400/30 bg-emerald-400/10 px-2 py-0.5 text-xs text-emerald-200",children:[r.jsx("span",{className:"h-2 w-2 rounded-full bg-emerald-400"}),"NewRun Member"]})]}),r.jsx("div",{className:"mt-1 text-sm text-white/70",children:t.email||""})]}),r.jsxs("button",{onClick:()=>a(!0),className:"inline-flex items-center gap-2 rounded-xl border border-white/10 bg-white/[0.04] px-3 py-2 text-sm text-white/85 hover:bg-white/[0.07]",children:[r.jsx(G0,{className:"h-4 w-4"})," Edit"]})]}),r.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[r.jsx(rn,{icon:zh,text:t.currentLocation||"Location"}),r.jsx(rn,{icon:RN,text:t.university||"University"}),r.jsx(rn,{icon:TN,text:t.major||"Major"}),r.jsx(rn,{icon:mg,text:t.graduationDate||"Graduation"}),t.campusLabel||t.campusDisplayName?r.jsx(rn,{icon:zh,text:t.campusLabel||t.campusDisplayName}):null]}),r.jsx("div",{className:"mt-4 rounded-xl border border-white/10 bg-white/[0.04] p-4 text-white/80",children:t.hometown?`From ${t.hometown}. Currently at ${t.currentLocation||""}.`:"Tell others a bit about you in your profile."}),r.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-3 sm:grid-cols-2",children:[r.jsxs("button",{className:"inline-flex items-center justify-center gap-2 rounded-xl border border-white/10 bg-white/[0.04] px-4 py-2 text-sm text-white/90 hover:bg-white/[0.08]",children:[r.jsx(Gee,{className:"h-4 w-4 text-emerald-300"}),"Chat with support"]}),r.jsxs("button",{className:"inline-flex items-center justify-center gap-2 rounded-xl border border-white/10 bg-white/[0.04] px-4 py-2 text-sm text-white/90 hover:bg-white/[0.08]",children:[r.jsx(DN,{className:"h-4 w-4 text-violet-300/90"}),"Email us"]})]})]}),r.jsxs(Nr,{children:[r.jsx(sc,{icon:Gu,children:"Stay connected"}),r.jsx("div",{className:"mb-3 text-lg font-semibold",children:"NewRun channels"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx(rn,{icon:Kee,text:"YouTube"}),r.jsx(rn,{icon:Wee,text:"Product"}),r.jsx(rn,{icon:qee,text:"Inspo"}),r.jsx(rn,{icon:Hee,text:"Instagram"})]})]})]}),r.jsxs("section",{className:"space-y-6 lg:col-span-3",children:[r.jsxs(Nr,{className:"p-0",children:[r.jsxs("div",{className:"p-4",children:[r.jsx(sc,{icon:Bh,children:"Tips"}),r.jsx("div",{className:"text-lg font-semibold",children:"Get settled faster"})]}),r.jsx("div",{className:"max-h-80 space-y-3 overflow-y-auto px-4 pb-4",children:[{title:"Complete your profile",text:"Add your university, school and campus to unlock walking/driving routes on property pages."},{title:"Use distance filters",text:"We show distance from your campus. Set alerts to catch good deals early."}].map((o,l)=>r.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/[0.04] p-3 text-sm text-white/80",children:[r.jsx("div",{className:"mb-1 text-white/95",children:o.title}),r.jsx("div",{children:o.text})]},l))})]}),r.jsxs(Nr,{children:[r.jsx(sc,{icon:Gu,children:"Workflow"}),r.jsx("div",{className:"text-lg font-semibold",children:"NewRun Highlights"}),r.jsx("div",{className:"mt-3 space-y-2",children:["Explore housing","Match roommates","Join community","Save favorites"].map((o,l)=>r.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-white/10 bg-white/[0.04] px-3 py-2 text-sm",children:[r.jsx("span",{className:"text-white/85",children:o}),r.jsx(ja,{className:"h-5 w-5 text-emerald-300"})]},l))})]}),r.jsxs(Nr,{children:[r.jsxs("div",{className:"mb-2 flex items-center gap-2 text-sm",children:[r.jsx("div",{className:"grid h-6 w-6 place-items-center rounded-full bg-violet-500/20 text-violet-200",children:r.jsx(Bh,{className:"h-4 w-4"})}),r.jsx("span",{className:"font-semibold",children:"Need help?"})]}),r.jsx("div",{className:"text-sm text-white/70",children:"Ping us and well help you find a place or a roommate."}),r.jsxs("div",{className:"mt-3 space-y-2",children:[r.jsxs("button",{className:"flex w-full items-center justify-between rounded-xl border border-white/10 bg-white/[0.04] px-3 py-2 text-left text-sm text-white/85 hover:bg-white/[0.07]",children:[r.jsxs("span",{className:"inline-flex items-center gap-2",children:[r.jsx(DN,{className:"h-4 w-4 text-violet-300/90"}),"Email support"]}),r.jsx(Ku,{className:"h-5 w-5 text-white/50"})]}),r.jsxs("button",{className:"flex w-full items-center justify-between rounded-xl border border-white/10 bg-white/[0.04] px-3 py-2 text-left text-sm text-white/85 hover:bg-white/[0.07]",children:[r.jsxs("span",{className:"inline-flex items-center gap-2",children:[r.jsx(Co,{className:"h-4 w-4 text-violet-300/90"}),"Schedule a call"]}),r.jsx(Ku,{className:"h-5 w-5 text-white/50"})]})]})]})]})]})]}),r.jsx(ete,{open:i,onClose:()=>a(!1),initialUser:t,onSaved:o=>e(o)})]}):r.jsxs("div",{className:"relative min-h-screen bg-[#0b0c0f] text-white",children:[r.jsx(ct,{}),r.jsx("div",{className:"mx-auto max-w-5xl px-4 py-14",children:r.jsx(Nr,{children:"Couldnt load your profile."})})]})}const yr=Object.create(null);yr.open="0";yr.close="1";yr.ping="2";yr.pong="3";yr.message="4";yr.upgrade="5";yr.noop="6";const Qh=Object.create(null);Object.keys(yr).forEach(t=>{Qh[yr[t]]=t});const Uv={type:"error",data:"parser error"},P6=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",E6=typeof ArrayBuffer=="function",_6=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,rw=({type:t,data:e},n,s)=>P6&&e instanceof Blob?n?s(e):cS(e,s):E6&&(e instanceof ArrayBuffer||_6(e))?n?s(e):cS(new Blob([e]),s):s(yr[t]+(e||"")),cS=(t,e)=>{const n=new FileReader;return n.onload=function(){const s=n.result.split(",")[1];e("b"+(s||""))},n.readAsDataURL(t)};function dS(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let ox;function nte(t,e){if(P6&&t.data instanceof Blob)return t.data.arrayBuffer().then(dS).then(e);if(E6&&(t.data instanceof ArrayBuffer||_6(t.data)))return e(dS(t.data));rw(t,!1,n=>{ox||(ox=new TextEncoder),e(ox.encode(n))})}const uS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",kc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<uS.length;t++)kc[uS.charCodeAt(t)]=t;const ste=t=>{let e=t.length*.75,n=t.length,s,i=0,a,o,l,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const d=new ArrayBuffer(e),u=new Uint8Array(d);for(s=0;s<n;s+=4)a=kc[t.charCodeAt(s)],o=kc[t.charCodeAt(s+1)],l=kc[t.charCodeAt(s+2)],c=kc[t.charCodeAt(s+3)],u[i++]=a<<2|o>>4,u[i++]=(o&15)<<4|l>>2,u[i++]=(l&3)<<6|c&63;return d},rte=typeof ArrayBuffer=="function",iw=(t,e)=>{if(typeof t!="string")return{type:"message",data:M6(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:ite(t.substring(1),e)}:Qh[n]?t.length>1?{type:Qh[n],data:t.substring(1)}:{type:Qh[n]}:Uv},ite=(t,e)=>{if(rte){const n=ste(t);return M6(n,e)}else return{base64:!0,data:t}},M6=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},T6="",ate=(t,e)=>{const n=t.length,s=new Array(n);let i=0;t.forEach((a,o)=>{rw(a,!1,l=>{s[o]=l,++i===n&&e(s.join(T6))})})},ote=(t,e)=>{const n=t.split(T6),s=[];for(let i=0;i<n.length;i++){const a=iw(n[i],e);if(s.push(a),a.type==="error")break}return s};function lte(){return new TransformStream({transform(t,e){nte(t,n=>{const s=n.length;let i;if(s<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,s);else if(s<65536){i=new Uint8Array(3);const a=new DataView(i.buffer);a.setUint8(0,126),a.setUint16(1,s)}else{i=new Uint8Array(9);const a=new DataView(i.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(s))}t.data&&typeof t.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(n)})}})}let lx;function ch(t){return t.reduce((e,n)=>e+n.length,0)}function dh(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let s=0;for(let i=0;i<e;i++)n[i]=t[0][s++],s===t[0].length&&(t.shift(),s=0);return t.length&&s<t[0].length&&(t[0]=t[0].slice(s)),n}function cte(t,e){lx||(lx=new TextDecoder);const n=[];let s=0,i=-1,a=!1;return new TransformStream({transform(o,l){for(n.push(o);;){if(s===0){if(ch(n)<1)break;const c=dh(n,1);a=(c[0]&128)===128,i=c[0]&127,i<126?s=3:i===126?s=1:s=2}else if(s===1){if(ch(n)<2)break;const c=dh(n,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),s=3}else if(s===2){if(ch(n)<8)break;const c=dh(n,8),d=new DataView(c.buffer,c.byteOffset,c.length),u=d.getUint32(0);if(u>Math.pow(2,21)-1){l.enqueue(Uv);break}i=u*Math.pow(2,32)+d.getUint32(4),s=3}else{if(ch(n)<i)break;const c=dh(n,i);l.enqueue(iw(a?c:lx.decode(c),e)),s=0}if(i===0||i>t){l.enqueue(Uv);break}}}})}const L6=4;function Ht(t){if(t)return dte(t)}function dte(t){for(var e in Ht.prototype)t[e]=Ht.prototype[e];return t}Ht.prototype.on=Ht.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Ht.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};Ht.prototype.off=Ht.prototype.removeListener=Ht.prototype.removeAllListeners=Ht.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var s,i=0;i<n.length;i++)if(s=n[i],s===e||s.fn===e){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+t],this};Ht.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],s=1;s<arguments.length;s++)e[s-1]=arguments[s];if(n){n=n.slice(0);for(var s=0,i=n.length;s<i;++s)n[s].apply(this,e)}return this};Ht.prototype.emitReserved=Ht.prototype.emit;Ht.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Ht.prototype.hasListeners=function(t){return!!this.listeners(t).length};const df=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),ys=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),ute="arraybuffer";function A6(t,...e){return e.reduce((n,s)=>(t.hasOwnProperty(s)&&(n[s]=t[s]),n),{})}const hte=ys.setTimeout,pte=ys.clearTimeout;function uf(t,e){e.useNativeTimers?(t.setTimeoutFn=hte.bind(ys),t.clearTimeoutFn=pte.bind(ys)):(t.setTimeoutFn=ys.setTimeout.bind(ys),t.clearTimeoutFn=ys.clearTimeout.bind(ys))}const mte=1.33;function fte(t){return typeof t=="string"?gte(t):Math.ceil((t.byteLength||t.size)*mte)}function gte(t){let e=0,n=0;for(let s=0,i=t.length;s<i;s++)e=t.charCodeAt(s),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(s++,n+=4);return n}function I6(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function xte(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function vte(t){let e={},n=t.split("&");for(let s=0,i=n.length;s<i;s++){let a=n[s].split("=");e[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return e}class yte extends Error{constructor(e,n,s){super(e),this.description=n,this.context=s,this.type="TransportError"}}class aw extends Ht{constructor(e){super(),this.writable=!1,uf(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,s){return super.emitReserved("error",new yte(e,n,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=iw(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=xte(e);return n.length?"?"+n:""}}class bte extends aw{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let s=0;this._polling&&(s++,this.once("pollComplete",function(){--s||n()})),this.writable||(s++,this.once("drain",function(){--s||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};ote(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,ate(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=I6()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let O6=!1;try{O6=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const wte=O6;function jte(){}class Nte extends bte{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let s=location.port;s||(s=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||s!==e.port}}doWrite(e,n){const s=this.request({method:"POST",data:e});s.on("success",n),s.on("error",(i,a)=>{this.onError("xhr post error",i,a)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,s)=>{this.onError("xhr poll error",n,s)}),this.pollXhr=e}}let Yo=class Jh extends Ht{constructor(e,n,s){super(),this.createRequest=e,uf(this,s),this._opts=s,this._method=s.method||"GET",this._uri=n,this._data=s.data!==void 0?s.data:null,this._create()}_create(){var e;const n=A6(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const s=this._xhr=this.createRequest(n);try{s.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&s.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(s),"withCredentials"in s&&(s.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(s.timeout=this._opts.requestTimeout),s.onreadystatechange=()=>{var i;s.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(s.getResponseHeader("set-cookie"))),s.readyState===4&&(s.status===200||s.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof s.status=="number"?s.status:0)},0))},s.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=Jh.requestsCount++,Jh.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=jte,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Jh.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};Yo.requestsCount=0;Yo.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",hS);else if(typeof addEventListener=="function"){const t="onpagehide"in ys?"pagehide":"unload";addEventListener(t,hS,!1)}}function hS(){for(let t in Yo.requests)Yo.requests.hasOwnProperty(t)&&Yo.requests[t].abort()}const kte=function(){const t=R6({xdomain:!1});return t&&t.responseType!==null}();class Wv extends Nte{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=kte&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new Yo(R6,this.uri(),e)}}function R6(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||wte))return new XMLHttpRequest}catch{}if(!e)try{return new ys[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const D6=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Ste extends aw{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,s=D6?{}:A6(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,s)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const s=e[n],i=n===e.length-1;rw(s,this.supportsBinary,a=>{try{this.doWrite(s,a)}catch{}i&&df(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=I6()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const cx=ys.WebSocket||ys.MozWebSocket;class Hv extends Ste{createSocket(e,n,s){return D6?new cx(e,n,s):n?new cx(e,n):new cx(e)}doWrite(e,n){this.ws.send(n)}}class $6 extends aw{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=cte(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=e.readable.pipeThrough(n).getReader(),i=lte();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();const a=()=>{s.read().then(({done:l,value:c})=>{l||(this.onPacket(c),a())}).catch(l=>{})};a();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const s=e[n],i=n===e.length-1;this._writer.write(s).then(()=>{i&&df(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const Cte={websocket:Hv,webtransport:$6,polling:Wv},Pte=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Ete=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function qv(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),s=t.indexOf("]");n!=-1&&s!=-1&&(t=t.substring(0,n)+t.substring(n,s).replace(/:/g,";")+t.substring(s,t.length));let i=Pte.exec(t||""),a={},o=14;for(;o--;)a[Ete[o]]=i[o]||"";return n!=-1&&s!=-1&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=_te(a,a.path),a.queryKey=Mte(a,a.query),a}function _te(t,e){const n=/\/{2,9}/g,s=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&s.splice(0,1),e.slice(-1)=="/"&&s.splice(s.length-1,1),s}function Mte(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,i,a){i&&(n[i]=a)}),n}const Gv=typeof addEventListener=="function"&&typeof removeEventListener=="function",ep=[];Gv&&addEventListener("offline",()=>{ep.forEach(t=>t())},!1);class _i extends Ht{constructor(e,n){if(super(),this.binaryType=ute,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const s=qv(e);n.hostname=s.host,n.secure=s.protocol==="https"||s.protocol==="wss",n.port=s.port,s.query&&(n.query=s.query)}else n.host&&(n.hostname=qv(n.host).host);uf(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(s=>{const i=s.prototype.name;this.transports.push(i),this._transportsByName[i]=s}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=vte(this.opts.query)),Gv&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},ep.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=L6,n.transport=e,this.id&&(n.sid=this.id);const s=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](s)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&_i.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",_i.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let s=0;s<this.writeBuffer.length;s++){const i=this.writeBuffer[s].data;if(i&&(n+=fte(i)),s>0&&n>this._maxPayload)return this.writeBuffer.slice(0,s);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,df(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,s){return this._sendPacket("message",e,n,s),this}send(e,n,s){return this._sendPacket("message",e,n,s),this}_sendPacket(e,n,s,i){if(typeof n=="function"&&(i=n,n=void 0),typeof s=="function"&&(i=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const a={type:e,data:n,options:s};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},s=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():e()}):this.upgrading?s():e()),this}_onError(e){if(_i.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Gv&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const s=ep.indexOf(this._offlineEventListener);s!==-1&&ep.splice(s,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}_i.protocol=L6;class Tte extends _i{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),s=!1;_i.priorWebsocketSuccess=!1;const i=()=>{s||(n.send([{type:"ping",data:"probe"}]),n.once("packet",h=>{if(!s)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;_i.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(u(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const m=new Error("probe error");m.transport=n.name,this.emitReserved("upgradeError",m)}}))};function a(){s||(s=!0,u(),n.close(),n=null)}const o=h=>{const m=new Error("probe error: "+h);m.transport=n.name,a(),this.emitReserved("upgradeError",m)};function l(){o("transport closed")}function c(){o("socket closed")}function d(h){n&&h.name!==n.name&&a()}const u=()=>{n.removeListener("open",i),n.removeListener("error",o),n.removeListener("close",l),this.off("close",c),this.off("upgrading",d)};n.once("open",i),n.once("error",o),n.once("close",l),this.once("close",c),this.once("upgrading",d),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{s||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let s=0;s<e.length;s++)~this.transports.indexOf(e[s])&&n.push(e[s]);return n}}let Lte=class extends Tte{constructor(e,n={}){const s=typeof e=="object"?e:n;(!s.transports||s.transports&&typeof s.transports[0]=="string")&&(s.transports=(s.transports||["polling","websocket","webtransport"]).map(i=>Cte[i]).filter(i=>!!i)),super(e,s)}};function Ate(t,e="",n){let s=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),s=qv(t)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const a=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+a+":"+s.port+e,s.href=s.protocol+"://"+a+(n&&n.port===s.port?"":":"+s.port),s}const Ite=typeof ArrayBuffer=="function",Ote=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,F6=Object.prototype.toString,Rte=typeof Blob=="function"||typeof Blob<"u"&&F6.call(Blob)==="[object BlobConstructor]",Dte=typeof File=="function"||typeof File<"u"&&F6.call(File)==="[object FileConstructor]";function ow(t){return Ite&&(t instanceof ArrayBuffer||Ote(t))||Rte&&t instanceof Blob||Dte&&t instanceof File}function tp(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,s=t.length;n<s;n++)if(tp(t[n]))return!0;return!1}if(ow(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return tp(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&tp(t[n]))return!0;return!1}function $te(t){const e=[],n=t.data,s=t;return s.data=Kv(n,e),s.attachments=e.length,{packet:s,buffers:e}}function Kv(t,e){if(!t)return t;if(ow(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let s=0;s<t.length;s++)n[s]=Kv(t[s],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=Kv(t[s],e));return n}return t}function Fte(t,e){return t.data=Yv(t.data,e),delete t.attachments,t}function Yv(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=Yv(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=Yv(t[n],e));return t}const zte=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],z6=5;var Ye;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Ye||(Ye={}));class Bte{constructor(e){this.replacer=e}encode(e){return(e.type===Ye.EVENT||e.type===Ye.ACK)&&tp(e)?this.encodeAsBinary({type:e.type===Ye.EVENT?Ye.BINARY_EVENT:Ye.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===Ye.BINARY_EVENT||e.type===Ye.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=$te(e),s=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(s),i}}function pS(t){return Object.prototype.toString.call(t)==="[object Object]"}class lw extends Ht{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const s=n.type===Ye.BINARY_EVENT;s||n.type===Ye.BINARY_ACK?(n.type=s?Ye.EVENT:Ye.ACK,this.reconstructor=new Vte(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(ow(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const s={type:Number(e.charAt(0))};if(Ye[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===Ye.BINARY_EVENT||s.type===Ye.BINARY_ACK){const a=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const o=e.substring(a,n);if(o!=Number(o)||e.charAt(n)!=="-")throw new Error("Illegal attachments");s.attachments=Number(o)}if(e.charAt(n+1)==="/"){const a=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););s.nsp=e.substring(a,n)}else s.nsp="/";const i=e.charAt(n+1);if(i!==""&&Number(i)==i){const a=n+1;for(;++n;){const o=e.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===e.length)break}s.id=Number(e.substring(a,n+1))}if(e.charAt(++n)){const a=this.tryParse(e.substr(n));if(lw.isPayloadValid(s.type,a))s.data=a;else throw new Error("invalid payload")}return s}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case Ye.CONNECT:return pS(n);case Ye.DISCONNECT:return n===void 0;case Ye.CONNECT_ERROR:return typeof n=="string"||pS(n);case Ye.EVENT:case Ye.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&zte.indexOf(n[0])===-1);case Ye.ACK:case Ye.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Vte{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=Fte(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Ute=Object.freeze(Object.defineProperty({__proto__:null,Decoder:lw,Encoder:Bte,get PacketType(){return Ye},protocol:z6},Symbol.toStringTag,{value:"Module"}));function Fs(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const Wte=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class cw extends Ht{constructor(e,n,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Fs(e,"open",this.onopen.bind(this)),Fs(e,"packet",this.onpacket.bind(this)),Fs(e,"error",this.onerror.bind(this)),Fs(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var s,i,a;if(Wte.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const o={type:Ye.EVENT,data:n};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const u=this.ids++,h=n.pop();this._registerAckCallback(u,h),o.id=u}const l=(i=(s=this.io.engine)===null||s===void 0?void 0:s.transport)===null||i===void 0?void 0:i.writable,c=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,n){var s;const i=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(i===void 0){this.acks[e]=n;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===e&&this.sendBuffer.splice(l,1);n.call(this,new Error("operation has timed out"))},i),o=(...l)=>{this.io.clearTimeoutFn(a),n.apply(this,l)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...n){return new Promise((s,i)=>{const a=(o,l)=>o?i(o):s(l);a.withError=!0,n.push(a),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...a)=>s!==this._queue[0]?void 0:(i!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...a)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Ye.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(s=>String(s.id)===e)){const s=this.acks[e];delete this.acks[e],s.withError&&s.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Ye.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ye.EVENT:case Ye.BINARY_EVENT:this.onevent(e);break;case Ye.ACK:case Ye.BINARY_ACK:this.onack(e);break;case Ye.DISCONNECT:this.ondisconnect();break;case Ye.CONNECT_ERROR:this.destroy();const s=new Error(e.data.message);s.data=e.data.data,this.emitReserved("connect_error",s);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const s of n)s.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let s=!1;return function(...i){s||(s=!0,n.packet({type:Ye.ACK,id:e,data:i}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ye.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let s=0;s<n.length;s++)if(e===n[s])return n.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let s=0;s<n.length;s++)if(e===n[s])return n.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const s of n)s.apply(this,e.data)}}}function Al(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Al.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+n:t-n}return Math.min(t,this.max)|0};Al.prototype.reset=function(){this.attempts=0};Al.prototype.setMin=function(t){this.ms=t};Al.prototype.setMax=function(t){this.max=t};Al.prototype.setJitter=function(t){this.jitter=t};class fm extends Ht{constructor(e,n){var s;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,uf(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((s=n.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new Al({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const i=n.parser||Ute;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Lte(this.uri,this.opts);const n=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const i=Fs(n,"open",function(){s.onopen(),e&&e()}),a=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),e?e(l):this.maybeReconnectOnOpen()},o=Fs(n,"error",a);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{i(),a(new Error("timeout")),n.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Fs(e,"ping",this.onping.bind(this)),Fs(e,"data",this.ondata.bind(this)),Fs(e,"error",this.onerror.bind(this)),Fs(e,"close",this.onclose.bind(this)),Fs(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){df(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let s=this.nsps[e];return s?this._autoConnect&&!s.active&&s.connect():(s=new cw(this,e,n),this.nsps[e]=s),s}_destroy(e){const n=Object.keys(this.nsps);for(const s of n)if(this.nsps[s].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let s=0;s<n.length;s++)this.engine.write(n[s],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var s;this.cleanup(),(s=this.engine)===null||s===void 0||s.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},n);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const rc={};function Ta(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=Ate(t,e.path||"/socket.io"),s=n.source,i=n.id,a=n.path,o=rc[i]&&a in rc[i].nsps,l=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let c;return l?c=new fm(s,e):(rc[i]||(rc[i]=new fm(s,e)),c=rc[i]),n.query&&!e.query&&(e.query=n.queryKey),c.socket(n.path,e)}Object.assign(Ta,{Manager:fm,Socket:cw,io:Ta,connect:Ta});const dw=Object.freeze(Object.defineProperty({__proto__:null,Manager:fm,NodeWebSocket:Hv,NodeXHR:Wv,Socket:cw,WebSocket:Hv,WebTransport:$6,XHR:Wv,connect:Ta,default:Ta,io:Ta,protocol:z6},Symbol.toStringTag,{value:"Module"}));function gm(t){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gm(t)}function Ba(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function An(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function br(t){An(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||gm(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Hte(t,e){An(2,arguments);var n=br(t).getTime(),s=Ba(e);return new Date(n+s)}var qte={};function hf(){return qte}function Gte(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function Kte(t){return An(1,arguments),t instanceof Date||gm(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Yte(t){if(An(1,arguments),!Kte(t)&&typeof t!="number")return!1;var e=br(t);return!isNaN(Number(e))}function Xte(t,e){An(2,arguments);var n=Ba(e);return Hte(t,-n)}var Zte=864e5;function Qte(t){An(1,arguments);var e=br(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var s=e.getTime(),i=n-s;return Math.floor(i/Zte)+1}function xm(t){An(1,arguments);var e=1,n=br(t),s=n.getUTCDay(),i=(s<e?7:0)+s-e;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function B6(t){An(1,arguments);var e=br(t),n=e.getUTCFullYear(),s=new Date(0);s.setUTCFullYear(n+1,0,4),s.setUTCHours(0,0,0,0);var i=xm(s),a=new Date(0);a.setUTCFullYear(n,0,4),a.setUTCHours(0,0,0,0);var o=xm(a);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function Jte(t){An(1,arguments);var e=B6(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var s=xm(n);return s}var ene=6048e5;function tne(t){An(1,arguments);var e=br(t),n=xm(e).getTime()-Jte(e).getTime();return Math.round(n/ene)+1}function vm(t,e){var n,s,i,a,o,l,c,d;An(1,arguments);var u=hf(),h=Ba((n=(s=(i=(a=e==null?void 0:e.weekStartsOn)!==null&&a!==void 0?a:e==null||(o=e.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&i!==void 0?i:u.weekStartsOn)!==null&&s!==void 0?s:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=br(t),f=m.getUTCDay(),x=(f<h?7:0)+f-h;return m.setUTCDate(m.getUTCDate()-x),m.setUTCHours(0,0,0,0),m}function V6(t,e){var n,s,i,a,o,l,c,d;An(1,arguments);var u=br(t),h=u.getUTCFullYear(),m=hf(),f=Ba((n=(s=(i=(a=e==null?void 0:e.firstWeekContainsDate)!==null&&a!==void 0?a:e==null||(o=e.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&i!==void 0?i:m.firstWeekContainsDate)!==null&&s!==void 0?s:(c=m.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var x=new Date(0);x.setUTCFullYear(h+1,0,f),x.setUTCHours(0,0,0,0);var g=vm(x,e),b=new Date(0);b.setUTCFullYear(h,0,f),b.setUTCHours(0,0,0,0);var y=vm(b,e);return u.getTime()>=g.getTime()?h+1:u.getTime()>=y.getTime()?h:h-1}function nne(t,e){var n,s,i,a,o,l,c,d;An(1,arguments);var u=hf(),h=Ba((n=(s=(i=(a=e==null?void 0:e.firstWeekContainsDate)!==null&&a!==void 0?a:e==null||(o=e.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&i!==void 0?i:u.firstWeekContainsDate)!==null&&s!==void 0?s:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:1),m=V6(t,e),f=new Date(0);f.setUTCFullYear(m,0,h),f.setUTCHours(0,0,0,0);var x=vm(f,e);return x}var sne=6048e5;function rne(t,e){An(1,arguments);var n=br(t),s=vm(n,e).getTime()-nne(n,e).getTime();return Math.round(s/sne)+1}function st(t,e){for(var n=t<0?"-":"",s=Math.abs(t).toString();s.length<e;)s="0"+s;return n+s}var Kr={y:function(e,n){var s=e.getUTCFullYear(),i=s>0?s:1-s;return st(n==="yy"?i%100:i,n.length)},M:function(e,n){var s=e.getUTCMonth();return n==="M"?String(s+1):st(s+1,2)},d:function(e,n){return st(e.getUTCDate(),n.length)},a:function(e,n){var s=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h:function(e,n){return st(e.getUTCHours()%12||12,n.length)},H:function(e,n){return st(e.getUTCHours(),n.length)},m:function(e,n){return st(e.getUTCMinutes(),n.length)},s:function(e,n){return st(e.getUTCSeconds(),n.length)},S:function(e,n){var s=n.length,i=e.getUTCMilliseconds(),a=Math.floor(i*Math.pow(10,s-3));return st(a,n.length)}},ao={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ine={G:function(e,n,s){var i=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return s.era(i,{width:"abbreviated"});case"GGGGG":return s.era(i,{width:"narrow"});case"GGGG":default:return s.era(i,{width:"wide"})}},y:function(e,n,s){if(n==="yo"){var i=e.getUTCFullYear(),a=i>0?i:1-i;return s.ordinalNumber(a,{unit:"year"})}return Kr.y(e,n)},Y:function(e,n,s,i){var a=V6(e,i),o=a>0?a:1-a;if(n==="YY"){var l=o%100;return st(l,2)}return n==="Yo"?s.ordinalNumber(o,{unit:"year"}):st(o,n.length)},R:function(e,n){var s=B6(e);return st(s,n.length)},u:function(e,n){var s=e.getUTCFullYear();return st(s,n.length)},Q:function(e,n,s){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return st(i,2);case"Qo":return s.ordinalNumber(i,{unit:"quarter"});case"QQQ":return s.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,n,s){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return st(i,2);case"qo":return s.ordinalNumber(i,{unit:"quarter"});case"qqq":return s.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,n,s){var i=e.getUTCMonth();switch(n){case"M":case"MM":return Kr.M(e,n);case"Mo":return s.ordinalNumber(i+1,{unit:"month"});case"MMM":return s.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(i,{width:"wide",context:"formatting"})}},L:function(e,n,s){var i=e.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return st(i+1,2);case"Lo":return s.ordinalNumber(i+1,{unit:"month"});case"LLL":return s.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(i,{width:"wide",context:"standalone"})}},w:function(e,n,s,i){var a=rne(e,i);return n==="wo"?s.ordinalNumber(a,{unit:"week"}):st(a,n.length)},I:function(e,n,s){var i=tne(e);return n==="Io"?s.ordinalNumber(i,{unit:"week"}):st(i,n.length)},d:function(e,n,s){return n==="do"?s.ordinalNumber(e.getUTCDate(),{unit:"date"}):Kr.d(e,n)},D:function(e,n,s){var i=Qte(e);return n==="Do"?s.ordinalNumber(i,{unit:"dayOfYear"}):st(i,n.length)},E:function(e,n,s){var i=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return s.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(i,{width:"short",context:"formatting"});case"EEEE":default:return s.day(i,{width:"wide",context:"formatting"})}},e:function(e,n,s,i){var a=e.getUTCDay(),o=(a-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return st(o,2);case"eo":return s.ordinalNumber(o,{unit:"day"});case"eee":return s.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(a,{width:"short",context:"formatting"});case"eeee":default:return s.day(a,{width:"wide",context:"formatting"})}},c:function(e,n,s,i){var a=e.getUTCDay(),o=(a-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return st(o,n.length);case"co":return s.ordinalNumber(o,{unit:"day"});case"ccc":return s.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(a,{width:"narrow",context:"standalone"});case"cccccc":return s.day(a,{width:"short",context:"standalone"});case"cccc":default:return s.day(a,{width:"wide",context:"standalone"})}},i:function(e,n,s){var i=e.getUTCDay(),a=i===0?7:i;switch(n){case"i":return String(a);case"ii":return st(a,n.length);case"io":return s.ordinalNumber(a,{unit:"day"});case"iii":return s.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(i,{width:"short",context:"formatting"});case"iiii":default:return s.day(i,{width:"wide",context:"formatting"})}},a:function(e,n,s){var i=e.getUTCHours(),a=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,n,s){var i=e.getUTCHours(),a;switch(i===12?a=ao.noon:i===0?a=ao.midnight:a=i/12>=1?"pm":"am",n){case"b":case"bb":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,n,s){var i=e.getUTCHours(),a;switch(i>=17?a=ao.evening:i>=12?a=ao.afternoon:i>=4?a=ao.morning:a=ao.night,n){case"B":case"BB":case"BBB":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,n,s){if(n==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),s.ordinalNumber(i,{unit:"hour"})}return Kr.h(e,n)},H:function(e,n,s){return n==="Ho"?s.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Kr.H(e,n)},K:function(e,n,s){var i=e.getUTCHours()%12;return n==="Ko"?s.ordinalNumber(i,{unit:"hour"}):st(i,n.length)},k:function(e,n,s){var i=e.getUTCHours();return i===0&&(i=24),n==="ko"?s.ordinalNumber(i,{unit:"hour"}):st(i,n.length)},m:function(e,n,s){return n==="mo"?s.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Kr.m(e,n)},s:function(e,n,s){return n==="so"?s.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Kr.s(e,n)},S:function(e,n){return Kr.S(e,n)},X:function(e,n,s,i){var a=i._originalDate||e,o=a.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return fS(o);case"XXXX":case"XX":return ia(o);case"XXXXX":case"XXX":default:return ia(o,":")}},x:function(e,n,s,i){var a=i._originalDate||e,o=a.getTimezoneOffset();switch(n){case"x":return fS(o);case"xxxx":case"xx":return ia(o);case"xxxxx":case"xxx":default:return ia(o,":")}},O:function(e,n,s,i){var a=i._originalDate||e,o=a.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+mS(o,":");case"OOOO":default:return"GMT"+ia(o,":")}},z:function(e,n,s,i){var a=i._originalDate||e,o=a.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+mS(o,":");case"zzzz":default:return"GMT"+ia(o,":")}},t:function(e,n,s,i){var a=i._originalDate||e,o=Math.floor(a.getTime()/1e3);return st(o,n.length)},T:function(e,n,s,i){var a=i._originalDate||e,o=a.getTime();return st(o,n.length)}};function mS(t,e){var n=t>0?"-":"+",s=Math.abs(t),i=Math.floor(s/60),a=s%60;if(a===0)return n+String(i);var o=e;return n+String(i)+o+st(a,2)}function fS(t,e){if(t%60===0){var n=t>0?"-":"+";return n+st(Math.abs(t)/60,2)}return ia(t,e)}function ia(t,e){var n=e||"",s=t>0?"-":"+",i=Math.abs(t),a=st(Math.floor(i/60),2),o=st(i%60,2);return s+a+n+o}var gS=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},U6=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},ane=function(e,n){var s=e.match(/(P+)(p+)?/)||[],i=s[1],a=s[2];if(!a)return gS(e,n);var o;switch(i){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",gS(i,n)).replace("{{time}}",U6(a,n))},one={p:U6,P:ane},lne=["D","DD"],cne=["YY","YYYY"];function dne(t){return lne.indexOf(t)!==-1}function une(t){return cne.indexOf(t)!==-1}function xS(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var hne={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},pne=function(e,n,s){var i,a=hne[e];return typeof a=="string"?i=a:n===1?i=a.one:i=a.other.replace("{{count}}",n.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+i:i+" ago":i};function dx(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,s=t.formats[n]||t.formats[t.defaultWidth];return s}}var mne={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},fne={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},gne={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},xne={date:dx({formats:mne,defaultWidth:"full"}),time:dx({formats:fne,defaultWidth:"full"}),dateTime:dx({formats:gne,defaultWidth:"full"})},vne={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},yne=function(e,n,s,i){return vne[e]};function ic(t){return function(e,n){var s=n!=null&&n.context?String(n.context):"standalone",i;if(s==="formatting"&&t.formattingValues){var a=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):a;i=t.formattingValues[o]||t.formattingValues[a]}else{var l=t.defaultWidth,c=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[c]||t.values[l]}var d=t.argumentCallback?t.argumentCallback(e):e;return i[d]}}var bne={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},wne={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},jne={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Nne={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},kne={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Sne={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Cne=function(e,n){var s=Number(e),i=s%100;if(i>20||i<10)switch(i%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},Pne={ordinalNumber:Cne,era:ic({values:bne,defaultWidth:"wide"}),quarter:ic({values:wne,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:ic({values:jne,defaultWidth:"wide"}),day:ic({values:Nne,defaultWidth:"wide"}),dayPeriod:ic({values:kne,defaultWidth:"wide",formattingValues:Sne,defaultFormattingWidth:"wide"})};function ac(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.width,i=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;var o=a[0],l=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?_ne(l,function(h){return h.test(o)}):Ene(l,function(h){return h.test(o)}),d;d=t.valueCallback?t.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;var u=e.slice(o.length);return{value:d,rest:u}}}function Ene(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function _ne(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function Mne(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=e.match(t.matchPattern);if(!s)return null;var i=s[0],a=e.match(t.parsePattern);if(!a)return null;var o=t.valueCallback?t.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;var l=e.slice(i.length);return{value:o,rest:l}}}var Tne=/^(\d+)(th|st|nd|rd)?/i,Lne=/\d+/i,Ane={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Ine={any:[/^b/i,/^(a|c)/i]},One={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Rne={any:[/1/i,/2/i,/3/i,/4/i]},Dne={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},$ne={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Fne={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},zne={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Bne={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Vne={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Une={ordinalNumber:Mne({matchPattern:Tne,parsePattern:Lne,valueCallback:function(e){return parseInt(e,10)}}),era:ac({matchPatterns:Ane,defaultMatchWidth:"wide",parsePatterns:Ine,defaultParseWidth:"any"}),quarter:ac({matchPatterns:One,defaultMatchWidth:"wide",parsePatterns:Rne,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:ac({matchPatterns:Dne,defaultMatchWidth:"wide",parsePatterns:$ne,defaultParseWidth:"any"}),day:ac({matchPatterns:Fne,defaultMatchWidth:"wide",parsePatterns:zne,defaultParseWidth:"any"}),dayPeriod:ac({matchPatterns:Bne,defaultMatchWidth:"any",parsePatterns:Vne,defaultParseWidth:"any"})},Wne={code:"en-US",formatDistance:pne,formatLong:xne,formatRelative:yne,localize:Pne,match:Une,options:{weekStartsOn:0,firstWeekContainsDate:1}},Hne=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,qne=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Gne=/^'([^]*?)'?$/,Kne=/''/g,Yne=/[a-zA-Z]/;function uh(t,e,n){var s,i,a,o,l,c,d,u,h,m,f,x,g,b;An(2,arguments);var y=String(e),v=hf(),w=(s=(i=void 0)!==null&&i!==void 0?i:v.locale)!==null&&s!==void 0?s:Wne,N=Ba((a=(o=(l=(c=void 0)!==null&&c!==void 0?c:void 0)!==null&&l!==void 0?l:v.firstWeekContainsDate)!==null&&o!==void 0?o:(d=v.locale)===null||d===void 0||(u=d.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(N>=1&&N<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var j=Ba((h=(m=(f=(x=void 0)!==null&&x!==void 0?x:void 0)!==null&&f!==void 0?f:v.weekStartsOn)!==null&&m!==void 0?m:(g=v.locale)===null||g===void 0||(b=g.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&h!==void 0?h:0);if(!(j>=0&&j<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!w.localize)throw new RangeError("locale must contain localize property");if(!w.formatLong)throw new RangeError("locale must contain formatLong property");var k=br(t);if(!Yte(k))throw new RangeError("Invalid time value");var P=Gte(k),S=Xte(k,P),E={firstWeekContainsDate:N,weekStartsOn:j,locale:w,_originalDate:k},T=y.match(qne).map(function(W){var F=W[0];if(F==="p"||F==="P"){var D=one[F];return D(W,w.formatLong)}return W}).join("").match(Hne).map(function(W){if(W==="''")return"'";var F=W[0];if(F==="'")return Xne(W);var D=ine[F];if(D)return une(W)&&xS(W,e,String(t)),dne(W)&&xS(W,e,String(t)),D(S,W,w.localize,E);if(F.match(Yne))throw new RangeError("Format string contains an unescaped latin alphabet character `"+F+"`");return W}).join("");return T}function Xne(t){var e=t.match(Gne);return e?e[1].replace(Kne,"'"):t}const oc=Ta("http://localhost:8000"),vS=()=>{const[t]=qb(),[e,n]=p.useState(null),[s,i]=p.useState([]),[a,o]=p.useState(null),[l,c]=p.useState([]),[d,u]=p.useState(""),[h,m]=p.useState(null),f=p.useRef(null),x=t.get("to");t.get("ctx");const g=t.get("message"),b=j=>{if(!j)return"";try{return decodeURIComponent(j)}catch{try{const P=j.replace(/%27/g,"'");return decodeURIComponent(P)}catch{try{const S=j.replace(/%20/g," ").replace(/%0A/g,`
`);return decodeURIComponent(S)}catch{return console.warn("All decoding methods failed, returning original message"),j}}}};p.useEffect(()=>{(async()=>{try{const k=await ge.get("/get-user");k.data&&k.data.user&&(n(k.data.user._id),y(),oc.emit("join_user",k.data.user._id))}catch(k){console.error("Unexpected error fetching user info:",k)}})()},[]),p.useEffect(()=>{if(g){const j=b(g);u(j)}},[g]),p.useEffect(()=>{const j=async()=>{if(x&&e&&s.length>0){const k=s.find(P=>P.participants.some(S=>S._id===x));if(k)v(k._id);else try{(await ge.post("/conversations/initiate",{receiverId:x})).data.success&&y()}catch(P){console.error("Error creating conversation:",P)}}};x&&e&&s.length>0&&j()},[x,e,s]);const y=async()=>{try{const j=await ge.get("/conversations");j.data.success&&i(j.data.data)}catch(j){console.error("Error fetching conversations:",j)}},v=async j=>{try{o(j);const k=await ge.get(`/conversations/${j}/messages`);if(k.data.success){c(k.data.data);const S=s.find(E=>E._id===j).participants.find(E=>E._id!==e);m(S),oc.emit("join_conversation",j)}}catch(k){console.error("Error fetching messages:",k)}};p.useEffect(()=>(oc.on("receive_message",j=>{j.conversationId===a&&(c(k=>[...k,j]),y())}),()=>{oc.off("receive_message")}),[a]),p.useEffect(()=>{f.current&&f.current.scrollIntoView({behavior:"smooth"})},[l]);const w=async()=>{if(!d.trim()||!a)return;const j={conversationId:a,content:d,senderId:e};try{const k=await ge.post("/messages/send",j);k.data.success&&(oc.emit("send_message",j),u(""),c([...l,k.data.data]),y())}catch(k){console.error("Error sending message:",k)}},N=()=>{let j=null;return l.map((k,P)=>{var A,_;const S=new Date(k.timestamp),E=uh(S,"MMM dd, yyyy"),T=k.senderId===e||k.senderId&&k.senderId._id===e,W=T?"You":`${((A=k.senderId)==null?void 0:A.firstName)||""} ${((_=k.senderId)==null?void 0:_.lastName)||""}`,F=T?"You":`${W.split(" ").map(z=>z[0]).join("")}`;let D=null;return(!j||E!==uh(j,"MMM dd, yyyy"))&&(D=r.jsx("div",{className:"flex items-center justify-center my-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"h-px bg-white/20 flex-1"}),r.jsx("span",{className:"px-3 py-1 bg-white/10 text-white/60 text-xs rounded-full",children:E}),r.jsx("div",{className:"h-px bg-white/20 flex-1"})]})},`date-${E}`),j=S),r.jsxs(Fe.Fragment,{children:[D,r.jsxs("div",{className:`flex gap-3 ${T?"justify-end":"justify-start"}`,children:[!T&&r.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-teal-500 to-blue-500 flex items-center justify-center text-white font-semibold text-xs flex-shrink-0",children:F.slice(0,2)}),r.jsxs("div",{className:`max-w-md ${T?"order-first":""}`,children:[r.jsx("div",{className:`px-4 py-3 rounded-2xl shadow-lg ${T?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-blue-500/30":"bg-white/10 text-white border border-white/20 backdrop-blur-sm"}`,children:r.jsx("p",{className:"text-sm leading-relaxed whitespace-pre-wrap",children:k.content})}),r.jsx("p",{className:`text-xs text-white/40 mt-1 ${T?"text-right":"text-left"}`,children:uh(new Date(k.timestamp),"h:mm a")})]}),T&&r.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center text-white font-semibold text-xs flex-shrink-0",children:"You"})]})]},P)})};return r.jsxs("div",{className:"min-h-screen bg-[#0b0c0f] relative",children:[r.jsx("div",{className:"absolute inset-0 bg-[#0b0c0f]"}),r.jsx("div",{className:"absolute inset-0 opacity-100",style:{backgroundImage:`url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='26' height='26' viewBox='0 0 26 26'><circle cx='1' cy='1' r='1.2' fill='%23ffffff' opacity='0.06'/></svg>")`}}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#0b0c0f] via-[#0f1115] to-[#0b0c0f]"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/5 via-purple-600/5 to-teal-600/5"}),r.jsx("div",{className:"absolute top-20 left-20 w-96 h-96 bg-gradient-to-r from-blue-500/10 to-purple-500/10 rounded-full blur-3xl animate-pulse"}),r.jsx("div",{className:"absolute bottom-20 right-20 w-80 h-80 bg-gradient-to-r from-teal-500/10 to-blue-500/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}}),r.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-gradient-to-r from-purple-500/5 to-pink-500/5 rounded-full blur-2xl animate-pulse",style:{animationDelay:"4s"}}),r.jsx(ct,{}),r.jsxs("div",{className:"relative z-10 flex h-[calc(100vh-80px)] backdrop-blur-sm",children:[r.jsxs("div",{className:"w-80 bg-[#0f1115]/80 backdrop-blur-xl border-r border-white/10 flex flex-col shadow-2xl",children:[r.jsxs("div",{className:"p-6 border-b border-white/10 bg-gradient-to-r from-white/5 to-transparent",children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Messages"}),r.jsxs("p",{className:"text-white/60 text-sm",children:[s.length," conversations"]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:s.map(j=>{var S,E;const k=j.participants.filter(T=>T._id!==e),P=k.length>0?k.map(T=>`${T.firstName} ${T.lastName}`).join(", "):"Unknown User";return r.jsx("div",{onClick:()=>v(j._id),className:`p-4 cursor-pointer transition-all duration-200 rounded-xl border-l-4 ${a===j._id?"bg-gradient-to-r from-blue-500/10 to-purple-500/10 border-blue-500 shadow-lg shadow-blue-500/20":"hover:bg-white/5 border-transparent hover:border-white/20"}`,children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center text-white font-semibold shadow-lg",children:P.split(" ").map(T=>T[0]).join("").slice(0,2)}),r.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-400 rounded-full border-2 border-[#0f1115] animate-pulse"})]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"font-semibold text-white truncate",children:P}),r.jsx("p",{className:"text-sm text-white/60 truncate",children:((S=j.lastMessage)==null?void 0:S.content)||"No messages yet"})]}),r.jsx("div",{className:"text-xs text-white/40 bg-white/10 px-2 py-1 rounded-full",children:(E=j.lastMessage)!=null&&E.timestamp?uh(new Date(j.lastMessage.timestamp),"MMM dd"):""})]})},j._id)})})]}),r.jsx("div",{className:"flex-1 flex flex-col bg-[#0b0c0f]/80 backdrop-blur-xl",children:h?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"p-6 border-b border-white/10 bg-[#0f1115]/80 backdrop-blur-xl",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-teal-500 to-blue-500 flex items-center justify-center text-white font-semibold shadow-lg",children:h.firstName[0]+h.lastName[0]}),r.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-400 rounded-full border-2 border-[#0b0c0f] animate-pulse"})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-white",children:`${h.firstName} ${h.lastName}`}),r.jsxs("p",{className:"text-sm text-green-400 flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),"Online"]})]})]})}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[N(),r.jsx("div",{ref:f})]}),r.jsx("div",{className:"p-6 border-t border-white/10 bg-[#0f1115]/80 backdrop-blur-xl",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"flex-1 relative",children:r.jsx("input",{type:"text",value:d,onChange:j=>u(j.target.value),onKeyPress:j=>j.key==="Enter"&&w(),placeholder:"Type your message...",className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 backdrop-blur-sm shadow-lg"})}),r.jsx("button",{onClick:w,disabled:!a||!d.trim(),className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-500 text-white font-semibold rounded-xl disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-lg hover:shadow-blue-500/30 transition-all duration-200",children:"Send"})]})})]}):r.jsx("div",{className:"flex-1 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-24 h-24 mx-auto mb-6 rounded-full bg-gradient-to-r from-blue-500/20 to-purple-500/20 flex items-center justify-center",children:r.jsx("svg",{className:"w-12 h-12 text-white/60",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Select a conversation"}),r.jsx("p",{className:"text-white/60",children:"Choose a conversation from the sidebar to start chatting"})]})})})]})]})},yS=220,Zne=220,Qne=16,Jne="1.25rem";function ese({children:t,className:e=""}){return r.jsx("span",{className:`inline-flex items-center rounded-full border border-white/15 bg-white/[0.04] px-3 py-1 text-[11px] font-medium text-white/70 ${e}`,children:t})}function W6({className:t="",children:e}){return r.jsx("div",{className:`nr-panel ${t}`,children:e})}const tse=({children:t})=>r.jsx("span",{className:"bg-gradient-to-r from-amber-400 via-amber-300 to-orange-500 bg-clip-text text-transparent",children:t});function nse({children:t,onClick:e,disabled:n}){return r.jsxs("button",{type:"button",onClick:e,disabled:n,className:["inline-flex items-center gap-1 rounded-full border px-2.5 py-1","text-[12px] font-medium transition","border-white/12 bg-white/[0.06] text-white/80 hover:bg-white/[0.12]",n?"opacity-40 cursor-not-allowed":""].join(" "),children:[r.jsx(IK,{className:"h-3.5 w-3.5"}),t]})}function sse({label:t,onRemove:e}){return r.jsxs("button",{type:"button",onClick:e,className:`inline-flex items-center gap-1.5 rounded-full
                 bg-rose-500/15 border border-rose-400/40 text-rose-200
                 px-2.5 py-1 text-[12px] hover:bg-rose-500/25`,title:"Remove",children:[t,r.jsx("span",{className:"text-rose-200/80",children:""})]})}function rse({n:t=36,duration:e=1800}){const n=Array.from({length:t}).map((s,i)=>{const a=Math.random()*100,o=-60+Math.random()*120,l=Math.floor(Math.random()*360),c=Math.random()*180,d=6+Math.random()*7,u=["#F59E0B","#22C55E","#60A5FA","#F472B6","#34D399","#FDE68A"],h=u[i%u.length];return{i,left:a,drift:o,rot:l,delay:c,size:d,color:h}});return r.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0 overflow-hidden",children:n.map(({i:s,left:i,drift:a,rot:o,delay:l,size:c,color:d})=>r.jsx("span",{className:"nr-confetti",style:{left:`${i}%`,width:c,height:c*.65,background:d,animationDuration:`${e}ms`,animationDelay:`${l}ms`,"--tx":`${a}px`,"--r":`${o}deg`}},s))})}function Tt({active:t,children:e,onClick:n,disabled:s,size:i="md",block:a=!1,className:o=""}){const l=i==="lg"?"px-4 py-2 text-[15px] rounded-2xl":i==="sm"?"px-2.5 py-1 text-[12px] rounded-full":"px-3.5 py-1.5 text-[13px] rounded-full",c=a?"w-full justify-center text-center whitespace-normal leading-tight min-h-[52px] md:min-h-[56px]":"";return r.jsxs("button",{type:"button",onClick:n,disabled:s,"aria-pressed":t,className:["inline-flex items-center gap-2 border font-semibold transition duration-150","focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-400/60 active:translate-y-[1px]",l,c,t?"border-transparent bg-gradient-to-r from-amber-400 to-orange-500 text-black shadow-[0_8px_18px_rgba(255,153,0,.25)] hover:brightness-110":"border-white/12 bg-white/[0.06] text-white/75 hover:bg-white/[0.12] hover:border-white/90",s?"opacity-40 cursor-not-allowed":"",o].join(" "),children:[t&&r.jsx("span",{className:"text-black/80",children:""}),r.jsx("span",{className:"[text-wrap:balance]",children:e})]})}const ri=Fe.forwardRef(({className:t="",...e},n)=>r.jsx("input",{ref:n,...e,className:["w-full rounded-xl border border-white/12 bg-white/[0.05] px-3 py-2","text-sm text-white placeholder-white/40 outline-none focus:border-white/30 focus:bg-white/[0.07]",t].join(" ")}));ri.displayName="Input";const hh=()=>r.jsx("div",{className:"my-3 h-px w-full bg-gradient-to-r from-transparent via-white/15 to-transparent"});function ux({label:t,placeholder:e="Type to filter",value:n,onChange:s,options:i=[],format:a,right:o,left:l,disabled:c}){const[d,u]=p.useState(!1),[h,m]=p.useState(""),f=p.useRef(null),x=v=>(typeof a=="function"?a(v):(v==null?void 0:v.label)??"")||"",g=v=>typeof l=="function"&&v?l(v):null,b=v=>typeof o=="function"&&v?o(v):null;p.useEffect(()=>{const v=w=>{f.current&&!f.current.contains(w.target)&&u(!1)};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]);const y=(h?i.filter(v=>x(v).toLowerCase().includes(h.toLowerCase())):i).slice(0,200);return r.jsxs("div",{ref:f,className:"relative",children:[t?r.jsx("div",{className:"mb-1 text-[12px] font-semibold text-white/60",children:t}):null,r.jsx("button",{type:"button",disabled:c,onClick:()=>u(v=>!v),className:["w-full rounded-xl border px-3 py-2 text-left text-sm","border-white/12 bg-white/[0.05] text-white/85 hover:bg-white/[0.08]",c?"opacity-40 cursor-not-allowed":""].join(" "),children:r.jsxs("div",{className:"flex items-center justify-between gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2 truncate",children:[g(n),r.jsx("span",{className:"truncate",children:n?x(n):"Select..."})]}),r.jsx("span",{className:"text-white/40",children:""})]})}),d&&r.jsxs("div",{className:"absolute z-30 mt-2 w-full rounded-xl border border-white/12 bg-[#0f1115] shadow-xl",children:[r.jsx("div",{className:"p-2 border-b border-white/10",children:r.jsx(ri,{value:h,onChange:v=>m(v.target.value),placeholder:e})}),r.jsx("div",{className:"max-h-64 overflow-auto stealth-scroll",children:y.length===0?r.jsx("div",{className:"px-3 py-2 text-sm text-white/60",children:"No results"}):y.map(v=>{const w=n&&n.value===v.value;return r.jsxs("button",{type:"button",onClick:()=>{s(v),u(!1),m("")},className:["flex w-full items-center justify-between gap-2 px-3 py-2 text-sm border-b border-white/5","hover:bg-white/[0.06]",w?"bg-white/[0.08]":""].join(" "),children:[r.jsxs("span",{className:"flex items-center gap-2 truncate",children:[g(v),r.jsx("span",{className:"truncate",children:x(v)})]}),r.jsx("span",{className:"text-white/60",children:b(v)})]},v.value)})})]})]})}const hx=new Map;async function uw(t,e,n){if(hx.has(t))return hx.get(t);const s=await fetch(e,n);if(!s.ok)throw new Error(`HTTP ${s.status}`);const i=await s.json();return hx.set(t,i),i}const Xv=t=>t?t.toUpperCase().replace(/./g,e=>String.fromCodePoint(127397+e.charCodeAt(0))):"";async function ise(){return(await uw("countries","https://restcountries.com/v3.1/all?fields=name,cca2,idd")).map(e=>{var i,a,o,l;const n=(e==null?void 0:e.cca2)||"",s=(((i=e==null?void 0:e.idd)==null?void 0:i.root)||"")+(((a=e==null?void 0:e.idd)==null?void 0:a.suffixes)&&e.idd.suffixes[0]||"");return{value:((o=e==null?void 0:e.name)==null?void 0:o.common)||n,label:((l=e==null?void 0:e.name)==null?void 0:l.common)||n,iso2:n,flag:Xv(n),dial:s||""}}).sort((e,n)=>e.label.localeCompare(n.label))}async function ase(t){var s;const e=await uw(`states:${t}`,"https://countriesnow.space/api/v0.1/countries/states",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({country:t})});return(((s=e==null?void 0:e.data)==null?void 0:s.states)||[]).map(i=>({value:i.name,label:i.name}))}async function ose(t,e){const n=await uw(`cities:${t}:${e}`,"https://countriesnow.space/api/v0.1/countries/state/cities",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({country:t,state:e})});return((n==null?void 0:n.data)||[]).map(i=>({value:i,label:i}))}const lse={language:AT,home:OT,moveBudget:_T,commute:RT,sleep:Gc,clean:DT,diet:gv,habits:qh,pets:Gp,dealbreakers:_K,finish:yc};function cse({kind:t,className:e="h-5 w-5"}){const n=lse[t];return n?r.jsx(n,{className:e+" text-white/80",strokeWidth:1.8}):null}const oo=[{iconKey:"language",pre:"Which",highlight:"language",post:"do you use most day-to-day?",sub:"Choose one. Add others if youre comfortable."},{iconKey:"home",pre:"Where do you call",highlight:"home",post:"?",sub:"Pick your country, then state/region."},{iconKey:"moveBudget",pre:"When are you moving and whats your",highlight:"monthly budget",post:"?",sub:"Used only to filter obvious mismatches."},{iconKey:"commute",pre:"How far from campus is okay, and how will you",highlight:"commute",post:"?",sub:"Pick a distance and one or more modes."},{iconKey:"sleep",pre:"Whats your",highlight:"sleep style",post:"and quiet hours?",sub:"We show compatibility bands, not exact times."},{iconKey:"clean",pre:"How",highlight:"tidy",post:"do you like shared spaces?",sub:"Rate 15 for expectations."},{iconKey:"diet",pre:"Tell us your",highlight:"diet",post:"and cooking rhythm.",sub:"Match what you do most weeks."},{iconKey:"habits",pre:"A few lifestyle",highlight:"habits",post:"to set expectations.",sub:"Smoking, drinking, parties."},{iconKey:"pets",pre:"Any",highlight:"pets or allergies",post:"?",sub:"Helps avoid conflicts."},{iconKey:"dealbreakers",pre:"Pick up to 3",highlight:"deal-breakers",post:".",sub:"Well flag conflicts transparently."},{iconKey:"finish",pre:"All set ",highlight:"Synapse",post:"is ready.",sub:"Badges now power housing & approvals."}];function dse({steps:t,current:e,onJump:n,meta:s={}}){return r.jsxs(W6,{className:"p-4 sm:p-5 h-full",children:[r.jsx("div",{className:"mb-3 text-[12px] font-bold tracking-wide text-white/70",children:"SETUP STEPS"}),r.jsx("ol",{className:"grid h-[calc(100%-8px)]",style:{gridTemplateRows:`repeat(${t.length}, 1fr)`},children:t.map((d,u)=>{var x;const h=u===e,m=u<e,f=!!((x=s==null?void 0:s[u])!=null&&x.sub);return r.jsxs("li",{className:"relative min-h-[34px]",style:{"--dot":"34px","--trk":"5px",paddingBottom:h&&f&&u<t.length-1?28:0},children:[u>0&&r.jsx("span",{"aria-hidden":!0,className:`absolute left-[calc(var(--dot)/2-var(--trk)/2)] w-[var(--trk)] rounded-full ${u<=e?"bg-emerald-400/85 shadow-[0_0_10px_rgba(16,185,129,.45)]":"bg-white/12"}`,style:{top:0,height:`calc(50% - ${34/2}px)`}}),u<t.length-1&&r.jsx("span",{"aria-hidden":!0,className:`absolute left-[calc(var(--dot)/2-var(--trk)/2)] w-[var(--trk)] rounded-full ${u<e?"bg-emerald-400/85 shadow-[0_0_10px_rgba(16,185,129,.45)]":"bg-white/12"}`,style:{bottom:0,height:`calc(50% - ${34/2}px)`}}),r.jsx("button",{type:"button",onClick:()=>n==null?void 0:n(u),"aria-current":h?"step":void 0,className:["absolute left-0 top-1/2 -translate-y-1/2 grid place-items-center rounded-full text-[12px] font-semibold transition",h?"bg-white text-black ring-2 ring-amber-300/70 shadow-[0_8px_24px_rgba(255,255,255,.18)]":m?"bg-emerald-400 text-black shadow-[0_0_16px_rgba(16,185,129,.55)]":"bg-white/[0.06] text-white/75 border border-white/20 shadow-[inset_0_0_0_1px_rgba(255,255,255,.08)]"].join(" "),style:{width:34,height:34},children:m?"":u+1}),r.jsx("div",{style:{paddingLeft:46,minHeight:34},children:r.jsx("div",{className:`flex items-center leading-none ${h?"text-white":"text-white/85"}`,style:{minHeight:34},children:r.jsx("span",{className:"text-[17px] md:text-[19px] font-semibold",children:d})})}),h&&f?u<t.length-1?r.jsx("p",{className:"absolute z-10 text-[12px] leading-snug text-white/65 max-w-[300px] pr-3 pointer-events-none",style:{left:46,top:`calc(25% + ${34/2}px + 4px)`},children:s[u].sub}):r.jsx("p",{className:"mt-1 text-[12px] text-white/65 max-w-[300px]",style:{paddingLeft:46},children:s[u].sub}):null]},d)})})]})}function use({step:t,total:e,title:n,sub:s,icon:i=null,loading:a=!1}){return r.jsx("div",{className:`relative nr-panel h-full p-0 overflow-hidden
                ring-1 ring-white/5
                shadow-[0_28px_80px_rgba(0,0,0,.55),0_8px_24px_rgba(0,0,0,.28)]`,children:r.jsx("div",{className:"grid h-full place-items-center px-8 text-center",children:r.jsxs("div",{className:"max-w-[760px] xl:max-w-[820px]",children:[i?r.jsx("div",{className:`mx-auto mb-4 grid h-14 w-14 place-items-center
                        rounded-full border border-white/15 bg-white/[0.05]
                        ring-1 ring-white/10 shadow-[0_0_18px_rgba(255,153,0,.14)]
                        transform-gpu scale-[1.5]`,children:r.jsx("span",{className:"text-2xl",children:i})}):null,a?r.jsx("div",{className:"text-white/90 text-base",children:r.jsxs("span",{className:"inline-flex gap-1","aria-live":"polite",children:[r.jsx("span",{className:"animate-pulse",children:""}),r.jsx("span",{className:"animate-pulse delay-150",children:""}),r.jsx("span",{className:"animate-pulse delay-300",children:""})]})}):r.jsxs(r.Fragment,{children:[r.jsx("h2",{className:`font-black tracking-tight text-white leading-[1.03]
                          text-[clamp(34px,min(4vw,6.2vh),60px)]
                          xl:text-[clamp(36px,min(3.6vw,6.6vh),64px)]
                          [text-wrap:balance] [text-shadow:0_10px_28px_rgba(255,153,0,.14)]`,children:n}),s?r.jsx("p",{className:"mx-auto mt-3 max-w-[640px] text-[14px] md:text-[15px] text-white/70",children:s}):null]})]})})})}function hse(){var le,pe,Q,we,be;const t=dt(),[e,n]=p.useState(!0),[s,i]=p.useState(!1),[a,o]=p.useState(!1),[l,c]=p.useState(""),[d,u]=p.useState(0),h=p.useMemo(()=>["Language & Comfort","Country & Region","Move-in & Budget","Distance & Commute","Sleep & Quiet Hours","Cleanliness","Diet & Cooking","Habits","Pets","Deal-breakers","Finish"],[]),[m,f]=p.useState({culture:{primaryLanguage:"",otherLanguages:[],languageComfort:"either",home:{country:"",countryISO:"",region:"",city:""},visibility:{showAvatarInPreviews:!1,shareCultureInPreviews:"banded"}},logistics:{moveInMonth:null,leaseMonths:12,budgetMax:null,maxDistanceMiles:2,commuteMode:[]},lifestyle:{sleepPattern:"",quietAfter:"22:00",quietUntil:"07:00",cleanliness:3,cleanlinessDetail:{bathroom:3,kitchen:3,dishes:3,trash:3}},habits:{diet:"",cookingFreq:"sometimes",smoking:"no",drinking:"social",partying:"occasionally"},pets:{hasPets:!1,okWithPets:!0,allergies:[]},dealbreakers:[]});p.useEffect(()=>{let ee=!0;return(async()=>{var ue;try{const q=new URLSearchParams(window.location.search).get("edit")==="true",re=await ge.get("/synapse/completion-status"),J=re==null?void 0:re.data;if(ee&&(J!=null&&J.completed)&&!q){t("/Synapsematches",{replace:!0});return}const ae=await ge.get("/synapse/preferences");ee&&((ue=ae==null?void 0:ae.data)!=null&&ue.preferences)&&(f(Se=>({...Se,...ae.data.preferences})),J!=null&&J.lastStep&&J.lastStep>0&&u(J.lastStep)),q&&(J!=null&&J.completed)&&u(0)}catch(C){console.error("Error loading Synapse data:",C)}finally{ee&&n(!1)}})(),()=>{ee=!1}},[]);const x=async ee=>{var ue,C;o(!0),c("");try{const q=typeof ee=="function"?ee(m):{...m,...ee};f(q),await ge.post("/synapse/preferences",q)}catch(q){c(((C=(ue=q==null?void 0:q.response)==null?void 0:ue.data)==null?void 0:C.message)||"Failed to save. Please try again.")}finally{o(!1)}},g=ee=>x({culture:{...m.culture,...ee}}),b=ee=>x({logistics:{...m.logistics,...ee}}),y=ee=>x({lifestyle:{...m.lifestyle,...ee}}),v=ee=>x({habits:{...m.habits,...ee}}),w=ee=>x({pets:{...m.pets,...ee}}),N=async()=>{i(!0),await new Promise(ue=>setTimeout(ue,220+Math.random()*280)),i(!1);const ee=Math.min(d+1,h.length-1);u(ee);try{const ue=Math.round((ee+1)/h.length*100);await ge.post("/synapse/progress",{step:ee,completionPercentage:ue})}catch(ue){console.error("Error updating progress:",ue)}},j=()=>u(ee=>Math.max(0,ee-1)),k=ee=>u(Math.max(0,Math.min(ee,h.length-1))),P=[{code:"en",label:"English"},{code:"es",label:"Spanish"},{code:"hi",label:"Hindi"},{code:"ta",label:"Tamil"},{code:"te",label:"Telugu"},{code:"kn",label:"Kannada"},{code:"ml",label:"Malayalam"},{code:"zh",label:"Mandarin"},{code:"ar",label:"Arabic"},{code:"fr",label:"French"},{code:"bn",label:"Bengali"}],S=()=>{const[ee,ue]=p.useState(()=>{const ae=m.culture.primaryLanguage,Se=P.some(Ee=>Ee.code===ae);return ae&&!Se?String(ae):""});p.useEffect(()=>{const ae=m.culture.primaryLanguage,Se=P.some(Ee=>Ee.code===ae);ae&&!Se&&ue(String(ae))},[m.culture.primaryLanguage]);const C=P.some(ae=>ae.code===m.culture.primaryLanguage),q=!!m.culture.primaryLanguage&&!C,re=ae=>{const Se=m.culture.primaryLanguage===ae?"":ae;Se&&Se!==m.culture.primaryLanguage&&ue("");const Ee=(m.culture.otherLanguages||[]).filter(Le=>Le!==Se);g({primaryLanguage:Se,otherLanguages:Ee})},J=()=>{const ae=(ee||"").trim();if(!ae)return;const Se=(m.culture.otherLanguages||[]).filter(Ee=>Ee!==ae);g({primaryLanguage:ae,otherLanguages:Se})};return r.jsxs("div",{className:"grid gap-6 md:grid-cols-[minmax(0,1.2fr)_minmax(0,.8fr)] items-start max-w-[920px]",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"mb-2 flex items-baseline gap-2",children:[r.jsx("span",{className:"text-[16px] md:text-[18px] font-semibold text-white/95",children:"Daily language"}),r.jsx(ese,{children:"Used for vibe only"})]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[P.map(ae=>{const Se=m.culture.primaryLanguage===ae.code;return r.jsx(Tt,{active:Se,onClick:()=>re(ae.code),children:ae.label},ae.code)}),q&&r.jsxs(Tt,{active:!0,onClick:()=>{g({primaryLanguage:""})},children:[String(m.culture.primaryLanguage)," "]})]}),r.jsx("div",{className:"mt-3 max-w-[560px]",children:r.jsx(ri,{className:"w-full",placeholder:"Search or type another language (press Enter)",value:ee,onChange:ae=>ue(ae.target.value),onKeyDown:ae=>{ae.key==="Enter"&&(ae.preventDefault(),J())}})}),r.jsxs("div",{className:"mt-6",children:[r.jsx("div",{className:"mb-2 text-[13px] font-semibold",children:"Also comfortable with (optional)"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:P.map(ae=>{const Se=m.culture.otherLanguages||[],Ee=Se.includes(ae.code);return r.jsx(Tt,{active:Ee,onClick:()=>{ae.code!==m.culture.primaryLanguage&&g({otherLanguages:Ee?Se.filter(Le=>Le!==ae.code):[...Se,ae.code]})},children:ae.label},ae.code)})})]})]}),r.jsxs("aside",{className:"rounded-3xl border border-white/12 bg-white/[0.03] p-4 sm:p-5 w-full max-w-[320px]",children:[r.jsxs("h3",{className:"text-white text-[20px] sm:text-[22px] font-bold leading-tight mb-3",children:["Language",r.jsx("br",{})," comfort with",r.jsx("br",{})," roommates"]}),r.jsx("div",{className:"grid gap-3",children:[{k:"same",t:"Prefer same language"},{k:"either",t:"Either is fine"},{k:"learn",t:"Happy to learn/teach"}].map(({k:ae,t:Se})=>{const Ee=m.culture.languageComfort===ae;return r.jsx(Tt,{size:"lg",className:"w-full h-[48px] justify-center",active:Ee,onClick:()=>g({languageComfort:ae}),children:Se},ae)})}),r.jsx("p",{className:"mt-3 text-[12px] text-white/55",children:"Used only to improve matching. You can change this anytime."})]})]})},[E,T]=p.useState([]),[W,F]=p.useState([]),[D,A]=p.useState([]);p.useEffect(()=>{(async()=>{try{const ee=await ise();T(ee)}catch(ee){console.warn("Countries fetch failed",ee)}})()},[]);const _=()=>{const ee=p.useMemo(()=>{if(!m.culture.home.country)return null;const ae=E.find(Ee=>Ee.iso2===m.culture.home.countryISO)||null,Se=E.find(Ee=>Ee.label===m.culture.home.country)||null;return ae||Se||{value:m.culture.home.country,label:m.culture.home.country,iso2:m.culture.home.countryISO,flag:Xv(m.culture.home.countryISO)}},[m.culture.home.country,m.culture.home.countryISO,E]),ue=ae=>(ae==null?void 0:ae.label)??"",C=ae=>ae?r.jsx("span",{className:"text-lg leading-none",children:ae.flag||Xv(ae.iso2)}):null,q=async ae=>{g({home:{country:ae.label,countryISO:ae.iso2,region:"",city:""}});try{F(await ase(ae.label)),A([])}catch{F([]),A([])}},re=async ae=>{g({home:{...m.culture.home,region:ae.value,city:""}});try{A(await ose(m.culture.home.country,ae.value))}catch{A([])}},J=ae=>g({home:{...m.culture.home,city:ae.value}});return r.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[r.jsx(ux,{label:"Country",value:ee,onChange:q,options:E,format:ue,left:C}),r.jsx(ux,{label:"State / Region",value:m.culture.home.region?{value:m.culture.home.region,label:m.culture.home.region}:null,onChange:re,options:W,disabled:!m.culture.home.country}),r.jsx(ux,{label:"Home city (optional)",value:m.culture.home.city?{value:m.culture.home.city,label:m.culture.home.city}:null,onChange:J,options:D,disabled:!m.culture.home.region})]})},z=()=>{const ee=p.useRef(null),ue=p.useRef(null),[C,q]=p.useState(m.logistics.budgetMax!=null?String(m.logistics.budgetMax):"");p.useEffect(()=>{document.activeElement!==ue.current&&q(m.logistics.budgetMax!=null?String(m.logistics.budgetMax):"")},[m.logistics.budgetMax]);const re=()=>{const J=C.replace(/[^\d]/g,""),ae=J===""?null:Number(J);b({budgetMax:ae})};return r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"mb-2 flex items-baseline gap-2",children:[r.jsx("span",{className:"text-[15px] md:text-[16px] font-semibold text-white",children:"Move-in month"}),r.jsx("span",{className:"text-[12px] text-white/60",children:"Used only to match timing"})]}),r.jsxs("div",{className:"relative max-w-[540px]",children:[r.jsx(ri,{ref:ee,type:"month",className:"nr-month pr-12",value:m.logistics.moveInMonth||"",onChange:J=>b({moveInMonth:(J.target.value||"").slice(0,7)})}),r.jsx("button",{type:"button","aria-label":"Open month picker",onClick:()=>{const J=ee.current;J&&(typeof J.showPicker=="function"?J.showPicker():J.focus())},className:`absolute inset-y-0 right-1 my-[4px] mr-[4px] grid place-items-center rounded-lg px-2
                       text-white/80 hover:text-white focus-visible:outline-none focus-visible:ring-2
                       focus-visible:ring-amber-400/60`,children:r.jsx(_T,{size:18})})]})]}),r.jsxs("div",{children:[r.jsx("div",{className:"mb-2 text-[15px] md:text-[16px] font-semibold text-white",children:"Lease length"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx(Tt,{active:m.logistics.leaseMonths===6,onClick:()=>b({leaseMonths:6}),children:"69 mo"}),r.jsx(Tt,{active:m.logistics.leaseMonths===12,onClick:()=>b({leaseMonths:12}),children:"1012 mo"}),r.jsx(Tt,{active:m.logistics.leaseMonths===15,onClick:()=>b({leaseMonths:15}),children:"12+ mo"})]})]}),r.jsxs("div",{children:[r.jsx("div",{className:"mb-2 text-[15px] md:text-[16px] font-semibold text-white",children:"Max monthly budget (USD)"}),r.jsxs("div",{className:"grid gap-3 md:grid-cols-2 items-start",children:[r.jsxs("div",{className:"relative max-w-[540px]",children:[r.jsx("span",{className:"pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 text-white/55",children:"$"}),r.jsx(ri,{ref:ue,type:"text",inputMode:"numeric",pattern:"[0-9]*",className:"pl-7",placeholder:"e.g., 900",value:C,onChange:J=>q(J.target.value.replace(/[^\d]/g,"")),onBlur:re,onKeyDown:J=>{J.key==="Enter"&&(J.preventDefault(),re(),J.currentTarget.blur())},"aria-label":"Maximum monthly budget in USD"})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:[600,800,1e3,1200].map(J=>r.jsxs(Tt,{active:m.logistics.budgetMax===J,onClick:()=>{q(String(J)),b({budgetMax:J})},children:[" $",J]},J))})]})]})]})},I=()=>r.jsxs("div",{children:[r.jsx("div",{className:"mb-2 text-[13px] font-semibold",children:"Max distance to campus"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:[.8,2,5,10].map(ee=>r.jsx(Tt,{active:m.logistics.maxDistanceMiles===ee,onClick:()=>b({maxDistanceMiles:ee}),children:ee<=.8?"Walkable (<0.8 mi)":` ${ee} mi`},ee))}),r.jsx(hh,{}),r.jsx("div",{className:"mb-2 text-[13px] font-semibold",children:"Commute mode (multi-select)"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:["walk","bus","car","bike"].map(ee=>{const ue=m.logistics.commuteMode.includes(ee);return r.jsx(Tt,{active:ue,onClick:()=>b({commuteMode:ue?m.logistics.commuteMode.filter(C=>C!==ee):[...m.logistics.commuteMode,ee]}),children:ee},ee)})})]}),M=()=>r.jsxs("div",{children:[r.jsx("div",{className:"mb-2 text-[13px] font-semibold",children:"Sleep pattern"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:[{k:"early_bird",t:"Early bird"},{k:"flex",t:"Flexible"},{k:"night_owl",t:"Night owl"}].map(ee=>r.jsx(Tt,{active:m.lifestyle.sleepPattern===ee.k,onClick:()=>y({sleepPattern:ee.k}),children:ee.t},ee.k))}),r.jsx(hh,{}),r.jsx("div",{className:"mb-2 text-[13px] font-semibold",children:"Quiet hours (weeknights)"}),r.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[r.jsx(ri,{type:"time",value:m.lifestyle.quietAfter,onChange:ee=>y({quietAfter:ee.target.value})}),r.jsx(ri,{type:"time",value:m.lifestyle.quietUntil,onChange:ee=>y({quietUntil:ee.target.value})})]})]}),$=({children:ee,hint:ue})=>r.jsxs("div",{className:"mb-1.5 flex items-baseline gap-2",children:[r.jsx("span",{className:"text-[16px] md:text-[18px] font-semibold text-white/95",children:ee}),ue?r.jsx("span",{className:"text-[11px] text-white/55",children:ue}):null]});function O({count:ee=0,limit:ue=3}){return r.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:ue}).map((C,q)=>r.jsx("span",{className:["inline-block h-2.5 w-2.5 rounded-full",q<ee?"bg-amber-400 shadow-[0_0_10px_rgba(251,191,36,.55)]":"bg-white/18"].join(" ")},q))})}function L({Base:ee,banned:ue,size:C="md"}){const q=C==="lg"?"h-4 w-4 -right-1 -bottom-1.5":"h-3.5 w-3.5 -right-1 -bottom-1";return r.jsxs("span",{className:"relative inline-grid place-items-center",children:[r.jsx(ee,{className:"h-4 w-4 text-white/85"}),ue&&r.jsx(Qu,{className:`absolute ${q} text-rose-400 drop-shadow`})]})}function Y(ee){switch(ee){case 1:return{text:"text-rose-300",bg:"bg-rose-500/10",ring:"ring-rose-400/30",dot:"bg-rose-400",label:"Very relaxed"};case 2:return{text:"text-orange-300",bg:"bg-orange-500/10",ring:"ring-orange-400/30",dot:"bg-orange-400",label:"Relaxed"};case 3:return{text:"text-amber-300",bg:"bg-amber-500/10",ring:"ring-amber-400/30",dot:"bg-amber-400",label:"Moderate"};case 4:return{text:"text-lime-300",bg:"bg-lime-500/10",ring:"ring-lime-400/30",dot:"bg-lime-400",label:"High"};default:case 5:return{text:"text-emerald-300",bg:"bg-emerald-500/10",ring:"ring-emerald-400/30",dot:"bg-emerald-400",label:"Very high"}}}function K({value:ee}){const ue=Y(Number(ee)||0);return r.jsxs("span",{title:ue.label,className:["inline-flex items-center gap-1 rounded-full border border-white/10 px-2 py-[2px]","text-[12px] font-semibold ring-1",ue.text,ue.bg,ue.ring].join(" "),children:[r.jsx("span",{className:`h-1.5 w-1.5 rounded-full ${ue.dot}`}),ee]})}function B({label:ee,minLabel:ue,maxLabel:C,value:q=3,onChange:re,className:J=""}){return r.jsxs("div",{className:`py-1 ${J}`,children:[r.jsxs("div",{className:"flex items-center justify-between gap-3",children:[r.jsx("div",{className:"text-[14px] md:text-[15px] font-semibold text-white",children:ee}),r.jsx(K,{value:q})]}),r.jsxs("div",{className:"mt-1",children:[r.jsx("input",{type:"range",min:1,max:5,step:1,value:q,onChange:ae=>re(Number(ae.target.value)),className:"w-full accent-white"}),r.jsxs("div",{className:"mt-1 flex justify-between text-[11px] text-white/55 leading-none",children:[r.jsx("span",{className:"truncate pr-2",children:ue}),r.jsx("span",{className:"truncate pl-2",children:C})]})]})]})}const U=()=>{const ee=m.lifestyle||{};return r.jsx("div",{className:"max-w-[820px]",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-2",children:[r.jsx(B,{className:"md:col-span-2",label:"Overall cleanliness",minLabel:"Laid-back",maxLabel:"Meticulous",value:ee.cleanliness??3,onChange:ue=>y({cleanliness:ue})}),r.jsx(B,{label:"Bathroom upkeep",minLabel:"OK if clean weekly",maxLabel:"Spotless daily",value:ee.bathroomUpkeep??3,onChange:ue=>y({bathroomUpkeep:ue})}),r.jsx(B,{label:"Kitchen cleanup",minLabel:"Tidy later",maxLabel:"Clean after cooking",value:ee.kitchenCleanup??3,onChange:ue=>y({kitchenCleanup:ue})}),r.jsx(B,{label:"Dishes turnaround",minLabel:"Within 2448h",maxLabel:"After each meal",value:ee.dishesTurnaround??3,onChange:ue=>y({dishesTurnaround:ue})}),r.jsx(B,{label:"Trash & recycling cadence",minLabel:"When full",maxLabel:"Every 12 days",value:ee.trashCadence??3,onChange:ue=>y({trashCadence:ue})})]})})},V=()=>r.jsxs("div",{className:"space-y-7",children:[r.jsxs("div",{children:[r.jsx($,{children:"Diet"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:[{k:"veg",t:"Vegetarian"},{k:"vegan",t:"Vegan"},{k:"nonveg",t:"Non-veg"}].map(ee=>r.jsx(Tt,{size:"lg",active:m.habits.diet===ee.k,onClick:()=>v({diet:ee.k}),children:ee.t},ee.k))})]}),r.jsx(hh,{}),r.jsxs("div",{children:[r.jsx($,{children:"Cooking frequency"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:[{k:"rare",t:"Cook rarely",I:Gc},{k:"sometimes",t:"Cook sometimes",I:YK},{k:"often",t:"Cook often",I:gv}].map(({k:ee,t:ue,I:C})=>{const q=m.habits.cookingFreq===ee;return r.jsxs(Tt,{size:"lg",active:q,onClick:()=>v({cookingFreq:ee}),children:[r.jsx(C,{className:`h-4 w-4 ${q?"text-black/80":"text-white/80"}`,strokeWidth:1.8}),r.jsx("span",{children:ue})]},ee)})})]})]}),G=()=>r.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-15",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx($,{hint:"No judgement  just setting expectations",children:"Smoking"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:[{k:"no",t:"No",I:tK},{k:"outdoor_only",t:"Outdoor only",I:Tg},{k:"yes",t:"Yes",I:Tg}].map(({k:ee,t:ue,I:C})=>{const q=m.habits.smoking===ee;return r.jsxs(Tt,{active:q,onClick:()=>v({smoking:ee}),children:[r.jsx(C,{className:`${q?"text-black/80":"text-white/80"} h-4 w-4`,strokeWidth:1.8}),r.jsx("span",{children:ue})]},ee)})}),r.jsx("p",{className:"text-[12px] text-white/45",children:"Outdoor only = balconies/porches, never indoors."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx($,{children:"Drinking"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:[{k:"no",t:"No",I:Qu},{k:"social",t:"Social",I:Ag},{k:"frequent",t:"Frequent",I:Ag}].map(({k:ee,t:ue,I:C})=>{const q=m.habits.drinking===ee;return r.jsxs(Tt,{active:q,onClick:()=>v({drinking:ee}),children:[r.jsx(C,{className:`${q?"text-black/80":"text-white/80"} h-4 w-4`,strokeWidth:1.8}),r.jsx("span",{children:ue})]},ee)})})]}),r.jsxs("div",{className:"space-y-2 xl:col-span-2",children:[r.jsx($,{children:"Parties"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:[{k:"no",t:"No parties",I:Qu},{k:"occasionally",t:"Occasionally",I:qh},{k:"frequent",t:"Frequent",I:qh}].map(({k:ee,t:ue,I:C})=>{const q=m.habits.partying===ee;return r.jsxs(Tt,{active:q,onClick:()=>v({partying:ee}),children:[r.jsx(C,{className:`${q?"text-black/80":"text-white/80"} h-4 w-4`,strokeWidth:1.8}),r.jsx("span",{children:ue})]},ee)})})]})]}),X=()=>{const ee=["cats","dogs","birds","rabbits","rodents","reptiles","fish"],ue=q=>{const re=(q||"").trim();if(!re)return;const J=m.pets.allergies||[];J.includes(re)||w({allergies:[...J,re]})},C=q=>w({allergies:(m.pets.allergies||[]).filter(re=>re!==q)});return r.jsxs("div",{className:"space-y-6 max-w-[760px]",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx($,{children:"Pets"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsxs(Tt,{active:m.pets.hasPets,onClick:()=>w({hasPets:!m.pets.hasPets}),children:[r.jsx(Gp,{className:`${m.pets.hasPets?"text-black/80":"text-white/85"} h-4 w-4`}),"I have pets"]}),r.jsxs(Tt,{active:m.pets.okWithPets,onClick:()=>w({okWithPets:!m.pets.okWithPets}),children:[m.pets.okWithPets?r.jsx(Jk,{className:"h-4 w-4 text-black/80"}):r.jsx(Jk,{className:"h-4 w-4 text-white/85"}),"Im okay with pets"]}),!m.pets.okWithPets&&r.jsxs("span",{className:"ml-1 inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/[0.04] px-2 py-1 text-[11px] text-white/60",children:[r.jsx(Qu,{className:"h-3.5 w-3.5"})," roommates pets not preferred"]})]}),r.jsx("p",{className:"text-[11px] text-white/45",children:"This helps us match you with owners and roommates who align with your comfort."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx($,{children:"Allergies"}),r.jsx("div",{className:"relative w-full",children:r.jsx(ri,{placeholder:"Type an allergy and press Enter (e.g., cats)",onKeyDown:q=>{q.key==="Enter"&&(q.preventDefault(),ue(q.currentTarget.value),q.currentTarget.value="")},"aria-label":"Add a pet allergy"})}),r.jsx("div",{className:"flex flex-wrap gap-2",children:ee.map(q=>r.jsx(nse,{onClick:()=>ue(q),disabled:(m.pets.allergies||[]).includes(q),children:q},q))}),(m.pets.allergies||[]).length>0?r.jsx("div",{className:"flex flex-wrap gap-2 pt-1",children:(m.pets.allergies||[]).map(q=>r.jsx(sse,{label:q,onRemove:()=>C(q)},q))}):r.jsx("div",{className:"text-[12px] text-white/45",children:"No allergies added."})]})]})},oe=()=>{const ee=[{k:"no_smoking_indoors",t:"No smoking indoors",Base:Tg,banned:!0},{k:"no_late_night_parties",t:"No late-night parties",Base:qh,banned:!0},{k:"no_pets",t:"No pets",Base:Gp,banned:!0},{k:"quiet_after_22",t:"Quiet after 10PM",Base:Gc,banned:!1},{k:"no_heavy_drinking",t:"No heavy drinking",Base:Ag,banned:!0}],ue=3,C=m.dealbreakers||[],q=C.length,re=q>=ue,J=ae=>{C.includes(ae)?x({dealbreakers:C.filter(Se=>Se!==ae)}):re||x({dealbreakers:[...C,ae]})};return r.jsxs("div",{className:"space-y-4 max-w-[780px]",children:[r.jsxs("div",{className:"flex items-baseline justify-between gap-3",children:[r.jsx("div",{className:"text-[16px] md:text-[18px] font-semibold",children:"Deal-breakers"}),r.jsxs("div",{className:"flex items-center gap-2 text-[12px]",children:[r.jsx(O,{count:q,limit:ue}),r.jsxs("span",{className:re?"text-rose-300":"text-white/65",children:["You chose ",q," / ",ue]})]})]}),r.jsx("p",{className:"text-[12px] text-white/55 -mt-2",children:"Pick up to 3 non-negotiables."}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:ee.map(({k:ae,t:Se,Base:Ee,banned:Le})=>{const Ze=C.includes(ae),it=!Ze&&re;return r.jsxs(Tt,{size:"lg",className:"w-full min-h-[52px]",active:Ze,disabled:it,onClick:()=>J(ae),children:[r.jsx(L,{Base:Ee,banned:Le,size:"lg"}),r.jsx("span",{className:"ml-1 leading-tight",children:Se})]},ae)})}),q>0&&r.jsxs("div",{className:"pt-1 text-[12px] text-white/60",children:["Selected:",ee.filter(ae=>C.includes(ae.k)).map(ae=>ae.t).join("  ")]})]})},ne=()=>{const[ee,ue]=p.useState(!1);p.useEffect(()=>{ue(!0);const q=setTimeout(()=>ue(!1),2e3);return()=>clearTimeout(q)},[]);const C=({children:q})=>r.jsx("span",{className:"inline-flex items-center gap-1 rounded-full border border-white/12 bg-white/[0.06] px-2.5 py-1 text-[12px] text-white/80",children:q});return r.jsxs("div",{className:"relative",children:[ee&&r.jsx(rse,{n:38}),r.jsxs("div",{className:`rounded-2xl ring-1 ring-white/10 p-4 sm:p-5 mb-4
                      bg-gradient-to-r from-emerald-400/10 via-amber-400/10 to-fuchsia-400/10`,children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"shrink-0 grid h-10 w-10 place-items-center rounded-full bg-white text-black shadow-lg",children:""}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xl md:text-2xl font-bold",children:"Synapse is set!"}),r.jsx("div",{className:"text-white/75 text-sm md:text-[15px]",children:"Compatibility badges will appear on housing cards and owner approvals."})]})]}),r.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[r.jsxs(C,{children:[r.jsx(DT,{className:"h-4 w-4"})," Clean & tidy"]}),r.jsxs(C,{children:[r.jsx(Gc,{className:"h-4 w-4"})," Quiet hours"]}),r.jsxs(C,{children:[r.jsx(gv,{className:"h-4 w-4"})," Cooking rhythm"]}),r.jsxs(C,{children:[r.jsx(RT,{className:"h-4 w-4"})," Commute"]})]})]}),r.jsx(hh,{}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"text-[15px] md:text-[16px] font-semibold",children:"Visibility"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx(Tt,{active:m.culture.visibility.showAvatarInPreviews,onClick:()=>g({visibility:{...m.culture.visibility,showAvatarInPreviews:!m.culture.visibility.showAvatarInPreviews}}),children:"Show my name & avatar in previews"}),r.jsx(Tt,{active:m.culture.visibility.shareCultureInPreviews==="banded",onClick:()=>g({visibility:{...m.culture.visibility,shareCultureInPreviews:"banded"}}),children:"Share only compatibility badges"}),r.jsx(Tt,{active:m.culture.visibility.shareCultureInPreviews==="details",onClick:()=>g({visibility:{...m.culture.visibility,shareCultureInPreviews:"details"}}),children:"Share brief details"})]}),r.jsx("p",{className:"text-[12px] text-white/55",children:"Youre in control. Change these anytime in Settings. We never share your contact info without consent."})]})]})},H=()=>{switch(d){case 0:return r.jsx(S,{});case 1:return r.jsx(_,{});case 2:return r.jsx(z,{});case 3:return r.jsx(I,{});case 4:return r.jsx(M,{});case 5:return r.jsx(U,{});case 6:return r.jsx(V,{});case 7:return r.jsx(G,{});case 8:return r.jsx(X,{});case 9:return r.jsx(oe,{});case 10:return r.jsx(ne,{});default:return null}},fe=!p.useMemo(()=>{var ee,ue,C,q,re,J,ae,Se,Ee,Le;switch(d){case 0:return(ee=m==null?void 0:m.culture)!=null&&ee.primaryLanguage?"":"Select your daily language to continue.";case 1:return(C=(ue=m==null?void 0:m.culture)==null?void 0:ue.home)!=null&&C.country&&((re=(q=m==null?void 0:m.culture)==null?void 0:q.home)!=null&&re.region)?"":"Pick your country and state/region to continue.";case 2:return(J=m==null?void 0:m.logistics)!=null&&J.moveInMonth&&(((ae=m==null?void 0:m.logistics)==null?void 0:ae.budgetMax)??null)!==null?"":"Add your move-in month and a max monthly budget to continue.";case 3:return(((Se=m==null?void 0:m.logistics)==null?void 0:Se.commuteMode)||[]).length>0?"":"Choose at least one commute mode to continue.";case 4:return(Ee=m==null?void 0:m.lifestyle)!=null&&Ee.sleepPattern?"":"Pick your sleep pattern to continue.";case 6:return(Le=m==null?void 0:m.habits)!=null&&Le.diet?"":"Select your diet to continue.";default:return""}},[d,m]);if(e)return r.jsxs("div",{className:"nr-dots-page min-h-screen text-white",children:[r.jsx(ct,{}),r.jsx("main",{className:"min-h-[60vh] grid place-items-center",children:"Loading Synapse"})]});const ce=`calc(100vh - ${yS+Qne}px)`,de=d===0,te=de?Zne:yS;return r.jsxs("div",{className:"nr-dots-page text-white",style:{height:"100vh",overflow:"hidden",position:"relative"},children:[r.jsx("style",{jsx:!0,children:`
        @keyframes gradientShift {
          0% { background-position: 200% 50%; }
          100% { background-position: 0% 50%; }
        }
      `}),r.jsx(ct,{}),r.jsx("section",{className:"nr-hero-bg",style:{paddingTop:20,paddingBottom:20},children:r.jsx("div",{className:"mx-auto max-w-7xl px-4",children:r.jsxs("div",{className:"flex items-start justify-between gap-8",children:[r.jsx("div",{className:"flex-1",children:r.jsx("h1",{className:"text-[36px] md:text-[48px] lg:text-[56px] font-black tracking-tight leading-[1.1]",children:new URLSearchParams(window.location.search).get("edit")==="true"?r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:"text-white",children:"Update your"}),r.jsx("div",{className:"drop-shadow-[0_0_20px_rgba(59,130,246,0.5)] drop-shadow-[0_0_40px_rgba(59,130,246,0.3)]",style:{background:"linear-gradient(90deg, #2563eb, #1e40af, #000000, #2563eb)",backgroundSize:"200% 100%",animation:"gradientShift 3s ease-in-out infinite",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Synapse preferences."})]}):r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:"text-white",children:"Let's tune your"}),r.jsx("div",{className:"drop-shadow-[0_0_20px_rgba(59,130,246,0.5)] drop-shadow-[0_0_40px_rgba(59,130,246,0.3)]",style:{background:"linear-gradient(90deg, #2563eb, #1e40af, #000000, #2563eb)",backgroundSize:"200% 100%",animation:"gradientShift 3s ease-in-out infinite",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Synapse profile."})]})})}),new URLSearchParams(window.location.search).get("edit")==="true"?r.jsx("div",{className:"flex-shrink-0",children:r.jsxs("div",{className:"relative bg-black border border-green-400/30 rounded-2xl p-5 w-[300px] shadow-lg shadow-green-500/10 overflow-hidden",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500/30 to-green-600/30 rounded-xl flex items-center justify-center flex-shrink-0 shadow-md",children:r.jsx(qK,{className:"text-green-300 text-xl"})}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:"text-green-300 font-bold text-lg",children:"Edit Mode"}),r.jsx("div",{className:"text-green-400/70 text-sm",children:"Auto-saved changes"})]})]}),r.jsx(rf,{size:200,duration:4,colorFrom:"#10b981",colorTo:"#000000",borderWidth:2,delay:0,initialOffset:0,reverse:!1})]})}):null]})})}),r.jsx("section",{className:`mx-auto ${de?"max-w-[106rem] 2xl:max-w-[116rem]":"max-w-[88rem] 2xl:max-w-[96rem]"} px-3 sm:px-4`,style:{position:"absolute",top:te,left:0,right:0,height:ce},children:r.jsxs("div",{id:"roommateGrid",className:"grid h-full items-start",style:{gridTemplateColumns:de?"0.7fr 0.75fr 1.3fr":"1fr 1.35fr 1.75fr",gap:Jne},children:[r.jsx("aside",{className:`hidden lg:block h-full min-h-0 ${de?"ml-0":"-ml-8 xl:-ml-12 2xl:-ml-16"}`,children:r.jsx(dse,{steps:h,current:d,onJump:k,meta:oo})}),r.jsx("div",{className:"h-full min-h-0",children:r.jsx(use,{step:d,total:h.length,loading:s,icon:r.jsx(cse,{kind:(le=oo[d])==null?void 0:le.iconKey,className:"h-8 w-8 md:h-9 md:w-9 text-white/80"}),title:r.jsxs(r.Fragment,{children:[(pe=oo[d])==null?void 0:pe.pre," ",r.jsx(tse,{children:(Q=oo[d])==null?void 0:Q.highlight})," ",(we=oo[d])==null?void 0:we.post]}),sub:(be=oo[d])==null?void 0:be.sub})}),r.jsx("div",{className:"h-full min-h-0",children:r.jsxs(W6,{className:"h-full p-0 flex flex-col",children:[r.jsx("div",{className:"p-4 sm:p-5 grow overflow-auto stealth-scroll min-h-0",children:H()}),r.jsxs("div",{className:"border-t border-white/10 bg-[#0f1115]/80 p-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"text-[12px] text-white/55",children:a?"Saving":"Autosaved"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:j,disabled:d===0,className:["inline-flex items-center gap-2 rounded-xl border px-3 py-2 text-sm","border-white/15 bg-white/5 text-white/80 hover:bg-white/10 transition",d===0?"opacity-40 cursor-not-allowed":""].join(" "),children:" Back"}),d<h.length-1?r.jsx("button",{onClick:()=>{fe&&N()},disabled:!fe,className:["inline-flex items-center gap-2 rounded-xl px-4 py-2 text-sm font-semibold transition",fe?"bg-white text-black active:translate-y-[1px]":"bg-white/10 text-white/50 cursor-not-allowed border border-white/15"].join(" "),"aria-disabled":!fe,children:"Continue "}):r.jsx("button",{onClick:async()=>{try{await ge.post("/synapse/mark-complete"),t("/Synapsematches")}catch(ee){console.error("Error marking as complete:",ee),t("/Synapsematches")}},className:"inline-flex items-center gap-2 rounded-xl bg-white text-black px-4 py-2 text-sm font-semibold hover:bg-gray-100 transition-colors",children:"See matches "})]})]}),l?r.jsx("div",{className:"mt-2 text-[12px] text-red-300",children:l}):null]})]})})]})}),r.jsx("style",{children:`
        .stealth-scroll { scrollbar-width: none; }
        .stealth-scroll::-webkit-scrollbar { width: 0; height: 0; }
      `})]})}function pse({count:t=120,maxSpeed:e=.35,repelRadius:n=120,repelStrength:s=.9}){const i=p.useRef(null),a=p.useRef(0),o=p.useRef(1),l=p.useRef({x:-9999,y:-9999,active:!1}),c=p.useRef([]),d=()=>{const m=i.current;if(!m)return;const{innerWidth:f,innerHeight:x,devicePixelRatio:g=1}=window;o.current=Math.min(2,g),m.width=Math.floor(f*o.current),m.height=Math.floor(x*o.current),m.style.width=f+"px",m.style.height=x+"px"},u=()=>{const m=i.current;if(!m)return;const{width:f,height:x}=m,g=(b,y)=>b+Math.random()*(y-b);c.current=Array.from({length:t},()=>({x:g(0,f),y:g(0,x),vx:g(-e,e),vy:g(-e,e),size:g(1.2,2.8)*o.current,hue:200+Math.floor(Math.random()*80)}))},h=()=>{const m=i.current;if(!m)return;const f=m.getContext("2d"),{width:x,height:g}=m;f.clearRect(0,0,x,g);const b=f.createRadialGradient(x*.5,g*.35,0,x*.5,g*.35,Math.max(x,g)*.8);b.addColorStop(0,"rgba(46, 64, 200, 0.08)"),b.addColorStop(1,"rgba(11, 12, 15, 0)"),f.fillStyle=b,f.fillRect(0,0,x,g);const y=l.current;for(const v of c.current){if(y.active){const w=v.x-y.x*o.current,N=v.y-y.y*o.current,j=Math.hypot(w,N);if(j<n*o.current&&j>.01){const k=(n*o.current-j)/(n*o.current);v.vx+=w/j*k*s*.2,v.vy+=N/j*k*s*.2}}v.vx*=.99,v.vy*=.99,v.x+=v.vx,v.y+=v.vy,v.x<0&&(v.x=x),v.x>x&&(v.x=0),v.y<0&&(v.y=g),v.y>g&&(v.y=0),f.beginPath(),f.fillStyle=`hsla(${v.hue}, 100%, 65%, 0.55)`,f.arc(v.x,v.y,v.size,0,Math.PI*2),f.fill()}a.current=requestAnimationFrame(h)};return p.useEffect(()=>{d(),u(),a.current=requestAnimationFrame(h);const m=()=>{d(),u()},f=g=>{l.current={x:g.clientX,y:g.clientY,active:!0}},x=()=>{l.current.active=!1,l.current.x=-9999,l.current.y=-9999};return window.addEventListener("resize",m),window.addEventListener("pointermove",f,{passive:!0}),window.addEventListener("pointerleave",x),()=>{cancelAnimationFrame(a.current),window.removeEventListener("resize",m),window.removeEventListener("pointermove",f),window.removeEventListener("pointerleave",x)}},[t,e,n,s]),r.jsx("canvas",{ref:i,className:"pointer-events-none fixed inset-0 z-0","aria-hidden":"true"})}function mse({when:t="Feb 2025"}){return r.jsxs("div",{className:"inline-flex items-center gap-3 rounded-full border border-white/10 bg-white/5 px-3 py-1 text-sm text-white/80 backdrop-blur",children:[r.jsx("span",{className:"inline-flex items-center rounded-full bg-[#2f64ff] px-2 py-0.5 text-xs font-semibold text-white",children:"Soon"}),r.jsxs("span",{className:"tracking-wide",children:["Launch in ",r.jsx("span",{className:"text-white/90",children:t})]})]})}function fse(){const[t,e]=p.useState(""),[n,s]=p.useState(""),[i,a]=p.useState(!1),[o,l]=p.useState(!1),[c,d]=p.useState(""),u="h-11 w-full rounded-lg border border-white/10 bg-white/[0.05] px-3 text-[14px] text-white placeholder:text-white/45 outline-none focus:border-sky-500 focus:ring-4 focus:ring-sky-500/10";async function h(m){var f,x;if(m.preventDefault(),d(""),!t||!/^\S+@\S+\.\S+$/.test(t)){d("Please enter a valid email.");return}if(!n.trim()){d("Please add your university.");return}try{l(!0),await _t.post("/waitlist",{email:t,university:n}),a(!0)}catch(g){d(((x=(f=g==null?void 0:g.response)==null?void 0:f.data)==null?void 0:x.message)||"Could not join the waitlist. Try again.")}finally{l(!1)}}return r.jsxs("div",{className:"relative min-h-screen overflow-hidden",children:[r.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10",children:[r.jsx("video",{src:"https://framerusercontent.com/assets/aMPvRVYHFQxBoB0v2qyJln83jI.mp4",autoPlay:!0,muted:!0,loop:!0,playsInline:!0,preload:"auto",className:"h-full w-full object-cover",style:{filter:"brightness(0.75) saturate(110%)"}}),r.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_center,rgba(0,0,0,0)_0%,rgba(0,0,0,0.35)_65%)]"})]}),r.jsx(pse,{}),r.jsx("main",{className:"relative z-10 mx-auto flex min-h-screen max-w-6xl items-center justify-center px-4",children:r.jsxs("div",{className:"w-full max-w-lg rounded-2xl border border-white/10 bg-black/30 p-8 shadow-[0_40px_120px_rgba(0,0,0,0.45)] backdrop-blur-xl",children:[r.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[r.jsx("h1",{className:`
                brand-script text-5xl leading-none
                bg-gradient-to-r from-blue-600 to-teal-500
                bg-clip-text text-transparent
              `,children:"NewRun"}),r.jsx(mse,{when:"Feb 2025"})]}),r.jsx("p",{className:"mb-6 text-[15px] leading-6 text-white/80",children:"Be first to try NewRun  housing, essentials, and community hand-picked for your campus. Join the waitlist and well notify you the moment we open your university."}),i?r.jsx("div",{className:"rounded-lg border border-emerald-400/30 bg-emerald-400/10 px-4 py-3 text-emerald-200",children:"Youre on the list! Well email you as soon as we go live. "}):r.jsxs("form",{onSubmit:h,className:"space-y-3",children:[r.jsx("input",{className:u,type:"email",placeholder:"University email",value:t,onChange:m=>e(m.target.value),autoComplete:"email"}),r.jsx("input",{className:u,type:"text",placeholder:"University (e.g., Northeastern)",value:n,onChange:m=>s(m.target.value)}),c&&r.jsx("div",{className:"rounded-md border border-red-500/40 bg-red-500/10 px-3 py-2 text-red-300",children:c}),r.jsx("button",{type:"submit",disabled:o,className:"inline-flex h-11 w-full items-center justify-center rounded-lg bg-[#2f64ff] text-[15px] font-medium text-white hover:bg-[#2958e3] disabled:opacity-60",children:o?"Joining":"Join the waitlist"})]}),r.jsxs("div",{className:"mt-6 text-center text-sm text-white/60",children:["By joining you agree to our"," ",r.jsx(Ae,{to:"/terms",className:"text-sky-400 hover:underline",children:"Terms"})," ","and"," ",r.jsx(Ae,{to:"/privacy",className:"text-sky-400 hover:underline",children:"Privacy Policy"}),"."]})]})})]})}var hw={};(function t(e,n,s,i){var a=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),o=typeof Path2D=="function"&&typeof DOMMatrix=="function",l=function(){if(!e.OffscreenCanvas)return!1;var O=new OffscreenCanvas(1,1),L=O.getContext("2d");L.fillRect(0,0,1,1);var Y=O.transferToImageBitmap();try{L.createPattern(Y,"no-repeat")}catch{return!1}return!0}();function c(){}function d(O){var L=n.exports.Promise,Y=L!==void 0?L:e.Promise;return typeof Y=="function"?new Y(O):(O(c,c),null)}var u=function(O,L){return{transform:function(Y){if(O)return Y;if(L.has(Y))return L.get(Y);var K=new OffscreenCanvas(Y.width,Y.height),B=K.getContext("2d");return B.drawImage(Y,0,0),L.set(Y,K),K},clear:function(){L.clear()}}}(l,new Map),h=function(){var O=Math.floor(16.666666666666668),L,Y,K={},B=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(L=function(U){var V=Math.random();return K[V]=requestAnimationFrame(function G(X){B===X||B+O-1<X?(B=X,delete K[V],U()):K[V]=requestAnimationFrame(G)}),V},Y=function(U){K[U]&&cancelAnimationFrame(K[U])}):(L=function(U){return setTimeout(U,O)},Y=function(U){return clearTimeout(U)}),{frame:L,cancel:Y}}(),m=function(){var O,L,Y={};function K(B){function U(V,G){B.postMessage({options:V||{},callback:G})}B.init=function(G){var X=G.transferControlToOffscreen();B.postMessage({canvas:X},[X])},B.fire=function(G,X,oe){if(L)return U(G,null),L;var ne=Math.random().toString(36).slice(2);return L=d(function(H){function Z(fe){fe.data.callback===ne&&(delete Y[ne],B.removeEventListener("message",Z),L=null,u.clear(),oe(),H())}B.addEventListener("message",Z),U(G,ne),Y[ne]=Z.bind(null,{data:{callback:ne}})}),L},B.reset=function(){B.postMessage({reset:!0});for(var G in Y)Y[G](),delete Y[G]}}return function(){if(O)return O;if(!s&&a){var B=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{O=new Worker(URL.createObjectURL(new Blob([B])))}catch(U){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn(" Could not load worker",U),null}K(O)}return O}}(),f={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function x(O,L){return L?L(O):O}function g(O){return O!=null}function b(O,L,Y){return x(O&&g(O[L])?O[L]:f[L],Y)}function y(O){return O<0?0:Math.floor(O)}function v(O,L){return Math.floor(Math.random()*(L-O))+O}function w(O){return parseInt(O,16)}function N(O){return O.map(j)}function j(O){var L=String(O).replace(/[^0-9a-f]/gi,"");return L.length<6&&(L=L[0]+L[0]+L[1]+L[1]+L[2]+L[2]),{r:w(L.substring(0,2)),g:w(L.substring(2,4)),b:w(L.substring(4,6))}}function k(O){var L=b(O,"origin",Object);return L.x=b(L,"x",Number),L.y=b(L,"y",Number),L}function P(O){O.width=document.documentElement.clientWidth,O.height=document.documentElement.clientHeight}function S(O){var L=O.getBoundingClientRect();O.width=L.width,O.height=L.height}function E(O){var L=document.createElement("canvas");return L.style.position="fixed",L.style.top="0px",L.style.left="0px",L.style.pointerEvents="none",L.style.zIndex=O,L}function T(O,L,Y,K,B,U,V,G,X){O.save(),O.translate(L,Y),O.rotate(U),O.scale(K,B),O.arc(0,0,1,V,G,X),O.restore()}function W(O){var L=O.angle*(Math.PI/180),Y=O.spread*(Math.PI/180);return{x:O.x,y:O.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:O.startVelocity*.5+Math.random()*O.startVelocity,angle2D:-L+(.5*Y-Math.random()*Y),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:O.color,shape:O.shape,tick:0,totalTicks:O.ticks,decay:O.decay,drift:O.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:O.gravity*3,ovalScalar:.6,scalar:O.scalar,flat:O.flat}}function F(O,L){L.x+=Math.cos(L.angle2D)*L.velocity+L.drift,L.y+=Math.sin(L.angle2D)*L.velocity+L.gravity,L.velocity*=L.decay,L.flat?(L.wobble=0,L.wobbleX=L.x+10*L.scalar,L.wobbleY=L.y+10*L.scalar,L.tiltSin=0,L.tiltCos=0,L.random=1):(L.wobble+=L.wobbleSpeed,L.wobbleX=L.x+10*L.scalar*Math.cos(L.wobble),L.wobbleY=L.y+10*L.scalar*Math.sin(L.wobble),L.tiltAngle+=.1,L.tiltSin=Math.sin(L.tiltAngle),L.tiltCos=Math.cos(L.tiltAngle),L.random=Math.random()+2);var Y=L.tick++/L.totalTicks,K=L.x+L.random*L.tiltCos,B=L.y+L.random*L.tiltSin,U=L.wobbleX+L.random*L.tiltCos,V=L.wobbleY+L.random*L.tiltSin;if(O.fillStyle="rgba("+L.color.r+", "+L.color.g+", "+L.color.b+", "+(1-Y)+")",O.beginPath(),o&&L.shape.type==="path"&&typeof L.shape.path=="string"&&Array.isArray(L.shape.matrix))O.fill(I(L.shape.path,L.shape.matrix,L.x,L.y,Math.abs(U-K)*.1,Math.abs(V-B)*.1,Math.PI/10*L.wobble));else if(L.shape.type==="bitmap"){var G=Math.PI/10*L.wobble,X=Math.abs(U-K)*.1,oe=Math.abs(V-B)*.1,ne=L.shape.bitmap.width*L.scalar,H=L.shape.bitmap.height*L.scalar,Z=new DOMMatrix([Math.cos(G)*X,Math.sin(G)*X,-Math.sin(G)*oe,Math.cos(G)*oe,L.x,L.y]);Z.multiplySelf(new DOMMatrix(L.shape.matrix));var fe=O.createPattern(u.transform(L.shape.bitmap),"no-repeat");fe.setTransform(Z),O.globalAlpha=1-Y,O.fillStyle=fe,O.fillRect(L.x-ne/2,L.y-H/2,ne,H),O.globalAlpha=1}else if(L.shape==="circle")O.ellipse?O.ellipse(L.x,L.y,Math.abs(U-K)*L.ovalScalar,Math.abs(V-B)*L.ovalScalar,Math.PI/10*L.wobble,0,2*Math.PI):T(O,L.x,L.y,Math.abs(U-K)*L.ovalScalar,Math.abs(V-B)*L.ovalScalar,Math.PI/10*L.wobble,0,2*Math.PI);else if(L.shape==="star")for(var ce=Math.PI/2*3,de=4*L.scalar,te=8*L.scalar,le=L.x,pe=L.y,Q=5,we=Math.PI/Q;Q--;)le=L.x+Math.cos(ce)*te,pe=L.y+Math.sin(ce)*te,O.lineTo(le,pe),ce+=we,le=L.x+Math.cos(ce)*de,pe=L.y+Math.sin(ce)*de,O.lineTo(le,pe),ce+=we;else O.moveTo(Math.floor(L.x),Math.floor(L.y)),O.lineTo(Math.floor(L.wobbleX),Math.floor(B)),O.lineTo(Math.floor(U),Math.floor(V)),O.lineTo(Math.floor(K),Math.floor(L.wobbleY));return O.closePath(),O.fill(),L.tick<L.totalTicks}function D(O,L,Y,K,B){var U=L.slice(),V=O.getContext("2d"),G,X,oe=d(function(ne){function H(){G=X=null,V.clearRect(0,0,K.width,K.height),u.clear(),B(),ne()}function Z(){s&&!(K.width===i.width&&K.height===i.height)&&(K.width=O.width=i.width,K.height=O.height=i.height),!K.width&&!K.height&&(Y(O),K.width=O.width,K.height=O.height),V.clearRect(0,0,K.width,K.height),U=U.filter(function(fe){return F(V,fe)}),U.length?G=h.frame(Z):H()}G=h.frame(Z),X=H});return{addFettis:function(ne){return U=U.concat(ne),oe},canvas:O,promise:oe,reset:function(){G&&h.cancel(G),X&&X()}}}function A(O,L){var Y=!O,K=!!b(L||{},"resize"),B=!1,U=b(L,"disableForReducedMotion",Boolean),V=a&&!!b(L||{},"useWorker"),G=V?m():null,X=Y?P:S,oe=O&&G?!!O.__confetti_initialized:!1,ne=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,H;function Z(ce,de,te){for(var le=b(ce,"particleCount",y),pe=b(ce,"angle",Number),Q=b(ce,"spread",Number),we=b(ce,"startVelocity",Number),be=b(ce,"decay",Number),ee=b(ce,"gravity",Number),ue=b(ce,"drift",Number),C=b(ce,"colors",N),q=b(ce,"ticks",Number),re=b(ce,"shapes"),J=b(ce,"scalar"),ae=!!b(ce,"flat"),Se=k(ce),Ee=le,Le=[],Ze=O.width*Se.x,it=O.height*Se.y;Ee--;)Le.push(W({x:Ze,y:it,angle:pe,spread:Q,startVelocity:we,color:C[Ee%C.length],shape:re[v(0,re.length)],ticks:q,decay:be,gravity:ee,drift:ue,scalar:J,flat:ae}));return H?H.addFettis(Le):(H=D(O,Le,X,de,te),H.promise)}function fe(ce){var de=U||b(ce,"disableForReducedMotion",Boolean),te=b(ce,"zIndex",Number);if(de&&ne)return d(function(we){we()});Y&&H?O=H.canvas:Y&&!O&&(O=E(te),document.body.appendChild(O)),K&&!oe&&X(O);var le={width:O.width,height:O.height};G&&!oe&&G.init(O),oe=!0,G&&(O.__confetti_initialized=!0);function pe(){if(G){var we={getBoundingClientRect:function(){if(!Y)return O.getBoundingClientRect()}};X(we),G.postMessage({resize:{width:we.width,height:we.height}});return}le.width=le.height=null}function Q(){H=null,K&&(B=!1,e.removeEventListener("resize",pe)),Y&&O&&(document.body.contains(O)&&document.body.removeChild(O),O=null,oe=!1)}return K&&!B&&(B=!0,e.addEventListener("resize",pe,!1)),G?G.fire(ce,le,Q):Z(ce,le,Q)}return fe.reset=function(){G&&G.reset(),H&&H.reset()},fe}var _;function z(){return _||(_=A(null,{useWorker:!0,resize:!0})),_}function I(O,L,Y,K,B,U,V){var G=new Path2D(O),X=new Path2D;X.addPath(G,new DOMMatrix(L));var oe=new Path2D;return oe.addPath(X,new DOMMatrix([Math.cos(V)*B,Math.sin(V)*B,-Math.sin(V)*U,Math.cos(V)*U,Y,K])),oe}function M(O){if(!o)throw new Error("path confetti are not supported in this browser");var L,Y;typeof O=="string"?L=O:(L=O.path,Y=O.matrix);var K=new Path2D(L),B=document.createElement("canvas"),U=B.getContext("2d");if(!Y){for(var V=1e3,G=V,X=V,oe=0,ne=0,H,Z,fe=0;fe<V;fe+=2)for(var ce=0;ce<V;ce+=2)U.isPointInPath(K,fe,ce,"nonzero")&&(G=Math.min(G,fe),X=Math.min(X,ce),oe=Math.max(oe,fe),ne=Math.max(ne,ce));H=oe-G,Z=ne-X;var de=10,te=Math.min(de/H,de/Z);Y=[te,0,0,te,-Math.round(H/2+G)*te,-Math.round(Z/2+X)*te]}return{type:"path",path:L,matrix:Y}}function $(O){var L,Y=1,K="#000000",B='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof O=="string"?L=O:(L=O.text,Y="scalar"in O?O.scalar:Y,B="fontFamily"in O?O.fontFamily:B,K="color"in O?O.color:K);var U=10*Y,V=""+U+"px "+B,G=new OffscreenCanvas(U,U),X=G.getContext("2d");X.font=V;var oe=X.measureText(L),ne=Math.ceil(oe.actualBoundingBoxRight+oe.actualBoundingBoxLeft),H=Math.ceil(oe.actualBoundingBoxAscent+oe.actualBoundingBoxDescent),Z=2,fe=oe.actualBoundingBoxLeft+Z,ce=oe.actualBoundingBoxAscent+Z;ne+=Z+Z,H+=Z+Z,G=new OffscreenCanvas(ne,H),X=G.getContext("2d"),X.font=V,X.fillStyle=K,X.fillText(L,fe,ce);var de=1/Y;return{type:"bitmap",bitmap:G.transferToImageBitmap(),matrix:[de,0,0,de,-ne*de/2,-H*de/2]}}n.exports=function(){return z().apply(this,arguments)},n.exports.reset=function(){z().reset()},n.exports.create=A,n.exports.shapeFromPath=M,n.exports.shapeFromText=$})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),hw,!1);const bS=hw.exports;hw.exports.create;const wS=({value:t,onChange:e,placeholder:n,suggestions:s=[],onSearch:i,className:a="",type:o="text"})=>{const[l,c]=p.useState(!1),[d,u]=p.useState([]),[h,m]=p.useState(-1),f=p.useRef(null),x=p.useRef(null);p.useEffect(()=>{if(t&&s.length>0){const v=s.filter(w=>w.toLowerCase().includes(t.toLowerCase()));u(v.slice(0,5))}else u([])},[t,s]),p.useEffect(()=>{const v=w=>{x.current&&!x.current.contains(w.target)&&f.current&&!f.current.contains(w.target)&&c(!1)};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]);const g=v=>{const w=v.target.value;e(w),w.length>1?(c(!0),i&&i(w)):c(!1)},b=v=>{e(v),c(!1),m(-1)},y=v=>{if(l)switch(v.key){case"ArrowDown":v.preventDefault(),m(w=>w<d.length-1?w+1:0);break;case"ArrowUp":v.preventDefault(),m(w=>w>0?w-1:d.length-1);break;case"Enter":v.preventDefault(),h>=0&&d[h]&&b(d[h]);break;case"Escape":c(!1),m(-1);break}};return r.jsxs("div",{className:"relative w-full",children:[r.jsx("input",{ref:f,type:o,value:t,onChange:g,onKeyDown:y,onFocus:()=>{d.length>0&&c(!0)},placeholder:n,className:a,autoComplete:"off"}),l&&d.length>0&&r.jsx("div",{ref:x,className:"absolute z-50 w-full mt-1 bg-white/10 backdrop-blur-sm border border-white/20 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:d.map((v,w)=>r.jsx("div",{onClick:()=>b(v),className:`px-4 py-3 cursor-pointer text-white hover:bg-white/10 transition-colors ${w===h?"bg-white/20":""}`,children:v},v))})]})},gse=["New York","Los Angeles","Chicago","Houston","Phoenix","Philadelphia","San Antonio","San Diego","Dallas","San Jose","Austin","Jacksonville","Fort Worth","Columbus","Charlotte","San Francisco","Indianapolis","Seattle","Denver","Washington","Boston","El Paso","Nashville","Detroit","Oklahoma City","Portland","Las Vegas","Memphis","Louisville","Baltimore","Milwaukee","Albuquerque","Tucson","Fresno","Sacramento","Mesa","Kansas City","Atlanta","Long Beach","Colorado Springs","Raleigh","Miami","Virginia Beach","Omaha","Oakland","Minneapolis","Tulsa","Arlington","Tampa","New Orleans","Wichita","Cleveland","Bakersfield","Aurora","Anaheim","Honolulu","Santa Ana","Corpus Christi","Riverside","Lexington","Stockton","Henderson","Saint Paul","St. Louis","Milwaukee","Milwaukee","Milwaukee","Milwaukee","Milwaukee","Milwaukee","Dekalb","Champaign","Urbana","Bloomington","Normal","Carbondale","Edwardsville","Charleston","Macomb","Peoria","Rockford","Springfield"],xse=["University of Illinois at Urbana-Champaign","University of Illinois at Chicago","University of Illinois at Springfield","Northern Illinois University","Illinois State University","Southern Illinois University","Western Illinois University","Eastern Illinois University","Northeastern Illinois University","Chicago State University","Governors State University","University of Chicago","Northwestern University","DePaul University","Loyola University Chicago","Illinois Institute of Technology","Roosevelt University","Columbia College Chicago","Benedictine University","Elmhurst University","Aurora University","Lewis University","North Central College","Olivet Nazarene University","Quincy University","Rockford University","Saint Xavier University","University of St. Francis","Wheaton College","Bradley University","Illinois Wesleyan University","Knox College","Lake Forest College","Monmouth College","Principia College","University of Illinois at Chicago","Harvard University","Stanford University","Massachusetts Institute of Technology","California Institute of Technology","Princeton University","Yale University","Columbia University","University of Pennsylvania","Duke University","Johns Hopkins University","Northwestern University","Brown University","Cornell University","Rice University","Vanderbilt University","Washington University in St. Louis","Emory University","Georgetown University","Carnegie Mellon University","University of Southern California","University of California, Berkeley","University of California, Los Angeles","University of Michigan","University of Virginia","University of North Carolina","Wake Forest University","New York University","Boston University","Northeastern University","Tulane University","University of Miami","University of Florida","University of Georgia","Georgia Institute of Technology","University of Texas at Austin","Texas A&M University","Rice University","University of Washington","University of Oregon","Oregon State University","University of Colorado Boulder","University of Utah","Arizona State University","University of Arizona","University of Nevada, Las Vegas","University of Hawaii","University of Alaska","University of Montana","University of Wyoming","University of North Dakota","University of South Dakota","University of Nebraska","University of Kansas","University of Oklahoma","University of Arkansas","University of Missouri","University of Iowa","University of Wisconsin","University of Minnesota","University of North Dakota","University of South Dakota","University of Nebraska","University of Kansas","University of Oklahoma","University of Arkansas","University of Missouri","University of Iowa","University of Wisconsin","University of Minnesota"],vse=async t=>{if(t.length<2)return[];const e=gse.filter(n=>n.toLowerCase().includes(t.toLowerCase()));return e.length>=5?e.slice(0,5):e},yse=async t=>{if(t.length<2)return[];const e=xse.filter(n=>n.toLowerCase().includes(t.toLowerCase()));return e.length>=5?e.slice(0,5):e},bse=new Set(["university"]),wse=({value:t,onChange:e,placeholder:n,university:s,className:i})=>{const[a,o]=p.useState([]),[l,c]=p.useState(!1),[d,u]=p.useState(!1),[h,m]=p.useState(-1),f=p.useRef(null),x=p.useCallback(async N=>{var k;if(!N)return;(k=f.current)==null||k.abort();const j=new AbortController;f.current=j,u(!0);try{const S=await(await fetch(`https://api.newrun.club/api/universities/${encodeURIComponent(N)}/majors`,{signal:j.signal})).json();S.success&&o(S.majors||[])}catch(P){P.name!=="AbortError"&&(console.error("Error fetching majors:",P),o([]))}finally{u(!1)}},[]);p.useEffect(()=>{const N=setTimeout(()=>{s&&x(s)},300);return()=>clearTimeout(N)},[s,x]);const g=N=>{const j=N.target.value;e(j),c(j.length>0),m(-1)},b=N=>{e(N),c(!1),m(-1)},y=N=>{if(!(!l||w.length===0))switch(N.key){case"ArrowDown":N.preventDefault(),m(j=>j<w.length-1?j+1:0);break;case"ArrowUp":N.preventDefault(),m(j=>j>0?j-1:w.length-1);break;case"Enter":N.preventDefault(),h>=0&&h<w.length&&b(w[h]);break;case"Escape":c(!1),m(-1);break}},v=()=>{setTimeout(()=>{c(!1),m(-1)},150)},w=a.filter(N=>N.toLowerCase().includes(t.toLowerCase()));return r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:t,onChange:g,onKeyDown:y,onFocus:()=>c(t.length>0),onBlur:v,placeholder:n,className:i,role:"combobox","aria-expanded":l,"aria-haspopup":"listbox","aria-activedescendant":l&&h>=0?`major-opt-${h}`:void 0}),d&&r.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2","aria-live":"polite","aria-label":"Loading suggestions",children:r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white/40 border-t-white"})}),l&&w.length>0&&r.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-gray-800 border border-white/20 rounded-lg shadow-lg z-50 max-h-48 overflow-y-auto",role:"listbox",children:w.map((N,j)=>r.jsx("button",{id:`major-opt-${j}`,onClick:()=>b(N),className:`w-full px-4 py-2 text-left text-white hover:bg-white/10 transition-colors ${j===h?"bg-white/20":""}`,role:"option","aria-selected":j===h,children:N},j))})]})},px=[{id:"welcome",title:"Welcome to NewRun! ",subtitle:"Let's get you set up in just a few steps",type:"welcome"},{id:"us_status",title:"Are you currently in the US?",subtitle:"This helps us provide relevant resources",type:"selection",field:"usStatus",options:[{label:"Yes, I'm in the US",icon:Qk,description:"Already in the United States",value:"in_us"},{label:"No, coming to the US",icon:e5,description:"Arriving from another country",value:"coming_to_us"}]},{id:"birthday",title:"What's your birthday?",subtitle:"This helps us verify your age and provide age-appropriate services",type:"date",field:"birthday"},{id:"academic_level",title:"What's your academic level?",subtitle:"This helps us tailor your experience",type:"selection",field:"academicLevel",options:[{label:"Undergraduate",icon:bc,description:"Bachelor's degree student",value:"undergraduate"},{label:"Graduate Student",icon:t5,description:"Master's or PhD student",value:"graduate"},{label:"Alumni",icon:Lg,description:"Graduated and working",value:"alumni"}]},{id:"university",title:t=>t.academicLevel==="alumni"?"Which university did you attend?":"Which university are you attending?",subtitle:"We'll customize your experience",type:"text",field:"university",placeholder:"Enter your university name",conditional:t=>["undergraduate","graduate","alumni"].includes(t.academicLevel)},{id:"current_situation",title:"What's your current situation?",subtitle:"Help us understand your needs",type:"selection",field:"currentSituation",options:t=>t.academicLevel==="alumni"?[{label:"Currently Working",icon:Mg,description:"Already employed, looking for services",value:"working"},{label:"Job Relocation",icon:qc,description:"Got job offer, relocating",value:"relocation"},{label:"Graduate School",icon:bc,description:"Going to graduate school",value:"grad_school"},{label:"Job Search",icon:Gh,description:"Looking for job opportunities",value:"job_search"}]:[{label:"Incoming Student",icon:e5,description:"Starting university soon",value:"incoming"},{label:"Current Student",icon:Ju,description:"Already studying, looking for housing",value:"current"},{label:"Transfer Student",icon:qc,description:"Transferring to new university",value:"transfer"}]},{id:"major",title:"What's your field of study?",subtitle:"Help us connect you with relevant communities",type:"autocomplete",field:"major",placeholder:"e.g., Computer Science, Business, Engineering",conditional:t=>["undergraduate","graduate","alumni"].includes(t.academicLevel)},{id:"intake",title:t=>t.academicLevel==="alumni"?"When did you graduate?":"What's your intake/semester?",subtitle:t=>t.academicLevel==="alumni"?"Help us understand your background":"Help us understand your timeline",type:"selection",field:"intake",conditional:t=>["undergraduate","graduate","alumni"].includes(t.academicLevel),options:t=>t.academicLevel==="alumni"?[{label:"Spring 2020",icon:gt,description:"Graduated Spring 2020",value:"spring_2020"},{label:"Summer 2020",icon:gt,description:"Graduated Summer 2020",value:"summer_2020"},{label:"Fall 2020",icon:gt,description:"Graduated Fall 2020",value:"fall_2020"},{label:"Spring 2021",icon:gt,description:"Graduated Spring 2021",value:"spring_2021"},{label:"Summer 2021",icon:gt,description:"Graduated Summer 2021",value:"summer_2021"},{label:"Fall 2021",icon:gt,description:"Graduated Fall 2021",value:"fall_2021"},{label:"Spring 2022",icon:gt,description:"Graduated Spring 2022",value:"spring_2022"},{label:"Summer 2022",icon:gt,description:"Graduated Summer 2022",value:"summer_2022"},{label:"Fall 2022",icon:gt,description:"Graduated Fall 2022",value:"fall_2022"},{label:"Spring 2023",icon:gt,description:"Graduated Spring 2023",value:"spring_2023"},{label:"Summer 2023",icon:gt,description:"Graduated Summer 2023",value:"summer_2023"},{label:"Fall 2023",icon:gt,description:"Graduated Fall 2023",value:"fall_2023"},{label:"Spring 2024",icon:gt,description:"Graduated Spring 2024",value:"spring_2024"},{label:"Summer 2024",icon:gt,description:"Graduated Summer 2024",value:"summer_2024"},{label:"Fall 2024",icon:gt,description:"Graduated Fall 2024",value:"fall_2024"}]:[{label:"Spring 2024",icon:gt,description:"Starting Spring 2024",value:"spring_2024"},{label:"Summer 2024",icon:gt,description:"Starting Summer 2024",value:"summer_2024"},{label:"Fall 2024",icon:gt,description:"Starting Fall 2024",value:"fall_2024"},{label:"Spring 2025",icon:gt,description:"Starting Spring 2025",value:"spring_2025"},{label:"Summer 2025",icon:gt,description:"Starting Summer 2025",value:"summer_2025"},{label:"Fall 2025",icon:gt,description:"Starting Fall 2025",value:"fall_2025"},{label:"Spring 2026",icon:gt,description:"Starting Spring 2026",value:"spring_2026"},{label:"Summer 2026",icon:gt,description:"Starting Summer 2026",value:"summer_2026"},{label:"Fall 2026",icon:gt,description:"Starting Fall 2026",value:"fall_2026"}]},{id:"graduation_date",title:t=>t.currentSituation==="current"?"Confirm your graduation date":"When do you expect to graduate?",subtitle:"Help us plan your academic journey",type:"date",field:"graduationDate",conditional:t=>["undergraduate","graduate"].includes(t.academicLevel)},{id:"essentials",title:"What essentials do you need?",subtitle:"Help us prepare everything you need for your new life",type:"multi_selection",field:"essentials",conditional:t=>["undergraduate","graduate","alumni"].includes(t.academicLevel),options:[{label:"SIM Card",icon:Gh,description:"US phone number and data plan",value:"sim_card",category:"communication"},{label:"Banking",icon:uK,description:"US bank account and debit card",value:"banking",category:"financial"},{label:"Cookware",icon:Ju,description:"Kitchen essentials and cooking supplies",value:"cookware",category:"home"},{label:"Transportation",icon:qc,description:"Public transit pass or bike",value:"transportation",category:"mobility"},{label:"Bedding",icon:Ju,description:"Sheets, pillows, and comfort items",value:"bedding",category:"home"},{label:"Electronics",icon:Gh,description:"Laptop accessories and adapters",value:"electronics",category:"tech"},{label:"Clothing",icon:Ju,description:"Weather-appropriate clothing",value:"clothing",category:"personal"},{label:"Study Materials",icon:bc,description:"Textbooks and school supplies",value:"study_materials",category:"academic"}]},{id:"us_entry_date",title:t=>t.currentSituation==="incoming"?"When will you arrive in the US?":"When did you first arrive in the US?",subtitle:"This helps us provide relevant resources",type:"date",field:"usEntryDate",conditional:t=>["undergraduate","graduate","alumni"].includes(t.academicLevel)},{id:"visa_status",title:"What's your visa/status?",subtitle:"This helps us provide relevant resources",type:"selection",field:"visaStatus",options:[{label:"F1 Student Visa",icon:bc,description:"International student",value:"F1",category:"international"},{label:"CPT (F-1)",icon:Xk,description:"Curricular Practical Training",value:"CPT",category:"international"},{label:"OPT / STEM-OPT (F-1)",icon:Xk,description:"Post-completion OPT or STEM-OPT",value:"OPT_STEM",category:"international"},{label:"H1B Work Visa",icon:Mg,description:"Professional worker",value:"H1B",category:"professional"},{label:"US Citizen/Green Card",icon:Qk,description:"US citizen or permanent resident",value:"citizen",category:"domestic"}]},{id:"location",title:"Where are you located?",subtitle:"Help us find the best local options",type:"text",field:"city",placeholder:"Enter your current city"},{id:"budget",title:"What's your monthly budget?",subtitle:"This helps us find the best options for you",type:"budget",field:"budget_range"},{id:"housing_needs",title:"What are your housing needs?",subtitle:"Choose what fits your situation",type:"selection",field:"housingNeeds",options:[{label:"On-campus",icon:Mg,description:"University housing"},{label:"Off-campus",icon:Zk,description:"Private apartments/houses"},{label:"Sublet",icon:LT,description:"Temporary housing"},{label:"Need roommate",icon:Lg,description:"Looking for roommate"},{label:"Have roommate",icon:js,description:"Already have someone"},{label:"Undecided",icon:oK,description:"I need help deciding"}]},{id:"focus",title:"Where should we start?",subtitle:"Choose what you want to see first (you can select multiple)",type:"multi_selection",field:"focus",options:[{label:"Housing",icon:Zk,description:"Find places near campus",value:"Housing"},{label:"Roommate",icon:Lg,description:"Compatibility-based matches",value:"Roommate"},{label:"Essentials",icon:UK,description:"SIM, bank, bedding & more",value:"Essentials"},{label:"Community",icon:CK,description:"Clubs, events, groups",value:"Community"},{label:"Everything",icon:t5,description:"Show me all the things",value:"Everything"}]},{id:"completion",title:"You're all set! ",subtitle:"Welcome to the NewRun community",type:"completion"}],jS=()=>({academicLevel:null,visaStatus:null,currentSituation:null,usStatus:null,usEntryDate:"",university:"",major:"",intake:"",graduationDate:"",graduationSemester:"",graduationYear:"",essentials:[],birthday:"",moveDate:"",city:"",budget_range:{min:null,max:null},housingNeeds:null,focus:[],currentStepId:null,completed:!1,startedAt:new Date().toISOString(),completedAt:null});function jse(){const t=dt(),[e,n]=p.useState(0),[s,i]=p.useState(()=>{try{const K=localStorage.getItem("nr_onboarding");if(K){const B=JSON.parse(K);if(B.visaStatus==="CPT_OPT"&&(B.visaStatus="OPT_STEM"),B.completed){const U=new URLSearchParams(window.location.search).get("from")||"/dashboard";return setTimeout(()=>t(U,{replace:!0}),100),B}return B}return jS()}catch{return jS()}}),[a,o]=p.useState(!1),[l,c]=p.useState(!0),[d,u]=p.useState([]),[h,m]=p.useState([]),f=p.useCallback(()=>{var V;if((V=window.matchMedia)!=null&&V.call(window,"(prefers-reduced-motion: reduce)").matches)return;const K=Date.now()+3*1e3,B=["#a786ff","#fd8bbc","#eca184","#f8deb1","#4ecdc4","#45b7d1","#96ceb4","#feca57"],U=()=>{Date.now()>K||(bS({particleCount:2,angle:60,spread:55,startVelocity:60,origin:{x:0,y:.5},colors:B}),bS({particleCount:2,angle:120,spread:55,startVelocity:60,origin:{x:1,y:.5},colors:B}),requestAnimationFrame(U))};U()},[]);p.useEffect(()=>{localStorage.setItem("nr_onboarding",JSON.stringify(s))},[s]),p.useEffect(()=>{i(K=>({...K,currentStep:e}))},[e]),p.useEffect(()=>{s.currentStep&&s.currentStep<px.length&&!s.completed&&n(s.currentStep)},[s.currentStep,s.completed]),p.useEffect(()=>{(async()=>{try{c(!0);const B=W0();if(!B){console.log(" No authentication token found for completion check"),c(!1);return}const U=localStorage.getItem("debug_mode")==="true",V=new URLSearchParams(window.location.search).get("force")==="true";if(U||V){console.log(" Debug mode enabled - allowing onboarding access"),c(!1);return}const X=await fetch("https://api.newrun.club/onboarding-data",{headers:{Authorization:`Bearer ${B}`,"Content-Type":"application/json"}});if(X.ok){const oe=await X.json();if(oe.onboardingData&&oe.onboardingData.completed){const ne=new URLSearchParams(window.location.search).get("from")||"/dashboard";t(ne,{replace:!0});return}}}catch(B){console.error("Error checking onboarding status:",B)}finally{c(!1)}})()},[t]);const x=p.useCallback(K=>K.conditional?K.conditional(s):!0,[s]),g=p.useMemo(()=>px.filter(K=>x(K)),[x]);p.useEffect(()=>{if(s.currentStepId){const K=g.findIndex(B=>B.id===s.currentStepId);K>=0&&n(K)}},[s.currentStepId,g]);const y=((K,B)=>Math.max(0,Math.min(K,B.length-1)))(e,g),v=g[y]||px[0],w=g.findIndex(K=>K.id===v.id),N=g.length,j=Math.max(0,N-2),k=Math.max(0,w-1),P=w<=0?"Welcome":w===N-1?"Complete":j===0?"Getting started":`Step ${Math.min(k,j)} of ${j}`,S=w<=0?0:Math.round(k/Math.max(1,j)*100),E=w===0,T=w===N-1;p.useEffect(()=>{if(T){const K=setTimeout(f,300);return()=>clearTimeout(K)}},[T,f]);const W=K=>{switch(K){case"Housing":return"We'll show you verified housing options near your campus. Browse properties, schedule viewings, and find your perfect place!";case"Roommate":return"Take our compatibility quiz to find your ideal roommate. We'll match you with students who share your lifestyle and preferences.";case"Essentials":return"Browse our marketplace for everything you need. From SIM cards to bedding, we've got your essentials covered with student-friendly prices.";case"Community":return"Connect with your campus community! Join clubs, attend events, and meet students who share your interests.";case"Everything":return"We'll guide you through everything step by step. From housing to roommates to essentials, we've got your entire journey covered.";default:return"We'll personalize your experience based on your needs. Explore our features and let us know how we can help!"}},F=p.useCallback(()=>{var K,B;if(!v||v.conditional&&!v.conditional(s))return!0;switch(v.id){case"university":case"major":return["undergraduate","graduate","alumni"].includes(s.academicLevel)&&!!((K=s[v.field])!=null&&K.trim());case"intake":return["undergraduate","graduate","alumni"].includes(s.academicLevel)&&!!s[v.field];case"essentials":return["undergraduate","graduate","alumni"].includes(s.academicLevel)&&Array.isArray(s[v.field])&&s[v.field].length>0;case"us_status":return!!s.usStatus;case"us_entry_date":{const G=s.usEntryDate&&new Date(s.usEntryDate);if(!G||Number.isNaN(G.getTime()))return!1;const X=new Date;return X.setHours(0,0,0,0),s.currentSituation==="incoming"?G>=X:G<=X}case"budget":const{min:U,max:V}=s.budget_range||{};return Number.isFinite(+U)&&Number.isFinite(+V)&&+U>=0&&+V>=+U;default:switch(v.type){case"welcome":return!0;case"selection":return s[v.field]!=null;case"date":return!!s[v.field];case"text":return!!((B=s[v.field])!=null&&B.trim());case"budget":return s.budget_range.min!==null&&s.budget_range.max!==null;case"boolean":return s[v.field]!==null;case"multi-select":case"multi_selection":return Array.isArray(s[v.field])&&s[v.field].length>0;case"completion":return!0;default:return!0}}},[s,v]),D=p.useCallback(async()=>{var K,B;if(!a){o(!0);try{const U={...s,completed:!0,completedAt:new Date().toISOString()};i(U),localStorage.setItem("nr_onboarding",JSON.stringify(U));try{const X=(()=>{if(!s.usEntryDate)return null;const fe=new Date(s.usEntryDate);if(Number.isNaN(fe.getTime()))return null;const ce=String(fe.getMonth()+1).padStart(2,"0"),de=String(fe.getDate()).padStart(2,"0");return`${ce}-${de}`})(),oe={birthday:s.birthday?new Date(s.birthday):null,academicLevel:s.academicLevel,university:s.university||"",major:s.major||"",intake:s.intake||null,graduationDate:s.graduationDate?new Date(s.graduationDate):null,currentSituation:s.currentSituation,usStatus:s.usStatus||null,usEntryDate:s.usEntryDate?new Date(s.usEntryDate):null,visaStatus:s.visaStatus,city:s.city||"",budgetRange:{min:(K=s.budget_range)!=null&&K.min?parseInt(s.budget_range.min):null,max:(B=s.budget_range)!=null&&B.max?parseInt(s.budget_range.max):null},housingNeeds:s.housingNeeds||"Undecided",essentials:s.essentials||[],focus:s.focus||["Everything"],arrivalAnniversaryMMDD:X,completed:!0,completedAt:new Date},ne=W0();if(console.log(" ONBOARDING COMPLETION - Sending data to backend"),console.log(" Token present:",!!ne),console.log(" Onboarding payload:",JSON.stringify(oe,null,2)),!ne){console.error(" No authentication token found! Cannot save onboarding data.");return}const Z=await fetch("https://api.newrun.club/save-onboarding",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ne}`},body:JSON.stringify({onboardingData:oe})});if(console.log(" Response status:",Z.status),console.log(" Response ok:",Z.ok),Z.ok){const fe=await Z.json();console.log(" Onboarding data saved successfully:",fe),localStorage.removeItem("nr_onboarding"),localStorage.removeItem("nr_onboarding_focus"),localStorage.removeItem("profileCompleted")}else{const fe=await Z.text();console.error(" Failed to save onboarding data to backend:",fe)}}catch(X){console.error(" Error saving onboarding data:",X)}const V=setTimeout(()=>{try{switch(s.focus){case"Housing":t("/all-properties",{state:{from:"onboarding"}});break;case"Roommate":t("/Synapsematches",{state:{from:"onboarding"}});break;case"Essentials":t("/marketplace",{state:{from:"onboarding",category:"essentials"}});break;case"Community":t("/community",{state:{from:"onboarding"}});break;default:t("/dashboard",{state:{from:"onboarding"}})}}catch(X){console.error("Navigation error:",X),t("/dashboard",{state:{from:"onboarding"}})}},3e3),G=setTimeout(()=>{a&&(console.warn("Onboarding completion timeout, forcing redirect"),t("/dashboard",{state:{from:"onboarding"}}))},1e4);return()=>{clearTimeout(V),clearTimeout(G)}}catch(U){console.error("Error during completion:",U),o(!1)}}},[s,t,a]),A=p.useCallback(()=>{const K=g.findIndex(U=>U.id===v.id),B=g.length-1;if(K>=B)D();else{const U=K+1;n(U),i(V=>({...V,currentStepId:g[U].id})),localStorage.setItem("nr_onboarding",JSON.stringify({...s,currentStepId:g[U].id}))}},[s,g,v,D]),_=p.useCallback(()=>{const K=g.findIndex(B=>B.id===v.id);K>0&&n(K-1)},[g,v]);p.useEffect(()=>{const K=B=>{var oe,ne,H,Z,fe,ce,de,te,le;const U=(((oe=B.target)==null?void 0:oe.tagName)||"").toLowerCase(),V=U==="input"||U==="textarea",G=((H=(ne=B.target)==null?void 0:ne.getAttribute)==null?void 0:H.call(ne,"role"))==="combobox"||((fe=(Z=B.target)==null?void 0:Z.closest)==null?void 0:fe.call(Z,'[role="listbox"]')),X=((de=(ce=B.target)==null?void 0:ce.tagName)==null?void 0:de.toLowerCase())==="button"&&((le=(te=B.target)==null?void 0:te.closest)==null?void 0:le.call(te,'[role="listbox"]'));if(B.key==="Enter"){if(V||G||X)return;v.type==="completion"&&!a?D():(v.type==="welcome"||F())&&A()}};return window.addEventListener("keydown",K),()=>window.removeEventListener("keydown",K)},[v.type,F,A,D,a]);const z=(K,B)=>{i(U=>{const V={...U,[K]:B};if(K==="academicLevel"&&Object.assign(V,{currentSituation:null,university:"",major:"",intake:"",graduationDate:"",usStatus:null,arrivalDate:""}),K==="currentSituation"){if(B!=="incoming"){V.usStatus=null;const G=V.usEntryDate?new Date(V.usEntryDate):null;G&&G>new Date&&(V.usEntryDate="")}B!=="current"&&(V.graduationDate=""),B!=="transfer"&&(V.intake="")}return K==="focus"&&B==="Everything"&&(V.housingSelected=!0,V.roommateSelected=!0,V.essentialsSelected=!0,V.communitySelected=!0),V})},I=(K,B)=>{i(U=>({...U,[K]:U[K].includes(B)?U[K].filter(V=>V!==B):[...U[K],B]}))},M=(K,B)=>{const U=B===""?null:Number(B);i(V=>({...V,budget_range:{...V.budget_range,[K]:U}}))},$=K=>{if(!K.usEntryDate)return"";const B=new Date(K.usEntryDate);if(Number.isNaN(B.getTime()))return"Enter a valid date.";const U=new Date;return U.setHours(0,0,0,0),K.currentSituation==="incoming"&&B<U?"Arrival must be today or in the future.":K.currentSituation!=="incoming"&&B>U?"Arrived date cannot be in the future.":""},O=async K=>{const B=await vse(K);u(B)},L=async K=>{const B=await yse(K);m(B)},Y=()=>{var K,B;switch(v.type){case"welcome":return r.jsxs("div",{className:"text-center",children:[r.jsx(ye.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},className:"text-6xl mb-6",children:""}),r.jsx("p",{className:"text-white/70 text-lg mb-8",children:"We're excited to help you get started with your university journey!"}),r.jsx(ye.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{A()},className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-4 rounded-xl font-semibold text-lg transition-all duration-200 shadow-lg hover:shadow-blue-500/25 cursor-pointer",children:"Let's Get Started! "}),r.jsx("p",{className:"text-white/50 text-sm mt-4",children:"Click the button above or press Enter to begin your setup"})]});case"selection":return v.id==="intake"&&s.academicLevel==="alumni"?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-blue-400 text-base font-semibold mb-4",children:"Semester"}),r.jsxs("select",{value:s.graduationSemester||"",onChange:G=>{const X=G.target.value,oe=s.graduationYear||"",ne=X&&oe?`${X}_${oe}`:"";z("graduationSemester",X),z("intake",ne)},className:"w-full p-4 rounded-xl border-2 border-white/20 bg-black/40 text-white placeholder-white/50 focus:border-blue-500 focus:bg-black/60 transition-all duration-200 hover:border-white/40 hover:bg-black/50",style:{backgroundImage:`url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e")`,backgroundPosition:"right 12px center",backgroundRepeat:"no-repeat",backgroundSize:"16px"},children:[r.jsx("option",{value:"",className:"bg-black text-white",children:"Select semester"}),r.jsx("option",{value:"spring",className:"bg-black text-white",children:"Spring"}),r.jsx("option",{value:"summer",className:"bg-black text-white",children:"Summer"}),r.jsx("option",{value:"fall",className:"bg-black text-white",children:"Fall"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-blue-400 text-base font-semibold mb-4",children:"Year"}),r.jsxs("select",{value:s.graduationYear||"",onChange:G=>{const X=G.target.value,oe=s.graduationSemester||"",ne=oe&&X?`${oe}_${X}`:"";z("graduationYear",X),z("intake",ne)},className:"w-full p-4 rounded-xl border-2 border-white/20 bg-black/40 text-white placeholder-white/50 focus:border-blue-500 focus:bg-black/60 transition-all duration-200 hover:border-white/40 hover:bg-black/50",style:{backgroundImage:`url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e")`,backgroundPosition:"right 12px center",backgroundRepeat:"no-repeat",backgroundSize:"16px"},children:[r.jsx("option",{value:"",className:"bg-black text-white",children:"Select year"}),r.jsx("option",{value:"2020",className:"bg-black text-white",children:"2020"}),r.jsx("option",{value:"2021",className:"bg-black text-white",children:"2021"}),r.jsx("option",{value:"2022",className:"bg-black text-white",children:"2022"}),r.jsx("option",{value:"2023",className:"bg-black text-white",children:"2023"}),r.jsx("option",{value:"2024",className:"bg-black text-white",children:"2024"})]})]})]}),s.intake&&r.jsx("div",{className:"text-center",children:r.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-blue-500/10 border border-blue-500/20",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),r.jsxs("p",{className:"text-white/90 text-sm",children:["Selected: ",r.jsx("span",{className:"text-blue-400 font-medium capitalize",children:s.intake.replace("_"," ")})]})]})})]}):r.jsx("div",{children:r.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:(typeof v.options=="function"?v.options(s):v.options).map(G=>r.jsx(ye.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{const X=G.value||G.label;z(v.field,X),setTimeout(A,300)},className:`p-6 rounded-2xl border-2 transition-all duration-200 text-left ${s[v.field]===(G.value||G.label)?"border-blue-500 bg-blue-500/10 text-white":"border-white/20 hover:border-white/40 hover:bg-white/5 text-white/90"}`,children:r.jsxs("div",{className:"flex items-center gap-4",children:[G.icon&&r.jsx(G.icon,{size:24,className:"text-blue-400"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-lg text-white",children:G.label}),r.jsx("p",{className:"text-white/70 text-sm",children:G.description})]}),s[v.field]===(G.value||G.label)&&r.jsx(js,{size:20,className:"text-green-400"})]})},G.label))})});case"multi_selection":return r.jsxs("div",{children:[r.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:v.options.map(G=>{var oe;const X=(oe=s[v.field])==null?void 0:oe.includes(G.value);return r.jsx(ye.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{const ne=s[v.field]||[];let H;G.value==="Everything"?X?H=[]:H=v.options.filter(Z=>Z.value!=="Everything").map(Z=>Z.value):(H=X?ne.filter(Z=>Z!==G.value):[...ne,G.value],ne.includes("Everything")&&X&&(H=H.filter(Z=>Z!=="Everything"))),z(v.field,H)},className:`p-6 rounded-2xl border-2 transition-all duration-200 text-left ${X?"border-blue-500 bg-blue-500/10 text-white":"border-white/20 hover:border-white/40 hover:bg-white/5 text-white/90"}`,children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"p-3 rounded-xl bg-blue-500/20",children:r.jsx(G.icon,{size:24,className:"text-blue-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-lg mb-1",children:G.label}),r.jsx("p",{className:"text-white/70 text-sm",children:G.description})]}),X&&r.jsx(js,{size:24,className:"text-blue-400"})]})},G.label)})}),r.jsx("div",{className:"mt-6 text-center",children:r.jsxs("button",{onClick:A,disabled:!((K=s[v.field])!=null&&K.length),className:"px-8 py-3 bg-blue-500 text-white rounded-xl font-semibold hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:["Continue (",((B=s[v.field])==null?void 0:B.length)||0," selected)"]})})]});case"date":const U=v.id==="us_entry_date",V=U?$(s):"";return r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx("input",{type:"date",value:s[v.field],onChange:G=>z(v.field,G.target.value),"aria-invalid":!!V,className:`w-full p-4 rounded-xl bg-white/10 border text-white text-center text-lg focus:outline-none ${V?"border-red-500 focus:border-red-500":"border-white/30 focus:border-blue-500"}`}),U&&V&&r.jsx("p",{className:"mt-2 text-sm text-red-400",role:"alert",children:V})]});case"autocomplete":return r.jsx("div",{className:"max-w-md mx-auto",children:v.field==="major"?r.jsx(wse,{value:s[v.field],onChange:G=>z(v.field,G),placeholder:v.placeholder,university:s.university,className:"w-full p-4 rounded-xl bg-white/10 border border-white/30 text-white text-center text-lg focus:outline-none focus:border-blue-500 placeholder-white/50"}):r.jsx("input",{type:"text",value:s[v.field],onChange:G=>z(v.field,G.target.value),placeholder:v.placeholder,className:"w-full p-4 rounded-xl bg-white/10 border border-white/30 text-white text-center text-lg focus:outline-none focus:border-blue-500 placeholder-white/50"})});case"text":return r.jsx("div",{className:"max-w-md mx-auto",children:v.field==="city"?r.jsx(wS,{value:s[v.field],onChange:G=>z(v.field,G),onSearch:O,suggestions:d,placeholder:v.placeholder,className:"w-full p-4 rounded-xl bg-white/10 border border-white/30 text-white text-center text-lg focus:outline-none focus:border-blue-500 placeholder-white/50"}):v.field==="university"?r.jsx(wS,{value:s[v.field],onChange:G=>z(v.field,G),onSearch:L,suggestions:h,placeholder:v.placeholder,className:"w-full p-4 rounded-xl bg-white/10 border border-white/30 text-white text-center text-lg focus:outline-none focus:border-blue-500 placeholder-white/50"}):r.jsx("input",{type:"text",value:s[v.field],onChange:G=>z(v.field,G.target.value),placeholder:v.placeholder,className:"w-full p-4 rounded-xl bg-white/10 border border-white/30 text-white text-center text-lg focus:outline-none focus:border-blue-500 placeholder-white/50"})});case"budget":return r.jsxs("div",{className:"max-w-md mx-auto space-y-4",children:[r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{className:"block text-white text-sm mb-2 font-medium",children:"Min Budget"}),r.jsx("input",{type:"number",value:s.budget_range.min,onChange:G=>M("min",G.target.value),placeholder:"0",className:"w-full p-3 rounded-lg bg-white/10 border border-white/30 text-white text-center focus:outline-none focus:border-blue-500 placeholder-white/50"})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{className:"block text-white text-sm mb-2 font-medium",children:"Max Budget"}),r.jsx("input",{type:"number",value:s.budget_range.max,onChange:G=>M("max",G.target.value),placeholder:"1000",className:"w-full p-3 rounded-lg bg-white/10 border border-white/30 text-white text-center focus:outline-none focus:border-blue-500 placeholder-white/50"})]})]}),r.jsx("p",{className:"text-white/60 text-sm text-center",children:"Per month in your local currency"})]});case"boolean":return r.jsxs("div",{className:"flex gap-6 justify-center",children:[r.jsx(ye.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{z(v.field,!0),setTimeout(A,300)},className:`px-8 py-4 rounded-xl font-semibold transition-all ${s[v.field]===!0?"bg-green-600 text-white":"bg-white/10 text-white/70 hover:bg-white/20"}`,children:"Yes"}),r.jsx(ye.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{z(v.field,!1),setTimeout(A,300)},className:`px-8 py-4 rounded-xl font-semibold transition-all ${s[v.field]===!1?"bg-red-600 text-white":"bg-white/10 text-white/70 hover:bg-white/20"}`,children:"No"})]});case"multi-select":return r.jsx("div",{className:"grid gap-3",children:v.options.map(G=>r.jsx(ye.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>I(v.field,G.value),className:`p-4 rounded-xl border-2 transition-all duration-200 text-left ${s[v.field].includes(G.value)?"border-blue-500 bg-blue-500/10 text-white":"border-white/20 hover:border-white/40 hover:bg-white/5 text-white/90"}`,children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center ${s[v.field].includes(G.value)?"border-blue-500 bg-blue-500":"border-white/40"}`,children:s[v.field].includes(G.value)&&r.jsx(js,{size:16,className:"text-white"})}),r.jsx("span",{className:"font-medium text-white",children:G.label})]})},G.value))});case"completion":return r.jsxs("div",{className:"text-center",children:[r.jsx(ye.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{duration:.8,delay:.2,type:"spring",bounce:.6},className:"relative mb-8",children:r.jsx(ye.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.6,delay:.8},className:"w-24 h-24 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center shadow-2xl mx-auto",children:r.jsx(js,{size:48,className:"text-white"})})}),r.jsx("h2",{className:"text-3xl font-bold mb-4 text-white",children:"Welcome to NewRun!"}),r.jsx("p",{className:"text-white/80 text-lg mb-8",children:"Your profile is complete. Let's get started with your personalized experience!"}),r.jsxs("div",{className:"bg-white/5 rounded-xl p-6 mb-8 border border-white/10",children:[r.jsx("h3",{className:"text-xl font-semibold mb-3 text-white",children:"What's Next?"}),r.jsx("p",{className:"text-white/70 text-sm mb-4",children:W(s.focus)}),a&&r.jsxs("div",{className:"flex items-center justify-center gap-2 text-blue-400 text-sm",children:[r.jsx("div",{className:"w-4 h-4 border-2 border-blue-400 border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Setting up your experience..."})]})]}),r.jsx(ye.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:D,disabled:a,className:`flex items-center gap-2 px-8 py-4 rounded-xl font-semibold transition-all mx-auto ${a?"opacity-50 cursor-not-allowed bg-gray-600":"bg-blue-600 text-white hover:bg-blue-700"}`,children:a?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Setting up..."]}):r.jsxs(r.Fragment,{children:["Continue to NewRun",r.jsx(qc,{size:20})]})})]});default:return null}};return l?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-800 flex items-center justify-center p-6",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-white/70 text-sm",children:"Checking onboarding status..."})]})}):r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-800 flex items-center justify-center p-6",children:r.jsxs("div",{className:"w-full max-w-2xl",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex justify-between text-sm text-white/60 mb-2",children:[r.jsx("span",{children:P}),r.jsxs("span",{children:[S,"%"]})]}),r.jsx("div",{className:"w-full bg-white/10 rounded-full h-2",children:r.jsx(ye.div,{className:"bg-blue-500 h-2 rounded-full",initial:{width:0},animate:{width:`${S}%`},transition:{duration:.3}})})]}),r.jsxs(ye.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"bg-white/5 backdrop-blur-sm border border-white/10 rounded-3xl p-8 md:p-10",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4 text-white",children:typeof v.title=="function"?v.title(s):v.title}),r.jsx("p",{className:"text-white/80 text-lg",children:typeof v.subtitle=="function"?v.subtitle(s):v.subtitle})]}),r.jsx("div",{className:"mb-8",children:Y()}),v.type!=="welcome"&&v.type!=="completion"&&r.jsxs("div",{className:"flex justify-between",children:[r.jsxs(ye.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:_,disabled:E,className:`flex items-center gap-2 px-6 py-3 rounded-xl font-semibold transition-all ${E?"opacity-50 cursor-not-allowed":"bg-white/10 text-white hover:bg-white/20"}`,children:[r.jsx(Oi,{size:20}),"Back"]}),r.jsxs(ye.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:A,disabled:!F(),className:`flex items-center gap-2 px-6 py-3 rounded-xl font-semibold transition-all ${F()?"bg-blue-600 text-white hover:bg-blue-700":"opacity-50 cursor-not-allowed bg-gray-600"}`,children:[T?"Complete":"Next",r.jsx(qc,{size:20})]})]}),v.type==="text"&&!bse.has(v.id)&&r.jsx("div",{className:"text-center mt-4",children:r.jsx("button",{onClick:A,className:"text-white/60 hover:text-white/80 text-sm underline",children:"Skip this step"})})]},v.id)]})})}function Nse(){const[t,e]=p.useState([]),[n,s]=p.useState("pending"),[i,a]=p.useState(!0),o=async(c=n)=>{var d;a(!0);try{const u=await ge.get(`/contact-access/inbox?status=${c}`);e(((d=u.data)==null?void 0:d.items)||[])}catch(u){console.error(u)}finally{a(!1)}};p.useEffect(()=>{o()},[n]),p.useEffect(()=>{let c;return(async()=>{var f;const{io:d}=await qm(async()=>{const{io:x}=await Promise.resolve().then(()=>dw);return{io:x}},void 0);c=d("http://localhost:8000",{transports:["websocket"],withCredentials:!0});const h=localStorage.getItem("user"),m=h?(f=JSON.parse(h))==null?void 0:f._id:null;m&&c.emit("registerUser",m),c.on("contact_request:new",()=>{n==="pending"&&o("pending")}),c.on("contact_request:updated",()=>{o(n)})})(),()=>{c&&c.disconnect()}},[n]);const l=async(c,d)=>{try{await ge.post(`/contact-access/${c}/${d}`),o(n)}catch(u){console.error(u)}};return r.jsxs("div",{className:"min-h-screen bg-[#0b0c0f] text-white",children:[r.jsx(ct,{}),r.jsxs("div",{className:"mx-auto max-w-5xl px-4 py-8",children:[r.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[r.jsx("h1",{className:"text-2xl font-semibold",children:"Contact requests"}),r.jsx("div",{className:"ml-auto flex items-center gap-2",children:["pending","approved","denied"].map(c=>r.jsx("button",{onClick:()=>s(c),className:`rounded-md px-3 py-1.5 text-sm ${n===c?"bg-white/20":"bg-white/10 hover:bg-white/15"}`,children:c},c))})]}),i?r.jsx("div",{className:"text-white/70",children:"Loading"}):t.length===0?r.jsxs("div",{className:"text-white/60",children:["No ",n," requests."]}):r.jsx("div",{className:"space-y-3",children:t.map(c=>{var d,u,h,m;return r.jsx("div",{className:"rounded-xl border border-white/10 p-4 bg-white/[0.03]",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium",children:((d=c==null?void 0:c.propertyId)==null?void 0:d.title)||"Property"}),r.jsxs("div",{className:"text-sm text-white/70",children:["From: ",(u=c==null?void 0:c.requesterId)==null?void 0:u.firstName," ",(h=c==null?void 0:c.requesterId)==null?void 0:h.lastName," (",(m=c==null?void 0:c.requesterId)==null?void 0:m.email,")"]}),r.jsxs("div",{className:"text-xs text-white/50",children:["Requested ",new Date(c.createdAt).toLocaleString()]})]}),n==="pending"?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{className:"rounded-lg bg-emerald-500 px-3 py-1.5 text-sm font-semibold text-white hover:bg-emerald-600",onClick:()=>l(c._id,"approve"),children:"Approve"}),r.jsx("button",{className:"rounded-lg bg-rose-500 px-3 py-1.5 text-sm font-semibold text-white hover:bg-rose-600",onClick:()=>l(c._id,"deny"),children:"Deny"})]}):r.jsxs("div",{className:"text-sm text-white/70",children:["Status: ",c.status,c.status==="approved"&&(c.phone||c.email)?r.jsxs("span",{className:"ml-2",children:[" shared: ",c.phone||""," ",c.email?` ${c.email}`:""]}):null]})]})},c._id)})})]})]})}const kse="radial-gradient(farthest-side circle at var(--pointer-x) var(--pointer-y),hsla(266,100%,90%,var(--card-opacity)) 4%,hsla(266,50%,80%,calc(var(--card-opacity)*0.75)) 10%,hsla(266,25%,70%,calc(var(--card-opacity)*0.5)) 50%,hsla(266,0%,60%,0) 100%),radial-gradient(35% 52% at 55% 20%,#00ffaa64 0%,#073aff00 100%),radial-gradient(100% 100% at 50% 50%,#00c1ff64 1%,#073aff00 76%)",Sse="linear-gradient(145deg,#60496e4c 0%,#71C4FF22 100%)",lc={SMOOTH_DURATION:600,INITIAL_DURATION:1500,INITIAL_X_OFFSET:70,INITIAL_Y_OFFSET:60,DEVICE_BETA_OFFSET:20},ph=(t,e=0,n=100)=>Math.min(Math.max(t,e),n),Zv=(t,e=3)=>parseFloat(t.toFixed(e)),mh=(t,e,n,s,i)=>Zv(s+(i-s)*(t-e)/(n-e)),Cse=t=>t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2,Pse=({avatarUrl:t="<Placeholder for avatar URL>",iconUrl:e="<Placeholder for icon URL>",grainUrl:n="<Placeholder for grain URL>",behindGradient:s,innerGradient:i,showBehindGradient:a=!0,className:o="",enableTilt:l=!0,enableMobileTilt:c=!1,mobileTiltSensitivity:d=5,miniAvatarUrl:u,name:h="Javi A. Torres",title:m="Software Engineer",handle:f="javicodes",status:x="Online",contactText:g="Contact",showUserInfo:b=!0,onContactClick:y,children:v})=>{const w=p.useRef(null),N=p.useRef(null),j=p.useMemo(()=>{if(!l)return null;let F=null;const D=(_,z,I,M)=>{const $=I.clientWidth,O=I.clientHeight,L=ph(100/$*_),Y=ph(100/O*z),K=L-50,B=Y-50,U={"--pointer-x":`${L}%`,"--pointer-y":`${Y}%`,"--background-x":`${mh(L,0,100,35,65)}%`,"--background-y":`${mh(Y,0,100,35,65)}%`,"--pointer-from-center":`${ph(Math.hypot(Y-50,L-50)/50,0,1)}`,"--pointer-from-top":`${Y/100}`,"--pointer-from-left":`${L/100}`,"--rotate-x":`${Zv(-(K/5))}deg`,"--rotate-y":`${Zv(B/4)}deg`};Object.entries(U).forEach(([V,G])=>{M.style.setProperty(V,G)})};return{updateCardTransform:D,createSmoothAnimation:(_,z,I,M,$)=>{const O=performance.now(),L=$.clientWidth/2,Y=$.clientHeight/2,K=B=>{const U=B-O,V=ph(U/_),G=Cse(V),X=mh(G,0,1,z,L),oe=mh(G,0,1,I,Y);D(X,oe,M,$),V<1&&(F=requestAnimationFrame(K))};F=requestAnimationFrame(K)},cancelAnimation:()=>{F&&(cancelAnimationFrame(F),F=null)}}},[l]),k=p.useCallback(F=>{const D=N.current,A=w.current;if(!D||!A||!j)return;const _=D.getBoundingClientRect();j.updateCardTransform(F.clientX-_.left,F.clientY-_.top,D,A)},[j]),P=p.useCallback(()=>{const F=N.current,D=w.current;!F||!D||!j||(j.cancelAnimation(),D.classList.add("active"),F.classList.add("active"))},[j]),S=p.useCallback(F=>{const D=N.current,A=w.current;!D||!A||!j||(j.createSmoothAnimation(lc.SMOOTH_DURATION,F.offsetX,F.offsetY,D,A),A.classList.remove("active"),D.classList.remove("active"))},[j]),E=p.useCallback(F=>{const D=N.current,A=w.current;if(!D||!A||!j)return;const{beta:_,gamma:z}=F;!_||!z||j.updateCardTransform(D.clientHeight/2+z*d,D.clientWidth/2+(_-lc.DEVICE_BETA_OFFSET)*d,D,A)},[j,d]);p.useEffect(()=>{if(!l||!j)return;const F=N.current,D=w.current;if(!F||!D)return;const A=k,_=P,z=S,I=E,M=()=>{!c||location.protocol!=="https:"||(typeof window.DeviceMotionEvent.requestPermission=="function"?window.DeviceMotionEvent.requestPermission().then(L=>{L==="granted"&&window.addEventListener("deviceorientation",I)}).catch(L=>console.error(L)):window.addEventListener("deviceorientation",I))};F.addEventListener("pointerenter",_),F.addEventListener("pointermove",A),F.addEventListener("pointerleave",z),F.addEventListener("click",M);const $=D.clientWidth-lc.INITIAL_X_OFFSET,O=lc.INITIAL_Y_OFFSET;return j.updateCardTransform($,O,F,D),j.createSmoothAnimation(lc.INITIAL_DURATION,$,O,F,D),()=>{F.removeEventListener("pointerenter",_),F.removeEventListener("pointermove",A),F.removeEventListener("pointerleave",z),F.removeEventListener("click",M),window.removeEventListener("deviceorientation",I),j.cancelAnimation()}},[l,c,j,k,P,S,E]);const T=p.useMemo(()=>({"--icon":e?`url(${e})`:"none","--grain":n?`url(${n})`:"none","--behind-gradient":a?s??kse:"none","--inner-gradient":i??Sse}),[e,n,a,s,i]),W=p.useCallback(F=>{y==null||y(F)},[y]);return r.jsx("div",{ref:w,className:`pc-card-wrapper ${o}`.trim(),style:T,children:r.jsx("section",{ref:N,className:"pc-card",children:r.jsxs("div",{className:"pc-inside",children:[r.jsx("div",{className:"pc-shine"}),r.jsx("div",{className:"pc-glare"}),r.jsxs("div",{className:"pc-content pc-avatar-content",children:[r.jsx("img",{className:"avatar",src:t,alt:`${h||"User"} avatar`,loading:"lazy",onError:F=>{const D=F.target;D.style.display="none"}}),b&&r.jsxs("div",{className:"pc-user-info",children:[r.jsxs("div",{className:"pc-user-details",children:[r.jsx("div",{className:"pc-mini-avatar",children:r.jsx("img",{src:u||t,alt:`${h||"User"} mini avatar`,loading:"lazy",onError:F=>{const D=F.target;D.style.opacity="0.5",D.src=t}})}),r.jsxs("div",{className:"pc-user-text",children:[r.jsxs("div",{className:"pc-handle",children:["@",f]}),r.jsx("div",{className:"pc-status",children:x})]})]}),r.jsx("button",{className:"pc-contact-btn",onClick:W,style:{pointerEvents:"auto"},type:"button","aria-label":`Contact ${h||"user"}`,children:g})]})]}),r.jsx("div",{className:"pc-overlay-slot",children:v}),r.jsx("div",{className:"pc-content",children:r.jsxs("div",{className:"pc-details",children:[r.jsx("h3",{children:h}),r.jsx("p",{children:m})]})})]})})})},Ese=Fe.memo(Pse),H6="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEqUlEQVR4nO2Z20+aZxzH3/ZiHmACShFQDjarnduF+wOWmEjVeqoKyFFRwHTJbvYnkIjDQ1cQFZSqYFtbrIebJo12m96ZLNnabBfatOnU9GKRddU168WatfkuD7Or1sPLC7zYC77Jc/1+vg+/53l+vy8UlVZaaSVdirC1Wh5uW5CF27cLw5Zt2U3LQsGkpZp636UI20vkt6x35FPtkIfbIQu3QXbTgsIbFhROtkJ63bwonTR9dtycVOG0Pbdo1t6jnLE9UMzYnyunbVBMW6G4ZcVh8AXXW/5b18yQXjVDOmGCJGR4LgkaV8VBQ7fcbxKkBP709EV50VzHhnLWDuWMHXHDTxghCRkhDhogHjdANKpblwb1MnbpHY6Tyjn7crLh88f0yB/TQTTavEy+wRp/0WyHnT14HURXmiEMaGyswBffvihUzNgibMKLAloIA9qIJGAUJo8c1AnlXIdFMWPbZBv+FFkjGgj96mdCn/qrhMuJHFh2a163H344agB5vibkDTUtC3wNsvivShZum5jhfU3IHWpE7mDjGs9fy/yKLZrr6H0P4CEYaIBg4IKLsQHySKUEflgDoU8N4Q74AfDg99evxGHA/oJ1eL8aEo8aX9zuw2mvHnmDjfvgBd4L4Hnq/mJsQDFte8k2vNjdhPlHP4Do0R9PcHbQjFxvwx54fn89+O66v+MwYH3F6s671fju8Y/Yrfu/PQS/t2YvvKcOPHfdP4zglVPW0lTDvzVQ/S48eO5a8C/Xlsa++1PWb2nhr5ogDZogDcVfNrv18OkTFHsNEHjq98HnXK7Fh5eql2IfRujgQyZ8PNaOL+fdkI0YIBk3JLTzq5F1fNSvPxQ+55saYoAs+qGITFJ08J+O2bD6dCP68aWN+5D5dBCP6lnZ+Zy38OD2nV+gNUDGwKNqXuxvxi+bj/dAfL/2EwoGm5FPoNnZeXD7zoPTW/UnrYGdGfbQAyv2afHzOwbemJAOaCEa0bICz+2tAqencov+F7jROn/kbTNuwCej7f+X0G4trd1DgVcTfV2TWDYg8NyeKnC6K+ZpDZD0gPaqHNOjJNB2oInFtXuQ9mtYgK9Edk9FbMlGwbWWu7T3/BUdSgKWA02QkklW2XDfwLsqF2OC3zFQGtMjFWjGWX8rVn9f3webzJ3nEAPdlbE/ZETSCfOrmF7YYQ2KfS1YOcJEwvCuCmatBJEkZHrJ5IUtHjJjJbLOBjyyu1TMmzlJyPCC0TAy1IQzA8Y9JpIC//U5ZHWdY95Oi4OGB4wnqcFGnPEao00ZWfEeWM5eeGR1qpgPNCTui2sM9DZEW+JoV5kMeKcKGU5VF2MDJKskcV+cM+yBLXE88JnO8l953Z/Hl5uSrJLEfccFn9GpWs5ylBVSCQnUiVPDWotwRLOZKvhMZ/mzDzrLEw+2dovEfXnDmkgK4CNcR1kSo8VdEvrU9hSUjY1iTQ7HSRL3sVnzFJvxOhHJKkncx8Ztk5XwgY1RJKskcR9JzPie+i2+p/Y1c3jV60ynaos8UhnOchfPUcanjltcT01JzqWaO0e1xNldFcf/Jx+dSHpABnBOT9U2p7tqm+OqXIh5GEkrrbQoJvoXZTdWgBhNh8sAAAAASUVORK5CYII=",NS={"northern illinois university":"niu.edu"},np=new Map;function pw(t=""){return String(t||"").trim().toLowerCase()}function _se(t=""){const e=pw(t);if(!e)return"";if(NS[e])return NS[e];const n=e.replace(/[^a-z0-9]+/g,"");return n?`${n}.edu`:""}function Mse(t){return t?`https://logo.clearbit.com/${t}`:""}const Qv="nr:uniLogo:";function Jv(t){const e=pw(t);if(!e)return"";const n=np.get(e);if(n)return n;try{const i=localStorage.getItem(Qv+e);if(i)return np.set(e,i),i}catch{}const s=Mse(_se(t));return s&&np.set(e,s),s}function Tse(t){const e=pw(t);if(!e)return;const n=Jv(t);if(!n)return;try{if(localStorage.getItem(Qv+e))return}catch{}const s=new Image;s.referrerPolicy="no-referrer",s.onload=()=>{try{localStorage.setItem(Qv+e,n)}catch{}np.set(e,n)},s.onerror=()=>{},s.src=n}const Lse=({full:t="",firstName:e="",lastName:n=""}={})=>{const s=l=>String(l).trim().split(/\s+/).filter(Boolean),i=s(e),a=s(n);if(i.length||a.length){if(i.length>=2)return`${i[0]} ${i[1]}`.trim();if(i.length===1&&a.length>=2)return`${i[0]} ${a[a.length-1]}`.trim();const l=i[0]||"",c=a[a.length-1]||"";return`${l} ${c}`.trim()||(t||"").trim()}const o=s(t);return o.length<=2?o.join(" ").trim():`${o[0]} ${o[1]}`.trim()},Ase=t=>{try{const e=Date.now()-new Date(t).getTime(),n=Math.floor(e/6e4);if(n<1)return"just now";if(n<60)return`${n}m ago`;const s=Math.floor(n/60);return s<24?`${s}h ago`:`${Math.floor(s/24)}d ago`}catch{return"recently"}},Ise=({item:t,onOpen:e,onMessage:n,className:s="",hideOverlays:i=!1})=>{var f;const a=Lse({full:t.name,firstName:t.firstName,lastName:t.lastName}),o=typeof t.budget=="number",l=o?`$${t.budget}/month`:"Budget not specified",c=a.toLowerCase().replace(/\s+/g,""),d=t.lastActive?Ase(t.lastActive):"Recently active",u=t.university?`${t.university}  ${l}`:l;p.useEffect(()=>{t.university&&Tse(t.university)},[t.university]);const h=x=>{var v;x&&(x.preventDefault(),x.stopPropagation(),x.nativeEvent&&x.nativeEvent.stopImmediatePropagation());const g=((v=t.reasons)==null?void 0:v.slice(0,3).map(w=>w.text).join(", "))||"We have compatible preferences",b=`Hi ${a}!  

I found you through NewRun's roommate matching and we have a ${Math.round(t.matchScore||0)}% compatibility score! 

Here's why I think we'd be great roommates:
 ${g}

${t.university?`I see you're also at ${t.university} - that's awesome!`:""}
${o?`My budget is around $${t.budget}/month.`:""}

Would you be interested in chatting about potentially being roommates? I'd love to learn more about what you're looking for! 

Looking forward to hearing from you! `,y=encodeURIComponent(b).replace(/'/g,"%27");n?n(t.userId,b):window.location.assign(`/messaging?to=${t.userId}&ctx=roommate&message=${y}`)},m=x=>{x.target.closest(".pc-contact-btn")||e&&e(t)};return r.jsx("div",{className:`match-card-wrapper ${s}`,onClick:m,style:{cursor:"pointer"},children:r.jsxs(Ese,{avatarUrl:t.avatarUrl||"",name:a,title:u,handle:c,status:d,contactText:"Message",showUserInfo:!0,onContactClick:h,enableTilt:!0,enableMobileTilt:!1,className:"roommate-match-card",children:[!i&&t.matchScore&&r.jsx("div",{className:"match-score-overlay",children:r.jsx("div",{className:"match-score-ring",style:{"--score":t.matchScore,"--ring-color":`hsl(${Math.round(Math.max(0,Math.min(100,t.matchScore))*1.2)}, 85%, 55%)`},children:r.jsxs("div",{className:"match-score-text",children:[Math.round(t.matchScore),"%"]})})}),!i&&t.matchScore>=85&&r.jsxs("div",{className:"top-match-badge",children:[r.jsx("div",{className:"badge-dot"}),r.jsx("span",{children:"Top Match"})]}),!i&&t.university&&r.jsx("div",{className:"university-badge",children:r.jsx("img",{className:"university-logo-img",src:Jv(t.university),alt:t.university,onError:x=>{x.currentTarget.style.display="none"}})}),!i&&t.university&&r.jsx("img",{"aria-hidden":!0,className:"university-watermark",src:Jv(t.university),alt:"",onError:x=>{x.currentTarget.style.display="none"}}),!i&&((f=t.verified)==null?void 0:f.edu)&&r.jsx("div",{className:"verification-badge",children:r.jsx("img",{src:H6,alt:"Verified",className:"verified-icon"})})]})})};let ym=null;try{const t=typeof navigator<"u"&&navigator.language?[navigator.language]:["en"];ym=new Intl.DisplayNames(t,{type:"language"})}catch{ym=null}let ey=null;try{ey=require("iso-639-1")}catch{}function q6(t){const e=String(t||"").trim().toLowerCase();if(!e)return"";try{const n=ym&&ym.of(e);if(n&&n!==e)return n}catch{}try{if(ey){const n=ey.getName(e);if(n&&n!==e)return n}}catch{}return e}function Ose(t){return(Array.isArray(t)?t:[]).map(q6).filter(Boolean)}function Rse(t){return t?String(t).replace(/\b([a-z]{2,3})(?=[,\s]|$)/gi,e=>q6(e)||e):""}const Dse=56,$se=56,gr=(...t)=>t.filter(Boolean).join(" "),G6=t=>Math.max(0,Math.min(100,Number(t)||0)),Fse=t=>{try{const e=Date.now()-new Date(t).getTime(),n=Math.floor(e/6e4);if(n<1)return"just now";if(n<60)return`${n}m ago`;const s=Math.floor(n/60);return s<24?`${s}h ago`:`${Math.floor(s/24)}d ago`}catch{return"recently"}};function zse({value:t=0,size:e=64,animated:n=!0}){const[s,i]=p.useState(0);p.useEffect(()=>{if(n){const d=setTimeout(()=>i(t),100);return()=>clearTimeout(d)}else i(t)},[t,n]);const o=`hsl(${Math.round(Math.max(0,Math.min(100,s))*1.2)}, 85%, 55%)`,l=s>=80,c=s>=60;return r.jsxs("div",{"aria-label":`Match score ${Math.round(s)}%`,className:"relative shrink-0 rounded-full transition-all duration-500 ease-out",style:{width:e,height:e,backgroundImage:`conic-gradient(${o} ${Math.max(0,Math.min(100,s))*3.6}deg, rgba(255,255,255,0.08) 0deg)`,filter:l?"drop-shadow(0 0 8px rgba(34, 197, 94, 0.3))":c?"drop-shadow(0 0 6px rgba(251, 191, 36, 0.2))":"none"},children:[r.jsx("div",{className:"absolute",style:{inset:4,borderRadius:"9999px",background:"#10131a"}}),r.jsxs("div",{className:"absolute inset-0 flex items-center justify-center text-[12px] font-semibold text-white/90",children:[Math.round(s),"%"]}),l&&r.jsx("div",{className:"absolute -top-1 -right-1 h-3 w-3 rounded-full bg-emerald-400 animate-pulse"})]})}const Bse={"Northern Illinois University":"niu.edu"},Vse=(t="")=>{const e=String(t||"").trim();return e?`https://logo.clearbit.com/${Bse[e]||`${e.toLowerCase().replace(/[^a-z0-9]+/g,"")}.edu`}`:""};function Use({university:t,size:e=56}){if(!t)return null;const n=Vse(t);return n?r.jsx("div",{className:"shrink-0 overflow-hidden rounded-full border border-white/10 bg-transparent",style:{width:e,height:e},title:t,"aria-label":`University: ${t}`,children:r.jsx("img",{src:n,alt:"",className:"h-full w-full rounded-full object-contain",style:{padding:Math.round(e*.06)},onError:s=>{s.currentTarget.style.display="none"}})}):null}function Wse({title:t,defaultOpen:e=!1,children:n}){const[s,i]=Fe.useState(e);return r.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/[0.03]",children:[r.jsxs("button",{onClick:()=>i(a=>!a),className:"flex w-full items-center justify-between px-4 py-3 text-sm font-medium",children:[r.jsx("span",{className:"bg-gradient-to-r from-emerald-300 to-cyan-300 bg-clip-text text-transparent",children:t}),r.jsx("span",{className:"text-white/60",children:s?"Hide":"Show"})]}),s&&r.jsx("div",{className:"border-t border-white/10 px-4 py-3",children:n})]})}function kS({part:t}){const e=t.max?Math.max(0,Math.min(100,t.got/t.max*100)):0,s=`hsl(${Math.round(e*1.2)},85%,55%)`;return r.jsxs("div",{className:"rounded-xl border border-white/10 bg-gradient-to-br from-white/5 to-white/0 px-3 py-2",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("span",{className:"font-medium flex items-center gap-2",children:[r.jsx("span",{className:"inline-block h-2.5 w-2.5 rounded-full",style:{background:s}}),t.label]}),r.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-0.5 text-xs text-white/70",children:[t.got," / ",t.max]})]}),t.note&&r.jsx("div",{className:"mt-0.5 text-xs text-white/60",children:t.note}),r.jsx("div",{className:"mt-2 h-2 w-full overflow-hidden rounded-full bg-white/10",children:r.jsx("div",{className:"h-full rounded-full",style:{width:`${e}%`,background:s}})})]})}const Hse=({full:t="",firstName:e="",lastName:n=""}={})=>{const s=l=>String(l).trim().split(/\s+/).filter(Boolean),i=s(e),a=s(n);if(i.length||a.length){if(i.length>=2)return`${i[0]} ${i[1]}`.trim();if(i.length===1&&a.length>=2)return`${i[0]} ${a[a.length-1]}`.trim();const l=i[0]||"",c=a[a.length-1]||"";return`${l} ${c}`.trim()||(t||"").trim()}const o=s(t);return o.length<=2?o.join(" ").trim():`${o[0]} ${o[1]}`.trim()},fi=t=>Array.isArray(t)?t:[],ty=(t=[],e=[])=>{const n=new Set(e);return t.filter(s=>n.has(s))},qse=(t,e)=>{const n=Number.isFinite(t)?Number(t):3,s=Number.isFinite(e)?Number(e):3;return Math.abs(n-s)<=1};function Gse(t,e){var o,l,c,d,u,h,m,f,x,g,b,y,v,w,N,j;const n=(t==null?void 0:t.synapse)||{},s=e||{},i={primaryLanguage:((o=n==null?void 0:n.culture)==null?void 0:o.primaryLanguage)&&((l=s==null?void 0:s.culture)==null?void 0:l.primaryLanguage)&&n.culture.primaryLanguage===s.culture.primaryLanguage,otherLanguages:ty(fi((c=n==null?void 0:n.culture)==null?void 0:c.otherLanguages),fi((d=s==null?void 0:s.culture)==null?void 0:d.otherLanguages)),commute:ty(fi((u=n==null?void 0:n.logistics)==null?void 0:u.commuteMode),fi((h=s==null?void 0:s.logistics)==null?void 0:h.commuteMode)),sleep:(m=n==null?void 0:n.lifestyle)!=null&&m.sleepPattern&&((f=s==null?void 0:s.lifestyle)!=null&&f.sleepPattern)&&n.lifestyle.sleepPattern===s.lifestyle.sleepPattern?"good":void 0,clean:qse((x=n==null?void 0:n.lifestyle)==null?void 0:x.cleanliness,(g=s==null?void 0:s.lifestyle)==null?void 0:g.cleanliness),petsOk:!!((b=n==null?void 0:n.pets)!=null&&b.okWithPets&&((y=s==null?void 0:s.pets)!=null&&y.okWithPets))},a=[];return i.primaryLanguage&&a.push({type:"positive",text:"Same daily language"}),i.otherLanguages.length&&a.push({type:"positive",text:`Both speak ${i.otherLanguages.join(", ")}`}),(v=i.commute)!=null&&v.length&&a.push({type:"positive",text:`Overlap: ${i.commute.join(" / ")}`}),i.sleep==="good"&&a.push({type:"positive",text:"Similar sleep hours"}),i.clean&&a.push({type:"positive",text:"Clean & tidy"}),(N=(w=t==null?void 0:t.synapse)==null?void 0:w.pets)!=null&&N.okWithPets&&(((j=e==null?void 0:e.pets)==null?void 0:j.okWithPets)??!0)&&a.push({type:"positive",text:"Pets are okay"}),{overlap:i,reasons:a}}const K6=t=>typeof t=="string"?{type:"positive",text:t}:t,ht={langPrimarySame:25,langCrossOK:15,comfortBonus:10,country:10,region:8,city:6,commuteMode:6,sleep:6,cleanlinessNear:8,dietSame:4,smokingSame:3,drinkingSame:3,partiesSame:3,petsCompat:7};function Kse(t={},e={}){var P,S,E,T,W,F;const n=t||{},s=e||{},i=[],a=s.culture||{},o=s.logistics||{},l=s.lifestyle||{},c=s.habits||{},d=s.pets||{},u=n.culture||{},h=n.logistics||{},m=n.lifestyle||{},f=n.habits||{},x=n.pets||{},g=(a.primaryLanguage||"").trim(),b=fi(a.otherLanguages),y=a.languageComfort||"either",v=fi(o.commuteMode),w=Number.isFinite(l.cleanliness)?Number(l.cleanliness):null;if(g&&u.primaryLanguage){const D=u.primaryLanguage===g;i.push({key:"langPrimarySame",label:"Same primary language",got:D?ht.langPrimarySame:0,max:ht.langPrimarySame,note:D?`Both ${g}`:u.primaryLanguage?`You: ${g||""}  Them: ${u.primaryLanguage}`:"Candidate missing primary language"})}if(g){const D=fi(u.otherLanguages).includes(g);i.push({key:"langCrossOK_theirOthers",label:"Language cross-match (your primary in their others)",got:D?ht.langCrossOK:0,max:ht.langCrossOK,note:D?`They also speak ${g}`:""})}if(u.primaryLanguage){const D=b.includes(u.primaryLanguage);i.push({key:"langCrossOK_myOthers",label:"Language cross-match (their primary in your others)",got:D?ht.langCrossOK:0,max:ht.langCrossOK,note:D?`You also speak ${u.primaryLanguage}`:""})}y!=="same"&&i.push({key:"comfortBonus",label:"Language comfort bonus",got:ht.comfortBonus,max:ht.comfortBonus,note:`Comfort: ${y}`});const N=ty(fi(h.commuteMode),v);if(i.push({key:"commuteMode",label:"Commute mode overlap",got:N.length>0?ht.commuteMode:0,max:ht.commuteMode,note:N.length?N.join(" / "):""}),l.sleepPattern&&m.sleepPattern){const D=l.sleepPattern===m.sleepPattern;i.push({key:"sleep",label:"Sleep pattern match",got:D?ht.sleep:0,max:ht.sleep,note:D?l.sleepPattern:`You: ${l.sleepPattern}  Them: ${m.sleepPattern}`})}if(w!==null&&Number.isFinite(m.cleanliness)){const D=Math.abs(Number(m.cleanliness)-w)<=1;i.push({key:"cleanlinessNear",label:"Cleanliness within 1",got:D?ht.cleanlinessNear:0,max:ht.cleanlinessNear,note:`You ${w}  Them ${m.cleanliness}`})}[["dietSame","Diet",ht.dietSame,"diet"],["smokingSame","Smoking",ht.smokingSame,"smoking"],["drinkingSame","Drinking",ht.drinkingSame,"drinking"],["partiesSame","Partying",ht.partiesSame,"partying"]].forEach(([D,A,_,z])=>{if(((c==null?void 0:c[z])??"")!==""&&((f==null?void 0:f[z])??"")!==""){const I=String(c[z])===String(f[z]);i.push({key:D,label:`${A} preference`,got:I?_:0,max:_,note:I?String(c[z]):`You: ${c[z]}  Them: ${f[z]}`})}});const j=(x.okWithPets??!0)===(d.okWithPets??!0);if(i.push({key:"petsCompat",label:"Pets compatibility",got:j?ht.petsCompat:0,max:ht.petsCompat,note:j?"Both OK":""}),(P=a==null?void 0:a.home)!=null&&P.country){const D=(((S=u==null?void 0:u.home)==null?void 0:S.country)||"")===a.home.country;i.push({key:"country",label:"Same country",got:D?ht.country:0,max:ht.country,note:D?a.home.country:""})}if((E=a==null?void 0:a.home)!=null&&E.region){const D=(((T=u==null?void 0:u.home)==null?void 0:T.region)||"")===a.home.region;i.push({key:"region",label:"Same region",got:D?ht.region:0,max:ht.region,note:D?a.home.region:""})}if((W=a==null?void 0:a.home)!=null&&W.city){const D=(((F=u==null?void 0:u.home)==null?void 0:F.city)||"")===a.home.city;i.push({key:"city",label:"Same city",got:D?ht.city:0,max:ht.city,note:D?a.home.city:""})}return{total:i.reduce((D,A)=>D+A.got,0),parts:i}}async function Yse(t,e){var l,c;const[n,s]=await Promise.all([ge.get("/synapse/preferences",{signal:e}),ge.get("/synapse/matches",{params:{scope:t},signal:e})]),i=(n==null?void 0:n.data)||{},a=(i==null?void 0:i.preferences)||{},o=((l=s==null?void 0:s.data)==null?void 0:l.results)||((c=s==null?void 0:s.data)==null?void 0:c.matches)||[];return{prefs:a,raw:o,pData:i}}async function SS(t){try{return await ge.post("/synapse/save",{targetUserId:t}),{ok:!0}}catch(e){return{ok:!1,error:e==null?void 0:e.message}}}async function Xse(t,e){try{return await ge.post("/synapse/hide",{targetUserId:t,reason:e}),{ok:!0}}catch(n){return{ok:!1,error:n==null?void 0:n.message}}}function Zse({firstName:t="",onSkip:e}){const[n,s]=Fe.useState(0),[i,a]=Fe.useState(!1);Fe.useEffect(()=>{const d=setInterval(()=>s(u=>Math.min(u+1,4)),1e3);return()=>clearInterval(d)},[]),Fe.useEffect(()=>{const d=setTimeout(()=>a(!0),100);return()=>clearTimeout(d)},[]);const o=String(t||"").trim(),l=o?`${o}, we've crunched your preferences.`:"We've crunched your preferences.";return r.jsxs("section",{className:"nr-hero-bg nr-hero-starry relative flex min-h-[60vh] items-center overflow-hidden",children:[r.jsxs("div",{className:"absolute inset-0",children:[r.jsx("div",{className:"hero-orb absolute top-1/4 left-1/4 w-32 h-32 bg-gradient-to-r from-orange-500/10 to-cyan-500/10 rounded-full blur-3xl"}),r.jsx("div",{className:"hero-orb absolute bottom-1/4 right-1/4 w-48 h-48 bg-gradient-to-r from-blue-500/10 to-purple-500/10 rounded-full blur-3xl"}),r.jsx("div",{className:"hero-orb absolute top-1/2 right-1/3 w-24 h-24 bg-gradient-to-r from-emerald-500/10 to-teal-500/10 rounded-full blur-2xl"})]}),r.jsxs("div",{className:"mx-auto w-full max-w-[110rem] px-4 py-14 relative z-10",children:[r.jsx("div",{className:`text-center transition-all duration-1000 ${i?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,children:r.jsxs("h1",{className:"font-extrabold leading-[1.1] tracking-tight",children:[r.jsx("span",{className:"block text-[clamp(28px,4.5vw,48px)] mb-2",children:r.jsx("span",{className:"bg-gradient-to-r from-white via-white to-white/90 bg-clip-text text-transparent drop-shadow-lg",children:l})}),r.jsx("span",{className:"block text-[clamp(24px,4vw,44px)] mt-2",children:r.jsx("span",{className:"animated-gradient bg-clip-text text-transparent drop-shadow-lg",children:"Here are the roommates who match your lifestyle best."})})]})}),r.jsx("div",{className:`mt-6 text-center transition-all duration-1000 delay-300 ${i?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:r.jsxs("span",{className:"inline-flex items-center gap-2 text-[14px] text-white/80 rounded-full border border-white/20 bg-white/10 px-4 py-2 backdrop-blur-sm shadow-lg",children:[r.jsx("div",{className:"w-2 h-2 bg-emerald-400 rounded-full animate-pulse"}),"Transparent reasons  Quick actions  Safer connections"]})}),r.jsx("div",{className:`mt-8 text-center transition-all duration-1000 delay-500 ${i?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:r.jsxs("div",{className:"flex flex-col items-center gap-4",children:[r.jsxs("button",{onClick:()=>e==null?void 0:e("cta"),className:"hero-cta-button group relative inline-flex items-center gap-3 rounded-full bg-gradient-to-r from-orange-500 to-orange-600 px-8 py-4 text-base font-bold text-black shadow-[0_12px_32px_rgba(255,153,0,.4)] hover:shadow-[0_16px_40px_rgba(255,153,0,.5)] hover:scale-105 transition-all duration-300 hover:from-orange-400 hover:to-orange-500",type:"button",children:[r.jsx("span",{children:"See your matches"}),r.jsx("div",{className:"w-5 h-5 rounded-full bg-black/20 flex items-center justify-center group-hover:translate-x-1 transition-transform duration-200",children:r.jsx("div",{className:"w-2 h-2 bg-black rounded-full"})}),r.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-orange-500 to-orange-600 opacity-0 group-hover:opacity-20 blur-xl transition-opacity duration-300"})]}),r.jsxs("div",{className:"flex items-center gap-3 text-white/70",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-1 h-1 bg-white/60 rounded-full animate-bounce"}),r.jsx("div",{className:"w-1 h-1 bg-white/60 rounded-full animate-bounce delay-100"}),r.jsx("div",{className:"w-1 h-1 bg-white/60 rounded-full animate-bounce delay-200"})]}),r.jsx("span",{className:"text-sm font-medium",children:"Scroll down to explore"})]})]})}),r.jsx("div",{className:`mt-8 flex justify-center gap-3 transition-all duration-1000 delay-700 ${i?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:[0,1,2,3].map(d=>r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:`progress-dot block h-2 w-2 rounded-full transition-all duration-500 ${n>d?"bg-gradient-to-r from-orange-400 to-orange-500 shadow-lg shadow-orange-500/50 active":"bg-white/25"}`}),n>d&&r.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-orange-400 to-orange-500 animate-ping opacity-30"})]},d))}),r.jsx("div",{className:`mt-12 text-center transition-all duration-1000 delay-1000 ${i?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:r.jsxs("div",{className:"inline-flex items-center gap-6 text-sm text-white/60",children:[r.jsxs("div",{className:"social-proof-item flex items-center gap-2",children:[r.jsx("div",{className:"w-6 h-6 rounded-full bg-emerald-500/20 flex items-center justify-center",children:r.jsx("div",{className:"w-2 h-2 bg-emerald-400 rounded-full animate-pulse"})}),r.jsx("span",{children:"10,000+ students matched"})]}),r.jsx("div",{className:"w-px h-4 bg-white/20"}),r.jsxs("div",{className:"social-proof-item flex items-center gap-2",children:[r.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500/20 flex items-center justify-center",children:r.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse"})}),r.jsx("span",{children:"95% satisfaction rate"})]})]})})]})]})}function Qse(t){var a,o,l,c,d,u,h,m;const e=(f,x)=>{try{return x.split(".").reduce((g,b)=>g&&g[b]!=null?g[b]:void 0,f)}catch{return}},n=[e(t,"user.firstName"),e(t,"profile.firstName"),e(t,"preferences.profile.firstName"),e(t,"preferences.user.firstName"),e(t,"preferences.firstName"),e(t,"firstName"),(l=(o=(a=e(t,"profile.name")||e(t,"preferences.profile.name")||e(t,"name"))==null?void 0:a.split)==null?void 0:o.call(a,/\s+/))==null?void 0:l[0]].filter(Boolean);let s="";try{const f=["firstName","userFirstName","nr:firstName","nr_user","user","me","authUser"];for(const x of f){const g=localStorage.getItem(x);if(g){if(x==="firstName"||x==="userFirstName"||x==="nr:firstName"){s=g;break}try{const b=JSON.parse(g),y=(b==null?void 0:b.firstName)||((c=b==null?void 0:b.profile)==null?void 0:c.firstName)||((d=b==null?void 0:b.user)==null?void 0:d.firstName)||((m=(h=(u=b==null?void 0:b.name)==null?void 0:u.split)==null?void 0:h.call(u," "))==null?void 0:m[0]);if(y){s=y;break}}catch{}}}}catch{}const i=(n.find(Boolean)||s||"").toString().trim();return i?i[0].toUpperCase()+i.slice(1):""}function Jse(){const t=dt(),[e,n]=p.useState(!0),[s,i]=p.useState(""),[a,o]=p.useState([]),[l,c]=p.useState(null),[d,u]=p.useState(""),[h,m]=p.useState("match"),[f,x]=p.useState({pets:"any",sleep:"any",scope:"school"}),[g,b]=p.useState(null),[y,v]=p.useState(-1),[w,N]=p.useState(()=>new Set),[j,k]=p.useState(()=>new Set),P=p.useRef(null),S=p.useRef(!1),[E,T]=p.useState("");p.useEffect(()=>{const A=new AbortController;return(async()=>{n(!0),i("");try{const{prefs:_,raw:z,pData:I}=await Yse(f.scope,A.signal);c(_),T($=>$||Qse(I));const M=z.map($=>{var X,oe,ne,H,Z;const O=$.id||$._id||$.userId||String(Math.random()),L=$.firstName||"",Y=$.lastName||"",K=$.name||[$.firstName,$.lastName].filter(Boolean).join(" ")||"Roommate",B=$.synapse||{},{reasons:U}=Gse($,_),V=typeof $.score=="number"?$.score:$.matchScore??0,G=Array.isArray($.reasons)&&$.reasons.length?$.reasons:U;return{userId:O,firstName:L,lastName:Y,name:K,avatarUrl:$.avatar||$.avatarUrl||"",university:$.university||((X=B==null?void 0:B.education)==null?void 0:X.university)||"",graduation:$.graduation||((oe=B==null?void 0:B.education)==null?void 0:oe.graduation)||void 0,verified:$.verified||{edu:!!$.university},lastActive:$.lastActive||$.updatedAt||void 0,distanceMi:typeof $.distanceMiles=="number"?$.distanceMiles:$.distanceMi,budget:$.budget,keyTraits:$.keyTraits||[],languages:((ne=B==null?void 0:B.culture)==null?void 0:ne.otherLanguages)||$.languages||[],petsOk:!!((H=B==null?void 0:B.pets)!=null&&H.okWithPets),sleepStyle:(Z=B==null?void 0:B.lifestyle)==null?void 0:Z.sleepPattern,matchScore:G6(V),reasons:G.map(K6),synapse:B}});o(M)}catch(_){console.error("GET /synapse data error:",_),i("Could not load matches right now."),o([])}finally{n(!1)}})(),()=>A.abort()},[f.scope]);const W=Fe.useCallback(()=>{var _,z;if(!P.current)return;const A=(z=(_=window.matchMedia)==null?void 0:_.call(window,"(prefers-reduced-motion: reduce)"))==null?void 0:z.matches;P.current.scrollIntoView({behavior:A?"auto":"smooth",block:"start"}),S.current=!0},[]),F=Fe.useCallback(()=>{W()},[W]),D=p.useMemo(()=>{let A=a.filter(_=>!j.has(_.userId));if(d){const _=d.toLowerCase();A=A.filter(z=>z.name.toLowerCase().includes(_)||(z.university||"").toLowerCase().includes(_)||(z.keyTraits||[]).some(I=>I.toLowerCase().includes(_)))}switch(h){case"distance":A=A.slice().sort((_,z)=>(_.distanceMi??1/0)-(z.distanceMi??1/0));break;case"activity":A=A.slice().sort((_,z)=>new Date(z.lastActive||0)-new Date(_.lastActive||0));break;default:A=A.slice().sort((_,z)=>(z.matchScore??0)-(_.matchScore??0))}return A},[a,j,d,h]);return p.useEffect(()=>{y>=0&&y<D.length&&b(D[y])},[y,D]),p.useEffect(()=>{if(y<0)return;const A=_=>{const z=D[_];if(z!=null&&z.avatarUrl){const I=new Image;I.src=z.avatarUrl}};A(y-1),A(y+1)},[y,D]),r.jsxs("div",{className:"nr-dots-page min-h-screen text-white",children:[r.jsx(ct,{}),r.jsx(Zse,{firstName:E,onSkip:F}),r.jsx("div",{className:"hero-to-main-transition pointer-events-none"}),r.jsx("div",{ref:P}),r.jsxs("main",{className:"mx-auto w-full max-w-[110rem] px-4 pb-24 pt-6",children:[r.jsx(ere,{count:D.length,query:d,setQuery:u,sort:h,setSort:m,filters:f,setFilters:x}),s?r.jsx("div",{className:"mb-4 rounded-xl border border-amber-400/30 bg-amber-400/10 p-3 text-sm text-amber-200",children:s}):null,e?r.jsx(nre,{}):r.jsx(tre,{items:D,saved:w,onSaveToggle:async A=>{const _=new Set(w);_.has(A)?_.delete(A):_.add(A),N(_);const z=await SS(A);z.ok||console.warn("Save failed:",z.error)},onHide:async A=>{k(z=>new Set(z).add(A));const _=await Xse(A,"not a fit");_.ok||console.warn("Hide failed:",_.error)},onOpen:A=>v(D.findIndex(_=>_.userId===A.userId)),drawerOpen:!!g,navigate:t})]}),r.jsx(sre,{match:g,prefs:l,onClose:()=>{b(null),v(-1)},onStartChat:A=>{var z;const _=D.find(I=>I.userId===A);if(_){const I=((z=_.reasons)==null?void 0:z.slice(0,3).map(Y=>Y.text).join(", "))||"We have compatible preferences",M=Hse({full:_.name,firstName:_.firstName,lastName:_.lastName}),$=typeof _.budget=="number",O=`Hi ${M}!  

I found you through NewRun's roommate matching and we have a ${Math.round(_.matchScore||0)}% compatibility score! 

Here's why I think we'd be great roommates:
 ${I}

${_.university?`I see you're also at ${_.university} - that's awesome!`:""}
${$?`My budget is around $${_.budget}/month.`:""}

Would you be interested in chatting about potentially being roommates? I'd love to learn more about what you're looking for! 

Looking forward to hearing from you! `,L=encodeURIComponent(O).replace(/'/g,"%27");t(`/messaging?to=${A}&ctx=roommate&message=${L}`)}else t(`/messaging?to=${A}&ctx=roommate`)},onSaveToggle:async A=>{const _=new Set(w);_.has(A)?_.delete(A):_.add(A),N(_);const z=await SS(A);z.ok||console.warn("Save failed:",z.error)},isSaved:A=>w.has(A),onPrev:()=>v(A=>Math.max(0,A-1)),onNext:()=>v(A=>Math.min(D.length-1,A+1)),hasPrev:y>0,hasNext:y>=0&&y<D.length-1})]})}function ere({count:t,query:e,setQuery:n,sort:s,setSort:i,filters:a,setFilters:o}){const l=()=>{i("match"),o({pets:"any",sleep:"any",scope:"school"})},c=[];return s!=="match"&&c.push({key:"sort",label:`Sort: ${s}`,onClear:()=>i("match")}),a.pets!=="any"&&c.push({key:"pets",label:`Pets: ${a.pets.toUpperCase()}`,onClear:()=>o(d=>({...d,pets:"any"}))}),a.sleep!=="any"&&c.push({key:"sleep",label:`Sleep: ${a.sleep}`,onClear:()=>o(d=>({...d,sleep:"any"}))}),a.scope!=="school"&&c.push({key:"scope",label:`Scope: ${a.scope}`,onClear:()=>o(d=>({...d,scope:"school"}))}),r.jsxs("section",{className:"mb-6 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-2xl font-semibold tracking-tight",children:["Top Matches ",r.jsxs("span",{className:"text-white/60",children:["(",t,")"]})]}),r.jsx("p",{className:"mt-1 text-sm text-white/60",children:"Transparent reasons  Quick actions  Safer connections"})]}),r.jsx("div",{className:"flex flex-col gap-3 md:flex-row md:items-center",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"relative",children:[r.jsx("input",{value:e,onChange:d=>n(d.target.value),placeholder:"Search by name, trait, university...",className:"w-72 rounded-xl border border-white/10 bg-white/5 px-4 py-2 text-sm outline-none placeholder-white/40 focus:bg-white/7"}),r.jsx("div",{className:"pointer-events-none absolute right-3 top-2.5 text-white/40",children:r.jsx(gK,{size:16})})]}),r.jsxs("div",{className:"inline-flex items-center gap-1 rounded-xl border border-white/10 bg-white/5 px-2 py-2",children:[r.jsx("button",{onClick:()=>i("match"),className:gr("rounded-lg px-2 py-1 text-xs",s==="match"?"bg-white/10":"text-white/70"),children:"Best Match"}),r.jsx("button",{onClick:()=>i("distance"),className:gr("rounded-lg px-2 py-1 text-xs",s==="distance"?"bg-white/10":"text-white/70"),children:"Distance"}),r.jsx("button",{onClick:()=>i("activity"),className:gr("rounded-lg px-2 py-1 text-xs",s==="activity"?"bg-white/10":"text-white/70"),children:"Active"})]}),r.jsx(mx,{icon:r.jsx(Gp,{size:14}),label:"Pets",value:a.pets,options:[{k:"any",n:"Any"},{k:"ok",n:"OK"},{k:"no",n:"No"}],onChange:d=>o(u=>({...u,pets:d}))}),r.jsx(mx,{icon:r.jsx(Gc,{size:14}),label:"Sleep",value:a.sleep,options:[{k:"any",n:"Any"},{k:"early",n:"Early"},{k:"mid",n:"Mid"},{k:"late",n:"Late"}],onChange:d=>o(u=>({...u,sleep:d}))}),r.jsx(mx,{icon:r.jsx(wK,{size:14}),label:"Scope",value:a.scope,options:[{k:"school",n:"School"},{k:"country",n:"Country"},{k:"any",n:"Any"}],onChange:d=>o(u=>({...u,scope:d}))})]})}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.map(d=>r.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-3 py-1 text-xs text-white/70",children:[d.label,r.jsx("button",{onClick:d.onClear,className:"rounded bg-white/10 px-1 text-white/70 hover:bg-white/20",children:""})]},d.key)),c.length>0&&r.jsx("button",{onClick:l,className:"rounded-full border border-white/10 bg-white/5 px-3 py-1 text-xs text-white/70 hover:bg-white/10",children:"Clear all"})]})]})}function mx({icon:t,label:e,value:n,options:s,onChange:i}){return r.jsxs("div",{className:"inline-flex items-center gap-2 rounded-xl border border-white/10 bg-white/5 px-3 py-2 text-xs",children:[r.jsxs("span",{className:"flex items-center gap-1 text-white/70",children:[t,e,":"]}),r.jsx("div",{className:"flex items-center gap-1",children:s.map(a=>r.jsx("button",{onClick:()=>i(a.k),className:gr("rounded-md px-2 py-1",n===a.k?"bg-white/10":"text-white/70"),children:a.n},a.k))})]})}function tre({items:t,saved:e,onSaveToggle:n,onHide:s,onOpen:i,drawerOpen:a,navigate:o}){return t.length?r.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:t.map(l=>r.jsx(Ise,{item:l,onOpen:()=>i(l),onMessage:(c,d)=>{if(d){const u=encodeURIComponent(d);o(`/messaging?to=${c}&ctx=roommate&message=${u}`)}else o(`/messaging?to=${c}&ctx=roommate`)},hideOverlays:a},l.userId))}):r.jsxs("div",{className:"mt-12 flex flex-col items-center justify-center rounded-2xl border border-white/10 bg-white/[0.03] p-12 text-center",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"No matches found"}),r.jsx("p",{className:"mt-2 max-w-xl text-sm text-white/70",children:"Try adjusting your Synapse preferences or expanding the scope."})]})}function nre(){return r.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-3",children:Array.from({length:8}).map((t,e)=>r.jsxs("div",{className:"animate-pulse rounded-2xl border border-white/10 bg-white/[0.03] p-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-12 w-12 rounded-full bg-white/10"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"h-3 w-40 rounded bg-white/10"}),r.jsx("div",{className:"mt-2 h-3 w-24 rounded bg-white/10"})]})]}),r.jsx("div",{className:"mt-4 h-3 w-24 rounded bg-white/10"}),r.jsxs("div",{className:"mt-4 flex gap-2",children:[r.jsx("div",{className:"h-6 w-20 rounded-full bg-white/10"}),r.jsx("div",{className:"h-6 w-16 rounded-full bg-white/10"}),r.jsx("div",{className:"h-6 w-24 rounded-full bg-white/10"})]}),r.jsx("div",{className:"mt-4 h-10 w-full rounded-xl bg-white/10"})]},e))})}function sre({match:t,prefs:e,onClose:n,onStartChat:s,onSaveToggle:i,isSaved:a,onPrev:o,onNext:l,hasPrev:c,hasNext:d}){const u=p.useRef(null),h=!!t;return p.useEffect(()=>{function m(f){f.key==="Escape"&&(n==null||n())}return window.addEventListener("keydown",m),()=>window.removeEventListener("keydown",m)},[n]),p.useEffect(()=>(h?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[h]),r.jsxs("div",{"aria-hidden":!h,className:gr("fixed inset-0 z-50 transition",h?"pointer-events-auto":"pointer-events-none"),children:[r.jsx("div",{onClick:n,className:gr("absolute inset-0 bg-black/50 backdrop-blur-sm transition-opacity",h?"opacity-100":"opacity-0")}),r.jsxs("aside",{ref:u,className:gr("fixed right-0 top-0 bottom-0 w-full max-w-[700px] overflow-y-auto border-l border-white/10 bg-[#0d1017] shadow-2xl transition-transform will-change-transform",h?"translate-x-0":"translate-x-full"),style:{height:"100vh",maxHeight:"100vh",overflowY:"auto",WebkitOverflowScrolling:"touch"},role:"dialog","aria-modal":"true","aria-label":"Match details",children:[r.jsxs("div",{className:"sticky top-0 z-10 flex items-center justify-between border-b border-white/10 bg-[#0d1017]/95 px-5 py-4 backdrop-blur",children:[r.jsx("span",{className:"text-sm font-semibold",children:"Match details"}),r.jsx("button",{onClick:n,className:"rounded-lg border border-white/10 p-1.5 text-white/80 hover:bg-white/10","aria-label":"Close",children:r.jsx(xv,{size:16})})]}),t?r.jsx(ire,{profile:t,prefs:e,onStartChat:s,onSaveToggle:i,isSaved:a,hasPrev:c,hasNext:d,onPrev:o,onNext:l}):r.jsx(rre,{})]})]})}function rre(){return r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-14 w-14 rounded-full bg-white/10"}),r.jsxs("div",{children:[r.jsx("div",{className:"h-4 w-40 rounded bg-white/10"}),r.jsx("div",{className:"mt-2 h-3 w-28 rounded bg-white/10"})]})]}),r.jsx("div",{className:"mt-6 h-24 w-full rounded-xl bg-white/10"}),r.jsx("div",{className:"mt-6 space-y-3",children:Array.from({length:6}).map((t,e)=>r.jsx("div",{className:"h-6 w-full rounded bg-white/10"},e))})]})}function ire({profile:t,prefs:e,onStartChat:n,onSaveToggle:s,isSaved:i,hasPrev:a,hasNext:o,onPrev:l,onNext:c}){var w;const d=i(t.userId),{parts:u,total:h}=Fe.useMemo(()=>Kse(t.synapse,e||{}),[t.synapse,e]),m=G6(t.matchScore??h),x=(t.reasons||[]).map(K6).filter(N=>N.type!=="negative").slice(0,3),g=t.languages||[],b=(t.keyTraits||[]).slice(0,6),y=[...u].sort((N,j)=>j.got-N.got||j.max-N.max).slice(0,4),v=Ose(g);return r.jsxs("div",{className:"px-5 pb-10 pt-4",children:[r.jsx("div",{className:"rounded-2xl border border-white/10 bg-gradient-to-br from-white/5 via-white/2 to-white/0 p-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"relative h-14 w-14 overflow-hidden rounded-full bg-white/10",children:[t.avatarUrl?r.jsx("img",{src:t.avatarUrl,alt:t.name,className:"h-full w-full object-cover"}):r.jsx("div",{className:"flex h-full w-full items-center justify-center text-sm text-white/70",children:t.name.slice(0,1)}),((w=t.verified)==null?void 0:w.edu)&&r.jsx("img",{src:H6,alt:"Verified",className:"h-7 w-7 -mt-[1px] select-none"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h3",{className:"text-lg font-semibold leading-tight",children:t.name}),r.jsx(Use,{university:t.university,size:$se})]}),r.jsxs("div",{className:"mt-1 flex items-center gap-2 text-xs text-white/60",children:[typeof t.distanceMi=="number"&&r.jsxs(r.Fragment,{children:[r.jsx(OT,{size:14})," ",t.distanceMi.toFixed(1)," mi ",r.jsx("span",{className:"text-white/30",children:""})]}),t.lastActive&&r.jsxs(r.Fragment,{children:[r.jsx(LT,{size:14})," ",Fse(t.lastActive)]})]})]})]}),r.jsx("div",{className:"rounded-2xl bg-black/40 p-2 border border-white/10 shadow-[0_0_30px_rgba(56,189,248,0.15)]",children:r.jsx(zse,{value:m,size:Dse})})]})}),x.length>0&&r.jsxs("section",{className:"mt-6 rounded-2xl border border-white/10 bg-gradient-to-br from-emerald-500/5 to-cyan-500/5 p-4",children:[r.jsx("p",{className:"text-sm text-white/70",children:"Why this is a strong match"}),r.jsx("ul",{className:"mt-2 grid grid-cols-1 gap-1 text-sm",children:x.map((N,j)=>r.jsxs("li",{className:"inline-flex items-start gap-2",children:[r.jsx("span",{className:"inline-flex h-5 w-5 items-center justify-center rounded-full bg-emerald-500/15 text-emerald-300",children:r.jsx(ZG,{size:14})}),r.jsx("span",{children:Rse(N.text)})]},j))})]}),r.jsxs("div",{className:"mt-6 rounded-2xl border border-white/10 bg-gradient-to-br from-white/5 to-white/0 p-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h4",{className:"text-sm font-semibold tracking-wide text-white/80",children:["About ",t.name.split(" ")[0]]}),typeof t.budget=="number"&&r.jsxs("span",{className:"text-xs text-white/60",children:["$",t.budget,"/mo"]})]}),r.jsx("p",{className:"mt-2 text-sm text-white/80",children:t.bio||"They havent written a bio yet  start a chat to learn what theyre looking for."}),r.jsxs("div",{className:"mt-3 flex flex-wrap gap-1.5",children:[g.length>0&&r.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-emerald-500/20 bg-emerald-500/10 px-2 py-1 text-[11px] text-emerald-200",children:[r.jsx(AT,{size:12})," ",v.join(", ")]}),b.map(N=>r.jsx("span",{className:"inline-flex items-center rounded-full border border-cyan-500/20 bg-cyan-500/10 px-2 py-1 text-[11px] text-cyan-200",children:N},N))]})]}),r.jsx("div",{className:"mt-6",children:r.jsx(Wse,{title:"Detailed score breakdown",defaultOpen:!1,children:r.jsxs("div",{className:"space-y-2",children:[y.map(N=>r.jsx(kS,{part:N},N.key)),r.jsxs("details",{className:"mt-2",children:[r.jsx("summary",{className:"cursor-pointer text-sm text-white/70",children:"Show all factors"}),r.jsx("div",{className:"mt-2 space-y-2",children:u.filter(N=>!y.find(j=>j.key===N.key)).map(N=>r.jsx(kS,{part:N},N.key))})]})]})})}),r.jsx("div",{className:"mt-8",children:r.jsxs("div",{className:"border-t border-white/10 bg-[#0d1017] pt-4 pb-6",children:[r.jsxs("div",{className:"px-5 pt-3 pb-2 flex items-center justify-between",children:[r.jsxs("button",{disabled:!a,onClick:l,className:gr("group inline-flex items-center gap-2 rounded-full px-4 py-2 text-sm border border-white/10",a?"bg-white/5 hover:bg-white/10":"opacity-40 cursor-default"),children:[r.jsx(MT,{size:16,className:"transition-transform group-hover:-translate-x-0.5"}),r.jsx("span",{children:"Prev"})]}),r.jsxs("button",{disabled:!o,onClick:c,className:gr("group inline-flex items-center gap-2 rounded-full px-4 py-2 text-sm border border-white/10",o?"bg-white/5 hover:bg-white/10":"opacity-40 cursor-default"),children:[r.jsx("span",{children:"Next"}),r.jsx(TT,{size:16,className:"transition-transform group-hover:translate-x-0.5"})]})]}),r.jsxs("div",{className:"px-5 pb-3 flex gap-3",children:[r.jsx("button",{onClick:()=>n(t.userId),className:"flex-1 rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-sm font-medium hover:bg-white/10",children:"Start chat"}),r.jsx("button",{onClick:()=>s(t.userId),className:gr("rounded-xl border border-white/10 px-4 py-3 text-sm font-medium",d?"bg-pink-500/10 text-pink-300":"bg-white/5 hover:bg-white/10"),children:d?"Saved":"Save match"})]})]})})]})}var ny={exports:{}},Va={},sy={exports:{}},Ks={},ry={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=u;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var n="none",s="contents",i=/^(input|select|textarea|button|object|iframe)$/;function a(h,m){return m.getPropertyValue("overflow")!=="visible"||h.scrollWidth<=0&&h.scrollHeight<=0}function o(h){var m=h.offsetWidth<=0&&h.offsetHeight<=0;if(m&&!h.innerHTML)return!0;try{var f=window.getComputedStyle(h),x=f.getPropertyValue("display");return m?x!==s&&a(h,f):x===n}catch{return console.warn("Failed to inspect element style"),!1}}function l(h){for(var m=h,f=h.getRootNode&&h.getRootNode();m&&m!==document.body;){if(f&&m===f&&(m=f.host.parentNode),o(m))return!1;m=m.parentNode}return!0}function c(h,m){var f=h.nodeName.toLowerCase(),x=i.test(f)&&!h.disabled||f==="a"&&h.href||m;return x&&l(h)}function d(h){var m=h.getAttribute("tabindex");m===null&&(m=void 0);var f=isNaN(m);return(f||m>=0)&&c(h,!f)}function u(h){var m=[].slice.call(h.querySelectorAll("*"),0).reduce(function(f,x){return f.concat(x.shadowRoot?u(x.shadowRoot):[x])},[]);return m.filter(d)}t.exports=e.default})(ry,ry.exports);var Y6=ry.exports;Object.defineProperty(Ks,"__esModule",{value:!0});Ks.resetState=cre;Ks.log=dre;Ks.handleBlur=Hd;Ks.handleFocus=qd;Ks.markForFocusLater=ure;Ks.returnFocus=hre;Ks.popWithoutFocus=pre;Ks.setupScopedFocus=mre;Ks.teardownScopedFocus=fre;var are=Y6,ore=lre(are);function lre(t){return t&&t.__esModule?t:{default:t}}var gl=[],Do=null,iy=!1;function cre(){gl=[]}function dre(){}function Hd(){iy=!0}function qd(){if(iy){if(iy=!1,!Do)return;setTimeout(function(){if(!Do.contains(document.activeElement)){var t=(0,ore.default)(Do)[0]||Do;t.focus()}},0)}}function ure(){gl.push(document.activeElement)}function hre(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=null;try{gl.length!==0&&(e=gl.pop(),e.focus({preventScroll:t}));return}catch{console.warn(["You tried to return focus to",e,"but it is not in the DOM anymore"].join(" "))}}function pre(){gl.length>0&&gl.pop()}function mre(t){Do=t,window.addEventListener?(window.addEventListener("blur",Hd,!1),document.addEventListener("focus",qd,!0)):(window.attachEvent("onBlur",Hd),document.attachEvent("onFocus",qd))}function fre(){Do=null,window.addEventListener?(window.removeEventListener("blur",Hd),document.removeEventListener("focus",qd)):(window.detachEvent("onBlur",Hd),document.detachEvent("onFocus",qd))}var ay={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var n=Y6,s=i(n);function i(l){return l&&l.__esModule?l:{default:l}}function a(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return l.activeElement.shadowRoot?a(l.activeElement.shadowRoot):l.activeElement}function o(l,c){var d=(0,s.default)(l);if(!d.length){c.preventDefault();return}var u=void 0,h=c.shiftKey,m=d[0],f=d[d.length-1],x=a();if(l===x){if(!h)return;u=f}if(f===x&&!h&&(u=m),m===x&&h&&(u=f),u){c.preventDefault(),u.focus();return}var g=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),b=g!=null&&g[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(b){var y=d.indexOf(x);if(y>-1&&(y+=h?-1:1),u=d[y],typeof u>"u"){c.preventDefault(),u=h?f:m,u.focus();return}c.preventDefault(),u.focus()}}t.exports=e.default})(ay,ay.exports);var gre=ay.exports,Ys={},xre=function(){},vre=xre,Us={},X6={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/(function(t){(function(){var e=!!(typeof window<"u"&&window.document&&window.document.createElement),n={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen};t.exports?t.exports=n:window.ExecutionEnvironment=n})()})(X6);var yre=X6.exports;Object.defineProperty(Us,"__esModule",{value:!0});Us.canUseDOM=Us.SafeNodeList=Us.SafeHTMLCollection=void 0;var bre=yre,wre=jre(bre);function jre(t){return t&&t.__esModule?t:{default:t}}var pf=wre.default,Nre=pf.canUseDOM?window.HTMLElement:{};Us.SafeHTMLCollection=pf.canUseDOM?window.HTMLCollection:{};Us.SafeNodeList=pf.canUseDOM?window.NodeList:{};Us.canUseDOM=pf.canUseDOM;Us.default=Nre;Object.defineProperty(Ys,"__esModule",{value:!0});Ys.resetState=Ere;Ys.log=_re;Ys.assertNodeList=Z6;Ys.setElement=Mre;Ys.validateElement=mw;Ys.hide=Tre;Ys.show=Lre;Ys.documentNotReadyOrSSRTesting=Are;var kre=vre,Sre=Pre(kre),Cre=Us;function Pre(t){return t&&t.__esModule?t:{default:t}}var gs=null;function Ere(){gs&&(gs.removeAttribute?gs.removeAttribute("aria-hidden"):gs.length!=null?gs.forEach(function(t){return t.removeAttribute("aria-hidden")}):document.querySelectorAll(gs).forEach(function(t){return t.removeAttribute("aria-hidden")})),gs=null}function _re(){}function Z6(t,e){if(!t||!t.length)throw new Error("react-modal: No elements were found for selector "+e+".")}function Mre(t){var e=t;if(typeof e=="string"&&Cre.canUseDOM){var n=document.querySelectorAll(e);Z6(n,e),e=n}return gs=e||gs,gs}function mw(t){var e=t||gs;return e?Array.isArray(e)||e instanceof HTMLCollection||e instanceof NodeList?e:[e]:((0,Sre.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function Tre(t){var e=!0,n=!1,s=void 0;try{for(var i=mw(t)[Symbol.iterator](),a;!(e=(a=i.next()).done);e=!0){var o=a.value;o.setAttribute("aria-hidden","true")}}catch(l){n=!0,s=l}finally{try{!e&&i.return&&i.return()}finally{if(n)throw s}}}function Lre(t){var e=!0,n=!1,s=void 0;try{for(var i=mw(t)[Symbol.iterator](),a;!(e=(a=i.next()).done);e=!0){var o=a.value;o.removeAttribute("aria-hidden")}}catch(l){n=!0,s=l}finally{try{!e&&i.return&&i.return()}finally{if(n)throw s}}}function Are(){gs=null}var Il={};Object.defineProperty(Il,"__esModule",{value:!0});Il.resetState=Ire;Il.log=Ore;var Qc={},Jc={};function CS(t,e){t.classList.remove(e)}function Ire(){var t=document.getElementsByTagName("html")[0];for(var e in Qc)CS(t,Qc[e]);var n=document.body;for(var s in Jc)CS(n,Jc[s]);Qc={},Jc={}}function Ore(){}var Rre=function(e,n){return e[n]||(e[n]=0),e[n]+=1,n},Dre=function(e,n){return e[n]&&(e[n]-=1),n},$re=function(e,n,s){s.forEach(function(i){Rre(n,i),e.add(i)})},Fre=function(e,n,s){s.forEach(function(i){Dre(n,i),n[i]===0&&e.remove(i)})};Il.add=function(e,n){return $re(e.classList,e.nodeName.toLowerCase()=="html"?Qc:Jc,n.split(" "))};Il.remove=function(e,n){return Fre(e.classList,e.nodeName.toLowerCase()=="html"?Qc:Jc,n.split(" "))};var Ol={};Object.defineProperty(Ol,"__esModule",{value:!0});Ol.log=Bre;Ol.resetState=Vre;function zre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Q6=function t(){var e=this;zre(this,t),this.register=function(n){e.openInstances.indexOf(n)===-1&&(e.openInstances.push(n),e.emit("register"))},this.deregister=function(n){var s=e.openInstances.indexOf(n);s!==-1&&(e.openInstances.splice(s,1),e.emit("deregister"))},this.subscribe=function(n){e.subscribers.push(n)},this.emit=function(n){e.subscribers.forEach(function(s){return s(n,e.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},bm=new Q6;function Bre(){console.log("portalOpenInstances ----------"),console.log(bm.openInstances.length),bm.openInstances.forEach(function(t){return console.log(t)}),console.log("end portalOpenInstances ----------")}function Vre(){bm=new Q6}Ol.default=bm;var fw={};Object.defineProperty(fw,"__esModule",{value:!0});fw.resetState=qre;fw.log=Gre;var Ure=Ol,Wre=Hre(Ure);function Hre(t){return t&&t.__esModule?t:{default:t}}var pn=void 0,Ds=void 0,La=[];function qre(){for(var t=[pn,Ds],e=0;e<t.length;e++){var n=t[e];n&&n.parentNode&&n.parentNode.removeChild(n)}pn=Ds=null,La=[]}function Gre(){console.log("bodyTrap ----------"),console.log(La.length);for(var t=[pn,Ds],e=0;e<t.length;e++){var n=t[e],s=n||{};console.log(s.nodeName,s.className,s.id)}console.log("edn bodyTrap ----------")}function PS(){La.length!==0&&La[La.length-1].focusContent()}function Kre(t,e){!pn&&!Ds&&(pn=document.createElement("div"),pn.setAttribute("data-react-modal-body-trap",""),pn.style.position="absolute",pn.style.opacity="0",pn.setAttribute("tabindex","0"),pn.addEventListener("focus",PS),Ds=pn.cloneNode(),Ds.addEventListener("focus",PS)),La=e,La.length>0?(document.body.firstChild!==pn&&document.body.insertBefore(pn,document.body.firstChild),document.body.lastChild!==Ds&&document.body.appendChild(Ds)):(pn.parentElement&&pn.parentElement.removeChild(pn),Ds.parentElement&&Ds.parentElement.removeChild(Ds))}Wre.default.subscribe(Kre);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(A){for(var _=1;_<arguments.length;_++){var z=arguments[_];for(var I in z)Object.prototype.hasOwnProperty.call(z,I)&&(A[I]=z[I])}return A},s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},i=function(){function A(_,z){for(var I=0;I<z.length;I++){var M=z[I];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(_,M.key,M)}}return function(_,z,I){return z&&A(_.prototype,z),I&&A(_,I),_}}(),a=p,o=Z1,l=j(o),c=Ks,d=N(c),u=gre,h=j(u),m=Ys,f=N(m),x=Il,g=N(x),b=Us,y=j(b),v=Ol,w=j(v);function N(A){if(A&&A.__esModule)return A;var _={};if(A!=null)for(var z in A)Object.prototype.hasOwnProperty.call(A,z)&&(_[z]=A[z]);return _.default=A,_}function j(A){return A&&A.__esModule?A:{default:A}}function k(A,_){if(!(A instanceof _))throw new TypeError("Cannot call a class as a function")}function P(A,_){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:A}function S(A,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);A.prototype=Object.create(_&&_.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(A,_):A.__proto__=_)}var E={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},T=function(_){return _.code==="Tab"||_.keyCode===9},W=function(_){return _.code==="Escape"||_.keyCode===27},F=0,D=function(A){S(_,A);function _(z){k(this,_);var I=P(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,z));return I.setOverlayRef=function(M){I.overlay=M,I.props.overlayRef&&I.props.overlayRef(M)},I.setContentRef=function(M){I.content=M,I.props.contentRef&&I.props.contentRef(M)},I.afterClose=function(){var M=I.props,$=M.appElement,O=M.ariaHideApp,L=M.htmlOpenClassName,Y=M.bodyOpenClassName,K=M.parentSelector,B=K&&K().ownerDocument||document;Y&&g.remove(B.body,Y),L&&g.remove(B.getElementsByTagName("html")[0],L),O&&F>0&&(F-=1,F===0&&f.show($)),I.props.shouldFocusAfterRender&&(I.props.shouldReturnFocusAfterClose?(d.returnFocus(I.props.preventScroll),d.teardownScopedFocus()):d.popWithoutFocus()),I.props.onAfterClose&&I.props.onAfterClose(),w.default.deregister(I)},I.open=function(){I.beforeOpen(),I.state.afterOpen&&I.state.beforeClose?(clearTimeout(I.closeTimer),I.setState({beforeClose:!1})):(I.props.shouldFocusAfterRender&&(d.setupScopedFocus(I.node),d.markForFocusLater()),I.setState({isOpen:!0},function(){I.openAnimationFrame=requestAnimationFrame(function(){I.setState({afterOpen:!0}),I.props.isOpen&&I.props.onAfterOpen&&I.props.onAfterOpen({overlayEl:I.overlay,contentEl:I.content})})}))},I.close=function(){I.props.closeTimeoutMS>0?I.closeWithTimeout():I.closeWithoutTimeout()},I.focusContent=function(){return I.content&&!I.contentHasFocus()&&I.content.focus({preventScroll:!0})},I.closeWithTimeout=function(){var M=Date.now()+I.props.closeTimeoutMS;I.setState({beforeClose:!0,closesAt:M},function(){I.closeTimer=setTimeout(I.closeWithoutTimeout,I.state.closesAt-Date.now())})},I.closeWithoutTimeout=function(){I.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},I.afterClose)},I.handleKeyDown=function(M){T(M)&&(0,h.default)(I.content,M),I.props.shouldCloseOnEsc&&W(M)&&(M.stopPropagation(),I.requestClose(M))},I.handleOverlayOnClick=function(M){I.shouldClose===null&&(I.shouldClose=!0),I.shouldClose&&I.props.shouldCloseOnOverlayClick&&(I.ownerHandlesClose()?I.requestClose(M):I.focusContent()),I.shouldClose=null},I.handleContentOnMouseUp=function(){I.shouldClose=!1},I.handleOverlayOnMouseDown=function(M){!I.props.shouldCloseOnOverlayClick&&M.target==I.overlay&&M.preventDefault()},I.handleContentOnClick=function(){I.shouldClose=!1},I.handleContentOnMouseDown=function(){I.shouldClose=!1},I.requestClose=function(M){return I.ownerHandlesClose()&&I.props.onRequestClose(M)},I.ownerHandlesClose=function(){return I.props.onRequestClose},I.shouldBeClosed=function(){return!I.state.isOpen&&!I.state.beforeClose},I.contentHasFocus=function(){return document.activeElement===I.content||I.content.contains(document.activeElement)},I.buildClassName=function(M,$){var O=(typeof $>"u"?"undefined":s($))==="object"?$:{base:E[M],afterOpen:E[M]+"--after-open",beforeClose:E[M]+"--before-close"},L=O.base;return I.state.afterOpen&&(L=L+" "+O.afterOpen),I.state.beforeClose&&(L=L+" "+O.beforeClose),typeof $=="string"&&$?L+" "+$:L},I.attributesFromObject=function(M,$){return Object.keys($).reduce(function(O,L){return O[M+"-"+L]=$[L],O},{})},I.state={afterOpen:!1,beforeClose:!1},I.shouldClose=null,I.moveFromContentToOverlay=null,I}return i(_,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(I,M){this.props.isOpen&&!I.isOpen?this.open():!this.props.isOpen&&I.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!M.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var I=this.props,M=I.appElement,$=I.ariaHideApp,O=I.htmlOpenClassName,L=I.bodyOpenClassName,Y=I.parentSelector,K=Y&&Y().ownerDocument||document;L&&g.add(K.body,L),O&&g.add(K.getElementsByTagName("html")[0],O),$&&(F+=1,f.hide(M)),w.default.register(this)}},{key:"render",value:function(){var I=this.props,M=I.id,$=I.className,O=I.overlayClassName,L=I.defaultStyles,Y=I.children,K=$?{}:L.content,B=O?{}:L.overlay;if(this.shouldBeClosed())return null;var U={ref:this.setOverlayRef,className:this.buildClassName("overlay",O),style:n({},B,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},V=n({id:M,ref:this.setContentRef,style:n({},K,this.props.style.content),className:this.buildClassName("content",$),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",n({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),G=this.props.contentElement(V,Y);return this.props.overlayElement(U,G)}}]),_}(a.Component);D.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},D.propTypes={isOpen:l.default.bool.isRequired,defaultStyles:l.default.shape({content:l.default.object,overlay:l.default.object}),style:l.default.shape({content:l.default.object,overlay:l.default.object}),className:l.default.oneOfType([l.default.string,l.default.object]),overlayClassName:l.default.oneOfType([l.default.string,l.default.object]),parentSelector:l.default.func,bodyOpenClassName:l.default.string,htmlOpenClassName:l.default.string,ariaHideApp:l.default.bool,appElement:l.default.oneOfType([l.default.instanceOf(y.default),l.default.instanceOf(b.SafeHTMLCollection),l.default.instanceOf(b.SafeNodeList),l.default.arrayOf(l.default.instanceOf(y.default))]),onAfterOpen:l.default.func,onAfterClose:l.default.func,onRequestClose:l.default.func,closeTimeoutMS:l.default.number,shouldFocusAfterRender:l.default.bool,shouldCloseOnOverlayClick:l.default.bool,shouldReturnFocusAfterClose:l.default.bool,preventScroll:l.default.bool,role:l.default.string,contentLabel:l.default.string,aria:l.default.object,data:l.default.object,children:l.default.node,shouldCloseOnEsc:l.default.bool,overlayRef:l.default.func,contentRef:l.default.func,id:l.default.string,overlayElement:l.default.func,contentElement:l.default.func,testId:l.default.string},e.default=D,t.exports=e.default})(sy,sy.exports);var Yre=sy.exports;function J6(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function eA(t){function e(n){var s=this.constructor.getDerivedStateFromProps(t,n);return s??null}this.setState(e.bind(this))}function tA(t,e){try{var n=this.props,s=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,s)}finally{this.props=n,this.state=s}}J6.__suppressDeprecationWarning=!0;eA.__suppressDeprecationWarning=!0;tA.__suppressDeprecationWarning=!0;function Xre(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var n=null,s=null,i=null;if(typeof e.componentWillMount=="function"?n="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?s="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(s="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?i="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),n!==null||s!==null||i!==null){var a=t.displayName||t.name,o=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+a+" uses "+o+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(s!==null?`
  `+s:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=J6,e.componentWillReceiveProps=eA),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=tA;var l=e.componentDidUpdate;e.componentDidUpdate=function(d,u,h){var m=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:h;l.call(this,d,u,m)}}return t}const Zre=Object.freeze(Object.defineProperty({__proto__:null,polyfill:Xre},Symbol.toStringTag,{value:"Module"})),Qre=lA(Zre);Object.defineProperty(Va,"__esModule",{value:!0});Va.bodyOpenClassName=Va.portalClassName=void 0;var ES=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Jre=function(){function t(e,n){for(var s=0;s<n.length;s++){var i=n[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,s){return n&&t(e.prototype,n),s&&t(e,s),e}}(),nA=p,wm=mu(nA),eie=Bi,jm=mu(eie),tie=Z1,ze=mu(tie),nie=Yre,_S=mu(nie),sie=Ys,rie=aie(sie),gi=Us,MS=mu(gi),iie=Qre;function aie(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function mu(t){return t&&t.__esModule?t:{default:t}}function oie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TS(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function lie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var cie=Va.portalClassName="ReactModalPortal",die=Va.bodyOpenClassName="ReactModal__Body--open",aa=gi.canUseDOM&&jm.default.createPortal!==void 0,LS=function(e){return document.createElement(e)},AS=function(){return aa?jm.default.createPortal:jm.default.unstable_renderSubtreeIntoContainer};function fh(t){return t()}var fu=function(t){lie(e,t);function e(){var n,s,i,a;oie(this,e);for(var o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];return a=(s=(i=TS(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(l))),i),i.removePortal=function(){!aa&&jm.default.unmountComponentAtNode(i.node);var d=fh(i.props.parentSelector);d&&d.contains(i.node)?d.removeChild(i.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},i.portalRef=function(d){i.portal=d},i.renderPortal=function(d){var u=AS(),h=u(i,wm.default.createElement(_S.default,ES({defaultStyles:e.defaultStyles},d)),i.node);i.portalRef(h)},s),TS(i,a)}return Jre(e,[{key:"componentDidMount",value:function(){if(gi.canUseDOM){aa||(this.node=LS("div")),this.node.className=this.props.portalClassName;var s=fh(this.props.parentSelector);s.appendChild(this.node),!aa&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(s){var i=fh(s.parentSelector),a=fh(this.props.parentSelector);return{prevParent:i,nextParent:a}}},{key:"componentDidUpdate",value:function(s,i,a){if(gi.canUseDOM){var o=this.props,l=o.isOpen,c=o.portalClassName;s.portalClassName!==c&&(this.node.className=c);var d=a.prevParent,u=a.nextParent;u!==d&&(d.removeChild(this.node),u.appendChild(this.node)),!(!s.isOpen&&!l)&&!aa&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!gi.canUseDOM||!this.node||!this.portal)){var s=this.portal.state,i=Date.now(),a=s.isOpen&&this.props.closeTimeoutMS&&(s.closesAt||i+this.props.closeTimeoutMS);a?(s.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,a-i)):this.removePortal()}}},{key:"render",value:function(){if(!gi.canUseDOM||!aa)return null;!this.node&&aa&&(this.node=LS("div"));var s=AS();return s(wm.default.createElement(_S.default,ES({ref:this.portalRef,defaultStyles:e.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(s){rie.setElement(s)}}]),e}(nA.Component);fu.propTypes={isOpen:ze.default.bool.isRequired,style:ze.default.shape({content:ze.default.object,overlay:ze.default.object}),portalClassName:ze.default.string,bodyOpenClassName:ze.default.string,htmlOpenClassName:ze.default.string,className:ze.default.oneOfType([ze.default.string,ze.default.shape({base:ze.default.string.isRequired,afterOpen:ze.default.string.isRequired,beforeClose:ze.default.string.isRequired})]),overlayClassName:ze.default.oneOfType([ze.default.string,ze.default.shape({base:ze.default.string.isRequired,afterOpen:ze.default.string.isRequired,beforeClose:ze.default.string.isRequired})]),appElement:ze.default.oneOfType([ze.default.instanceOf(MS.default),ze.default.instanceOf(gi.SafeHTMLCollection),ze.default.instanceOf(gi.SafeNodeList),ze.default.arrayOf(ze.default.instanceOf(MS.default))]),onAfterOpen:ze.default.func,onRequestClose:ze.default.func,closeTimeoutMS:ze.default.number,ariaHideApp:ze.default.bool,shouldFocusAfterRender:ze.default.bool,shouldCloseOnOverlayClick:ze.default.bool,shouldReturnFocusAfterClose:ze.default.bool,preventScroll:ze.default.bool,parentSelector:ze.default.func,aria:ze.default.object,data:ze.default.object,role:ze.default.string,contentLabel:ze.default.string,shouldCloseOnEsc:ze.default.bool,overlayRef:ze.default.func,contentRef:ze.default.func,id:ze.default.string,overlayElement:ze.default.func,contentElement:ze.default.func};fu.defaultProps={isOpen:!1,portalClassName:cie,bodyOpenClassName:die,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(e,n){return wm.default.createElement("div",e,n)},contentElement:function(e,n){return wm.default.createElement("div",e,n)}};fu.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}};(0,iie.polyfill)(fu);Va.default=fu;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Va,s=i(n);function i(a){return a&&a.__esModule?a:{default:a}}e.default=s.default,t.exports=e.default})(ny,ny.exports);var uie=ny.exports;const hie=oy(uie),pie=({tags:t,setTags:e})=>{const[n,s]=p.useState(""),i=c=>{s(c.target.value)},a=()=>{n.trim()!==""&&(e([...t,n.trim()]),s(""))},o=c=>{c.key==="Enter"&&a()},l=c=>{e(t.filter(d=>d!==c))};return r.jsxs("div",{children:[(t==null?void 0:t.length)>0&&r.jsx("div",{className:"flex items-center gap-2 flex-wrap mt-2",children:t.map((c,d)=>r.jsxs("span",{className:"flex items-center gap-2 text-sm text-yellow-300 bg-blue-800 px-3 py-1 rounded",children:["# ",c,r.jsx("button",{onClick:()=>{l(c)},children:r.jsx(Ci,{})})]},d))}),r.jsxs("div",{className:" flex items-center gap-4 mt-3",children:[r.jsx("input",{type:"text",value:n,className:"text-sm bg-transparent border px-3 py-2 rounded outline-none",placeholder:"Add tags",onChange:i,onKeyDown:o}),r.jsx("button",{className:"w-8 h-8 flex items-center justify-center rounded border border-blue-700 hover:bg-blue-700",onClick:()=>{a()},children:r.jsx(H_,{className:"text-2xl text-blue-700 hover:text-white"})})]})]})},mie=({propertyData:t,type:e,getAllProperties:n,showToastMessage:s,onClose:i})=>{const[a,o]=p.useState((t==null?void 0:t.title)||""),[l,c]=p.useState((t==null?void 0:t.content)||""),[d,u]=p.useState((t==null?void 0:t.tags)||[]),[h,m]=p.useState((t==null?void 0:t.price)||0),[f,x]=p.useState((t==null?void 0:t.bedrooms)||1),[g,b]=p.useState((t==null?void 0:t.bathrooms)||1),[y,v]=p.useState((t==null?void 0:t.distanceFromUniversity)||0),[w,N]=p.useState((t==null?void 0:t.address)||{street:"",city:"",state:"",zipCode:""}),[j,k]=p.useState((t==null?void 0:t.availabilityStatus)||"available"),[P,S]=p.useState((t==null?void 0:t.contactInfo)||{name:"",phone:"",email:""}),[E,T]=p.useState((t==null?void 0:t.description)||""),[W,F]=p.useState((t==null?void 0:t.isFeatured)||!1),[D,A]=p.useState(null),[_,z]=p.useState([]),I=B=>{z([..._,...B])},{getRootProps:M,getInputProps:$}=pu({onDrop:I,accept:"image/*"}),O=async()=>{const B=new FormData;_.forEach(U=>{B.append("images",U)});try{return(await ge.post("/upload-images",B,{headers:{"Content-Type":"multipart/form-data"}})).data.imageUrls}catch(U){throw console.error("Error uploading images:",U),new Error("Failed to upload images")}},L=async()=>{try{const B=await O(),U=await ge.post("/add-property",{title:a,content:l,tags:d,price:h,bedrooms:f,bathrooms:g,distanceFromUniversity:y,address:w,availabilityStatus:j,contactInfo:P,description:E,isFeatured:W,images:B});U.data&&U.data.property&&(s("Property Added Successfully"),n(),i())}catch(B){B.response&&B.response.data&&B.response.data.message&&A(B.response.data.message)}},Y=async()=>{const B=t._id;try{const U=await O(),V=await ge.put("/edit-property/"+B,{title:a,content:l,tags:d,price:h,bedrooms:f,bathrooms:g,distanceFromUniversity:y,address:w,availabilityStatus:j,contactInfo:P,description:E,isFeatured:W,images:U});V.data&&V.data.property&&(s("Property Updated Successfully"),n(),i())}catch(U){U.response&&U.response.data&&U.response.data.message&&A(U.response.data.message)}},K=()=>{if(!a){A("Please enter the title");return}if(!l){A("Please enter the content");return}A(""),e==="edit"?Y():L()};return r.jsxs("div",{className:"relative p-4 max-w-4xl mx-auto bg-white rounded-lg shadow-lg",children:[r.jsx("button",{className:"absolute top-3 right-3 text-gray-400 hover:text-gray-600",onClick:i,children:r.jsx(Ci,{size:24})}),r.jsxs("div",{className:"grid grid-cols-4 gap-x-6 gap-y-4 p-4",children:[r.jsxs("div",{className:"col-span-2",children:[r.jsx("label",{children:"Title:"}),r.jsx("input",{type:"text",value:a,onChange:({target:B})=>o(B.value),className:"w-full p-2 border rounded",placeholder:"Enter the property title"})]}),r.jsxs("div",{className:"col-span-2",children:[r.jsx("label",{children:"Content:"}),r.jsx("textarea",{value:l,onChange:({target:B})=>c(B.value),className:"w-full p-2 border rounded",rows:"3",placeholder:"Describe the property"})]}),r.jsxs("div",{className:"col-span-2",children:[r.jsx("label",{children:"Upload Images:"}),r.jsxs("div",{...M(),className:"border-dashed border-2 p-4 text-center",children:[r.jsx("input",{...$()}),r.jsx("p",{children:"Drag & drop images here, or click to select files"})]}),r.jsx("div",{className:"mt-4",children:_.map((B,U)=>r.jsx("div",{className:"mt-2",children:B.name},U))})]}),r.jsxs("div",{children:[r.jsx("label",{children:"Price ($):"}),r.jsx("input",{type:"number",value:h,onChange:({target:B})=>m(Number(B.value)),className:"w-full p-2 border rounded"})]}),r.jsxs("div",{children:[r.jsx("label",{children:"Bedrooms:"}),r.jsx("input",{type:"number",value:f,onChange:({target:B})=>x(Number(B.value)),className:"w-full p-2 border rounded"})]}),r.jsxs("div",{children:[r.jsx("label",{children:"Bathrooms:"}),r.jsx("input",{type:"number",value:g,onChange:({target:B})=>b(Number(B.value)),className:"w-full p-2 border rounded"})]}),r.jsxs("div",{children:[r.jsx("label",{children:"Distance from University (miles):"}),r.jsx("input",{type:"number",value:y,onChange:({target:B})=>v(Number(B.value)),className:"w-full p-2 border rounded"})]}),r.jsxs("div",{className:"col-span-2",children:[r.jsx("label",{children:"Address:"}),r.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[r.jsx("input",{type:"text",value:w.street,onChange:({target:B})=>N({...w,street:B.value}),className:"col-span-2 p-2 border rounded",placeholder:"Street"}),r.jsx("input",{type:"text",value:w.city,onChange:({target:B})=>N({...w,city:B.value}),className:"p-2 border rounded",placeholder:"City"}),r.jsx("input",{type:"text",value:w.state,onChange:({target:B})=>N({...w,state:B.value}),className:"p-2 border rounded",placeholder:"State"}),r.jsx("input",{type:"text",value:w.zipCode,onChange:({target:B})=>N({...w,zipCode:B.value}),className:"p-2 border rounded",placeholder:"Zip Code"})]})]}),r.jsxs("div",{className:"col-span-2",children:[r.jsx("label",{children:"Contact Information:"}),r.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[r.jsx("input",{type:"text",value:P.name,onChange:({target:B})=>S({...P,name:B.value}),className:"p-2 border rounded",placeholder:"Contact Name"}),r.jsx("input",{type:"text",value:P.phone,onChange:({target:B})=>S({...P,phone:B.value}),className:"p-2 border rounded",placeholder:"Contact Phone"}),r.jsx("input",{type:"email",value:P.email,onChange:({target:B})=>S({...P,email:B.value}),className:"p-2 border rounded",placeholder:"Contact Email"})]})]}),r.jsxs("div",{className:"col-span-2 flex items-center",children:[r.jsx("input",{type:"checkbox",checked:W,onChange:({target:B})=>F(B.checked),className:"mr-2"}),r.jsx("label",{children:"Feature this property"})]}),r.jsxs("div",{className:"col-span-2",children:[r.jsx("label",{children:"Availability Status:"}),r.jsxs("select",{value:j,onChange:({target:B})=>k(B.value),className:"w-full p-2 border rounded",children:[r.jsx("option",{value:"available",children:"Available"}),r.jsx("option",{value:"rented",children:"Rented"})]})]}),r.jsxs("div",{className:"col-span-2",children:[r.jsx("label",{children:"Tags:"}),r.jsx(pie,{tags:d,setTags:u})]}),D&&r.jsx("p",{className:"text-red-500",children:D}),r.jsx("button",{className:"col-span-2 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",onClick:K,children:e==="edit"?"Update":"Add"})]})]})};function fie(t){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 6 9 17l-5-5"},child:[]}]})(t)}const gie=({isShown:t,message:e,type:n,onClose:s})=>(p.useEffect(()=>{const i=setTimeout(()=>{s()},3e3);return()=>{clearTimeout(i)}},[s]),r.jsx("div",{className:`absolute top-20 right-6 transition-all duration-400 ${t?"opacity-100":"opacity-0"}`,children:r.jsx("div",{className:`min-w-52 bg-white border shadow-2xl rounded-md after:w-[5px] after:h-full ${n==="delete"?"after:bg-red-500":"after:bg-green-500"} after:absolute after:left-0 after:top-0 after:rounded-l-lg`,children:r.jsxs("div",{className:"flex items-center gap-3 py-2 px-4",children:[r.jsx("div",{className:`w-10 h-10 flex items-center justify-center rounded-full ${n==="delete"?"bg-red-50":"bg-green-50"}`,children:n==="delete"?r.jsx(xV,{className:"text-xl text-red-500"}):r.jsx(fie,{className:"text -xl text-green-500"})}),r.jsx("p",{className:"text-sm text-slate-8000",children:e})]})})})),xie=!1,gh=(...t)=>t.filter(Boolean).join(" "),ei=t=>typeof t=="number"&&!Number.isNaN(t)?`$${t.toLocaleString()}`:null;var FS;const IS=(((FS=ge==null?void 0:ge.defaults)==null?void 0:FS.baseURL)||"").replace(/\/+$/,""),vie=(t="")=>/^https?:\/\//i.test(t),yie=(t="")=>{if(!t)return"";if(vie(t))return t;if(!IS)return t.startsWith("/")?t:`/${t}`;const e=t.startsWith("/")?t:`/${t}`;return`${IS}${e}`},sA=t=>{const e=t??{};let n=[];return Array.isArray(e.images)?n=e.images:Array.isArray(e.photos)?n=e.photos:typeof e.image=="string"?n=[e.image]:typeof e.thumbnailUrl=="string"&&(n=[e.thumbnailUrl]),n.filter(Boolean).map(yie)},OS=t=>{const e=sA(t);return e.length?e[0]:""},fx=(...t)=>{const e=[];for(const n of t)e.push(...sA(n));return Array.from(new Set(e))},gx=t=>`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`,RS=t=>{if(!t)return null;const e=new Date(t);if(Number.isNaN(e.getTime()))return null;const n=Math.floor((Date.now()-e.getTime())/(1e3*60*60*24));return n<0?null:n===0?"Today":n===1?"1 day ago":`${n} days ago`},DS=(t,e)=>{if(!t||!e)return null;const n=u=>u*Math.PI/180,s=3958.8,i=n(e.lat-t.lat),a=n(e.lng-t.lng),o=n(t.lat),l=n(e.lat),c=Math.sin(i/2)**2+Math.cos(o)*Math.cos(l)*Math.sin(a/2)**2,d=2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c));return Math.round(s*d*10)/10},$S=t=>typeof t=="number"&&t>0?ei(t):"Not set";function xh({children:t,onClick:e}){return r.jsx("button",{type:"button",onClick:e,className:"inline-flex items-center gap-2 rounded-full border border-black/10 bg-black/[0.04] px-3 py-1 text-sm text-black/80 hover:bg-black/[0.08]",children:t})}function xx({label:t,type:e="number",value:n,onChange:s,onApply:i,min:a}){return r.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[r.jsx("label",{className:"text-sm text-black/70 w-24",children:t}),r.jsx("input",{type:e,min:a,value:n??"",onChange:o=>s==null?void 0:s(o.target.value),className:"w-40 rounded-md border border-black/10 bg-white px-2 py-1 text-sm outline-none"}),r.jsx("button",{onClick:i,className:"rounded-md bg-black px-3 py-1 text-sm text-white hover:bg-black/90",children:"Apply"})]})}function vh({children:t,onClick:e}){return r.jsx("button",{onClick:e,className:"inline-flex items-center rounded-full bg-black/5 px-2.5 py-1 text-xs hover:bg-black/10",children:t})}function bie({agent:t,onAnswer:e,loading:n}){return t?r.jsxs("div",{className:"space-y-2",children:[(t.messages||[]).map((s,i)=>r.jsx("div",{className:s.role==="assistant"?"rounded-lg bg-black/[0.04] p-3 text-sm":"rounded-lg border border-black/10 p-3 text-sm",children:s.text},i)),n&&r.jsx("div",{className:"rounded-lg bg-black/[0.03] p-3 text-sm text-black/60",children:"Working searching sources and ranking matches."}),!!(t.questions||[]).length&&r.jsx("div",{className:"grid grid-cols-1 gap-2 sm:grid-cols-2 items-start",children:(t.questions||[]).map((s,i)=>r.jsxs("div",{className:"h-full rounded-lg border border-black/10 bg-white px-3 py-2",children:[r.jsx("div",{className:"mb-1 text-xs font-semibold text-black/70",children:s.text}),r.jsx("div",{className:"flex flex-wrap gap-2",children:(s.options||[]).map((a,o)=>r.jsx("button",{className:"rounded-full bg-black/5 px-3 py-1 text-sm hover:bg-black/10",onClick:()=>e==null?void 0:e(a),children:a.label},o))})]},i))})]}):null}function wie({firstName:t,value:e,setValue:n,onSubmit:s,onNewProperty:i,onNewItem:a}){const o=Fe.useRef(null),[l,c]=p.useState(!1),d=p.useRef(""),[u,h]=p.useState(!1);function m({onPickTemplate:x,getValue:g,onAutoMicChanged:b}){const[y,v]=Fe.useState(!1),[w,N]=Fe.useState(!1),j=Fe.useRef(null);Fe.useEffect(()=>b==null?void 0:b(w),[w,b]),Fe.useEffect(()=>{if(!y)return;const P=E=>{j.current&&!j.current.contains(E.target)&&v(!1)},S=E=>E.key==="Escape"&&v(!1);return document.addEventListener("mousedown",P),document.addEventListener("keydown",S),()=>{document.removeEventListener("mousedown",P),document.removeEventListener("keydown",S)}},[y]);const k=["Find me a room near campus under $900 for October","2BR within 1 mile under $1200, in-unit laundry","Short-term sublease OctDec, budget $800"];return r.jsxs("div",{ref:j,className:"relative",children:[r.jsxs("button",{type:"button",onClick:()=>v(P=>!P),"aria-expanded":y,className:"inline-flex items-center gap-1 rounded-md bg-white/10 px-2.5 py-1 text-xs hover:bg-white/15",children:[r.jsx(TV,{className:"text-sm"})," Templates"]}),y&&r.jsxs("div",{className:"absolute left-0 top-[115%] z-20 w-[min(520px,92vw)] rounded-xl border border-white/10 bg-black/70 p-3 text-white/90 shadow-lg backdrop-blur",children:[r.jsx("div",{className:"mb-1 text-[11px] uppercase tracking-wide text-white/60",children:"Templates"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[k.map((P,S)=>r.jsx("button",{type:"button",onClick:()=>{x==null||x(P),v(!1)},className:"rounded-full border border-white/15 bg-white/10 px-3 py-1 text-sm hover:bg-white/20",children:P},S)),r.jsx("button",{type:"button",onClick:()=>{x==null||x(((g==null?void 0:g())||"")+" near campus"),v(!1)},className:"rounded-full border border-white/15 bg-white/10 px-3 py-1 text-sm hover:bg-white/20",title:"Quick nudge",children:"+ near campus"})]}),r.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"checkbox",checked:w,onChange:P=>N(P.target.checked),className:"h-4 w-4 accent-white/80"}),"Auto-run after voice input"]}),r.jsx("button",{type:"button",onClick:()=>v(!1),className:"rounded-md bg-white/10 px-2 py-1 text-xs hover:bg-white/20",children:"Close"})]})]})]})}p.useEffect(()=>()=>{var x,g;try{(g=(x=o.current)==null?void 0:x.abort)==null||g.call(x)}catch{}},[]);const f=()=>{var b,y;if(l){try{(y=(b=o.current)==null?void 0:b.stop)==null||y.call(b)}catch{}return}const x=window.SpeechRecognition||window.webkitSpeechRecognition;if(!x){alert("Speech recognition isnt supported in this browser. Try Chrome or Edge.");return}const g=new x;g.lang="en-US",g.interimResults=!0,g.continuous=!1,g.onstart=()=>{d.current=e||"",c(!0)},g.onresult=v=>{let w="";for(let j=0;j<v.results.length;j++)w+=v.results[j][0].transcript;w=w.trim();const N=d.current.trim();n(N?`${N} ${w}`:w)},g.onerror=()=>{c(!1),o.current=null},g.onend=()=>{c(!1),o.current=null},o.current=g,g.start()};return r.jsx("section",{className:"nr-hero-bg nr-hero-starry",children:r.jsxs("div",{className:"mx-auto max-w-7xl px-4 pt-16 pb-10",children:[r.jsx("p",{className:"mb-2 text-center text-[11px] tracking-[0.18em] text-white/60 uppercase",children:"Limited Beta"}),r.jsxs("header",{className:"text-center",children:[r.jsxs("h1",{className:"text-[clamp(2.6rem,5vw,4rem)] font-extrabold leading-tight tracking-tight",children:["Master campus life in"," ",r.jsx("span",{className:"bg-gradient-to-r from-orange-400 to-amber-500 bg-clip-text text-transparent",children:"Solve Threads"}),t?`, ${t}`:""]}),r.jsx("p",{className:"mx-auto mt-2 max-w-3xl text-white/75",children:"Tell NewRun what you need. Well scout, message, and organize next steps for you."})]}),r.jsx("div",{className:"mx-auto mt-6 max-w-3xl",children:r.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/[0.05] p-2 backdrop-blur",children:[r.jsx("div",{className:"flex items-center justify-between px-2 pb-2 text-white/70",children:r.jsx(m,{onPickTemplate:x=>n(x),getValue:()=>e,onAutoMicChanged:x=>h(x)})}),r.jsxs("div",{className:"flex items-center gap-2 px-1 pb-1",children:[r.jsx("input",{value:e,onChange:x=>n(x.target.value),onKeyDown:x=>{x.key==="Enter"&&!x.shiftKey&&(x.preventDefault(),s==null||s())},placeholder:'Try: "Find me a room near campus under $900 for October"',className:"flex-1 rounded-xl bg-transparent px-4 py-3 text-[15px] text-white outline-none placeholder:text-white/40"}),r.jsx("button",{type:"button",onClick:f,className:"grid h-10 w-10 place-items-center rounded-xl text-white transition "+(l?"bg-white/20 ring-2 ring-amber-500 animate-pulse":"bg-white/10 hover:bg-white/15"),"aria-label":l?"Stop voice input":"Start voice input","aria-pressed":l,title:l?"Listening click to stop":"Voice",children:r.jsx(kV,{})}),r.jsxs("button",{onClick:()=>s==null?void 0:s(),className:"inline-flex items-center gap-2 rounded-xl bg-gradient-to-r from-orange-500 to-amber-500 px-4 py-2.5 text-sm font-semibold text-black hover:opacity-95",children:["Start solving ",r.jsx(Zb,{className:"text-[14px]"})]})]})]})}),r.jsx("p",{className:"mt-5 text-center text-xs text-white/70",children:"Over 200+ campus requests solved this week."})]})})}function jie({initialText:t,onCreateProperty:e,onClose:n}){const[s,i]=p.useState(!0),[a,o]=p.useState(null),[l,c]=p.useState([]),[d,u]=p.useState([]),[h,m]=p.useState(null),[f,x]=p.useState({}),[g,b]=p.useState(new Set),[y,v]=p.useState(null),[w,N]=p.useState(null),[j,k]=p.useState(!1),[P,S]=p.useState(0),[E,T]=p.useState(new Set),[W,F]=p.useState(new Set),[D,A]=p.useState(new Set),[_,z]=p.useState({}),[I,M]=p.useState(!1),[$,O]=p.useState({maxPrice:void 0,moveIn:void 0,distanceMiles:void 0}),L=12,[Y,K]=p.useState(1),[B,U]=p.useState(!1),[V,G]=p.useState({messages:[],questions:[],relaxations:[]}),X=R=>{const xe=[],ie=(R==null?void 0:R.criteria)||{},Pe=[];typeof ie.maxPrice=="number"&&Pe.push(` ${ei(ie.maxPrice)}`),ie.moveIn&&Pe.push(`move-in ${ie.moveIn}`),typeof ie.distanceMiles=="number"&&Pe.push(`${ie.distanceMiles} mi`),ie.campus&&Pe.push(ie.campus),xe.push({role:"assistant",text:`I parsed your request${Pe.length?`: ${Pe.join("  ")}`:""}.`});const Ce=Array.isArray(R==null?void 0:R.plan)?R.plan:[];return Ce[0]&&xe.push({role:"assistant",text:Ce[0]}),xe},oe=R=>{const xe=[],ie=(R==null?void 0:R.criteria)||{};if(!ie.moveIn){const Pe=new Date,Ce=gx(Pe),Qt=gx(new Date(Pe.getFullYear(),9,1));xe.push({id:"moveIn",text:"Do you have a move-in date?",options:[{label:"Oct 1",key:"moveIn",value:Qt},{label:"This month",key:"moveIn",value:Ce},{label:"Skip",key:null,value:null}]})}return typeof ie.distanceMiles!="number"&&xe.push({id:"distanceMiles",text:"How close to campus?",options:[{label:" 0.5 mi",key:"distanceMiles",value:.5},{label:" 1 mi",key:"distanceMiles",value:1},{label:" 2 mi",key:"distanceMiles",value:2}]}),xe},ne=R=>{if(!R||!R.key)return;const xe={...H(),[R.key]:R.value};O(ie=>({...ie,[R.key]:R.value})),te({filters:xe,page:1,append:!1})},H=()=>{const R={};return typeof $.maxPrice=="number"&&$.maxPrice>0&&(R.maxPrice=$.maxPrice),$.moveIn&&(R.moveIn=$.moveIn),typeof $.distanceMiles=="number"&&$.distanceMiles>0&&(R.distanceMiles=$.distanceMiles),R},[Z,fe]=p.useState(null),[ce,de]=p.useState(!1),te=async(R={})=>{try{i(!0);const xe={prompt:t||"",page:R.page??1,limit:L};R.filters&&(xe.filters=R.filters);const{data:ie}=await ge.post("/solve/housing",xe);m((ie==null?void 0:ie.threadId)||null),o((ie==null?void 0:ie.criteria)||null),u(Array.isArray(ie==null?void 0:ie.plan)?ie.plan:[]);const Pe=Array.isArray(ie==null?void 0:ie.candidates)?ie.candidates:[];G({messages:Array.isArray(ie==null?void 0:ie.messages)&&ie.messages.length?ie.messages:X(ie),questions:Array.isArray(ie==null?void 0:ie.questions)?ie.questions:oe(ie),relaxations:Array.isArray(ie==null?void 0:ie.suggestedRelaxations)?ie.suggestedRelaxations:[]}),c(Ce=>R.append?[...Ce,...Pe]:Pe),U(!!(ie!=null&&ie.hasMore)||Pe.length===L),K(xe.page),O(Ce=>{var Qt,kn,In;return{maxPrice:Ce.maxPrice!==void 0?Ce.maxPrice:typeof((Qt=ie==null?void 0:ie.criteria)==null?void 0:Qt.maxPrice)=="number"?ie.criteria.maxPrice:void 0,moveIn:Ce.moveIn!==void 0?Ce.moveIn:((kn=ie==null?void 0:ie.criteria)==null?void 0:kn.moveIn)||void 0,distanceMiles:Ce.distanceMiles!==void 0?Ce.distanceMiles:typeof((In=ie==null?void 0:ie.criteria)==null?void 0:In.distanceMiles)=="number"?ie.criteria.distanceMiles:void 0}})}catch{R.append||c([]),u([]),U(!1)}finally{i(!1)}},le=(R={})=>{const xe={};return typeof R.maxPrice=="number"&&R.maxPrice>0&&(xe.maxPrice=R.maxPrice),R.moveIn&&(xe.moveIn=R.moveIn),typeof R.distanceMiles=="number"&&R.distanceMiles>0&&(xe.distanceMiles=R.distanceMiles),xe},pe=()=>{const R={maxPrice:typeof(a==null?void 0:a.maxPrice)=="number"?a.maxPrice:void 0,moveIn:(a==null?void 0:a.moveIn)||void 0,distanceMiles:typeof(a==null?void 0:a.distanceMiles)=="number"?a.distanceMiles:void 0};O(R),te({filters:le(R),page:1,append:!1})},Q=typeof $.maxPrice=="number"&&$.maxPrice!==(a==null?void 0:a.maxPrice),we=!!$.moveIn&&$.moveIn!==(a==null?void 0:a.moveIn),be=typeof $.distanceMiles=="number"&&$.distanceMiles!==(a==null?void 0:a.distanceMiles),ee=Q||we||be,ue=p.useRef(!1);p.useEffect(()=>{const R=localStorage.getItem("solve:filters");if(R)try{const ie=JSON.parse(R);O(Pe=>({...Pe,...ie})),ue.current=!0,te({filters:{...typeof ie.maxPrice=="number"&&ie.maxPrice>0?{maxPrice:ie.maxPrice}:{},...ie.moveIn?{moveIn:ie.moveIn}:{},...typeof ie.distanceMiles=="number"&&ie.distanceMiles>0?{distanceMiles:ie.distanceMiles}:{}},page:1,append:!1})}catch{}const xe=localStorage.getItem("solve:threadId");xe&&m(xe)},[]),p.useEffect(()=>{ue.current||(te({page:1,append:!1}),ue.current=!0)},[t]),p.useEffect(()=>{try{const R=JSON.parse(localStorage.getItem("solve:favs")||"[]"),xe=JSON.parse(localStorage.getItem("solve:hidden")||"[]"),ie=JSON.parse(localStorage.getItem("solve:notes")||"{}"),Pe=JSON.parse(localStorage.getItem("solve:shortlistOnly")||"false");T(new Set(Array.isArray(R)?R:[])),F(new Set(Array.isArray(xe)?xe:[])),z(typeof ie=="object"&&ie?ie:{}),M(!!Pe)}catch{}},[]),p.useEffect(()=>{localStorage.setItem("solve:favs",JSON.stringify([...E]))},[E]),p.useEffect(()=>{localStorage.setItem("solve:hidden",JSON.stringify([...W]))},[W]),p.useEffect(()=>{localStorage.setItem("solve:notes",JSON.stringify(_))},[_]),p.useEffect(()=>{localStorage.setItem("solve:shortlistOnly",JSON.stringify(I))},[I]),p.useEffect(()=>{localStorage.setItem("solve:filters",JSON.stringify($))},[$]),p.useEffect(()=>{h&&localStorage.setItem("solve:threadId",h)},[h]),p.useEffect(()=>{const R=xe=>xe.key==="Escape"&&v(null);return window.addEventListener("keydown",R),()=>window.removeEventListener("keydown",R)},[]);const C=async()=>{await te({filters:H(),page:1,append:!1}),fe(null)},q=async R=>{try{x(ie=>({...ie,[R]:"requesting"}));const{data:xe}=await ge.post("/contact-access/request",{propertyId:R});xe!=null&&xe.self?x(ie=>({...ie,[R]:"self"})):xe!=null&&xe.approved?x(ie=>({...ie,[R]:"approved"})):xe!=null&&xe.pending||xe!=null&&xe.already?x(ie=>({...ie,[R]:"pending"})):x(ie=>({...ie,[R]:"pending"}))}catch{x(xe=>({...xe,[R]:"error"}))}},re=R=>{switch(R){case"requesting":return"Requesting";case"pending":return"Requested";case"approved":return"Approved";case"self":return"You own this";case"error":return"Failed, retry";default:return"Request contact"}},J=R=>R==="requesting"||R==="pending"||R==="approved"||R==="self",ae=R=>!(R==="requesting"||R==="pending"||R==="approved"||R==="self"),Se=R=>{T(xe=>{const ie=new Set(xe);return ie.has(R)?ie.delete(R):ie.add(R),ie})},Ee=R=>{F(xe=>{const ie=new Set(xe);return ie.add(R),ie})},Le=R=>{A(xe=>{const ie=new Set(xe);return ie.has(R)?ie.delete(R):ie.add(R),ie})},Ze=(R,xe)=>{z(ie=>({...ie,[R]:xe}))},it=l.filter(R=>!(W.has(R._id)||I&&!E.has(R._id))),sn=(R,xe)=>{xe||b(ie=>{const Pe=new Set(ie);return Pe.has(R)?Pe.delete(R):Pe.add(R),Pe})},qt=()=>b(new Set),bt=it.filter(R=>ae(f[R._id])).map(R=>R._id);p.useEffect(()=>{const R=new Set(it.map(xe=>xe._id));b(xe=>new Set([...xe].filter(ie=>R.has(ie))))},[it]);const tt=bt.length>0&&bt.every(R=>g.has(R)),Zt=()=>{b(R=>{if(tt)return new Set;const xe=new Set(R);return bt.forEach(ie=>xe.add(ie)),xe})},Mt=it.filter(R=>g.has(R._id)).slice(0,4);p.useEffect(()=>{b(R=>new Set([...R].filter(ie=>{const Pe=f[ie];return!(Pe==="requesting"||Pe==="pending"||Pe==="approved"||Pe==="self")})))},[f]),p.useEffect(()=>{if(!y)return;const R=xe=>{const ie=fx(w,y);ie.length&&(xe.key==="ArrowLeft"&&S(Pe=>(Pe-1+ie.length)%ie.length),xe.key==="ArrowRight"&&S(Pe=>(Pe+1)%ie.length))};return window.addEventListener("keydown",R),()=>window.removeEventListener("keydown",R)},[y,w]),p.useEffect(()=>{if(!y)return;const R=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=R}},[y]);const Xs=async()=>{if(g.size){for(const R of Array.from(g))ae(f[R])&&await q(R);qt()}},Kn=Object.values(f).reduce((R,xe)=>(xe==="pending"&&(R.requested+=1),xe==="approved"&&(R.approved+=1),R),{requested:0,approved:0});p.useEffect(()=>{const R=l.map(Ce=>Ce._id).filter(Ce=>["requesting","pending"].includes(f[Ce]));if(!R.length)return;let xe=!1;const ie=async()=>{try{const{data:Ce}=await ge.post("/contact-access/status",{ids:R});if(xe||!(Ce!=null&&Ce.statuses))return;x(Qt=>{const kn={...Qt};for(const In of Ce.statuses){const{id:se,status:je,self:ve}=In||{};se&&(kn[se]=ve?"self":je==="approved"?"approved":je==="pending"?"pending":je==="requesting"?"requesting":Qt[se])}return kn})}catch{}};ie();const Pe=setInterval(ie,8e3);return()=>{xe=!0,clearInterval(Pe)}},[l,f]);const Nn=[...g].filter(R=>ae(f[R])).length,Zs=R=>`/properties/${R}`,Za=async R=>{v(R),N(null),S(0);try{k(!0);const{data:xe}=await ge.get(Zs(R._id)),ie=(xe==null?void 0:xe.property)||xe;N(ie||null)}catch{N(null)}finally{k(!1)}},Ms=()=>{const R=[];return $.maxPrice&&R.push(`under ${ei($.maxPrice)}`),$.distanceMiles&&R.push(`within ${$.distanceMiles} mi`),$.moveIn&&R.push(`for ${$.moveIn}`),R.length?`No listings ${R.join(" ")}.`:"No listings matched your request."},Hr=a!=null&&a.campusLocation&&typeof a.campusLocation.lat=="number"&&typeof a.campusLocation.lng=="number"?{lat:a.campusLocation.lat,lng:a.campusLocation.lng}:null;return r.jsxs("div",{className:"space-y-5",children:[r.jsxs("header",{className:"flex items-center justify-between gap-3",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold",children:"Housing Solve Thread"}),r.jsx("p",{className:"mt-1 text-sm text-black/70",children:"We parsed your request and found matches. Well message owners via SafeContact. Typical replies: 2448h."}),r.jsxs("p",{className:"mt-1 text-xs text-black/60",children:["Requested: ",r.jsx("span",{className:"font-medium",children:Kn.requested}),"  Approved:"," ",r.jsx("span",{className:"font-medium",children:Kn.approved})]})]}),r.jsx("button",{onClick:e,className:"shrink-0 rounded-lg border border-black/10 bg-black text-white px-3 py-1.5 text-sm hover:bg-black/90",children:"Post my housing request"})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsxs(xh,{onClick:()=>fe(Z==="budget"?null:"budget"),children:[r.jsx("span",{className:"text-xs uppercase text-black/60",children:"Budget:"}),r.jsx("span",{className:"font-medium",children:$S($.maxPrice)}),Q&&r.jsx("span",{className:"text-xs text-black/50 ml-1",children:"(saved)"})]}),r.jsxs(xh,{onClick:()=>fe(Z==="date"?null:"date"),children:[r.jsx("span",{className:"text-xs uppercase text-black/60",children:"Move-in:"}),r.jsx("span",{className:"font-medium",children:$.moveIn||"Not set"}),we&&r.jsx("span",{className:"text-xs text-black/50 ml-1",children:"(saved)"})]}),r.jsxs(xh,{onClick:()=>fe(Z==="distance"?null:"distance"),children:[r.jsx("span",{className:"text-xs uppercase text-black/60",children:"Distance:"}),r.jsx("span",{className:"font-medium",children:$.distanceMiles?`${$.distanceMiles} mi`:"Not set"}),be&&r.jsx("span",{className:"text-xs text-black/50 ml-1",children:"(saved)"})]}),r.jsxs(xh,{onClick:()=>M(R=>!R),children:[r.jsx("span",{className:"text-xs uppercase text-black/60",children:"Shortlist:"}),r.jsx("span",{className:"font-medium",children:I?"On":"Off"})]}),ee&&r.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[r.jsx("span",{className:"rounded-full bg-amber-100 text-amber-800 px-2 py-0.5 text-xs",children:"Filters override parsed"}),r.jsx("button",{onClick:pe,className:"text-xs underline text-black/70 hover:text-black",children:"Use parsed"})]})]}),Z==="budget"&&r.jsx(xx,{label:"Max budget ($)",type:"number",min:0,value:$.maxPrice??"",onChange:R=>O(xe=>({...xe,maxPrice:R===""?void 0:Number(R)})),onApply:C}),Z==="date"&&r.jsx(xx,{label:"Move-in date",type:"date",value:$.moveIn??"",onChange:R=>O(xe=>({...xe,moveIn:R||void 0})),onApply:C}),Z==="distance"&&r.jsx(xx,{label:"Within (mi)",type:"number",min:0,value:$.distanceMiles??"",onChange:R=>O(xe=>({...xe,distanceMiles:R===""?void 0:Number(R)})),onApply:C}),r.jsx(bie,{agent:V,onAnswer:ne,loading:s&&l.length===0}),r.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[r.jsxs("div",{className:"rounded-xl border border-black/10 bg-black/[0.03] p-3 text-sm",children:[r.jsx("div",{className:"text-xs font-semibold text-black/60",children:"Criteria"}),r.jsxs("ul",{className:"mt-1 list-disc pl-4",children:[r.jsxs("li",{children:["Max price: ",$S(a==null?void 0:a.maxPrice)]}),(a==null?void 0:a.moveIn)&&r.jsxs("li",{children:["Move-in: ",a.moveIn]}),typeof(a==null?void 0:a.distanceMiles)=="number"&&r.jsxs("li",{children:["Within ",a.distanceMiles," miles"]}),!!((a==null?void 0:a.keywords)||[]).length&&r.jsxs("li",{children:["Keywords: ",(a.keywords||[]).join(", ")]}),(a==null?void 0:a.campus)&&r.jsxs("li",{children:["Campus: ",a.campus]}),typeof(a==null?void 0:a.bedrooms)=="number"&&r.jsxs("li",{children:["Bedrooms: ",a.bedrooms,"+"]}),typeof(a==null?void 0:a.bathrooms)=="number"&&r.jsxs("li",{children:["Bathrooms: ",a.bathrooms,"+"]})]})]}),r.jsxs("div",{className:"rounded-xl border border-black/10 bg-black/[0.03] p-3 text-sm",children:[r.jsx("div",{className:"text-xs font-semibold text-black/60",children:"Plan"}),r.jsx("ul",{className:"mt-1 list-disc pl-4",children:(d.length?d:["We parsed your request into search criteria.","Here are matching listings  select ones you like.","Tap Request contact to ask owners (uses SafeContact).","Typical owner replies: 2448h."]).map((R,xe)=>r.jsx("li",{children:R},xe))})]})]}),s?r.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:Array.from({length:4}).map((R,xe)=>r.jsx("div",{className:"h-40 animate-pulse rounded-xl bg-black/5"},xe))}):it.length===0?r.jsxs("div",{className:"rounded-xl border border-black/10 bg-black/[0.03] p-6 text-center text-black/80 space-y-3",children:[r.jsx("div",{children:Ms()}),r.jsxs("div",{className:"flex flex-wrap justify-center gap-2",children:[r.jsx(vh,{onClick:()=>O(R=>({...R,maxPrice:(Number(R.maxPrice)||0)+100})),children:"+ Increase budget by $100"}),r.jsx(vh,{onClick:()=>O(R=>({...R,distanceMiles:(Number(R.distanceMiles)||0)+.5})),children:"+ Expand radius to +0.5 mi"}),r.jsx(vh,{onClick:()=>O(R=>({...R,moveIn:R.moveIn||gx(new Date)})),children:"+ Set a move-in date"}),r.jsx(vh,{onClick:C,children:"Apply nudges"})]}),r.jsx("div",{children:r.jsx("button",{className:"mt-2 rounded-lg bg-black px-4 py-2 text-sm text-white hover:bg-black/90",onClick:e,children:"Post my housing request"})})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:it.map(R=>{var Qt,kn;const xe=OS(R),ie=f[R._id],Pe=RS(R==null?void 0:R.createdAt);let Ce=null;if(typeof(R==null?void 0:R.distanceMiles)=="number")Ce=R.distanceMiles;else if(Hr&&((Qt=R==null?void 0:R.location)!=null&&Qt.coordinates)&&Array.isArray(R.location.coordinates)&&R.location.coordinates.length===2){const[In,se]=R.location.coordinates,je=DS(Hr,{lat:se,lng:In});typeof je=="number"&&(Ce=je)}return r.jsxs("div",{className:"overflow-hidden rounded-xl border border-black/10 bg-white",children:[r.jsx("div",{className:"aspect-[16/10] w-full bg-black/5",children:xe?r.jsx("img",{src:xe,alt:R.title,className:"h-full w-full object-cover",onError:In=>{In.currentTarget.style.display="none"}}):null}),r.jsxs("div",{className:"p-3",children:[r.jsxs("div",{className:"flex items-center justify-between gap-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox","aria-label":"Select listing",checked:g.has(R._id),disabled:!ae(ie),onChange:()=>sn(R._id,!ae(ie)),className:`h-4 w-4 accent-black ${ae(ie)?"":"opacity-50 cursor-not-allowed"}`}),r.jsx("h4",{className:"line-clamp-1 font-semibold",children:R.title})]}),typeof R.price=="number"&&r.jsx("span",{className:"rounded-full bg-black/5 px-2.5 py-0.5 text-sm font-medium",children:ei(R.price)}),typeof R.matchScore=="number"&&r.jsxs("span",{className:"rounded-full bg-black/5 px-2 py-0.5 text-[11px] text-black/70",children:[Math.round(R.matchScore),"% match"]}),r.jsx("button",{type:"button",onClick:()=>Se(R._id),className:"grid h-8 w-8 place-items-center rounded-md bg-black/5 hover:bg-black/10",title:E.has(R._id)?"Remove from shortlist":"Add to shortlist","aria-pressed":E.has(R._id),children:E.has(R._id)?r.jsx(ef,{className:"text-rose-600"}):r.jsx(Xb,{})}),r.jsx("button",{type:"button",onClick:()=>Ee(R._id),className:"grid h-8 w-8 place-items-center rounded-md bg-black/5 hover:bg-black/10",title:"Hide this listing",children:r.jsx(NV,{})})]}),r.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2 text-[12px] text-black/60",children:[Pe&&r.jsxs("span",{children:["Posted ",Pe]}),typeof Ce=="number"&&r.jsxs("span",{children:[" ",Ce," mi to campus"]}),Array.isArray(R.why)&&R.why.length>0&&r.jsxs("button",{type:"button",onClick:()=>Le(R._id),className:"inline-flex items-center gap-1 underline decoration-dotted underline-offset-2",title:"Why this matched?",children:[r.jsx(vV,{})," Why?"]})]}),r.jsx("p",{className:"mt-1 line-clamp-2 text-[13.5px] text-black/70",children:((kn=R.address)==null?void 0:kn.street)||R.address||R.description||""}),D.has(R._id)&&Array.isArray(R.why)&&R.why.length>0&&r.jsxs("div",{className:"mt-2 rounded-lg border border-black/10 bg-black/[0.03] p-2",children:[r.jsx("div",{className:"mb-1 text-xs font-semibold text-black/60",children:"Why this match"}),r.jsx("ul",{className:"list-disc pl-5 text-[13px] text-black/80",children:R.why.map((In,se)=>r.jsx("li",{children:In},se))})]}),ie&&r.jsx("div",{className:gh("mt-2 inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium",ie==="approved"?"bg-emerald-600 text-white":ie==="pending"?"bg-amber-400 text-black":ie==="self"?"bg-black text-white":ie==="error"?"bg-rose-600 text-white":"bg-black/5 text-black/70"),children:re(ie)}),r.jsx("div",{className:"mt-3 flex items-center justify-between gap-2",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>q(R._id),disabled:J(ie),"aria-busy":ie==="requesting",className:gh("rounded-lg px-3 py-1.5 text-sm font-medium",ie==="approved"?"bg-emerald-600 text-white":ie==="pending"?"bg-amber-500 text-black":ie==="self"?"bg-black text-white opacity-70":ie==="error"?"bg-rose-600 text-white":"bg-black text-white hover:bg-black/90"),children:re(ie)}),r.jsx("button",{onClick:()=>Za(R),className:"rounded-lg bg-black/5 px-3 py-1.5 text-sm hover:bg-black/10",children:"View details"})]})})]})]},R._id)})}),!s&&B&&r.jsx("div",{className:"mt-3 flex justify-center",children:r.jsx("button",{onClick:()=>te({filters:H(),page:Y+1,append:!0}),disabled:s,className:"rounded-md bg-black px-4 py-2 text-white hover:bg-black/90 disabled:opacity-60",children:"Load more results"})})]}),y&&r.jsx("div",{className:"fixed inset-0 z-40 flex items-start justify-end bg-black/30 backdrop-blur-sm",onClick:()=>{v(null),N(null)},role:"dialog","aria-modal":"true",children:r.jsxs("div",{className:"h-full w-[min(560px,92vw)] overflow-auto bg-white p-4 text-black shadow-2xl",onClick:R=>R.stopPropagation(),children:[r.jsxs("div",{className:"mb-3 flex items-start justify-between",children:[r.jsxs("div",{className:"min-w-0",children:[r.jsx("h4",{className:"truncate text-lg font-semibold",children:(w==null?void 0:w.title)||(y==null?void 0:y.title)||"Listing"}),r.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2 text-sm",children:[typeof((w==null?void 0:w.price)??(y==null?void 0:y.price))=="number"&&r.jsx("span",{className:"rounded-full bg-black/5 px-2.5 py-0.5 font-medium",children:ei((w==null?void 0:w.price)??(y==null?void 0:y.price))}),(()=>{const R=RS((w==null?void 0:w.createdAt)||(y==null?void 0:y.createdAt));return R?r.jsxs("span",{className:"text-black/60",children:["Posted ",R]}):null})()]})]}),r.jsx("button",{className:"rounded-md bg-black/5 px-2 py-1 text-sm",onClick:()=>{v(null),N(null)},children:"Close"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-full overflow-hidden rounded-lg bg-black/5",children:r.jsx("div",{className:"h-[260px] sm:h-[300px] md:h-[340px] lg:h-[380px] max-h-[62vh]",children:(()=>{const R=fx(w,y),xe=R==null?void 0:R[P];return R!=null&&R.length?r.jsx("img",{src:xe,alt:(w==null?void 0:w.title)||(y==null?void 0:y.title),className:"h-full w-full object-cover",draggable:!1,onError:ie=>{ie.currentTarget.style.display="none"}}):r.jsx("div",{className:"grid h-full w-full place-items-center text-sm text-black/50",children:j?"Loading photos":"No photos yet"})})()})}),(()=>{const R=fx(w,y);if(!(R!=null&&R.length))return null;const xe=()=>S(Pe=>(Pe-1+R.length)%R.length),ie=()=>S(Pe=>(Pe+1)%R.length);return r.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[r.jsx("button",{onClick:xe,className:"rounded-md bg-black/5 px-2 py-1 text-sm hover:bg-black/10",children:"Prev"}),r.jsxs("div",{className:"text-xs text-black/60",children:[P+1," / ",R.length]}),r.jsx("button",{onClick:ie,className:"rounded-md bg-black/5 px-2 py-1 text-sm hover:bg-black/10",children:"Next"})]})})()]}),r.jsx("div",{className:"mt-4 grid grid-cols-2 gap-3 text-[14px] sm:grid-cols-3",children:(()=>{const R=w||y||{},xe=[{icon:r.jsx(K_,{}),label:"Bedrooms",value:R.bedrooms},{icon:r.jsx(Jb,{}),label:"Bathrooms",value:R.bathrooms},{icon:r.jsx(CV,{}),label:"Sq Ft",value:R.sqft||R.squareFeet},{icon:r.jsx(gV,{}),label:"Move-in",value:R.moveIn||R.availableFrom},{icon:r.jsx(LV,{}),label:"Laundry",value:R.laundry||(R.inUnitLaundry?"In-unit":R.onSiteLaundry?"On-site":null)},{icon:r.jsx(AV,{}),label:"Parking",value:R.parking||(R.parkingAvailable?"Available":null)},{icon:r.jsx(bV,{}),label:"Pets",value:R.pets||(R.petsAllowed?"Allowed":R.pets?R.pets:null)},{icon:r.jsx(Bp,{}),label:"Distance",value:(()=>{var Pe,Ce;let ie=R.distanceMiles;if(ie==null&&Hr&&((Ce=(Pe=R==null?void 0:R.location)==null?void 0:Pe.coordinates)==null?void 0:Ce.length)===2){const[Qt,kn]=R.location.coordinates;ie=DS(Hr,{lat:kn,lng:Qt})}return typeof ie=="number"?`${ie} mi to campus`:null})()}].filter(ie=>ie.value!==void 0&&ie.value!==null&&ie.value!=="");return xe.length?xe.map((ie,Pe)=>r.jsxs("div",{className:"flex items-center gap-2 rounded-lg border border-black/10 bg-black/[0.03] px-2.5 py-2",children:[r.jsx("div",{className:"text-[18px] text-black/70",children:ie.icon}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"text-[12px] uppercase tracking-wide text-black/50",children:ie.label}),r.jsx("div",{className:"truncate",children:ie.value})]})]},Pe)):null})()}),(()=>{const R=w||y||{},xe=Array.isArray(R.amenities)&&R.amenities||Array.isArray(R.features)&&R.features||[];return xe.length?r.jsxs("div",{className:"mt-4",children:[r.jsx("div",{className:"mb-1 text-sm font-semibold",children:"Amenities"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:xe.map((ie,Pe)=>r.jsx("span",{className:"rounded-full bg-black/5 px-2.5 py-1 text-[13px]",children:ie},Pe))})]}):null})(),(()=>{const R=w||y||{},xe=R.deposit||R.securityDeposit,ie=R.fees||R.applicationFee,Pe=R.lease||R.leaseLength,Ce=(Array.isArray(R.utilitiesIncluded)&&R.utilitiesIncluded.length?R.utilitiesIncluded.join(", "):null)||(R.utilities&&typeof R.utilities=="string"?R.utilities:null);return!xe&&!ie&&!Pe&&!Ce?null:r.jsxs("div",{className:"mt-4 space-y-1",children:[r.jsx("div",{className:"text-sm font-semibold",children:"Pricing & Terms"}),r.jsxs("ul",{className:"list-disc pl-5 text-[14px]",children:[Pe&&r.jsxs("li",{children:["Lease: ",Pe]}),xe&&r.jsxs("li",{children:["Security deposit: ",ei(Number(xe))||xe]}),ie&&r.jsxs("li",{children:["Application fee: ",ei(Number(ie))||ie]}),Ce&&r.jsxs("li",{children:["Utilities included: ",Ce]})]})]})})(),(()=>{const R=(w==null?void 0:w.description)||(y==null?void 0:y.description);return R?r.jsxs("div",{className:"mt-4",children:[r.jsx("div",{className:"mb-1 text-sm font-semibold",children:"About this place"}),r.jsx("p",{className:"whitespace-pre-wrap text-[14px] text-black/80",children:R})]}):null})(),(()=>{var xe,ie;const R=((xe=w==null?void 0:w.address)==null?void 0:xe.street)||(w==null?void 0:w.address)||((ie=y==null?void 0:y.address)==null?void 0:ie.street)||(y==null?void 0:y.address);return R?r.jsxs("div",{className:"mt-4 text-[14px]",children:[r.jsx("div",{className:"mb-1 text-sm font-semibold",children:"Address"}),r.jsx("div",{className:"text-black/80",children:R})]}):null})(),r.jsxs("div",{className:"mt-4",children:[r.jsx("div",{className:"mb-1 text-sm font-semibold",children:"Your notes"}),r.jsx("textarea",{rows:3,value:_[y._id]||"",onChange:R=>Ze(y._id,R.target.value),className:"w-full rounded-md border border-black/10 bg-white p-2 text-[14px] outline-none",placeholder:"e.g., Ask about utilities, FaceTime tour at 5pm, roommate likes cats"})]}),r.jsxs("div",{className:"mt-6",children:[(()=>{const R=f[y._id];return r.jsx("button",{onClick:()=>q(y._id),disabled:J(R),className:gh("rounded-lg px-3 py-1.5 text-sm font-medium",R==="approved"?"bg-emerald-600 text-white":R==="pending"?"bg-amber-500 text-black":R==="self"?"bg-black text-white opacity-70":R==="error"?"bg-rose-600 text-white":"bg-black text-white hover:bg-black/90"),children:re(R)})})(),j&&r.jsx("div",{className:"mt-2 text-xs text-black/60",children:"Loading more details"})]})]})}),ce&&r.jsx("div",{className:"fixed inset-0 z-40 flex items-start justify-center bg-black/40 backdrop-blur-sm",onClick:()=>de(!1),role:"dialog","aria-modal":"true",children:r.jsxs("div",{className:"mt-6 max-h-[85vh] w-[min(980px,96vw)] overflow-auto rounded-2xl bg-white p-4 text-black shadow-2xl",onClick:R=>R.stopPropagation(),children:[r.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[r.jsxs("h4",{className:"text-lg font-semibold",children:["Compare ",Mt.length," places"]}),r.jsx("button",{className:"rounded-md bg-black/5 px-2 py-1 text-sm",onClick:()=>de(!1),children:"Close"})]}),r.jsx("div",{className:"grid auto-cols-[minmax(220px,1fr)] grid-flow-col gap-3",children:Mt.map(R=>{var Ce;const xe=OS(R),ie=f[R._id],Pe=[];return typeof R.price=="number"&&Pe.push(["Price",ei(R.price)]),typeof R.matchScore=="number"&&Pe.push(["Match",`${Math.round(R.matchScore)}%`]),typeof R.bedrooms=="number"&&Pe.push(["Bedrooms",R.bedrooms]),typeof R.bathrooms=="number"&&Pe.push(["Bathrooms",R.bathrooms]),(typeof R.sqft=="number"||R.squareFeet)&&Pe.push(["Sq Ft",R.sqft||R.squareFeet]),R.moveIn&&Pe.push(["Move-in",R.moveIn]),typeof R.distanceMiles=="number"&&Pe.push(["Distance",`${R.distanceMiles} mi`]),(R.laundry||R.inUnitLaundry||R.onSiteLaundry)&&Pe.push(["Laundry",R.laundry||(R.inUnitLaundry?"In-unit":R.onSiteLaundry?"On-site":"")]),(R.parking||R.parkingAvailable)&&Pe.push(["Parking",R.parking||(R.parkingAvailable?"Available":"")]),(R.pets||R.petsAllowed)&&Pe.push(["Pets",R.pets||(R.petsAllowed?"Allowed":"")]),r.jsxs("div",{className:"rounded-xl border border-black/10 bg-black/[0.02]",children:[r.jsx("div",{className:"aspect-[16/10] w-full overflow-hidden rounded-t-xl bg-black/5",children:xe&&r.jsx("img",{src:xe,alt:"",className:"h-full w-full object-cover",onError:Qt=>{Qt.currentTarget.style.display="none"}})}),r.jsxs("div",{className:"p-3",children:[r.jsx("div",{className:"mb-1 line-clamp-1 font-semibold",children:R.title}),r.jsx("div",{className:"mb-2 line-clamp-2 text-[13px] text-black/60",children:((Ce=R.address)==null?void 0:Ce.street)||R.address||""}),r.jsx("dl",{className:"space-y-1 text-[13px]",children:Pe.map(([Qt,kn],In)=>r.jsxs("div",{className:"flex justify-between gap-2",children:[r.jsx("dt",{className:"text-black/60",children:Qt}),r.jsx("dd",{className:"font-medium text-right",children:kn})]},In))}),r.jsx("div",{className:"mt-3",children:r.jsx("button",{onClick:()=>q(R._id),disabled:J(ie),className:gh("w-full rounded-md px-3 py-1.5 text-sm",ie==="approved"?"bg-emerald-600 text-white":ie==="pending"?"bg-amber-500 text-black":ie==="self"?"bg-black text-white opacity-70":ie==="error"?"bg-rose-600 text-white":"bg-black text-white hover:bg-black/90"),children:re(ie)})})]})]},R._id)})})]})}),g.size>0&&r.jsxs("div",{className:"sticky bottom-0 z-30 mt-2 flex items-center justify-between rounded-xl border border-black/10 bg-white px-3 py-2 text-sm shadow-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:Zt,className:"rounded-md bg-black/5 px-2 py-1",children:tt?"Unselect all":"Select all on page"}),r.jsxs("span",{className:"text-black/70",children:[g.size," selected"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:qt,className:"rounded-md bg-black/5 px-3 py-1.5",children:"Clear"}),r.jsxs("button",{onClick:()=>de(!0),disabled:Mt.length<2,className:`rounded-md px-3 py-1.5 ${Mt.length<2?"bg-black/30 text-white/70 cursor-not-allowed":"bg-black text-white hover:bg-black/90"}`,children:["Compare selected (",Mt.length,")"]}),r.jsxs("button",{onClick:Xs,disabled:Nn===0,className:`rounded-md px-3 py-1.5 ${Nn===0?"bg-black/30 text-white/70 cursor-not-allowed":"bg-black text-white hover:bg-black/90"}`,children:["Request contact for selected (",Nn,")"]})]})]}),r.jsx("div",{className:"flex justify-end gap-2 pt-2",children:r.jsx("button",{onClick:n,className:"rounded-lg bg-black px-4 py-2 text-sm text-white hover:bg-black/90",children:"Done"})})]})}function Nie(){var m;const t=dt(),[e,n]=p.useState({isShown:!1,type:"add",data:null,modalType:""}),[s,i]=p.useState({isShown:!1,type:"add",message:""}),[a,o]=p.useState(null),[l,c]=p.useState(""),d=async()=>{var f,x;try{const g=await ge.get("/get-user");return((f=g==null?void 0:g.data)==null?void 0:f.user)||null}catch(g){return((x=g==null?void 0:g.response)==null?void 0:x.status)===401&&(localStorage.clear(),t("/login")),null}};p.useEffect(()=>{let f=!0;return(async()=>{const x=await d();f&&o(x)})(),()=>{f=!1}},[]);const u=(f,x)=>i({isShown:!0,message:f,type:x}),h=()=>i({isShown:!1,message:""});return r.jsxs("div",{className:"nr-dots-page min-h-screen text-white",children:[r.jsx(ct,{userInfo:a,handleClearSearch:()=>{}}),r.jsx(wie,{firstName:a==null?void 0:a.firstName,value:l,setValue:c,onSubmit:()=>n({isShown:!0,type:"add",data:{__solveText:l},modalType:"solve-housing"})}),xie,r.jsxs(hie,{isOpen:e.isShown,onRequestClose:()=>n({isShown:!1,type:"add",data:null,modalType:""}),ariaHideApp:!1,overlayClassName:"fixed inset-0 bg-black/30 backdrop-blur-sm",className:"mx-auto mt-14 w-[min(960px,92vw)] max-h-[90vh] overflow-auto rounded-2xl border border-white/10 bg-white p-5 text-black shadow-2xl outline-none",children:[e.modalType==="property"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"New Property"}),r.jsx("button",{className:"grid h-8 w-8 place-items-center rounded-full bg-black/5",onClick:()=>n({isShown:!1,type:"add",data:null,modalType:""}),children:r.jsx(Ci,{})})]}),r.jsx(mie,{type:e.type,propertyData:e.data,onClose:()=>n({isShown:!1,type:"add",data:null,modalType:""}),getAllProperties:async()=>{},showToastMessage:(f,x)=>u(f,x||"add")})]}),e.modalType==="item"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"New Marketplace Item"}),r.jsx("button",{className:"grid h-8 w-8 place-items-center rounded-full bg-black/5",onClick:()=>n({isShown:!1,type:"add",data:null,modalType:""}),children:r.jsx(Ci,{})})]}),r.jsx(Fv,{type:e.type,itemData:e.data,onClose:()=>n({isShown:!1,type:"add",data:null,modalType:""}),getAllItems:async()=>{},showToastMessage:(f,x)=>u(f,x||"add")})]}),e.modalType==="solve-housing"&&r.jsx(jie,{initialText:((m=e==null?void 0:e.data)==null?void 0:m.__solveText)||"",onCreateProperty:()=>{var f;return n({isShown:!0,type:"add",data:{title:"Housing Request",description:((f=e==null?void 0:e.data)==null?void 0:f.__solveText)||""},modalType:"property"})},onClose:()=>n({isShown:!1,type:"add",data:null,modalType:""})})]}),r.jsx(gie,{isShown:s.isShown,message:s.message,type:s.type,onClose:h})]})}const kie=()=>{const t=dt(),e={hidden:{opacity:0,y:28},show:(n=0)=>({opacity:1,y:0,transition:{duration:.65,ease:"easeOut",delay:n*.08}})};return r.jsxs("div",{className:"body-obsidian min-h-screen",children:[r.jsx(ct,{}),r.jsx("div",{className:"flex items-center justify-center min-h-[80vh] px-4",children:r.jsxs("div",{className:"text-center max-w-2xl mx-auto",children:[r.jsxs(ye.div,{initial:"hidden",animate:"show",variants:e,className:"mb-8",children:[r.jsx("div",{className:"text-9xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-orange-400 to-cyan-400 mb-4",children:"404"}),r.jsx("div",{className:"w-24 h-1 bg-gradient-to-r from-orange-400 to-cyan-400 mx-auto rounded-full"})]}),r.jsxs(ye.div,{initial:"hidden",animate:"show",variants:e,custom:1,className:"mb-8",children:[r.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Oops! Page Not Found"}),r.jsx("p",{className:"text-xl text-white/70 mb-2",children:"The page you're looking for doesn't exist or has been moved."}),r.jsx("p",{className:"text-white/50",children:"Don't worry, let's get you back on track!"})]}),r.jsxs(ye.div,{initial:"hidden",animate:"show",variants:e,custom:2,className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[r.jsxs("button",{onClick:()=>t("/"),className:"group inline-flex items-center gap-2 rounded-full border border-white/20 bg-white/5 px-6 py-3 text-sm text-white/85 hover:bg-white/10 hover:border-white/30 transition-all duration-200",children:[r.jsx(oi,{className:"text-lg"}),"Go Home"]}),r.jsxs("button",{onClick:()=>t(-1),className:"group inline-flex items-center gap-2 rounded-full border border-white/20 bg-white/5 px-6 py-3 text-sm text-white/85 hover:bg-white/10 hover:border-white/30 transition-all duration-200",children:[r.jsx(q_,{className:"text-lg"}),"Go Back"]}),r.jsxs("button",{onClick:()=>t("/marketplace"),className:"group inline-flex items-center gap-2 rounded-full border border-white/20 bg-white/5 px-6 py-3 text-sm text-white/85 hover:bg-white/10 hover:border-white/30 transition-all duration-200",children:[r.jsx(Fp,{className:"text-lg"}),"Browse Marketplace"]})]}),r.jsxs(ye.div,{initial:"hidden",animate:"show",variants:e,custom:3,className:"mt-12",children:[r.jsx("p",{className:"text-white/50 text-sm mb-4",children:"Popular pages:"}),r.jsx("div",{className:"flex flex-wrap justify-center gap-4",children:[{path:"/marketplace",label:"Marketplace"},{path:"/all-properties",label:"Properties"},{path:"/Synapsematches",label:"Roommate Matches"},{path:"/community",label:"Community"},{path:"/blogs",label:"Blogs"}].map((n,s)=>r.jsx("button",{onClick:()=>t(n.path),className:"text-orange-400 hover:text-orange-300 text-sm transition-colors duration-200",children:n.label},n.path))})]})]})}),r.jsx(ka,{})]})},Sie=(t=!1)=>{const e=dt(),n=qs();p.useEffect(()=>{if(!t)return;const s=o=>{console.log(" History blocked - preventing back navigation"),window.history.pushState(null,"",window.location.href),e("/login",{replace:!0})},i=o=>{if(["/help","/terms","/privacy","/cookies","/cookies/settings"].some(u=>window.location.pathname.startsWith(u)))return;["/dashboard","/profile","/messaging","/Synapse","/marketplace/item","/marketplace/create","/marketplace/edit","/properties","/requests","/Synapsematches"].some(u=>window.location.pathname.startsWith(u))&&(localStorage.getItem("accessToken")||localStorage.getItem("token")||localStorage.getItem("userToken")||(console.log(" Unauthorized access to protected route via navigation"),e("/login",{replace:!0})))},a=o=>{if(["/help","/terms","/privacy","/cookies","/cookies/settings"].some(u=>window.location.pathname.startsWith(u)))return;if(["/dashboard","/profile","/messaging","/Synapse","/marketplace/item","/marketplace/create","/marketplace/edit","/properties","/requests","/Synapsematches"].some(u=>window.location.pathname.startsWith(u))&&!(localStorage.getItem("accessToken")||localStorage.getItem("token")||localStorage.getItem("userToken")))return console.log(" Unauthorized access attempt blocked"),o.preventDefault(),e("/login",{replace:!0}),!1};return window.addEventListener("popstate",s),window.addEventListener("beforeunload",a),window.addEventListener("hashchange",i),window.history.pushState(null,"",window.location.href),()=>{window.removeEventListener("popstate",s),window.removeEventListener("beforeunload",a),window.removeEventListener("hashchange",i)}},[t,e,n])},Cie=({children:t})=>{const e=qs(),n=dt(),{isAuthenticated:s,loading:i,setUser:a,setIsAuthenticated:o}=Ka(),[l,c]=p.useState(!1),d=p.useRef(null),u=p.useRef(0),h=async()=>{var y;const x=Date.now();if(x-u.current<5e3)return s;if(!(localStorage.getItem("accessToken")||localStorage.getItem("token")||localStorage.getItem("userToken")))return console.log("RouteGuard: No token found"),!1;try{c(!0),u.current=x;const v=await ge.get("/get-user");return v.data&&v.data.user?(console.log("RouteGuard: Token is valid"),a(v.data.user),o(!0),!0):(console.log("RouteGuard: Invalid response"),!1)}catch(v){return console.log("RouteGuard: Token validation failed:",(y=v.response)==null?void 0:y.status),localStorage.removeItem("accessToken"),localStorage.removeItem("token"),localStorage.removeItem("userToken"),a(null),o(!1),!1}finally{c(!1)}},f=!s&&!i&&!["/help","/terms","/privacy","/cookies","/cookies/settings"].some(x=>e.pathname.startsWith(x));return Sie(f),p.useEffect(()=>{if(!s&&!i)return["/help","/terms","/privacy","/cookies","/cookies/settings"].some(b=>e.pathname.startsWith(b))?void 0:lV()},[s,i,e.pathname]),p.useEffect(()=>((async()=>{if(i||l)return;["/dashboard","/profile","/messaging","/Synapse","/marketplace/item","/marketplace/create","/marketplace/edit","/properties","/requests","/Synapsematches","/onboarding"].some(y=>e.pathname.startsWith(y))&&(console.log("RouteGuard: Checking authentication for protected route:",e.pathname),d.current&&clearTimeout(d.current),d.current=setTimeout(async()=>{await h()||(console.log("RouteGuard: Authentication failed, redirecting to login"),n("/login",{state:{from:e.pathname},replace:!0}))},100))})(),()=>{d.current&&clearTimeout(d.current)}),[e.pathname,i,l,s,n,a,o]),l?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#0b0c0f]",children:r.jsxs("div",{className:"flex flex-col items-center gap-4",children:[r.jsx("div",{className:"w-8 h-8 border-2 border-orange-500 border-t-transparent rounded-full animate-spin"}),r.jsx("p",{className:"text-white/70 text-sm",children:"Validating authentication..."})]})}):t};function mf({title:t,sections:e,children:n}){const[s,i]=p.useState(()=>{try{return localStorage.getItem("nr_legal_theme")||"dark"}catch{return"dark"}});p.useEffect(()=>{try{localStorage.setItem("nr_legal_theme",s)}catch{}},[s]);const a=s==="light";return r.jsx("main",{className:`min-h-screen ${a?"bg-white":"bg-black"}`,children:r.jsxs("div",{className:"mx-auto max-w-6xl px-4 py-10 md:py-12",children:[r.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[r.jsx("h1",{className:"brand-script text-5xl leading-none bg-gradient-to-r from-[#2F64FF] to-[#00D4FF] bg-clip-text text-transparent",children:"NewRun"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`${a?"text-black/70":"text-white/70"} text-xs`,children:"Dark"}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"sr-only peer",checked:a,onChange:o=>i(o.target.checked?"light":"dark")}),r.jsx("div",{className:"w-10 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:bg-[#2F64FF] transition-colors"}),r.jsx("div",{className:"absolute left-0.5 top-0.5 h-5 w-5 rounded-full bg-white transform transition-transform peer-checked:translate-x-4"})]}),r.jsx("span",{className:`${a?"text-black/70":"text-white/70"} text-xs`,children:"Light"})]})]}),r.jsx("h2",{className:`${a?"text-black":"text-white"} text-2xl font-semibold mt-2`,children:t}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[280px_minmax(0,1fr)] items-start gap-8 relative",style:a?{filter:"invert(1) hue-rotate(180deg)"}:{},children:[r.jsx("aside",{className:"md:sticky md:top-6 h-max z-0",children:r.jsxs("nav",{className:"rounded-xl border border-white/10 bg-white/[0.03] p-4",children:[r.jsx("div",{className:"text-white/70 text-xs uppercase tracking-wide mb-2",children:"On this page"}),r.jsx("ul",{className:"space-y-1 text-sm",children:e==null?void 0:e.map(o=>r.jsx("li",{children:r.jsx("a",{href:`#${o.id}`,className:"block rounded-md px-2 py-1 text-white/85 hover:bg-white/10",children:o.label})},o.id))})]})}),r.jsx("section",{className:"rounded-2xl border border-white/10 bg-white/[0.03] p-6 relative z-10",children:n})]})]})})}function Pie(){const t="October 1, 2025",e=({id:i,title:a,children:o})=>r.jsxs("section",{id:i,className:"scroll-mt-24",children:[r.jsx("h3",{className:"text-white text-xl font-semibold mt-8 mb-3",children:a}),r.jsx("div",{className:"text-white/85 text-sm leading-6 space-y-3",children:o})]}),n=({children:i})=>r.jsx("div",{className:"rounded-lg border border-white/10 bg-white/[0.03] p-3",children:i}),s=[{id:"what",label:"What we use"},{id:"where",label:"Where its used"},{id:"why",label:"Why we personalize"},{id:"dont",label:"What we dont use"},{id:"controls",label:"Your controls"},{id:"examples",label:"Examples"},{id:"handling",label:"Data handling & retention"},{id:"fairness",label:"Fairness, safety & reporting"},{id:"contact",label:"Questions? Contact us"}];return r.jsxs(mf,{title:"How personalization works",sections:s,children:[r.jsxs("p",{className:"text-white/60 text-xs mb-6",children:["Last updated: ",t]}),r.jsxs("div",{className:"text-white/85 text-sm leading-6 space-y-3 mb-6",children:[r.jsx("p",{children:"We use a few basic details to make NewRun more useful for youshowing housing, marketplace items, and community posts that fit your campus context. This page explains exactly what we use, why, and how to control it."}),r.jsx(n,{children:r.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[r.jsxs("li",{children:["We do ",r.jsx("span",{className:"text-white font-medium",children:"not"})," sell your personal information."]}),r.jsx("li",{children:"You can adjust personalization and analytics in Settings at any time."}),r.jsxs("li",{children:["For broader data practices, see our"," ",r.jsx(Ae,{to:"/privacy",className:"text-sky-400 hover:underline",children:"Privacy Policy"}),"."]})]})})]}),r.jsxs(e,{id:"what",title:"What basic details we use",children:[r.jsx("p",{children:"Only whats needed to tailor content to your university context:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Account & campus:"})," email domain (e.g., .edu), selected campus, class year, and program/major if you provide it."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Preferences:"})," housing filters (budget, distance), saved searches, language, notification choices."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Simple activity:"})," saves/likes, hides, basic search terms, and listing categories you viewused to rank relevance."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Device basics:"})," locale/timezone and app version to help us render the right content and fix issues."]})]})]}),r.jsx(e,{id:"where",title:"Where personalization is used",children:r.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Housing feed:"})," matches near campus, price range, and roommates with compatible preferences."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Marketplace:"})," items commonly bought by peers at your campus, filtered by your interests."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Search & discover:"})," quicker suggestions and recent searches."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Notifications:"})," activity on your posts, saved searches, safety alerts, and relevant product updates."]})]})}),r.jsx(e,{id:"why",title:"Why we personalize",children:r.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[r.jsx("li",{children:"Reduce noise and show relevant options faster."}),r.jsx("li",{children:"Improve safety by downranking spammy or low-quality content."}),r.jsx("li",{children:"Cut time-to-find for critical tasks (housing deadlines, move-in essentials)."})]})}),r.jsx(e,{id:"dont",title:"What we dont use",children:r.jsx(n,{children:r.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[r.jsx("li",{children:"No sensitive attributes (e.g., health, religion, sexual orientation) for recommendations."}),r.jsx("li",{children:"No contacts/media unless you explicitly opt in for features that need them."}),r.jsx("li",{children:"No third-party advertising cookies that sell your data."})]})})}),r.jsx(e,{id:"controls",title:"Your controls",children:r.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Edit preferences:"})," update housing filters, campus, interests, and notification choices in ",r.jsx(Ae,{to:"/settings",className:"text-sky-400 hover:underline",children:"Settings"}),"."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Turn off non-essential personalization/analytics:"})," manage in ",r.jsx(Ae,{to:"/cookies/settings",className:"text-sky-400 hover:underline",children:"Cookie Settings"})," (when available)."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Clear signals:"})," remove saved searches and history; clear cookies/local storage in your browser."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Emails & push:"})," use unsubscribe links or adjust notification toggles in Settings."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Your rights:"})," access/export/delete  see the ",r.jsx(Ae,{to:"/privacy#your-choices",className:"text-sky-400 hover:underline",children:"Privacy Policy"}),"."]})]})}),r.jsx(e,{id:"examples",title:"Examples",children:r.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[r.jsx("li",{children:"If you set rent  $900 and walkable to campus, we rank those listings higher in your feed."}),r.jsx("li",{children:"If you save desk + chair, well surface similar marketplace posts and restock alerts."}),r.jsx("li",{children:"If you mute pets allowed, we downrank pet-friendly places in your housing results."})]})}),r.jsxs(e,{id:"handling",title:"Data handling & retention",children:[r.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[r.jsx("li",{children:"Signals like saves/searches are retained while your account is active and then deleted or de-identified on a schedule."}),r.jsx("li",{children:"We work with service providers (hosting, analytics, payments) under contracts that limit their use to our instructions."}),r.jsx("li",{children:"We may review content and related metadata if its reported for safety or fraud."})]}),r.jsxs("p",{className:"text-white/70 text-xs",children:["See ",r.jsx(Ae,{to:"/privacy#retention",className:"text-sky-400 hover:underline",children:"Retention"})," for more detail."]})]}),r.jsx(e,{id:"fairness",title:"Fairness, safety & reporting",children:r.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[r.jsx("li",{children:"Ranking avoids protected attributes and includes anti-discrimination checks."}),r.jsx("li",{children:"Spam/scam signals reduce the visibility of bad actors; repeat violators may be removed."}),r.jsxs("li",{children:["Report concerns in-app or email ",r.jsx("a",{href:"mailto:safety@newrun.club",className:"text-sky-400 hover:underline",children:"safety@newrun.club"}),"."]})]})}),r.jsxs(e,{id:"contact",title:"Questions? Contact us",children:[r.jsxs("p",{children:["Email ",r.jsx("a",{href:"mailto:privacy@newrun.club",className:"text-sky-400 hover:underline",children:"privacy@newrun.club"})," for privacy questions, or ",r.jsx("a",{href:"mailto:support@newrun.club",className:"text-sky-400 hover:underline",children:"support@newrun.club"})," for product help."]}),r.jsxs("div",{className:"mt-2 text-white/85 text-sm",children:[r.jsxs("p",{children:[r.jsx("span",{className:"text-white",children:"Support hours:"})," MonFri, 9am6pm CT. Typical response within 2448 hours."]}),r.jsxs("p",{children:[r.jsx("span",{className:"text-white",children:"Safety issues:"})," Report inapp or email ",r.jsx("a",{href:"mailto:safety@newrun.club",className:"text-sky-400 hover:underline",children:"safety@newrun.club"}),"."]})]})]})]})}function Eie(){const t="October 1, 2025",e=({id:s,title:i,children:a})=>r.jsxs("section",{id:s,className:"scroll-mt-24",children:[r.jsx("h3",{className:"text-white text-xl font-semibold mt-8 mb-3",children:i}),r.jsx("div",{className:"text-white/85 text-sm leading-6 space-y-3",children:a})]}),n=[["acceptance","1. Acceptance of Terms"],["eligibility","2. Eligibility & Accounts"],["use","3. Permitted Use & Community Rules"],["content","4. Your Content & IP"],["listings","5. Listings, Housing & Marketplace"],["payments","6. Payments, Fees & Taxes"],["safety","7. Safety, Prohibited Items & Reporting"],["comm","8. Messaging & Notifications"],["thirdparty","9. Third-Party Services"],["termination","10. Suspension & Termination"],["warranty","11. Disclaimers"],["liability","12. Limitation of Liability"],["indemnity","13. Indemnification"],["law","14. Governing Law & Disputes"],["changes","15. Changes to the Service & Terms"],["consent","16. Consent & Versioning"],["misc","17. Miscellaneous"],["dmca","18. Copyright/DMCA"],["contact","19. Contact"]];return r.jsxs(mf,{title:"Terms of Service",sections:n.map(([s,i])=>({id:s,label:i})),children:[r.jsxs("p",{className:"text-white/60 text-xs mb-6",children:["Last updated: ",t]}),r.jsxs("div",{className:"text-white/85 text-sm leading-6 space-y-3 mb-6",children:[r.jsxs("p",{children:["Welcome to NewRun  a student-focused platform for housing, marketplace, and community. By using NewRun, you agree to these Terms. If you dont agree, do not use the service. Our ",r.jsx(Ae,{to:"/privacy",className:"text-sky-400 hover:underline",children:"Privacy Policy"})," explains how we handle your information."]}),r.jsx("div",{className:"rounded-lg border border-white/10 bg-white/[0.03] p-3",children:r.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[r.jsxs("li",{children:["NewRun does ",r.jsx("span",{className:"text-white font-medium",children:"not"})," sell your personal information."]}),r.jsx("li",{children:"Transactions occur between users unless we explicitly say otherwise."}),r.jsx("li",{children:"We can remove content or suspend accounts that violate these Terms or our policies."})]})})]}),r.jsx(e,{id:"acceptance",title:"1. Acceptance of Terms",children:r.jsx("p",{children:"These Terms form a binding agreement between you and NewRun. You accept them by creating an account, accessing, or using the service. Additional policies may apply to specific features (e.g., verification, payments). If there is a conflict, those feature-specific terms control."})}),r.jsx(e,{id:"eligibility",title:"2. Eligibility & Accounts",children:r.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[r.jsx("li",{children:"You must be at least 13 to use NewRun. If you are under the age of majority in your state or country, you must have a parent or guardians consent. Some features (e.g., payments, housing contracts) may require you to be 18+."}),r.jsx("li",{children:"You agree to provide accurate information and keep your account secure (no sharing passwords, enable security best practices). Youre responsible for activity on your account."}),r.jsx("li",{children:"University-affiliated features may require verification (e.g., .edu email or ID check)."})]})}),r.jsxs(e,{id:"use",title:"3. Permitted Use & Community Rules",children:[r.jsx("p",{children:"Use NewRun lawfully and respectfully. You agree not to:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[r.jsx("li",{children:"Harass, spam, impersonate others, or engage in hate, threats, or discrimination."}),r.jsx("li",{children:"Post illegal, misleading, or infringing content; scrape or reverse-engineer the service."}),r.jsx("li",{children:"Interfere with security or operations; attempt to bypass access controls."}),r.jsx("li",{children:"Use NewRun to facilitate unlawful activity or campus policy violations."})]})]}),r.jsx(e,{id:"content",title:"4. Your Content & Intellectual Property",children:r.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Your rights."})," You retain ownership of the content you post. You grant NewRun a worldwide, non-exclusive, royalty-free license to host, store, reproduce, adapt, publish, and display your content to operate, promote, and improve the service (including moderation, caching, and distribution)."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Our rights."})," The NewRun name, logos, code, and design are protected by IP laws. You may not use our marks without permission."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Feedback."})," If you send suggestions, you grant us a license to use them without obligation or compensation."]})]})}),r.jsx(e,{id:"listings",title:"5. Listings, Housing & Marketplace",children:r.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[r.jsx("li",{children:"Describe items/housing accurately, include required disclosures, and honor your offers."}),r.jsx("li",{children:"Housing and roommate posts must comply with applicable laws and campus rules, including anti-discrimination (e.g., fair housing) and local rental regulations. Do not request or offer unlawful deposits, fees, or terms."}),r.jsx("li",{children:"NewRun is typically not a party to user-to-user transactions; we provide tools to discover and communicate. You are responsible for evaluating listings, users, and terms of any transaction."}),r.jsx("li",{children:"Do not post stolen, counterfeit, unsafe, expired, recalled, or otherwise prohibited items."})]})}),r.jsx(e,{id:"payments",title:"6. Payments, Fees & Taxes",children:r.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[r.jsx("li",{children:"Payments and payouts may be processed by third-party processors (e.g., Stripe). Their terms and privacy policies govern those services."}),r.jsx("li",{children:"We may charge service fees disclosed at the point of use. You are responsible for any applicable taxes."}),r.jsx("li",{children:"Except as required by law, all fees are non-refundable unless stated otherwise."})]})}),r.jsx(e,{id:"safety",title:"7. Safety, Prohibited Items & Reporting",children:r.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[r.jsx("li",{children:"We use automated signals and human review to detect spam/fraud and may remove content or take action on accounts to protect the community."}),r.jsx("li",{children:"Prohibited items/activities include: weapons, drugs, alcohol, tobacco/vapes, hazardous materials, stolen or counterfeit goods, explicit content, financial instruments, and any illegal or regulated services without authorization."}),r.jsxs("li",{children:["If you see something concerning, report it in-app or email"," ",r.jsx("a",{className:"text-sky-400 hover:underline",href:"mailto:safety@newrun.club",children:"safety@newrun.club"}),"."]})]})}),r.jsx(e,{id:"comm",title:"8. Messaging & Notifications",children:r.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[r.jsx("li",{children:"NewRun offers messaging to coordinate listings and community interactions. Keep messages lawful and respectful."}),r.jsx("li",{children:"We may send transactional communications (e.g., account, security, listing activity). You can manage marketing preferences in Settings or via unsubscribe links."})]})}),r.jsx(e,{id:"thirdparty",title:"9. Third-Party Services",children:r.jsx("p",{children:"The service may link to or integrate third-party services (e.g., payments, identity verification, analytics). NewRun is not responsible for those services; their terms and privacy policies apply."})}),r.jsx(e,{id:"termination",title:"10. Suspension & Termination",children:r.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[r.jsx("li",{children:"We may suspend or terminate accounts, or remove content, for violations of these Terms or to protect users."}),r.jsx("li",{children:"You may stop using NewRun at any time. Certain sections survive termination (e.g., IP, disclaimers, liability, disputes)."})]})}),r.jsx(e,{id:"warranty",title:"11. Disclaimers",children:r.jsx("p",{children:"THE SERVICE IS PROVIDED AS IS AND AS AVAILABLE WITHOUT WARRANTIES OF ANY KIND, EXPRESS OR IMPLIED (INCLUDING MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, AND NON-INFRINGEMENT). We do not guarantee accuracy of listings, availability, or that users will complete transactions."})}),r.jsx(e,{id:"liability",title:"12. Limitation of Liability",children:r.jsx("p",{children:"TO THE MAXIMUM EXTENT PERMITTED BY LAW, NEWRUN AND ITS AFFILIATES WILL NOT BE LIABLE FOR INDIRECT, INCIDENTAL, SPECIAL, CONSEQUENTIAL, EXEMPLARY, OR PUNITIVE DAMAGES, OR ANY LOSS OF PROFITS, DATA, USE, OR GOODWILL, ARISING FROM OR RELATED TO YOUR USE OF THE SERVICE. Our aggregate liability will not exceed the greater of (a) amounts you paid to us for the service in the 12 months before the claim or (b) $100."})}),r.jsx(e,{id:"indemnity",title:"13. Indemnification",children:r.jsx("p",{children:"You agree to defend, indemnify, and hold NewRun harmless from claims, losses, liabilities, damages, and expenses (including reasonable attorneys fees) arising from your content, your use of the service, or your violation of these Terms or applicable law."})}),r.jsxs(e,{id:"law",title:"14. Governing Law & Disputes",children:[r.jsx("p",{children:"These Terms are governed by the laws of the State of Delaware, USA, without regard to its conflict of laws principles (update this to your companys jurisdiction if different). You agree to the exclusive jurisdiction and venue of the state and federal courts located in Delaware for any action not subject to arbitration (if arbitration is later added)."}),r.jsx("p",{className:"text-white/60 text-xs",children:"If your region mandates consumer dispute mechanisms, those rights are preserved to the extent required by law."})]}),r.jsx(e,{id:"changes",title:"15. Changes to the Service & Terms",children:r.jsx("p",{children:"We may update the service and these Terms from time to time. Well post changes here and, when appropriate, notify you in-app or by email. If you continue using NewRun after changes take effect, you accept the updated Terms."})}),r.jsx(e,{id:"consent",title:"16. Consent & Versioning",children:r.jsx("p",{children:"When you create an account, we record your acceptance of these Terms (version and timestamp). You can view the current version anytime on this page. If we materially change these Terms, well notify you and may request reacceptance in the app."})}),r.jsx(e,{id:"misc",title:"17. Miscellaneous",children:r.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Entire agreement."})," These Terms + policies referenced herein are the entire agreement between you and NewRun."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Severability."})," If any provision is unenforceable, the rest remain in effect."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"No waiver."})," Our failure to enforce a provision isnt a waiver."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Assignment."})," You may not assign these Terms without our consent; we may assign as part of a merger, acquisition, or asset sale."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"App stores."})," If you downloaded our app from an app store, their terms may apply in addition to these Terms."]})]})}),r.jsx(e,{id:"dmca",title:"18. Copyright/DMCA",children:r.jsxs("p",{children:["If you believe content infringes your copyright, send a notice to"," ",r.jsx("a",{href:"mailto:legal@newrun.club",className:"text-sky-400 hover:underline",children:"legal@newrun.club"})," ","with: (1) your contact info, (2) a description of the work and the allegedly infringing material, (3) the URL or sufficient detail to locate it, (4) a statement of good-faith belief, and (5) a statement under penalty of perjury that you are the owner or authorized to act, plus your physical or electronic signature. We may remove content and, in appropriate cases, terminate repeat infringers."]})}),r.jsxs(e,{id:"contact",title:"19. Contact",children:[r.jsxs("p",{children:["Questions about these Terms? Contact"," ",r.jsx("a",{href:"mailto:support@newrun.club",className:"text-sky-400 hover:underline",children:"support@newrun.club"}),"."]}),r.jsx("p",{className:"text-xs text-white/50",children:"This page provides general information and does not constitute legal advice. Please consult counsel for requirements applicable to your organization and jurisdiction."})]})]})}function _ie(){const t="October 1, 2025",e=({id:s,title:i,children:a})=>r.jsxs("section",{id:s,className:"scroll-mt-24",children:[r.jsx("h3",{className:"text-white text-xl font-semibold mt-8 mb-3",children:i}),r.jsx("div",{className:"text-white/85 text-sm leading-6 space-y-3",children:a})]}),n=[["what-we-collect","Information we collect"],["how-we-use","How we use information"],["sharing","How we share"],["legal-bases","Legal bases"],["retention","Retention"],["your-choices","Your choices"],["safety","Safety"],["cookies","Cookies"],["ai","AI"],["children","Children"],["security","Security"],["intl","International transfers"],["changes","Changes"],["contact","Contact"]];return r.jsxs(mf,{title:"Privacy Policy",sections:n.map(([s,i])=>({id:s,label:i})),children:[r.jsxs("p",{className:"text-white/60 text-xs mb-6",children:["Last updated: ",t]}),r.jsxs("div",{className:"text-white/85 text-sm leading-6 space-y-3 mb-6",children:[r.jsx("p",{children:"We built NewRun to help students find housing, essentials, and community within their university networks. Privacy and safety are core to that mission. This policy explains what we collect, why we collect it, how we use and share it, and the choices you have."}),r.jsx("div",{className:"rounded-lg border border-white/10 bg-white/[0.03] p-3",children:r.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[r.jsxs("li",{children:["We do ",r.jsx("span",{className:"text-white font-medium",children:"not"})," sell your personal information."]}),r.jsx("li",{children:"You control your profile visibility and communications."}),r.jsx("li",{children:"We use industry-standard security to protect your data."}),r.jsx("li",{children:"You can request access, export, correction, or deletion at any time."})]})})]}),r.jsxs(e,{id:"what-we-collect",title:"Information we collect",children:[r.jsx("p",{children:"We collect the minimum necessary to provide NewRuns services:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Account & profile."})," Name, username, email and/or mobile number, password (hashed), university affiliation, class year, profile photo, and preferences you add (e.g., housing filters, notification settings)."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Usage & activity."})," Listings you create, messages you send, likes/saves, searches, reports, and interactions with features (e.g., onboarding flows)."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Transactional."})," If you buy or sell through NewRun, payment and payout processing is handled by a third-party processor (e.g., Stripe). We receive limited transaction metadata (status, last4, timestamps) but not full card or bank details."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Device & technical."})," IP address, device type, OS/browser, app version, language, approximate location (derived from IP), and performance/crash logs."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Contacts & media (optional)."})," If you grant permission, we may access your contacts to help you find friends, and your camera/photos to upload images for listings or profile."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Verification (optional)."})," If you choose to verify (e.g., with a .edu email or ID check), we process the data required to confirm eligibility and keep the community safe."]})]})]}),r.jsx(e,{id:"how-we-use",title:"How we use information",children:r.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[r.jsx("li",{children:"Provide core features: account creation, login, listings, messaging, search, notifications."}),r.jsx("li",{children:"Personalize recommendations (e.g., housing near campus, relevant marketplace items)."}),r.jsx("li",{children:"Maintain safety: detect spam, fraud, and policy violations; support user reporting and appeals."}),r.jsx("li",{children:"Improve performance and reliability; fix bugs, analyze crashes, and run product experiments."}),r.jsx("li",{children:"Communicate with you about account activity, updates, and changes to our terms/policies."}),r.jsxs("li",{children:["Comply with legal obligations and enforce our ",r.jsx(Ae,{to:"/terms",className:"text-sky-400 hover:underline",children:"Terms"}),"."]})]})}),r.jsxs(e,{id:"sharing",title:"How we share information",children:[r.jsx("p",{children:"We share data only as needed to operate NewRun or when you ask us to:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"You and the community."})," Content you choose to make public (e.g., listings, profile username/photo) is visible to others. Direct messages are private to participants unless reported for safety review."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Service providers."})," Cloud hosting, analytics, crash reporting, content delivery, anti-abuse, and payment processors act under contracts that limit their use of your information to our instructions."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"University / eligibility checks (optional)."})," If you opt in to verification, we may confirm status via your .edu email or a verification vendor."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Legal & safety."})," We may disclose information to comply with law, respond to lawful requests, or protect the rights, safety, and property of users and NewRun."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Business transfers."})," If we undergo a merger, acquisition, or asset sale, your information may transfer as part of that transaction subject to this policy."]})]}),r.jsxs("p",{className:"text-white/85",children:["We do ",r.jsx("span",{className:"text-white font-medium",children:"not"})," sell your personal information."]})]}),r.jsxs(e,{id:"legal-bases",title:"Legal bases (EEA/UK)",children:[r.jsx("p",{children:"If you are in the EEA/UK, we process your data under these bases:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Contract."})," To provide the service you request."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Legitimate interests."})," Product improvement, security, and anti-abuse."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Consent."})," Optional features like contacts import, location, or marketing."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Legal obligation."})," Compliance with applicable laws and regulations."]})]})]}),r.jsx(e,{id:"retention",title:"Retention",children:r.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[r.jsx("li",{children:"We keep account data while your account is active."}),r.jsx("li",{children:"Content you delete is removed or anonymized from user-facing surfaces promptly; backups/logs roll off on a schedule."}),r.jsx("li",{children:"If you request deletion, we delete or de-identify your personal data except where we must retain it for legal, security, or fraud-prevention reasons."})]})}),r.jsx(e,{id:"verification",title:"Verification data (if you opt in)",children:r.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[r.jsx("li",{children:".edu email checks: we store the verified email and verification status."}),r.jsx("li",{children:"ID checks (if enabled in future): we store status and limited metadata; sensitive images are processed by the provider and not retained by NewRun."}),r.jsx("li",{children:"Retention: verification records are kept while your account remains verified and then deleted or archived per legal requirements."})]})}),r.jsxs(e,{id:"your-choices",title:"Your choices & rights",children:[r.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Access & export."})," You can request a copy of your data."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Correction."})," Update your profile and account information."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Deletion."})," Request deletion of your account and associated data."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Marketing controls."})," Manage emails, SMS, and push in Settings or via unsubscribe links."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Do-Not-Sell/Share (US state laws)."})," We do not sell personal information; where share is defined for cross-context advertising, you can opt out in Cookies settings."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"GDPR/EEA rights."})," You may object or restrict processing, and you have data portability rights and the right to lodge a complaint with your supervisory authority."]})]}),r.jsxs("p",{children:["To exercise any rights, contact us at"," ",r.jsx("a",{href:"mailto:privacy@newrun.club",className:"text-sky-400 hover:underline",children:"privacy@newrun.club"}),". We may need to verify your identity before fulfilling the request."]})]}),r.jsx(e,{id:"safety",title:"Safety, moderation, and reporting",children:r.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[r.jsx("li",{children:"We use automated signals and human review to detect spam, scams, and policy violations."}),r.jsx("li",{children:"Reported content may be reviewed by trained moderators. We retain related data to investigate and prevent abuse."}),r.jsxs("li",{children:["We may limit, suspend, or remove accounts involved in harmful behavior per our ",r.jsx(Ae,{to:"/terms",className:"text-sky-400 hover:underline",children:"Terms"}),"."]})]})}),r.jsxs(e,{id:"cookies",title:"Cookies, local storage, and analytics",children:[r.jsxs("p",{children:["We use cookies and similar technologies to keep you signed in, remember preferences, measure usage, and improve performance. You can control cookies in your browser and through our"," ",r.jsx(Ae,{to:"/cookies",className:"text-sky-400 hover:underline",children:"Cookies Policy"}),"."]}),r.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[r.jsx("li",{children:"Essential cookies for authentication and security are required to use NewRun."}),r.jsx("li",{children:"Analytics help us understand which features are working and where to improve."}),r.jsx("li",{children:"We do not use third-party advertising cookies that sell your data."})]})]}),r.jsx(e,{id:"ai",title:"AI features & data use",children:r.jsx("p",{children:"Some NewRun features may leverage AI (e.g., content suggestions, safety filtering). Unless we say otherwise, personal data processed for these features is used to operate the feature and improve NewRun. We do not allow third-party model providers to use your data to train their models for unrelated purposes without your consent."})}),r.jsx(e,{id:"children",title:"Children",children:r.jsx("p",{children:"NewRun is not intended for children under 13 (or the age of digital consent in your region). If we learn we have collected personal information from a child, we will take steps to delete it."})}),r.jsxs(e,{id:"security",title:"Security",children:[r.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[r.jsx("li",{children:"Encryption in transit (HTTPS) and at rest for key data stores."}),r.jsx("li",{children:"Strict access controls, audit logging, and least-privilege practices."}),r.jsx("li",{children:"Regular backups and disaster-recovery testing."}),r.jsx("li",{children:"Vulnerability management and third-party security tooling."})]}),r.jsxs("p",{children:["No system is 100% secure. If you suspect a security issue, please email"," ",r.jsx("a",{href:"mailto:security@newrun.club",className:"text-sky-400 hover:underline",children:"security@newrun.club"}),"."]})]}),r.jsx(e,{id:"intl",title:"International data transfers",children:r.jsx("p",{children:"We may process and store information in countries outside your own. Where required, we use appropriate safeguards for international transfers (e.g., standard contractual clauses)."})}),r.jsx(e,{id:"changes",title:"Changes to this policy",children:r.jsx("p",{children:"We may update this policy as NewRun evolves. We will post updates here and, when appropriate, notify you in-app or by email. If changes materially affect your rights, we will provide additional notice."})}),r.jsxs(e,{id:"contact",title:"Contact us",children:[r.jsxs("p",{children:["Questions or concerns? Contact our privacy team at"," ",r.jsx("a",{href:"mailto:privacy@newrun.club",className:"text-sky-400 hover:underline",children:"privacy@newrun.club"}),"."]}),r.jsx("div",{className:"mt-2 text-white/85 text-sm",children:r.jsxs("p",{children:[r.jsx("span",{className:"text-white",children:"Data Controller:"})," NewRun Labs, Inc. (update with your legal entity). Contact: ",r.jsx("a",{href:"mailto:privacy@newrun.club",className:"text-sky-400 hover:underline",children:"privacy@newrun.club"})]})}),r.jsx("p",{className:"text-xs text-white/50",children:"This page provides general information and does not constitute legal advice. Please consult counsel for requirements applicable to your organization and jurisdiction."})]})]})}function Mie(){const t="October 1, 2025",e=({id:s,title:i,children:a})=>r.jsxs("section",{id:s,className:"scroll-mt-24",children:[r.jsx("h3",{className:"text-white text-xl font-semibold mt-8 mb-3",children:i}),r.jsx("div",{className:"text-white/85 text-sm leading-6 space-y-3",children:a})]}),n=[["what","What cookies are"],["how","How we use"],["types","Types we use"],["third","Thirdparty services"],["controls","Your choices"],["retention","Retention & expiry"],["signals","Do Not Track & GPC"],["changes","Changes"],["contact","Contact"]];return r.jsxs(mf,{title:"Cookies Policy",sections:n.map(([s,i])=>({id:s,label:i})),children:[r.jsxs("p",{className:"text-white/60 text-xs mb-6",children:["Last updated: ",t]}),r.jsxs("div",{className:"text-white/85 text-sm leading-6 space-y-3 mb-6",children:[r.jsxs("p",{children:["We use cookies and similar technologies so NewRun works reliably, stays secure, and feels personal. This page explains what these technologies are, how we use them, and the choices you have. For how we handle personal data more broadly, see our"," ",r.jsx(Ae,{to:"/privacy",className:"text-sky-400 hover:underline",children:"Privacy Policy"}),"."]}),r.jsx("div",{className:"rounded-lg border border-white/10 bg-white/[0.03] p-3",children:r.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[r.jsx("li",{children:"Essential cookies are required for login, security, and core features."}),r.jsx("li",{children:"We use privacy-respecting analytics to improve performance and reliability."}),r.jsx("li",{children:"You can control non-essential cookies via browser settings and in-app preferences."})]})})]}),r.jsx(e,{id:"what",title:"What cookies & similar technologies are",children:r.jsxs("p",{children:[r.jsx("span",{className:"text-white",children:"Cookies"})," are small text files placed on your device by your browser. We also use ",r.jsx("span",{className:"text-white",children:"localStorage/sessionStorage"})," (key-value storage in your browser),",r.jsx("span",{className:"text-white",children:" device identifiers"}),", and ",r.jsx("span",{className:"text-white",children:"pixels/web beacons"})," (tiny, invisible images). These help us keep you signed in, remember preferences, measure usage, secure the service, and improve performance."]})}),r.jsx(e,{id:"how",title:"How we use these technologies",children:r.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Authentication & sessions:"})," keep you logged in, route requests, prevent session hijacking."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Security & abuse prevention:"})," detect unusual activity, rate-limit, prevent spam/fraud."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Preferences:"})," remember settings like theme, campus, filters, notification choices."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Performance & analytics:"})," understand feature usage, fix bugs, improve reliability and speed."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Feature personalization:"})," recommend housing and marketplace content relevant to your university context."]})]})}),r.jsx(e,{id:"types",title:"Types of cookies we use",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-medium",children:"1) Essential (required)"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[r.jsx("li",{children:"Login/session tokens, CSRF protection, load balancing, bot/spam defense."}),r.jsx("li",{children:"These are necessary for NewRun to function; you cannot opt out of essentials."})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-medium",children:"2) Preferences"}),r.jsx("ul",{className:"list-disc list-inside space-y-1",children:r.jsx("li",{children:"Language, campus, saved filters, UI theme, dismissed tips/tooltips."})})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-medium",children:"3) Performance & analytics"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[r.jsx("li",{children:"Anonymous or pseudonymous metrics to improve reliability and product quality."}),r.jsx("li",{children:"Crash diagnostics and latency measurements to troubleshoot issues."})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-medium",children:"4) Communications"}),r.jsx("ul",{className:"list-disc list-inside space-y-1",children:r.jsx("li",{children:"Controls for email/SMS/push preferences and delivery reliability."})})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-medium",children:"5) Payments & verification (as applicable)"}),r.jsx("ul",{className:"list-disc list-inside space-y-1",children:r.jsx("li",{children:"When you use payments or identity checks, third-party providers may set their own cookies to operate those features securely."})})]})]})}),r.jsxs(e,{id:"third",title:"Third-party services & analytics",children:[r.jsx("p",{children:"We partner with service providers for hosting, analytics, crash reporting, content delivery, anti-abuse, payments, and (optionally) verification. Examples include cloud infrastructure, basic product analytics, and payment processors (e.g., Stripe). These providers may set their own cookies or read ours to provide their services on our behalf under contracts that limit their use of data to our instructions. We dont allow third-party ad networks to sell your personal information."}),r.jsx("p",{className:"text-white/70 text-xs",children:"The specific providers we use can change as we improve NewRun. Where required, we will update this page or surface provider details in-app."})]}),r.jsxs(e,{id:"controls",title:"Your choices & controls",children:[r.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"In-app settings:"})," Manage non-essential cookies and analytics in"," ",r.jsx(Ae,{to:"/cookies/settings",className:"text-sky-400 hover:underline",children:"Cookie Settings"})," (when available)."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Browser controls:"})," Most browsers let you block/delete cookies. See: Settings  Privacy/Security  Cookies & site data. Blocking essentials may break login."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Private mode / clearing:"})," Use private windows or clear browsing data to remove stored cookies and localStorage."]}),r.jsxs("li",{children:[r.jsx("span",{className:"text-white",children:"Mobile OS:"})," On iOS/Android, manage WebView/browser cookies in system settings."]})]}),r.jsxs("p",{children:["You can also adjust marketing emails and push notifications in"," ",r.jsx(Ae,{to:"/settings",className:"text-sky-400 hover:underline",children:"Settings"})," or via unsubscribe links."]})]}),r.jsx(e,{id:"retention",title:"Retention & expiry",children:r.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[r.jsx("li",{children:"Session cookies expire when you close the browser or after a short period of inactivity."}),r.jsx("li",{children:"Persistent cookies/localStorage keys may remain for weeks to months (e.g., remembering campus or preferences) unless you clear them."}),r.jsx("li",{children:"Where we rely on consent, we periodically re-prompt or honor your revocation in settings."})]})}),r.jsx(e,{id:"signals",title:"Do Not Track & Global Privacy Control (GPC)",children:r.jsxs("p",{children:["Some browsers send ",r.jsx("span",{className:"text-white",children:"Do Not Track"})," or ",r.jsx("span",{className:"text-white",children:"Global Privacy Control"})," signals. We honor legally required signals (including GPC for certain jurisdictions) for non-essential cookies and cross-context signals, and we do not sell personal information. You can still fine-tune cookie preferences in settings."]})}),r.jsx(e,{id:"changes",title:"Changes to this policy",children:r.jsx("p",{children:"We may update this Cookies Policy as NewRun evolves. Well post updates here and, when appropriate, notify you in-app. If changes materially affect your choices, we will provide additional notice."})}),r.jsxs(e,{id:"contact",title:"Contact us",children:[r.jsxs("p",{children:["Questions about cookies at NewRun? Contact"," ",r.jsx("a",{href:"mailto:privacy@newrun.club",className:"text-sky-400 hover:underline",children:"privacy@newrun.club"}),"."]}),r.jsx("p",{className:"text-xs text-white/50",children:"This page provides general information and does not constitute legal advice."})]})]})}function Tie(){return r.jsx("main",{className:"min-h-screen bg-black",children:r.jsx("div",{className:"mx-auto max-w-3xl px-4 py-12",children:r.jsxs("div",{className:"rounded-2xl border border-white/10 bg-transparent p-6",children:[r.jsx("h1",{className:"brand-script text-5xl leading-none bg-gradient-to-r from-blue-600 to-teal-500 bg-clip-text text-transparent mb-2",children:"NewRun"}),r.jsx("h2",{className:"text-white text-2xl font-semibold mb-3",children:"Cookie Settings (Coming Soon)"}),r.jsx("p",{className:"text-white/70 text-sm",children:"Were building fine-grained controls for nonessential cookies and analytics. For now, you can manage cookies in your browser settings. Essential cookies are required for login and security."})]})})})}const As=({children:t})=>{const e=qs(),{isAuthenticated:n,loading:s,setUser:i,setIsAuthenticated:a}=Ka(),[o,l]=p.useState(!1),[c,d]=p.useState(!1),u=p.useRef(null),h=p.useRef(0),m=async()=>{var b;const f=Date.now();if(f-h.current<5e3)return n;if(!(localStorage.getItem("accessToken")||localStorage.getItem("token")||localStorage.getItem("userToken")))return console.log("ProtectedRoute: No token found"),!1;try{l(!0),h.current=f;const y=await ge.get("/get-user");return y.data&&y.data.user?(console.log("ProtectedRoute: Token is valid"),i(y.data.user),a(!0),!0):(console.log("ProtectedRoute: Invalid response"),!1)}catch(y){return console.log("ProtectedRoute: Token validation failed:",(b=y.response)==null?void 0:b.status),localStorage.removeItem("accessToken"),localStorage.removeItem("token"),localStorage.removeItem("userToken"),i(null),a(!1),!1}finally{l(!1),d(!0)}};return p.useEffect(()=>(!s&&!c?(u.current&&clearTimeout(u.current),u.current=setTimeout(async()=>{await m()},100)):n&&d(!0),()=>{u.current&&clearTimeout(u.current)}),[s,c,n]),s||o||!c?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#0b0c0f]",children:r.jsxs("div",{className:"flex flex-col items-center gap-4",children:[r.jsx("div",{className:"w-8 h-8 border-2 border-orange-500 border-t-transparent rounded-full animate-spin"}),r.jsx("p",{className:"text-white/70 text-sm",children:o?"Validating authentication...":"Checking authentication..."})]})}):n?t:(localStorage.clear(),sessionStorage.clear(),r.jsx(GF,{to:"/login",state:{from:e.pathname},replace:!0}))},Lie=()=>r.jsx(BB,{children:r.jsx(KB,{children:r.jsx(ZB,{children:r.jsx(zE,{children:r.jsx(sz,{children:r.jsx(Cie,{children:r.jsxs(YF,{children:[r.jsx(Qe,{path:"/",element:r.jsx(s5,{})}),r.jsx(Qe,{path:"/home",element:r.jsx(s5,{})}),r.jsx(Qe,{path:"/login",element:r.jsx(EX,{})}),r.jsx(Qe,{path:"/forgot",element:r.jsx(DX,{})}),r.jsx(Qe,{path:"/verify-email",element:r.jsx($X,{})}),r.jsx(Qe,{path:"/reset-password",element:r.jsx(FX,{})}),r.jsx(Qe,{path:"/signup",element:r.jsx(tQ,{})}),r.jsx(Qe,{path:"/help",element:r.jsx(Pie,{})}),r.jsx(Qe,{path:"/terms",element:r.jsx(Eie,{})}),r.jsx(Qe,{path:"/privacy",element:r.jsx(_ie,{})}),r.jsx(Qe,{path:"/cookies",element:r.jsx(Mie,{})}),r.jsx(Qe,{path:"/cookies/settings",element:r.jsx(Tie,{})}),r.jsx(Qe,{path:"/marketplace",element:r.jsx($Q,{})}),r.jsx(Qe,{path:"/blogs",element:r.jsx(lQ,{})}),r.jsx(Qe,{path:"/community",element:r.jsx(_Q,{})}),r.jsx(Qe,{path:"/community/thread/:id",element:r.jsx(TQ,{})}),r.jsx(Qe,{path:"/university",element:r.jsx(nQ,{})}),r.jsx(Qe,{path:"/all-properties",element:r.jsx(HZ,{})}),r.jsx(Qe,{path:"/onboarding",element:r.jsx(As,{children:r.jsx(jse,{})})}),r.jsx(Qe,{path:"/waitlist",element:r.jsx(fse,{})}),r.jsx(Qe,{path:"/marketplace/item/:id",element:r.jsx(As,{children:r.jsx(VQ,{})})}),r.jsx(Qe,{path:"/marketplace/create",element:r.jsx(As,{children:r.jsx(Fv,{isEdit:!1})})}),r.jsx(Qe,{path:"/marketplace/edit/:id",element:r.jsx(As,{children:r.jsx(Fv,{isEdit:!0})})}),r.jsx(Qe,{path:"/properties/:id",element:r.jsx(As,{children:r.jsx(Uee,{})})}),r.jsx(Qe,{path:"/dashboard",element:r.jsx(As,{children:r.jsx(eQ,{})})}),r.jsx(Qe,{path:"/profile",element:r.jsx(As,{children:r.jsx(tte,{})})}),r.jsx(Qe,{path:"/messaging",element:r.jsx(As,{children:r.jsx(vS,{})})}),r.jsx(Qe,{path:"/messaging/:conversationId",element:r.jsx(As,{children:r.jsx(vS,{})})}),r.jsx(Qe,{path:"/Synapse",element:r.jsx(As,{children:r.jsx(hse,{})})}),r.jsx(Qe,{path:"/solve-threads",element:r.jsx(As,{children:r.jsx(Nie,{})})}),r.jsx(Qe,{path:"/requests",element:r.jsx(Nse,{})}),r.jsx(Qe,{path:"/Synapsematches",element:r.jsx(Jse,{})}),r.jsx(Qe,{path:"*",element:r.jsx(kie,{})})]})})})})})})});vx.createRoot(document.getElementById("root")).render(r.jsx(Fe.StrictMode,{children:r.jsx(zE,{children:r.jsx(Lie,{})})}));export{r as j};
